function Fve(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const s=Object.getOwnPropertyDescriptor(r,n);s&&Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),i}var z8={exports:{}},LA={},j8={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE=Symbol.for("react.element"),Ive=Symbol.for("react.portal"),Lve=Symbol.for("react.fragment"),_ve=Symbol.for("react.strict_mode"),Nve=Symbol.for("react.profiler"),Gve=Symbol.for("react.provider"),kve=Symbol.for("react.context"),Vve=Symbol.for("react.forward_ref"),Hve=Symbol.for("react.suspense"),$ve=Symbol.for("react.memo"),Bve=Symbol.for("react.lazy"),Wz=Symbol.iterator;function Wve(t){return t===null||typeof t!="object"?null:(t=Wz&&t[Wz]||t["@@iterator"],typeof t=="function"?t:null)}var K8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y8=Object.assign,q8={};function Ov(t,e,i){this.props=t,this.context=e,this.refs=q8,this.updater=i||K8}Ov.prototype.isReactComponent={};Ov.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ov.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X8(){}X8.prototype=Ov.prototype;function Ek(t,e,i){this.props=t,this.context=e,this.refs=q8,this.updater=i||K8}var bk=Ek.prototype=new X8;bk.constructor=Ek;Y8(bk,Ov.prototype);bk.isPureReactComponent=!0;var Uz=Array.isArray,Q8=Object.prototype.hasOwnProperty,Rk={current:null},Z8={key:!0,ref:!0,__self:!0,__source:!0};function J8(t,e,i){var r,n={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Q8.call(e,r)&&!Z8.hasOwnProperty(r)&&(n[r]=e[r]);var a=arguments.length-2;if(a===1)n.children=i;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)n[r]===void 0&&(n[r]=a[r]);return{$$typeof:HE,type:t,key:s,ref:o,props:n,_owner:Rk.current}}function Uve(t,e){return{$$typeof:HE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tk(t){return typeof t=="object"&&t!==null&&t.$$typeof===HE}function zve(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var zz=/\/+/g;function mI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zve(""+t.key):e.toString(36)}function JT(t,e,i,r,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case HE:case Ive:o=!0}}if(o)return o=t,n=n(o),t=r===""?"."+mI(o,0):r,Uz(n)?(i="",t!=null&&(i=t.replace(zz,"$&/")+"/"),JT(n,e,i,"",function(u){return u})):n!=null&&(Tk(n)&&(n=Uve(n,i+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(zz,"$&/")+"/")+t)),e.push(n)),1;if(o=0,r=r===""?".":r+":",Uz(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mI(s,a);o+=JT(s,e,i,l,n)}else if(l=Wve(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mI(s,a++),o+=JT(s,e,i,l,n);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function XR(t,e,i){if(t==null)return t;var r=[],n=0;return JT(t,r,"","",function(s){return e.call(i,s,n++)}),r}function jve(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rs={current:null},eD={transition:null},Kve={ReactCurrentDispatcher:Rs,ReactCurrentBatchConfig:eD,ReactCurrentOwner:Rk};zt.Children={map:XR,forEach:function(t,e,i){XR(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return XR(t,function(){e++}),e},toArray:function(t){return XR(t,function(e){return e})||[]},only:function(t){if(!Tk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};zt.Component=Ov;zt.Fragment=Lve;zt.Profiler=Nve;zt.PureComponent=Ek;zt.StrictMode=_ve;zt.Suspense=Hve;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kve;zt.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Y8({},t.props),n=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rk.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Q8.call(e,l)&&!Z8.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=i;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:HE,type:t.type,key:n,ref:s,props:r,_owner:o}};zt.createContext=function(t){return t={$$typeof:kve,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gve,_context:t},t.Consumer=t};zt.createElement=J8;zt.createFactory=function(t){var e=J8.bind(null,t);return e.type=t,e};zt.createRef=function(){return{current:null}};zt.forwardRef=function(t){return{$$typeof:Vve,render:t}};zt.isValidElement=Tk;zt.lazy=function(t){return{$$typeof:Bve,_payload:{_status:-1,_result:t},_init:jve}};zt.memo=function(t,e){return{$$typeof:$ve,type:t,compare:e===void 0?null:e}};zt.startTransition=function(t){var e=eD.transition;eD.transition={};try{t()}finally{eD.transition=e}};zt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zt.useCallback=function(t,e){return Rs.current.useCallback(t,e)};zt.useContext=function(t){return Rs.current.useContext(t)};zt.useDebugValue=function(){};zt.useDeferredValue=function(t){return Rs.current.useDeferredValue(t)};zt.useEffect=function(t,e){return Rs.current.useEffect(t,e)};zt.useId=function(){return Rs.current.useId()};zt.useImperativeHandle=function(t,e,i){return Rs.current.useImperativeHandle(t,e,i)};zt.useInsertionEffect=function(t,e){return Rs.current.useInsertionEffect(t,e)};zt.useLayoutEffect=function(t,e){return Rs.current.useLayoutEffect(t,e)};zt.useMemo=function(t,e){return Rs.current.useMemo(t,e)};zt.useReducer=function(t,e,i){return Rs.current.useReducer(t,e,i)};zt.useRef=function(t){return Rs.current.useRef(t)};zt.useState=function(t){return Rs.current.useState(t)};zt.useSyncExternalStore=function(t,e,i){return Rs.current.useSyncExternalStore(t,e,i)};zt.useTransition=function(){return Rs.current.useTransition()};zt.version="18.2.0";j8.exports=zt;var T=j8.exports;const W=Pt(T),YD=Fve({__proto__:null,default:W},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yve=T,qve=Symbol.for("react.element"),Xve=Symbol.for("react.fragment"),Qve=Object.prototype.hasOwnProperty,Zve=Yve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jve={key:!0,ref:!0,__self:!0,__source:!0};function e9(t,e,i){var r,n={},s=null,o=null;i!==void 0&&(s=""+i),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Qve.call(e,r)&&!Jve.hasOwnProperty(r)&&(n[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)n[r]===void 0&&(n[r]=e[r]);return{$$typeof:qve,type:t,key:s,ref:o,props:n,_owner:Zve.current}}LA.Fragment=Xve;LA.jsx=e9;LA.jsxs=e9;z8.exports=LA;var Y=z8.exports,D_={},t9={exports:{}},zo={},i9={exports:{}},r9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,X){var te=H.length;H.push(X);e:for(;0<te;){var le=te-1>>>1,J=H[le];if(0<n(J,X))H[le]=X,H[te]=J,te=le;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],te=H.pop();if(te!==X){H[0]=te;e:for(var le=0,J=H.length,ie=J>>>1;le<ie;){var ue=2*(le+1)-1,me=H[ue],se=ue+1,he=H[se];if(0>n(me,te))se<J&&0>n(he,me)?(H[le]=he,H[se]=te,le=se):(H[le]=me,H[ue]=te,le=ue);else if(se<J&&0>n(he,te))H[le]=he,H[se]=te,le=se;else break e}}return X}function n(H,X){var te=H.sortIndex-X.sortIndex;return te!==0?te:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,g=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var X=i(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=H)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=i(u)}}function E(H){if(v=!1,w(H),!g)if(i(l)!==null)g=!0,j(b);else{var X=i(u);X!==null&&Q(E,X.startTime-H)}}function b(H,X){g=!1,v&&(v=!1,S(O),O=-1),f=!0;var te=h;try{for(w(X),d=i(l);d!==null&&(!(d.expirationTime>X)||H&&!L());){var le=d.callback;if(typeof le=="function"){d.callback=null,h=d.priorityLevel;var J=le(d.expirationTime<=X);X=t.unstable_now(),typeof J=="function"?d.callback=J:d===i(l)&&r(l),w(X)}else r(l);d=i(l)}if(d!==null)var ie=!0;else{var ue=i(u);ue!==null&&Q(E,ue.startTime-X),ie=!1}return ie}finally{d=null,h=te,f=!1}}var D=!1,P=null,O=-1,N=5,_=-1;function L(){return!(t.unstable_now()-_<N)}function k(){if(P!==null){var H=t.unstable_now();_=H;var X=!0;try{X=P(!0,H)}finally{X?$():(D=!1,P=null)}}else D=!1}var $;if(typeof y=="function")$=function(){y(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=k,$=function(){K.postMessage(null)}}else $=function(){C(k,0)};function j(H){P=H,D||(D=!0,$())}function Q(H,X){O=C(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,j(b))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var te=h;h=X;try{return H()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=h;h=H;try{return X()}finally{h=te}},t.unstable_scheduleCallback=function(H,X,te){var le=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,H){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=te+J,H={id:c++,callback:X,priorityLevel:H,startTime:te,expirationTime:J,sortIndex:-1},te>le?(H.sortIndex=te,e(u,H),i(l)===null&&H===i(u)&&(v?(S(O),O=-1):v=!0,Q(E,te-le))):(H.sortIndex=J,e(l,H),g||f||(g=!0,j(b))),H},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(H){var X=h;return function(){var te=h;h=X;try{return H.apply(this,arguments)}finally{h=te}}}})(r9);i9.exports=r9;var eCe=i9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n9=T,Ho=eCe;function He(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s9=new Set,RS={};function Cf(t,e){Dm(t,e),Dm(t+"Capture",e)}function Dm(t,e){for(RS[t]=e,t=0;t<e.length;t++)s9.add(e[t])}var dc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P_=Object.prototype.hasOwnProperty,tCe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jz={},Kz={};function iCe(t){return P_.call(Kz,t)?!0:P_.call(jz,t)?!1:tCe.test(t)?Kz[t]=!0:(jz[t]=!0,!1)}function rCe(t,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nCe(t,e,i,r){if(e===null||typeof e>"u"||rCe(t,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ts(t,e,i,r,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new Ts(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new Ts(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new Ts(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new Ts(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new Ts(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new Ts(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new Ts(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new Ts(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new Ts(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dk=/[\-:]([a-z])/g;function Pk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dk,Pk);kn[e]=new Ts(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dk,Pk);kn[e]=new Ts(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dk,Pk);kn[e]=new Ts(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new Ts(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new Ts("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new Ts(t,1,!1,t.toLowerCase(),null,!0,!0)});function xk(t,e,i,r){var n=kn.hasOwnProperty(e)?kn[e]:null;(n!==null?n.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nCe(e,i,n,r)&&(i=null),r||n===null?iCe(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):n.mustUseProperty?t[n.propertyName]=i===null?n.type===3?!1:"":i:(e=n.attributeName,r=n.attributeNamespace,i===null?t.removeAttribute(e):(n=n.type,i=n===3||n===4&&i===!0?"":""+i,r?t.setAttributeNS(r,e,i):t.setAttribute(e,i))))}var Fc=n9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,QR=Symbol.for("react.element"),Hg=Symbol.for("react.portal"),$g=Symbol.for("react.fragment"),Ak=Symbol.for("react.strict_mode"),x_=Symbol.for("react.profiler"),o9=Symbol.for("react.provider"),a9=Symbol.for("react.context"),Ok=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),O_=Symbol.for("react.suspense_list"),Mk=Symbol.for("react.memo"),gd=Symbol.for("react.lazy"),l9=Symbol.for("react.offscreen"),Yz=Symbol.iterator;function jC(t){return t===null||typeof t!="object"?null:(t=Yz&&t[Yz]||t["@@iterator"],typeof t=="function"?t:null)}var vr=Object.assign,vI;function Py(t){if(vI===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);vI=e&&e[1]||""}return`
`+vI+t}var CI=!1;function yI(t,e){if(!t||CI)return"";CI=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),s=r.stack.split(`
`),o=n.length-1,a=s.length-1;1<=o&&0<=a&&n[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(n[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||n[o]!==s[a]){var l=`
`+n[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{CI=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?Py(t):""}function sCe(t){switch(t.tag){case 5:return Py(t.type);case 16:return Py("Lazy");case 13:return Py("Suspense");case 19:return Py("SuspenseList");case 0:case 2:case 15:return t=yI(t.type,!1),t;case 11:return t=yI(t.type.render,!1),t;case 1:return t=yI(t.type,!0),t;default:return""}}function M_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $g:return"Fragment";case Hg:return"Portal";case x_:return"Profiler";case Ak:return"StrictMode";case A_:return"Suspense";case O_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case a9:return(t.displayName||"Context")+".Consumer";case o9:return(t._context.displayName||"Context")+".Provider";case Ok:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mk:return e=t.displayName||null,e!==null?e:M_(t.type)||"Memo";case gd:e=t._payload,t=t._init;try{return M_(t(e))}catch{}}return null}function oCe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M_(e);case 8:return e===Ak?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aCe(t){var e=u9(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ZR(t){t._valueTracker||(t._valueTracker=aCe(t))}function c9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=u9(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function qD(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function F_(t,e){var i=e.checked;return vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function qz(t,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=Wd(e.value!=null?e.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d9(t,e){e=e.checked,e!=null&&xk(t,"checked",e,!1)}function I_(t,e){d9(t,e);var i=Wd(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?L_(t,e.type,i):e.hasOwnProperty("defaultValue")&&L_(t,e.type,Wd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xz(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function L_(t,e,i){(e!=="number"||qD(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var xy=Array.isArray;function sm(t,e,i,r){if(t=t.options,e){e={};for(var n=0;n<i.length;n++)e["$"+i[n]]=!0;for(i=0;i<t.length;i++)n=e.hasOwnProperty("$"+t[i].value),t[i].selected!==n&&(t[i].selected=n),n&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Wd(i),e=null,n=0;n<t.length;n++){if(t[n].value===i){t[n].selected=!0,r&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function __(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return vr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qz(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(He(92));if(xy(i)){if(1<i.length)throw Error(He(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:Wd(i)}}function h9(t,e){var i=Wd(e.value),r=Wd(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),r!=null&&(t.defaultValue=""+r)}function Zz(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function p9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?p9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var JR,f9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,n){MSApp.execUnsafeLocalFunction(function(){return t(e,i,r,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(JR=JR||document.createElement("div"),JR.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=JR.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function TS(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Zy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lCe=["Webkit","ms","Moz","O"];Object.keys(Zy).forEach(function(t){lCe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zy[e]=Zy[t]})});function g9(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Zy.hasOwnProperty(t)&&Zy[t]?(""+e).trim():e+"px"}function m9(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,n=g9(i,e[i],r);i==="float"&&(i="cssFloat"),r?t.setProperty(i,n):t[i]=n}}var uCe=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G_(t,e){if(e){if(uCe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function k_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V_=null;function Fk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var H_=null,om=null,am=null;function Jz(t){if(t=WE(t)){if(typeof H_!="function")throw Error(He(280));var e=t.stateNode;e&&(e=VA(e),H_(t.stateNode,t.type,e))}}function v9(t){om?am?am.push(t):am=[t]:om=t}function C9(){if(om){var t=om,e=am;if(am=om=null,Jz(t),e)for(t=0;t<e.length;t++)Jz(e[t])}}function y9(t,e){return t(e)}function S9(){}var SI=!1;function w9(t,e,i){if(SI)return t(e,i);SI=!0;try{return y9(t,e,i)}finally{SI=!1,(om!==null||am!==null)&&(S9(),C9())}}function DS(t,e){var i=t.stateNode;if(i===null)return null;var r=VA(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(He(231,e,typeof i));return i}var $_=!1;if(dc)try{var KC={};Object.defineProperty(KC,"passive",{get:function(){$_=!0}}),window.addEventListener("test",KC,KC),window.removeEventListener("test",KC,KC)}catch{$_=!1}function cCe(t,e,i,r,n,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(c){this.onError(c)}}var Jy=!1,XD=null,QD=!1,B_=null,dCe={onError:function(t){Jy=!0,XD=t}};function hCe(t,e,i,r,n,s,o,a,l){Jy=!1,XD=null,cCe.apply(dCe,arguments)}function pCe(t,e,i,r,n,s,o,a,l){if(hCe.apply(this,arguments),Jy){if(Jy){var u=XD;Jy=!1,XD=null}else throw Error(He(198));QD||(QD=!0,B_=u)}}function yf(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function E9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ej(t){if(yf(t)!==t)throw Error(He(188))}function fCe(t){var e=t.alternate;if(!e){if(e=yf(t),e===null)throw Error(He(188));return e!==t?null:t}for(var i=t,r=e;;){var n=i.return;if(n===null)break;var s=n.alternate;if(s===null){if(r=n.return,r!==null){i=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===i)return ej(n),t;if(s===r)return ej(n),e;s=s.sibling}throw Error(He(188))}if(i.return!==r.return)i=n,r=s;else{for(var o=!1,a=n.child;a;){if(a===i){o=!0,i=n,r=s;break}if(a===r){o=!0,r=n,i=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===i){o=!0,i=s,r=n;break}if(a===r){o=!0,r=s,i=n;break}a=a.sibling}if(!o)throw Error(He(189))}}if(i.alternate!==r)throw Error(He(190))}if(i.tag!==3)throw Error(He(188));return i.stateNode.current===i?t:e}function b9(t){return t=fCe(t),t!==null?R9(t):null}function R9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R9(t);if(e!==null)return e;t=t.sibling}return null}var T9=Ho.unstable_scheduleCallback,tj=Ho.unstable_cancelCallback,gCe=Ho.unstable_shouldYield,mCe=Ho.unstable_requestPaint,Fr=Ho.unstable_now,vCe=Ho.unstable_getCurrentPriorityLevel,Ik=Ho.unstable_ImmediatePriority,D9=Ho.unstable_UserBlockingPriority,ZD=Ho.unstable_NormalPriority,CCe=Ho.unstable_LowPriority,P9=Ho.unstable_IdlePriority,_A=null,du=null;function yCe(t){if(du&&typeof du.onCommitFiberRoot=="function")try{du.onCommitFiberRoot(_A,t,void 0,(t.current.flags&128)===128)}catch{}}var El=Math.clz32?Math.clz32:ECe,SCe=Math.log,wCe=Math.LN2;function ECe(t){return t>>>=0,t===0?32:31-(SCe(t)/wCe|0)|0}var eT=64,tT=4194304;function Ay(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function JD(t,e){var i=t.pendingLanes;if(i===0)return 0;var r=0,n=t.suspendedLanes,s=t.pingedLanes,o=i&268435455;if(o!==0){var a=o&~n;a!==0?r=Ay(a):(s&=o,s!==0&&(r=Ay(s)))}else o=i&~n,o!==0?r=Ay(o):s!==0&&(r=Ay(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&n)&&(n=r&-r,s=e&-e,n>=s||n===16&&(s&4194240)!==0))return e;if(r&4&&(r|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)i=31-El(e),n=1<<i,r|=t[i],e&=~n;return r}function bCe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RCe(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,n=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-El(s),a=1<<o,l=n[o];l===-1?(!(a&i)||a&r)&&(n[o]=bCe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function W_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function x9(){var t=eT;return eT<<=1,!(eT&4194240)&&(eT=64),t}function wI(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function $E(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-El(e),t[e]=i}function TCe(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<i;){var n=31-El(i),s=1<<n;e[n]=0,r[n]=-1,t[n]=-1,i&=~s}}function Lk(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-El(i),n=1<<r;n&e|t[r]&e&&(t[r]|=e),i&=~n}}var Ri=0;function A9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O9,_k,M9,F9,I9,U_=!1,iT=[],xd=null,Ad=null,Od=null,PS=new Map,xS=new Map,Cd=[],DCe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ij(t,e){switch(t){case"focusin":case"focusout":xd=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":Od=null;break;case"pointerover":case"pointerout":PS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xS.delete(e.pointerId)}}function YC(t,e,i,r,n,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:s,targetContainers:[n]},e!==null&&(e=WE(e),e!==null&&_k(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function PCe(t,e,i,r,n){switch(e){case"focusin":return xd=YC(xd,t,e,i,r,n),!0;case"dragenter":return Ad=YC(Ad,t,e,i,r,n),!0;case"mouseover":return Od=YC(Od,t,e,i,r,n),!0;case"pointerover":var s=n.pointerId;return PS.set(s,YC(PS.get(s)||null,t,e,i,r,n)),!0;case"gotpointercapture":return s=n.pointerId,xS.set(s,YC(xS.get(s)||null,t,e,i,r,n)),!0}return!1}function L9(t){var e=ep(t.target);if(e!==null){var i=yf(e);if(i!==null){if(e=i.tag,e===13){if(e=E9(i),e!==null){t.blockedOn=e,I9(t.priority,function(){M9(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tD(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=z_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);V_=r,i.target.dispatchEvent(r),V_=null}else return e=WE(i),e!==null&&_k(e),t.blockedOn=i,!1;e.shift()}return!0}function rj(t,e,i){tD(t)&&i.delete(e)}function xCe(){U_=!1,xd!==null&&tD(xd)&&(xd=null),Ad!==null&&tD(Ad)&&(Ad=null),Od!==null&&tD(Od)&&(Od=null),PS.forEach(rj),xS.forEach(rj)}function qC(t,e){t.blockedOn===e&&(t.blockedOn=null,U_||(U_=!0,Ho.unstable_scheduleCallback(Ho.unstable_NormalPriority,xCe)))}function AS(t){function e(n){return qC(n,t)}if(0<iT.length){qC(iT[0],t);for(var i=1;i<iT.length;i++){var r=iT[i];r.blockedOn===t&&(r.blockedOn=null)}}for(xd!==null&&qC(xd,t),Ad!==null&&qC(Ad,t),Od!==null&&qC(Od,t),PS.forEach(e),xS.forEach(e),i=0;i<Cd.length;i++)r=Cd[i],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cd.length&&(i=Cd[0],i.blockedOn===null);)L9(i),i.blockedOn===null&&Cd.shift()}var lm=Fc.ReactCurrentBatchConfig,eP=!0;function ACe(t,e,i,r){var n=Ri,s=lm.transition;lm.transition=null;try{Ri=1,Nk(t,e,i,r)}finally{Ri=n,lm.transition=s}}function OCe(t,e,i,r){var n=Ri,s=lm.transition;lm.transition=null;try{Ri=4,Nk(t,e,i,r)}finally{Ri=n,lm.transition=s}}function Nk(t,e,i,r){if(eP){var n=z_(t,e,i,r);if(n===null)MI(t,e,r,tP,i),ij(t,r);else if(PCe(n,t,e,i,r))r.stopPropagation();else if(ij(t,r),e&4&&-1<DCe.indexOf(t)){for(;n!==null;){var s=WE(n);if(s!==null&&O9(s),s=z_(t,e,i,r),s===null&&MI(t,e,r,tP,i),s===n)break;n=s}n!==null&&r.stopPropagation()}else MI(t,e,r,null,i)}}var tP=null;function z_(t,e,i,r){if(tP=null,t=Fk(r),t=ep(t),t!==null)if(e=yf(t),e===null)t=null;else if(i=e.tag,i===13){if(t=E9(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tP=t,null}function _9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vCe()){case Ik:return 1;case D9:return 4;case ZD:case CCe:return 16;case P9:return 536870912;default:return 16}default:return 16}}var Ed=null,Gk=null,iD=null;function N9(){if(iD)return iD;var t,e=Gk,i=e.length,r,n="value"in Ed?Ed.value:Ed.textContent,s=n.length;for(t=0;t<i&&e[t]===n[t];t++);var o=i-t;for(r=1;r<=o&&e[i-r]===n[s-r];r++);return iD=n.slice(t,1<r?1-r:void 0)}function rD(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rT(){return!0}function nj(){return!1}function jo(t){function e(i,r,n,s,o){this._reactName=i,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],this[a]=i?i(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rT:nj,this.isPropagationStopped=nj,this}return vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=rT)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=rT)},persist:function(){},isPersistent:rT}),e}var Mv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kk=jo(Mv),BE=vr({},Mv,{view:0,detail:0}),MCe=jo(BE),EI,bI,XC,NA=vr({},BE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==XC&&(XC&&t.type==="mousemove"?(EI=t.screenX-XC.screenX,bI=t.screenY-XC.screenY):bI=EI=0,XC=t),EI)},movementY:function(t){return"movementY"in t?t.movementY:bI}}),sj=jo(NA),FCe=vr({},NA,{dataTransfer:0}),ICe=jo(FCe),LCe=vr({},BE,{relatedTarget:0}),RI=jo(LCe),_Ce=vr({},Mv,{animationName:0,elapsedTime:0,pseudoElement:0}),NCe=jo(_Ce),GCe=vr({},Mv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kCe=jo(GCe),VCe=vr({},Mv,{data:0}),oj=jo(VCe),HCe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$Ce={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BCe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WCe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BCe[t])?!!e[t]:!1}function Vk(){return WCe}var UCe=vr({},BE,{key:function(t){if(t.key){var e=HCe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rD(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$Ce[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vk,charCode:function(t){return t.type==="keypress"?rD(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rD(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zCe=jo(UCe),jCe=vr({},NA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aj=jo(jCe),KCe=vr({},BE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vk}),YCe=jo(KCe),qCe=vr({},Mv,{propertyName:0,elapsedTime:0,pseudoElement:0}),XCe=jo(qCe),QCe=vr({},NA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZCe=jo(QCe),JCe=[9,13,27,32],Hk=dc&&"CompositionEvent"in window,eS=null;dc&&"documentMode"in document&&(eS=document.documentMode);var eye=dc&&"TextEvent"in window&&!eS,G9=dc&&(!Hk||eS&&8<eS&&11>=eS),lj=" ",uj=!1;function k9(t,e){switch(t){case"keyup":return JCe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bg=!1;function tye(t,e){switch(t){case"compositionend":return V9(e);case"keypress":return e.which!==32?null:(uj=!0,lj);case"textInput":return t=e.data,t===lj&&uj?null:t;default:return null}}function iye(t,e){if(Bg)return t==="compositionend"||!Hk&&k9(t,e)?(t=N9(),iD=Gk=Ed=null,Bg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G9&&e.locale!=="ko"?null:e.data;default:return null}}var rye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rye[t.type]:e==="textarea"}function H9(t,e,i,r){v9(r),e=iP(e,"onChange"),0<e.length&&(i=new kk("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var tS=null,OS=null;function nye(t){Q9(t,0)}function GA(t){var e=zg(t);if(c9(e))return t}function sye(t,e){if(t==="change")return e}var $9=!1;if(dc){var TI;if(dc){var DI="oninput"in document;if(!DI){var dj=document.createElement("div");dj.setAttribute("oninput","return;"),DI=typeof dj.oninput=="function"}TI=DI}else TI=!1;$9=TI&&(!document.documentMode||9<document.documentMode)}function hj(){tS&&(tS.detachEvent("onpropertychange",B9),OS=tS=null)}function B9(t){if(t.propertyName==="value"&&GA(OS)){var e=[];H9(e,OS,t,Fk(t)),w9(nye,e)}}function oye(t,e,i){t==="focusin"?(hj(),tS=e,OS=i,tS.attachEvent("onpropertychange",B9)):t==="focusout"&&hj()}function aye(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return GA(OS)}function lye(t,e){if(t==="click")return GA(e)}function uye(t,e){if(t==="input"||t==="change")return GA(e)}function cye(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pl=typeof Object.is=="function"?Object.is:cye;function MS(t,e){if(Pl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!P_.call(e,n)||!Pl(t[n],e[n]))return!1}return!0}function pj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fj(t,e){var i=pj(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=pj(i)}}function W9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U9(){for(var t=window,e=qD();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=qD(t.document)}return e}function $k(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dye(t){var e=U9(),i=t.focusedElem,r=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&W9(i.ownerDocument.documentElement,i)){if(r!==null&&$k(i)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=i.textContent.length,s=Math.min(r.start,n);r=r.end===void 0?s:Math.min(r.end,n),!t.extend&&s>r&&(n=r,r=s,s=n),n=fj(i,s);var o=fj(i,r);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hye=dc&&"documentMode"in document&&11>=document.documentMode,Wg=null,j_=null,iS=null,K_=!1;function gj(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;K_||Wg==null||Wg!==qD(r)||(r=Wg,"selectionStart"in r&&$k(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iS&&MS(iS,r)||(iS=r,r=iP(j_,"onSelect"),0<r.length&&(e=new kk("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Wg)))}function nT(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ug={animationend:nT("Animation","AnimationEnd"),animationiteration:nT("Animation","AnimationIteration"),animationstart:nT("Animation","AnimationStart"),transitionend:nT("Transition","TransitionEnd")},PI={},z9={};dc&&(z9=document.createElement("div").style,"AnimationEvent"in window||(delete Ug.animationend.animation,delete Ug.animationiteration.animation,delete Ug.animationstart.animation),"TransitionEvent"in window||delete Ug.transitionend.transition);function kA(t){if(PI[t])return PI[t];if(!Ug[t])return t;var e=Ug[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in z9)return PI[t]=e[i];return t}var j9=kA("animationend"),K9=kA("animationiteration"),Y9=kA("animationstart"),q9=kA("transitionend"),X9=new Map,mj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ih(t,e){X9.set(t,e),Cf(e,[t])}for(var xI=0;xI<mj.length;xI++){var AI=mj[xI],pye=AI.toLowerCase(),fye=AI[0].toUpperCase()+AI.slice(1);ih(pye,"on"+fye)}ih(j9,"onAnimationEnd");ih(K9,"onAnimationIteration");ih(Y9,"onAnimationStart");ih("dblclick","onDoubleClick");ih("focusin","onFocus");ih("focusout","onBlur");ih(q9,"onTransitionEnd");Dm("onMouseEnter",["mouseout","mouseover"]);Dm("onMouseLeave",["mouseout","mouseover"]);Dm("onPointerEnter",["pointerout","pointerover"]);Dm("onPointerLeave",["pointerout","pointerover"]);Cf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oy));function vj(t,e,i){var r=t.type||"unknown-event";t.currentTarget=i,pCe(r,e,void 0,t),t.currentTarget=null}function Q9(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],n=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&n.isPropagationStopped())break e;vj(n,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&n.isPropagationStopped())break e;vj(n,a,u),s=l}}}if(QD)throw t=B_,QD=!1,B_=null,t}function Xi(t,e){var i=e[Z_];i===void 0&&(i=e[Z_]=new Set);var r=t+"__bubble";i.has(r)||(Z9(e,t,2,!1),i.add(r))}function OI(t,e,i){var r=0;e&&(r|=4),Z9(i,t,r,e)}var sT="_reactListening"+Math.random().toString(36).slice(2);function FS(t){if(!t[sT]){t[sT]=!0,s9.forEach(function(i){i!=="selectionchange"&&(gye.has(i)||OI(i,!1,t),OI(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sT]||(e[sT]=!0,OI("selectionchange",!1,e))}}function Z9(t,e,i,r){switch(_9(e)){case 1:var n=ACe;break;case 4:n=OCe;break;default:n=Nk}i=n.bind(null,e,i,t),n=void 0,!$_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),r?n!==void 0?t.addEventListener(e,i,{capture:!0,passive:n}):t.addEventListener(e,i,!0):n!==void 0?t.addEventListener(e,i,{passive:n}):t.addEventListener(e,i,!1)}function MI(t,e,i,r,n){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===n||a.nodeType===8&&a.parentNode===n)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;o=o.return}for(;a!==null;){if(o=ep(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}w9(function(){var u=s,c=Fk(i),d=[];e:{var h=X9.get(t);if(h!==void 0){var f=kk,g=t;switch(t){case"keypress":if(rD(i)===0)break e;case"keydown":case"keyup":f=zCe;break;case"focusin":g="focus",f=RI;break;case"focusout":g="blur",f=RI;break;case"beforeblur":case"afterblur":f=RI;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ICe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=YCe;break;case j9:case K9:case Y9:f=NCe;break;case q9:f=XCe;break;case"scroll":f=MCe;break;case"wheel":f=ZCe;break;case"copy":case"cut":case"paste":f=kCe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=aj}var v=(e&4)!==0,C=!v&&t==="scroll",S=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,S!==null&&(E=DS(y,S),E!=null&&v.push(IS(y,E,w)))),C)break;y=y.return}0<v.length&&(h=new f(h,g,null,i,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&i!==V_&&(g=i.relatedTarget||i.fromElement)&&(ep(g)||g[hc]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=i.relatedTarget||i.toElement,f=u,g=g?ep(g):null,g!==null&&(C=yf(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=sj,E="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=aj,E="onPointerLeave",S="onPointerEnter",y="pointer"),C=f==null?h:zg(f),w=g==null?h:zg(g),h=new v(E,y+"leave",f,i,c),h.target=C,h.relatedTarget=w,E=null,ep(c)===u&&(v=new v(S,y+"enter",g,i,c),v.target=w,v.relatedTarget=C,E=v),C=E,f&&g)t:{for(v=f,S=g,y=0,w=v;w;w=gg(w))y++;for(w=0,E=S;E;E=gg(E))w++;for(;0<y-w;)v=gg(v),y--;for(;0<w-y;)S=gg(S),w--;for(;y--;){if(v===S||S!==null&&v===S.alternate)break t;v=gg(v),S=gg(S)}v=null}else v=null;f!==null&&Cj(d,h,f,v,!1),g!==null&&C!==null&&Cj(d,C,g,v,!0)}}e:{if(h=u?zg(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=sye;else if(cj(h))if($9)b=uye;else{b=aye;var D=oye}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=lye);if(b&&(b=b(t,u))){H9(d,b,i,c);break e}D&&D(t,h,u),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&L_(h,"number",h.value)}switch(D=u?zg(u):window,t){case"focusin":(cj(D)||D.contentEditable==="true")&&(Wg=D,j_=u,iS=null);break;case"focusout":iS=j_=Wg=null;break;case"mousedown":K_=!0;break;case"contextmenu":case"mouseup":case"dragend":K_=!1,gj(d,i,c);break;case"selectionchange":if(hye)break;case"keydown":case"keyup":gj(d,i,c)}var P;if(Hk)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Bg?k9(t,i)&&(O="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(O="onCompositionStart");O&&(G9&&i.locale!=="ko"&&(Bg||O!=="onCompositionStart"?O==="onCompositionEnd"&&Bg&&(P=N9()):(Ed=c,Gk="value"in Ed?Ed.value:Ed.textContent,Bg=!0)),D=iP(u,O),0<D.length&&(O=new oj(O,t,null,i,c),d.push({event:O,listeners:D}),P?O.data=P:(P=V9(i),P!==null&&(O.data=P)))),(P=eye?tye(t,i):iye(t,i))&&(u=iP(u,"onBeforeInput"),0<u.length&&(c=new oj("onBeforeInput","beforeinput",null,i,c),d.push({event:c,listeners:u}),c.data=P))}Q9(d,e)})}function IS(t,e,i){return{instance:t,listener:e,currentTarget:i}}function iP(t,e){for(var i=e+"Capture",r=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=DS(t,i),s!=null&&r.unshift(IS(t,s,n)),s=DS(t,e),s!=null&&r.push(IS(t,s,n))),t=t.return}return r}function gg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cj(t,e,i,r,n){for(var s=e._reactName,o=[];i!==null&&i!==r;){var a=i,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,n?(l=DS(i,s),l!=null&&o.unshift(IS(i,l,a))):n||(l=DS(i,s),l!=null&&o.push(IS(i,l,a)))),i=i.return}o.length!==0&&t.push({event:e,listeners:o})}var mye=/\r\n?/g,vye=/\u0000|\uFFFD/g;function yj(t){return(typeof t=="string"?t:""+t).replace(mye,`
`).replace(vye,"")}function oT(t,e,i){if(e=yj(e),yj(t)!==e&&i)throw Error(He(425))}function rP(){}var Y_=null,q_=null;function X_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q_=typeof setTimeout=="function"?setTimeout:void 0,Cye=typeof clearTimeout=="function"?clearTimeout:void 0,Sj=typeof Promise=="function"?Promise:void 0,yye=typeof queueMicrotask=="function"?queueMicrotask:typeof Sj<"u"?function(t){return Sj.resolve(null).then(t).catch(Sye)}:Q_;function Sye(t){setTimeout(function(){throw t})}function FI(t,e){var i=e,r=0;do{var n=i.nextSibling;if(t.removeChild(i),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(r===0){t.removeChild(n),AS(e);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=n}while(i);AS(e)}function Md(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var Fv=Math.random().toString(36).slice(2),ou="__reactFiber$"+Fv,LS="__reactProps$"+Fv,hc="__reactContainer$"+Fv,Z_="__reactEvents$"+Fv,wye="__reactListeners$"+Fv,Eye="__reactHandles$"+Fv;function ep(t){var e=t[ou];if(e)return e;for(var i=t.parentNode;i;){if(e=i[hc]||i[ou]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=wj(t);t!==null;){if(i=t[ou])return i;t=wj(t)}return e}t=i,i=t.parentNode}return null}function WE(t){return t=t[ou]||t[hc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(He(33))}function VA(t){return t[LS]||null}var J_=[],jg=-1;function rh(t){return{current:t}}function er(t){0>jg||(t.current=J_[jg],J_[jg]=null,jg--)}function Bi(t,e){jg++,J_[jg]=t.current,t.current=e}var Ud={},es=rh(Ud),Zs=rh(!1),Np=Ud;function Pm(t,e){var i=t.type.contextTypes;if(!i)return Ud;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in i)n[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function Js(t){return t=t.childContextTypes,t!=null}function nP(){er(Zs),er(es)}function Ej(t,e,i){if(es.current!==Ud)throw Error(He(168));Bi(es,e),Bi(Zs,i)}function J9(t,e,i){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var n in r)if(!(n in e))throw Error(He(108,oCe(t)||"Unknown",n));return vr({},i,r)}function sP(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ud,Np=es.current,Bi(es,t),Bi(Zs,Zs.current),!0}function bj(t,e,i){var r=t.stateNode;if(!r)throw Error(He(169));i?(t=J9(t,e,Np),r.__reactInternalMemoizedMergedChildContext=t,er(Zs),er(es),Bi(es,t)):er(Zs),Bi(Zs,i)}var Zu=null,HA=!1,II=!1;function e7(t){Zu===null?Zu=[t]:Zu.push(t)}function bye(t){HA=!0,e7(t)}function nh(){if(!II&&Zu!==null){II=!0;var t=0,e=Ri;try{var i=Zu;for(Ri=1;t<i.length;t++){var r=i[t];do r=r(!0);while(r!==null)}Zu=null,HA=!1}catch(n){throw Zu!==null&&(Zu=Zu.slice(t+1)),T9(Ik,nh),n}finally{Ri=e,II=!1}}return null}var Kg=[],Yg=0,oP=null,aP=0,ma=[],va=0,Gp=null,tc=1,ic="";function kh(t,e){Kg[Yg++]=aP,Kg[Yg++]=oP,oP=t,aP=e}function t7(t,e,i){ma[va++]=tc,ma[va++]=ic,ma[va++]=Gp,Gp=t;var r=tc;t=ic;var n=32-El(r)-1;r&=~(1<<n),i+=1;var s=32-El(e)+n;if(30<s){var o=n-n%5;s=(r&(1<<o)-1).toString(32),r>>=o,n-=o,tc=1<<32-El(e)+n|i<<n|r,ic=s+t}else tc=1<<s|i<<n|r,ic=t}function Bk(t){t.return!==null&&(kh(t,1),t7(t,1,0))}function Wk(t){for(;t===oP;)oP=Kg[--Yg],Kg[Yg]=null,aP=Kg[--Yg],Kg[Yg]=null;for(;t===Gp;)Gp=ma[--va],ma[va]=null,ic=ma[--va],ma[va]=null,tc=ma[--va],ma[va]=null}var Go=null,Mo=null,cr=!1,pl=null;function i7(t,e){var i=Ea(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function Rj(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Go=t,Mo=Md(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Go=t,Mo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=Gp!==null?{id:tc,overflow:ic}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=Ea(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,Go=t,Mo=null,!0):!1;default:return!1}}function eN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tN(t){if(cr){var e=Mo;if(e){var i=e;if(!Rj(t,e)){if(eN(t))throw Error(He(418));e=Md(i.nextSibling);var r=Go;e&&Rj(t,e)?i7(r,i):(t.flags=t.flags&-4097|2,cr=!1,Go=t)}}else{if(eN(t))throw Error(He(418));t.flags=t.flags&-4097|2,cr=!1,Go=t}}}function Tj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Go=t}function aT(t){if(t!==Go)return!1;if(!cr)return Tj(t),cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!X_(t.type,t.memoizedProps)),e&&(e=Mo)){if(eN(t))throw r7(),Error(He(418));for(;e;)i7(t,e),e=Md(e.nextSibling)}if(Tj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(He(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){Mo=Md(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}Mo=null}}else Mo=Go?Md(t.stateNode.nextSibling):null;return!0}function r7(){for(var t=Mo;t;)t=Md(t.nextSibling)}function xm(){Mo=Go=null,cr=!1}function Uk(t){pl===null?pl=[t]:pl.push(t)}var Rye=Fc.ReactCurrentBatchConfig;function ll(t,e){if(t&&t.defaultProps){e=vr({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var lP=rh(null),uP=null,qg=null,zk=null;function jk(){zk=qg=uP=null}function Kk(t){var e=lP.current;er(lP),t._currentValue=e}function iN(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function um(t,e){uP=t,zk=qg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(js=!0),t.firstContext=null)}function Ia(t){var e=t._currentValue;if(zk!==t)if(t={context:t,memoizedValue:e,next:null},qg===null){if(uP===null)throw Error(He(308));qg=t,uP.dependencies={lanes:0,firstContext:t}}else qg=qg.next=t;return e}var tp=null;function Yk(t){tp===null?tp=[t]:tp.push(t)}function n7(t,e,i,r){var n=e.interleaved;return n===null?(i.next=i,Yk(e)):(i.next=n.next,n.next=i),e.interleaved=i,pc(t,r)}function pc(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var md=!1;function qk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ac(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fd(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ti&2){var n=r.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),r.pending=e,pc(t,i)}return n=r.interleaved,n===null?(e.next=e,Yk(r)):(e.next=n.next,n.next=e),r.interleaved=e,pc(t,i)}function nD(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Lk(t,i)}}function Dj(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var n=null,s=null;if(i=i.firstBaseUpdate,i!==null){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};s===null?n=s=o:s=s.next=o,i=i.next}while(i!==null);s===null?n=s=e:s=s.next=e}else n=s=e;i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function cP(t,e,i,r){var n=t.updateQueue;md=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(a!==null){n.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=n.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,f=i,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=vr({},d,h);break e;case 2:md=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=n.effects,h===null?n.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=n.shared.pending,a===null)break;h=a,a=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(c===null&&(l=d),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do o|=n.lane,n=n.next;while(n!==e)}else s===null&&(n.shared.lanes=0);Vp|=o,t.lanes=o,t.memoizedState=d}}function Pj(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],n=r.callback;if(n!==null){if(r.callback=null,r=i,typeof n!="function")throw Error(He(191,n));n.call(r)}}}var o7=new n9.Component().refs;function rN(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:vr({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var $A={isMounted:function(t){return(t=t._reactInternals)?yf(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var r=ys(),n=Ld(t),s=ac(r,n);s.payload=e,i!=null&&(s.callback=i),e=Fd(t,s,n),e!==null&&(bl(e,t,n,r),nD(e,t,n))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=ys(),n=Ld(t),s=ac(r,n);s.tag=1,s.payload=e,i!=null&&(s.callback=i),e=Fd(t,s,n),e!==null&&(bl(e,t,n,r),nD(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=ys(),r=Ld(t),n=ac(i,r);n.tag=2,e!=null&&(n.callback=e),e=Fd(t,n,r),e!==null&&(bl(e,t,r,i),nD(e,t,r))}};function xj(t,e,i,r,n,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!MS(i,r)||!MS(n,s):!0}function a7(t,e,i){var r=!1,n=Ud,s=e.contextType;return typeof s=="object"&&s!==null?s=Ia(s):(n=Js(e)?Np:es.current,r=e.contextTypes,s=(r=r!=null)?Pm(t,n):Ud),e=new e(i,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$A,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function Aj(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&$A.enqueueReplaceState(e,e.state,null)}function nN(t,e,i,r){var n=t.stateNode;n.props=i,n.state=t.memoizedState,n.refs=o7,qk(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=Ia(s):(s=Js(e)?Np:es.current,n.context=Pm(t,s)),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rN(t,e,s,i),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&$A.enqueueReplaceState(n,n.state,null),cP(t,i,n,r),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function QC(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(He(309));var r=i.stateNode}if(!r)throw Error(He(147,t));var n=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=n.refs;a===o7&&(a=n.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(He(284));if(!i._owner)throw Error(He(290,t))}return t}function lT(t,e){throw t=Object.prototype.toString.call(e),Error(He(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Oj(t){var e=t._init;return e(t._payload)}function l7(t){function e(S,y){if(t){var w=S.deletions;w===null?(S.deletions=[y],S.flags|=16):w.push(y)}}function i(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function n(S,y){return S=_d(S,y),S.index=0,S.sibling=null,S}function s(S,y,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<y?(S.flags|=2,y):w):(S.flags|=2,y)):(S.flags|=1048576,y)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,y,w,E){return y===null||y.tag!==6?(y=HI(w,S.mode,E),y.return=S,y):(y=n(y,w),y.return=S,y)}function l(S,y,w,E){var b=w.type;return b===$g?c(S,y,w.props.children,E,w.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gd&&Oj(b)===y.type)?(E=n(y,w.props),E.ref=QC(S,y,w),E.return=S,E):(E=cD(w.type,w.key,w.props,null,S.mode,E),E.ref=QC(S,y,w),E.return=S,E)}function u(S,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=$I(w,S.mode,E),y.return=S,y):(y=n(y,w.children||[]),y.return=S,y)}function c(S,y,w,E,b){return y===null||y.tag!==7?(y=fp(w,S.mode,E,b),y.return=S,y):(y=n(y,w),y.return=S,y)}function d(S,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=HI(""+y,S.mode,w),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case QR:return w=cD(y.type,y.key,y.props,null,S.mode,w),w.ref=QC(S,null,y),w.return=S,w;case Hg:return y=$I(y,S.mode,w),y.return=S,y;case gd:var E=y._init;return d(S,E(y._payload),w)}if(xy(y)||jC(y))return y=fp(y,S.mode,w,null),y.return=S,y;lT(S,y)}return null}function h(S,y,w,E){var b=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(S,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case QR:return w.key===b?l(S,y,w,E):null;case Hg:return w.key===b?u(S,y,w,E):null;case gd:return b=w._init,h(S,y,b(w._payload),E)}if(xy(w)||jC(w))return b!==null?null:c(S,y,w,E,null);lT(S,w)}return null}function f(S,y,w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return S=S.get(w)||null,a(y,S,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case QR:return S=S.get(E.key===null?w:E.key)||null,l(y,S,E,b);case Hg:return S=S.get(E.key===null?w:E.key)||null,u(y,S,E,b);case gd:var D=E._init;return f(S,y,w,D(E._payload),b)}if(xy(E)||jC(E))return S=S.get(w)||null,c(y,S,E,b,null);lT(y,E)}return null}function g(S,y,w,E){for(var b=null,D=null,P=y,O=y=0,N=null;P!==null&&O<w.length;O++){P.index>O?(N=P,P=null):N=P.sibling;var _=h(S,P,w[O],E);if(_===null){P===null&&(P=N);break}t&&P&&_.alternate===null&&e(S,P),y=s(_,y,O),D===null?b=_:D.sibling=_,D=_,P=N}if(O===w.length)return i(S,P),cr&&kh(S,O),b;if(P===null){for(;O<w.length;O++)P=d(S,w[O],E),P!==null&&(y=s(P,y,O),D===null?b=P:D.sibling=P,D=P);return cr&&kh(S,O),b}for(P=r(S,P);O<w.length;O++)N=f(P,S,O,w[O],E),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?O:N.key),y=s(N,y,O),D===null?b=N:D.sibling=N,D=N);return t&&P.forEach(function(L){return e(S,L)}),cr&&kh(S,O),b}function v(S,y,w,E){var b=jC(w);if(typeof b!="function")throw Error(He(150));if(w=b.call(w),w==null)throw Error(He(151));for(var D=b=null,P=y,O=y=0,N=null,_=w.next();P!==null&&!_.done;O++,_=w.next()){P.index>O?(N=P,P=null):N=P.sibling;var L=h(S,P,_.value,E);if(L===null){P===null&&(P=N);break}t&&P&&L.alternate===null&&e(S,P),y=s(L,y,O),D===null?b=L:D.sibling=L,D=L,P=N}if(_.done)return i(S,P),cr&&kh(S,O),b;if(P===null){for(;!_.done;O++,_=w.next())_=d(S,_.value,E),_!==null&&(y=s(_,y,O),D===null?b=_:D.sibling=_,D=_);return cr&&kh(S,O),b}for(P=r(S,P);!_.done;O++,_=w.next())_=f(P,S,O,_.value,E),_!==null&&(t&&_.alternate!==null&&P.delete(_.key===null?O:_.key),y=s(_,y,O),D===null?b=_:D.sibling=_,D=_);return t&&P.forEach(function(k){return e(S,k)}),cr&&kh(S,O),b}function C(S,y,w,E){if(typeof w=="object"&&w!==null&&w.type===$g&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case QR:e:{for(var b=w.key,D=y;D!==null;){if(D.key===b){if(b=w.type,b===$g){if(D.tag===7){i(S,D.sibling),y=n(D,w.props.children),y.return=S,S=y;break e}}else if(D.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gd&&Oj(b)===D.type){i(S,D.sibling),y=n(D,w.props),y.ref=QC(S,D,w),y.return=S,S=y;break e}i(S,D);break}else e(S,D);D=D.sibling}w.type===$g?(y=fp(w.props.children,S.mode,E,w.key),y.return=S,S=y):(E=cD(w.type,w.key,w.props,null,S.mode,E),E.ref=QC(S,y,w),E.return=S,S=E)}return o(S);case Hg:e:{for(D=w.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){i(S,y.sibling),y=n(y,w.children||[]),y.return=S,S=y;break e}else{i(S,y);break}else e(S,y);y=y.sibling}y=$I(w,S.mode,E),y.return=S,S=y}return o(S);case gd:return D=w._init,C(S,y,D(w._payload),E)}if(xy(w))return g(S,y,w,E);if(jC(w))return v(S,y,w,E);lT(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(i(S,y.sibling),y=n(y,w),y.return=S,S=y):(i(S,y),y=HI(w,S.mode,E),y.return=S,S=y),o(S)):i(S,y)}return C}var Am=l7(!0),u7=l7(!1),UE={},hu=rh(UE),_S=rh(UE),NS=rh(UE);function ip(t){if(t===UE)throw Error(He(174));return t}function Xk(t,e){switch(Bi(NS,e),Bi(_S,t),Bi(hu,UE),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=N_(e,t)}er(hu),Bi(hu,e)}function Om(){er(hu),er(_S),er(NS)}function c7(t){ip(NS.current);var e=ip(hu.current),i=N_(e,t.type);e!==i&&(Bi(_S,t),Bi(hu,i))}function Qk(t){_S.current===t&&(er(hu),er(_S))}var gr=rh(0);function dP(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LI=[];function Zk(){for(var t=0;t<LI.length;t++)LI[t]._workInProgressVersionPrimary=null;LI.length=0}var sD=Fc.ReactCurrentDispatcher,_I=Fc.ReactCurrentBatchConfig,kp=0,mr=null,rn=null,pn=null,hP=!1,rS=!1,GS=0,Tye=0;function Un(){throw Error(He(321))}function Jk(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Pl(t[i],e[i]))return!1;return!0}function eV(t,e,i,r,n,s){if(kp=s,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sD.current=t===null||t.memoizedState===null?Aye:Oye,t=i(r,n),rS){s=0;do{if(rS=!1,GS=0,25<=s)throw Error(He(301));s+=1,pn=rn=null,e.updateQueue=null,sD.current=Mye,t=i(r,n)}while(rS)}if(sD.current=pP,e=rn!==null&&rn.next!==null,kp=0,pn=rn=mr=null,hP=!1,e)throw Error(He(300));return t}function tV(){var t=GS!==0;return GS=0,t}function tu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?mr.memoizedState=pn=t:pn=pn.next=t,pn}function La(){if(rn===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var e=pn===null?mr.memoizedState:pn.next;if(e!==null)pn=e,rn=t;else{if(t===null)throw Error(He(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},pn===null?mr.memoizedState=pn=t:pn=pn.next=t}return pn}function kS(t,e){return typeof e=="function"?e(t):e}function NI(t){var e=La(),i=e.queue;if(i===null)throw Error(He(311));i.lastRenderedReducer=t;var r=rn,n=r.baseQueue,s=i.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}r.baseQueue=n=s,i.pending=null}if(n!==null){s=n.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((kp&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,mr.lanes|=c,Vp|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Pl(r,e.memoizedState)||(js=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,i.lastRenderedState=r}if(t=i.interleaved,t!==null){n=t;do s=n.lane,mr.lanes|=s,Vp|=s,n=n.next;while(n!==t)}else n===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function GI(t){var e=La(),i=e.queue;if(i===null)throw Error(He(311));i.lastRenderedReducer=t;var r=i.dispatch,n=i.pending,s=e.memoizedState;if(n!==null){i.pending=null;var o=n=n.next;do s=t(s,o.action),o=o.next;while(o!==n);Pl(s,e.memoizedState)||(js=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),i.lastRenderedState=s}return[s,r]}function d7(){}function h7(t,e){var i=mr,r=La(),n=e(),s=!Pl(r.memoizedState,n);if(s&&(r.memoizedState=n,js=!0),r=r.queue,iV(g7.bind(null,i,r,t),[t]),r.getSnapshot!==e||s||pn!==null&&pn.memoizedState.tag&1){if(i.flags|=2048,VS(9,f7.bind(null,i,r,n,e),void 0,null),yn===null)throw Error(He(349));kp&30||p7(i,e,n)}return n}function p7(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function f7(t,e,i,r){e.value=i,e.getSnapshot=r,m7(e)&&v7(t)}function g7(t,e,i){return i(function(){m7(e)&&v7(t)})}function m7(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Pl(t,i)}catch{return!0}}function v7(t){var e=pc(t,1);e!==null&&bl(e,t,1,-1)}function Mj(t){var e=tu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kS,lastRenderedState:t},e.queue=t,t=t.dispatch=xye.bind(null,mr,t),[e.memoizedState,t]}function VS(t,e,i,r){return t={tag:t,create:e,destroy:i,deps:r,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t)),t}function C7(){return La().memoizedState}function oD(t,e,i,r){var n=tu();mr.flags|=t,n.memoizedState=VS(1|e,i,void 0,r===void 0?null:r)}function BA(t,e,i,r){var n=La();r=r===void 0?null:r;var s=void 0;if(rn!==null){var o=rn.memoizedState;if(s=o.destroy,r!==null&&Jk(r,o.deps)){n.memoizedState=VS(e,i,s,r);return}}mr.flags|=t,n.memoizedState=VS(1|e,i,s,r)}function Fj(t,e){return oD(8390656,8,t,e)}function iV(t,e){return BA(2048,8,t,e)}function y7(t,e){return BA(4,2,t,e)}function S7(t,e){return BA(4,4,t,e)}function w7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E7(t,e,i){return i=i!=null?i.concat([t]):null,BA(4,4,w7.bind(null,e,t),i)}function rV(){}function b7(t,e){var i=La();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&Jk(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function R7(t,e){var i=La();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&Jk(e,r[1])?r[0]:(t=t(),i.memoizedState=[t,e],t)}function T7(t,e,i){return kp&21?(Pl(i,e)||(i=x9(),mr.lanes|=i,Vp|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,js=!0),t.memoizedState=i)}function Dye(t,e){var i=Ri;Ri=i!==0&&4>i?i:4,t(!0);var r=_I.transition;_I.transition={};try{t(!1),e()}finally{Ri=i,_I.transition=r}}function D7(){return La().memoizedState}function Pye(t,e,i){var r=Ld(t);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},P7(t))x7(e,i);else if(i=n7(t,e,i,r),i!==null){var n=ys();bl(i,t,r,n),A7(i,e,r)}}function xye(t,e,i){var r=Ld(t),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(P7(t))x7(e,n);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,i);if(n.hasEagerState=!0,n.eagerState=a,Pl(a,o)){var l=e.interleaved;l===null?(n.next=n,Yk(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}i=n7(t,e,n,r),i!==null&&(n=ys(),bl(i,t,r,n),A7(i,e,r))}}function P7(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function x7(t,e){rS=hP=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function A7(t,e,i){if(i&4194240){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Lk(t,i)}}var pP={readContext:Ia,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},Aye={readContext:Ia,useCallback:function(t,e){return tu().memoizedState=[t,e===void 0?null:e],t},useContext:Ia,useEffect:Fj,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,oD(4194308,4,w7.bind(null,e,t),i)},useLayoutEffect:function(t,e){return oD(4194308,4,t,e)},useInsertionEffect:function(t,e){return oD(4,2,t,e)},useMemo:function(t,e){var i=tu();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var r=tu();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Pye.bind(null,mr,t),[r.memoizedState,t]},useRef:function(t){var e=tu();return t={current:t},e.memoizedState=t},useState:Mj,useDebugValue:rV,useDeferredValue:function(t){return tu().memoizedState=t},useTransition:function(){var t=Mj(!1),e=t[0];return t=Dye.bind(null,t[1]),tu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var r=mr,n=tu();if(cr){if(i===void 0)throw Error(He(407));i=i()}else{if(i=e(),yn===null)throw Error(He(349));kp&30||p7(r,e,i)}n.memoizedState=i;var s={value:i,getSnapshot:e};return n.queue=s,Fj(g7.bind(null,r,s,t),[t]),r.flags|=2048,VS(9,f7.bind(null,r,s,i,e),void 0,null),i},useId:function(){var t=tu(),e=yn.identifierPrefix;if(cr){var i=ic,r=tc;i=(r&~(1<<32-El(r)-1)).toString(32)+i,e=":"+e+"R"+i,i=GS++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=Tye++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Oye={readContext:Ia,useCallback:b7,useContext:Ia,useEffect:iV,useImperativeHandle:E7,useInsertionEffect:y7,useLayoutEffect:S7,useMemo:R7,useReducer:NI,useRef:C7,useState:function(){return NI(kS)},useDebugValue:rV,useDeferredValue:function(t){var e=La();return T7(e,rn.memoizedState,t)},useTransition:function(){var t=NI(kS)[0],e=La().memoizedState;return[t,e]},useMutableSource:d7,useSyncExternalStore:h7,useId:D7,unstable_isNewReconciler:!1},Mye={readContext:Ia,useCallback:b7,useContext:Ia,useEffect:iV,useImperativeHandle:E7,useInsertionEffect:y7,useLayoutEffect:S7,useMemo:R7,useReducer:GI,useRef:C7,useState:function(){return GI(kS)},useDebugValue:rV,useDeferredValue:function(t){var e=La();return rn===null?e.memoizedState=t:T7(e,rn.memoizedState,t)},useTransition:function(){var t=GI(kS)[0],e=La().memoizedState;return[t,e]},useMutableSource:d7,useSyncExternalStore:h7,useId:D7,unstable_isNewReconciler:!1};function Mm(t,e){try{var i="",r=e;do i+=sCe(r),r=r.return;while(r);var n=i}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n,digest:null}}function kI(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function sN(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var Fye=typeof WeakMap=="function"?WeakMap:Map;function O7(t,e,i){i=ac(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){gP||(gP=!0,gN=r),sN(t,e)},i}function M7(t,e,i){i=ac(-1,i),i.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var n=e.value;i.payload=function(){return r(n)},i.callback=function(){sN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(i.callback=function(){sN(t,e),typeof r!="function"&&(Id===null?Id=new Set([this]):Id.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),i}function Ij(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Fye;var n=new Set;r.set(e,n)}else n=r.get(e),n===void 0&&(n=new Set,r.set(e,n));n.has(i)||(n.add(i),t=jye.bind(null,t,e,i),e.then(t,t))}function Lj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _j(t,e,i,r,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=ac(-1,1),e.tag=2,Fd(i,e,1))),i.lanes|=1),t)}var Iye=Fc.ReactCurrentOwner,js=!1;function fs(t,e,i,r){e.child=t===null?u7(e,null,i,r):Am(e,t.child,i,r)}function Nj(t,e,i,r,n){i=i.render;var s=e.ref;return um(e,n),r=eV(t,e,i,r,s,n),i=tV(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,fc(t,e,n)):(cr&&i&&Bk(e),e.flags|=1,fs(t,e,r,n),e.child)}function Gj(t,e,i,r,n){if(t===null){var s=i.type;return typeof s=="function"&&!dV(s)&&s.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=s,F7(t,e,s,r,n)):(t=cD(i.type,null,r,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&n)){var o=s.memoizedProps;if(i=i.compare,i=i!==null?i:MS,i(o,r)&&t.ref===e.ref)return fc(t,e,n)}return e.flags|=1,t=_d(s,r),t.ref=e.ref,t.return=e,e.child=t}function F7(t,e,i,r,n){if(t!==null){var s=t.memoizedProps;if(MS(s,r)&&t.ref===e.ref)if(js=!1,e.pendingProps=r=s,(t.lanes&n)!==0)t.flags&131072&&(js=!0);else return e.lanes=t.lanes,fc(t,e,n)}return oN(t,e,i,r,n)}function I7(t,e,i){var r=e.pendingProps,n=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bi(Qg,So),So|=i;else{if(!(i&1073741824))return t=s!==null?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bi(Qg,So),So|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:i,Bi(Qg,So),So|=r}else s!==null?(r=s.baseLanes|i,e.memoizedState=null):r=i,Bi(Qg,So),So|=r;return fs(t,e,n,i),e.child}function L7(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function oN(t,e,i,r,n){var s=Js(i)?Np:es.current;return s=Pm(e,s),um(e,n),i=eV(t,e,i,r,s,n),r=tV(),t!==null&&!js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,fc(t,e,n)):(cr&&r&&Bk(e),e.flags|=1,fs(t,e,i,n),e.child)}function kj(t,e,i,r,n){if(Js(i)){var s=!0;sP(e)}else s=!1;if(um(e,n),e.stateNode===null)aD(t,e),a7(e,i,r),nN(e,i,r,n),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=i.contextType;typeof u=="object"&&u!==null?u=Ia(u):(u=Js(i)?Np:es.current,u=Pm(e,u));var c=i.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Aj(e,o,r,u),md=!1;var h=e.memoizedState;o.state=h,cP(e,r,o,n),l=e.memoizedState,a!==r||h!==l||Zs.current||md?(typeof c=="function"&&(rN(e,i,c,r),l=e.memoizedState),(a=md||xj(e,i,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,s7(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ll(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=i.contextType,typeof l=="object"&&l!==null?l=Ia(l):(l=Js(i)?Np:es.current,l=Pm(e,l));var f=i.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Aj(e,o,r,l),md=!1,h=e.memoizedState,o.state=h,cP(e,r,o,n);var g=e.memoizedState;a!==d||h!==g||Zs.current||md?(typeof f=="function"&&(rN(e,i,f,r),g=e.memoizedState),(u=md||xj(e,i,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return aN(t,e,i,r,s,n)}function aN(t,e,i,r,n,s){L7(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return n&&bj(e,i,!1),fc(t,e,s);r=e.stateNode,Iye.current=e;var a=o&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Am(e,t.child,null,s),e.child=Am(e,null,a,s)):fs(t,e,a,s),e.memoizedState=r.state,n&&bj(e,i,!0),e.child}function _7(t){var e=t.stateNode;e.pendingContext?Ej(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ej(t,e.context,!1),Xk(t,e.containerInfo)}function Vj(t,e,i,r,n){return xm(),Uk(n),e.flags|=256,fs(t,e,i,r),e.child}var lN={dehydrated:null,treeContext:null,retryLane:0};function uN(t){return{baseLanes:t,cachePool:null,transitions:null}}function N7(t,e,i){var r=e.pendingProps,n=gr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(n&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Bi(gr,n&1),t===null)return tN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zA(o,r,0,null),t=fp(t,r,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uN(i),e.memoizedState=lN,t):nV(e,o));if(n=t.memoizedState,n!==null&&(a=n.dehydrated,a!==null))return Lye(t,e,o,r,a,n,i);if(s){s=r.fallback,o=e.mode,n=t.child,a=n.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==n?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_d(n,l),r.subtreeFlags=n.subtreeFlags&14680064),a!==null?s=_d(a,s):(s=fp(s,o,i,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?uN(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~i,e.memoizedState=lN,r}return s=t.child,t=s.sibling,r=_d(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=i),r.return=e,r.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function nV(t,e){return e=zA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uT(t,e,i,r){return r!==null&&Uk(r),Am(e,t.child,null,i),t=nV(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lye(t,e,i,r,n,s,o){if(i)return e.flags&256?(e.flags&=-257,r=kI(Error(He(422))),uT(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,n=e.mode,r=zA({mode:"visible",children:r.children},n,0,null),s=fp(s,n,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Am(e,t.child,null,o),e.child.memoizedState=uN(o),e.memoizedState=lN,s);if(!(e.mode&1))return uT(t,e,o,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(He(419)),r=kI(s,r,void 0),uT(t,e,o,r)}if(a=(o&t.childLanes)!==0,js||a){if(r=yn,r!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|o)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,pc(t,n),bl(r,t,n,-1))}return cV(),r=kI(Error(He(421))),uT(t,e,o,r)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=Kye.bind(null,t),n._reactRetry=e,null):(t=s.treeContext,Mo=Md(n.nextSibling),Go=e,cr=!0,pl=null,t!==null&&(ma[va++]=tc,ma[va++]=ic,ma[va++]=Gp,tc=t.id,ic=t.overflow,Gp=e),e=nV(e,r.children),e.flags|=4096,e)}function Hj(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iN(t.return,e,i)}function VI(t,e,i,r,n){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=i,s.tailMode=n)}function G7(t,e,i){var r=e.pendingProps,n=r.revealOrder,s=r.tail;if(fs(t,e,r.children,i),r=gr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hj(t,i,e);else if(t.tag===19)Hj(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bi(gr,r),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(i=e.child,n=null;i!==null;)t=i.alternate,t!==null&&dP(t)===null&&(n=i),i=i.sibling;i=n,i===null?(n=e.child,e.child=null):(n=i.sibling,i.sibling=null),VI(e,!1,n,i,s);break;case"backwards":for(i=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&dP(t)===null){e.child=n;break}t=n.sibling,n.sibling=i,i=n,n=t}VI(e,!0,i,null,s);break;case"together":VI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function aD(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fc(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Vp|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(He(153));if(e.child!==null){for(t=e.child,i=_d(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=_d(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function _ye(t,e,i){switch(e.tag){case 3:_7(e),xm();break;case 5:c7(e);break;case 1:Js(e.type)&&sP(e);break;case 4:Xk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,n=e.memoizedProps.value;Bi(lP,r._currentValue),r._currentValue=n;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bi(gr,gr.current&1),e.flags|=128,null):i&e.child.childLanes?N7(t,e,i):(Bi(gr,gr.current&1),t=fc(t,e,i),t!==null?t.sibling:null);Bi(gr,gr.current&1);break;case 19:if(r=(i&e.childLanes)!==0,t.flags&128){if(r)return G7(t,e,i);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Bi(gr,gr.current),r)break;return null;case 22:case 23:return e.lanes=0,I7(t,e,i)}return fc(t,e,i)}var k7,cN,V7,H7;k7=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};cN=function(){};V7=function(t,e,i,r){var n=t.memoizedProps;if(n!==r){t=e.stateNode,ip(hu.current);var s=null;switch(i){case"input":n=F_(t,n),r=F_(t,r),s=[];break;case"select":n=vr({},n,{value:void 0}),r=vr({},r,{value:void 0}),s=[];break;case"textarea":n=__(t,n),r=__(t,r),s=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rP)}G_(i,r);var o;i=null;for(u in n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var a=n[u];for(o in a)a.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(RS.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=n!=null?n[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(i||(i={}),i[o]=l[o])}else i||(s||(s=[]),s.push(u,i)),i=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(RS.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xi("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}i&&(s=s||[]).push("style",i);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};H7=function(t,e,i,r){i!==r&&(e.flags|=4)};function ZC(t,e){if(!cr)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var n=t.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function Nye(t,e,i){var r=e.pendingProps;switch(Wk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(e),null;case 1:return Js(e.type)&&nP(),zn(e),null;case 3:return r=e.stateNode,Om(),er(Zs),er(es),Zk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(aT(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pl!==null&&(CN(pl),pl=null))),cN(t,e),zn(e),null;case 5:Qk(e);var n=ip(NS.current);if(i=e.type,t!==null&&e.stateNode!=null)V7(t,e,i,r,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(He(166));return zn(e),null}if(t=ip(hu.current),aT(e)){r=e.stateNode,i=e.type;var s=e.memoizedProps;switch(r[ou]=e,r[LS]=s,t=(e.mode&1)!==0,i){case"dialog":Xi("cancel",r),Xi("close",r);break;case"iframe":case"object":case"embed":Xi("load",r);break;case"video":case"audio":for(n=0;n<Oy.length;n++)Xi(Oy[n],r);break;case"source":Xi("error",r);break;case"img":case"image":case"link":Xi("error",r),Xi("load",r);break;case"details":Xi("toggle",r);break;case"input":qz(r,s),Xi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xi("invalid",r);break;case"textarea":Qz(r,s),Xi("invalid",r)}G_(i,s),n=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&oT(r.textContent,a,t),n=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oT(r.textContent,a,t),n=["children",""+a]):RS.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xi("scroll",r)}switch(i){case"input":ZR(r),Xz(r,s,!0);break;case"textarea":ZR(r),Zz(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rP)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=p9(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(i,{is:r.is}):(t=o.createElement(i),i==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,i),t[ou]=e,t[LS]=r,k7(t,e,!1,!1),e.stateNode=t;e:{switch(o=k_(i,r),i){case"dialog":Xi("cancel",t),Xi("close",t),n=r;break;case"iframe":case"object":case"embed":Xi("load",t),n=r;break;case"video":case"audio":for(n=0;n<Oy.length;n++)Xi(Oy[n],t);n=r;break;case"source":Xi("error",t),n=r;break;case"img":case"image":case"link":Xi("error",t),Xi("load",t),n=r;break;case"details":Xi("toggle",t),n=r;break;case"input":qz(t,r),n=F_(t,r),Xi("invalid",t);break;case"option":n=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},n=vr({},r,{value:void 0}),Xi("invalid",t);break;case"textarea":Qz(t,r),n=__(t,r),Xi("invalid",t);break;default:n=r}G_(i,n),a=n;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?m9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f9(t,l)):s==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&TS(t,l):typeof l=="number"&&TS(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(RS.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xi("scroll",t):l!=null&&xk(t,s,l,o))}switch(i){case"input":ZR(t),Xz(t,r,!1);break;case"textarea":ZR(t),Zz(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wd(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?sm(t,!!r.multiple,s,!1):r.defaultValue!=null&&sm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=rP)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zn(e),null;case 6:if(t&&e.stateNode!=null)H7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(He(166));if(i=ip(NS.current),ip(hu.current),aT(e)){if(r=e.stateNode,i=e.memoizedProps,r[ou]=e,(s=r.nodeValue!==i)&&(t=Go,t!==null))switch(t.tag){case 3:oT(r.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oT(r.nodeValue,i,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[ou]=e,e.stateNode=r}return zn(e),null;case 13:if(er(gr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cr&&Mo!==null&&e.mode&1&&!(e.flags&128))r7(),xm(),e.flags|=98560,s=!1;else if(s=aT(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[ou]=e}else xm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zn(e),s=!1}else pl!==null&&(CN(pl),pl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gr.current&1?nn===0&&(nn=3):cV())),e.updateQueue!==null&&(e.flags|=4),zn(e),null);case 4:return Om(),cN(t,e),t===null&&FS(e.stateNode.containerInfo),zn(e),null;case 10:return Kk(e.type._context),zn(e),null;case 17:return Js(e.type)&&nP(),zn(e),null;case 19:if(er(gr),s=e.memoizedState,s===null)return zn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ZC(s,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dP(t),o!==null){for(e.flags|=128,ZC(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=i,i=e.child;i!==null;)s=i,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Bi(gr,gr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fr()>Fm&&(e.flags|=128,r=!0,ZC(s,!1),e.lanes=4194304)}else{if(!r)if(t=dP(o),t!==null){if(e.flags|=128,r=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),ZC(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cr)return zn(e),null}else 2*Fr()-s.renderingStartTime>Fm&&i!==1073741824&&(e.flags|=128,r=!0,ZC(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(i=s.last,i!==null?i.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fr(),e.sibling=null,i=gr.current,Bi(gr,r?i&1|2:i&1),e):(zn(e),null);case 22:case 23:return uV(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?So&1073741824&&(zn(e),e.subtreeFlags&6&&(e.flags|=8192)):zn(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function Gye(t,e){switch(Wk(e),e.tag){case 1:return Js(e.type)&&nP(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Om(),er(Zs),er(es),Zk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qk(e),null;case 13:if(er(gr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(He(340));xm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(gr),null;case 4:return Om(),null;case 10:return Kk(e.type._context),null;case 22:case 23:return uV(),null;case 24:return null;default:return null}}var cT=!1,qn=!1,kye=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Xg(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){Er(t,e,r)}else i.current=null}function dN(t,e,i){try{i()}catch(r){Er(t,e,r)}}var $j=!1;function Vye(t,e){if(Y_=eP,t=U9(),$k(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var n=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{i.nodeType,s.nodeType}catch{i=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==i||n!==0&&d.nodeType!==3||(a=o+n),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===i&&++u===n&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}i=a===-1||l===-1?null:{start:a,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(q_={focusedElem:t,selectionRange:i},eP=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){e=Ze;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,C=g.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:ll(e.type,v),C);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(E){Er(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}return g=$j,$j=!1,g}function nS(t,e,i){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var s=n.destroy;n.destroy=void 0,s!==void 0&&dN(e,i,s)}n=n.next}while(n!==r)}}function WA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var r=i.create;i.destroy=r()}i=i.next}while(i!==e)}}function hN(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function $7(t){var e=t.alternate;e!==null&&(t.alternate=null,$7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ou],delete e[LS],delete e[Z_],delete e[wye],delete e[Eye])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B7(t){return t.tag===5||t.tag===3||t.tag===4}function Bj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pN(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=rP));else if(r!==4&&(t=t.child,t!==null))for(pN(t,e,i),t=t.sibling;t!==null;)pN(t,e,i),t=t.sibling}function fN(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fN(t,e,i),t=t.sibling;t!==null;)fN(t,e,i),t=t.sibling}var Fn=null,ul=!1;function ad(t,e,i){for(i=i.child;i!==null;)W7(t,e,i),i=i.sibling}function W7(t,e,i){if(du&&typeof du.onCommitFiberUnmount=="function")try{du.onCommitFiberUnmount(_A,i)}catch{}switch(i.tag){case 5:qn||Xg(i,e);case 6:var r=Fn,n=ul;Fn=null,ad(t,e,i),Fn=r,ul=n,Fn!==null&&(ul?(t=Fn,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Fn.removeChild(i.stateNode));break;case 18:Fn!==null&&(ul?(t=Fn,i=i.stateNode,t.nodeType===8?FI(t.parentNode,i):t.nodeType===1&&FI(t,i),AS(t)):FI(Fn,i.stateNode));break;case 4:r=Fn,n=ul,Fn=i.stateNode.containerInfo,ul=!0,ad(t,e,i),Fn=r,ul=n;break;case 0:case 11:case 14:case 15:if(!qn&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var s=n,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dN(i,e,o),n=n.next}while(n!==r)}ad(t,e,i);break;case 1:if(!qn&&(Xg(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(a){Er(i,e,a)}ad(t,e,i);break;case 21:ad(t,e,i);break;case 22:i.mode&1?(qn=(r=qn)||i.memoizedState!==null,ad(t,e,i),qn=r):ad(t,e,i);break;default:ad(t,e,i)}}function Wj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new kye),e.forEach(function(r){var n=Yye.bind(null,t,r);i.has(r)||(i.add(r),r.then(n,n))})}}function sl(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var n=i[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,ul=!1;break e;case 3:Fn=a.stateNode.containerInfo,ul=!0;break e;case 4:Fn=a.stateNode.containerInfo,ul=!0;break e}a=a.return}if(Fn===null)throw Error(He(160));W7(s,o,n),Fn=null,ul=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(u){Er(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U7(e,t),e=e.sibling}function U7(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sl(e,t),jl(t),r&4){try{nS(3,t,t.return),WA(3,t)}catch(v){Er(t,t.return,v)}try{nS(5,t,t.return)}catch(v){Er(t,t.return,v)}}break;case 1:sl(e,t),jl(t),r&512&&i!==null&&Xg(i,i.return);break;case 5:if(sl(e,t),jl(t),r&512&&i!==null&&Xg(i,i.return),t.flags&32){var n=t.stateNode;try{TS(n,"")}catch(v){Er(t,t.return,v)}}if(r&4&&(n=t.stateNode,n!=null)){var s=t.memoizedProps,o=i!==null?i.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&d9(n,s),k_(a,o);var u=k_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?m9(n,d):c==="dangerouslySetInnerHTML"?f9(n,d):c==="children"?TS(n,d):xk(n,c,d,u)}switch(a){case"input":I_(n,s);break;case"textarea":h9(n,s);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?sm(n,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?sm(n,!!s.multiple,s.defaultValue,!0):sm(n,!!s.multiple,s.multiple?[]:"",!1))}n[LS]=s}catch(v){Er(t,t.return,v)}}break;case 6:if(sl(e,t),jl(t),r&4){if(t.stateNode===null)throw Error(He(162));n=t.stateNode,s=t.memoizedProps;try{n.nodeValue=s}catch(v){Er(t,t.return,v)}}break;case 3:if(sl(e,t),jl(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{AS(e.containerInfo)}catch(v){Er(t,t.return,v)}break;case 4:sl(e,t),jl(t);break;case 13:sl(e,t),jl(t),n=t.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(aV=Fr())),r&4&&Wj(t);break;case 22:if(c=i!==null&&i.memoizedState!==null,t.mode&1?(qn=(u=qn)||c,sl(e,t),qn=u):sl(e,t),jl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ze=t,c=t.child;c!==null;){for(d=Ze=c;Ze!==null;){switch(h=Ze,f=h.child,h.tag){case 0:case 11:case 14:case 15:nS(4,h,h.return);break;case 1:Xg(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,i=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Er(r,i,v)}}break;case 5:Xg(h,h.return);break;case 22:if(h.memoizedState!==null){zj(d);continue}}f!==null?(f.return=h,Ze=f):zj(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,u?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=g9("display",o))}catch(v){Er(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Er(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:sl(e,t),jl(t),r&4&&Wj(t);break;case 21:break;default:sl(e,t),jl(t)}}function jl(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(B7(i)){var r=i;break e}i=i.return}throw Error(He(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(TS(n,""),r.flags&=-33);var s=Bj(t);fN(t,s,n);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bj(t);pN(t,a,o);break;default:throw Error(He(161))}}catch(l){Er(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hye(t,e,i){Ze=t,z7(t)}function z7(t,e,i){for(var r=(t.mode&1)!==0;Ze!==null;){var n=Ze,s=n.child;if(n.tag===22&&r){var o=n.memoizedState!==null||cT;if(!o){var a=n.alternate,l=a!==null&&a.memoizedState!==null||qn;a=cT;var u=qn;if(cT=o,(qn=l)&&!u)for(Ze=n;Ze!==null;)o=Ze,l=o.child,o.tag===22&&o.memoizedState!==null?jj(n):l!==null?(l.return=o,Ze=l):jj(n);for(;s!==null;)Ze=s,z7(s),s=s.sibling;Ze=n,cT=a,qn=u}Uj(t)}else n.subtreeFlags&8772&&s!==null?(s.return=n,Ze=s):Uj(t)}}function Uj(t){for(;Ze!==null;){var e=Ze;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qn||WA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qn)if(i===null)r.componentDidMount();else{var n=e.elementType===e.type?i.memoizedProps:ll(e.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Pj(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}Pj(e,o,i)}break;case 5:var a=e.stateNode;if(i===null&&e.flags&4){i=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&AS(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}qn||e.flags&512&&hN(e)}catch(h){Er(e,e.return,h)}}if(e===t){Ze=null;break}if(i=e.sibling,i!==null){i.return=e.return,Ze=i;break}Ze=e.return}}function zj(t){for(;Ze!==null;){var e=Ze;if(e===t){Ze=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Ze=i;break}Ze=e.return}}function jj(t){for(;Ze!==null;){var e=Ze;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{WA(4,e)}catch(l){Er(e,i,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var n=e.return;try{r.componentDidMount()}catch(l){Er(e,n,l)}}var s=e.return;try{hN(e)}catch(l){Er(e,s,l)}break;case 5:var o=e.return;try{hN(e)}catch(l){Er(e,o,l)}}}catch(l){Er(e,e.return,l)}if(e===t){Ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ze=a;break}Ze=e.return}}var $ye=Math.ceil,fP=Fc.ReactCurrentDispatcher,sV=Fc.ReactCurrentOwner,Da=Fc.ReactCurrentBatchConfig,ti=0,yn=null,zr=null,Gn=0,So=0,Qg=rh(0),nn=0,HS=null,Vp=0,UA=0,oV=0,sS=null,zs=null,aV=0,Fm=1/0,qu=null,gP=!1,gN=null,Id=null,dT=!1,bd=null,mP=0,oS=0,mN=null,lD=-1,uD=0;function ys(){return ti&6?Fr():lD!==-1?lD:lD=Fr()}function Ld(t){return t.mode&1?ti&2&&Gn!==0?Gn&-Gn:Rye.transition!==null?(uD===0&&(uD=x9()),uD):(t=Ri,t!==0||(t=window.event,t=t===void 0?16:_9(t.type)),t):1}function bl(t,e,i,r){if(50<oS)throw oS=0,mN=null,Error(He(185));$E(t,i,r),(!(ti&2)||t!==yn)&&(t===yn&&(!(ti&2)&&(UA|=i),nn===4&&yd(t,Gn)),eo(t,r),i===1&&ti===0&&!(e.mode&1)&&(Fm=Fr()+500,HA&&nh()))}function eo(t,e){var i=t.callbackNode;RCe(t,e);var r=JD(t,t===yn?Gn:0);if(r===0)i!==null&&tj(i),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(i!=null&&tj(i),e===1)t.tag===0?bye(Kj.bind(null,t)):e7(Kj.bind(null,t)),yye(function(){!(ti&6)&&nh()}),i=null;else{switch(A9(r)){case 1:i=Ik;break;case 4:i=D9;break;case 16:i=ZD;break;case 536870912:i=P9;break;default:i=ZD}i=J7(i,j7.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function j7(t,e){if(lD=-1,uD=0,ti&6)throw Error(He(327));var i=t.callbackNode;if(cm()&&t.callbackNode!==i)return null;var r=JD(t,t===yn?Gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vP(t,r);else{e=r;var n=ti;ti|=2;var s=Y7();(yn!==t||Gn!==e)&&(qu=null,Fm=Fr()+500,pp(t,e));do try{Uye();break}catch(a){K7(t,a)}while(!0);jk(),fP.current=s,ti=n,zr!==null?e=0:(yn=null,Gn=0,e=nn)}if(e!==0){if(e===2&&(n=W_(t),n!==0&&(r=n,e=vN(t,n))),e===1)throw i=HS,pp(t,0),yd(t,r),eo(t,Fr()),i;if(e===6)yd(t,r);else{if(n=t.current.alternate,!(r&30)&&!Bye(n)&&(e=vP(t,r),e===2&&(s=W_(t),s!==0&&(r=s,e=vN(t,s))),e===1))throw i=HS,pp(t,0),yd(t,r),eo(t,Fr()),i;switch(t.finishedWork=n,t.finishedLanes=r,e){case 0:case 1:throw Error(He(345));case 2:Vh(t,zs,qu);break;case 3:if(yd(t,r),(r&130023424)===r&&(e=aV+500-Fr(),10<e)){if(JD(t,0)!==0)break;if(n=t.suspendedLanes,(n&r)!==r){ys(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Q_(Vh.bind(null,t,zs,qu),e);break}Vh(t,zs,qu);break;case 4:if(yd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,n=-1;0<r;){var o=31-El(r);s=1<<o,o=e[o],o>n&&(n=o),r&=~s}if(r=n,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$ye(r/1960))-r,10<r){t.timeoutHandle=Q_(Vh.bind(null,t,zs,qu),r);break}Vh(t,zs,qu);break;case 5:Vh(t,zs,qu);break;default:throw Error(He(329))}}}return eo(t,Fr()),t.callbackNode===i?j7.bind(null,t):null}function vN(t,e){var i=sS;return t.current.memoizedState.isDehydrated&&(pp(t,e).flags|=256),t=vP(t,e),t!==2&&(e=zs,zs=i,e!==null&&CN(e)),t}function CN(t){zs===null?zs=t:zs.push.apply(zs,t)}function Bye(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var n=i[r],s=n.getSnapshot;n=n.value;try{if(!Pl(s(),n))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yd(t,e){for(e&=~oV,e&=~UA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-El(e),r=1<<i;t[i]=-1,e&=~r}}function Kj(t){if(ti&6)throw Error(He(327));cm();var e=JD(t,0);if(!(e&1))return eo(t,Fr()),null;var i=vP(t,e);if(t.tag!==0&&i===2){var r=W_(t);r!==0&&(e=r,i=vN(t,r))}if(i===1)throw i=HS,pp(t,0),yd(t,e),eo(t,Fr()),i;if(i===6)throw Error(He(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vh(t,zs,qu),eo(t,Fr()),null}function lV(t,e){var i=ti;ti|=1;try{return t(e)}finally{ti=i,ti===0&&(Fm=Fr()+500,HA&&nh())}}function Hp(t){bd!==null&&bd.tag===0&&!(ti&6)&&cm();var e=ti;ti|=1;var i=Da.transition,r=Ri;try{if(Da.transition=null,Ri=1,t)return t()}finally{Ri=r,Da.transition=i,ti=e,!(ti&6)&&nh()}}function uV(){So=Qg.current,er(Qg)}function pp(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,Cye(i)),zr!==null)for(i=zr.return;i!==null;){var r=i;switch(Wk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nP();break;case 3:Om(),er(Zs),er(es),Zk();break;case 5:Qk(r);break;case 4:Om();break;case 13:er(gr);break;case 19:er(gr);break;case 10:Kk(r.type._context);break;case 22:case 23:uV()}i=i.return}if(yn=t,zr=t=_d(t.current,null),Gn=So=e,nn=0,HS=null,oV=UA=Vp=0,zs=sS=null,tp!==null){for(e=0;e<tp.length;e++)if(i=tp[e],r=i.interleaved,r!==null){i.interleaved=null;var n=r.next,s=i.pending;if(s!==null){var o=s.next;s.next=n,r.next=o}i.pending=r}tp=null}return t}function K7(t,e){do{var i=zr;try{if(jk(),sD.current=pP,hP){for(var r=mr.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}hP=!1}if(kp=0,pn=rn=mr=null,rS=!1,GS=0,sV.current=null,i===null||i.return===null){nn=1,HS=e,zr=null;break}e:{var s=t,o=i.return,a=i,l=e;if(e=Gn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Lj(o);if(f!==null){f.flags&=-257,_j(f,o,a,s,e),f.mode&1&&Ij(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Ij(s,u,e),cV();break e}l=Error(He(426))}}else if(cr&&a.mode&1){var C=Lj(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),_j(C,o,a,s,e),Uk(Mm(l,a));break e}}s=l=Mm(l,a),nn!==4&&(nn=2),sS===null?sS=[s]:sS.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=O7(s,l,e);Dj(s,S);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Id===null||!Id.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=M7(s,a,e);Dj(s,E);break e}}s=s.return}while(s!==null)}X7(i)}catch(b){e=b,zr===i&&i!==null&&(zr=i=i.return);continue}break}while(!0)}function Y7(){var t=fP.current;return fP.current=pP,t===null?pP:t}function cV(){(nn===0||nn===3||nn===2)&&(nn=4),yn===null||!(Vp&268435455)&&!(UA&268435455)||yd(yn,Gn)}function vP(t,e){var i=ti;ti|=2;var r=Y7();(yn!==t||Gn!==e)&&(qu=null,pp(t,e));do try{Wye();break}catch(n){K7(t,n)}while(!0);if(jk(),ti=i,fP.current=r,zr!==null)throw Error(He(261));return yn=null,Gn=0,nn}function Wye(){for(;zr!==null;)q7(zr)}function Uye(){for(;zr!==null&&!gCe();)q7(zr)}function q7(t){var e=Z7(t.alternate,t,So);t.memoizedProps=t.pendingProps,e===null?X7(t):zr=e,sV.current=null}function X7(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=Gye(i,e),i!==null){i.flags&=32767,zr=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,zr=null;return}}else if(i=Nye(i,e,So),i!==null){zr=i;return}if(e=e.sibling,e!==null){zr=e;return}zr=e=t}while(e!==null);nn===0&&(nn=5)}function Vh(t,e,i){var r=Ri,n=Da.transition;try{Da.transition=null,Ri=1,zye(t,e,i,r)}finally{Da.transition=n,Ri=r}return null}function zye(t,e,i,r){do cm();while(bd!==null);if(ti&6)throw Error(He(327));i=t.finishedWork;var n=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(He(177));t.callbackNode=null,t.callbackPriority=0;var s=i.lanes|i.childLanes;if(TCe(t,s),t===yn&&(zr=yn=null,Gn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||dT||(dT=!0,J7(ZD,function(){return cm(),null})),s=(i.flags&15990)!==0,i.subtreeFlags&15990||s){s=Da.transition,Da.transition=null;var o=Ri;Ri=1;var a=ti;ti|=4,sV.current=null,Vye(t,i),U7(i,t),dye(q_),eP=!!Y_,q_=Y_=null,t.current=i,Hye(i),mCe(),ti=a,Ri=o,Da.transition=s}else t.current=i;if(dT&&(dT=!1,bd=t,mP=n),s=t.pendingLanes,s===0&&(Id=null),yCe(i.stateNode),eo(t,Fr()),e!==null)for(r=t.onRecoverableError,i=0;i<e.length;i++)n=e[i],r(n.value,{componentStack:n.stack,digest:n.digest});if(gP)throw gP=!1,t=gN,gN=null,t;return mP&1&&t.tag!==0&&cm(),s=t.pendingLanes,s&1?t===mN?oS++:(oS=0,mN=t):oS=0,nh(),null}function cm(){if(bd!==null){var t=A9(mP),e=Da.transition,i=Ri;try{if(Da.transition=null,Ri=16>t?16:t,bd===null)var r=!1;else{if(t=bd,bd=null,mP=0,ti&6)throw Error(He(331));var n=ti;for(ti|=4,Ze=t.current;Ze!==null;){var s=Ze,o=s.child;if(Ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ze=u;Ze!==null;){var c=Ze;switch(c.tag){case 0:case 11:case 15:nS(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ze=d;else for(;Ze!==null;){c=Ze;var h=c.sibling,f=c.return;if($7(c),c===u){Ze=null;break}if(h!==null){h.return=f,Ze=h;break}Ze=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}Ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ze=o;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nS(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Ze=S;break e}Ze=s.return}}var y=t.current;for(Ze=y;Ze!==null;){o=Ze;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ze=w;else e:for(o=y;Ze!==null;){if(a=Ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:WA(9,a)}}catch(b){Er(a,a.return,b)}if(a===o){Ze=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ze=E;break e}Ze=a.return}}if(ti=n,nh(),du&&typeof du.onPostCommitFiberRoot=="function")try{du.onPostCommitFiberRoot(_A,t)}catch{}r=!0}return r}finally{Ri=i,Da.transition=e}}return!1}function Yj(t,e,i){e=Mm(i,e),e=O7(t,e,1),t=Fd(t,e,1),e=ys(),t!==null&&($E(t,1,e),eo(t,e))}function Er(t,e,i){if(t.tag===3)Yj(t,t,i);else for(;e!==null;){if(e.tag===3){Yj(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Id===null||!Id.has(r))){t=Mm(i,t),t=M7(e,t,1),e=Fd(e,t,1),t=ys(),e!==null&&($E(e,1,t),eo(e,t));break}}e=e.return}}function jye(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),e=ys(),t.pingedLanes|=t.suspendedLanes&i,yn===t&&(Gn&i)===i&&(nn===4||nn===3&&(Gn&130023424)===Gn&&500>Fr()-aV?pp(t,0):oV|=i),eo(t,e)}function Q7(t,e){e===0&&(t.mode&1?(e=tT,tT<<=1,!(tT&130023424)&&(tT=4194304)):e=1);var i=ys();t=pc(t,e),t!==null&&($E(t,e,i),eo(t,i))}function Kye(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Q7(t,i)}function Yye(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,n=t.memoizedState;n!==null&&(i=n.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(e),Q7(t,i)}var Z7;Z7=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zs.current)js=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return js=!1,_ye(t,e,i);js=!!(t.flags&131072)}else js=!1,cr&&e.flags&1048576&&t7(e,aP,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;aD(t,e),t=e.pendingProps;var n=Pm(e,es.current);um(e,i),n=eV(null,e,r,t,n,i);var s=tV();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Js(r)?(s=!0,sP(e)):s=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,qk(e),n.updater=$A,e.stateNode=n,n._reactInternals=e,nN(e,r,t,i),e=aN(null,e,r,!0,s,i)):(e.tag=0,cr&&s&&Bk(e),fs(null,e,n,i),e=e.child),e;case 16:r=e.elementType;e:{switch(aD(t,e),t=e.pendingProps,n=r._init,r=n(r._payload),e.type=r,n=e.tag=Xye(r),t=ll(r,t),n){case 0:e=oN(null,e,r,t,i);break e;case 1:e=kj(null,e,r,t,i);break e;case 11:e=Nj(null,e,r,t,i);break e;case 14:e=Gj(null,e,r,ll(r.type,t),i);break e}throw Error(He(306,r,""))}return e;case 0:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ll(r,n),oN(t,e,r,n,i);case 1:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ll(r,n),kj(t,e,r,n,i);case 3:e:{if(_7(e),t===null)throw Error(He(387));r=e.pendingProps,s=e.memoizedState,n=s.element,s7(t,e),cP(e,r,null,i);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){n=Mm(Error(He(423)),e),e=Vj(t,e,r,i,n);break e}else if(r!==n){n=Mm(Error(He(424)),e),e=Vj(t,e,r,i,n);break e}else for(Mo=Md(e.stateNode.containerInfo.firstChild),Go=e,cr=!0,pl=null,i=u7(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(xm(),r===n){e=fc(t,e,i);break e}fs(t,e,r,i)}e=e.child}return e;case 5:return c7(e),t===null&&tN(e),r=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,o=n.children,X_(r,n)?o=null:s!==null&&X_(r,s)&&(e.flags|=32),L7(t,e),fs(t,e,o,i),e.child;case 6:return t===null&&tN(e),null;case 13:return N7(t,e,i);case 4:return Xk(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Am(e,null,r,i):fs(t,e,r,i),e.child;case 11:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ll(r,n),Nj(t,e,r,n,i);case 7:return fs(t,e,e.pendingProps,i),e.child;case 8:return fs(t,e,e.pendingProps.children,i),e.child;case 12:return fs(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(r=e.type._context,n=e.pendingProps,s=e.memoizedProps,o=n.value,Bi(lP,r._currentValue),r._currentValue=o,s!==null)if(Pl(s.value,o)){if(s.children===n.children&&!Zs.current){e=fc(t,e,i);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ac(-1,i&-i),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=i,l=s.alternate,l!==null&&(l.lanes|=i),iN(s.return,i,e),a.lanes|=i;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=i,a=o.alternate,a!==null&&(a.lanes|=i),iN(o,i,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fs(t,e,n.children,i),e=e.child}return e;case 9:return n=e.type,r=e.pendingProps.children,um(e,i),n=Ia(n),r=r(n),e.flags|=1,fs(t,e,r,i),e.child;case 14:return r=e.type,n=ll(r,e.pendingProps),n=ll(r.type,n),Gj(t,e,r,n,i);case 15:return F7(t,e,e.type,e.pendingProps,i);case 17:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ll(r,n),aD(t,e),e.tag=1,Js(r)?(t=!0,sP(e)):t=!1,um(e,i),a7(e,r,n),nN(e,r,n,i),aN(null,e,r,!0,t,i);case 19:return G7(t,e,i);case 22:return I7(t,e,i)}throw Error(He(156,e.tag))};function J7(t,e){return T9(t,e)}function qye(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(t,e,i,r){return new qye(t,e,i,r)}function dV(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xye(t){if(typeof t=="function")return dV(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ok)return 11;if(t===Mk)return 14}return 2}function _d(t,e){var i=t.alternate;return i===null?(i=Ea(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function cD(t,e,i,r,n,s){var o=2;if(r=t,typeof t=="function")dV(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $g:return fp(i.children,n,s,e);case Ak:o=8,n|=8;break;case x_:return t=Ea(12,i,e,n|2),t.elementType=x_,t.lanes=s,t;case A_:return t=Ea(13,i,e,n),t.elementType=A_,t.lanes=s,t;case O_:return t=Ea(19,i,e,n),t.elementType=O_,t.lanes=s,t;case l9:return zA(i,n,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o9:o=10;break e;case a9:o=9;break e;case Ok:o=11;break e;case Mk:o=14;break e;case gd:o=16,r=null;break e}throw Error(He(130,t==null?t:typeof t,""))}return e=Ea(o,i,e,n),e.elementType=t,e.type=r,e.lanes=s,e}function fp(t,e,i,r){return t=Ea(7,t,r,e),t.lanes=i,t}function zA(t,e,i,r){return t=Ea(22,t,r,e),t.elementType=l9,t.lanes=i,t.stateNode={isHidden:!1},t}function HI(t,e,i){return t=Ea(6,t,null,e),t.lanes=i,t}function $I(t,e,i){return e=Ea(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qye(t,e,i,r,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wI(0),this.expirationTimes=wI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wI(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function hV(t,e,i,r,n,s,o,a,l){return t=new Qye(t,e,i,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ea(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},qk(s),t}function Zye(t,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:i}}function eX(t){if(!t)return Ud;t=t._reactInternals;e:{if(yf(t)!==t||t.tag!==1)throw Error(He(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Js(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(t.tag===1){var i=t.type;if(Js(i))return J9(t,i,e)}return e}function tX(t,e,i,r,n,s,o,a,l){return t=hV(i,r,!0,t,n,s,o,a,l),t.context=eX(null),i=t.current,r=ys(),n=Ld(i),s=ac(r,n),s.callback=e??null,Fd(i,s,n),t.current.lanes=n,$E(t,n,r),eo(t,r),t}function jA(t,e,i,r){var n=e.current,s=ys(),o=Ld(n);return i=eX(i),e.context===null?e.context=i:e.pendingContext=i,e=ac(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fd(n,e,o),t!==null&&(bl(t,n,o,s),nD(t,n,o)),o}function CP(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function pV(t,e){qj(t,e),(t=t.alternate)&&qj(t,e)}function Jye(){return null}var iX=typeof reportError=="function"?reportError:function(t){console.error(t)};function fV(t){this._internalRoot=t}KA.prototype.render=fV.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(He(409));jA(t,e,null,null)};KA.prototype.unmount=fV.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hp(function(){jA(null,t,null,null)}),e[hc]=null}};function KA(t){this._internalRoot=t}KA.prototype.unstable_scheduleHydration=function(t){if(t){var e=F9();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Cd.length&&e!==0&&e<Cd[i].priority;i++);Cd.splice(i,0,t),i===0&&L9(t)}};function gV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function YA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xj(){}function eSe(t,e,i,r,n){if(n){if(typeof r=="function"){var s=r;r=function(){var u=CP(o);s.call(u)}}var o=tX(e,r,t,0,null,!1,!1,"",Xj);return t._reactRootContainer=o,t[hc]=o.current,FS(t.nodeType===8?t.parentNode:t),Hp(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof r=="function"){var a=r;r=function(){var u=CP(l);a.call(u)}}var l=hV(t,0,!1,null,null,!1,!1,"",Xj);return t._reactRootContainer=l,t[hc]=l.current,FS(t.nodeType===8?t.parentNode:t),Hp(function(){jA(e,l,i,r)}),l}function qA(t,e,i,r,n){var s=i._reactRootContainer;if(s){var o=s;if(typeof n=="function"){var a=n;n=function(){var l=CP(o);a.call(l)}}jA(e,o,t,n)}else o=eSe(i,e,t,n,r);return CP(o)}O9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=Ay(e.pendingLanes);i!==0&&(Lk(e,i|1),eo(e,Fr()),!(ti&6)&&(Fm=Fr()+500,nh()))}break;case 13:Hp(function(){var r=pc(t,1);if(r!==null){var n=ys();bl(r,t,1,n)}}),pV(t,1)}};_k=function(t){if(t.tag===13){var e=pc(t,134217728);if(e!==null){var i=ys();bl(e,t,134217728,i)}pV(t,134217728)}};M9=function(t){if(t.tag===13){var e=Ld(t),i=pc(t,e);if(i!==null){var r=ys();bl(i,t,e,r)}pV(t,e)}};F9=function(){return Ri};I9=function(t,e){var i=Ri;try{return Ri=t,e()}finally{Ri=i}};H_=function(t,e,i){switch(e){case"input":if(I_(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var n=VA(r);if(!n)throw Error(He(90));c9(r),I_(r,n)}}}break;case"textarea":h9(t,i);break;case"select":e=i.value,e!=null&&sm(t,!!i.multiple,e,!1)}};y9=lV;S9=Hp;var tSe={usingClientEntryPoint:!1,Events:[WE,zg,VA,v9,C9,lV]},JC={findFiberByHostInstance:ep,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iSe={bundleType:JC.bundleType,version:JC.version,rendererPackageName:JC.rendererPackageName,rendererConfig:JC.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b9(t),t===null?null:t.stateNode},findFiberByHostInstance:JC.findFiberByHostInstance||Jye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hT.isDisabled&&hT.supportsFiber)try{_A=hT.inject(iSe),du=hT}catch{}}zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tSe;zo.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gV(e))throw Error(He(200));return Zye(t,e,null,i)};zo.createRoot=function(t,e){if(!gV(t))throw Error(He(299));var i=!1,r="",n=iX;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=hV(t,1,!1,null,null,i,!1,r,n),t[hc]=e.current,FS(t.nodeType===8?t.parentNode:t),new fV(e)};zo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(He(188)):(t=Object.keys(t).join(","),Error(He(268,t)));return t=b9(e),t=t===null?null:t.stateNode,t};zo.flushSync=function(t){return Hp(t)};zo.hydrate=function(t,e,i){if(!YA(e))throw Error(He(200));return qA(null,t,e,!0,i)};zo.hydrateRoot=function(t,e,i){if(!gV(t))throw Error(He(405));var r=i!=null&&i.hydratedSources||null,n=!1,s="",o=iX;if(i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),e=tX(e,null,t,1,i??null,n,!1,s,o),t[hc]=e.current,FS(t),r)for(t=0;t<r.length;t++)i=r[t],n=i._getVersion,n=n(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,n]:e.mutableSourceEagerHydrationData.push(i,n);return new KA(e)};zo.render=function(t,e,i){if(!YA(e))throw Error(He(200));return qA(null,t,e,!1,i)};zo.unmountComponentAtNode=function(t){if(!YA(t))throw Error(He(40));return t._reactRootContainer?(Hp(function(){qA(null,null,t,!1,function(){t._reactRootContainer=null,t[hc]=null})}),!0):!1};zo.unstable_batchedUpdates=lV;zo.unstable_renderSubtreeIntoContainer=function(t,e,i,r){if(!YA(i))throw Error(He(200));if(t==null||t._reactInternals===void 0)throw Error(He(38));return qA(t,e,i,!1,r)};zo.version="18.2.0-next-9e3b772b8-20220608";function rX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rX)}catch(t){console.error(t)}}rX(),t9.exports=zo;var zE=t9.exports;const rc=Pt(zE);var Qj=zE;D_.createRoot=Qj.createRoot,D_.hydrateRoot=Qj.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},$S.apply(this,arguments)}var Rd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rd||(Rd={}));const Zj="popstate";function rSe(t){t===void 0&&(t={});function e(r,n){let{pathname:s,search:o,hash:a}=r.location;return yN("",{pathname:s,search:o,hash:a},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(r,n){return typeof n=="string"?n:yP(n)}return sSe(e,i,null,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nX(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nSe(){return Math.random().toString(36).substr(2,8)}function Jj(t,e){return{usr:t.state,key:t.key,idx:e}}function yN(t,e,i,r){return i===void 0&&(i=null),$S({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Iv(e):e,{state:i,key:e&&e.key||r||nSe()})}function yP(t){let{pathname:e="/",search:i="",hash:r=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Iv(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sSe(t,e,i,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:s=!1}=r,o=n.history,a=Rd.Pop,l=null,u=c();u==null&&(u=0,o.replaceState($S({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Rd.Pop;let C=c(),S=C==null?null:C-u;u=C,l&&l({action:a,location:v.location,delta:S})}function h(C,S){a=Rd.Push;let y=yN(v.location,C,S);i&&i(y,C),u=c()+1;let w=Jj(y,u),E=v.createHref(y);try{o.pushState(w,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;n.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function f(C,S){a=Rd.Replace;let y=yN(v.location,C,S);i&&i(y,C),u=c();let w=Jj(y,u),E=v.createHref(y);o.replaceState(w,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function g(C){let S=n.location.origin!=="null"?n.location.origin:n.location.href,y=typeof C=="string"?C:yP(C);return y=y.replace(/ $/,"%20"),Yr(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let v={get action(){return a},get location(){return t(n,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(Zj,d),l=C,()=>{n.removeEventListener(Zj,d),l=null}},createHref(C){return e(n,C)},createURL:g,encodeLocation(C){let S=g(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:h,replace:f,go(C){return o.go(C)}};return v}var e3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(e3||(e3={}));function oSe(t,e,i){i===void 0&&(i="/");let r=typeof e=="string"?Iv(e):e,n=mV(r.pathname||"/",i);if(n==null)return null;let s=sX(t);aSe(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=ySe(n);o=mSe(s[a],l)}return o}function sX(t,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let n=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Nd([r,l.relativePath]),c=i.concat(l);s.children&&s.children.length>0&&(Yr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sX(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:fSe(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))n(s,o);else for(let l of oX(s.path))n(s,o,l)}),e}function oX(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,n=i.endsWith("?"),s=i.replace(/\?$/,"");if(r.length===0)return n?[s,""]:[s];let o=oX(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),n&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aSe(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:gSe(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const lSe=/^:[\w-]+$/,uSe=3,cSe=2,dSe=1,hSe=10,pSe=-2,t3=t=>t==="*";function fSe(t,e){let i=t.split("/"),r=i.length;return i.some(t3)&&(r+=pSe),e&&(r+=cSe),i.filter(n=>!t3(n)).reduce((n,s)=>n+(lSe.test(s)?uSe:s===""?dSe:hSe),r)}function gSe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,n)=>r===e[n])?t[t.length-1]-e[e.length-1]:0}function mSe(t,e){let{routesMeta:i}=t,r={},n="/",s=[];for(let o=0;o<i.length;++o){let a=i[o],l=o===i.length-1,u=n==="/"?e:e.slice(n.length)||"/",c=vSe({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Nd([n,c.pathname]),pathnameBase:bSe(Nd([n,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(n=Nd([n,c.pathnameBase]))}return s}function vSe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=CSe(t.path,t.caseSensitive,t.end),n=e.match(i);if(!n)return null;let s=n[0],o=s.replace(/(.)\/+$/,"$1"),a=n.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function CSe(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),nX(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),r]}function ySe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nX(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mV(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function SSe(t,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:n=""}=typeof t=="string"?Iv(t):t;return{pathname:i?i.startsWith("/")?i:wSe(i,e):e,search:RSe(r),hash:TSe(n)}}function wSe(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function BI(t,e,i,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ESe(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function aX(t,e){let i=ESe(t);return e?i.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function lX(t,e,i,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=Iv(t):(n=$S({},t),Yr(!n.pathname||!n.pathname.includes("?"),BI("?","pathname","search",n)),Yr(!n.pathname||!n.pathname.includes("#"),BI("#","pathname","hash",n)),Yr(!n.search||!n.search.includes("#"),BI("#","search","hash",n)));let s=t===""||n.pathname==="",o=s?"/":n.pathname,a;if(o==null)a=i;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;n.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=SSe(n,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Nd=t=>t.join("/").replace(/\/\/+/g,"/"),bSe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RSe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TSe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DSe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uX=["post","put","patch","delete"];new Set(uX);const PSe=["get",...uX];new Set(PSe);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},BS.apply(this,arguments)}const vV=T.createContext(null),xSe=T.createContext(null),Sf=T.createContext(null),XA=T.createContext(null),wf=T.createContext({outlet:null,matches:[],isDataRoute:!1}),cX=T.createContext(null);function ASe(t,e){let{relative:i}=e===void 0?{}:e;jE()||Yr(!1);let{basename:r,navigator:n}=T.useContext(Sf),{hash:s,pathname:o,search:a}=hX(t,{relative:i}),l=o;return r!=="/"&&(l=o==="/"?r:Nd([r,o])),n.createHref({pathname:l,search:a,hash:s})}function jE(){return T.useContext(XA)!=null}function QA(){return jE()||Yr(!1),T.useContext(XA).location}function dX(t){T.useContext(Sf).static||T.useLayoutEffect(t)}function OSe(){let{isDataRoute:t}=T.useContext(wf);return t?WSe():MSe()}function MSe(){jE()||Yr(!1);let t=T.useContext(vV),{basename:e,future:i,navigator:r}=T.useContext(Sf),{matches:n}=T.useContext(wf),{pathname:s}=QA(),o=JSON.stringify(aX(n,i.v7_relativeSplatPath)),a=T.useRef(!1);return dX(()=>{a.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=lX(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Nd([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function hX(t,e){let{relative:i}=e===void 0?{}:e,{future:r}=T.useContext(Sf),{matches:n}=T.useContext(wf),{pathname:s}=QA(),o=JSON.stringify(aX(n,r.v7_relativeSplatPath));return T.useMemo(()=>lX(t,JSON.parse(o),s,i==="path"),[t,o,s,i])}function FSe(t,e){return ISe(t,e)}function ISe(t,e,i,r){jE()||Yr(!1);let{navigator:n}=T.useContext(Sf),{matches:s}=T.useContext(wf),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=QA(),c;if(e){var d;let C=typeof e=="string"?Iv(e):e;l==="/"||(d=C.pathname)!=null&&d.startsWith(l)||Yr(!1),c=C}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let C=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let g=oSe(t,{pathname:f}),v=kSe(g&&g.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Nd([l,n.encodeLocation?n.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:Nd([l,n.encodeLocation?n.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,i,r);return e&&v?T.createElement(XA.Provider,{value:{location:BS({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Rd.Pop}},v):v}function LSe(){let t=BSe(),e=DSe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),i?T.createElement("pre",{style:n},i):null,null)}const _Se=T.createElement(LSe,null);class NSe extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?T.createElement(wf.Provider,{value:this.props.routeContext},T.createElement(cX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GSe(t){let{routeContext:e,match:i,children:r}=t,n=T.useContext(vV);return n&&n.static&&n.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=i.route.id),T.createElement(wf.Provider,{value:e},r)}function kSe(t,e,i,r){var n;if(e===void 0&&(e=[]),i===void 0&&(i=null),r===void 0&&(r=null),t==null){var s;if((s=i)!=null&&s.errors)t=i.matches;else return null}let o=t,a=(n=i)==null?void 0:n.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Yr(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(i&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=i,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,g=!1,v=null,C=null;i&&(f=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||_Se,l&&(u<0&&h===0?(USe("route-fallback",!1),g=!0,C=null):u===h&&(g=!0,C=d.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,h+1)),y=()=>{let w;return f?w=v:g?w=C:d.route.Component?w=T.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,T.createElement(GSe,{match:d,routeContext:{outlet:c,matches:S,isDataRoute:i!=null},children:w})};return i&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(NSe,{location:i.location,revalidation:i.revalidation,component:v,error:f,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var pX=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pX||{}),SP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(SP||{});function VSe(t){let e=T.useContext(vV);return e||Yr(!1),e}function HSe(t){let e=T.useContext(xSe);return e||Yr(!1),e}function $Se(t){let e=T.useContext(wf);return e||Yr(!1),e}function fX(t){let e=$Se(),i=e.matches[e.matches.length-1];return i.route.id||Yr(!1),i.route.id}function BSe(){var t;let e=T.useContext(cX),i=HSe(SP.UseRouteError),r=fX(SP.UseRouteError);return e!==void 0?e:(t=i.errors)==null?void 0:t[r]}function WSe(){let{router:t}=VSe(pX.UseNavigateStable),e=fX(SP.UseNavigateStable),i=T.useRef(!1);return dX(()=>{i.current=!0}),T.useCallback(function(n,s){s===void 0&&(s={}),i.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,BS({fromRouteId:e},s)))},[t,e])}const i3={};function USe(t,e,i){!e&&!i3[t]&&(i3[t]=!0)}function My(t){Yr(!1)}function zSe(t){let{basename:e="/",children:i=null,location:r,navigationType:n=Rd.Pop,navigator:s,static:o=!1,future:a}=t;jE()&&Yr(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:s,static:o,future:BS({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Iv(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,v=T.useMemo(()=>{let C=mV(c,l);return C==null?null:{location:{pathname:C,search:d,hash:h,state:f,key:g},navigationType:n}},[l,c,d,h,f,g,n]);return v==null?null:T.createElement(Sf.Provider,{value:u},T.createElement(XA.Provider,{children:i,value:v}))}function jSe(t){let{children:e,location:i}=t;return FSe(SN(e),i)}new Promise(()=>{});function SN(t,e){e===void 0&&(e=[]);let i=[];return T.Children.forEach(t,(r,n)=>{if(!T.isValidElement(r))return;let s=[...e,n];if(r.type===T.Fragment){i.push.apply(i,SN(r.props.children,s));return}r.type!==My&&Yr(!1),!r.props.index||!r.props.children||Yr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=SN(r.props.children,s)),i.push(o)}),i}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},wN.apply(this,arguments)}function KSe(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function YSe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qSe(t,e){return t.button===0&&(!e||e==="_self")&&!YSe(t)}const XSe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],QSe="6";try{window.__reactRouterVersion=QSe}catch{}const ZSe="startTransition",r3=YD[ZSe];function JSe(t){let{basename:e,children:i,future:r,window:n}=t,s=T.useRef();s.current==null&&(s.current=rSe({window:n,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=T.useCallback(d=>{u&&r3?r3(()=>l(d)):l(d)},[l,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.createElement(zSe,{basename:e,children:i,location:a.location,navigationType:a.action,navigator:o,future:r})}const ewe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",twe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pT=T.forwardRef(function(e,i){let{onClick:r,relative:n,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=KSe(e,XSe),{basename:f}=T.useContext(Sf),g,v=!1;if(typeof u=="string"&&twe.test(u)&&(g=u,ewe))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),b=mV(E.pathname,f);E.origin===w.origin&&b!=null?u=b+E.search+E.hash:v=!0}catch{}let C=ASe(u,{relative:n}),S=iwe(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:n,unstable_viewTransition:d});function y(w){r&&r(w),w.defaultPrevented||S(w)}return T.createElement("a",wN({},h,{href:g||C,onClick:v||s?r:y,ref:i,target:l}))});var n3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n3||(n3={}));var s3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(s3||(s3={}));function iwe(t,e){let{target:i,replace:r,state:n,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=OSe(),u=QA(),c=hX(t,{relative:o});return T.useCallback(d=>{if(qSe(d,i)){d.preventDefault();let h=r!==void 0?r:yP(u)===yP(c);l(t,{replace:h,state:n,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,n,i,t,s,o,a])}function Oe(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},G.apply(this,arguments)}var gX={exports:{}},rwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nwe=rwe,swe=nwe;function mX(){}function vX(){}vX.resetWarningCache=mX;var owe=function(){function t(r,n,s,o,a,l){if(l!==swe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vX,resetWarningCache:mX};return i.PropTypes=i,i};gX.exports=owe();var awe=gX.exports;const ee=Pt(awe);function CX(t){var e,i,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(i=CX(t[e]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}function Le(){for(var t,e,i=0,r="",n=arguments.length;i<n;i++)(t=arguments[i])&&(e=CX(t))&&(r&&(r+=" "),r+=e);return r}function ot(t,e,i=void 0){const r={};return Object.keys(t).forEach(n=>{r[n]=t[n].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),i&&i[o]&&s.push(i[o])}return s},[]).join(" ")}),r}var KE={},yX={exports:{}};(function(t){function e(i){return i&&i.__esModule?i:{default:i}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(yX);var Gu=yX.exports,WI={exports:{}},o3;function SX(){return o3||(o3=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(WI)),WI.exports}var UI={exports:{}},a3;function lwe(){return a3||(a3=1,function(t){function e(i,r){if(i==null)return{};var n={},s=Object.keys(i),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(n[o]=i[o]);return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(UI)),UI.exports}function wX(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var uwe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cwe=wX(function(t){return uwe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function dwe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function hwe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var pwe=function(){function t(i){var r=this;this._insertTag=function(n){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(n,s),r.tags.push(n)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hwe(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var s=dwe(n);try{s.insertRule(r,s.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Kn="-ms-",wP="-moz-",di="-webkit-",EX="comm",CV="rule",yV="decl",fwe="@import",bX="@keyframes",gwe="@layer",mwe=Math.abs,ZA=String.fromCharCode,vwe=Object.assign;function Cwe(t,e){return In(t,0)^45?(((e<<2^In(t,0))<<2^In(t,1))<<2^In(t,2))<<2^In(t,3):0}function RX(t){return t.trim()}function ywe(t,e){return(t=e.exec(t))?t[0]:t}function hi(t,e,i){return t.replace(e,i)}function EN(t,e){return t.indexOf(e)}function In(t,e){return t.charCodeAt(e)|0}function WS(t,e,i){return t.slice(e,i)}function iu(t){return t.length}function SV(t){return t.length}function fT(t,e){return e.push(t),t}function Swe(t,e){return t.map(e).join("")}var JA=1,Im=1,TX=0,no=0,Wr=0,Lv="";function e0(t,e,i,r,n,s,o){return{value:t,root:e,parent:i,type:r,props:n,children:s,line:JA,column:Im,length:o,return:""}}function ey(t,e){return vwe(e0("",null,null,"",null,null,0),t,{length:-t.length},e)}function wwe(){return Wr}function Ewe(){return Wr=no>0?In(Lv,--no):0,Im--,Wr===10&&(Im=1,JA--),Wr}function ko(){return Wr=no<TX?In(Lv,no++):0,Im++,Wr===10&&(Im=1,JA++),Wr}function pu(){return In(Lv,no)}function dD(){return no}function YE(t,e){return WS(Lv,t,e)}function US(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DX(t){return JA=Im=1,TX=iu(Lv=t),no=0,[]}function PX(t){return Lv="",t}function hD(t){return RX(YE(no-1,bN(t===91?t+2:t===40?t+1:t)))}function bwe(t){for(;(Wr=pu())&&Wr<33;)ko();return US(t)>2||US(Wr)>3?"":" "}function Rwe(t,e){for(;--e&&ko()&&!(Wr<48||Wr>102||Wr>57&&Wr<65||Wr>70&&Wr<97););return YE(t,dD()+(e<6&&pu()==32&&ko()==32))}function bN(t){for(;ko();)switch(Wr){case t:return no;case 34:case 39:t!==34&&t!==39&&bN(Wr);break;case 40:t===41&&bN(t);break;case 92:ko();break}return no}function Twe(t,e){for(;ko()&&t+Wr!==57;)if(t+Wr===84&&pu()===47)break;return"/*"+YE(e,no-1)+"*"+ZA(t===47?t:ko())}function Dwe(t){for(;!US(pu());)ko();return YE(t,no)}function Pwe(t){return PX(pD("",null,null,null,[""],t=DX(t),0,[0],t))}function pD(t,e,i,r,n,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,g=0,v=1,C=1,S=1,y=0,w="",E=n,b=s,D=r,P=w;C;)switch(g=y,y=ko()){case 40:if(g!=108&&In(P,d-1)==58){EN(P+=hi(hD(y),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:P+=hD(y);break;case 9:case 10:case 13:case 32:P+=bwe(g);break;case 92:P+=Rwe(dD()-1,7);continue;case 47:switch(pu()){case 42:case 47:fT(xwe(Twe(ko(),dD()),e,i),l);break;default:P+="/"}break;case 123*v:a[u++]=iu(P)*S;case 125*v:case 59:case 0:switch(y){case 0:case 125:C=0;case 59+c:S==-1&&(P=hi(P,/\f/g,"")),f>0&&iu(P)-d&&fT(f>32?u3(P+";",r,i,d-1):u3(hi(P," ","")+";",r,i,d-2),l);break;case 59:P+=";";default:if(fT(D=l3(P,e,i,u,c,n,a,w,E=[],b=[],d),s),y===123)if(c===0)pD(P,e,D,D,E,s,d,a,b);else switch(h===99&&In(P,3)===110?100:h){case 100:case 108:case 109:case 115:pD(t,D,D,r&&fT(l3(t,D,D,0,0,n,a,w,n,E=[],d),b),n,b,d,a,r?E:b);break;default:pD(P,D,D,D,[""],b,0,a,b)}}u=c=f=0,v=S=1,w=P="",d=o;break;case 58:d=1+iu(P),f=g;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&Ewe()==125)continue}switch(P+=ZA(y),y*v){case 38:S=c>0?1:(P+="\f",-1);break;case 44:a[u++]=(iu(P)-1)*S,S=1;break;case 64:pu()===45&&(P+=hD(ko())),h=pu(),c=d=iu(w=P+=Dwe(dD())),y++;break;case 45:g===45&&iu(P)==2&&(v=0)}}return s}function l3(t,e,i,r,n,s,o,a,l,u,c){for(var d=n-1,h=n===0?s:[""],f=SV(h),g=0,v=0,C=0;g<r;++g)for(var S=0,y=WS(t,d+1,d=mwe(v=o[g])),w=t;S<f;++S)(w=RX(v>0?h[S]+" "+y:hi(y,/&\f/g,h[S])))&&(l[C++]=w);return e0(t,e,i,n===0?CV:a,l,u,c)}function xwe(t,e,i){return e0(t,e,i,EX,ZA(wwe()),WS(t,2,-2),0)}function u3(t,e,i,r){return e0(t,e,i,yV,WS(t,0,r),WS(t,r+1,-1),r)}function dm(t,e){for(var i="",r=SV(t),n=0;n<r;n++)i+=e(t[n],n,t,e)||"";return i}function Awe(t,e,i,r){switch(t.type){case gwe:if(t.children.length)break;case fwe:case yV:return t.return=t.return||t.value;case EX:return"";case bX:return t.return=t.value+"{"+dm(t.children,r)+"}";case CV:t.value=t.props.join(",")}return iu(i=dm(t.children,r))?t.return=t.value+"{"+i+"}":""}function Owe(t){var e=SV(t);return function(i,r,n,s){for(var o="",a=0;a<e;a++)o+=t[a](i,r,n,s)||"";return o}}function Mwe(t){return function(e){e.root||(e=e.return)&&t(e)}}var Fwe=function(e,i,r){for(var n=0,s=0;n=s,s=pu(),n===38&&s===12&&(i[r]=1),!US(s);)ko();return YE(e,no)},Iwe=function(e,i){var r=-1,n=44;do switch(US(n)){case 0:n===38&&pu()===12&&(i[r]=1),e[r]+=Fwe(no-1,i,r);break;case 2:e[r]+=hD(n);break;case 4:if(n===44){e[++r]=pu()===58?"&\f":"",i[r]=e[r].length;break}default:e[r]+=ZA(n)}while(n=ko());return e},Lwe=function(e,i){return PX(Iwe(DX(e),i))},c3=new WeakMap,_we=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!c3.get(r))&&!n){c3.set(e,!0);for(var s=[],o=Lwe(i,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Nwe=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}};function xX(t,e){switch(Cwe(t,e)){case 5103:return di+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return di+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return di+t+wP+t+Kn+t+t;case 6828:case 4268:return di+t+Kn+t+t;case 6165:return di+t+Kn+"flex-"+t+t;case 5187:return di+t+hi(t,/(\w+).+(:[^]+)/,di+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return di+t+Kn+"flex-item-"+hi(t,/flex-|-self/,"")+t;case 4675:return di+t+Kn+"flex-line-pack"+hi(t,/align-content|flex-|-self/,"")+t;case 5548:return di+t+Kn+hi(t,"shrink","negative")+t;case 5292:return di+t+Kn+hi(t,"basis","preferred-size")+t;case 6060:return di+"box-"+hi(t,"-grow","")+di+t+Kn+hi(t,"grow","positive")+t;case 4554:return di+hi(t,/([^-])(transform)/g,"$1"+di+"$2")+t;case 6187:return hi(hi(hi(t,/(zoom-|grab)/,di+"$1"),/(image-set)/,di+"$1"),t,"")+t;case 5495:case 3959:return hi(t,/(image-set\([^]*)/,di+"$1$`$1");case 4968:return hi(hi(t,/(.+:)(flex-)?(.*)/,di+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+di+t+t;case 4095:case 3583:case 4068:case 2532:return hi(t,/(.+)-inline(.+)/,di+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(iu(t)-1-e>6)switch(In(t,e+1)){case 109:if(In(t,e+4)!==45)break;case 102:return hi(t,/(.+:)(.+)-([^]+)/,"$1"+di+"$2-$3$1"+wP+(In(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~EN(t,"stretch")?xX(hi(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(In(t,e+1)!==115)break;case 6444:switch(In(t,iu(t)-3-(~EN(t,"!important")&&10))){case 107:return hi(t,":",":"+di)+t;case 101:return hi(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+di+(In(t,14)===45?"inline-":"")+"box$3$1"+di+"$2$3$1"+Kn+"$2box$3")+t}break;case 5936:switch(In(t,e+11)){case 114:return di+t+Kn+hi(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return di+t+Kn+hi(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return di+t+Kn+hi(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return di+t+Kn+t+t}return t}var Gwe=function(e,i,r,n){if(e.length>-1&&!e.return)switch(e.type){case yV:e.return=xX(e.value,e.length);break;case bX:return dm([ey(e,{value:hi(e.value,"@","@"+di)})],n);case CV:if(e.length)return Swe(e.props,function(s){switch(ywe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dm([ey(e,{props:[hi(s,/:(read-\w+)/,":"+wP+"$1")]})],n);case"::placeholder":return dm([ey(e,{props:[hi(s,/:(plac\w+)/,":"+di+"input-$1")]}),ey(e,{props:[hi(s,/:(plac\w+)/,":"+wP+"$1")]}),ey(e,{props:[hi(s,/:(plac\w+)/,Kn+"input-$1")]})],n)}return""})}},kwe=[Gwe],AX=function(e){var i=e.key;if(i==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var C=v.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var n=e.stylisPlugins||kwe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(v){for(var C=v.getAttribute("data-emotion").split(" "),S=1;S<C.length;S++)s[C[S]]=!0;a.push(v)});var l,u=[_we,Nwe];{var c,d=[Awe,Mwe(function(v){c.insert(v)})],h=Owe(u.concat(n,d)),f=function(C){return dm(Pwe(C),h)};l=function(C,S,y,w){c=y,f(C?C+"{"+S.styles+"}":S.styles),w&&(g.inserted[S.name]=!0)}}var g={key:i,sheet:new pwe({key:i,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},OX={exports:{}},Ti={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wn=typeof Symbol=="function"&&Symbol.for,wV=wn?Symbol.for("react.element"):60103,EV=wn?Symbol.for("react.portal"):60106,t0=wn?Symbol.for("react.fragment"):60107,i0=wn?Symbol.for("react.strict_mode"):60108,r0=wn?Symbol.for("react.profiler"):60114,n0=wn?Symbol.for("react.provider"):60109,s0=wn?Symbol.for("react.context"):60110,bV=wn?Symbol.for("react.async_mode"):60111,o0=wn?Symbol.for("react.concurrent_mode"):60111,a0=wn?Symbol.for("react.forward_ref"):60112,l0=wn?Symbol.for("react.suspense"):60113,Vwe=wn?Symbol.for("react.suspense_list"):60120,u0=wn?Symbol.for("react.memo"):60115,c0=wn?Symbol.for("react.lazy"):60116,Hwe=wn?Symbol.for("react.block"):60121,$we=wn?Symbol.for("react.fundamental"):60117,Bwe=wn?Symbol.for("react.responder"):60118,Wwe=wn?Symbol.for("react.scope"):60119;function Ko(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wV:switch(t=t.type,t){case bV:case o0:case t0:case r0:case i0:case l0:return t;default:switch(t=t&&t.$$typeof,t){case s0:case a0:case c0:case u0:case n0:return t;default:return e}}case EV:return e}}}function MX(t){return Ko(t)===o0}Ti.AsyncMode=bV;Ti.ConcurrentMode=o0;Ti.ContextConsumer=s0;Ti.ContextProvider=n0;Ti.Element=wV;Ti.ForwardRef=a0;Ti.Fragment=t0;Ti.Lazy=c0;Ti.Memo=u0;Ti.Portal=EV;Ti.Profiler=r0;Ti.StrictMode=i0;Ti.Suspense=l0;Ti.isAsyncMode=function(t){return MX(t)||Ko(t)===bV};Ti.isConcurrentMode=MX;Ti.isContextConsumer=function(t){return Ko(t)===s0};Ti.isContextProvider=function(t){return Ko(t)===n0};Ti.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wV};Ti.isForwardRef=function(t){return Ko(t)===a0};Ti.isFragment=function(t){return Ko(t)===t0};Ti.isLazy=function(t){return Ko(t)===c0};Ti.isMemo=function(t){return Ko(t)===u0};Ti.isPortal=function(t){return Ko(t)===EV};Ti.isProfiler=function(t){return Ko(t)===r0};Ti.isStrictMode=function(t){return Ko(t)===i0};Ti.isSuspense=function(t){return Ko(t)===l0};Ti.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===t0||t===o0||t===r0||t===i0||t===l0||t===Vwe||typeof t=="object"&&t!==null&&(t.$$typeof===c0||t.$$typeof===u0||t.$$typeof===n0||t.$$typeof===s0||t.$$typeof===a0||t.$$typeof===$we||t.$$typeof===Bwe||t.$$typeof===Wwe||t.$$typeof===Hwe)};Ti.typeOf=Ko;OX.exports=Ti;var Uwe=OX.exports,FX=Uwe,zwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jwe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IX={};IX[FX.ForwardRef]=zwe;IX[FX.Memo]=jwe;var Kwe=!0;function Ywe(t,e,i){var r="";return i.split(" ").forEach(function(n){t[n]!==void 0?e.push(t[n]+";"):r+=n+" "}),r}var LX=function(e,i,r){var n=e.key+"-"+i.name;(r===!1||Kwe===!1)&&e.registered[n]===void 0&&(e.registered[n]=i.styles)},_X=function(e,i,r){LX(e,i,r);var n=e.key+"-"+i.name;if(e.inserted[i.name]===void 0){var s=i;do e.insert(i===s?"."+n:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function qwe(t){for(var e=0,i,r=0,n=t.length;n>=4;++r,n-=4)i=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(n){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Xwe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qwe=/[A-Z]|^ms/g,Zwe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NX=function(e){return e.charCodeAt(1)===45},d3=function(e){return e!=null&&typeof e!="boolean"},zI=wX(function(t){return NX(t)?t:t.replace(Qwe,"-$&").toLowerCase()}),h3=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(Zwe,function(r,n,s){return ru={name:n,styles:s,next:ru},n})}return Xwe[e]!==1&&!NX(e)&&typeof i=="number"&&i!==0?i+"px":i};function zS(t,e,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return ru={name:i.name,styles:i.styles,next:ru},i.name;if(i.styles!==void 0){var r=i.next;if(r!==void 0)for(;r!==void 0;)ru={name:r.name,styles:r.styles,next:ru},r=r.next;var n=i.styles+";";return n}return Jwe(t,e,i)}case"function":{if(t!==void 0){var s=ru,o=i(t);return ru=s,zS(t,e,o)}break}}if(e==null)return i;var a=e[i];return a!==void 0?a:i}function Jwe(t,e,i){var r="";if(Array.isArray(i))for(var n=0;n<i.length;n++)r+=zS(t,e,i[n])+";";else for(var s in i){var o=i[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":d3(o)&&(r+=zI(s)+":"+h3(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)d3(o[a])&&(r+=zI(s)+":"+h3(s,o[a])+";");else{var l=zS(t,e,o);switch(s){case"animation":case"animationName":{r+=zI(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var p3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ru,RV=function(e,i,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";ru=void 0;var o=e[0];o==null||o.raw===void 0?(n=!1,s+=zS(r,i,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=zS(r,i,e[a]),n&&(s+=o[a]);p3.lastIndex=0;for(var l="",u;(u=p3.exec(s))!==null;)l+="-"+u[1];var c=qwe(s)+l;return{name:c,styles:s,next:ru}},eEe=function(e){return e()},GX=YD.useInsertionEffect?YD.useInsertionEffect:!1,tEe=GX||eEe,f3=GX||T.useLayoutEffect,kX=T.createContext(typeof HTMLElement<"u"?AX({key:"css"}):null),iEe=kX.Provider,VX=function(e){return T.forwardRef(function(i,r){var n=T.useContext(kX);return e(i,n,r)})},d0=T.createContext({});SX();var rEe=VX(function(t,e){var i=t.styles,r=RV([i],void 0,T.useContext(d0)),n=T.useRef();return f3(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),n.current=[o,a],function(){o.flush()}},[e]),f3(function(){var s=n.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&_X(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function HX(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return RV(e)}var h0=function(){var e=HX.apply(void 0,arguments),i="animation-"+e.name;return{name:i,styles:"@keyframes "+i+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},nEe=cwe,sEe=function(e){return e!=="theme"},g3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nEe:sEe},m3=function(e,i,r){var n;if(i){var s=i.shouldForwardProp;n=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof n!="function"&&r&&(n=e.__emotion_forwardProp),n},oEe=function(e){var i=e.cache,r=e.serialized,n=e.isStringTag;return LX(i,r,n),tEe(function(){return _X(i,r,n)}),null},aEe=function t(e,i){var r=e.__emotion_real===e,n=r&&e.__emotion_base||e,s,o;i!==void 0&&(s=i.label,o=i.target);var a=m3(e,i,r),l=a||g3(n),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var g=VX(function(v,C,S){var y=u&&v.as||n,w="",E=[],b=v;if(v.theme==null){b={};for(var D in v)b[D]=v[D];b.theme=T.useContext(d0)}typeof v.className=="string"?w=Ywe(C.registered,E,v.className):v.className!=null&&(w=v.className+" ");var P=RV(d.concat(E),C.registered,b);w+=C.key+"-"+P.name,o!==void 0&&(w+=" "+o);var O=u&&a===void 0?g3(y):l,N={};for(var _ in v)u&&_==="as"||O(_)&&(N[_]=v[_]);return N.className=w,N.ref=S,T.createElement(T.Fragment,null,T.createElement(oEe,{cache:C,serialized:P,isStringTag:typeof y=="string"}),T.createElement(y,N))});return g.displayName=s!==void 0?s:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=n,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(v,C){return t(v,G({},i,C,{shouldForwardProp:m3(g,C,!0)})).apply(void 0,d)},g}},lEe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],RN=aEe.bind();lEe.forEach(function(t){RN[t]=RN(t)});let TN;typeof document=="object"&&(TN=AX({key:"css",prepend:!0}));function uEe(t){const{injectFirst:e,children:i}=t;return e&&TN?Y.jsx(iEe,{value:TN,children:i}):i}function cEe(t){return t==null||Object.keys(t).length===0}function $X(t){const{styles:e,defaultTheme:i={}}=t,r=typeof e=="function"?n=>e(cEe(n)?i:n):e;return Y.jsx(rEe,{styles:r})}function BX(t,e){return RN(t,e)}const WX=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},dEe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:$X,StyledEngineProvider:uEe,ThemeContext:d0,css:HX,default:BX,internal_processStyles:WX,keyframes:h0},Symbol.toStringTag,{value:"Module"})),UX=Mc(dEe);function Ju(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function zX(t){if(!Ju(t))return t;const e={};return Object.keys(t).forEach(i=>{e[i]=zX(t[i])}),e}function Ss(t,e,i={clone:!0}){const r=i.clone?G({},t):t;return Ju(t)&&Ju(e)&&Object.keys(e).forEach(n=>{n!=="__proto__"&&(Ju(e[n])&&n in t&&Ju(t[n])?r[n]=Ss(t[n],e[n],i):i.clone?r[n]=Ju(e[n])?zX(e[n]):e[n]:r[n]=e[n])}),r}const hEe=Object.freeze(Object.defineProperty({__proto__:null,default:Ss,isPlainObject:Ju},Symbol.toStringTag,{value:"Module"})),pEe=Mc(hEe);function gc(t){let e="https://mui.com/production-error/?code="+t;for(let i=1;i<arguments.length;i+=1)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const fEe=Object.freeze(Object.defineProperty({__proto__:null,default:gc},Symbol.toStringTag,{value:"Module"}));function $e(t){if(typeof t!="string")throw new Error(gc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const gEe=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),mEe=Mc(gEe);var jX={exports:{}},Di={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TV=Symbol.for("react.element"),DV=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),f0=Symbol.for("react.strict_mode"),g0=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),vEe=Symbol.for("react.server_context"),C0=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),w0=Symbol.for("react.memo"),E0=Symbol.for("react.lazy"),CEe=Symbol.for("react.offscreen"),KX;KX=Symbol.for("react.module.reference");function Wa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case TV:switch(t=t.type,t){case p0:case g0:case f0:case y0:case S0:return t;default:switch(t=t&&t.$$typeof,t){case vEe:case v0:case C0:case E0:case w0:case m0:return t;default:return e}}case DV:return e}}}Di.ContextConsumer=v0;Di.ContextProvider=m0;Di.Element=TV;Di.ForwardRef=C0;Di.Fragment=p0;Di.Lazy=E0;Di.Memo=w0;Di.Portal=DV;Di.Profiler=g0;Di.StrictMode=f0;Di.Suspense=y0;Di.SuspenseList=S0;Di.isAsyncMode=function(){return!1};Di.isConcurrentMode=function(){return!1};Di.isContextConsumer=function(t){return Wa(t)===v0};Di.isContextProvider=function(t){return Wa(t)===m0};Di.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===TV};Di.isForwardRef=function(t){return Wa(t)===C0};Di.isFragment=function(t){return Wa(t)===p0};Di.isLazy=function(t){return Wa(t)===E0};Di.isMemo=function(t){return Wa(t)===w0};Di.isPortal=function(t){return Wa(t)===DV};Di.isProfiler=function(t){return Wa(t)===g0};Di.isStrictMode=function(t){return Wa(t)===f0};Di.isSuspense=function(t){return Wa(t)===y0};Di.isSuspenseList=function(t){return Wa(t)===S0};Di.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===p0||t===g0||t===f0||t===y0||t===S0||t===CEe||typeof t=="object"&&t!==null&&(t.$$typeof===E0||t.$$typeof===w0||t.$$typeof===m0||t.$$typeof===v0||t.$$typeof===C0||t.$$typeof===KX||t.getModuleId!==void 0)};Di.typeOf=Wa;jX.exports=Di;var v3=jX.exports;const yEe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function YX(t){const e=`${t}`.match(yEe);return e&&e[1]||""}function qX(t,e=""){return t.displayName||t.name||YX(t)||e}function C3(t,e,i){const r=qX(e);return t.displayName||(r!==""?`${i}(${r})`:i)}function SEe(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return qX(t,"Component");if(typeof t=="object")switch(t.$$typeof){case v3.ForwardRef:return C3(t,t.render,"ForwardRef");case v3.Memo:return C3(t,t.type,"memo");default:return}}}const wEe=Object.freeze(Object.defineProperty({__proto__:null,default:SEe,getFunctionName:YX},Symbol.toStringTag,{value:"Module"})),EEe=Mc(wEe),bEe=["values","unit","step"],REe=t=>{const e=Object.keys(t).map(i=>({key:i,val:t[i]}))||[];return e.sort((i,r)=>i.val-r.val),e.reduce((i,r)=>G({},i,{[r.key]:r.val}),{})};function XX(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:r=5}=t,n=Oe(t,bEe),s=REe(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${i})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${i})`}function u(h,f){const g=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${i}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:f)-r/100}${i})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return G({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:i},n)}const TEe={borderRadius:4},DEe=TEe;function aS(t,e){return e?Ss(t,e,{clone:!1}):t}const PV={xs:0,sm:600,md:900,lg:1200,xl:1536},y3={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${PV[t]}px)`};function xl(t,e,i){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||y3;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=i(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||y3;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||PV).indexOf(a)!==-1){const l=s.up(a);o[l]=i(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return i(e)}function QX(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,n)=>{const s=t.up(n);return r[s]={},r},{}))||{}}function ZX(t,e){return t.reduce((i,r)=>{const n=i[r];return(!n||Object.keys(n).length===0)&&delete i[r],i},e)}function PEe(t,...e){const i=QX(t),r=[i,...e].reduce((n,s)=>Ss(n,s),{});return ZX(Object.keys(i),r)}function xEe(t,e){if(typeof t!="object")return{};const i={},r=Object.keys(e);return Array.isArray(t)?r.forEach((n,s)=>{s<t.length&&(i[n]=!0)}):r.forEach(n=>{t[n]!=null&&(i[n]=!0)}),i}function jI({values:t,breakpoints:e,base:i}){const r=i||xEe(t,e),n=Object.keys(r);if(n.length===0)return t;let s;return n.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function b0(t,e,i=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&i){const r=`vars.${e}`.split(".").reduce((n,s)=>n&&n[s]?n[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,n)=>r&&r[n]!=null?r[n]:null,t)}function EP(t,e,i,r=i){let n;return typeof t=="function"?n=t(i):Array.isArray(t)?n=t[i]||r:n=b0(t,i)||r,e&&(n=e(n,r,t)),n}function _r(t){const{prop:e,cssProperty:i=t.prop,themeKey:r,transform:n}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=b0(l,r)||{};return xl(o,a,d=>{let h=EP(u,n,d);return d===h&&typeof d=="string"&&(h=EP(u,n,`${e}${d==="default"?"":$e(d)}`,d)),i===!1?h:{[i]:h}})};return s.propTypes={},s.filterProps=[e],s}function AEe(t){const e={};return i=>(e[i]===void 0&&(e[i]=t(i)),e[i])}const OEe={m:"margin",p:"padding"},MEe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},S3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},FEe=AEe(t=>{if(t.length>2)if(S3[t])t=S3[t];else return[t];const[e,i]=t.split(""),r=OEe[e],n=MEe[i]||"";return Array.isArray(n)?n.map(s=>r+s):[r+n]}),xV=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],AV=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xV,...AV];function qE(t,e,i,r){var n;const s=(n=b0(t,e,!1))!=null?n:i;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function OV(t){return qE(t,"spacing",8)}function $p(t,e){if(typeof e=="string"||e==null)return e;const i=Math.abs(e),r=t(i);return e>=0?r:typeof r=="number"?-r:`-${r}`}function IEe(t,e){return i=>t.reduce((r,n)=>(r[n]=$p(e,i),r),{})}function LEe(t,e,i,r){if(e.indexOf(i)===-1)return null;const n=FEe(i),s=IEe(n,r),o=t[i];return xl(t,o,s)}function JX(t,e){const i=OV(t.theme);return Object.keys(t).map(r=>LEe(t,e,r,i)).reduce(aS,{})}function Sr(t){return JX(t,xV)}Sr.propTypes={};Sr.filterProps=xV;function wr(t){return JX(t,AV)}wr.propTypes={};wr.filterProps=AV;function _Ee(t=8){if(t.mui)return t;const e=OV({spacing:t}),i=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return i.mui=!0,i}function R0(...t){const e=t.reduce((r,n)=>(n.filterProps.forEach(s=>{r[s]=n}),r),{}),i=r=>Object.keys(r).reduce((n,s)=>e[s]?aS(n,e[s](r)):n,{});return i.propTypes={},i.filterProps=t.reduce((r,n)=>r.concat(n.filterProps),[]),i}function Ca(t){return typeof t!="number"?t:`${t}px solid`}function Ua(t,e){return _r({prop:t,themeKey:"borders",transform:e})}const NEe=Ua("border",Ca),GEe=Ua("borderTop",Ca),kEe=Ua("borderRight",Ca),VEe=Ua("borderBottom",Ca),HEe=Ua("borderLeft",Ca),$Ee=Ua("borderColor"),BEe=Ua("borderTopColor"),WEe=Ua("borderRightColor"),UEe=Ua("borderBottomColor"),zEe=Ua("borderLeftColor"),jEe=Ua("outline",Ca),KEe=Ua("outlineColor"),T0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=qE(t.theme,"shape.borderRadius",4),i=r=>({borderRadius:$p(e,r)});return xl(t,t.borderRadius,i)}return null};T0.propTypes={};T0.filterProps=["borderRadius"];R0(NEe,GEe,kEe,VEe,HEe,$Ee,BEe,WEe,UEe,zEe,T0,jEe,KEe);const D0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=qE(t.theme,"spacing",8),i=r=>({gap:$p(e,r)});return xl(t,t.gap,i)}return null};D0.propTypes={};D0.filterProps=["gap"];const P0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=qE(t.theme,"spacing",8),i=r=>({columnGap:$p(e,r)});return xl(t,t.columnGap,i)}return null};P0.propTypes={};P0.filterProps=["columnGap"];const x0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=qE(t.theme,"spacing",8),i=r=>({rowGap:$p(e,r)});return xl(t,t.rowGap,i)}return null};x0.propTypes={};x0.filterProps=["rowGap"];const YEe=_r({prop:"gridColumn"}),qEe=_r({prop:"gridRow"}),XEe=_r({prop:"gridAutoFlow"}),QEe=_r({prop:"gridAutoColumns"}),ZEe=_r({prop:"gridAutoRows"}),JEe=_r({prop:"gridTemplateColumns"}),ebe=_r({prop:"gridTemplateRows"}),tbe=_r({prop:"gridTemplateAreas"}),ibe=_r({prop:"gridArea"});R0(D0,P0,x0,YEe,qEe,XEe,QEe,ZEe,JEe,ebe,tbe,ibe);function hm(t,e){return e==="grey"?e:t}const rbe=_r({prop:"color",themeKey:"palette",transform:hm}),nbe=_r({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hm}),sbe=_r({prop:"backgroundColor",themeKey:"palette",transform:hm});R0(rbe,nbe,sbe);function xo(t){return t<=1&&t!==0?`${t*100}%`:t}const obe=_r({prop:"width",transform:xo}),MV=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=i=>{var r,n;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[i])||PV[i];return s?((n=t.theme)==null||(n=n.breakpoints)==null?void 0:n.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:xo(i)}};return xl(t,t.maxWidth,e)}return null};MV.filterProps=["maxWidth"];const abe=_r({prop:"minWidth",transform:xo}),lbe=_r({prop:"height",transform:xo}),ube=_r({prop:"maxHeight",transform:xo}),cbe=_r({prop:"minHeight",transform:xo});_r({prop:"size",cssProperty:"width",transform:xo});_r({prop:"size",cssProperty:"height",transform:xo});const dbe=_r({prop:"boxSizing"});R0(obe,MV,abe,lbe,ube,cbe,dbe);const hbe={border:{themeKey:"borders",transform:Ca},borderTop:{themeKey:"borders",transform:Ca},borderRight:{themeKey:"borders",transform:Ca},borderBottom:{themeKey:"borders",transform:Ca},borderLeft:{themeKey:"borders",transform:Ca},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ca},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:T0},color:{themeKey:"palette",transform:hm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hm},backgroundColor:{themeKey:"palette",transform:hm},p:{style:wr},pt:{style:wr},pr:{style:wr},pb:{style:wr},pl:{style:wr},px:{style:wr},py:{style:wr},padding:{style:wr},paddingTop:{style:wr},paddingRight:{style:wr},paddingBottom:{style:wr},paddingLeft:{style:wr},paddingX:{style:wr},paddingY:{style:wr},paddingInline:{style:wr},paddingInlineStart:{style:wr},paddingInlineEnd:{style:wr},paddingBlock:{style:wr},paddingBlockStart:{style:wr},paddingBlockEnd:{style:wr},m:{style:Sr},mt:{style:Sr},mr:{style:Sr},mb:{style:Sr},ml:{style:Sr},mx:{style:Sr},my:{style:Sr},margin:{style:Sr},marginTop:{style:Sr},marginRight:{style:Sr},marginBottom:{style:Sr},marginLeft:{style:Sr},marginX:{style:Sr},marginY:{style:Sr},marginInline:{style:Sr},marginInlineStart:{style:Sr},marginInlineEnd:{style:Sr},marginBlock:{style:Sr},marginBlockStart:{style:Sr},marginBlockEnd:{style:Sr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:D0},rowGap:{style:x0},columnGap:{style:P0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xo},maxWidth:{style:MV},minWidth:{transform:xo},height:{transform:xo},maxHeight:{transform:xo},minHeight:{transform:xo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},XE=hbe;function pbe(...t){const e=t.reduce((r,n)=>r.concat(Object.keys(n)),[]),i=new Set(e);return t.every(r=>i.size===Object.keys(r).length)}function fbe(t,e){return typeof t=="function"?t(e):t}function eQ(){function t(i,r,n,s){const o={[i]:r,theme:n},a=s[i];if(!a)return{[i]:r};const{cssProperty:l=i,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[i]:r};const h=b0(n,u)||{};return d?d(o):xl(o,r,g=>{let v=EP(h,c,g);return g===v&&typeof g=="string"&&(v=EP(h,c,`${i}${g==="default"?"":$e(g)}`,g)),l===!1?v:{[l]:v}})}function e(i){var r;const{sx:n,theme:s={}}=i||{};if(!n)return null;const o=(r=s.unstable_sxConfig)!=null?r:XE;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=QX(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const g=fbe(u[f],s);if(g!=null)if(typeof g=="object")if(o[f])h=aS(h,t(f,g,s,o));else{const v=xl({theme:s},g,C=>({[f]:C}));pbe(v,g)?h[f]=e({sx:g,theme:s}):h=aS(h,v)}else h=aS(h,t(f,g,s,o))}),ZX(d,h)}return Array.isArray(n)?n.map(a):a(n)}return e}const QE=eQ();QE.filterProps=["sx"];function tQ(t,e){const i=this;return i.vars&&typeof i.getColorSchemeSelector=="function"?{[i.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:i.palette.mode===t?e:{}}const gbe=["breakpoints","palette","spacing","shape"];function ZE(t={},...e){const{breakpoints:i={},palette:r={},spacing:n,shape:s={}}=t,o=Oe(t,gbe),a=XX(i),l=_Ee(n);let u=Ss({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},DEe,s)},o);return u.applyStyles=tQ,u=e.reduce((c,d)=>Ss(c,d),u),u.unstable_sxConfig=G({},XE,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return QE({sx:d,theme:this})},u}const mbe=Object.freeze(Object.defineProperty({__proto__:null,default:ZE,private_createBreakpoints:XX,unstable_applyStyles:tQ},Symbol.toStringTag,{value:"Module"})),vbe=Mc(mbe),Cbe=["sx"],ybe=t=>{var e,i;const r={systemProps:{},otherProps:{}},n=(e=t==null||(i=t.theme)==null?void 0:i.unstable_sxConfig)!=null?e:XE;return Object.keys(t).forEach(s=>{n[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function FV(t){const{sx:e}=t,i=Oe(t,Cbe),{systemProps:r,otherProps:n}=ybe(i);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ju(a)?G({},r,a):r}:s=G({},r,e),G({},n,{sx:s})}const Sbe=Object.freeze(Object.defineProperty({__proto__:null,default:QE,extendSxProp:FV,unstable_createStyleFunctionSx:eQ,unstable_defaultSxConfig:XE},Symbol.toStringTag,{value:"Module"})),wbe=Mc(Sbe);var _v=Gu;Object.defineProperty(KE,"__esModule",{value:!0});var Ebe=KE.default=_be;KE.shouldForwardProp=fD;KE.systemDefaultTheme=void 0;var fa=_v(SX()),DN=_v(lwe()),w3=Abe(UX),bbe=pEe;_v(mEe);_v(EEe);var Rbe=_v(vbe),Tbe=_v(wbe);const Dbe=["ownerState"],Pbe=["variants"],xbe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function iQ(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,i=new WeakMap;return(iQ=function(r){return r?i:e})(t)}function Abe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var i=iQ(e);if(i&&i.has(t))return i.get(t);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,i&&i.set(t,r),r}function Obe(t){return Object.keys(t).length===0}function Mbe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function fD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Fbe=KE.systemDefaultTheme=(0,Rbe.default)(),Ibe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function gT({defaultTheme:t,theme:e,themeId:i}){return Obe(e)?t:e[i]||e}function Lbe(t){return t?(e,i)=>i[t]:null}function gD(t,e){let{ownerState:i}=e,r=(0,DN.default)(e,Dbe);const n=typeof t=="function"?t((0,fa.default)({ownerState:i},r)):t;if(Array.isArray(n))return n.flatMap(s=>gD(s,(0,fa.default)({ownerState:i},r)));if(n&&typeof n=="object"&&Array.isArray(n.variants)){const{variants:s=[]}=n;let a=(0,DN.default)(n,Pbe);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,fa.default)({ownerState:i},r,i)):Object.keys(l.props).forEach(c=>{(i==null?void 0:i[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,fa.default)({ownerState:i},r,i)):l.style))}),a}return n}function _be(t={}){const{themeId:e,defaultTheme:i=Fbe,rootShouldForwardProp:r=fD,slotShouldForwardProp:n=fD}=t,s=o=>(0,Tbe.default)((0,fa.default)({},o,{theme:gT((0,fa.default)({},o,{defaultTheme:i,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,w3.internal_processStyles)(o,b=>b.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=Lbe(Ibe(u))}=a,f=(0,DN.default)(a,xbe),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let C,S=fD;u==="Root"||u==="root"?S=r:u?S=n:Mbe(o)&&(S=void 0);const y=(0,w3.default)(o,(0,fa.default)({shouldForwardProp:S,label:C},f)),w=b=>typeof b=="function"&&b.__emotion_real!==b||(0,bbe.isPlainObject)(b)?D=>gD(b,(0,fa.default)({},D,{theme:gT({theme:D.theme,defaultTheme:i,themeId:e})})):b,E=(b,...D)=>{let P=w(b);const O=D?D.map(w):[];l&&h&&O.push(L=>{const k=gT((0,fa.default)({},L,{defaultTheme:i,themeId:e}));if(!k.components||!k.components[l]||!k.components[l].styleOverrides)return null;const $=k.components[l].styleOverrides,U={};return Object.entries($).forEach(([K,j])=>{U[K]=gD(j,(0,fa.default)({},L,{theme:k}))}),h(L,U)}),l&&!g&&O.push(L=>{var k;const $=gT((0,fa.default)({},L,{defaultTheme:i,themeId:e})),U=$==null||(k=$.components)==null||(k=k[l])==null?void 0:k.variants;return gD({variants:U},(0,fa.default)({},L,{theme:$}))}),v||O.push(s);const N=O.length-D.length;if(Array.isArray(b)&&N>0){const L=new Array(N).fill("");P=[...b,...L],P.raw=[...b.raw,...L]}const _=y(P,...O);return o.muiName&&(_.muiName=o.muiName),_};return y.withConfig&&(E.withConfig=y.withConfig),E}}const E3=t=>t,Nbe=()=>{let t=E3;return{configure(e){t=e},generate(e){return t(e)},reset(){t=E3}}},rQ=Nbe(),nQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function at(t,e,i="Mui"){const r=nQ[e];return r?`${i}-${r}`:`${rQ.generate(t)}-${e}`}function Gbe(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Nr={};const kbe=Mc(fEe);function sQ(t,e=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,i))}const Vbe=Object.freeze(Object.defineProperty({__proto__:null,default:sQ},Symbol.toStringTag,{value:"Module"})),Hbe=Mc(Vbe);var oQ=Gu;Object.defineProperty(Nr,"__esModule",{value:!0});var Vi=Nr.alpha=cQ;Nr.blend=Jbe;Nr.colorChannel=void 0;var $be=Nr.darken=LV;Nr.decomposeColor=_a;Nr.emphasize=dQ;var Bbe=Nr.getContrastRatio=Ybe;Nr.getLuminance=bP;Nr.hexToRgb=aQ;Nr.hslToRgb=uQ;var Wbe=Nr.lighten=_V;Nr.private_safeAlpha=qbe;Nr.private_safeColorChannel=void 0;Nr.private_safeDarken=Xbe;Nr.private_safeEmphasize=Zbe;Nr.private_safeLighten=Qbe;Nr.recomposeColor=Nv;Nr.rgbToHex=Kbe;var b3=oQ(kbe),Ube=oQ(Hbe);function IV(t,e=0,i=1){return(0,Ube.default)(t,e,i)}function aQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&i[0].length===1&&(i=i.map(r=>r+r)),i?`rgb${i.length===4?"a":""}(${i.map((r,n)=>n<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function zbe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function _a(t){if(t.type)return t;if(t.charAt(0)==="#")return _a(aQ(t));const e=t.indexOf("("),i=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error((0,b3.default)(9,t));let r=t.substring(e+1,t.length-1),n;if(i==="color"){if(r=r.split(" "),n=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n)===-1)throw new Error((0,b3.default)(10,n))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:i,values:r,colorSpace:n}}const lQ=t=>{const e=_a(t);return e.values.slice(0,3).map((i,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${i}%`:i).join(" ")};Nr.colorChannel=lQ;const jbe=(t,e)=>{try{return lQ(t)}catch{return t}};Nr.private_safeColorChannel=jbe;function Nv(t){const{type:e,colorSpace:i}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((n,s)=>s<3?parseInt(n,10):n):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${i} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Kbe(t){if(t.indexOf("#")===0)return t;const{values:e}=_a(t);return`#${e.map((i,r)=>zbe(r===3?Math.round(255*i):i)).join("")}`}function uQ(t){t=_a(t);const{values:e}=t,i=e[0],r=e[1]/100,n=e[2]/100,s=r*Math.min(n,1-n),o=(u,c=(u+i/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Nv({type:a,values:l})}function bP(t){t=_a(t);let e=t.type==="hsl"||t.type==="hsla"?_a(uQ(t)).values:t.values;return e=e.map(i=>(t.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ybe(t,e){const i=bP(t),r=bP(e);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)}function cQ(t,e){return t=_a(t),e=IV(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Nv(t)}function qbe(t,e,i){try{return cQ(t,e)}catch{return t}}function LV(t,e){if(t=_a(t),e=IV(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)t.values[i]*=1-e;return Nv(t)}function Xbe(t,e,i){try{return LV(t,e)}catch{return t}}function _V(t,e){if(t=_a(t),e=IV(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(t.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return Nv(t)}function Qbe(t,e,i){try{return _V(t,e)}catch{return t}}function dQ(t,e=.15){return bP(t)>.5?LV(t,e):_V(t,e)}function Zbe(t,e,i){try{return dQ(t,e)}catch{return t}}function Jbe(t,e,i,r=1){const n=(l,u)=>Math.round((l**(1/r)*(1-i)+u**(1/r)*i)**r),s=_a(t),o=_a(e),a=[n(s.values[0],o.values[0]),n(s.values[1],o.values[1]),n(s.values[2],o.values[2])];return Nv({type:"rgb",values:a})}const eRe={black:"#000",white:"#fff"},jS=eRe,tRe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},iRe=tRe,rRe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},mg=rRe,nRe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},vg=nRe,sRe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ty=sRe,oRe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Cg=oRe,aRe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},yg=aRe,lRe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Sg=lRe,uRe=["mode","contrastThreshold","tonalOffset"],R3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:jS.white,default:jS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},KI={text:{primary:jS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:jS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function T3(t,e,i,r){const n=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:e==="light"?t.light=Wbe(t.main,n):e==="dark"&&(t.dark=$be(t.main,s)))}function cRe(t="light"){return t==="dark"?{main:Cg[200],light:Cg[50],dark:Cg[400]}:{main:Cg[700],light:Cg[400],dark:Cg[800]}}function dRe(t="light"){return t==="dark"?{main:mg[200],light:mg[50],dark:mg[400]}:{main:mg[500],light:mg[300],dark:mg[700]}}function hRe(t="light"){return t==="dark"?{main:vg[500],light:vg[300],dark:vg[700]}:{main:vg[700],light:vg[400],dark:vg[800]}}function pRe(t="light"){return t==="dark"?{main:yg[400],light:yg[300],dark:yg[700]}:{main:yg[700],light:yg[500],dark:yg[900]}}function fRe(t="light"){return t==="dark"?{main:Sg[400],light:Sg[300],dark:Sg[700]}:{main:Sg[800],light:Sg[500],dark:Sg[900]}}function gRe(t="light"){return t==="dark"?{main:ty[400],light:ty[300],dark:ty[700]}:{main:"#ed6c02",light:ty[500],dark:ty[900]}}function mRe(t){const{mode:e="light",contrastThreshold:i=3,tonalOffset:r=.2}=t,n=Oe(t,uRe),s=t.primary||cRe(e),o=t.secondary||dRe(e),a=t.error||hRe(e),l=t.info||pRe(e),u=t.success||fRe(e),c=t.warning||gRe(e);function d(v){return Bbe(v,KI.text.primary)>=i?KI.text.primary:R3.text.primary}const h=({color:v,name:C,mainShade:S=500,lightShade:y=300,darkShade:w=700})=>{if(v=G({},v),!v.main&&v[S]&&(v.main=v[S]),!v.hasOwnProperty("main"))throw new Error(gc(11,C?` (${C})`:"",S));if(typeof v.main!="string")throw new Error(gc(12,C?` (${C})`:"",JSON.stringify(v.main)));return T3(v,"light",y,r),T3(v,"dark",w,r),v.contrastText||(v.contrastText=d(v.main)),v},f={dark:KI,light:R3};return Ss(G({common:G({},jS),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:iRe,contrastThreshold:i,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),n)}const vRe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function CRe(t){return Math.round(t*1e5)/1e5}const D3={textTransform:"uppercase"},P3='"Roboto", "Helvetica", "Arial", sans-serif';function yRe(t,e){const i=typeof e=="function"?e(t):e,{fontFamily:r=P3,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=i,h=Oe(i,vRe),f=n/14,g=d||(S=>`${S/u*f}rem`),v=(S,y,w,E,b)=>G({fontFamily:r,fontWeight:S,fontSize:g(y),lineHeight:w},r===P3?{letterSpacing:`${CRe(E/y)}em`}:{},b,c),C={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,D3),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,D3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ss(G({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:n,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},C),h,{clone:!1})}const SRe=.2,wRe=.14,ERe=.12;function sr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${SRe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wRe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${ERe})`].join(",")}const bRe=["none",sr(0,2,1,-1,0,1,1,0,0,1,3,0),sr(0,3,1,-2,0,2,2,0,0,1,5,0),sr(0,3,3,-2,0,3,4,0,0,1,8,0),sr(0,2,4,-1,0,4,5,0,0,1,10,0),sr(0,3,5,-1,0,5,8,0,0,1,14,0),sr(0,3,5,-1,0,6,10,0,0,1,18,0),sr(0,4,5,-2,0,7,10,1,0,2,16,1),sr(0,5,5,-3,0,8,10,1,0,3,14,2),sr(0,5,6,-3,0,9,12,1,0,3,16,2),sr(0,6,6,-3,0,10,14,1,0,4,18,3),sr(0,6,7,-4,0,11,15,1,0,4,20,3),sr(0,7,8,-4,0,12,17,2,0,5,22,4),sr(0,7,8,-4,0,13,19,2,0,5,24,4),sr(0,7,9,-4,0,14,21,2,0,5,26,4),sr(0,8,9,-5,0,15,22,2,0,6,28,5),sr(0,8,10,-5,0,16,24,2,0,6,30,5),sr(0,8,11,-5,0,17,26,2,0,6,32,5),sr(0,9,11,-5,0,18,28,2,0,7,34,6),sr(0,9,12,-6,0,19,29,2,0,7,36,6),sr(0,10,13,-6,0,20,31,3,0,8,38,7),sr(0,10,13,-6,0,21,33,3,0,8,40,7),sr(0,10,14,-6,0,22,35,3,0,8,42,7),sr(0,11,14,-7,0,23,36,3,0,9,44,8),sr(0,11,15,-7,0,24,38,3,0,9,46,8)],RRe=["duration","easing","delay"],TRe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},DRe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function x3(t){return`${Math.round(t)}ms`}function PRe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function xRe(t){const e=G({},TRe,t.easing),i=G({},DRe,t.duration);return G({getAutoHeightDuration:PRe,create:(n=["all"],s={})=>{const{duration:o=i.standard,easing:a=e.easeInOut,delay:l=0}=s;return Oe(s,RRe),(Array.isArray(n)?n:[n]).map(u=>`${u} ${typeof o=="string"?o:x3(o)} ${a} ${typeof l=="string"?l:x3(l)}`).join(",")}},t,{easing:e,duration:i})}const ARe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ORe=ARe,MRe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function FRe(t={},...e){const{mixins:i={},palette:r={},transitions:n={},typography:s={}}=t,o=Oe(t,MRe);if(t.vars)throw new Error(gc(18));const a=mRe(r),l=ZE(t);let u=Ss(l,{mixins:Gbe(l.breakpoints,i),palette:a,shadows:bRe.slice(),typography:yRe(a,s),transitions:xRe(n),zIndex:G({},ORe)});return u=Ss(u,o),u=e.reduce((c,d)=>Ss(c,d),u),u.unstable_sxConfig=G({},XE,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return QE({sx:d,theme:this})},u}const IRe=FRe(),A0=IRe,O0="$$material";function hQ(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const LRe=t=>hQ(t)&&t!=="classes",Yo=LRe,be=Ebe({themeId:O0,defaultTheme:A0,rootShouldForwardProp:Yo});function NV(t,e){const i=G({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))i[r]=G({},t[r],i[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const n=t[r]||{},s=e[r];i[r]={},!s||!Object.keys(s)?i[r]=n:!n||!Object.keys(n)?i[r]=s:(i[r]=G({},s),Object.keys(n).forEach(o=>{i[r][o]=NV(n[o],s[o])}))}else i[r]===void 0&&(i[r]=t[r])}),i}function pQ(t){const{theme:e,name:i,props:r}=t;return!e||!e.components||!e.components[i]||!e.components[i].defaultProps?r:NV(e.components[i].defaultProps,r)}function _Re(t){return Object.keys(t).length===0}function fQ(t=null){const e=T.useContext(d0);return!e||_Re(e)?t:e}const NRe=ZE();function JE(t=NRe){return fQ(t)}function gQ({props:t,name:e,defaultTheme:i,themeId:r}){let n=JE(i);return r&&(n=n[r]||n),pQ({theme:n,name:e,props:t})}function rt({props:t,name:e}){return gQ({props:t,name:e,defaultTheme:A0,themeId:O0})}const A3=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function GRe({styles:t,themeId:e,defaultTheme:i={}}){const r=JE(i),n=typeof t=="function"?t(e&&r[e]||r):t;return Y.jsx($X,{styles:n})}function lt(t,e,i="Mui"){const r={};return e.forEach(n=>{r[n]=at(t,n,i)}),r}const kRe=["ownerState"],VRe=["variants"],HRe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $Re(t){return Object.keys(t).length===0}function BRe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function mD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const WRe=ZE(),URe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function mT({defaultTheme:t,theme:e,themeId:i}){return $Re(e)?t:e[i]||e}function zRe(t){return t?(e,i)=>i[t]:null}function vD(t,e){let{ownerState:i}=e,r=Oe(e,kRe);const n=typeof t=="function"?t(G({ownerState:i},r)):t;if(Array.isArray(n))return n.flatMap(s=>vD(s,G({ownerState:i},r)));if(n&&typeof n=="object"&&Array.isArray(n.variants)){const{variants:s=[]}=n;let a=Oe(n,VRe);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(G({ownerState:i},r,i)):Object.keys(l.props).forEach(c=>{(i==null?void 0:i[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(G({ownerState:i},r,i)):l.style))}),a}return n}function jRe(t={}){const{themeId:e,defaultTheme:i=WRe,rootShouldForwardProp:r=mD,slotShouldForwardProp:n=mD}=t,s=o=>QE(G({},o,{theme:mT(G({},o,{defaultTheme:i,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{WX(o,b=>b.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=zRe(URe(u))}=a,f=Oe(a,HRe),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let C,S=mD;u==="Root"||u==="root"?S=r:u?S=n:BRe(o)&&(S=void 0);const y=BX(o,G({shouldForwardProp:S,label:C},f)),w=b=>typeof b=="function"&&b.__emotion_real!==b||Ju(b)?D=>vD(b,G({},D,{theme:mT({theme:D.theme,defaultTheme:i,themeId:e})})):b,E=(b,...D)=>{let P=w(b);const O=D?D.map(w):[];l&&h&&O.push(L=>{const k=mT(G({},L,{defaultTheme:i,themeId:e}));if(!k.components||!k.components[l]||!k.components[l].styleOverrides)return null;const $=k.components[l].styleOverrides,U={};return Object.entries($).forEach(([K,j])=>{U[K]=vD(j,G({},L,{theme:k}))}),h(L,U)}),l&&!g&&O.push(L=>{var k;const $=mT(G({},L,{defaultTheme:i,themeId:e})),U=$==null||(k=$.components)==null||(k=k[l])==null?void 0:k.variants;return vD({variants:U},G({},L,{theme:$}))}),v||O.push(s);const N=O.length-D.length;if(Array.isArray(b)&&N>0){const L=new Array(N).fill("");P=[...b,...L],P.raw=[...b.raw,...L]}const _=y(P,...O);return o.muiName&&(_.muiName=o.muiName),_};return y.withConfig&&(E.withConfig=y.withConfig),E}}const KRe=jRe(),Xr=typeof window<"u"?T.useLayoutEffect:T.useEffect;function YRe(t,e,i,r,n){const[s,o]=T.useState(()=>n&&i?i(t).matches:r?r(t).matches:e);return Xr(()=>{let a=!0;if(!i)return;const l=i(t),u=()=>{a&&o(l.matches)};return u(),l.addListener(u),()=>{a=!1,l.removeListener(u)}},[t,i]),s}const mQ=T.useSyncExternalStore;function qRe(t,e,i,r,n){const s=T.useCallback(()=>e,[e]),o=T.useMemo(()=>{if(n&&i)return()=>i(t).matches;if(r!==null){const{matches:c}=r(t);return()=>c}return s},[s,t,r,n,i]),[a,l]=T.useMemo(()=>{if(i===null)return[s,()=>()=>{}];const c=i(t);return[()=>c.matches,d=>(c.addListener(d),()=>{c.removeListener(d)})]},[s,i,t]);return mQ(l,a,o)}function vQ(t,e={}){const i=fQ(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:n=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=pQ({name:"MuiUseMediaQuery",props:e,theme:i});let l=typeof t=="function"?t(i):t;return l=l.replace(/^@media( ?)/m,""),(mQ!==void 0?qRe:YRe)(l,n,s,o,a)}function XRe(t,e=0,i=1){return sQ(t,e,i)}function QRe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&i[0].length===1&&(i=i.map(r=>r+r)),i?`rgb${i.length===4?"a":""}(${i.map((r,n)=>n<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function CQ(t){if(t.type)return t;if(t.charAt(0)==="#")return CQ(QRe(t));const e=t.indexOf("("),i=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error(gc(9,t));let r=t.substring(e+1,t.length-1),n;if(i==="color"){if(r=r.split(" "),n=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n)===-1)throw new Error(gc(10,n))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:i,values:r,colorSpace:n}}function ZRe(t){const{type:e,colorSpace:i}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((n,s)=>s<3?parseInt(n,10):n):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${i} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Lm(t,e){return t=CQ(t),e=XRe(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ZRe(t)}const JRe=ee.oneOfType([ee.func,ee.object]),yQ=JRe;function PN(...t){return t.reduce((e,i)=>i==null?e:function(...n){e.apply(this,n),i.apply(this,n)},()=>{})}function M0(t,e=166){let i;function r(...n){const s=()=>{t.apply(this,n)};clearTimeout(i),i=setTimeout(s,e)}return r.clear=()=>{clearTimeout(i)},r}function eTe(t,e){return()=>null}function lS(t,e){var i,r;return T.isValidElement(t)&&e.indexOf((i=t.type.muiName)!=null?i:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function on(t){return t&&t.ownerDocument||document}function Su(t){return on(t).defaultView||window}function tTe(t,e){return()=>null}function RP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let O3=0;function iTe(t){const[e,i]=T.useState(t),r=t||e;return T.useEffect(()=>{e==null&&(O3+=1,i(`mui-${O3}`))},[e]),r}const M3=YD.useId;function Ic(t){if(M3!==void 0){const e=M3();return t??e}return iTe(t)}function rTe(t,e,i,r,n){return null}function wu({controlled:t,default:e,name:i,state:r="value"}){const{current:n}=T.useRef(t!==void 0),[s,o]=T.useState(e),a=n?t:s,l=T.useCallback(u=>{n||o(u)},[]);return[a,l]}function Xe(t){const e=T.useRef(t);return Xr(()=>{e.current=t}),T.useRef((...i)=>(0,e.current)(...i)).current}function ri(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(i=>{RP(i,e)})},t)}const F3={};function nTe(t,e){const i=T.useRef(F3);return i.current===F3&&(i.current=t(e)),i}const sTe=[];function oTe(t){T.useEffect(t,sTe)}class F0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new F0}start(e,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},e)}}function SQ(){const t=nTe(F0.create).current;return oTe(t.disposeEffect),t}let I0=!0,xN=!1;const aTe=new F0,lTe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function uTe(t){const{type:e,tagName:i}=t;return!!(i==="INPUT"&&lTe[e]&&!t.readOnly||i==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function cTe(t){t.metaKey||t.altKey||t.ctrlKey||(I0=!0)}function YI(){I0=!1}function dTe(){this.visibilityState==="hidden"&&xN&&(I0=!0)}function hTe(t){t.addEventListener("keydown",cTe,!0),t.addEventListener("mousedown",YI,!0),t.addEventListener("pointerdown",YI,!0),t.addEventListener("touchstart",YI,!0),t.addEventListener("visibilitychange",dTe,!0)}function pTe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return I0||uTe(e)}function wQ(){const t=T.useCallback(n=>{n!=null&&hTe(n.ownerDocument)},[]),e=T.useRef(!1);function i(){return e.current?(xN=!0,aTe.start(100,()=>{xN=!1}),e.current=!1,!0):!1}function r(n){return pTe(n)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:i,ref:t}}function EQ(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const fTe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},gTe=fTe,mTe=T.createContext(),bQ=()=>{const t=T.useContext(mTe);return t??!1};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function vTe(t,e){if(mc(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RQ(t){var e=vTe(t,"string");return mc(e)=="symbol"?e:e+""}const CTe=["component","direction","spacing","divider","children","className","useFlexGap"],yTe=ZE(),STe=KRe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function wTe(t){return gQ({props:t,name:"MuiStack",defaultTheme:yTe})}function ETe(t,e){const i=T.Children.toArray(t).filter(Boolean);return i.reduce((r,n,s)=>(r.push(n),s<i.length-1&&r.push(T.cloneElement(e,{key:`separator-${s}`})),r),[])}const bTe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],RTe=({ownerState:t,theme:e})=>{let i=G({display:"flex",flexDirection:"column"},xl({theme:e},jI({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=OV(e),n=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),s=jI({values:t.direction,base:n}),o=jI({values:t.spacing,base:n});typeof s=="object"&&Object.keys(s).forEach((l,u,c)=>{if(!s[l]){const h=u>0?s[c[u-1]]:"column";s[l]=h}}),i=Ss(i,xl({theme:e},o,(l,u)=>t.useFlexGap?{gap:$p(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${bTe(u?s[u]:t.direction)}`]:$p(r,l)}}))}return i=PEe(e.breakpoints,i),i};function TTe(t={}){const{createStyledComponent:e=STe,useThemeProps:i=wTe,componentName:r="MuiStack"}=t,n=()=>ot({root:["root"]},l=>at(r,l),{}),s=e(RTe);return T.forwardRef(function(l,u){const c=i(l),d=FV(c),{component:h="div",direction:f="column",spacing:g=0,divider:v,children:C,className:S,useFlexGap:y=!1}=d,w=Oe(d,CTe),E={direction:f,spacing:g,useFlexGap:y},b=n();return Y.jsx(s,G({as:h,ownerState:E,ref:u,className:Le(b.root,S)},w,{children:v?ETe(C,v):C}))})}function za(){const t=JE(A0);return t[O0]||t}function DTe(t){return at("MuiPaper",t)}lt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const PTe=["className","component","elevation","square","variant"],xTe=t=>{const{square:e,elevation:i,variant:r,classes:n}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${i}`]};return ot(s,DTe,n)},ATe=be("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],!i.square&&e.rounded,i.variant==="elevation"&&e[`elevation${i.elevation}`]]}})(({theme:t,ownerState:e})=>{var i;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Vi("#fff",A3(e.elevation))}, ${Vi("#fff",A3(e.elevation))})`},t.vars&&{backgroundImage:(i=t.vars.overlays)==null?void 0:i[e.elevation]}))}),OTe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPaper"}),{className:n,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=Oe(r,PTe),c=G({},r,{component:s,elevation:o,square:a,variant:l}),d=xTe(c);return Y.jsx(ATe,G({as:s,ownerState:c,className:Le(d.root,n),ref:i},u))}),Gv=OTe;function MTe(t){return at("MuiAppBar",t)}lt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const FTe=["className","color","enableColorOnDark","position"],ITe=t=>{const{color:e,position:i,classes:r}=t,n={root:["root",`color${$e(e)}`,`position${$e(i)}`]};return ot(n,MTe,r)},vT=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,LTe=be(Gv,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${$e(i.position)}`],e[`color${$e(i.color)}`]]}})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return G({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&G({},e.color==="default"&&{backgroundColor:i,color:t.palette.getContrastText(i)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&G({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&G({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:vT(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:vT(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:vT(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:vT(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),_Te=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiAppBar"}),{className:n,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=Oe(r,FTe),u=G({},r,{color:s,position:a,enableColorOnDark:o}),c=ITe(u);return Y.jsx(LTe,G({square:!0,component:"header",ownerState:u,elevation:4,className:Le(c.root,n,a==="fixed"&&"mui-fixed"),ref:i},l))}),NTe=_Te;function GTe(t){return at("MuiToolbar",t)}lt("MuiToolbar",["root","gutters","regular","dense"]);const kTe=["className","component","disableGutters","variant"],VTe=t=>{const{classes:e,disableGutters:i,variant:r}=t;return ot({root:["root",!i&&"gutters",r]},GTe,e)},HTe=be("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disableGutters&&e.gutters,e[i.variant]]}})(({theme:t,ownerState:e})=>G({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),$Te=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiToolbar"}),{className:n,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=Oe(r,kTe),u=G({},r,{component:s,disableGutters:o,variant:a}),c=VTe(u);return Y.jsx(HTe,G({as:s,className:Le(c.root,n),ref:i,ownerState:u},l))}),BTe=$Te;function _m(t){return typeof t=="string"}function WTe(t,e,i){return t===void 0||_m(t)?e:G({},e,{ownerState:G({},e.ownerState,i)})}const UTe={disableDefaultClasses:!1},zTe=T.createContext(UTe);function jTe(t){const{disableDefaultClasses:e}=T.useContext(zTe);return i=>e?"":t(i)}function TQ(t,e=[]){if(t===void 0)return{};const i={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{i[r]=t[r]}),i}function GV(t,e,i){return typeof t=="function"?t(e,i):t}function I3(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(i=>!(i.match(/^on[A-Z]/)&&typeof t[i]=="function")).forEach(i=>{e[i]=t[i]}),e}function KTe(t){const{getSlotProps:e,additionalProps:i,externalSlotProps:r,externalForwardedProps:n,className:s}=t;if(!e){const f=Le(i==null?void 0:i.className,s,n==null?void 0:n.className,r==null?void 0:r.className),g=G({},i==null?void 0:i.style,n==null?void 0:n.style,r==null?void 0:r.style),v=G({},i,n,r);return f.length>0&&(v.className=f),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const o=TQ(G({},n,r)),a=I3(r),l=I3(n),u=e(o),c=Le(u==null?void 0:u.className,i==null?void 0:i.className,s,n==null?void 0:n.className,r==null?void 0:r.className),d=G({},u==null?void 0:u.style,i==null?void 0:i.style,n==null?void 0:n.style,r==null?void 0:r.style),h=G({},u,i,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const YTe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ii(t){var e;const{elementType:i,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:s=!1}=t,o=Oe(t,YTe),a=s?{}:GV(r,n),{props:l,internalRef:u}=KTe(G({},o,{externalSlotProps:a})),c=ri(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return WTe(i,G({},l,{ref:c}),n)}function qTe(t){const e=on(t);return e.body===t?Su(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function uS(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function L3(t){return parseInt(Su(t).getComputedStyle(t).paddingRight,10)||0}function XTe(t){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return i||r}function _3(t,e,i,r,n){const s=[e,i,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!XTe(o);a&&l&&uS(o,n)})}function qI(t,e){let i=-1;return t.some((r,n)=>e(r)?(i=n,!0):!1),i}function QTe(t,e){const i=[],r=t.container;if(!e.disableScrollLock){if(qTe(r)){const o=EQ(on(r));i.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${L3(r)+o}px`;const a=on(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{i.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${L3(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=on(r).body;else{const o=r.parentElement,a=Su(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}i.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{i.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function ZTe(t){const e=[];return[].forEach.call(t.children,i=>{i.getAttribute("aria-hidden")==="true"&&e.push(i)}),e}class JTe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,i){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&uS(e.modalRef,!1);const n=ZTe(i);_3(i,e.mount,e.modalRef,n,!0);const s=qI(this.containers,o=>o.container===i);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:i,restore:null,hiddenSiblings:n}),r)}mount(e,i){const r=qI(this.containers,s=>s.modals.indexOf(e)!==-1),n=this.containers[r];n.restore||(n.restore=QTe(n,i))}remove(e,i=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const n=qI(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[n];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&uS(e.modalRef,i),_3(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(n,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&uS(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function eDe(t){return typeof t=="function"?t():t}function tDe(t){return t?t.props.hasOwnProperty("in"):!1}const iDe=new JTe;function rDe(t){const{container:e,disableEscapeKeyDown:i=!1,disableScrollLock:r=!1,manager:n=iDe,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=T.useRef({}),f=T.useRef(null),g=T.useRef(null),v=ri(g,d),[C,S]=T.useState(!c),y=tDe(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const E=()=>on(f.current),b=()=>(h.current.modalRef=g.current,h.current.mount=f.current,h.current),D=()=>{n.mount(b(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},P=Xe(()=>{const j=eDe(e)||E().body;n.add(b(),j),g.current&&D()}),O=T.useCallback(()=>n.isTopModal(b()),[n]),N=Xe(j=>{f.current=j,j&&(c&&O()?D():g.current&&uS(g.current,w))}),_=T.useCallback(()=>{n.remove(b(),w)},[w,n]);T.useEffect(()=>()=>{_()},[_]),T.useEffect(()=>{c?P():(!y||!s)&&_()},[c,_,y,s,P]);const L=j=>Q=>{var H;(H=j.onKeyDown)==null||H.call(j,Q),!(Q.key!=="Escape"||Q.which===229||!O())&&(i||(Q.stopPropagation(),u&&u(Q,"escapeKeyDown")))},k=j=>Q=>{var H;(H=j.onClick)==null||H.call(j,Q),Q.target===Q.currentTarget&&u&&u(Q,"backdropClick")};return{getRootProps:(j={})=>{const Q=TQ(t);delete Q.onTransitionEnter,delete Q.onTransitionExited;const H=G({},Q,j);return G({role:"presentation"},H,{onKeyDown:L(H),ref:v})},getBackdropProps:(j={})=>{const Q=j;return G({"aria-hidden":!0},Q,{onClick:k(Q),open:c})},getTransitionProps:()=>{const j=()=>{S(!1),o&&o()},Q=()=>{S(!0),a&&a(),s&&_()};return{onEnter:PN(j,l==null?void 0:l.props.onEnter),onExited:PN(Q,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:N,isTopModal:O,exited:C,hasTransition:y}}const nDe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function sDe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function oDe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let i=e(`[name="${t.name}"]:checked`);return i||(i=e(`[name="${t.name}"]`)),i!==t}function aDe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||oDe(t))}function lDe(t){const e=[],i=[];return Array.from(t.querySelectorAll(nDe)).forEach((r,n)=>{const s=sDe(r);s===-1||!aDe(r)||(s===0?e.push(r):i.push({documentOrder:n,tabIndex:s,node:r}))}),i.sort((r,n)=>r.tabIndex===n.tabIndex?r.documentOrder-n.documentOrder:r.tabIndex-n.tabIndex).map(r=>r.node).concat(e)}function uDe(){return!0}function DQ(t){const{children:e,disableAutoFocus:i=!1,disableEnforceFocus:r=!1,disableRestoreFocus:n=!1,getTabbable:s=lDe,isEnabled:o=uDe,open:a}=t,l=T.useRef(!1),u=T.useRef(null),c=T.useRef(null),d=T.useRef(null),h=T.useRef(null),f=T.useRef(!1),g=T.useRef(null),v=ri(e.ref,g),C=T.useRef(null);T.useEffect(()=>{!a||!g.current||(f.current=!i)},[i,a]),T.useEffect(()=>{if(!a||!g.current)return;const w=on(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),f.current&&g.current.focus()),()=>{n||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),T.useEffect(()=>{if(!a||!g.current)return;const w=on(g.current),E=P=>{C.current=P,!(r||!o()||P.key!=="Tab")&&w.activeElement===g.current&&P.shiftKey&&(l.current=!0,c.current&&c.current.focus())},b=()=>{const P=g.current;if(P===null)return;if(!w.hasFocus()||!o()||l.current){l.current=!1;return}if(P.contains(w.activeElement)||r&&w.activeElement!==u.current&&w.activeElement!==c.current)return;if(w.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let O=[];if((w.activeElement===u.current||w.activeElement===c.current)&&(O=s(g.current)),O.length>0){var N,_;const L=!!((N=C.current)!=null&&N.shiftKey&&((_=C.current)==null?void 0:_.key)==="Tab"),k=O[0],$=O[O.length-1];typeof k!="string"&&typeof $!="string"&&(L?$.focus():k.focus())}else P.focus()};w.addEventListener("focusin",b),w.addEventListener("keydown",E,!0);const D=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(D),w.removeEventListener("focusin",b),w.removeEventListener("keydown",E,!0)}},[i,r,n,o,a,s]);const S=w=>{d.current===null&&(d.current=w.relatedTarget),f.current=!0,h.current=w.target;const E=e.props.onFocus;E&&E(w)},y=w=>{d.current===null&&(d.current=w.relatedTarget),f.current=!0};return Y.jsxs(T.Fragment,{children:[Y.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),T.cloneElement(e,{ref:v,onFocus:S}),Y.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}function cDe(t){return typeof t=="function"?t():t}const PQ=T.forwardRef(function(e,i){const{children:r,container:n,disablePortal:s=!1}=e,[o,a]=T.useState(null),l=ri(T.isValidElement(r)?r.ref:null,i);if(Xr(()=>{s||a(cDe(n)||document.body)},[n,s]),Xr(()=>{if(o&&!s)return RP(i,o),()=>{RP(i,null)}},[i,o,s]),s){if(T.isValidElement(r)){const u={ref:l};return T.cloneElement(r,u)}return Y.jsx(T.Fragment,{children:r})}return Y.jsx(T.Fragment,{children:o&&zE.createPortal(r,o)})});function TP(t,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},TP(t,e)}function L0(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,TP(t,e)}function dDe(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function xQ(t,e){t.classList?t.classList.add(e):dDe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function N3(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function AQ(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=N3(t.className,e):t.setAttribute("class",N3(t.className&&t.className.baseVal||"",e))}const G3={disabled:!1},DP=W.createContext(null);var OQ=function(e){return e.scrollTop},Fy="unmounted",Hh="exited",$h="entering",Dg="entered",AN="exiting",Lc=function(t){L0(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var o=n,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Hh,s.appearStatus=$h):l=Dg:r.unmountOnExit||r.mountOnEnter?l=Fy:l=Hh,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(n,s){var o=n.in;return o&&s.status===Fy?{status:Hh}:null};var i=e.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(n){var s=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==$h&&o!==Dg&&(s=$h):(o===$h||o===Dg)&&(s=AN)}this.updateStatus(!1,s)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var n=this.props.timeout,s,o,a;return s=o=a=n,n!=null&&typeof n!="number"&&(s=n.exit,o=n.enter,a=n.appear!==void 0?n.appear:o),{exit:s,enter:o,appear:a}},i.updateStatus=function(n,s){if(n===void 0&&(n=!1),s!==null)if(this.cancelNextCallback(),s===$h){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:rc.findDOMNode(this);o&&OQ(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hh&&this.setState({status:Fy})},i.performEnter=function(n){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:n,l=this.props.nodeRef?[a]:[rc.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!n&&!o||G3.disabled){this.safeSetState({status:Dg},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:$h},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Dg},function(){s.props.onEntered(u,c)})})})},i.performExit=function(){var n=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:rc.findDOMNode(this);if(!s||G3.disabled){this.safeSetState({status:Hh},function(){n.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:AN},function(){n.props.onExiting(a),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:Hh},function(){n.props.onExited(a)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(n,s){s=this.setNextCallback(s),this.setState(n,s)},i.setNextCallback=function(n){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,n(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},i.onTransitionEnd=function(n,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:rc.findDOMNode(this),a=n==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}n!=null&&setTimeout(this.nextCallback,n)},i.render=function(){var n=this.state.status;if(n===Fy)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Oe(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return W.createElement(DP.Provider,{value:null},typeof o=="function"?o(n,a):W.cloneElement(W.Children.only(o),a))},e}(W.Component);Lc.contextType=DP;Lc.propTypes={};function wg(){}Lc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wg,onEntering:wg,onEntered:wg,onExit:wg,onExiting:wg,onExited:wg};Lc.UNMOUNTED=Fy;Lc.EXITED=Hh;Lc.ENTERING=$h;Lc.ENTERED=Dg;Lc.EXITING=AN;const _0=Lc;var hDe=function(e,i){return e&&i&&i.split(" ").forEach(function(r){return xQ(e,r)})},XI=function(e,i){return e&&i&&i.split(" ").forEach(function(r){return AQ(e,r)})},kV=function(t){L0(e,t);function e(){for(var r,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1];r.removeClasses(c,"exit"),r.addClass(c,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],h=d?"appear":"enter";r.addClass(c,h,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],h=d?"appear":"enter";r.removeClasses(c,h),r.addClass(c,h,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",d=u?""+c+a:l[a],h=u?d+"-active":l[a+"Active"],f=u?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:f}},r}var i=e.prototype;return i.addClass=function(n,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&o==="done"&&u&&(a+=" "+u),o==="active"&&n&&OQ(n),a&&(this.appliedClasses[s][o]=a,hDe(n,a))},i.removeClasses=function(n,s){var o=this.appliedClasses[s],a=o.base,l=o.active,u=o.done;this.appliedClasses[s]={},a&&XI(n,a),l&&XI(n,l),u&&XI(n,u)},i.render=function(){var n=this.props;n.classNames;var s=Oe(n,["classNames"]);return W.createElement(_0,G({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(W.Component);kV.defaultProps={classNames:""};kV.propTypes={};const pDe=kV;function VV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(t,e){var i=function(s){return e&&T.isValidElement(s)?e(s):s},r=Object.create(null);return t&&T.Children.map(t,function(n){return n}).forEach(function(n){r[n.key]=i(n)}),r}function fDe(t,e){t=t||{},e=e||{};function i(c){return c in e?e[c]:t[c]}var r=Object.create(null),n=[];for(var s in t)s in e?n.length&&(r[s]=n,n=[]):n.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=i(u)}a[l]=i(l)}for(o=0;o<n.length;o++)a[n[o]]=i(n[o]);return a}function rp(t,e,i){return i[e]!=null?i[e]:t.props[e]}function gDe(t,e){return HV(t.children,function(i){return T.cloneElement(i,{onExited:e.bind(null,i),in:!0,appear:rp(i,"appear",t),enter:rp(i,"enter",t),exit:rp(i,"exit",t)})})}function mDe(t,e,i){var r=HV(t.children),n=fDe(e,r);return Object.keys(n).forEach(function(s){var o=n[s];if(T.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=T.isValidElement(u)&&!u.props.in;l&&(!a||c)?n[s]=T.cloneElement(o,{onExited:i.bind(null,o),in:!0,exit:rp(o,"exit",t),enter:rp(o,"enter",t)}):!l&&a&&!c?n[s]=T.cloneElement(o,{in:!1}):l&&a&&T.isValidElement(u)&&(n[s]=T.cloneElement(o,{onExited:i.bind(null,o),in:u.props.in,exit:rp(o,"exit",t),enter:rp(o,"enter",t)}))}}),n}var vDe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},CDe={component:"div",childFactory:function(e){return e}},$V=function(t){L0(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var o=s.handleExited.bind(VV(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var i=e.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(n,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?gDe(n,a):mDe(n,o,a),firstRender:!1}},i.handleExited=function(n,s){var o=HV(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(s),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[n.key],{children:l}}))},i.render=function(){var n=this.props,s=n.component,o=n.childFactory,a=Oe(n,["component","childFactory"]),l=this.state.contextValue,u=vDe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?W.createElement(DP.Provider,{value:l},u):W.createElement(DP.Provider,{value:l},W.createElement(s,a,u))},e}(W.Component);$V.propTypes={};$V.defaultProps=CDe;const BV=$V,WV=t=>t.scrollTop;function Nm(t,e){var i,r;const{timeout:n,easing:s,style:o={}}=t;return{duration:(i=o.transitionDuration)!=null?i:typeof n=="number"?n:n[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const yDe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],SDe={entering:{opacity:1},entered:{opacity:1}},wDe=T.forwardRef(function(e,i){const r=za(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:g,onExiting:v,style:C,timeout:S=n,TransitionComponent:y=_0}=e,w=Oe(e,yDe),E=T.useRef(null),b=ri(E,a.ref,i),D=U=>K=>{if(U){const j=E.current;K===void 0?U(j):U(j,K)}},P=D(h),O=D((U,K)=>{WV(U);const j=Nm({style:C,timeout:S,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",j),U.style.transition=r.transitions.create("opacity",j),c&&c(U,K)}),N=D(d),_=D(v),L=D(U=>{const K=Nm({style:C,timeout:S,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",K),U.style.transition=r.transitions.create("opacity",K),f&&f(U)}),k=D(g),$=U=>{s&&s(E.current,U)};return Y.jsx(y,G({appear:o,in:u,nodeRef:E,onEnter:O,onEntered:N,onEntering:P,onExit:L,onExited:k,onExiting:_,addEndListener:$,timeout:S},w,{children:(U,K)=>T.cloneElement(a,G({style:G({opacity:0,visibility:U==="exited"&&!u?"hidden":void 0},SDe[U],C,a.props.style),ref:b},K))}))}),kv=wDe;function EDe(t){return at("MuiBackdrop",t)}lt("MuiBackdrop",["root","invisible"]);const bDe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],RDe=t=>{const{classes:e,invisible:i}=t;return ot({root:["root",i&&"invisible"]},EDe,e)},TDe=be("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.invisible&&e.invisible]}})(({ownerState:t})=>G({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),DDe=T.forwardRef(function(e,i){var r,n,s;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:g={},slots:v={},TransitionComponent:C=kv,transitionDuration:S}=o,y=Oe(o,bDe),w=G({},o,{component:u,invisible:h}),E=RDe(w),b=(r=g.root)!=null?r:d.root;return Y.jsx(C,G({in:f,timeout:S},y,{children:Y.jsx(TDe,G({"aria-hidden":!0},b,{as:(n=(s=v.root)!=null?s:c.Root)!=null?n:u,className:Le(E.root,l,b==null?void 0:b.className),ownerState:G({},w,b==null?void 0:b.ownerState),classes:E,ref:i,children:a}))}))}),MQ=DDe;function PDe(t){return at("MuiModal",t)}lt("MuiModal",["root","hidden","backdrop"]);const xDe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],ADe=t=>{const{open:e,exited:i,classes:r}=t;return ot({root:["root",!e&&i&&"hidden"],backdrop:["backdrop"]},PDe,r)},ODe=be("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.open&&i.exited&&e.hidden]}})(({theme:t,ownerState:e})=>G({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),MDe=be(MQ,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),FDe=T.forwardRef(function(e,i){var r,n,s,o,a,l;const u=rt({name:"MuiModal",props:e}),{BackdropComponent:c=MDe,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:g,container:v,component:C,components:S={},componentsProps:y={},disableAutoFocus:w=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:b=!1,disablePortal:D=!1,disableRestoreFocus:P=!1,disableScrollLock:O=!1,hideBackdrop:N=!1,keepMounted:_=!1,onBackdropClick:L,open:k,slotProps:$,slots:U}=u,K=Oe(u,xDe),j=G({},u,{closeAfterTransition:f,disableAutoFocus:w,disableEnforceFocus:E,disableEscapeKeyDown:b,disablePortal:D,disableRestoreFocus:P,disableScrollLock:O,hideBackdrop:N,keepMounted:_}),{getRootProps:Q,getBackdropProps:H,getTransitionProps:X,portalRef:te,isTopModal:le,exited:J,hasTransition:ie}=rDe(G({},j,{rootRef:i})),ue=G({},j,{exited:J}),me=ADe(ue),se={};if(g.props.tabIndex===void 0&&(se.tabIndex="-1"),ie){const{onEnter:oe,onExited:fe}=X();se.onEnter=oe,se.onExited=fe}const he=(r=(n=U==null?void 0:U.root)!=null?n:S.Root)!=null?r:ODe,Ee=(s=(o=U==null?void 0:U.backdrop)!=null?o:S.Backdrop)!=null?s:c,pe=(a=$==null?void 0:$.root)!=null?a:y.root,ye=(l=$==null?void 0:$.backdrop)!=null?l:y.backdrop,Ce=ii({elementType:he,externalSlotProps:pe,externalForwardedProps:K,getSlotProps:Q,additionalProps:{ref:i,as:C},ownerState:ue,className:Le(h,pe==null?void 0:pe.className,me==null?void 0:me.root,!ue.open&&ue.exited&&(me==null?void 0:me.hidden))}),re=ii({elementType:Ee,externalSlotProps:ye,additionalProps:d,getSlotProps:oe=>H(G({},oe,{onClick:fe=>{L&&L(fe),oe!=null&&oe.onClick&&oe.onClick(fe)}})),className:Le(ye==null?void 0:ye.className,d==null?void 0:d.className,me==null?void 0:me.backdrop),ownerState:ue});return!_&&!k&&(!ie||J)?null:Y.jsx(PQ,{ref:te,container:v,disablePortal:D,children:Y.jsxs(he,G({},Ce,{children:[!N&&c?Y.jsx(Ee,G({},re)):null,Y.jsx(DQ,{disableEnforceFocus:E,disableAutoFocus:w,disableRestoreFocus:P,isEnabled:le,open:k,children:T.cloneElement(g,se)})]}))})}),UV=FDe;function IDe(t){return at("MuiSvgIcon",t)}lt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const LDe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_De=t=>{const{color:e,fontSize:i,classes:r}=t,n={root:["root",e!=="inherit"&&`color${$e(e)}`,`fontSize${$e(i)}`]};return ot(n,IDe,r)},NDe=be("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.color!=="inherit"&&e[`color${$e(i.color)}`],e[`fontSize${$e(i.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var i,r,n,s,o,a,l,u,c,d,h,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(i=t.transitions)==null||(r=i.create)==null?void 0:r.call(i,"fill",{duration:(n=t.transitions)==null||(n=n.duration)==null?void 0:n.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),ON=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiSvgIcon"}),{children:n,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=Oe(r,LDe),g=T.isValidElement(n)&&n.type==="svg",v=G({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:g}),C={};c||(C.viewBox=h);const S=_De(v);return Y.jsxs(NDe,G({as:a,className:Le(S.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:i},C,f,g&&n.props,{ownerState:v,children:[g?n.props.children:n,d?Y.jsx("title",{children:d}):null]}))});ON.muiName="SvgIcon";function kl(t,e){function i(r,n){return Y.jsx(ON,G({"data-testid":`${e}Icon`,ref:n},r,{children:t}))}return i.muiName=ON.muiName,T.memo(T.forwardRef(i))}const GDe={configure:t=>{rQ.configure(t)}},kDe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:$e,createChainedFunction:PN,createSvgIcon:kl,debounce:M0,deprecatedPropType:eTe,isMuiElement:lS,ownerDocument:on,ownerWindow:Su,requirePropFactory:tTe,setRef:RP,unstable_ClassNameGenerator:GDe,unstable_useEnhancedEffect:Xr,unstable_useId:Ic,unsupportedProp:rTe,useControlled:wu,useEventCallback:Xe,useForkRef:ri,useIsFocusVisible:wQ},Symbol.toStringTag,{value:"Module"})),VDe=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function HDe(t,e,i){const r=e.getBoundingClientRect(),n=i&&i.getBoundingClientRect(),s=Su(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=s.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?n?`translateX(${n.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?n?`translateX(-${r.right-n.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?n?`translateY(${n.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:n?`translateY(-${r.top-n.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function $De(t){return typeof t=="function"?t():t}function CT(t,e,i){const r=$De(i),n=HDe(t,e,r);n&&(e.style.webkitTransform=n,e.style.transform=n)}const BDe=T.forwardRef(function(e,i){const r=za(),n={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:c="down",easing:d=n,in:h,onEnter:f,onEntered:g,onEntering:v,onExit:C,onExited:S,onExiting:y,style:w,timeout:E=s,TransitionComponent:b=_0}=e,D=Oe(e,VDe),P=T.useRef(null),O=ri(l.ref,P,i),N=H=>X=>{H&&(X===void 0?H(P.current):H(P.current,X))},_=N((H,X)=>{CT(c,H,u),WV(H),f&&f(H,X)}),L=N((H,X)=>{const te=Nm({timeout:E,style:w,easing:d},{mode:"enter"});H.style.webkitTransition=r.transitions.create("-webkit-transform",G({},te)),H.style.transition=r.transitions.create("transform",G({},te)),H.style.webkitTransform="none",H.style.transform="none",v&&v(H,X)}),k=N(g),$=N(y),U=N(H=>{const X=Nm({timeout:E,style:w,easing:d},{mode:"exit"});H.style.webkitTransition=r.transitions.create("-webkit-transform",X),H.style.transition=r.transitions.create("transform",X),CT(c,H,u),C&&C(H)}),K=N(H=>{H.style.webkitTransition="",H.style.transition="",S&&S(H)}),j=H=>{o&&o(P.current,H)},Q=T.useCallback(()=>{P.current&&CT(c,P.current,u)},[c,u]);return T.useEffect(()=>{if(h||c==="down"||c==="right")return;const H=M0(()=>{P.current&&CT(c,P.current,u)}),X=Su(P.current);return X.addEventListener("resize",H),()=>{H.clear(),X.removeEventListener("resize",H)}},[c,h,u]),T.useEffect(()=>{h||Q()},[h,Q]),Y.jsx(b,G({nodeRef:P,onEnter:_,onEntered:k,onEntering:L,onExit:U,onExited:K,onExiting:$,addEndListener:j,appear:a,in:h,timeout:E},D,{children:(H,X)=>T.cloneElement(l,G({ref:O,style:G({visibility:H==="exited"&&!h?"hidden":void 0},w,l.props.style)},X))}))}),WDe=BDe;function UDe(t){return at("MuiDrawer",t)}lt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const zDe=["BackdropProps"],jDe=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],FQ=(t,e)=>{const{ownerState:i}=t;return[e.root,(i.variant==="permanent"||i.variant==="persistent")&&e.docked,e.modal]},KDe=t=>{const{classes:e,anchor:i,variant:r}=t,n={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${$e(i)}`,r!=="temporary"&&`paperAnchorDocked${$e(i)}`]};return ot(n,UDe,e)},YDe=be(UV,{name:"MuiDrawer",slot:"Root",overridesResolver:FQ})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),k3=be("div",{shouldForwardProp:Yo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:FQ})({flex:"0 0 auto"}),qDe=be(Gv,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.paper,e[`paperAnchor${$e(i.anchor)}`],i.variant!=="temporary"&&e[`paperAnchorDocked${$e(i.anchor)}`]]}})(({theme:t,ownerState:e})=>G({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),IQ={left:"right",right:"left",top:"down",bottom:"up"};function XDe(t){return["left","right"].indexOf(t)!==-1}function QDe({direction:t},e){return t==="rtl"&&XDe(e)?IQ[e]:e}const ZDe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDrawer"}),n=za(),s=bQ(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:u,className:c,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:f}={},onClose:g,open:v=!1,PaperProps:C={},SlideProps:S,TransitionComponent:y=WDe,transitionDuration:w=o,variant:E="temporary"}=r,b=Oe(r.ModalProps,zDe),D=Oe(r,jDe),P=T.useRef(!1);T.useEffect(()=>{P.current=!0},[]);const O=QDe({direction:s?"rtl":"ltr"},a),_=G({},r,{anchor:a,elevation:d,open:v,variant:E},D),L=KDe(_),k=Y.jsx(qDe,G({elevation:E==="temporary"?d:0,square:!0},C,{className:Le(L.paper,C.className),ownerState:_,children:u}));if(E==="permanent")return Y.jsx(k3,G({className:Le(L.root,L.docked,c),ownerState:_,ref:i},D,{children:k}));const $=Y.jsx(y,G({in:v,direction:IQ[O],timeout:w,appear:P.current},S,{children:k}));return E==="persistent"?Y.jsx(k3,G({className:Le(L.root,L.docked,c),ownerState:_,ref:i},D,{children:$})):Y.jsx(YDe,G({BackdropProps:G({},l,f,{transitionDuration:w}),className:Le(L.root,L.modal,c),open:v,ownerState:_,onClose:g,hideBackdrop:h,ref:i},D,b,{children:$}))}),JDe=ZDe;function ePe(t){const{className:e,classes:i,pulsate:r=!1,rippleX:n,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=T.useState(!1),h=Le(e,i.ripple,i.rippleVisible,r&&i.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+n},g=Le(i.child,c&&i.childLeaving,r&&i.childPulsate);return!a&&!c&&d(!0),T.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),Y.jsx("span",{className:h,style:f,children:Y.jsx("span",{className:g})})}const ga=lt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),tPe=["center","classes","className"];let N0=t=>t,V3,H3,$3,B3;const MN=550,iPe=80,rPe=h0(V3||(V3=N0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),nPe=h0(H3||(H3=N0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),sPe=h0($3||($3=N0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),oPe=be("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),aPe=be(ePe,{name:"MuiTouchRipple",slot:"Ripple"})(B3||(B3=N0`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ga.rippleVisible,rPe,MN,({theme:t})=>t.transitions.easing.easeInOut,ga.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ga.child,ga.childLeaving,nPe,MN,({theme:t})=>t.transitions.easing.easeInOut,ga.childPulsate,sPe,({theme:t})=>t.transitions.easing.easeInOut),lPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiTouchRipple"}),{center:n=!1,classes:s={},className:o}=r,a=Oe(r,tPe),[l,u]=T.useState([]),c=T.useRef(0),d=T.useRef(null);T.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=T.useRef(!1),f=SQ(),g=T.useRef(null),v=T.useRef(null),C=T.useCallback(E=>{const{pulsate:b,rippleX:D,rippleY:P,rippleSize:O,cb:N}=E;u(_=>[..._,Y.jsx(aPe,{classes:{ripple:Le(s.ripple,ga.ripple),rippleVisible:Le(s.rippleVisible,ga.rippleVisible),ripplePulsate:Le(s.ripplePulsate,ga.ripplePulsate),child:Le(s.child,ga.child),childLeaving:Le(s.childLeaving,ga.childLeaving),childPulsate:Le(s.childPulsate,ga.childPulsate)},timeout:MN,pulsate:b,rippleX:D,rippleY:P,rippleSize:O},c.current)]),c.current+=1,d.current=N},[s]),S=T.useCallback((E={},b={},D=()=>{})=>{const{pulsate:P=!1,center:O=n||b.pulsate,fakeElement:N=!1}=b;if((E==null?void 0:E.type)==="mousedown"&&h.current){h.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(h.current=!0);const _=N?null:v.current,L=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let k,$,U;if(O||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)k=Math.round(L.width/2),$=Math.round(L.height/2);else{const{clientX:K,clientY:j}=E.touches&&E.touches.length>0?E.touches[0]:E;k=Math.round(K-L.left),$=Math.round(j-L.top)}if(O)U=Math.sqrt((2*L.width**2+L.height**2)/3),U%2===0&&(U+=1);else{const K=Math.max(Math.abs((_?_.clientWidth:0)-k),k)*2+2,j=Math.max(Math.abs((_?_.clientHeight:0)-$),$)*2+2;U=Math.sqrt(K**2+j**2)}E!=null&&E.touches?g.current===null&&(g.current=()=>{C({pulsate:P,rippleX:k,rippleY:$,rippleSize:U,cb:D})},f.start(iPe,()=>{g.current&&(g.current(),g.current=null)})):C({pulsate:P,rippleX:k,rippleY:$,rippleSize:U,cb:D})},[n,C,f]),y=T.useCallback(()=>{S({},{pulsate:!0})},[S]),w=T.useCallback((E,b)=>{if(f.clear(),(E==null?void 0:E.type)==="touchend"&&g.current){g.current(),g.current=null,f.start(0,()=>{w(E,b)});return}g.current=null,u(D=>D.length>0?D.slice(1):D),d.current=b},[f]);return T.useImperativeHandle(i,()=>({pulsate:y,start:S,stop:w}),[y,S,w]),Y.jsx(oPe,G({className:Le(ga.root,s.root,o),ref:v},a,{children:Y.jsx(BV,{component:null,exit:!0,children:l})}))}),uPe=lPe;function cPe(t){return at("MuiButtonBase",t)}const dPe=lt("MuiButtonBase",["root","disabled","focusVisible"]),hPe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],pPe=t=>{const{disabled:e,focusVisible:i,focusVisibleClassName:r,classes:n}=t,o=ot({root:["root",e&&"disabled",i&&"focusVisible"]},cPe,n);return i&&r&&(o.root+=` ${r}`),o},fPe=be("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dPe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),gPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiButtonBase"}),{action:n,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:g,onClick:v,onContextMenu:C,onDragLeave:S,onFocus:y,onFocusVisible:w,onKeyDown:E,onKeyUp:b,onMouseDown:D,onMouseLeave:P,onMouseUp:O,onTouchEnd:N,onTouchMove:_,onTouchStart:L,tabIndex:k=0,TouchRippleProps:$,touchRippleRef:U,type:K}=r,j=Oe(r,hPe),Q=T.useRef(null),H=T.useRef(null),X=ri(H,U),{isFocusVisibleRef:te,onFocus:le,onBlur:J,ref:ie}=wQ(),[ue,me]=T.useState(!1);u&&ue&&me(!1),T.useImperativeHandle(n,()=>({focusVisible:()=>{me(!0),Q.current.focus()}}),[]);const[se,he]=T.useState(!1);T.useEffect(()=>{he(!0)},[]);const Ee=se&&!c&&!u;T.useEffect(()=>{ue&&h&&!c&&se&&H.current.pulsate()},[c,h,ue,se]);function pe(pt,us,Ja=d){return Xe(uo=>(us&&us(uo),!Ja&&H.current&&H.current[pt](uo),!0))}const ye=pe("start",D),Ce=pe("stop",C),re=pe("stop",S),oe=pe("stop",O),fe=pe("stop",pt=>{ue&&pt.preventDefault(),P&&P(pt)}),we=pe("start",L),Ue=pe("stop",N),Be=pe("stop",_),Ve=pe("stop",pt=>{J(pt),te.current===!1&&me(!1),g&&g(pt)},!1),qe=Xe(pt=>{Q.current||(Q.current=pt.currentTarget),le(pt),te.current===!0&&(me(!0),w&&w(pt)),y&&y(pt)}),mt=()=>{const pt=Q.current;return l&&l!=="button"&&!(pt.tagName==="A"&&pt.href)},et=T.useRef(!1),fi=Xe(pt=>{h&&!et.current&&ue&&H.current&&pt.key===" "&&(et.current=!0,H.current.stop(pt,()=>{H.current.start(pt)})),pt.target===pt.currentTarget&&mt()&&pt.key===" "&&pt.preventDefault(),E&&E(pt),pt.target===pt.currentTarget&&mt()&&pt.key==="Enter"&&!u&&(pt.preventDefault(),v&&v(pt))}),wi=Xe(pt=>{h&&pt.key===" "&&H.current&&ue&&!pt.defaultPrevented&&(et.current=!1,H.current.stop(pt,()=>{H.current.pulsate(pt)})),b&&b(pt),v&&pt.target===pt.currentTarget&&mt()&&pt.key===" "&&!pt.defaultPrevented&&v(pt)});let Kt=l;Kt==="button"&&(j.href||j.to)&&(Kt=f);const Cr={};Kt==="button"?(Cr.type=K===void 0?"button":K,Cr.disabled=u):(!j.href&&!j.to&&(Cr.role="button"),u&&(Cr["aria-disabled"]=u));const xn=ri(i,ie,Q),xr=G({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:k,focusVisible:ue}),Ht=pPe(xr);return Y.jsxs(fPe,G({as:Kt,className:Le(Ht.root,a),ownerState:xr,onBlur:Ve,onClick:v,onContextMenu:Ce,onFocus:qe,onKeyDown:fi,onKeyUp:wi,onMouseDown:ye,onMouseLeave:fe,onMouseUp:oe,onDragLeave:re,onTouchEnd:Ue,onTouchMove:Be,onTouchStart:we,ref:xn,tabIndex:u?-1:k,type:K},Cr,j,{children:[o,Ee?Y.jsx(uPe,G({ref:X,center:s},$)):null]}))}),Bp=gPe,mPe=T.createContext({}),Gd=mPe;function vPe(t){return at("MuiListItemButton",t)}const CPe=lt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Pg=CPe,yPe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],SPe=(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,i.alignItems==="flex-start"&&e.alignItemsFlexStart,i.divider&&e.divider,!i.disableGutters&&e.gutters]},wPe=t=>{const{alignItems:e,classes:i,dense:r,disabled:n,disableGutters:s,divider:o,selected:a}=t,u=ot({root:["root",r&&"dense",!s&&"gutters",o&&"divider",n&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},vPe,i);return G({},i,u)},EPe=be(Bp,{shouldForwardProp:t=>Yo(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:SPe})(({theme:t,ownerState:e})=>G({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Pg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Pg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Pg.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Pg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Pg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),bPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:d,selected:h=!1,className:f}=r,g=Oe(r,yPe),v=T.useContext(Gd),C=T.useMemo(()=>({dense:l||v.dense||!1,alignItems:n,disableGutters:u}),[n,v.dense,l,u]),S=T.useRef(null);Xr(()=>{s&&S.current&&S.current.focus()},[s]);const y=G({},r,{alignItems:n,dense:C.dense,disableGutters:u,divider:c,selected:h}),w=wPe(y),E=ri(S,i);return Y.jsx(Gd.Provider,{value:C,children:Y.jsx(EPe,G({ref:E,href:g.href||g.to,component:(g.href||g.to)&&o==="div"?"button":o,focusVisibleClassName:Le(w.focusVisible,d),ownerState:y,className:Le(w.root,f)},g,{classes:w,children:a}))})}),yT=bPe;function RPe(t){return at("MuiList",t)}lt("MuiList",["root","padding","dense","subheader"]);const TPe=["children","className","component","dense","disablePadding","subheader"],DPe=t=>{const{classes:e,disablePadding:i,dense:r,subheader:n}=t;return ot({root:["root",!i&&"padding",r&&"dense",n&&"subheader"]},RPe,e)},PPe=be("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disablePadding&&e.padding,i.dense&&e.dense,i.subheader&&e.subheader]}})(({ownerState:t})=>G({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),xPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiList"}),{children:n,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=Oe(r,TPe),d=T.useMemo(()=>({dense:a}),[a]),h=G({},r,{component:o,dense:a,disablePadding:l}),f=DPe(h);return Y.jsx(Gd.Provider,{value:d,children:Y.jsxs(PPe,G({as:o,className:Le(f.root,s),ref:i,ownerState:h},c,{children:[u,n]}))})}),zV=xPe;function APe(t){return at("MuiTypography",t)}lt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const OPe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],MPe=t=>{const{align:e,gutterBottom:i,noWrap:r,paragraph:n,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${$e(e)}`,i&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return ot(a,APe,o)},FPe=be("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.variant&&e[i.variant],i.align!=="inherit"&&e[`align${$e(i.align)}`],i.noWrap&&e.noWrap,i.gutterBottom&&e.gutterBottom,i.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>G({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),W3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},IPe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},LPe=t=>IPe[t]||t,_Pe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiTypography"}),n=LPe(r.color),s=FV(G({},r,{color:n})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=W3}=s,g=Oe(s,OPe),v=G({},s,{align:o,color:n,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),C=l||(d?"p":f[h]||W3[h])||"span",S=MPe(v);return Y.jsx(FPe,G({as:C,ref:i,ownerState:v,className:Le(S.root,a)},g))}),Fo=_Pe;function NPe(t){return at("MuiListItemText",t)}const GPe=lt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),U3=GPe,kPe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],VPe=t=>{const{classes:e,inset:i,primary:r,secondary:n,dense:s}=t;return ot({root:["root",i&&"inset",s&&"dense",r&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},NPe,e)},HPe=be("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${U3.primary}`]:e.primary},{[`& .${U3.secondary}`]:e.secondary},e.root,i.inset&&e.inset,i.primary&&i.secondary&&e.multiline,i.dense&&e.dense]}})(({ownerState:t})=>G({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),$Pe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItemText"}),{children:n,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=r,h=Oe(r,kPe),{dense:f}=T.useContext(Gd);let g=l??n,v=c;const C=G({},r,{disableTypography:o,inset:a,primary:!!g,secondary:!!v,dense:f}),S=VPe(C);return g!=null&&g.type!==Fo&&!o&&(g=Y.jsx(Fo,G({variant:f?"body2":"body1",className:S.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:g}))),v!=null&&v.type!==Fo&&!o&&(v=Y.jsx(Fo,G({variant:"body2",className:S.secondary,color:"text.secondary",display:"block"},d,{children:v}))),Y.jsxs(HPe,G({className:Le(S.root,s),ownerState:C,ref:i},h,{children:[g,v]}))}),ST=$Pe;function BPe(t){return at("MuiIconButton",t)}const WPe=lt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),UPe=["edge","children","className","color","disabled","disableFocusRipple","size"],zPe=t=>{const{classes:e,disabled:i,color:r,edge:n,size:s}=t,o={root:["root",i&&"disabled",r!=="default"&&`color${$e(r)}`,n&&`edge${$e(n)}`,`size${$e(s)}`]};return ot(o,BPe,e)},jPe=be(Bp,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.color!=="default"&&e[`color${$e(i.color)}`],i.edge&&e[`edge${$e(i.edge)}`],e[`size${$e(i.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var i;const r=(i=(t.vars||t).palette)==null?void 0:i[e.color];return G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":G({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${WPe.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),KPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiIconButton"}),{edge:n=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=Oe(r,UPe),h=G({},r,{edge:n,color:a,disabled:l,disableFocusRipple:u,size:c}),f=zPe(h);return Y.jsx(jPe,G({className:Le(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:i},d,{ownerState:h,children:s}))}),eb=KPe;var jV={},QI={};const YPe=Mc(kDe);var z3;function sh(){return z3||(z3=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=YPe}(QI)),QI}var qPe=Gu;Object.defineProperty(jV,"__esModule",{value:!0});var LQ=jV.default=void 0,XPe=qPe(sh()),QPe=Y;LQ=jV.default=(0,XPe.default)((0,QPe.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var KV={},ZPe=Gu;Object.defineProperty(KV,"__esModule",{value:!0});var _Q=KV.default=void 0,JPe=ZPe(sh()),ZI=Y;_Q=KV.default=(0,JPe.default)([(0,ZI.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,ZI.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,ZI.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var YV={},exe=Gu;Object.defineProperty(YV,"__esModule",{value:!0});var NQ=YV.default=void 0,txe=exe(sh()),ixe=Y;NQ=YV.default=(0,txe.default)((0,ixe.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth");var qV={},rxe=Gu;Object.defineProperty(qV,"__esModule",{value:!0});var GQ=qV.default=void 0,nxe=rxe(sh()),sxe=Y;GQ=qV.default=(0,nxe.default)((0,sxe.jsx)("path",{d:"M20.57 14.86 22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"}),"FitnessCenter");function oxe(t){return at("MuiButton",t)}const axe=lt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),wT=axe,lxe=T.createContext({}),uxe=lxe,cxe=T.createContext(void 0),dxe=cxe,hxe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],pxe=t=>{const{color:e,disableElevation:i,fullWidth:r,size:n,variant:s,classes:o}=t,a={root:["root",s,`${s}${$e(e)}`,`size${$e(n)}`,`${s}Size${$e(n)}`,`color${$e(e)}`,i&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${$e(n)}`],endIcon:["icon","endIcon",`iconSize${$e(n)}`]},l=ot(a,oxe,o);return G({},o,l)},kQ=t=>G({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),fxe=be(Bp,{shouldForwardProp:t=>Yo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e[`${i.variant}${$e(i.color)}`],e[`size${$e(i.size)}`],e[`${i.variant}Size${$e(i.size)}`],i.color==="inherit"&&e.colorInherit,i.disableElevation&&e.disableElevation,i.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var i,r;const n=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return G({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":G({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${wT.focusVisible}`]:G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${wT.disabled}`]:G({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Vi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(i=(r=t.palette).getContrastText)==null?void 0:i.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:n,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${wT.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${wT.disabled}`]:{boxShadow:"none"}}),gxe=be("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.startIcon,e[`iconSize${$e(i.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},kQ(t))),mxe=be("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.endIcon,e[`iconSize${$e(i.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},kQ(t))),vxe=T.forwardRef(function(e,i){const r=T.useContext(uxe),n=T.useContext(dxe),s=NV(r,e),o=rt({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:g,focusVisibleClassName:v,fullWidth:C=!1,size:S="medium",startIcon:y,type:w,variant:E="text"}=o,b=Oe(o,hxe),D=G({},o,{color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:C,size:S,type:w,variant:E}),P=pxe(D),O=y&&Y.jsx(gxe,{className:P.startIcon,ownerState:D,children:y}),N=g&&Y.jsx(mxe,{className:P.endIcon,ownerState:D,children:g}),_=n||"";return Y.jsxs(fxe,G({ownerState:D,className:Le(r.className,P.root,c,_),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:Le(P.focusVisible,v),ref:i,type:w},b,{classes:P,children:[O,a,N]}))}),Jn=vxe;var XV=Object.defineProperty,Cxe=Object.defineProperties,yxe=Object.getOwnPropertyDescriptor,Sxe=Object.getOwnPropertyDescriptors,PP=Object.getOwnPropertySymbols,VQ=Object.prototype.hasOwnProperty,HQ=Object.prototype.propertyIsEnumerable,j3=(t,e,i)=>e in t?XV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,tt=(t,e)=>{for(var i in e||(e={}))VQ.call(e,i)&&j3(t,i,e[i]);if(PP)for(var i of PP(e))HQ.call(e,i)&&j3(t,i,e[i]);return t},Wi=(t,e)=>Cxe(t,Sxe(e)),wxe=(t,e)=>{var i={};for(var r in t)VQ.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&PP)for(var r of PP(t))e.indexOf(r)<0&&HQ.call(t,r)&&(i[r]=t[r]);return i},En=(t,e)=>{for(var i in e)XV(t,i,{get:e[i],enumerable:!0})},A=(t,e,i,r)=>{for(var n=r>1?void 0:r?yxe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&XV(e,i,n),n},gl=(t,e)=>(i,r)=>e(i,r,t),$Q={};En($Q,{attrToBoolean:()=>xP,attrToNumber:()=>kd,attrToString:()=>Exe,defaultComparator:()=>bxe,exists:()=>De,jsonEquals:()=>FN,makeNull:()=>fu,missing:()=>gt,missingOrEmpty:()=>Do,toStringOrNull:()=>KS,values:()=>pm});function fu(t){return t==null||t===""?null:t}function De(t,e=!1){return t!=null&&(t!==""||e)}function gt(t){return!De(t)}function Do(t){return t==null||t.length===0}function KS(t){return t!=null&&typeof t.toString=="function"?t.toString():null}function kd(t){if(t===void 0)return;if(t===null||t==="")return null;if(typeof t=="number")return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function xP(t){if(t!==void 0)return t===null||t===""?!1:typeof t=="boolean"?t:/true/i.test(t)}function Exe(t){if(!(t==null||t===""))return t}function FN(t,e){const i=t?JSON.stringify(t):null,r=e?JSON.stringify(e):null;return i===r}function bxe(t,e,i=!1){const r=t==null,n=e==null;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&n)return 0;if(r)return-1;if(n)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof t!="string"||!i)return s(t,e);try{return t.localeCompare(e)}catch{return s(t,e)}}function pm(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(i=>e.push(i)),e}return Object.values(t)}var Rxe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let i=0;i<e.length;i++)this.existingKeys[e[i]]=!0}getUniqueKey(e,i){e=KS(e);let r=0;for(;;){let n;if(e?(n=e,r!==0&&(n+="_"+r)):i?(n=i,r!==0&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},BQ={};En(BQ,{cloneObject:()=>QV,deepCloneDefinition:()=>AP,getAllValuesInObject:()=>zd,getValueUsingField:()=>fm,isNonNullObject:()=>OP,iterateObject:()=>Ao,mergeDeep:()=>Io,removeAllReferences:()=>WQ});function Ao(t,e){if(t!=null){if(Array.isArray(t)){for(let i=0;i<t.length;i++)e(i.toString(),t[i]);return}for(const[i,r]of Object.entries(t))e(i,r)}}function QV(t){const e={},i=Object.keys(t);for(let r=0;r<i.length;r++){const n=i[r],s=t[n];e[n]=s}return e}function AP(t,e){if(!t)return;const i=t,r={};return Object.keys(i).forEach(n=>{if(e&&e.indexOf(n)>=0)return;const s=i[n];OP(s)&&s.constructor===Object?r[n]=AP(s):r[n]=s}),r}function zd(t){if(!t)return[];const e=Object;if(typeof e.values=="function")return e.values(t);const i=[];for(const r in t)t.hasOwnProperty(r)&&t.propertyIsEnumerable(r)&&i.push(t[r]);return i}function Io(t,e,i=!0,r=!1){De(e)&&Ao(e,(n,s)=>{let o=t[n];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},t[n]=o),OP(s)&&OP(o)&&!Array.isArray(o)?Io(o,s,i,r):(i||s!==void 0)&&(t[n]=s))})}function fm(t,e,i){if(!e||!t)return;if(!i)return t[e];const r=e.split(".");let n=t;for(let s=0;s<r.length;s++){if(n==null)return;n=n[r[s]]}return n}function WQ(t,e=[],i){Object.keys(t).forEach(o=>{typeof t[o]=="object"&&!e.includes(o)&&(t[o]=void 0)});const r=Object.getPrototypeOf(t),n={},s=o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`;Object.getOwnPropertyNames(r).forEach(o=>{if(typeof r[o]=="function"&&!e.includes(o)){const l=()=>{console.warn(s(o))};n[o]={value:l,writable:!0}}}),Object.defineProperties(t,n)}function OP(t){return typeof t=="object"&&t!==null}var UQ={};En(UQ,{compose:()=>Txe,debounce:()=>ms,doOnce:()=>gp,errorOnce:()=>Iy,executeAfter:()=>jQ,executeInAWhile:()=>zQ,executeNextVMTurn:()=>IN,getFunctionName:()=>ZV,isFunction:()=>G0,noop:()=>Dxe,throttle:()=>LN,waitUntil:()=>JV,warnOnce:()=>ut});var K3={};function gp(t,e){K3[e]||(t(),K3[e]=!0)}function ut(t){gp(()=>console.warn("AG Grid: "+t),t)}function Iy(t){gp(()=>console.error("AG Grid: "+t),t)}function ZV(t){if(t.name)return t.name;const e=/function\s+([^\(]+)/.exec(t.toString());return e&&e.length===2?e[1].trim():null}function G0(t){return!!(t&&t.constructor&&t.call&&t.apply)}function zQ(t){jQ(t,400)}var JI=[],eL=!1;function IN(t){JI.push(t),!eL&&(eL=!0,window.setTimeout(()=>{const e=JI.slice();JI.length=0,eL=!1,e.forEach(i=>i())},0))}function jQ(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(i=>i()),e)}function ms(t,e){let i;return function(...r){const n=this;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,r)},e)}}function LN(t,e){let i=0;return function(...r){const n=this,s=new Date().getTime();s-i<e||(i=s,t.apply(n,r))}}function JV(t,e,i=100,r){const n=new Date().getTime();let s=null,o=!1;const a=()=>{const l=new Date().getTime()-n>i;(t()||l)&&(e(),o=!0,s!=null&&(window.clearInterval(s),s=null),l&&r&&console.warn(r))};a(),o||(s=window.setInterval(a,10))}function Txe(...t){return e=>t.reduce((i,r)=>r(i),e)}var Dxe=()=>{},eH=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(eH||{}),k0=class ui{static register(e){ui.__register(e,!0,void 0)}static registerModules(e){ui.__registerModules(e,!0,void 0)}static __register(e,i,r){ui.runVersionChecks(e),r!==void 0?(ui.areGridScopedModules=!0,ui.gridModulesMap[r]===void 0&&(ui.gridModulesMap[r]={}),ui.gridModulesMap[r][e.moduleName]=e):ui.globalModulesMap[e.moduleName]=e,ui.setModuleBased(i)}static __unRegisterGridModules(e){delete ui.gridModulesMap[e]}static __registerModules(e,i,r){ui.setModuleBased(i),e&&e.forEach(n=>ui.__register(n,i,r))}static isValidModuleVersion(e){const[i,r]=e.version.split(".")||[],[n,s]=ui.currentModuleVersion.split(".")||[];return i===n&&r===s}static runVersionChecks(e){if(ui.currentModuleVersion||(ui.currentModuleVersion=e.version),e.version?ui.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const i=e.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(e){ui.moduleBased===void 0?ui.moduleBased=e:ui.moduleBased!==e&&gp(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){ui.isBundled=!0}static __assertRegistered(e,i,r){var n;if(this.__isRegistered(e,r))return!0;const s=i+e;let o;if(ui.isBundled)o=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(ui.moduleBased||ui.moduleBased===void 0){let a=(n=Object.entries(eH).find(([l,u])=>u===e))==null?void 0:n[0];o=`AG Grid: unable to use ${i} as the ${a} is not registered${ui.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${e}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return gp(()=>{console.warn(o)},s),!1}static __warnEnterpriseChartDisabled(e){const r="ag-charts-enterprise"+":"+e,s=`AG Grid: the '${e}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;gp(()=>{console.warn(s)},r)}static __isRegistered(e,i){var r;return!!ui.globalModulesMap[e]||!!((r=ui.gridModulesMap[i])!=null&&r[e])}static __getRegisteredModules(e){return[...pm(ui.globalModulesMap),...pm(ui.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var i;return pm((i=ui.gridModulesMap[e])!=null?i:{})||[]}static __isPackageBased(){return!ui.moduleBased}};k0.globalModulesMap={};k0.gridModulesMap={};k0.areGridScopedModules=!1;var Gi=k0;function KQ(t,e,i){const r=Wp(t.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function _e(t,e,i){const r=Wp(t.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function ja(t,e,i){const r=Wp(t.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function ze(t){return e=>{const i=Wp(e);i.beanName=t}}function B(t){return(e,i,r)=>{YQ(e,t,!1,e,i,null)}}function ai(t){return(e,i,r)=>{YQ(e,t,!0,e,i,null)}}function YQ(t,e,i,r,n,s){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof s=="number"){console.error("AG Grid: Autowired should be on an attribute");return}const o=Wp(t.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:n,beanName:e,optional:i})}function ml(t){return(e,i,r)=>{const n=typeof e=="function"?e:e.constructor;let s;if(typeof r=="number"){let o;i?(s=Wp(n),o=i):(s=Wp(n),o="agConstructor"),s.autowireMethods||(s.autowireMethods={}),s.autowireMethods[o]||(s.autowireMethods[o]={}),s.autowireMethods[o][r]=t}}}function Wp(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var Eu=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,i,r=null,n=null){if(this.frameworkOverrides=i,this.gridOptionsService=e,r){const s=e.useAsyncEvents();this.addGlobalListener(r,s)}n&&this.addGlobalListener(n,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,i,r){const n=i?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&r&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,i,r=!1){this.getListeners(e,r,!0).add(i)}removeEventListener(e,i,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(i),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let i=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(i),this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,i){var r;const n=e.type;if(i&&"event"in e){const u=e.event;u instanceof Event&&(e.eventPath=u.composedPath())}const s=(u,c)=>u.forEach(d=>{if(!c.has(d))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);i?this.dispatchAsync(h):h()}),o=(r=this.getListeners(n,i,!1))!=null?r:new Set,a=new Set(o);a.size>0&&s(a,o),new Set(i?this.globalAsyncListeners:this.globalSyncListeners).forEach(u=>{const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(n,e)):()=>u(n,e);i?this.dispatchAsync(c):c()})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(i=>i())}};A([gl(0,ml("gridOptionsService")),gl(1,ml("frameworkOverrides")),gl(2,ml("globalEventListener")),gl(3,ml("globalSyncEventListener"))],Eu.prototype,"setBeans",1);Eu=A([ze("eventService")],Eu);var tH=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=r=>{this.frameworkOverrides.wrapOutgoing(()=>e(r))},this.wrappedListeners.set(e,i)),i}wrapGlobal(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=(r,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(r,n))},this.wrappedGlobalListeners.set(e,i)),i}unwrap(e){var i;return(i=this.wrappedListeners.get(e))!=null?i:e}unwrapGlobal(e){var i;return(i=this.wrappedGlobalListeners.get(e))!=null?i:e}},Pxe={resizable:!0,sortable:!0},xxe=0;function qQ(){return xxe++}var Gr=class XQ{constructor(e,i,r,n){this.instanceId=qQ(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Eu,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=i,this.colId=r,this.primary=n,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const i=e.sortIndex,r=e.initialSortIndex;i!==void 0?i!==null&&(this.sortIndex=i):r!==null&&(this.sortIndex=r);const n=e.hide,s=e.initialHide;n!==void 0?this.visible=!n:this.visible=!s,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const o=e.flex,a=e.initialFlex;o!==void 0?this.flex=o:a!==void 0&&(this.flex=a)}setColDef(e,i,r){this.colDef=e,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=De(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=De(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=De(this.colDef.tooltipField)||De(this.colDef.tooltipValueGetter)||De(this.colDef.tooltipComponent)}resetActualWidth(e){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(gt(this.colDef)||gt(this.colDef.showRowGroup))return!1;const i=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return i||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,i){var r,n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new tH(this.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const i=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(i)}return!1}isCellEditable(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var i;return(i=this.colDef[e])!=null?i:Pxe[e]}isColumnFunc(e,i){if(typeof i=="boolean")return i;if(typeof i=="function"){const r=this.createColumnFunctionCallbackParams(e);return i(r)}return!1}setMoving(e,i){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,i){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,i){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return gt(this.sort)}isSorting(){return De(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,i){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(e,i,r){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const n=this.createColumnEvent("filterChanged",i);r&&Io(n,r),this.eventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,i){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(e,i){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,i){const r=e===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const i=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:i,isSpanningTotal:r}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}createBaseColDefParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(gt(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.colSpan(i);return Math.max(r,1)}getRowSpan(e){if(gt(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.rowSpan(i);return Math.max(r,1)}setActualWidth(e,i,r=!1){this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&i!=="flex"&&i!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return this.maxWidth!=null?e>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){De(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,i){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,i){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,i){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(e){ut("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let i=this.getColDef().menuTabs;return i==null&&(i=e),i}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:XQ.EVENT_STATE_UPDATED,key:e})}};Gr.EVENT_MOVING_CHANGED="movingChanged";Gr.EVENT_LEFT_CHANGED="leftChanged";Gr.EVENT_WIDTH_CHANGED="widthChanged";Gr.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";Gr.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";Gr.EVENT_VISIBLE_CHANGED="visibleChanged";Gr.EVENT_FILTER_CHANGED="filterChanged";Gr.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";Gr.EVENT_SORT_CHANGED="sortChanged";Gr.EVENT_COL_DEF_CHANGED="colDefChanged";Gr.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";Gr.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";Gr.EVENT_PIVOT_CHANGED="columnPivotChanged";Gr.EVENT_VALUE_CHANGED="columnValueChanged";Gr.EVENT_STATE_UPDATED="columnStateUpdated";A([B("gridOptionsService")],Gr.prototype,"gridOptionsService",2);A([B("columnUtils")],Gr.prototype,"columnUtils",2);A([B("columnHoverService")],Gr.prototype,"columnHoverService",2);A([B("frameworkOverrides")],Gr.prototype,"frameworkOverrides",2);A([_e],Gr.prototype,"initialise",1);var vi=Gr,V0=class Ly{constructor(e,i,r,n){this.localEventService=new Eu,this.expandable=!1,this.instanceId=qQ(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=i,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,i){this.colGroupDef=e,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e;const i={type:Ly.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(i=>{i instanceof vi?e.push(i):i instanceof Ly&&i.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,i=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let o=0,a=n.length;o<a;o++){const l=n[o];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,r=!0):u==="closed"?(i=!0,r=!0):(e=!0,i=!0)}const s=e&&i&&r;if(this.expandable!==s){this.expandable=s;const o={type:Ly.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(o)}}findChildrenRemovingPadding(){const e=[],i=r=>{r.forEach(n=>{n instanceof Ly&&n.isPadding()?i(n.children):e.push(n)})};return i(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}};V0.EVENT_EXPANDED_CHANGED="expandedChanged";V0.EVENT_EXPANDABLE_CHANGED="expandableChanged";A([ja],V0.prototype,"destroy",1);var br=V0,Axe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},QQ={};En(QQ,{addSafePassiveEventListener:()=>aZ,createEventPath:()=>sZ,getCtrlForEventTarget:()=>MP,getEventPath:()=>oZ,isElementInEventPath:()=>FP,isEventSupported:()=>rH,isStopPropagationForAgGrid:()=>Rl,stopPropagationForAgGrid:()=>Al});var ZQ={};En(ZQ,{areEqual:()=>lu,existsAndNotEmpty:()=>JQ,flatten:()=>rZ,forEachReverse:()=>Ixe,includes:()=>Pa,insertArrayIntoArray:()=>_N,insertIntoArray:()=>YS,last:()=>qt,moveInArray:()=>NN,pushAll:()=>GN,removeAllFromArray:()=>iZ,removeAllFromUnorderedArray:()=>tZ,removeFromArray:()=>Ws,removeFromUnorderedArray:()=>iH,removeRepeatsFromArray:()=>Mxe,shallowCompare:()=>Oxe,sortNumerically:()=>eZ,toStrings:()=>Fxe});function JQ(t){return t!=null&&t.length>0}function qt(t){if(!(!t||!t.length))return t[t.length-1]}function lu(t,e,i){return t==null&&e==null?!0:t!=null&&e!=null&&t.length===e.length&&t.every((r,n)=>i?i(r,e[n]):e[n]===r)}function Oxe(t,e){return lu(t,e)}function eZ(t){return t.sort((e,i)=>e-i)}function Mxe(t,e){if(t)for(let i=t.length-2;i>=0;i--){const r=t[i]===e,n=t[i+1]===e;r&&n&&t.splice(i+1,1)}}function iH(t,e){const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.pop())}function Ws(t,e){const i=t.indexOf(e);i>=0&&t.splice(i,1)}function tZ(t,e){for(let i=0;i<e.length;i++)iH(t,e[i])}function iZ(t,e){for(let i=0;i<e.length;i++)Ws(t,e[i])}function YS(t,e,i){t.splice(i,0,e)}function _N(t,e,i){if(!(t==null||e==null))for(let r=e.length-1;r>=0;r--){const n=e[r];YS(t,n,i)}}function NN(t,e,i){iZ(t,e),e.slice().reverse().forEach(r=>YS(t,r,i))}function Pa(t,e){return t.indexOf(e)>-1}function rZ(t){return[].concat.apply([],t)}function GN(t,e){e==null||t==null||e.forEach(i=>t.push(i))}function Fxe(t){return t.map(KS)}function Ixe(t,e){if(t!=null)for(let i=t.length-1;i>=0;i--)e(t[i],i)}var nZ="__ag_Grid_Stop_Propagation",Lxe=["touchstart","touchend","touchmove","touchcancel","scroll"],tL={};function Al(t){t[nZ]=!0}function Rl(t){return t[nZ]===!0}var rH=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof tL[i]=="boolean")return tL[i];const r=document.createElement(t[i]||"div");return i="on"+i,tL[i]=i in r}})();function MP(t,e,i){let r=e;for(;r;){const n=t.getDomData(r,i);if(n)return n;r=r.parentElement}return null}function FP(t,e){return!e||!t?!1:oZ(e).indexOf(t)>=0}function sZ(t){const e=[];let i=t.target;for(;i;)e.push(i),i=i.parentElement;return e}function oZ(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():sZ(e)}function aZ(t,e,i,r){const s=Pa(Lxe,i)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,i,r,s)}var _c=class lZ{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:lZ.EVENT_DESTROYED})}addEventListener(e,i){this.localEventService||(this.localEventService=new Eu),this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService&&this.localEventService.removeEventListener(e,i)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,i,r){if(this.destroyed)return;e instanceof HTMLElement?aZ(this.getFrameworkOverrides(),e,i,r):e.addEventListener(i,r);const n=()=>(e.removeEventListener(i,r),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null);return this.destroyFunctions.push(n),n}setupGridOptionListener(e,i){this.gridOptionsService.addEventListener(e,i);const r=()=>(this.gridOptionsService.removeEventListener(e,i),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null);return this.destroyFunctions.push(r),r}addManagedPropertyListener(e,i){return this.destroyed?()=>null:this.setupGridOptionListener(e,i)}addManagedPropertyListeners(e,i){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=s.changeSet.id}const o={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};i(o)};e.forEach(s=>this.setupGridOptionListener(s,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,i){const r=this.createBean(e,i);return this.addDestroyFunc(this.destroyBean.bind(this,e,i)),r}createBean(e,i,r){return(i||this.getContext()).createBean(e,r)}destroyBean(e,i){return(i||this.getContext()).destroyBean(e)}destroyBeans(e,i){return e&&e.forEach(r=>this.destroyBean(r,i)),[]}};_c.EVENT_DESTROYED="destroyed";A([B("frameworkOverrides")],_c.prototype,"frameworkOverrides",2);A([B("context")],_c.prototype,"context",2);A([B("eventService")],_c.prototype,"eventService",2);A([B("gridOptionsService")],_c.prototype,"gridOptionsService",2);A([B("localeService")],_c.prototype,"localeService",2);A([B("environment")],_c.prototype,"environment",2);A([ja],_c.prototype,"destroy",1);var Ie=_c,qS=class extends Ie{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,i,r,n){const s=new Rxe,{existingCols:o,existingGroups:a,existingColKeys:l}=this.extractExistingTreeData(r);s.addExistingKeys(l);const u=this.recursivelyCreateColumns(e,0,i,o,s,a,n),c=this.findMaxDept(u,0);this.logger.log("Number of levels for grouped columns is "+c);const d=this.balanceColumnTree(u,0,c,s),h=(f,g)=>{f instanceof br&&f.setupExpandable(),f.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,d,h),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const i=[],r=[],n=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,s=>{if(s instanceof br){const o=s;r.push(o)}else{const o=s;n.push(o.getId()),i.push(o)}}),{existingCols:i,existingGroups:r,existingColKeys:n}}createForAutoGroups(e,i){return e.map(r=>this.createAutoGroupTreeItem(i,r))}createAutoGroupTreeItem(e,i){const r=this.findDepth(e);let n=i;for(let s=r-1;s>=0;s--){const o=new br(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return r===0&&i.setOriginalParent(null),n}findDepth(e){let i=0,r=e;for(;r&&r[0]&&r[0]instanceof br;)i++,r=r[0].getChildren();return i}balanceColumnTree(e,i,r,n){const s=[];for(let o=0;o<e.length;o++){const a=e[o];if(a instanceof br){const l=a,u=this.balanceColumnTree(l.getChildren(),i+1,r,n);l.setChildren(u),s.push(l)}else{let l,u;for(let c=r-1;c>=i;c--){const d=n.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new br(h,d,!0,i);this.createBean(f),u&&u.setChildren([f]),u=f,l||(l=u)}if(l&&u)if(s.push(l),e.some(d=>d instanceof br)){u.setChildren([a]);continue}else{u.setChildren(e);break}s.push(a)}}return s}findMaxDept(e,i){let r=i;for(let n=0;n<e.length;n++){const s=e[n];if(s instanceof br){const o=s,a=this.findMaxDept(o.getChildren(),i+1);r<a&&(r=a)}}return r}recursivelyCreateColumns(e,i,r,n,s,o,a){if(!e)return[];const l=new Array(e.length);for(let u=0;u<l.length;u++){const c=e[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(r,c,i,n,s,o,a):l[u]=this.createColumn(r,c,n,s,a)}return l}createColumnGroup(e,i,r,n,s,o,a){const l=this.createMergedColGroupDef(i),u=s.getUniqueKey(l.groupId||null,null),c=new br(l,u,!1,r);this.createBean(c);const d=this.findExistingGroup(i,o);d&&o.splice(d.idx,1);let h=d==null?void 0:d.group;h&&c.setExpanded(h.isExpanded());const f=this.recursivelyCreateColumns(l.children,r+1,e,n,s,o,a);return c.setChildren(f),c}createMergedColGroupDef(e){const i={};return Object.assign(i,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(i,e),i}createColumn(e,i,r,n,s){const o=this.findExistingColumn(i,r);o&&(r==null||r.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const l=this.addColumnDefaultAndTypes(i,a.getColId());a.setColDef(l,i,s),this.applyColumnState(a,l,s)}else{const l=n.getUniqueKey(i.colId,i.field),u=this.addColumnDefaultAndTypes(i,l);a=new vi(u,i,l,e),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a}applyColumnState(e,i,r){const n=kd(i.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const l=kd(i.width);if(l!=null)e.setActualWidth(l,r);else{const u=e.getActualWidth();e.setActualWidth(u,r)}}i.sort!==void 0&&(i.sort=="asc"||i.sort=="desc"?e.setSort(i.sort,r):e.setSort(void 0,r));const o=kd(i.sortIndex);o!==void 0&&e.setSortIndex(o);const a=xP(i.hide);a!==void 0&&e.setVisible(!a,r),i.pinned!==void 0&&e.setPinned(i.pinned)}findExistingColumn(e,i){if(i)for(let r=0;r<i.length;r++){const n=i[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(i[r].getId()===e.colId)return{idx:r,column:i[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:i[r]};continue}if(n===e)return{idx:r,column:i[r]}}}findExistingGroup(e,i){if(e.groupId!=null)for(let n=0;n<i.length;n++){const s=i[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}addColumnDefaultAndTypes(e,i){const r={},n=this.gridOptionsService.get("defaultColDef");Io(r,n,!1,!0);const s=this.dataTypeService.updateColDefAndGetColumnType(r,e,i);s&&this.assignColumnTypes(s,r),Io(r,e,!1,!0);const o=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&o&&a&&Io(r,{sort:o.sort,initialSort:o.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r}assignColumnTypes(e,i){if(!e.length)return;const r=Object.assign({},Axe),n=this.gridOptionsService.get("columnTypes")||{};Ao(n,(s,o)=>{s in r?console.warn(`AG Grid: the column type '${s}' is a default column type and cannot be overridden.`):(o.type&&ut("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=o)}),e.forEach(s=>{const o=r[s.trim()];o?Io(i,o,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};A([B("columnUtils")],qS.prototype,"columnUtils",2);A([B("dataTypeService")],qS.prototype,"dataTypeService",2);A([gl(0,ml("loggerFactory"))],qS.prototype,"setBeans",1);qS=A([ze("columnFactory")],qS);var H0=class Kl{constructor(e,i,r,n){this.displayedChildren=[],this.localEventService=new Eu,this.groupId=i,this.partId=r,this.providedColumnGroup=e,this.pinned=n}static createUniqueId(e,i){return e+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return Kl.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof Kl&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const i=qt(this.displayedChildren).getLeft();this.setLeft(i)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(Kl.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let i=!1;return this.children.forEach(r=>{e===r&&(i=!0),r instanceof Kl&&r.isChildInThisGroupDeepSearch(e)&&(i=!0)}),i}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(i=>{e+=i.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(i=>{i instanceof vi?e.push(i):i instanceof Kl&&i.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(i=>{i instanceof vi?e.push(i):i instanceof Kl&&i.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(Kl.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(r=>{if(r instanceof Kl&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.localEventService.dispatchEvent(this.createAgEvent(Kl.EVENT_DISPLAYED_CHILDREN_CHANGED))}};H0.EVENT_LEFT_CHANGED="leftChanged";H0.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";A([B("gridOptionsService")],H0.prototype,"gridOptionsService",2);var $r=H0,I=class{};I.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";I.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";I.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";I.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded";I.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";I.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";I.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";I.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";I.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";I.EVENT_COLUMN_MOVED="columnMoved";I.EVENT_COLUMN_VISIBLE="columnVisible";I.EVENT_COLUMN_PINNED="columnPinned";I.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";I.EVENT_COLUMN_RESIZED="columnResized";I.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";I.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns";I.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide";I.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation";I.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";I.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver";I.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave";I.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked";I.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu";I.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";I.EVENT_ROW_GROUP_OPENED="rowGroupOpened";I.EVENT_ROW_DATA_UPDATED="rowDataUpdated";I.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";I.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";I.EVENT_CHART_CREATED="chartCreated";I.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";I.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";I.EVENT_CHART_DESTROYED="chartDestroyed";I.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";I.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";I.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";I.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";I.EVENT_MODEL_UPDATED="modelUpdated";I.EVENT_CUT_START="cutStart";I.EVENT_CUT_END="cutEnd";I.EVENT_PASTE_START="pasteStart";I.EVENT_PASTE_END="pasteEnd";I.EVENT_FILL_START="fillStart";I.EVENT_FILL_END="fillEnd";I.EVENT_RANGE_DELETE_START="rangeDeleteStart";I.EVENT_RANGE_DELETE_END="rangeDeleteEnd";I.EVENT_UNDO_STARTED="undoStarted";I.EVENT_UNDO_ENDED="undoEnded";I.EVENT_REDO_STARTED="redoStarted";I.EVENT_REDO_ENDED="redoEnded";I.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";I.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";I.EVENT_CELL_CLICKED="cellClicked";I.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";I.EVENT_CELL_MOUSE_DOWN="cellMouseDown";I.EVENT_CELL_CONTEXT_MENU="cellContextMenu";I.EVENT_CELL_VALUE_CHANGED="cellValueChanged";I.EVENT_CELL_EDIT_REQUEST="cellEditRequest";I.EVENT_ROW_VALUE_CHANGED="rowValueChanged";I.EVENT_CELL_FOCUSED="cellFocused";I.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";I.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";I.EVENT_ROW_SELECTED="rowSelected";I.EVENT_SELECTION_CHANGED="selectionChanged";I.EVENT_TOOLTIP_SHOW="tooltipShow";I.EVENT_TOOLTIP_HIDE="tooltipHide";I.EVENT_CELL_KEY_DOWN="cellKeyDown";I.EVENT_CELL_MOUSE_OVER="cellMouseOver";I.EVENT_CELL_MOUSE_OUT="cellMouseOut";I.EVENT_FILTER_CHANGED="filterChanged";I.EVENT_FILTER_MODIFIED="filterModified";I.EVENT_FILTER_OPENED="filterOpened";I.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";I.EVENT_SORT_CHANGED="sortChanged";I.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";I.EVENT_ROW_CLICKED="rowClicked";I.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";I.EVENT_GRID_READY="gridReady";I.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";I.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";I.EVENT_VIEWPORT_CHANGED="viewportChanged";I.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";I.EVENT_FIRST_DATA_RENDERED="firstDataRendered";I.EVENT_DRAG_STARTED="dragStarted";I.EVENT_DRAG_STOPPED="dragStopped";I.EVENT_CHECKBOX_CHANGED="checkboxChanged";I.EVENT_ROW_EDITING_STARTED="rowEditingStarted";I.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";I.EVENT_CELL_EDITING_STARTED="cellEditingStarted";I.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";I.EVENT_BODY_SCROLL="bodyScroll";I.EVENT_BODY_SCROLL_END="bodyScrollEnd";I.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";I.EVENT_PAGINATION_CHANGED="paginationChanged";I.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";I.EVENT_STORE_REFRESHED="storeRefreshed";I.EVENT_STATE_UPDATED="stateUpdated";I.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged";I.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";I.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged";I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";I.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";I.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";I.EVENT_FLASH_CELLS="flashCells";I.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";I.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";I.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";I.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";I.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";I.EVENT_ROW_DRAG_ENTER="rowDragEnter";I.EVENT_ROW_DRAG_MOVE="rowDragMove";I.EVENT_ROW_DRAG_LEAVE="rowDragLeave";I.EVENT_ROW_DRAG_END="rowDragEnd";I.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";I.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";I.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";I.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";I.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";I.EVENT_STORE_UPDATED="storeUpdated";I.EVENT_FILTER_DESTROYED="filterDestroyed";I.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";I.EVENT_ROW_COUNT_READY="rowCountReady";I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";I.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";I.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";I.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";I.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var CD=new Set([I.EVENT_GRID_PRE_DESTROYED]),uZ=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const i=this.existingIds[e];let r;return typeof i!="number"?r=0:r=i+1,this.existingIds[e]=r,r}},Gm="ag-Grid-AutoColumn",IP=class extends Ie{createAutoGroupColumns(e){const i=[],r=this.gridOptionsService.get("treeData");let n=this.gridOptionsService.isGroupMultiAutoColumn();return r&&n&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),n=!1),n?e.forEach((s,o)=>{i.push(this.createOneAutoGroupColumn(s,o))}):i.push(this.createOneAutoGroupColumn()),i}updateAutoGroupColumns(e,i){e.forEach((r,n)=>this.updateOneAutoGroupColumn(r,n,i))}createOneAutoGroupColumn(e,i){let r;e?r=`${Gm}-${e.getId()}`:r=Gm;const n=this.createAutoGroupColDef(r,e,i);n.colId=r;const s=new vi(n,null,r,!0);return this.context.createBean(s),s}updateOneAutoGroupColumn(e,i,r){const n=e.getColDef(),s=typeof n.showRowGroup=="string"?n.showRowGroup:void 0,o=s!=null?this.columnModel.getPrimaryColumn(s):void 0,a=this.createAutoGroupColDef(e.getId(),o??void 0,i);e.setColDef(a,null,r),this.columnFactory.applyColumnState(e,a,r)}createAutoGroupColDef(e,i,r){let n=this.createBaseColDef(i);const s=this.gridOptionsService.get("autoGroupColumnDef");Io(n,s),n=this.columnFactory.addColumnDefaultAndTypes(n,e),this.gridOptionsService.get("treeData")||gt(n.field)&&gt(n.valueGetter)&&gt(n.filterValueGetter)&&n.filter!=="agGroupColumnFilter"&&(n.filter=!1),r&&r>0&&(n.headerCheckboxSelection=!1);const o=this.gridOptionsService.isColumnsSortingCoupledToGroup(),a=n.valueGetter||n.field!=null;return o&&!a&&(n.sortIndex=void 0,n.initialSort=void 0),n}createBaseColDef(e){const i=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(i&&(i.cellRenderer||i.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),e){const o=e.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:o.headerValueGetter}),o.cellRenderer&&Object.assign(n,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererParams:o.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n}};A([B("columnModel")],IP.prototype,"columnModel",2);A([B("columnFactory")],IP.prototype,"columnFactory",2);IP=A([ze("autoGroupColService")],IP);var cZ={};En(cZ,{camelCaseToHumanText:()=>dZ,camelCaseToHyphenated:()=>hZ,capitalise:()=>kxe,escapeString:()=>jr,utf8_encode:()=>Gxe});var _xe=/[&<>"']/g,Nxe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Gxe(t){const e=String.fromCharCode;function i(d){const h=[];if(!d)return[];const f=d.length;let g=0,v,C;for(;g<f;)v=d.charCodeAt(g++),v>=55296&&v<=56319&&g<f?(C=d.charCodeAt(g++),(C&64512)==56320?h.push(((v&1023)<<10)+(C&1023)+65536):(h.push(v),g--)):h.push(v);return h}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function n(d,h){return e(d>>h&63|128)}function s(d){if(d>=0&&d<=31&&d!==10)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(d&4294967168))return e(d);let h="";return d&4294965248?d&4294901760?d&4292870144||(h=e(d>>18&7|240),h+=n(d,12),h+=n(d,6)):(r(d),h=e(d>>12&15|224),h+=n(d,6)):h=e(d>>6&31|192),h+=e(d&63|128),h}const o=i(t),a=o.length;let l=-1,u,c="";for(;++l<a;)u=o[l],c+=s(u);return c}function kxe(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}function jr(t,e){if(t==null)return null;const i=t.toString().toString();return e?i:i.replace(_xe,r=>Nxe[r])}function dZ(t){if(!t||t==null)return null;const e=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return t.replace(e,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}function hZ(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var pZ={};En(pZ,{convertToMap:()=>Sd,keys:()=>Hxe,mapById:()=>Vxe});function Sd(t){const e=new Map;return t.forEach(i=>e.set(i[0],i[1])),e}function Vxe(t,e){const i=new Map;return t.forEach(r=>i.set(e(r),r)),i}function Hxe(t){const e=[];return t.forEach((i,r)=>e.push(r)),e}var Sn=class extends Ie{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const e=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],i=>this.buildAutoGroupColumns(Zg(i.source))),this.addManagedPropertyListener("autoGroupColumnDef",i=>this.onAutoGroupColumnDefChanged(Zg(i.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],i=>this.onSharedColDefChanged(Zg(i.source))),this.addManagedPropertyListener("pivotMode",i=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),Zg(i.source))),this.addManagedListener(this.eventService,I.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,i){const r=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(r,i)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,i){const r={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,s=>{r[s.getInstanceId()]=s}),i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,s=>{r[s.getInstanceId()]=null});const n=Object.values(r).filter(s=>s!=null);this.destroyBeans(n)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,i){const r=e?this.compareColumnStatesAndDispatchEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const n=this.primaryColumns,s=this.primaryColumnTree,o=this.columnFactory.createColumnTree(this.columnDefs,!0,s,i);this.destroyOldColumns(this.primaryColumnTree,o.columnTree),this.primaryColumnTree=o.columnTree,this.primaryHeaderRowCount=o.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(u=>this.primaryColumnsMap[u.getId()]=u),this.extractRowGroupColumns(i,n),this.extractPivotColumns(i,n),this.extractValueColumns(i,n),this.ready=!0;const a=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||a||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),this.changeEventsDispatching=!0,r&&r(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(i)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){const i={type:I.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(i),e==="gridInitializing"&&this.onColumnsReady()}dispatchEverythingChanged(e){const i={type:I.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(i)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const i=e.filter(n=>this.gridColumns.indexOf(n)>=0),r=this.gridColumns.filter(n=>i.indexOf(n)<0);this.gridColumns=[...r,...i],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let i=e;const r=[];for(;i!=null;)r.push(i),i=this.getDisplayedColAfter(i);return r}checkViewportColumns(e=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const r={type:I.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(r)}setViewportPosition(e,i,r=!1){(e!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(e,i){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i);const r={type:I.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}getSecondaryPivotColumn(e,i){if(gt(this.secondaryColumns))return null;const r=this.getPrimaryColumn(i);let n=null;return this.secondaryColumns.forEach(s=>{const o=s.getColDef().pivotKeys,a=s.getColDef().pivotValueColumn;lu(o,e)&&a===r&&(n=s)}),n}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let i,r;this.gridOptionsService.get("enableRtl")?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?qt(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?qt(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(n=>{n.setLastLeftPinned(n===i,e),n.setFirstRightPinned(n===r,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:i,skipHeader:r,skipHeaderGroups:n,stopAtGroup:s,source:o="api"}=e;this.animationFrameService.flushAllFrames();const a=[];let l=-1;const u=r??this.gridOptionsService.get("skipHeaderOnAutoSize"),c=n??u;for(;l!==0;)l=0,this.actionOnGridColumns(i,d=>{if(a.indexOf(d)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(d,u);if(h>0){const f=this.normaliseColumnWidth(d,h);d.setActualWidth(f,o),a.push(d),l++}return!0},o);c||this.autoSizeColumnGroupsByColumns(i,o,s),this.dispatchColumnResizedEvent(a,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,i,r,n=null){if(e&&e.length){const s={type:I.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:i,source:r};this.eventService.dispatchEvent(s)}}dispatchColumnChangedEvent(e,i,r){const n={type:e,columns:i,column:i&&i.length==1?i[0]:null,source:r};this.eventService.dispatchEvent(n)}dispatchColumnMovedEvent(e){const{movedColumns:i,source:r,toIndex:n,finished:s}=e,o={type:I.EVENT_COLUMN_MOVED,columns:i,column:i&&i.length===1?i[0]:null,toIndex:n,finished:s,source:r};this.eventService.dispatchEvent(o)}dispatchColumnPinnedEvent(e,i){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.getPinned()),s={type:I.EVENT_COLUMN_PINNED,pinned:n??null,columns:e,column:r,source:i};this.eventService.dispatchEvent(s)}dispatchColumnVisibleEvent(e,i){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.isVisible()),s={type:I.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:r,source:i};this.eventService.dispatchEvent(s)}autoSizeColumn(e,i,r){e&&this.autoSizeColumns({columns:[e],skipHeader:r,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(e,i,r){const n=new Set;this.getGridColumns(e).forEach(l=>{let u=l.getParent();for(;u&&u!=r;)u.isPadding()||n.add(u),u=u.getParent()});let o;const a=[];for(const l of n){for(const u of this.ctrlsService.getHeaderRowContainerCtrls())if(o=u.getHeaderCtrlForColumn(l),o)break;o&&o.resizeLeafColumnsToFit(i)}return a}autoSizeAllColumns(e,i){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,i));return}const r=this.getAllDisplayedColumns();this.autoSizeColumns({columns:r,skipHeader:i,source:e})}getColumnsFromTree(e){const i=[],r=n=>{for(let s=0;s<n.length;s++){const o=n[s];o instanceof vi?i.push(o):o instanceof br&&r(o.getChildren())}};return r(e),i}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,i,r,n){const s=[];let o=null;for(let a=0;a<i.length;a++){const l=i[a],u=i.length-a,c=Math.min(l.getColSpan(e),u),d=[l];if(c>1){const f=c-1;for(let g=1;g<=f;g++)d.push(i[a+g]);a+=f}let h;r?(h=!1,d.forEach(f=>{r(f)&&(h=!0)})):h=!0,h&&(s.length===0&&o&&(n&&n(l))&&s.push(o),s.push(l)),o=l}return s}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const i=n=>{const s=n.getLeft();return De(s)&&s>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,r,i)}isColumnAtEdge(e,i){const r=this.getAllDisplayedColumns();if(!r.length)return!1;const n=i==="first";let s;if(e instanceof $r){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;s=n?o[0]:qt(o)}else s=e;return(n?r[0]:qt(r))===s}getAriaColumnIndex(e){let i;return e instanceof $r?i=e.getLeafColumns()[0]:i=e,this.ariaOrderColumns.indexOf(i)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const i=e.getLeft()||0,r=i+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,o=i<n&&r<n,a=i>s&&r>s;return!o&&!a}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,i,r,n,s,o){if(!e||Do(e))return;let a=!1;if(e.forEach(u=>{if(!u)return;const c=this.getPrimaryColumn(u);if(c){if(r){if(i.indexOf(c)>=0)return;i.push(c)}else{if(i.indexOf(c)<0)return;Ws(i,c)}n(c),a=!0}}),!a)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o);const l={type:s,columns:i,column:i.length===1?i[0]:null,source:o};this.eventService.dispatchEvent(l)}setRowGroupColumns(e,i){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,I.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),i)}setRowGroupActive(e,i,r){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,r),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([i],!1,r),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([i],!0,r))}addRowGroupColumns(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),I.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}removeRowGroupColumns(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),I.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}addPivotColumns(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!0,r=>r.setPivotActive(!0,i),I.EVENT_COLUMN_PIVOT_CHANGED,i)}setPivotColumns(e,i){this.setPrimaryColumnList(e,this.pivotColumns,I.EVENT_COLUMN_PIVOT_CHANGED,!0,(r,n)=>{n.setPivotActive(r,i)},i)}removePivotColumns(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!1,r=>r.setPivotActive(!1,i),I.EVENT_COLUMN_PIVOT_CHANGED,i)}setPrimaryColumnList(e,i,r,n,s,o){if(!this.gridColumns)return;const a=new Map;i.forEach((l,u)=>a.set(l,u)),i.length=0,De(e)&&e.forEach(l=>{const u=this.getPrimaryColumn(l);u&&i.push(u)}),i.forEach((l,u)=>{const c=a.get(l);if(c===void 0){a.set(l,0);return}n&&c!==u||a.delete(l)}),(this.primaryColumns||[]).forEach(l=>{const u=i.indexOf(l)>=0;s(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.dispatchColumnChangedEvent(r,[...a.keys()],o)}setValueColumns(e,i){this.setPrimaryColumnList(e,this.valueColumns,I.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),i)}setValueActive(e,i,r){if(e!==i.isValueActive()&&(i.setValueActive(e,r),e&&!i.getAggFunc())){const n=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(n)}}addValueColumns(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),I.EVENT_COLUMN_VALUE_CHANGED,i)}removeValueColumns(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),I.EVENT_COLUMN_VALUE_CHANGED,i)}normaliseColumnWidth(e,i){const r=e.getMinWidth();De(r)&&i<r&&(i=r);const n=e.getMaxWidth();return De(n)&&e.isGreaterThanMax(i)&&(i=n),i}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,i,r,n){const s=[];e.forEach(o=>{const a=this.getPrimaryOrGridColumn(o.key);if(!a)return;if(s.push({width:o.newWidth,ratios:[1],columns:[a]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(i=!i),i){const u=this.getDisplayedColAfter(a);if(!u)return;const c=a.getActualWidth()-o.newWidth,d=u.getActualWidth()+c;s.push({width:d,ratios:[1],columns:[u]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:r,source:n})}checkMinAndMaxWidthsForSet(e){const{columns:i,width:r}=e;let n=0,s=0,o=!0;i.forEach(u=>{const c=u.getMinWidth();n+=c||0;const d=u.getMaxWidth();De(d)&&d>0?s+=d:o=!1});const a=r>=n,l=!o||r<=s;return a&&l}resizeColumnSets(e){const{resizeSets:i,finished:r,source:n}=e;if(!(!i||i.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(r){const d=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(d,r,n)}return}const o=[],a=[];i.forEach(d=>{const{width:h,columns:f,ratios:g}=d,v={},C={};f.forEach(w=>a.push(w));let S=!0,y=0;for(;S;){if(y++,y>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}S=!1;const w=[];let E=0,b=h;f.forEach((P,O)=>{if(C[P.getId()])b-=v[P.getId()];else{w.push(P);const _=g[O];E+=_}});const D=1/E;w.forEach((P,O)=>{const N=O===w.length-1;let _;N?_=b:(_=Math.round(g[O]*h*D),b-=_);const L=P.getMinWidth(),k=P.getMaxWidth();De(L)&&_<L?(_=L,C[P.getId()]=!0,S=!0):De(k)&&k>0&&_>k&&(_=k,C[P.getId()]=!0,S=!0),v[P.getId()]=_})}f.forEach(w=>{const E=v[w.getId()];w.getActualWidth()!==E&&(w.setActualWidth(E,n),o.push(w))})});const l=o.length>0;let u=[];l&&(u=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());const c=a.concat(u);(l||r)&&this.dispatchColumnResizedEvent(c,r,n,u)}setColumnAggFunc(e,i,r){if(!e)return;const n=this.getPrimaryColumn(e);n&&(n.setAggFunc(i),this.dispatchColumnChangedEvent(I.EVENT_COLUMN_VALUE_CHANGED,[n],r))}moveRowGroupColumn(e,i,r){if(this.isRowGroupEmpty())return;const n=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,i);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(i,0,n);const o={type:I.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:r};this.eventService.dispatchEvent(o)}moveColumns(e,i,r,n=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),i>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const s=this.getGridColumns(e);this.doesMovePassRules(s,i)&&(NN(this.gridColumns,s,i),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:s,source:r,toIndex:i,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,i){const r=this.getProposedColumnOrder(e,i);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,i){const r=this.gridColumns.slice();return NN(r,e,i),r}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(r=>this.gridColumns.indexOf(r)<0).length>0||e.sort((r,n)=>{const s=this.gridColumns.indexOf(r),o=this.gridColumns.indexOf(n);return s-o})}doesMovePassLockedPositions(e){let i=0,r=!0;const n=s=>s?s===!0||s==="left"?0:2:1;return e.forEach(s=>{const o=n(s.getColDef().lockPosition);o<i&&(r=!1),i=o}),r}doesMovePassMarryChildren(e){let i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,r=>{if(!(r instanceof br))return;const n=r,s=n.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];n.getLeafColumns().forEach(h=>{const f=e.indexOf(h);a.push(f)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),c=l-u,d=n.getLeafColumns().length-1;c>d&&(i=!1)}),i}moveColumnByIndex(e,i,r){if(!this.gridColumns)return;const n=this.gridColumns[e];this.moveColumns([n],i,r)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((i,r)=>this.gridColumns.indexOf(i)-this.gridColumns.indexOf(r)):this.lastPrimaryOrder&&e.sort((i,r)=>this.lastPrimaryOrder.indexOf(i)-this.lastPrimaryOrder.indexOf(r)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==r){this.bodyWidth=e,this.leftWidth=i,this.rightWidth=r;const s={type:I.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(s);const o={type:I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return(e=this.gridColumns)!=null?e:[]}isEmpty(){return Do(this.gridColumns)}isRowGroupEmpty(){return Do(this.rowGroupColumns)}setColumnsVisible(e,i=!1,r){this.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!i}))},r)}setColumnsPinned(e,i,r){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;i===!0||i==="left"?n="left":i==="right"?n="right":n=null,this.actionOnGridColumns(e,s=>s.getPinned()!==n?(s.setPinned(n),!0):!1,r,()=>({type:I.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:r})),this.columnAnimationService.finish()}actionOnGridColumns(e,i,r,n){if(Do(e))return;const s=[];if(e.forEach(o=>{if(!o)return;const a=this.getGridColumn(o);if(!a)return;i(a)!==!1&&s.push(a)}),!!s.length&&(this.updateDisplayedColumns(r),De(n)&&n)){const o=n();o.columns=s,o.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(o)}}getDisplayedColBefore(e){const i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r>0?i[r-1]:null}getDisplayedColAfter(e){const i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r<i.length-1?i[r+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,i){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=i==="After"?qt(n):n[0],o=`getDisplayedCol${i}`;for(;;){const a=this[o](s);if(!a)return null;const l=this.getColumnGroupAtLevel(a,r);if(l!==e)return l}}getColumnGroupAtLevel(e,i){let r=e.getParent(),n,s;for(;n=r.getProvidedColumnGroup().getLevel(),s=r.getPaddingLevel(),!(n+s<=i);)r=r.getParent();return r}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const i=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,s=e.getSort()!=null?e.getSort():null,o=e.getSortIndex()!=null?e.getSortIndex():null,a=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:o,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:r,flex:a}}getColumnState(){if(gt(this.primaryColumns)||!this.isAlive())return[];const i=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i}orderColumnStateList(e){const i=Sd(this.gridColumns.map((r,n)=>[r.getColId(),n]));e.sort((r,n)=>{const s=i.has(r.colId)?i.get(r.colId):-1,o=i.has(n.colId)?i.get(n.colId):-1;return s-o})}resetColumnState(e){if(Do(this.primaryColumns))return;const i=this.getColumnsFromTree(this.primaryColumnTree),r=[];let n=1e3,s=1e3,o=[];this.groupAutoColumns&&(o=o.concat(this.groupAutoColumns)),i&&(o=o.concat(i)),o.forEach(a=>{const l=this.getColumnStateFromColDef(a);gt(l.rowGroupIndex)&&l.rowGroup&&(l.rowGroupIndex=n++),gt(l.pivotIndex)&&l.pivot&&(l.pivotIndex=s++),r.push(l)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const i=(v,C)=>v??C??null,r=e.getColDef(),n=i(r.sort,r.initialSort),s=i(r.sortIndex,r.initialSortIndex),o=i(r.hide,r.initialHide),a=i(r.pinned,r.initialPinned),l=i(r.width,r.initialWidth),u=i(r.flex,r.initialFlex);let c=i(r.rowGroupIndex,r.initialRowGroupIndex),d=i(r.rowGroup,r.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let h=i(r.pivotIndex,r.initialPivotIndex),f=i(r.pivot,r.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);const g=i(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:o,pinned:a,width:l,flex:u,rowGroup:d,rowGroupIndex:c,pivot:f,pivotIndex:h,aggFunc:g}}applyColumnState(e,i){if(Do(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const r=(o,a,l)=>{const u=this.compareColumnStatesAndDispatchEvents(i);this.autoGroupsNeedBuilding=!0;const c=a.slice(),d={},h={},f=[],g=[];let v=0;const C=this.rowGroupColumns.slice(),S=this.pivotColumns.slice();o.forEach(b=>{const D=b.colId||"";if(D.startsWith(Gm)){f.push(b),g.push(b);return}const O=l(D);O?(this.syncColumnWithStateItem(O,b,e.defaultState,d,h,!1,i),Ws(c,O)):(g.push(b),v+=1)});const y=b=>this.syncColumnWithStateItem(b,null,e.defaultState,d,h,!1,i);c.forEach(y);const w=(b,D,P,O)=>{const N=b[P.getId()],_=b[O.getId()],L=N!=null,k=_!=null;if(L&&k)return N-_;if(L)return-1;if(k)return 1;const $=D.indexOf(P),U=D.indexOf(O),K=$>=0,j=U>=0;return K&&j?$-U:K?-1:1};this.rowGroupColumns.sort(w.bind(this,d,C)),this.pivotColumns.sort(w.bind(this,h,S)),this.updateGridColumns();const E=this.groupAutoColumns?this.groupAutoColumns.slice():[];return f.forEach(b=>{const D=this.getAutoColumn(b.colId);Ws(E,D),this.syncColumnWithStateItem(D,b,e.defaultState,null,null,!0,i)}),E.forEach(y),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(i),this.dispatchEverythingChanged(i),u(),{unmatchedAndAutoStates:g,unmatchedCount:v}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:s}=r(e.state||[],this.primaryColumns||[],o=>this.getPrimaryColumn(o));return(n.length>0||De(e.defaultState))&&(s=r(n,this.secondaryColumns||[],o=>this.getSecondaryColumn(o)).unmatchedCount),this.columnAnimationService.finish(),s===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let i=[];const r={};e.state.forEach(s=>{if(!s.colId||r[s.colId])return;const o=this.gridColumnsMap[s.colId];o&&(i.push(o),r[s.colId]=!0)});let n=0;if(this.gridColumns.forEach(s=>{const o=s.getColId();if(r[o]!=null)return;o.startsWith(Gm)?YS(i,s,n++):i.push(s)}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}compareColumnStatesAndDispatchEvents(e){const i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},r=this.getColumnState(),n={};return r.forEach(s=>{n[s.colId]=s}),()=>{const s=this.getPrimaryAndSecondaryAndAutoColumns(),o=(C,S,y,w)=>{const E=S.map(w),b=y.map(w);if(lu(E,b))return;const P=new Set(S);y.forEach(_=>{P.delete(_)||P.add(_)});const O=[...P],N={type:C,columns:O,column:O.length===1?O[0]:null,source:e};this.eventService.dispatchEvent(N)},a=C=>{const S=[];return s.forEach(y=>{const w=n[y.getColId()];w&&C(w,y)&&S.push(y)}),S},l=C=>C.getColId();o(I.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,this.rowGroupColumns,l),o(I.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,this.pivotColumns,l);const c=a((C,S)=>{const y=C.aggFunc!=null,w=y!=S.isValueActive(),E=y&&C.aggFunc!=S.getAggFunc();return w||E});c.length>0&&this.dispatchColumnChangedEvent(I.EVENT_COLUMN_VALUE_CHANGED,c,e);const d=(C,S)=>C.width!=S.getActualWidth();this.dispatchColumnResizedEvent(a(d),!0,e);const h=(C,S)=>C.pinned!=S.getPinned();this.dispatchColumnPinnedEvent(a(h),e);const f=(C,S)=>C.hide==S.isVisible();this.dispatchColumnVisibleEvent(a(f),e);const v=a((C,S)=>C.sort!=S.getSort()||C.sortIndex!=S.getSortIndex());v.length>0&&this.sortController.dispatchSortChangedEvents(e,v),this.normaliseColumnMovedEventForColumnState(r,e)}}getCommonValue(e,i){if(!e||e.length==0)return;const r=i(e[0]);for(let n=1;n<e.length;n++)if(r!==i(e[n]))return;return r}normaliseColumnMovedEventForColumnState(e,i){const r=this.getColumnState(),n={};r.forEach(u=>n[u.colId]=u);const s={};e.forEach(u=>{n[u.colId]&&(s[u.colId]=!0)});const o=e.filter(u=>s[u.colId]),a=r.filter(u=>s[u.colId]),l=[];a.forEach((u,c)=>{const d=o&&o[c];if(d&&d.colId!==u.colId){const h=this.getGridColumn(d.colId);h&&l.push(h)}}),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:i,finished:!0})}syncColumnWithStateItem(e,i,r,n,s,o,a){if(!e)return;const l=(E,b)=>{const D={value1:void 0,value2:void 0};let P=!1;return i&&(i[E]!==void 0&&(D.value1=i[E],P=!0),De(b)&&i[b]!==void 0&&(D.value2=i[b],P=!0)),!P&&r&&(r[E]!==void 0&&(D.value1=r[E]),De(b)&&r[b]!==void 0&&(D.value2=r[b])),D},u=l("hide").value1;u!==void 0&&e.setVisible(!u,a);const c=l("pinned").value1;c!==void 0&&e.setPinned(c);const d=this.columnUtils.calculateColMinWidth(e.getColDef()),h=l("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){const E=l("width").value1;E!=null&&d!=null&&E>=d&&e.setActualWidth(E,a)}const f=l("sort").value1;f!==void 0&&(f==="desc"||f==="asc"?e.setSort(f,a):e.setSort(void 0,a));const g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),o||!e.isPrimary())return;const v=l("aggFunc").value1;v!==void 0&&(typeof v=="string"?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(De(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),Ws(this.valueColumns,e))));const{value1:C,value2:S}=l("rowGroup","rowGroupIndex");(C!==void 0||S!==void 0)&&(typeof S=="number"||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),n&&typeof S=="number"&&(n[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),Ws(this.rowGroupColumns,e)));const{value1:y,value2:w}=l("pivot","pivotIndex");(y!==void 0||w!==void 0)&&(typeof w=="number"||y?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),s&&typeof w=="number"&&(s[e.getId()]=w)):e.isPivotActive()&&(e.setPivotActive(!1,a),Ws(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,i){const r=[];return e&&e.forEach(n=>{const s=i(n);s&&r.push(s)}),r}getColumnWithValidation(e){if(e==null)return null;const i=this.getGridColumn(e);return i||console.warn("AG Grid: could not find column "+e),i}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,i,r){if(!e||!r)return null;if(typeof e=="string"&&r[e])return r[e];for(let n=0;n<i.length;n++)if(this.columnsMatch(i[n],e))return i[n];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const i=e.getColDef().showRowGroup;if(!i)return null;if(i===!0)return this.rowGroupColumns.slice(0);const r=this.getPrimaryColumn(i);return r?[r]:null}getAutoColumn(e){return!this.groupAutoColumns||!De(this.groupAutoColumns)||gt(this.groupAutoColumns)?null:this.groupAutoColumns.find(i=>this.columnsMatch(i,e))||null}columnsMatch(e,i){const r=e===i,n=e.getColDef()===i,s=e.getColId()==i;return r||n||s}getDisplayNameForColumn(e,i,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,i);return r?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,i,r){const n=i?i.getColGroupDef():null;return n?this.getHeaderName(n,null,e,i,r):null}getDisplayNameForColumnGroup(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)}getHeaderName(e,i,r,n,s){const o=e.headerValueGetter;if(o){const a=this.gridOptionsService.addGridCommonParams({colDef:e,column:i,columnGroup:r,providedColumnGroup:n,location:s});return typeof o=="function"?o(a):typeof o=="string"?this.expressionService.evaluate(o,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return dZ(e.field)}return""}wrapHeaderNameWithAggFunc(e,i){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return i;const r=e.getColDef().pivotValueColumn,n=De(r);let s=null,o;if(n){const a=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return i;s=r?r.getAggFunc():null,o=!0}else{const a=e.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();a&&l?(s=e.getAggFunc(),o=!0):o=!1}if(o){const a=typeof s=="string"?s:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${i})`}return i}getColumnGroup(e,i){if(!e)return null;if(e instanceof $r)return e;const r=this.getAllDisplayedTrees(),n=typeof i=="number";let s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,o=>{if(o instanceof $r){const a=o;let l;n?l=e===a.getGroupId()&&i===a.getPartId():l=e===a.getGroupId(),l&&(s=a)}}),s}isReady(){return this.ready}extractValueColumns(e,i){this.valueColumns=this.extractColumns(i,this.valueColumns,(r,n)=>r.setValueActive(n,e),()=>{},()=>{},r=>{const n=r.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueColumns.forEach(r=>{const n=r.getColDef();n.aggFunc!=null&&n.aggFunc!=""?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})}extractRowGroupColumns(e,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,(r,n)=>r.setRowGroupActive(n,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractColumns(e=[],i=[],r,n,s,o,a){const l=[],u=[];(this.primaryColumns||[]).forEach(h=>{const f=e.indexOf(h)<0,g=h.getColDef(),v=xP(o(g)),C=xP(a(g)),S=kd(n(g)),y=kd(s(g));let w;v!==void 0?w=v:S!==void 0?S===null?w=!1:w=S>=0:f?C!==void 0?w=C:y!==void 0?w=y!=null&&y>=0:w=!1:w=i.indexOf(h)>=0,w&&((f?S!=null||y!=null:S!=null)?l.push(h):u.push(h))});const c=h=>{const f=n(h.getColDef()),g=s(h.getColDef());return f??g};l.sort((h,f)=>{const g=c(h),v=c(f);return g===v?0:g<v?-1:1});const d=[].concat(l);return i.forEach(h=>{u.indexOf(h)>=0&&d.push(h)}),u.forEach(h=>{d.indexOf(h)<0&&d.push(h)}),i.forEach(h=>{d.indexOf(h)<0&&r(h,!1)}),d.forEach(h=>{i.indexOf(h)<0&&r(h,!0)}),d}extractPivotColumns(e,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,(r,n)=>r.setPivotActive(n,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}resetColumnGroupState(e){if(!this.primaryColumnTree)return;const i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,r=>{if(r instanceof br){const n=r.getColGroupDef(),s={groupId:r.getGroupId(),open:n?n.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof br&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}setColumnGroupState(e,i){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const r=[];if(e.forEach(n=>{const s=n.groupId,o=n.open,a=this.getProvidedColumnGroup(s);a&&a.isExpanded()!==o&&(this.logger.log("columnGroupOpened("+a.getGroupId()+","+o+")"),a.setExpanded(o),r.push(a))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),r.length){const n={type:I.EVENT_COLUMN_GROUP_OPENED,columnGroup:br.length===1?r[0]:void 0,columnGroups:r};this.eventService.dispatchEvent(n)}this.columnAnimationService.finish()}setColumnGroupOpened(e,i,r){let n;e instanceof br?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:i}],r)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,r=>{r instanceof br&&r.getId()===e&&(i=r)}),i}calculateColumnsForDisplay(){let e;return this.pivotMode&&gt(this.secondaryColumns)?e=this.gridColumns.filter(i=>{const r=this.groupAutoColumns&&Pa(this.groupAutoColumns,i),n=this.valueColumns&&Pa(this.valueColumns,i);return r||n}):e=this.gridColumns.filter(i=>this.groupAutoColumns&&Pa(this.groupAutoColumns,i)||i.isVisible()),e}checkColSpanActiveInCols(e){let i=!1;return e.forEach(r=>{De(r.getColDef().colSpan)&&(i=!0)}),i}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=i=>{const r=i.getColDef(),n=r.showRowGroup;r&&De(n)&&(this.groupDisplayColumns.push(i),typeof n=="string"?this.groupDisplayColumnsMap[n]=i:n===!0&&this.getRowGroupColumns().forEach(s=>{this.groupDisplayColumnsMap[s.getId()]=i}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return De(this.secondaryColumns)}setSecondaryColumns(e,i){if(!this.gridColumns)return;const r=e;if(!(!r&&gt(this.secondaryColumns))){if(r){this.processSecondaryColumnDefinitions(e);const n=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,i);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(s=>this.secondaryColumnsMap[s.getId()]=s),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(i)}}processSecondaryColumnDefinitions(e){const i=this.gridOptionsService.get("processPivotResultColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef");if(!i&&!r)return;const n=s=>{s.forEach(o=>{if(De(o.children)){const l=o;r&&r(l),n(l.children)}else i&&i(o)})};e&&n(e)}updateGridColumns(){const e=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const n=Sd(this.groupAutoColumns.map(s=>[s,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(s=>!n.has(s)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(s=>!n.has(s)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let r;if(this.secondaryColumns&&this.secondaryBalancedTree){const n=this.secondaryColumns.some(s=>this.gridColumnsMap[s.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&(r=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,r=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(r),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(n=>this.gridColumnsMap[n.getId()]=n),this.setAutoHeightActive(),!lu(e,this.gridBalancedTree)){const n={type:I.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||ut("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(e){if(gt(e))return;const i=Sd(e.map((u,c)=>[u,c]));let r=!0;if(this.gridColumns.forEach(u=>{i.has(u)&&(r=!1)}),r)return;const n=Sd(this.gridColumns.map(u=>[u,!0])),s=e.filter(u=>n.has(u)),o=Sd(s.map(u=>[u,!0])),a=this.gridColumns.filter(u=>!o.has(u)),l=s.slice();a.forEach(u=>{let c=u.getOriginalParent();if(!c){l.push(u);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(v=>{const C=l.indexOf(v)>=0,S=d.indexOf(v)<0;C&&S&&d.push(v)}),c=c.getOriginalParent();if(!d.length){l.push(u);return}const h=d.map(g=>l.indexOf(g)),f=Math.max(...h);YS(l,u,f+1)}),this.gridColumns=l}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let i=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!=null?e:[];this.groupAutoColumns&&(i=i.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?i:i.filter(r=>r.isVisible()||r.isRowGroupActive())}placeLockedColumns(e){const i=[],r=[],n=[];return e.forEach(s=>{const o=s.getColDef().lockPosition;o==="right"?n.push(s):o==="left"||o===!0?i.push(s):r.push(s)}),[...i,...r,...n]}addAutoGroupToGridColumns(){if(gt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const i={type:I.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(i=>i.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const e=this.getAllGridColumns(),i=[],r=[],n=[];for(const s of e){const o=s.getPinned();o?o===!0||o==="left"?i.push(s):n.push(s):r.push(s)}this.ariaOrderColumns=i.concat(r).concat(n)}joinDisplayedColumns(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const i=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),r=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(n=>{if(r){let s=this.getWidthOfColsInList(n);n.forEach(o=>{s-=o.getActualWidth(),o.setLeft(s,e)})}else{let s=0;n.forEach(o=>{o.setLeft(s,e),s+=o.getActualWidth()})}tZ(i,n)}),i.forEach(n=>{n.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(i=>{i instanceof $r&&i.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,r=>{r instanceof vi&&i.push(r)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,i){let r;switch(e){case"left":r=this.viewportRowLeft[i];break;case"right":r=this.viewportRowRight[i];break;default:r=this.viewportRowCenter[i];break}return gt(r)&&(r=[]),r}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(r=>e[r.getId()]=!0);const i=(r,n,s)=>{let o=!1;for(let a=0;a<r.length;a++){const l=r[a];let u=!1;if(l instanceof vi)u=e[l.getId()]===!0;else{const d=l.getDisplayedChildren();d&&(u=i(d,n,s+1))}u&&(o=!0,n[s]||(n[s]=[]),n[s].push(l))}return o};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const i=this.viewportColumns.map(e).join("#"),r=this.viewportColumnsHash!==i;return r&&(this.viewportColumnsHash=i,this.calculateHeaderRows()),r}refreshFlexedColumns(e={}){var i;const r=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=-1;if(e.resizingCols){const f=new Set(e.resizingCols);let g=this.displayedColumnsCenter;for(let v=g.length-1;v>=0;v--)if(f.has(g[v])){n=v;break}}let s=0,o=[],a=0,l=0;for(let f=0;f<this.displayedColumnsCenter.length;f++)this.displayedColumnsCenter[f].getFlex()&&f>n?(o.push(this.displayedColumnsCenter[f]),l+=this.displayedColumnsCenter[f].getFlex(),a+=(i=this.displayedColumnsCenter[f].getMinWidth())!=null?i:0):s+=this.displayedColumnsCenter[f].getActualWidth();if(!o.length)return[];let u=[];s+a>this.flexViewportWidth&&(o.forEach(f=>{var g;return f.setActualWidth((g=f.getMinWidth())!=null?g:0,r)}),u=o,o=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-s;const f=d/l;for(let g=0;g<o.length;g++){const v=o[g],C=f*v.getFlex();let S=0;const y=v.getMinWidth(),w=v.getMaxWidth();if(De(y)&&C<y?S=y:De(w)&&C>w&&(S=w),S){v.setActualWidth(S,r),iH(o,v),l-=v.getFlex(),u.push(v),s+=v.getActualWidth();continue e}c[g]=Math.round(C)}break}let h=d;return o.forEach((f,g)=>{f.setActualWidth(Math.min(c[g],h),r),u.push(f),h-=c[g]}),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(u,!0,r,o),o}sizeColumnsToFit(e,i="sizeColumnsToFit",r,n){var s,o,a,l,u;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,i,r,n));return}const c={};n&&((s=n==null?void 0:n.columnLimits)==null||s.forEach(y=>{var w=y,{key:E}=w,b=wxe(w,["key"]);c[typeof E=="string"?E:E.getColId()]=b}));const d=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(d);if(e<=0||!d.length||h)return;const f=[],g=[];d.forEach(y=>{y.getColDef().suppressSizeToFit===!0?g.push(y):f.push(y)});const v=f.slice(0);let C=!1;const S=y=>{Ws(f,y),g.push(y)};for(f.forEach(y=>{var w,E;y.resetActualWidth(i);const b=c==null?void 0:c[y.getId()],D=(w=b==null?void 0:b.minWidth)!=null?w:n==null?void 0:n.defaultMinWidth,P=(E=b==null?void 0:b.maxWidth)!=null?E:n==null?void 0:n.defaultMaxWidth,O=y.getActualWidth();typeof D=="number"&&O<D?y.setActualWidth(D,i,!0):typeof P=="number"&&O>P&&y.setActualWidth(P,i,!0)});!C;){C=!0;const y=e-this.getWidthOfColsInList(g);if(y<=0)f.forEach(w=>{var E,b;const D=(b=(E=c==null?void 0:c[w.getId()])==null?void 0:E.minWidth)!=null?b:n==null?void 0:n.defaultMinWidth;if(typeof D=="number"){w.setActualWidth(D,i,!0);return}w.setMinimum(i)});else{const w=y/this.getWidthOfColsInList(f);let E=y;for(let b=f.length-1;b>=0;b--){const D=f[b],P=c==null?void 0:c[D.getId()],O=(o=P==null?void 0:P.minWidth)!=null?o:n==null?void 0:n.defaultMinWidth,N=(a=P==null?void 0:P.maxWidth)!=null?a:n==null?void 0:n.defaultMaxWidth,_=(l=D.getMinWidth())!=null?l:0,L=(u=D.getMaxWidth())!=null?u:Number.MAX_VALUE,k=typeof O=="number"&&O>_?O:D.getMinWidth(),$=typeof N=="number"&&N<L?N:D.getMaxWidth();let U=Math.round(D.getActualWidth()*w);De(k)&&U<k?(U=k,S(D),C=!1):De($)&&U>$?(U=$,S(D),C=!1):b===0&&(U=E),D.setActualWidth(U,i,!0),E-=U}}}v.forEach(y=>{y.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(v,!0,i)}buildDisplayedTrees(e){const i=[],r=[],n=[];e.forEach(o=>{switch(o.getPinned()){case"left":i.push(o);break;case"right":r.push(o);break;default:n.push(o);break}});const s=new uZ;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,s,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=i=>{this.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,i=>{i instanceof $r&&i.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const i=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))&&!r&&!i){const o=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(o,this.groupAutoColumns)||e)return this.groupAutoColumns=o,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){return this.gridOptionsService.get("groupDisplayType")==="custom"?!0:this.gridOptionsService.get("treeDataDisplayType")==="custom"}autoColsEqual(e,i){return lu(e,i,(r,n)=>r.getColId()===n.getColId())}getWidthOfColsInList(e){return e.reduce((i,r)=>i+r.getActualWidth(),0)}getFirstDisplayedColumn(){const e=this.gridOptionsService.get("enableRtl"),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&i.reverse();for(let r=0;r<i.length;r++){const n=this[i[r]]();if(n.length)return e?qt(n):n[0]}return null}setColumnHeaderHeight(e,i){if(e.setAutoHeaderHeight(i)){const n={type:I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(n)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.getAllDisplayedColumns().filter(r=>r.isAutoHeaderHeight()).map(r=>r.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){var e;return(e=this.gridOptionsService.get("headerHeight"))!=null?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!=null?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!=null?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,i){const r=e.getUserProvidedColDef();if(!r)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r,i),!0}isColumnGroupingLocked(e){const i=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||i===0)return!1;if(i===-1)return!0;const r=this.rowGroupColumns.findIndex(n=>n.getColId()===e.getColId());return i>r}generateColumnStateForRowGroupAndPivotIndexes(e,i){let r={};const n=(s,o,a,l,u,c)=>{if(!o.length||!this.primaryColumns)return[];const d=Object.keys(s),h=new Set(d),f=new Set(d),g=new Set(o.map(D=>{const P=D.getColId();return f.delete(P),P}).concat(d)),v=[],C={};let S=0;for(let D=0;D<this.primaryColumns.length;D++){const P=this.primaryColumns[D].getColId();g.has(P)&&(v.push(P),C[P]=S++)}let y=1e3,w=!1,E=0;const b=D=>{const P=C[D];for(let O=E;O<P;O++){const N=v[O];f.has(N)&&(s[N][u]=y++,f.delete(N))}E=P};o.forEach(D=>{const P=D.getColId();if(h.has(P))b(P),s[P][u]=y++;else{const O=D.getColDef();(O[u]===null||O[u]===void 0&&O[c]==null)&&(w||(O[a]||O[a]===void 0&&O[l]?b(P):(f.forEach(L=>{s[L][u]=y+C[L]}),y+=v.length,w=!0)),r[P]||(r[P]={colId:P}),r[P][u]=y++)}})};return n(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(i,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}onColumnsReady(){const e=this.gridOptionsService.get("autoSizeStrategy");if(!e)return;const{type:i}=e;setTimeout(()=>{if(i==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:s}=e,o=r==null?void 0:r.map(({colId:a,minWidth:l,maxWidth:u})=>({key:a,minWidth:l,maxWidth:u}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:o})}else i==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gridOptionsService.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:i,skipHeader:r}=e;setTimeout(()=>{i?this.autoSizeColumns({columns:i,skipHeader:r,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",r)})}};A([B("expressionService")],Sn.prototype,"expressionService",2);A([B("columnFactory")],Sn.prototype,"columnFactory",2);A([B("displayedGroupCreator")],Sn.prototype,"displayedGroupCreator",2);A([B("ctrlsService")],Sn.prototype,"ctrlsService",2);A([B("autoWidthCalculator")],Sn.prototype,"autoWidthCalculator",2);A([B("columnUtils")],Sn.prototype,"columnUtils",2);A([B("columnAnimationService")],Sn.prototype,"columnAnimationService",2);A([B("autoGroupColService")],Sn.prototype,"autoGroupColService",2);A([ai("aggFuncService")],Sn.prototype,"aggFuncService",2);A([ai("valueCache")],Sn.prototype,"valueCache",2);A([ai("animationFrameService")],Sn.prototype,"animationFrameService",2);A([B("sortController")],Sn.prototype,"sortController",2);A([B("columnDefFactory")],Sn.prototype,"columnDefFactory",2);A([_e],Sn.prototype,"init",1);A([ja],Sn.prototype,"destroyColumns",1);A([gl(0,ml("loggerFactory"))],Sn.prototype,"setBeans",1);Sn=A([ze("columnModel")],Sn);function Zg(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}var Y3=class extends Ie{calculateColMinWidth(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const i=this.calculateColMinWidth(e),r=this.calculateColMaxWidth(e);let n;const s=kd(e.width),o=kd(e.initialWidth);return s!=null?n=s:o!=null?n=o:n=200,Math.max(Math.min(n,r),i)}getOriginalPathForColumn(e,i){const r=[];let n=!1;const s=(o,a)=>{for(let l=0;l<o.length;l++){if(n)return;const u=o[l];u instanceof br?(s(u.getChildren(),a+1),r[a]=u):u===e&&(n=!0)}};return s(i,0),n?r:null}depthFirstOriginalTreeSearch(e,i,r){i&&i.forEach(n=>{n instanceof br&&this.depthFirstOriginalTreeSearch(n,n.getChildren(),r),r(n,e)})}depthFirstAllColumnTreeSearch(e,i){e&&e.forEach(r=>{r instanceof $r&&this.depthFirstAllColumnTreeSearch(r.getChildren(),i),i(r)})}depthFirstDisplayedColumnTreeSearch(e,i){e&&e.forEach(r=>{r instanceof $r&&this.depthFirstDisplayedColumnTreeSearch(r.getDisplayedChildren(),i),i(r)})}};Y3=A([ze("columnUtils")],Y3);var q3=class extends Ie{createDisplayedGroups(e,i,r,n){const s=this.mapOldGroupsById(n),o=[];let a=e;for(;a.length;){const l=a;a=[];let u=0;const c=d=>{const h=u;u=d;const f=l[h],v=(f instanceof $r?f.getProvidedColumnGroup():f).getOriginalParent();if(v==null){for(let S=h;S<d;S++)o.push(l[S]);return}const C=this.createColumnGroup(v,i,s,r);for(let S=h;S<d;S++)C.addChild(l[S]);a.push(C)};for(let d=1;d<l.length;d++){const h=l[d],g=(h instanceof $r?h.getProvidedColumnGroup():h).getOriginalParent(),v=l[u],S=(v instanceof $r?v.getProvidedColumnGroup():v).getOriginalParent();g!==S&&c(d)}u<l.length&&c(l.length)}return this.setupParentsIntoColumns(o,null),o}createColumnGroup(e,i,r,n){const s=e.getGroupId(),o=i.getInstanceIdForKey(s),a=$r.createUniqueId(s,o);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),De(l)?l.reset():(l=new $r(e,s,o,n),this.context.createBean(l)),l}mapOldGroupsById(e){const i={},r=n=>{n.forEach(s=>{if(s instanceof $r){const o=s;i[s.getUniqueId()]=o,r(o.getChildren())}})};return e&&r(e),i}setupParentsIntoColumns(e,i){e.forEach(r=>{if(r.setParent(i),r instanceof $r){const n=r;this.setupParentsIntoColumns(n.getChildren(),n)}})}};q3=A([ze("displayedGroupCreator")],q3);var $xe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},fn=class{};fn.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"];fn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];fn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];fn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];fn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"];fn.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];fn.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"];fn.FUNCTION_PROPERTIES=[...fn.FUNCTIONAL_PROPERTIES,...fn.CALLBACK_PROPERTIES];fn.ALL_PROPERTIES=[...fn.ARRAY_PROPERTIES,...fn.OBJECT_PROPERTIES,...fn.STRING_PROPERTIES,...fn.NUMBER_PROPERTIES,...fn.FUNCTION_PROPERTIES,...fn.BOOLEAN_PROPERTIES];var bu=fn,Dr=class yD{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(e,i){typeof e!="object"&&(e={});const r=tt({},e);return yD.getGridOptionKeys().forEach(s=>{const o=i[s];typeof o<"u"&&o!==yD.VUE_OMITTED_PROPERTY&&(r[s]=o)}),r}static processOnChange(e,i){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>yD.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;i.__internalUpdateGridOptions(r);const s={type:I.EVENT_COMPONENT_STATE_CHANGED};Ao(r,(o,a)=>{s[o]=a}),i.dispatchEvent(s)}};Dr.EVENTS=pm(I);Dr.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Dr.EXCLUDED_INTERNAL_EVENTS=[I.EVENT_SCROLLBAR_WIDTH_CHANGED,I.EVENT_CHECKBOX_CHANGED,I.EVENT_HEIGHT_SCALE_CHANGED,I.EVENT_BODY_HEIGHT_CHANGED,I.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,I.EVENT_SCROLL_VISIBILITY_CHANGED,I.EVENT_COLUMN_HOVER_CHANGED,I.EVENT_FLASH_CELLS,I.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,I.EVENT_DISPLAYED_ROWS_CHANGED,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,I.EVENT_STORE_UPDATED,I.EVENT_COLUMN_PANEL_ITEM_DRAG_START,I.EVENT_COLUMN_PANEL_ITEM_DRAG_END,I.EVENT_FILL_START,I.EVENT_FILL_END,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,I.EVENT_FULL_WIDTH_ROW_FOCUSED,I.EVENT_HEADER_HEIGHT_CHANGED,I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,I.EVENT_CELL_FOCUS_CLEARED,I.EVENT_GRID_STYLES_CHANGED,I.EVENT_FILTER_DESTROYED,I.EVENT_ROW_DATA_UPDATE_STARTED,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,I.EVENT_DATA_TYPES_INFERRED,I.EVENT_FIELD_VALUE_CHANGED,I.EVENT_FIELD_PICKER_VALUE_SELECTED,I.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,I.EVENT_SUPPRESS_MENU_HIDE_CHANGED,I.EVENT_SUPPRESS_FIELD_DOT_NOTATION,I.EVENT_ROW_COUNT_READY,I.EVENT_SIDE_BAR_UPDATED];Dr.PUBLIC_EVENTS=Dr.EVENTS.filter(t=>!Pa(Dr.EXCLUDED_INTERNAL_EVENTS,t));Dr.EVENT_CALLBACKS=Dr.EVENTS.map(t=>Dr.getCallbackForEvent(t));Dr.STRING_PROPERTIES=bu.STRING_PROPERTIES;Dr.OBJECT_PROPERTIES=bu.OBJECT_PROPERTIES;Dr.ARRAY_PROPERTIES=bu.ARRAY_PROPERTIES;Dr.NUMBER_PROPERTIES=bu.NUMBER_PROPERTIES;Dr.BOOLEAN_PROPERTIES=bu.BOOLEAN_PROPERTIES;Dr.FUNCTION_PROPERTIES=bu.FUNCTION_PROPERTIES;Dr.ALL_PROPERTIES=bu.ALL_PROPERTIES;Dr.ALL_PROPERTIES_AND_CALLBACKS=[...Dr.ALL_PROPERTIES,...Dr.EVENT_CALLBACKS];Dr.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Dr.ALL_PROPERTIES_AND_CALLBACKS);var fZ=Dr,X3=class extends Ie{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(i=>this.addComponent(i))}addComponent(e){const r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[r]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};X3=A([ze("agStackComponentsRegistry")],X3);var gZ={};En(gZ,{getAriaCheckboxStateName:()=>W0,getAriaLabel:()=>yZ,getAriaLevel:()=>Bxe,getAriaPosInSet:()=>CZ,getAriaSortState:()=>vZ,removeAriaExpanded:()=>bZ,removeAriaSort:()=>AZ,setAriaActiveDescendant:()=>aH,setAriaAtomic:()=>SZ,setAriaChecked:()=>Uxe,setAriaColCount:()=>DZ,setAriaColIndex:()=>uH,setAriaColSpan:()=>PZ,setAriaControls:()=>cH,setAriaDescribedBy:()=>Wxe,setAriaDisabled:()=>oH,setAriaExpanded:()=>vc,setAriaHidden:()=>tb,setAriaLabel:()=>Ol,setAriaLabelledBy:()=>LP,setAriaLevel:()=>EZ,setAriaLive:()=>sH,setAriaMultiSelectable:()=>RZ,setAriaPosInSet:()=>B0,setAriaRelevant:()=>wZ,setAriaRole:()=>dr,setAriaRowCount:()=>TZ,setAriaRowIndex:()=>lH,setAriaSelected:()=>km,setAriaSetSize:()=>$0,setAriaSort:()=>xZ});function Ka(t,e,i){i==null||typeof i=="string"&&i==""?nH(t,e):Ya(t,e,i)}function Ya(t,e,i){t.setAttribute(mZ(e),i.toString())}function nH(t,e){t.removeAttribute(mZ(e))}function mZ(t){return`aria-${t}`}function dr(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function vZ(t){let e;return t==="asc"?e="ascending":t==="desc"?e="descending":t==="mixed"?e="other":e="none",e}function Bxe(t){return parseInt(t.getAttribute("aria-level"),10)}function CZ(t){return parseInt(t.getAttribute("aria-posinset"),10)}function yZ(t){return t.getAttribute("aria-label")}function Ol(t,e){Ka(t,"label",e)}function LP(t,e){Ka(t,"labelledby",e)}function Wxe(t,e){Ka(t,"describedby",e)}function sH(t,e){Ka(t,"live",e)}function SZ(t,e){Ka(t,"atomic",e)}function wZ(t,e){Ka(t,"relevant",e)}function EZ(t,e){Ka(t,"level",e)}function oH(t,e){Ka(t,"disabled",e)}function tb(t,e){Ka(t,"hidden",e)}function aH(t,e){Ka(t,"activedescendant",e)}function vc(t,e){Ya(t,"expanded",e)}function bZ(t){nH(t,"expanded")}function $0(t,e){Ya(t,"setsize",e)}function B0(t,e){Ya(t,"posinset",e)}function RZ(t,e){Ya(t,"multiselectable",e)}function TZ(t,e){Ya(t,"rowcount",e)}function lH(t,e){Ya(t,"rowindex",e)}function DZ(t,e){Ya(t,"colcount",e)}function uH(t,e){Ya(t,"colindex",e)}function PZ(t,e){Ya(t,"colspan",e)}function xZ(t,e){Ya(t,"sort",e)}function AZ(t){nH(t,"sort")}function km(t,e){Ka(t,"selected",e)}function Uxe(t,e){Ya(t,"checked",e===void 0?"mixed":e)}function cH(t,e){Ka(t,"controls",e.id),LP(e,t.id)}function W0(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var OZ={};En(OZ,{browserSupportsPreventScroll:()=>fH,getBodyHeight:()=>IZ,getBodyWidth:()=>FZ,getMaxDivHeight:()=>MZ,getSafariVersion:()=>dH,getScrollbarWidth:()=>LZ,getTabIndex:()=>_P,isBrowserChrome:()=>U0,isBrowserFirefox:()=>hH,isBrowserSafari:()=>Cc,isIOSUserAgent:()=>Nc,isInvisibleScrollbar:()=>gH,isMacOsUserAgent:()=>pH});var iL,ET,rL,nL,sL,oL,kN,VN;function Cc(){return iL===void 0&&(iL=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),iL}function dH(){if(ET===void 0)if(Cc()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(ET=t[1]!=null?parseFloat(t[1]):0)}else ET=0;return ET}function U0(){if(rL===void 0){const t=window;rL=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return rL}function hH(){return nL===void 0&&(nL=/(firefox)/i.test(navigator.userAgent)),nL}function pH(){return sL===void 0&&(sL=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),sL}function Nc(){return oL===void 0&&(oL=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),oL}function fH(){return!Cc()||dH()>=15}function _P(t){if(!t)return null;const e=t.tabIndex,i=t.getAttribute("tabIndex");return e===-1&&(i===null||i===""&&!hH())?null:e.toString()}function MZ(){if(!document.body)return-1;let t=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const r=t*2;if(i.style.height=r+"px",r>e||i.clientHeight!==r)break;t=r}return document.body.removeChild(i),t}function FZ(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientWidth)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientWidth)||-1}function IZ(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientHeight)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientHeight)||-1}function LZ(){return VN==null&&_Z(),VN}function _Z(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let i=e.offsetWidth-e.clientWidth;i===0&&e.clientWidth===0&&(i=null),e.parentNode&&e.parentNode.removeChild(e),i!=null&&(VN=i,kN=i===0)}function gH(){return kN==null&&_Z(),kN}var NZ={};En(NZ,{dateToFormattedString:()=>mm,parseDateTimeFromString:()=>Lo,serialiseDate:()=>yc});var GZ={};En(GZ,{cleanNumber:()=>zxe,createArrayOfNumbers:()=>kZ,decToHex:()=>jxe,formatNumberCommas:()=>mH,formatNumberTwoDecimalPlacesAndCommas:()=>Kxe,padStartWidthZeros:()=>gm,sum:()=>Yxe});function gm(t,e){return t.toString().padStart(e,"0")}function kZ(t,e){const i=[];for(let r=t;r<=e;r++)i.push(r);return i}function zxe(t){return typeof t=="string"&&(t=parseInt(t,10)),typeof t=="number"?Math.floor(t):null}function jxe(t,e){let i="";for(let r=0;r<e;r++)i+=String.fromCharCode(t&255),t>>>=8;return i}function Kxe(t,e,i){return typeof t!="number"?"":mH(Math.round(t*100)/100,e,i)}function mH(t,e,i){return typeof t!="number"?"":t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function Yxe(t){return t==null?null:t.reduce((e,i)=>e+i,0)}function yc(t,e=!0,i="-"){if(!t)return null;let r=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(n=>gm(n,2)).join(i);return e&&(r+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(n=>gm(n,2)).join(":")),r}var aL=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function mm(t,e="YYYY-MM-DD"){const i=gm(t.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>r[t.getMonth()],MMM:()=>r[t.getMonth()].slice(0,3),MM:()=>gm(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${aL(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${aL(t.getDate())}`,DD:()=>gm(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>n[t.getDay()],ddd:()=>n[t.getDay()].slice(0,3),dd:()=>n[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${aL(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return e.replace(o,a=>a in s?s[a]():a)}function Lo(t){if(!t)return null;const[e,i]=t.split(" ");if(!e)return null;const r=e.split("-").map(d=>parseInt(d,10));if(r.filter(d=>!isNaN(d)).length!==3)return null;const[n,s,o]=r,a=new Date(n,s-1,o);if(a.getFullYear()!==n||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,u,c]=i.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}var VZ={};En(VZ,{FOCUSABLE_EXCLUDE:()=>vH,FOCUSABLE_SELECTOR:()=>HZ,addOrRemoveAttribute:()=>Cp,addStylesToElement:()=>RH,bindCellRendererToHtmlElement:()=>DH,clearElement:()=>Ir,copyNodeList:()=>zZ,ensureDomOrder:()=>EH,formatSize:()=>z0,getAbsoluteHeight:()=>yH,getAbsoluteWidth:()=>XS,getElementRectWithOffset:()=>SH,getElementSize:()=>oh,getInnerHeight:()=>ib,getInnerWidth:()=>Ef,getScrollLeft:()=>ZS,insertWithDomOrder:()=>BZ,isElementChildOfClass:()=>mp,isFocusableFormField:()=>CH,isHorizontalScrollShowing:()=>WZ,isInDOM:()=>wH,isNodeOrElement:()=>rb,isRtlNegativeScroll:()=>QS,isVerticalScrollShowing:()=>UZ,isVisible:()=>$o,iterateNamedNodeMap:()=>jZ,loadTemplate:()=>Ks,nodeListForEach:()=>TH,radioCssClass:()=>HN,removeFromParent:()=>vl,setDisabled:()=>Vm,setDisplayed:()=>kt,setDomChildOrder:()=>bH,setElementHeight:()=>qxe,setElementWidth:()=>ew,setFixedHeight:()=>vp,setFixedWidth:()=>xa,setScrollLeft:()=>JS,setVisible:()=>$Z});var bT;function HN(t,e,i){const r=t.parentElement;let n=r&&r.firstChild;for(;n;)e&&n.classList.toggle(e,n===t),i&&n.classList.toggle(i,n!==t),n=n.nextSibling}var HZ="[tabindex], input, select, button, textarea, [href]",vH="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function CH(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,r=e.call(t,"input, select, button, textarea"),n=e.call(t,vH),s=$o(t);return r&&!n&&s}function kt(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-hidden",!e),r||tb(t,!e)}function $Z(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-invisible",!e),r||tb(t,!e)}function Vm(t,e){const i="disabled",r=e?n=>n.setAttribute(i,""):n=>n.removeAttribute(i);r(t),TH(t.querySelectorAll("input"),n=>r(n))}function mp(t,e,i){let r=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,typeof i=="number"){if(++r>i)break}else if(t===i)break}return!1}function oh(t){const{height:e,width:i,borderTopWidth:r,borderRightWidth:n,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:f,marginLeft:g,boxSizing:v}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:v}}function ib(t){const e=oh(t);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function Ef(t){const e=oh(t);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function yH(t){const e=oh(t),i=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+i)}function XS(t){const e=oh(t),i=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+i)}function SH(t){const e=t.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:r,borderRightWidth:n,borderBottomWidth:s}=oh(t);return{top:e.top+(i||0),left:e.left+(r||0),right:e.right+(n||0),bottom:e.bottom+(s||0)}}function QS(){if(typeof bT=="boolean")return bT;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(t),t.scrollLeft=1,bT=Math.floor(t.scrollLeft)===0,document.body.removeChild(t),bT}function ZS(t,e){let i=t.scrollLeft;return e&&(i=Math.abs(i),U0()&&!QS()&&(i=t.scrollWidth-t.clientWidth-i)),i}function JS(t,e,i){i&&(QS()?e*=-1:(Cc()||U0())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function Ir(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function vl(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function wH(t){return!!t.offsetParent}function $o(t){const e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!wH(t)||window.getComputedStyle(t).visibility!=="visible")}function Ks(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function EH(t,e,i){i&&i.nextSibling===e||(i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function bH(t,e){for(let i=0;i<e.length;i++){const r=e[i],n=t.children[i];n!==r&&t.insertBefore(r,n)}}function BZ(t,e,i){i?i.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function RH(t,e){if(e)for(const[i,r]of Object.entries(e)){if(!i||!i.length||r==null)continue;const n=hZ(i),s=r.toString(),o=s.replace(/\s*!important/g,""),a=o.length!=s.length?"important":void 0;t.style.setProperty(n,o,a)}}function WZ(t){return t.clientWidth<t.scrollWidth}function UZ(t){return t.clientHeight<t.scrollHeight}function ew(t,e){e==="flex"?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):xa(t,e)}function xa(t,e){e=z0(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function qxe(t,e){e==="flex"?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):vp(t,e)}function vp(t,e){e=z0(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function z0(t){return typeof t=="number"?`${t}px`:t}function rb(t){return t instanceof Node||t instanceof HTMLElement}function zZ(t){if(t==null)return[];const e=[];return TH(t,i=>e.push(i)),e}function jZ(t,e){if(t)for(let i=0;i<t.length;i++){const r=t[i];e(r.name,r.value)}}function Cp(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i.toString())}function TH(t,e){if(t!=null)for(let i=0;i<t.length;i++)e(t[i])}function DH(t,e){t.then(i=>{const r=i.getGui();r!=null&&(typeof r=="object"?e.appendChild(r):e.innerHTML=r)})}var KZ={};En(KZ,{fuzzyCheckStrings:()=>YZ,fuzzySuggestions:()=>nb});function YZ(t,e,i){const r={},n=t.filter(s=>!e.some(o=>o===s));return n.length>0&&n.forEach(s=>r[s]=nb(s,i).values),r}function nb(t,e,i,r){let n=e.map((a,l)=>({value:a,relevance:Xxe(t.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(n.sort((a,l)=>l.relevance-a.relevance),i&&(n=n.filter(a=>a.relevance!==0)),n.length>0&&r&&r>0){const l=n[0].relevance*r;n=n.filter(u=>l-u.relevance<0)}const s=[],o=[];for(const a of n)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function Xxe(t,e){const i=t.replace(/\s/g,""),r=e.replace(/\s/g,"");let n=0,s=-1;for(let o=0;o<i.length;o++){const a=r.indexOf(i[o],s+1);a!==-1&&(s=a,n+=100-s*100/1e4*100)}return n}var qZ={};En(qZ,{createIcon:()=>ha,createIconNoSpan:()=>tr,iconNameClassMap:()=>XZ});var XZ={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function ha(t,e,i){const r=tr(t,e,i);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const n=document.createElement("span");return n.appendChild(r),n}function tr(t,e,i,r){let n=null;const s=i&&i.getColDef().icons;if(s&&(n=s[t]),e&&!n){const o=e.get("icons");o&&(n=o[t])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Ks(o);if(rb(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=XZ[t];return a||(r?a=t:(console.warn(`AG Grid: Did not find icon ${t}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),dr(o,"presentation"),o}}var QZ={};En(QZ,{isDeleteKey:()=>eJ,isEventFromPrintableCharacter:()=>j0,isUserSuppressingHeaderKeyboardEvent:()=>ZZ,isUserSuppressingKeyboardEvent:()=>NP,normaliseQwertyAzerty:()=>JZ});var ce=class{};ce.BACKSPACE="Backspace";ce.TAB="Tab";ce.ENTER="Enter";ce.ESCAPE="Escape";ce.SPACE=" ";ce.LEFT="ArrowLeft";ce.UP="ArrowUp";ce.RIGHT="ArrowRight";ce.DOWN="ArrowDown";ce.DELETE="Delete";ce.F2="F2";ce.PAGE_UP="PageUp";ce.PAGE_DOWN="PageDown";ce.PAGE_HOME="Home";ce.PAGE_END="End";ce.A="KeyA";ce.C="KeyC";ce.D="KeyD";ce.V="KeyV";ce.X="KeyX";ce.Y="KeyY";ce.Z="KeyZ";var Qxe=65,Zxe=67,Jxe=86,eAe=68,tAe=90,iAe=89;function j0(t){return t.altKey||t.ctrlKey||t.metaKey?!1:t.key.length===1}function NP(t,e,i,r,n){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=t.addGridCommonParams({event:e,editing:n,column:r,node:i,data:i.data,colDef:r.getColDef()});return!!(s&&s(o))}function ZZ(t,e,i,r){const n=r.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!De(s))return!1;const o=t.addGridCommonParams({colDef:n,column:r,headerRowIndex:i,event:e});return!!s(o)}function JZ(t){const{keyCode:e}=t;let i;switch(e){case Qxe:i=ce.A;break;case Zxe:i=ce.C;break;case Jxe:i=ce.V;break;case eAe:i=ce.D;break;case tAe:i=ce.Z;break;case iAe:i=ce.Y;break;default:i=t.code}return i}function eJ(t,e=!1){return t===ce.DELETE?!0:!e&&t===ce.BACKSPACE?pH():!1}var tJ={};En(tJ,{areEventsNear:()=>PH});function PH(t,e,i){if(i===0)return!1;const r=Math.abs(t.clientX-e.clientX),n=Math.abs(t.clientY-e.clientY);return Math.max(r,n)<=i}var iJ={};En(iJ,{sortRowNodesByOrder:()=>rAe});function rAe(t,e){if(!t)return!1;const i=(o,a)=>{const l=e[o.id],u=e[a.id],c=l!==void 0,d=u!==void 0,h=c&&d,f=!c&&!d;return h?l-u:f?o.__objectId-a.__objectId:c?1:-1};let r,n,s=!1;for(let o=0;o<t.length-1;o++)if(r=t[o],n=t[o+1],i(r,n)>0){s=!0;break}return s?(t.sort(i),!0):!1}var rJ={};En(rJ,{convertToSet:()=>xH});function xH(t){const e=new Set;return t.forEach(i=>e.add(i)),e}var nAe=tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt({},gZ),ZQ),OZ),NZ),VZ),QQ),UQ),KZ),$Q),qZ),QZ),pZ),tJ),GZ),BQ),iJ),rJ),cZ),Up=nAe,AH=class{constructor(e=0,i=1){this.nextValue=e,this.step=i}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Sa=class SD{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(i=>this.onDone(i),i=>this.onReject(i))}static all(e){return new SD(i=>{let r=e.length;const n=new Array(r);e.forEach((s,o)=>{s.then(a=>{n[o]=a,r--,r===0&&i(n)})})})}static resolve(e=null){return new SD(i=>i(e))}then(e){return new SD(i=>{this.status===1?i(e(this.resolution)):this.waiters.push(r=>i(e(r)))})}resolveNow(e,i){return this.status===1?i(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(i=>i(e))}onReject(e){console.warn("TBI")}},sAe=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const i=(e||"").split(" ");if(i.length>1){i.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const i=(e||"").split(" ");if(i.length>1){i.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const i=this.getGui();return i?i.classList.contains(e):!1}addOrRemoveCssClass(e,i){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,i));return}}if(this.cssClassStates[e]!==i&&e.length){const n=this.getGui();n&&n.classList.toggle(e,i),this.cssClassStates[e]=i}}},sb=class Bh extends Ie{constructor(e,i,r,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=n,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===0&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===1&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const i=this.gridOptionsService.get(e);return i<0&&ut(`${e} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(e){var i,r;return e==="show"?(i=this.tooltipShowDelayOverride)!=null?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(r=this.tooltipHideDelayOverride)!=null?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Nc()&&(Bh.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const r=e.relatedTarget,n=this.parentComp.getGui(),s=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Bh.isLocked)return;let i=0;e&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const e=new Date().getTime(),i=Bh.lastTooltipHideTime;return e-i<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=tt({},this.parentComp.getTooltipParams());if(!De(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),Bh.lastTooltipHideTime=new Date().getTime());const i={type:I.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(e,i){if(this.state!==2||this.tooltipInstanceCount!==e){this.getContext().destroyBean(i);return}const n=i.getGui();this.tooltipComp=i,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===0?(this.tooltipMouseEnterListener=this.addManagedListener(n,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(n,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(n,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(n,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:I.EVENT_TOOLTIP_SHOW,tooltipGui:n,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var i;const r=this.parentComp.getGui(),n=(i=this.tooltipComp)==null?void 0:i.getGui(),s=e.relatedTarget;n!=null&&n.contains(s)||(this.isInteractingWithTooltip=!1,r.contains(s)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Wi(tt({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Wi(tt({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,i=this.tooltipComp,r=this.tooltipTrigger===0?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{e(),this.getContext().destroyBean(i)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Bh.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){Bh.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};sb.isLocked=!1;A([B("popupService")],sb.prototype,"popupService",2);A([B("userComponentFactory")],sb.prototype,"userComponentFactory",2);A([_e],sb.prototype,"postConstruct",1);var oAe=sb,Gc=class extends Ie{constructor(e,i){super(),this.ctrl=e,i&&(this.beans=i)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const i="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(i,e):r.removeAttribute(i))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,i,r,n;if(this.tooltipManager!=null)return;const s={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new oAe(s,(i=(e=this.ctrl).getTooltipShowDelayOverride)==null?void 0:i.call(e),(n=(r=this.ctrl).getTooltipHideDelayOverride)==null?void 0:n.call(r),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,i=e.getColumn?e.getColumn():void 0,r=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:r,column:i,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var s;return(s=this.tooltipManager)==null?void 0:s.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};A([B("beans")],Gc.prototype,"beans",2);A([_e],Gc.prototype,"postConstruct",1);var aAe=new AH,ob=class $N extends Ie{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=aAe.next(),this.cssClassManager=new sAe(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:i,showDelayOverride:r,hideDelayOverride:n,location:s,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new Gc({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getTooltipShowDelayOverride:r!=null?()=>r:void 0,getTooltipHideDelayOverride:n!=null?()=>n:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(e,i){zZ(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const s=this.createComponentFromElement(n,o=>{o.getGui()&&this.copyAttributesFromNode(n,o.getGui())},i);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,i);const o=Array.prototype.slice.call(n.children);s.addItems(o)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,i)})}createComponentFromElement(e,i,r){const n=e.nodeName,s=r?r[e.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(n);if(o){$N.elementGettingCreated=e;const a=new o(s);return a.setParentComponent(this),this.createBean(a,null,i),a}return null}copyAttributesFromNode(e,i){jZ(e.attributes,(r,n)=>i.setAttribute(r,n))}swapComponentForNode(e,i,r){const n=e.getGui();i.replaceChild(n,r),i.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)}swapInComponentForQuerySelectors(e,i){const r=this;this.iterateOverQuerySelectors(n=>{r[n.attributeName]===i&&(r[n.attributeName]=e)})}iterateOverQuerySelectors(e){let i=Object.getPrototypeOf(this);for(;i!=null;){const r=i.__agComponentMetaData,n=ZV(i.constructor);r&&r[n]&&r[n].querySelectors&&r[n].querySelectors.forEach(s=>e(s)),i=Object.getPrototypeOf(i)}}activateTabIndex(e){const i=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(r=>r.setAttribute("tabindex",i.toString()))}setTemplate(e,i){const r=Ks(e);this.setTemplateFromElement(r,i)}setTemplateFromElement(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(i=>{const r=s=>e[i.attributeName]=s;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)r(this.eGui);else{const s=this.eGui.querySelector(i.querySelector);s&&r(s.__agComponent||s)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,i){if(e!=null)if(i||(i=this.eGui),rb(e))i.appendChild(e);else{const r=e;i.appendChild(r.getGui())}}isDisplayed(){return this.displayed}setVisible(e,i={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:r}=i;$Z(this.eGui,e,{skipAriaHidden:r})}}setDisplayed(e,i={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:r}=i;kt(this.eGui,e,{skipAriaHidden:r});const n={type:$N.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,i,r){this.eGui.addEventListener(e,i,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,i))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)}getAttribute(e){const{eGui:i}=this;return i?i.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};ob.EVENT_DISPLAYED_CHANGED="displayedChanged";A([B("agStackComponentsRegistry")],ob.prototype,"agStackComponentsRegistry",2);A([KQ],ob.prototype,"preConstructOnComponent",1);A([KQ],ob.prototype,"createChildComponentsPreConstruct",1);var wt=ob;function Ge(t){return lAe.bind(this,`[ref=${t}]`,t)}function lAe(t,e,i,r,n){if(t===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof n=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}uAe(i,"querySelectors",{attributeName:r,querySelector:t,refSelector:e})}function uAe(t,e,i){const r=cAe(t,ZV(t.constructor));r[e]||(r[e]=[]),r[e].push(i)}function cAe(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}var OH=class extends wt{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${i} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(i=>{if(i.getModelAsString){const r=i.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};A([Ge("eFloatingFilterText")],OH.prototype,"eFloatingFilterText",2);A([B("columnModel")],OH.prototype,"columnModel",2);var nJ=class{constructor(e,i,r,n){this.alive=!0,this.context=e,this.eParent=n,i.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){kt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var i,r;let n=!1;(i=this.dateComp)!=null&&i.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(n=!0),!n&&((r=this.dateComp)!=null&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ut("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},sJ=class{constructor(){this.customFilterOptions={}}init(e,i){this.filterOptions=e.filterOptions||i,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const i=[["displayKey"],["displayName"],["predicate","test"]],r=n=>n.some(s=>e[s]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!i.every(r)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const i=this.filterOptions[0];typeof i=="string"?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},oJ={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},K0=class aJ extends Ie{constructor(e,i={}){super(),this.eFocusableElement=e,this.callbacks=i,this.callbacks=tt({shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const n=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);n&&(n.focus(),r.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(aJ.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",i=>{if(!(i.defaultPrevented||Rl(i))){if(this.callbacks.shouldStopEventPropagation(i)){Al(i);return}i.key===ce.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}};K0.FOCUS_MANAGED_CLASS="ag-focus-managed";A([B("focusService")],K0.prototype,"focusService",2);A([_e],K0.prototype,"postConstruct",1);var ah=K0,lJ="ag-resizer-wrapper",dAe=`<div class="${lJ}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,Vv=class extends Ie{constructor(e,i){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},i)}center(){const{clientHeight:e,clientWidth:i}=this.offsetParent,r=i/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:i,minWidth:r,width:n,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,c=0;const d=$o(this.element);if(d){const h=this.findBoundaryElement(),f=window.getComputedStyle(h);if(f.minWidth!=null){const g=h.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-g}if(f.minHeight!=null){const g=h.offsetHeight-this.element.offsetHeight;u=parseInt(f.minHeight,10)-g}}if(this.minHeight=s||u,this.minWidth=r||c,n&&this.setWidth(n),o&&this.setHeight(o),(!n||!o)&&this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(d&&i){let h=this.boundaryEl,f=!0;if(h||(h=this.findBoundaryElement(),f=!1),h){const g=parseFloat(h.style.top),v=parseFloat(h.style.left);f?this.offsetElement(isNaN(v)?0:v,isNaN(g)?0:g):this.setPosition(v,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,i){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(i=>{const n=!!e[i],s=this.getResizerElement(i),o={dragStartPixels:0,eElement:s,onDragStart:a=>this.onResizeStart(a,i),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,i)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(o),this.resizeListeners.push(o),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[i]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:i}=this.lastSize;i!==-1&&(this.element.style.width=`${i}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:i}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)vp(r,e),e=yH(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):i?vp(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:i}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,a=e?0:s.top;let l=0;if(i){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();l=d-n.bottom}}return r+a-o-l}getWidth(){return this.element.offsetWidth}setWidth(e){const i=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)xa(i,e),e=XS(i),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,o=r?this.position.x:this.element.getBoundingClientRect().left;s&&e+o>s&&(e=s-o)}this.getWidth()!==e&&(n?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?xa(i,e):(i.style.width=`${e}px`,i.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,i=0){const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:i})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const i=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,i){this.position.x=e,this.position.y=i}updateDragStartPosition(e,i){this.dragStartPosition={x:e,y:i}}calculateMouseMovement(e){const{e:i,isLeft:r,isTop:n,anywhereWithin:s,topBuffer:o}=e,a=i.clientX-this.dragStartPosition.x,l=i.clientY-this.dragStartPosition.y,u=this.shouldSkipX(i,!!r,!!s,a)?0:a,c=this.shouldSkipY(i,!!n,o,l)?0:l;return{movementX:u,movementY:c}}shouldSkipX(e,i,r,n){const s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:s.left;let u=l<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=a.right;return u?!0:(i?u=n<0&&e.clientX>l+o.left||n>0&&e.clientX<l+o.left:r?u=n<0&&e.clientX>a.right||n>0&&e.clientX<l+o.left:u=n<0&&e.clientX>a.right||n>0&&e.clientX<a.right,u)}shouldSkipY(e,i,r=0,n){const s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:s.top;let u=l<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=a.bottom;return u?!0:(i?u=n<0&&e.clientY>l+o.top+r||n>0&&e.clientY<l+o.top:u=n<0&&e.clientY>a.bottom||n>0&&e.clientY<a.bottom,u)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(dAe,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${lJ}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let i=0,r=0;for(let n=0;n<e.length;n++){const s=e[n],o=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let a=this.minHeight||0,l=this.minWidth||0;if(o){const u=window.getComputedStyle(s);u.minHeight&&(a=parseInt(u.minHeight,10)),u.minWidth&&(l=parseInt(u.minWidth,10))}else a=s.offsetHeight,l=s.offsetWidth;i+=a,r+=l}return{height:i,width:r}}applySizeToSiblings(e){let i=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const s=r[n];s!==i&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(i=r[n+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:i,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:s,isBottom:o,isLeft:a}=this.currentResizer,l=s||a,u=o||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:a,isTop:n}),h=this.position.x,f=this.position.y;let g=0,v=0;if(l&&c){const C=a?-1:1,S=this.getWidth(),y=S+c*C;let w=!1;a&&(g=S-y,(h+g<=0||y<=this.minWidth)&&(w=!0,g=0)),w||this.setWidth(y)}if(u&&d){const C=n?-1:1,S=this.getHeight(),y=S+d*C;let w=!1;n?(v=S-y,(f+v<=0||y<=this.minHeight)&&(w=!0,v=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((i||r)&&g||v)&&this.offsetElement(h+g,f+v)}onResizeEnd(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const r={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent(r)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:i,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(i+s,r+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};A([B("popupService")],Vv.prototype,"popupService",2);A([B("resizeObserverService")],Vv.prototype,"resizeObserverService",2);A([B("dragService")],Vv.prototype,"dragService",2);var Y0=class _y extends wt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new ah(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Vv(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,e),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=_y.isUseApplyButton(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=_y.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,i=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Ir(this.eButtonsPanel),this.buttonListeners.forEach(s=>s==null?void 0:s()),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&vl(this.eButtonsPanel);return}const r=document.createDocumentFragment(),n=s=>{let o,a;switch(s){case"apply":o=this.translate("applyFilter"),a=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),a=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),a=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),a=c=>{this.onBtCancel(c)};break;default:console.warn("AG Grid: Unknown button type specified");return}const u=Ks(`<button
                    type="${s==="apply"?"submit":"button"}"
                    ref="${s}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);this.buttonListeners.push(this.addManagedListener(u,"click",a)),r.append(u)};xH(e).forEach(s=>n(s)),this.eButtonsPanel.append(r),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=_y.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=ms(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,i){const r=()=>{this.onUiChanged(!1,"prevent"),i==null||i()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const i=this.getModelFromUi();if(!this.isModelValid(i))return!1;const r=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(r,i)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,i=!1,r){r&&r.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!i&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e,r=i&&i.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:i}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.getRefElement("applyFilterButton");n&&Vm(n,!r)}e&&!i||i==="immediately"?this.onBtApply(e):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const i=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gridOptionsService:n}=this;i?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,i){return _y.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:i}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,oJ[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};A([B("rowModel")],Y0.prototype,"rowModel",2);A([Ge("eFilterBody")],Y0.prototype,"eFilterBody",2);A([_e],Y0.prototype,"postConstruct",1);var GP=Y0,MH=class extends wt{constructor(e,i){super(i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:i,labelWidth:r,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),i!=null&&this.setLabel(i),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Ir(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(kt(this.eLabel,!1),dr(this.eLabel,"presentation")):(kt(this.eLabel,!0),dr(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(ew(this.eLabel,e),this)}setDisabled(e){e=!!e;const i=this.getGui();return Vm(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};A([_e],MH.prototype,"postConstruct",1);var uJ=class extends MH{constructor(e,i,r){super(e,i),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:i,onValueChange:r}=this.config;e!=null&&this.setWidth(e),i!=null&&this.setValue(i),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const e=this.getAriaElement(),i=this.getLabelId();yZ(e)!==null?LP(e,""):LP(e,i??"")}setAriaLabel(e){return Ol(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,I.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return xa(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,i){return this.value===e?this:(this.previousValue=this.value,this.value=e,i||this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED}),this)}},hAe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,bf=class extends uJ{constructor(e){if(super(e,(e==null?void 0:e.template)||hAe,e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:i,maxPickerHeight:r,variableWidth:n,minPickerWidth:s,maxPickerWidth:o}=e;i!=null&&(this.pickerGap=i),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),s!=null&&this.setPickerMinWidth(s),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const i=this.getAriaElement();this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:r,inputWidth:n}=this.config;if(r){const s=tr(r,this.gridOptionsService);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),vc(e,!1),this.ariaRole&&dr(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const i=this.getFocusableElement();if(i!==this.eWrapper&&(e==null?void 0:e.target)===i)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ce.UP:case ce.DOWN:case ce.ENTER:case ce.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ce.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const r=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:s,modalPicker:o=!0}=this.config,a={modal:o,eChild:i,closeOnEsc:!0,closedCallback:()=>{const g=e.activeElement===e.body;this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:r(n,s)},l=this.popupService.addPopup(a),{maxPickerHeight:u,minPickerWidth:c,maxPickerWidth:d,variableWidth:h}=this;h?(c&&(i.style.minWidth=c),i.style.width=z0(XS(this.eWrapper)),d&&(i.style.maxWidth=d)):ew(i,d??XS(this.eWrapper));const f=u??`${ib(this.popupService.getPopupParent())}px`;return i.style.setProperty("max-height",f),i.style.position="absolute",this.alignPickerToComponent(),l.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:i}=this,r=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:i})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const i=this.getAriaElement();vc(i,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var i;(i=this.pickerComponent)!=null&&i.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return ew(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};A([B("popupService")],bf.prototype,"popupService",2);A([Ge("eLabel")],bf.prototype,"eLabel",2);A([Ge("eWrapper")],bf.prototype,"eWrapper",2);A([Ge("eDisplayField")],bf.prototype,"eDisplayField",2);A([Ge("eIcon")],bf.prototype,"eIcon",2);var q0=class wD extends wt{constructor(e="default",i=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=i,this.options=[],this.itemEls=[]}init(){const e=this.getGui();this.addManagedListener(e,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const i=e.key;switch(i){case ce.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case ce.DOWN:case ce.UP:const r=i===ce.DOWN;let n;if(e.preventDefault(),!this.highlightedEl)n=this.itemEls[r?0:this.itemEls.length-1];else{let o=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),n=this.itemEls[o]}this.highlightItem(n);break}}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){const{value:i,text:r}=e,n=r||i;return this.options.push({value:i,text:n}),this.renderOption(i,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{vl(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((i,r)=>{B0(i,r+1),$0(i,e.length)})}renderOption(e,i){const r=this.gridOptionsService.getDocument(),n=r.createElement("div");dr(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=r.createElement("span");n.appendChild(s),s.innerText=i,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListener(n,"mousemove",()=>this.highlightItem(n)),this.addManagedListener(n,"mousedown",o=>{o.preventDefault(),this.setValue(e)}),this.createManagedBean(new Gc({getTooltipValue:()=>i,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,i){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(i),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),i||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(i=>i.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!$o(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(wD.ACTIVE_CLASS),km(this.highlightedEl,!0);const i=this.getGui(),r=i.getBoundingClientRect(),n=r.top+i.scrollTop,s=r.height,{offsetTop:o,offsetHeight:a}=e;(o+a>n+s||o<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!$o(this.highlightedEl)||(this.highlightedEl.classList.remove(wD.ACTIVE_CLASS),km(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:wD.EVENT_ITEM_SELECTED})}};q0.EVENT_ITEM_SELECTED="selectedItem";q0.ACTIVE_CLASS="ag-active-item";A([_e],q0.prototype,"init",1);var Q3=q0,cJ=class dJ extends bf{constructor(e){super(tt({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:e,value:i,placeholder:r}=this.config;e!=null&&this.addOptions(e),i!=null&&this.setValue(i,!0),r&&i==null&&(this.eDisplayField.textContent=r),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new Q3("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",i),cH(this.getAriaElement(),e),this.listComponent.addManagedListener(this.listComponent,Q3.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:dJ.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,I.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:r}=e;r===ce.TAB?this.hidePicker():!this.isPickerDisplayed||r!==ce.ENTER&&r!==ce.UP&&r!==ce.DOWN?super.onKeyDown(e):(i=this.listComponent)==null||i.handleKeyDown(e)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,i,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.innerHTML=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,i)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};cJ.EVENT_ITEM_SELECTED="selectedItem";var FH=cJ,nc=class extends uJ{constructor(e,i,r="text",n="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,i),this.inputType=r,this.displayFieldTag=n}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:i}=this.config;e!=null&&this.setInputName(e),i!=null&&this.setInputWidth(i),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return ew(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const i=this.eInput;return i.maxLength=e,this}setInputPlaceholder(e){return Cp(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ol(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Vm(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Cp(this.eInput,"autocomplete",null);else{const i=typeof e=="string"?e:"off";Cp(this.eInput,"autocomplete",i)}return this}};A([Ge("eLabel")],nc.prototype,"eLabel",2);A([Ge("eWrapper")],nc.prototype,"eWrapper",2);A([Ge("eInput")],nc.prototype,"eInput",2);var IH=class extends nc{constructor(e,i="ag-checkbox",r="checkbox"){super(e,i,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:i}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof i=="boolean"&&this.setPassive(i)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}getValue(){return this.isSelected()}setValue(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this}setName(e){const i=this.getInputElement();return i.name=e,this}isSelected(){return this.selected}setSelected(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,i||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,i,r){this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:i,event:r});const n=this.getInputElement(),s={type:I.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:i};this.eventService.dispatchEvent(s)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const i=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,i,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},pAe=class extends IH{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,I.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},LH=class{constructor(e,i,r){this.localeService=e,this.optionsFactory=i,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const i=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(i){const n=e;let{conditions:s}=n;if(!s){const{condition1:l,condition2:u}=n;s=[l,u]}const o=s.map(l=>this.getModelAsString(l)),a=n.operator==="AND"?"andCondition":"orCondition";return o.join(` ${r(a,oJ[a])} `)}else{if(e.type===ar.BLANK||e.type===ar.NOT_BLANK)return r(e.type,e.type);{const n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:o,displayName:a,numberOfInputs:l}=s||{};return o&&a&&l===0?(r(o,a),a):this.conditionToString(n,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var i;return this.valueFormatter?(i=this.valueFormatter(e??null))!=null?i:"":String(e)}},Ds=class xg extends GP{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const i=this.optionsFactory.getCustomOption(e);if(i){const{numberOfInputs:n}=i;return n??1}const r=[xg.EMPTY,xg.NOT_BLANK,xg.BLANK];return e&&r.indexOf(e)>=0?0:e===xg.IN_RANGE?2:1}onFloatingFilterChanged(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((i,r)=>{r===0?i.setValue(e,!0):i.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;const r=!e.operator,n=!i.operator;if(!r&&n||r&&!n)return!1;let o;if(r){const a=e,l=i;o=this.areSimpleModelsEqual(a,l)}else{const a=e,l=i;o=a.operator===l.operator&&lu(a.conditions,l.conditions,(u,c)=>this.areSimpleModelsEqual(u,c))}return o}shouldRefresh(e){var i,r,n;const s=this.getModel(),o=s?(i=s.conditions)!=null?i:[s]:null,a=(n=(r=e.filterOptions)==null?void 0:r.map(u=>typeof u=="string"?u:u.displayKey))!=null?n:this.getDefaultFilterOptions();return!(!(!o||o.every(u=>a.find(c=>c===u.type)!==void 0))||typeof e.maxNumConditions=="number"&&o&&o.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let r=e;r.conditions||(r.conditions=[r.condition1,r.condition2]);const n=this.validateAndUpdateConditions(r.conditions),s=this.getNumConditions();if(n<s)this.removeConditionsAndOperators(n);else if(n>s)for(let a=s;a<n;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),r.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Sa.resolve()}validateAndUpdateConditions(e){let i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),ut('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(e){var i;const r=this.getModel();if(r==null)return!0;const{operator:n}=r,s=[];if(n){const a=r;s.push(...(i=a.conditions)!=null?i:[])}else s.push(r);return s[n&&n==="OR"?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new sJ,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var i,r;e.suppressAndOrCondition!=null&&ut('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&ut('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(i=e.maxNumConditions)!=null?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(ut('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=e.numAlwaysVisibleConditions)!=null?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(ut('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ut('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new FH);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(i,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(i.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,i,r){const n=this.createManagedBean(new pAe);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),i.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(i=>typeof i=="string"?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(i=>{e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:i}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let i=-1,r=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?i=n:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{const n=(e=this.lastUiCompletePosition)!=null?e:this.getNumConditions()-2;if(i<n){this.removeConditionsAndOperators(n+1);const s=i+1,o=n-s;o>0&&this.removeConditionsAndOperators(s,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(e,i){this.eTypes.forEach((n,s)=>{const o=this.isConditionDisabled(s,e);n.setDisabled(o||this.filterListOptions.length<=1),s===1&&(Vm(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((n,s)=>{kt(n,this.isConditionBodyVisible(s))});const r=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((n,s)=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach((n,s)=>{n.setValue(r,!0)}),this.forEachInput((n,s,o,a)=>{this.setElementDisplayed(n,s<a),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,i){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,i),this.removeComponents(this.eJoinOperatorsAnd,r,i),this.removeComponents(this.eJoinOperatorsOr,r,i)}removeElements(e,i,r){this.removeItems(e,i,r).forEach(s=>vl(s))}removeComponents(e,i,r){this.removeItems(e,i,r).forEach(s=>{vl(s.getGui()),this.destroyBean(s)})}removeItems(e,i,r){return r==null?e.splice(i):e.splice(i,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const i=this.getInputs(0)[0];if(!i)return;i instanceof nc&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let i=-1,r=-1,n=!1;const s=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))i===-1&&(i=a,r=a);else{const l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<i;(l||u)&&(this.removeConditionsAndOperators(a,1),n=!0,u&&r--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,i){let r=this.translate(e);if(G0(this.filterPlaceholder)){const n=this.filterPlaceholder,s=this.eTypes[i].getValue(),o=this.translate(s);r=n({filterOptionKey:s,filterOption:o,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((i,r,n,s)=>{if(!(i instanceof nc))return;const o=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",a=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(o,n)),i.setInputAriaLabel(a)})}setElementValue(e,i,r){e instanceof nc&&e.setValue(i!=null?String(i):null,!0)}setElementDisplayed(e,i){e instanceof wt&&kt(e.getGui(),i)}setElementDisabled(e,i){e instanceof wt&&Vm(e.getGui(),i)}attachElementOnChange(e,i){e instanceof nc&&e.onValueChange(i)}forEachInput(e){this.getConditionTypes().forEach((i,r)=>{this.forEachPositionTypeInput(r,i,e)})}forEachPositionInput(e,i){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,i)}forEachPositionTypeInput(e,i,r){const n=this.getNumberOfInputs(i),s=this.getInputs(e);for(let o=0;o<s.length;o++){const a=s[o];a!=null&&r(a,o,e,n)}}isConditionDisabled(e,i){return this.isReadOnly()?!0:e===0?!1:e>i+1}isConditionBodyVisible(e){const i=this.getConditionType(e);return this.getNumberOfInputs(i)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===xg.EMPTY||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,r)=>this.resetJoinOperatorAnd(i,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((i,r)=>this.resetJoinOperatorOr(i,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Sa.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,i,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i)),this.eJoinOperatorsOr.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i))}updateJoinOperatorDisabled(e,i){e.setDisabled(this.isReadOnly()||i>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,i){const r=this.mapValuesFromModel(e);this.forEachInput((n,s,o,a)=>{o===i&&this.setElementValue(n,r[s]!=null?r[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((i,r,n,s)=>{this.setElementValue(i,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,i){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,i){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type),o=this.evaluateCustomFilter(s,n,r);return o??(r==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(n,r,i,e))}evaluateCustomFilter(e,i,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!i.some(s=>s==null))return n(i,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}};Ds.EMPTY="empty";Ds.BLANK="blank";Ds.NOT_BLANK="notBlank";Ds.EQUALS="equals";Ds.NOT_EQUAL="notEqual";Ds.LESS_THAN="lessThan";Ds.LESS_THAN_OR_EQUAL="lessThanOrEqual";Ds.GREATER_THAN="greaterThan";Ds.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";Ds.IN_RANGE="inRange";Ds.CONTAINS="contains";Ds.NOT_CONTAINS="notContains";Ds.STARTS_WITH="startsWith";Ds.ENDS_WITH="endsWith";var ar=Ds,Vr=class Jr extends ar{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case Jr.EQUALS:case Jr.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Jr.GREATER_THAN:case Jr.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Jr.LESS_THAN:case Jr.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Jr.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Jr.BLANK:return!0;case Jr.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,i,r){const n=this.comparator(),s=e[0]!=null?n(e[0],i):0;switch(r.type){case Jr.EQUALS:return s===0;case Jr.NOT_EQUAL:return s!==0;case Jr.GREATER_THAN:return s>0;case Jr.GREATER_THAN_OR_EQUAL:return s>=0;case Jr.LESS_THAN:return s<0;case Jr.LESS_THAN_OR_EQUAL:return s<=0;case Jr.IN_RANGE:{const o=n(e[1],i);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case Jr.BLANK:return this.isBlank(i);case Jr.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},Z3=1e3,J3=1/0,hJ=class extends LH{constructor(e,i,r){super(i,r),this.dateFilterParams=e}conditionToString(e,i){const{type:r}=e,{numberOfInputs:n}=i||{},s=r==ar.IN_RANGE||n===2,o=Lo(e.dateFrom),a=Lo(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const u=o!==null?mm(o,l):"null",c=a!==null?mm(a,l):"null";return`${u}-${c}`}return o!=null?mm(o,l):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},_H=class pJ extends Vr{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Z3,this.maxValidYear=J3,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:i,dateTo:r,type:n}=e||{};return[i&&Lo(i)||null,r&&Lo(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,i){const r=i;return i==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const i=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))console.warn(`AG Grid: DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=i("minValidYear",Z3),this.maxValidYear=i("maxValidYear",J3),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Lo(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Lo(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new hJ(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const i=new nJ(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,i){e.setDate(i)}setElementDisplayed(e,i){e.setDisplayed(i)}setElementDisabled(e,i){e.setDisabled(i)}getDefaultFilterOptions(){return pJ.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,i,r,n){const s=document.createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),i.push(s),e.appendChild(s),r.push(this.createDateCompWrapper(s))}removeValueElements(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)}removeDateComps(e,i,r){this.removeItems(e,i,r).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let i=!0;return this.forEachInput((r,n,s,o)=>{s!==e||!i||n>=o||(i=i&&this.isValidDateValue(r.getDate()))}),i}areSimpleModelsEqual(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type}getFilterType(){return"date"}createCondition(e){const i=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=yc(n[0])),n.length>1&&(r.dateTo=yc(n[1])),tt({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},r)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(i),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(r.getDate())}),i}translate(e){return e===Vr.LESS_THAN?super.translate("before"):e===Vr.GREATER_THAN?super.translate("after"):super.translate(e)}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};_H.DEFAULT_FILTER_OPTIONS=[Vr.EQUALS,Vr.NOT_EQUAL,Vr.LESS_THAN,Vr.GREATER_THAN,Vr.IN_RANGE,Vr.BLANK,Vr.NOT_BLANK];A([B("userComponentFactory")],_H.prototype,"userComponentFactory",2);var fJ=_H,gJ=class extends wt{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const i=e.operator;let r;i?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,i=!0){this.optionsFactory=new sJ,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),i||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const i=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=i||{};return r==null||r==1}isTypeEditable(e){const i=[ar.IN_RANGE,ar.EMPTY,ar.BLANK,ar.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0}},X0=class extends gJ{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return fJ.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new hJ(this.filterParams,this.localeService,this.optionsFactory);const i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(i),i){if(e){const r=e;this.dateComp.setDate(Lo(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){kt(this.eDateWrapper,e),kt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),i=yc(e);this.params.parentFilterInstance(r=>{if(r){const n=Lo(i);r.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=GP.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ms(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new nJ(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};A([B("userComponentFactory")],X0.prototype,"userComponentFactory",2);A([Ge("eReadOnlyText")],X0.prototype,"eReadOnlyText",2);A([Ge("eDateWrapper")],X0.prototype,"eDateWrapper",2);var mJ=class extends wt{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const i=this.gridOptionsService.getDocument(),r=this.eDateInput.getInputElement();this.addManagedListener(r,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||r.focus()}),this.addManagedListener(r,"input",n=>{n.target===i.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const i=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&Cc(),i.type=r?"date":"text";const{minValidYear:n,maxValidYear:s,minValidDate:o,maxValidDate:a}=e.filterParams||{};if(o&&n&&ut("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),a&&s&&ut("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&a){const[l,u]=[o,a].map(c=>c instanceof Date?c:Lo(c));l&&u&&l.getTime()>u.getTime()&&ut("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?i.min=mm(o):i.min=o:n&&(i.min=`${n}-01-01`),a?a instanceof Date?i.max=mm(a):i.max=a:s&&(i.max=`${s}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Lo(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(yc(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:U0()||hH()||Cc()&&dH()>=14.1}};A([Ge("eDateInput")],mJ.prototype,"eDateInput",2);var ab=class extends nc{constructor(e,i="ag-text-field",r="text"){super(e,i,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,i){return this.eInput.value!==e&&(this.eInput.value=De(e)?e:""),super.setValue(e,i)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),i=r=>{j0(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListener(this.eInput,"keydown",i),this.addManagedListener(this.eInput,"paste",r=>{var n;const s=(n=r.clipboardData)==null?void 0:n.getData("text");s&&s.split("").some(o=>!e.test(o))&&r.preventDefault()})}},vJ=class extends ab{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const s=parseFloat(this.eInput.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:e,min:i,max:r,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof i=="number"&&this.setMin(i),typeof r=="number"&&this.setMax(r),typeof n=="number"&&this.setStep(n)}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const i=parseFloat(e);return this.min!=null&&i<this.min?e=this.min.toString():this.max!=null&&i>this.max&&(e=this.max.toString()),e}adjustPrecision(e,i){if(this.precision==null)return e;if(i){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Cp(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Cp(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Cp(this.eInput,"step",e),this)}setValue(e,i){return this.setValueOrInputValue(r=>super.setValue(r,i),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(i=>super.setValue(i,!0),i=>{this.eInput.value=i},e)}setValueOrInputValue(e,i,r){if(De(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const s=this.normalizeValue(r);n=r!=s}if(n)return i(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},CJ=class extends LH{conditionToString(e,i){const{numberOfInputs:r}=i||{};return e.type==ar.IN_RANGE||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function BN(t){const{allowedCharPattern:e}=t??{};return e??null}var yJ=class SJ extends Vr{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[this.processValue(i),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,i)=>e===i?0:e<i?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new CJ(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return SJ.DEFAULT_FILTER_OPTIONS}setElementValue(e,i,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(e,n)}createValueElement(){const e=BN(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),dr(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i}createFromToElement(e,i,r,n){const s=this.createManagedBean(n?new ab({allowedCharPattern:n}):new vJ);s.addCssClass(`ag-filter-${r}`),s.addCssClass("ag-filter-filter"),i.push(s),e.appendChild(s.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(this.processValue(this.stringToFloat(r.getValue())))}),i}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let i=fu(e);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}hasInvalidInputs(){let e=!1;return this.forEachInput(i=>{if(!i.getInputElement().validity.valid){e=!0;return}}),e}};yJ.DEFAULT_FILTER_OPTIONS=[Vr.EQUALS,Vr.NOT_EQUAL,Vr.GREATER_THAN,Vr.GREATER_THAN_OR_EQUAL,Vr.LESS_THAN,Vr.LESS_THAN_OR_EQUAL,Vr.IN_RANGE,Vr.BLANK,Vr.NOT_BLANK];var wJ=yJ,EJ=class extends LH{conditionToString(e,i){const{numberOfInputs:r}=i||{};return e.type==ar.IN_RANGE||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}},cl=class Ag extends ar{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const i=e&&e.trim();return i===""?e:i}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Ag.DEFAULT_FORMATTER:Ag.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new EJ(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(Up.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:r,filterText:n})=>e(i,r,n)):this.textFilterParams.textMatcher||Ag.DEFAULT_MATCHER}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,i){const r=[];return this.forEachPositionInput(e,(n,s,o,a)=>{var l;if(s<a){let u=fu(n.getValue());i&&this.textFilterParams.trimInput&&(u=(l=Ag.trimInput(u))!=null?l:null,n.setValue(u,!0)),r.push(u)}}),r}getDefaultFilterOptions(){return Ag.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),dr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,i,r){const n=this.createManagedBean(new ab);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),i.push(n),e.appendChild(n.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[i||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){const i=[ar.NOT_EQUAL,ar.NOT_CONTAINS,ar.BLANK];return e?i.indexOf(e)>=0:!1}evaluateNonNullValue(e,i,r,n){const s=e.map(g=>this.formatter(g))||[],o=this.formatter(i),{api:a,colDef:l,column:u,columnApi:c,context:d,textFormatter:h}=this.textFilterParams;if(r.type===ar.BLANK)return this.isBlank(i);if(r.type===ar.NOT_BLANK)return!this.isBlank(i);const f={api:a,colDef:l,column:u,columnApi:c,context:d,node:n.node,data:n.data,filterOption:r.type,value:o,textFormatter:h};return s.some(g=>this.matcher(Wi(tt({},f),{filterText:g})))}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};cl.DEFAULT_FILTER_OPTIONS=[ar.CONTAINS,ar.NOT_CONTAINS,ar.EQUALS,ar.NOT_EQUAL,ar.STARTS_WITH,ar.ENDS_WITH,ar.BLANK,ar.NOT_BLANK];cl.DEFAULT_FORMATTER=t=>t;cl.DEFAULT_LOWERCASE_FORMATTER=t=>t==null?null:t.toString().toLowerCase();cl.DEFAULT_MATCHER=({filterOption:t,value:e,filterText:i})=>{if(i==null)return!1;switch(t){case cl.CONTAINS:return e.indexOf(i)>=0;case cl.NOT_CONTAINS:return e.indexOf(i)<0;case cl.EQUALS:return e===i;case cl.NOT_EQUAL:return e!=i;case cl.STARTS_WITH:return e.indexOf(i)===0;case cl.ENDS_WITH:const r=e.lastIndexOf(i);return r>=0&&r===e.length-i.length;default:return!1}};var NH=cl,bJ=class extends Ie{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var i;this.eFloatingFilterTextInput=this.createManagedBean(new ab((i=this.params)==null?void 0:i.config));const r=this.eFloatingFilterTextInput.getGui();e.appendChild(r),this.addManagedListener(r,"input",n=>this.valueChangedListener(n)),this.addManagedListener(r,"keydown",n=>this.valueChangedListener(n))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,i){this.eFloatingFilterTextInput.setValue(e,i)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},lb=class extends gJ{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var i;this.params=e;const r=(i=e.browserAutoComplete)!=null?i:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:r}),this.applyActive=GP.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const n=GP.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=ms(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const i=this.floatingFilterInputService.getValue();Ir(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(i,!0)}getAriaLabel(e){const i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${i} ${r("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(e){const i=e.key===ce.ENTER;if(this.applyActive&&!i)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=NH.trimInput(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};A([B("columnModel")],lb.prototype,"columnModel",2);A([Ge("eFloatingFilterInputContainer")],lb.prototype,"eFloatingFilterInputContainer",2);A([_e],lb.prototype,"postConstruct",1);var fAe=class extends Ie{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new vJ),this.eFloatingFilterTextInput=this.createManagedBean(new ab),this.eFloatingFilterTextInput.setDisabled(!0);const i=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(r),this.setupListeners(i,n=>this.valueChangedListener(n)),this.setupListeners(r,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,i){this.getActiveInputElement().setValue(e,i)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,i){this.addManagedListener(e,"input",i),this.addManagedListener(e,"keydown",i)}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},gAe=class extends lb{init(e){var i;super.init(e),this.filterModelFormatter=new CJ(this.localeService,this.optionsFactory,(i=e.filterParams)==null?void 0:i.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){BN(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return wJ.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=BN(e.filterParams),this.allowedCharPattern?this.createManagedBean(new bJ({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new fAe)}},mAe=class extends lb{init(e){super.init(e),this.filterModelFormatter=new EJ(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return NH.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new bJ)}},ub=class Ny{constructor(e,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Eu,this.eElement=e,this.preventMouseClick=i;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}addEventListener(e,i){this.eventService.addEventListener(e,i)}removeEventListener(e,i){this.eventService.removeEventListener(e,i)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===i;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:Ny.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e};this.eventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const i=this.getActiveTouch(e.touches);if(!i)return;!PH(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const i={type:Ny.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>Ny.DOUBLE_TAP_MILLIS){const r={type:Ny.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};ub.EVENT_TAP="tap";ub.EVENT_DOUBLE_TAP="doubleTap";ub.EVENT_LONG_TAP="longTap";ub.DOUBLE_TAP_MILLIS=500;var mn=ub,kc=class RJ extends wt{constructor(e){super(),e||this.setTemplate(RJ.TEMPLATE)}attachCustomElements(e,i,r,n,s){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s}setupSort(e,i=!1){this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,i,r){if(i==null)return;const n=tr(e,this.gridOptionsService,r);n&&i.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const i=e==="asc";kt(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){const i=e==="desc";kt(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),r=e==null;kt(this.eSortNone,!i&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";kt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),r=(e=this.sortController.getDisplaySortIndexForColumn(this.column))!=null?e:-1,n=i.some(o=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(o))!=null?a:!1}),s=r>=0&&n;kt(this.eSortOrder,s,{skipAriaHidden:!0}),r>=0?this.eSortOrder.textContent=(r+1).toString():Ir(this.eSortOrder)}};kc.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;A([Ge("eSortOrder")],kc.prototype,"eSortOrder",2);A([Ge("eSortAsc")],kc.prototype,"eSortAsc",2);A([Ge("eSortDesc")],kc.prototype,"eSortDesc",2);A([Ge("eSortMixed")],kc.prototype,"eSortMixed",2);A([Ge("eSortNone")],kc.prototype,"eSortNone",2);A([B("columnModel")],kc.prototype,"columnModel",2);A([B("sortController")],kc.prototype,"sortController",2);var TJ=kc,rs=class DJ extends wt{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)}workOutTemplate(){var e;let i=(e=this.params.template)!=null?e:DJ.TEMPLATE;return i=i&&i.trim?i.trim():i,i}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const i=jr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(e,i,r){if(i==null)return;const n=tr(e,this.gridOptionsService,r);n&&i.appendChild(n)}setupTap(){const{gridOptionsService:e}=this;if(e.get("suppressTouch"))return;const i=new mn(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&De(this.eMenu),s=n?new mn(this.eMenu,!0):i;if(this.params.enableMenu){const o=n?"EVENT_TAP":"EVENT_LONG_TAP",a=l=>this.params.showColumnMenuAfterMouseClick(l.touchStart);this.addManagedListener(s,mn[o],a)}if(this.params.enableSorting){const o=a=>{var l,u;const c=a.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(c)||(u=this.eFilterButton)!=null&&u.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,mn.EVENT_TAP,o)}if(this.params.enableFilterButton){const o=new mn(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>i.destroy()),n&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){vl(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var i,r,n,s;const{column:o}=this.params,a=this.menuService.isLegacyMenuEnabled();if(e&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter((r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new TJ(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,vi.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",i=>{const r=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(r||s)){const l=this.gridOptionsService.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(l)}});const e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const i=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),n=!(i==null?void 0:i.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0}configureFilter(e,i,r){if(!e)return vl(i),!1;const{column:n}=this.params;return this.addInIcon("filter",i,n),this.addManagedListener(n,vi.EVENT_FILTER_CHANGED,r),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();kt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var i,r,n,s;return e?(r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui():(s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()}};rs.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;A([B("sortController")],rs.prototype,"sortController",2);A([B("menuService")],rs.prototype,"menuService",2);A([B("columnModel")],rs.prototype,"columnModel",2);A([Ge("eFilter")],rs.prototype,"eFilter",2);A([Ge("eFilterButton")],rs.prototype,"eFilterButton",2);A([Ge("eSortIndicator")],rs.prototype,"eSortIndicator",2);A([Ge("eMenu")],rs.prototype,"eMenu",2);A([Ge("eLabel")],rs.prototype,"eLabel",2);A([Ge("eText")],rs.prototype,"eText",2);A([Ge("eSortOrder")],rs.prototype,"eSortOrder",2);A([Ge("eSortAsc")],rs.prototype,"eSortAsc",2);A([Ge("eSortDesc")],rs.prototype,"eSortDesc",2);A([Ge("eSortMixed")],rs.prototype,"eSortMixed",2);A([Ge("eSortNone")],rs.prototype,"eSortNone",2);var WN=rs,cb=class PJ extends wt{constructor(){super(PJ.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ut("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=n=>{if(Rl(n))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const i=n=>{Al(n)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(r,br.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,br.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,i){const r=new mn(e,!0);this.addManagedListener(r,mn.EVENT_TAP,i),this.addDestroyFunc(()=>r.destroy()),this.addManagedListener(e,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();kt(this.eOpenIcon,i),kt(this.eCloseIcon,!i)}else kt(this.eOpenIcon,!1),kt(this.eCloseIcon,!1)}addInIcon(e,i){const r=tr(e,this.gridOptionsService,null);r&&this.getRefElement(i).appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){kt(this.eOpenIcon,!1),kt(this.eCloseIcon,!1);return}}setupLabel(){var e;const{displayName:i,columnGroup:r}=this.params;if(De(i)){const n=jr(i,!0);this.getRefElement("agLabel").textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((e=r.getColGroupDef())!=null&&e.suppressStickyLabel))}};cb.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;A([B("columnModel")],cb.prototype,"columnModel",2);A([Ge("agOpened")],cb.prototype,"eOpenIcon",2);A([Ge("agClosed")],cb.prototype,"eCloseIcon",2);var vAe=cb,Rf=class extends wt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},GH=class xJ extends Rf{constructor(){super(xJ.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),De(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const i=e.key;(i===ce.LEFT||i===ce.UP||i===ce.RIGHT||i===ce.DOWN||e.shiftKey&&i===ce.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!De(e)&&!De(this.params.value)?this.params.value:this.params.parseValue(e)}};GH.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;A([Ge("eTextArea")],GH.prototype,"eTextArea",2);var CAe=GH,kH=class extends Rf{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:i,valueFormatterService:r,gridOptionsService:n}=this,{values:s,value:o,eventKey:a}=e;if(gt(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=a!=null?a===ce.ENTER:!1;let l=!1;s.forEach(h=>{const f={value:h},g=r.formatValue(e.column,null,h),v=g!=null;f.text=v?g:h,i.addOption(f),l=l||o===h}),l?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:c,valueListMaxHeight:d}=e;u!=null&&i.setPickerGap(u),d!=null&&i.setPickerMaxHeight(d),c!=null&&i.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,FH.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};A([B("valueFormatterService")],kH.prototype,"valueFormatterService",2);A([Ge("eSelect")],kH.prototype,"eSelect",2);var db=class extends Rf{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const i=this.eInput;this.cellEditorInput.init(i,e);let r;if(e.cellStartedEdit){this.focusAfterAttached=!0;const n=e.eventKey;n===ce.BACKSPACE||e.eventKey===ce.DELETE?r="":n&&n.length===1?r=n:(r=this.cellEditorInput.getStartValue(),n!==ce.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&i.setStartValue(r),this.addManagedListener(i.getGui(),"keydown",n=>{const{key:s}=n;(s===ce.PAGE_UP||s===ce.PAGE_DOWN)&&n.preventDefault()})}afterGuiAttached(){var e,i;const r=this.localeService.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(r("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Cc()||n.getFocusableElement().focus();const s=n.getInputElement();this.highlightAllOnFocus?s.select():(i=(e=this.cellEditorInput).setCaret)==null||i.call(e)}focusIn(){const e=this.eInput,i=e.getFocusableElement(),r=e.getInputElement();i.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};A([Ge("eInput")],db.prototype,"eInput",2);var yAe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,i){this.eInput=e,this.params=i,i.maxLength!=null&&e.setMaxLength(i.maxLength)}getValue(){const e=this.eInput.getValue();return!De(e)&&!De(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),i=De(e)&&e.length||0;i&&this.eInput.getInputElement().setSelectionRange(i,i)}},eK=class extends db{constructor(){super(new yAe)}},SAe="",wAe="",AJ=class extends wt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(i),e.appendChild(r),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,i){const r=Math.abs(i),n=e.formatValue(r),s=De(n)?n:r,o=i>=0;o?this.eDelta.textContent=SAe+s:this.eDelta.textContent=wAe+s,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ir(this.eDelta)}refresh(e,i=!1){const r=e.value;if(r===this.lastValue||(De(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:De(e.value)?this.eValue.textContent=r:Ir(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const n=r-this.lastValue;this.showDelta(e,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),i||this.setTimerToRemoveDelta(),this.lastValue=r,!0}};A([B("filterManager")],AJ.prototype,"filterManager",2);var OJ=class extends wt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-slide-current"),e.appendChild(i),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,i=!1){let r=e.value;return gt(r)&&(r=""),r===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(i||this.addSlideAnimation(),this.lastValue=r,De(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:De(e.value)?this.eCurrent.textContent=r:Ir(this.eCurrent),!0)}};A([B("filterManager")],OJ.prototype,"filterManager",2);var zi=class xi{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=xi.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,i){const r=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,r,i);this.dispatchLocalEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,i,r){return{type:xi.EVENT_DATA_CHANGED,node:this,oldData:i,newData:e,update:r}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new xi(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,i){const r=De(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);const s=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(s)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)}setRowSelectable(e,i){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_SELECTABLE_CHANGED)),i)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const r=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(xi.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${xi.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const i=[];let r=this;for(e&&(r=r.parent);r&&r.level>=0;)i.push(r.key),r=r.parent;return i.reverse(),i}isPixelInRange(e){return!De(this.rowTop)||!De(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_GROUP_CHANGED)))}setRowHeight(e,i=!1){this.rowHeight=e,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ms(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,i=!0,r=0;const n=this.__autoHeights;if(n==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=n[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(a.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(u.includes(a)){e=!0;return}l=-1}else{e=!0;return}else i=!1;l>r&&(r=l)}),e)||((i||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r==this.rowHeight))return;this.setRowHeight(r);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,i){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_EXPANDED_CHANGED));const r=Object.assign({},this.createGlobalRowEvent(I.EVENT_ROW_GROUP_OPENED),{expanded:e,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,i,r){const s=(()=>{var l;return typeof e!="string"?e:(l=this.beans.columnModel.getGridColumn(e))!=null?l:this.beans.columnModel.getPrimaryColumn(e)})(),o=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,o,i,r),!1;const a=this.beans.valueService.setValue(this,s,i,r);return this.dispatchCellChangedEvent(s,i,o),this.checkRowSelectable(),a}getValueFromValueService(e){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!i,s=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),o=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),a=r&&s&&!o;return this.beans.valueService.getValue(e,this,!1,a)}dispatchEventForSaveValueReadOnly(e,i,r,n){const s=this.beans.gridOptionsService.addGridCommonParams({type:I.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:i,newValue:r,value:r,source:n});this.beans.eventService.dispatchEvent(s)}setGroupValue(e,i){const r=this.beans.columnModel.getGridColumn(e);gt(this.groupData)&&(this.groupData={});const n=r.getColId(),s=this.groupData[n];s!==i&&(this.groupData[n]=i,this.dispatchCellChangedEvent(r,i,s))}setAggData(e){const i=this.aggData;if(this.aggData=e,this.eventService){const r=n=>{const s=this.aggData?this.aggData[n]:void 0,o=i?i[n]:void 0;if(s===o)return;const a=this.beans.columnModel.lookupGridColumn(n);a&&this.dispatchCellChangedEvent(a,s,o)};for(const n in this.aggData)r(n);for(const n in e)n in this.aggData||r(n)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const r=this.beans.gridOptionsService.get("treeData"),n=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(r?!!n&&n(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Do(this.childrenAfterGroup)}dispatchCellChangedEvent(e,i,r){const n={type:xi.EVENT_CELL_CHANGED,node:this,column:e,newValue:i,oldValue:r};this.dispatchLocalEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let i=!1,r=!1,n=!1;if(!((e=this.childrenAfterGroup)!=null&&e.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const o=this.childrenAfterGroup[s];let a=o.isSelected();if(!o.selectable){const l=o.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:i=!0;break;case!1:r=!0;break;default:n=!0;break}}if(!(n||i&&r))return i?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,i,r="api"){const n=!this.selectable&&e,s=this.selected===e;if(n||s)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(xi.EVENT_ROW_SELECTED));const a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(xi.EVENT_ROW_SELECTED))}const o=Wi(tt({},this.createGlobalRowEvent(I.EVENT_ROW_SELECTED)),{event:i||null,source:r});return this.beans.eventService.dispatchEvent(o),!0}setSelected(e,i=!1,r="api"){if(typeof r=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:i,rangeSelect:!1,source:r})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Wi(tt({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(e){let i=this.parent;for(;i;){if(i===e)return!0;i=i.parent}return!1}addEventListener(e,i){var r,n;this.eventService||(this.eventService=new Eu),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new tH(this.beans.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;if(!this.eventService)return;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(xi.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(xi.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let i=this,r=!0,n=!1,s=null;for(;r&&!n;){const o=i.parent;De(o)&&i.firstChild?o.rowGroupColumn===e&&(n=!0,s=o):r=!1,i=o}return n?s:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.key==null)return;const e=[];let i=this;for(;i.key!=null;)e.push(i.key),i=i.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),i=new xi(this.beans);Object.keys(this).forEach(r=>{e.has(r)||(i[r]=this[r])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};zi.ID_PREFIX_ROW_GROUP="row-group-";zi.ID_PREFIX_TOP_PINNED="t-";zi.ID_PREFIX_BOTTOM_PINNED="b-";zi.OBJECT_ID_SEQUENCE=0;zi.EVENT_ROW_SELECTED="rowSelected";zi.EVENT_DATA_CHANGED="dataChanged";zi.EVENT_CELL_CHANGED="cellChanged";zi.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";zi.EVENT_MASTER_CHANGED="masterChanged";zi.EVENT_GROUP_CHANGED="groupChanged";zi.EVENT_MOUSE_ENTER="mouseEnter";zi.EVENT_MOUSE_LEAVE="mouseLeave";zi.EVENT_HEIGHT_CHANGED="heightChanged";zi.EVENT_TOP_CHANGED="topChanged";zi.EVENT_DISPLAYED_CHANGED="displayedChanged";zi.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";zi.EVENT_LAST_CHILD_CHANGED="lastChildChanged";zi.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";zi.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";zi.EVENT_EXPANDED_CHANGED="expandedChanged";zi.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";zi.EVENT_SELECTABLE_CHANGED="selectableChanged";zi.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";zi.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";zi.EVENT_DRAGGING_CHANGED="draggingChanged";var Wt=zi,Q0=class extends wt{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),i=this.rowNode.isSelected(),r=W0(e,i),[n,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(n,s);this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(`${o} (${r})`)}onClicked(e,i,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:i,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{Al(n)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{Al(n);const s=this.gridOptionsService.get("groupSelectsFiltered"),o=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(o,s)?this.onClicked(!0,s,n||{})===0&&this.onClicked(!1,s,n):o?this.onClicked(!1,s,n):this.onClicked(!0,s,n||{})}),this.addManagedListener(this.rowNode,Wt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,i){return i&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,i,r;let n=this.rowNode.selectable;const s=this.getIsVisible();if(n)if(typeof s=="function"){const a=(e=this.overrides)==null?void 0:e.callbackParams;if(!this.column)n=s(Wi(tt({},a),{node:this.rowNode,data:this.rowNode.data}));else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);n=s(tt(tt({},a),l))}}else n=s??!1;if((i=this.column)==null?void 0:i.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!n),this.setVisible(!0),this.setDisplayed(!0);return}if((r=this.overrides)!=null&&r.removeHidden){this.setDisplayed(n);return}this.setVisible(n)}getIsVisible(){var e,i;return this.overrides?this.overrides.isVisible:(i=(e=this.column)==null?void 0:e.getColDef())==null?void 0:i.checkboxSelection}};A([Ge("eCheckbox")],Q0.prototype,"eCheckbox",2);A([_e],Q0.prototype,"postConstruct",1);var MJ=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(MJ||{}),Dt=class extends Ie{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=ha("columnMovePin",this.gridOptionsService,null),this.eHideIcon=ha("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=ha("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=ha("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=ha("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=ha("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=ha("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=ha("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=ha("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,i=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}removeDragSource(e){const i=this.dragSourceAndParamsList.find(r=>r.dragSource===e);i&&(this.dragService.removeDragSource(i.params),Ws(this.dragSourceAndParamsList,i))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,i){this.dragging=!0,this.dragSource=e,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const i=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,i){var r,n,s,o;const a=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const u=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),c=this.findCurrentDropTarget(e,u);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(e,a,l,i),this.lastDropTarget!==null&&c===null&&((n=(r=this.dragSource).onGridExit)==null||n.call(r,this.dragItem)),this.lastDropTarget===null&&c!==null&&((o=(s=this.dragSource).onGridEnter)==null||o.call(s,this.dragItem)),this.enterDragTargetIfExists(c,e,a,l,i),this.lastDropTarget=c;else if(c&&c.onDragging){const d=this.createDropTargetEvent(c,e,a,l,i);c.onDragging(d)}}getAllContainersFromDropTarget(e){const i=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return i?r.concat(i):r}allContainersIntersect(e,i){for(const r of i){const n=r.getBoundingClientRect();if(n.width===0||n.height===0)return!1;const s=e.clientX>=n.left&&e.clientX<n.right,o=e.clientY>=n.top&&e.clientY<n.bottom;if(!s||!o)return!1}return!0}isMouseOnDropTarget(e,i){const r=this.getAllContainersFromDropTarget(i);let n=!1;for(const s of r)if(this.allContainersIntersect(e,s)){n=!0;break}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:n&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,i){const r=i.length;if(r===0)return null;if(r===1)return i[0];const s=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const o of s)for(const a of i)if(rZ(this.getAllContainersFromDropTarget(a)).indexOf(o)!==-1)return a;return null}enterDragTargetIfExists(e,i,r,n,s){if(e){if(e.onDragEnter){const o=this.createDropTargetEvent(e,i,r,n,s);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,i,r,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const s=this.createDropTargetEvent(this.lastDropTarget,e,i,r,n);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(i=>i.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const i=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return i===r?null:i>r?0:1}getVerticalDirection(e){const i=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return i===r?null:i>r?0:1}createDropTargetEvent(e,i,r,n,s){const o=e.getContainer(),a=o.getBoundingClientRect(),{gridApi:l,columnApi:u,dragItem:c,dragSource:d}=this,h=i.clientX-a.left,f=i.clientY-a.top;return{event:i,x:h,y:f,vDirection:n,hDirection:r,dragSource:d,fromNudge:s,dragItem:c,api:l,columnApi:u,dropZoneTarget:o}}positionGhost(e){const i=this.eGhost;if(!i)return;const n=i.getBoundingClientRect().height,s=FZ()-2,o=IZ()-2,a=SH(i.offsetParent),{clientY:l,clientX:u}=e;let c=l-a.top-n/2,d=u-a.left-10;const h=this.gridOptionsService.getDocument(),f=h.defaultView||window,g=f.pageYOffset||h.documentElement.scrollTop,v=f.pageXOffset||h.documentElement.scrollLeft;s>0&&d+i.clientWidth>s+v&&(d=s+v-i.clientWidth),d<0&&(d=0),o>0&&c+i.clientHeight>o+g&&(c=o+g-i.clientHeight),c<0&&(c=0),i.style.left=`${d}px`,i.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Ks(Dt.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const i=this.eGhost.querySelector(".ag-dnd-ghost-label");let r=this.dragSource.dragItemName;G0(r)&&(r=r()),i.innerHTML=jr(r)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gridOptionsService.getDocument();let s=null,o=null;try{s=n.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());const a=s.querySelector("body");a?o=a:s instanceof ShadowRoot?o=s:s instanceof Document?o=s==null?void 0:s.documentElement:o=s}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,i=!1){Ir(this.eGhostIcon);let r=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Dt.ICON_NOT_ALLOWED),e){case Dt.ICON_PINNED:r=this.ePinnedIcon;break;case Dt.ICON_MOVE:r=this.eMoveIcon;break;case Dt.ICON_LEFT:r=this.eLeftIcon;break;case Dt.ICON_RIGHT:r=this.eRightIcon;break;case Dt.ICON_GROUP:r=this.eGroupIcon;break;case Dt.ICON_AGGREGATE:r=this.eAggregateIcon;break;case Dt.ICON_PIVOT:r=this.ePivotIcon;break;case Dt.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;case Dt.ICON_HIDE:r=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(r===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&r&&this.eGhostIcon.appendChild(r)}};Dt.ICON_PINNED="pinned";Dt.ICON_MOVE="move";Dt.ICON_LEFT="left";Dt.ICON_RIGHT="right";Dt.ICON_GROUP="group";Dt.ICON_AGGREGATE="aggregate";Dt.ICON_PIVOT="pivot";Dt.ICON_NOT_ALLOWED="notAllowed";Dt.ICON_HIDE="hide";Dt.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;A([B("dragService")],Dt.prototype,"dragService",2);A([B("mouseEventService")],Dt.prototype,"mouseEventService",2);A([B("columnApi")],Dt.prototype,"columnApi",2);A([B("gridApi")],Dt.prototype,"gridApi",2);A([_e],Dt.prototype,"init",1);A([ja],Dt.prototype,"clearDragSourceParamsList",1);Dt=A([ze("dragAndDropService")],Dt);var zp=class extends wt{constructor(e,i,r,n,s,o){super(),this.cellValueFn=e,this.rowNode=i,this.column=r,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(tr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.get("rowDragManaged")?new LJ(this,this.beans,this.rowNode,this.column):new IJ(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,i){this.setTemplateFromElement(e),this.addDragSource(i)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const i=this.beans.selectionService.getSelectedNodes();return i.indexOf(this.rowNode)!==-1?i:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&e&&ut("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const i=e.getColDef();if(i.rowDragText)return i.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var r;const n=this.getDragItem(),s=((r=n.rowNodes)==null?void 0:r.length)||1,o=this.getRowDragText(this.column);return o?o(n,s):s===1?this.cellValueFn():`${s} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};A([B("beans")],zp.prototype,"beans",2);A([_e],zp.prototype,"postConstruct",1);A([ja],zp.prototype,"removeDragSource",1);var FJ=class extends Ie{constructor(e,i,r){super(),this.parent=e,this.rowNode=i,this.column=r}setDisplayedOrVisible(e){const i={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,i);else{let r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=G0(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,i),this.parent.setVisible(r,i)):(this.parent.setDisplayed(r,i),this.parent.setVisible(!0,i))}}},IJ=class extends FJ{constructor(e,i,r,n){super(e,r,n),this.beans=i}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};A([_e],IJ.prototype,"postConstruct",1);var LJ=class extends FJ{constructor(e,i,r,n){super(e,r,n),this.beans=i}postConstruct(){this.addManagedListener(this.beans.eventService,I.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=i&&i.shouldPreventRowMove(),n=this.gridOptionsService.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),o=r&&!s||n;this.setDisplayedOrVisible(o)}};A([_e],LJ.prototype,"postConstruct",1);var Hv=class extends Ie{init(e,i,r,n,s,o,a){var l,u,c,d;this.params=a,this.eGui=i,this.eCheckbox=r,this.eExpanded=n,this.eContracted=s,this.comp=e,this.compClass=o;const{node:h,value:f,colDef:g}=a,v=this.isTopLevelFooter();if(!v){if(this.isEmbeddedRowMismatch())return;if(h.footer&&this.gridOptionsService.get("groupHideOpenParents")){const S=g&&g.showRowGroup,y=h.rowGroupColumn&&h.rowGroupColumn.getColId();if(S!==y)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!v){const C=a.node.footer&&a.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(P=>{var O;return P.getColId()===((O=a.colDef)==null?void 0:O.showRowGroup)}),y=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!a.node.footer&&(!a.node.group||a.node.rowGroupIndex!=null&&a.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(P=>{var O;return P.getColId()===((O=a.colDef)==null?void 0:O.showRowGroup)})),w=!h.group&&(((l=this.params.colDef)==null?void 0:l.field)||((u=this.params.colDef)==null?void 0:u.valueGetter)),E=this.isExpandable(),b=this.columnModel.isPivotMode()&&h.leafGroup&&((c=h.rowGroupColumn)==null?void 0:c.getColId())===((d=a.column)==null?void 0:d.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!E&&!w&&!y&&!C&&!b)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,i;const r=(e=this.params.colDef)==null?void 0:e.cellAriaRole,n=(i=this.params.column)==null?void 0:i.getColDef().cellAriaRole;return r||n||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eGridCell:i}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){bZ(i);return}const r=()=>{vc(i,!!e.expanded)};this.expandListener=this.addManagedListener(e,Wt.EVENT_EXPANDED_CHANGED,r)||null,r()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const e=this.params.colDef;if(e==null||e.showRowGroup===!0)return!0;const r=this.columnModel.getRowGroupColumns();return!r||r.length===0?!0:r[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",i=this.params.pinned==="right",r=!e&&!i;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!i:!r:this.columnModel.isPinningLeft()?!e:!r}findDisplayedGroupNode(){const e=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent){let r=i.parent;for(;r!=null;){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}}gt(this.displayedGroupNode)&&(this.displayedGroupNode=i)}setupShowingValueForOpenedParent(){const e=this.params.node,i=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const s=e.rowGroupColumn.getId();if(i.isRowGroupDisplayed(s)){this.showingValueForOpenedParent=!1;return}}const n=e.groupData[i.getId()]!=null;this.showingValueForOpenedParent=n}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;const i=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(i),{valueFormatted:n,value:s}=i;let o=n;if(o==null){const a=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)==null?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&a?o=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o=s??null}this.comp.setInnerRenderer(r,o)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!e)return this.params;if(i!=null&&!i.isRowGroupDisplayed(e.getId()))return this.params;const n=this.params,{value:s,node:o}=this.params,a=this.valueFormatterService.formatValue(e,o,s);return Wi(tt({},n),{valueFormatted:a})}addFooterValue(){const e=this.params.footerValueGetter;let i="";if(e){const n=QV(this.params);n.value=this.params.value,typeof e=="function"?i=e(n):typeof e=="string"?i=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const r=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(r,i)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const i=this.userComponentFactory.getInnerRendererDetails(e,e),r=a=>a&&a.componentClass==this.compClass;if(i&&!r(i))return i;const n=this.displayedGroupNode.rowGroupColumn,s=n?n.getColDef():void 0;if(!s)return;const o=this.userComponentFactory.getCellRendererDetails(s,e);if(o&&!r(o))return o;if(r(o)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(n)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const i=this.params.column;return i==null||i.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const i=this.params,r=tr("groupExpanded",this.gridOptionsService,null),n=tr("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),n&&this.eContracted.appendChild(n);const s=i.eGridCell;!(((e=this.params.column)==null?void 0:e.isCellEditable(i.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,Wt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Wt.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Wt.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Wt.EVENT_HAS_CHILDREN_CHANGED,a)}onExpandClicked(e){Rl(e)||(Al(e),this.onExpandOrContract(e))}onExpandOrContract(e){const i=this.displayedGroupNode,r=!i.expanded;!r&&i.sticky&&this.scrollToStickyNode(i),i.setExpanded(r,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!i))return!1;const n=this.params.column;return n!=null&&typeof n.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:i,columnModel:r}=this,{node:n}=e,s=this.isExpandable();if(s){const c=this.showingValueForOpenedParent?!0:n.expanded;this.comp.setExpandedDisplayed(c),this.comp.setContractedDisplayed(!c)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const o=r.isPivotMode(),a=o&&i.leafGroup,l=s&&!a,u=n.footer&&n.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),o?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,Wt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const e=this.params,i=e.node,r=!!e.colDef,n=this.gridOptionsService.get("treeData"),o=!r||n||e.colDef.showRowGroup===!0?i.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new zp(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,i=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(i){const r=new Q0;this.getContext().createBean(r),r.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(r.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(r))}this.comp.setCheckboxVisible(i)}onKeyDown(e){!(e.key===ce.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Rl(e))return;FP(this.eExpanded,e)||FP(this.eContracted,e)||this.onExpandOrContract(e)}};A([B("expressionService")],Hv.prototype,"expressionService",2);A([B("valueFormatterService")],Hv.prototype,"valueFormatterService",2);A([B("columnModel")],Hv.prototype,"columnModel",2);A([B("userComponentFactory")],Hv.prototype,"userComponentFactory",2);A([B("ctrlsService")],Hv.prototype,"ctrlsService",2);var Tf=class _J extends wt{constructor(){super(_J.TEMPLATE)}init(e){const i={setInnerRenderer:(o,a)=>this.setRenderDetails(o,a),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setContractedDisplayed:o=>kt(this.eContracted,o),setExpandedDisplayed:o=>kt(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},r=this.createManagedBean(new Hv),n=!e.colDef,s=this.getGui();r.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&dr(s,r.getCellAriaRole())}setRenderDetails(e,i){if(e){const r=e.newAgStackInstance();if(!r)return;r.then(n=>{if(!n)return;const s=()=>this.context.destroyBean(n);this.isAlive()?(this.eValue.appendChild(n.getGui()),this.addDestroyFunc(s)):s()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};Tf.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;A([Ge("eExpanded")],Tf.prototype,"eExpanded",2);A([Ge("eContracted")],Tf.prototype,"eContracted",2);A([Ge("eCheckbox")],Tf.prototype,"eCheckbox",2);A([Ge("eValue")],Tf.prototype,"eValue",2);A([Ge("eChildCount")],Tf.prototype,"eChildCount",2);var tK=Tf,Z0=class NJ extends wt{constructor(){super(NJ.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=tr("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};Z0.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;A([Ge("eLoadingIcon")],Z0.prototype,"eLoadingIcon",2);A([Ge("eLoadingText")],Z0.prototype,"eLoadingText",2);var EAe=Z0,GJ=class kJ extends wt{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??kJ.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}};GJ.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var bAe=GJ,VJ=class HJ extends wt{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??HJ.DEFAULT_NO_ROWS_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}};VJ.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var RAe=VJ,TAe=class extends Rf{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:i}=e;this.getGui().textContent=jr(i,!0)}},DAe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,i){this.eInput=e,this.params=i,i.max!=null&&e.setMax(i.max),i.min!=null&&e.setMin(i.min),i.precision!=null&&e.setPrecision(i.precision),i.step!=null&&e.setStep(i.step);const r=e.getInputElement();i.preventStepping?e.addManagedListener(r,"keydown",this.preventStepping):i.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ce.UP||e.key===ce.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!De(e)&&!De(this.params.value))return this.params.value;let i=this.params.parseValue(e);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}},PAe=class extends db{constructor(){super(new DAe)}},xAe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){const e=this.eInput.getDate();return!De(e)&&!De(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return yc(e,!1)}},AAe=class extends db{constructor(){super(new xAe)}},OAe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!De(e)&&!De(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,i;return yc((i=this.parseDate((e=this.params.value)!=null?e:void 0))!=null?i:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}},$J=class extends db{constructor(){super(new OAe(()=>this.dataTypeService))}};A([B("dataTypeService")],$J.prototype,"dataTypeService",2);var VH=class BJ extends wt{constructor(){super(BJ.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);const i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),sH(i,"polite"),this.addManagedListener(i,"click",n=>{if(Al(n),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)}),this.addManagedListener(i,"dblclick",n=>{Al(n)});const r=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",n=>{if(n.key===ce.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===r.activeElement&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),n.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var i,r,n;let s,o=!0;if(e.node.group&&e.column){const d=e.column.getColId();d.startsWith(Gm)?s=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[d]!==void 0?s=(i=e.value)!=null?i:void 0:o=!1}else s=(r=e.value)!=null?r:void 0;if(!o){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);const a=e.disabled!=null?e.disabled:!((n=e.column)!=null&&n.isCellEditable(e.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),u=W0(l,s),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(e){const{column:i,node:r,rowIndex:n,value:s}=this.params,o={type:I.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s};this.eventService.dispatchEvent(o);const a=this.params.node.setDataValue(this.params.column,e,"edit"),l={type:I.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:a};this.eventService.dispatchEvent(l)}};VH.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;A([Ge("eCheckbox")],VH.prototype,"eCheckbox",2);var MAe=VH,WJ=class extends Rf{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var i;this.params=e;const r=(i=e.value)!=null?i:void 0;this.eCheckbox.setValue(r),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(r),this.addManagedListener(this.eCheckbox,I.EVENT_FIELD_VALUE_CHANGED,s=>this.setAriaLabel(s.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const i=this.localeService.getLocaleTextFunc(),r=W0(i,e),n=i("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}};A([Ge("eCheckbox")],WJ.prototype,"eCheckbox",2);var FAe=class extends wt{constructor(){super(),this.setTemplate("<div></div>")}init(e){var i;this.params=e,this.cssClassPrefix=(i=this.params.cssClassPrefix)!=null?i:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const e=Ks(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(tr("check",this.gridOptionsService)):this.params.icon&&(rb(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){const e=Ks(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=Ks(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){const e=Ks(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),i=this.getGui();if(this.params.subMenu){const r=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";vc(i,!1),e.appendChild(tr(r,this.gridOptionsService))}i.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}destroy(){super.destroy()}},kP=class extends Ie{constructor(){super(...arguments),this.agGridDefaults={agDateInput:mJ,agColumnHeader:WN,agColumnGroupHeader:vAe,agSortIndicator:TJ,agTextColumnFloatingFilter:mAe,agNumberColumnFloatingFilter:gAe,agDateColumnFloatingFilter:X0,agReadOnlyFloatingFilter:OH,agAnimateShowChangeCellRenderer:AJ,agAnimateSlideCellRenderer:OJ,agGroupCellRenderer:tK,agGroupRowRenderer:tK,agLoadingCellRenderer:EAe,agCheckboxCellRenderer:MAe,agCellEditor:eK,agTextCellEditor:eK,agNumberCellEditor:PAe,agDateCellEditor:AAe,agDateStringCellEditor:$J,agSelectCellEditor:kH,agLargeTextCellEditor:CAe,agCheckboxCellEditor:WJ,agTextColumnFilter:NH,agNumberColumnFilter:wJ,agDateColumnFilter:fJ,agLoadingOverlay:bAe,agNoRowsOverlay:RAe,agTooltipComponent:TAe,agMenuItem:FAe},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){this.gridOptions.components!=null&&Ao(this.gridOptions.components,(e,i)=>this.registerJsComponent(e,i))}registerDefaultComponent(e,i){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=i}registerJsComponent(e,i){this.jsComps[e]=i}retrieve(e,i){const r=(l,u)=>({componentFromFramework:u,component:l}),n=this.getFrameworkOverrides().frameworkComponent(i,this.gridOptions.components);if(n!=null)return r(n,!0);const s=this.jsComps[i];if(s){const l=this.getFrameworkOverrides().isFrameworkComponent(s);return r(s,l)}const o=this.agGridDefaults[i];if(o)return r(o,!1);const a=this.enterpriseAgDefaultCompsModule[i];return a?Gi.__assertRegistered(a,`AG Grid '${e}' component: ${i}`,this.context.getGridId()):gp(()=>{this.warnAboutMissingComponent(e,i)},"MissingComp"+i),null}warnAboutMissingComponent(e,i){const r=[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],n=nb(i,r,!0,.8).values;console.warn(`AG Grid: Could not find '${i}' component. It was configured as "${e}: '${i}'" but it wasn't found in the list of registered components.`),n.length>0&&console.warn(`         Did you mean: [${n.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};A([B("gridOptions")],kP.prototype,"gridOptions",2);A([_e],kP.prototype,"init",1);kP=A([ze("userComponentRegistry")],kP);var IAe={propertyName:"dateComponent",cellRenderer:!1},LAe={propertyName:"headerComponent",cellRenderer:!1},_Ae={propertyName:"headerGroupComponent",cellRenderer:!1},iK={propertyName:"cellRenderer",cellRenderer:!0},NAe={propertyName:"cellEditor",cellRenderer:!1},rK={propertyName:"innerRenderer",cellRenderer:!0},GAe={propertyName:"loadingOverlayComponent",cellRenderer:!1},kAe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},VAe={propertyName:"tooltipComponent",cellRenderer:!1},UN={propertyName:"filter",cellRenderer:!1},HAe={propertyName:"floatingFilterComponent",cellRenderer:!1},$Ae={propertyName:"toolPanel",cellRenderer:!1},BAe={propertyName:"statusPanel",cellRenderer:!1},WAe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},UAe={propertyName:"loadingCellRenderer",cellRenderer:!0},zAe={propertyName:"groupRowRenderer",cellRenderer:!0},jAe={propertyName:"detailCellRenderer",cellRenderer:!0},KAe={propertyName:"menuItem",cellRenderer:!1},UJ=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};UJ.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var jp=class extends Ie{getHeaderCompDetails(e,i){return this.getCompDetails(e,LAe,"agColumnHeader",i)}getHeaderGroupCompDetails(e){const i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,_Ae,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,WAe,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,UAe,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,zAe,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,jAe,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,i){return this.getCompDetails(e,rK,null,i)}getFullWidthGroupRowInnerCellRenderer(e,i){return this.getCompDetails(e,rK,null,i)}getCellRendererDetails(e,i){return this.getCompDetails(e,iK,null,i)}getCellEditorDetails(e,i){return this.getCompDetails(e,NAe,"agCellEditor",i,!0)}getFilterDetails(e,i,r){return this.getCompDetails(e,UN,r,i,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,IAe,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,GAe,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,kAe,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,VAe,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,i){return this.getCompDetails(e,iK,null,i)}getFloatingFilterCompDetails(e,i,r){return this.getCompDetails(e,HAe,r,i)}getToolPanelCompDetails(e,i){return this.getCompDetails(e,$Ae,null,i,!0)}getStatusPanelCompDetails(e,i){return this.getCompDetails(e,BAe,null,i,!0)}getMenuItemCompDetails(e,i){return this.getCompDetails(e,KAe,"agMenuItem",i,!0)}getCompDetails(e,i,r,n,s=!1){const{propertyName:o,cellRenderer:a}=i;let{compName:l,jsComp:u,fwComp:c,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:f}=this.getCompKeys(e,i,n);const g=y=>{const w=this.userComponentRegistry.retrieve(o,y);w&&(u=w.componentFromFramework?void 0:w.component,c=w.componentFromFramework?w.component:void 0)};if(l!=null&&g(l),u==null&&c==null&&r!=null&&g(r),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(o,u)),!u&&!c){s&&console.error(`AG Grid: Could not find component ${l}, did you forget to configure this component?`);return}const v=this.mergeParamsWithApplicationProvidedParams(e,i,n,d),C=u==null,S=u||c;return{componentFromFramework:C,componentClass:S,params:v,type:i,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(S,C,v,i)}}getCompKeys(e,i,r){const{propertyName:n}=i;let s,o,a,l,u,c;if(e){const d=e,h=d[n+"Selector"],f=h?h(r):null,g=v=>{typeof v=="string"?s=v:v!=null&&v!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(v)?a=v:o=v)};f?(g(f.component),l=f.params,u=f.popup,c=f.popupPosition):g(d[n])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}newAgStackInstance(e,i,r,n){const s=n.propertyName,o=!i;let a;if(o)a=new e;else{const u=this.componentMetadataProvider.retrieve(s);a=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,n)}const l=this.initComponent(a,r);return l==null?Sa.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,i,r,n=null){const s=this.gridOptionsService.getGridCommonParams();Io(s,r);const o=e,a=o&&o[i.propertyName+"Params"];if(typeof a=="function"){const l=a(r);Io(s,l)}else typeof a=="object"&&Io(s,a);return Io(s,n),s}initComponent(e,i){if(this.context.createBean(e),e.init!=null)return e.init(i)}getDefaultFloatingFilterType(e,i){if(e==null)return null;let r=null,{compName:n,jsComp:s,fwComp:o}=this.getCompKeys(e,UN);return n?r=UJ.getFloatingFilterType(n):s==null&&o==null&&e.filter===!0&&(r=i()),r}};A([B("gridOptions")],jp.prototype,"gridOptions",2);A([B("agComponentUtils")],jp.prototype,"agComponentUtils",2);A([B("componentMetadataProvider")],jp.prototype,"componentMetadataProvider",2);A([B("userComponentRegistry")],jp.prototype,"userComponentRegistry",2);A([ai("frameworkComponentWrapper")],jp.prototype,"frameworkComponentWrapper",2);jp=A([ze("userComponentFactory")],jp);var VP=class{};VP.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0};VP.ALL_PROPERTIES=Object.keys(VP.ColDefPropertyMap);var YAe=VP,zJ=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,i=!1){const r=i||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!r,this.tickDown=e.clientY>n.bottom-s&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const i=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(i-e),this.tickDown&&this.setVerticalPosition(i+e)}if(this.scrollHorizontally){const i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-e),this.tickRight&&this.setHorizontalPosition(i+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},qo=class extends Ie{constructor(e){super(),this.isMultiRowDrag=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const e=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new zJ({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>e.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Dt.ICON_NOT_ALLOWED:Dt.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const i=this.gridOptionsService.get("rowDragMultiRow"),r=[...this.selectionService.getSelectedNodes()].sort((s,o)=>s.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(o)),n=e.dragItem.rowNode;return i&&r.indexOf(n)!==-1?(this.isMultiRowDrag=!0,r):(this.isMultiRowDrag=!1,[n])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(I.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(i=>{i.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:i}=e.dragSource;return i===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!r.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent(I.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const i=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)}doManagedDrag(e,i){const r=this.isFromThisGrid(e),n=this.gridOptionsService.get("rowDragManaged"),s=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],i):this.moveRows(s,i))}getRowIndexNumber(e){return parseInt(qt(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const i=this.clientSideRowModel.getLastHighlightedRowNode(),r=i&&i.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes;let o=r?1:0;if(this.isFromThisGrid(e))s.forEach(a=>{a.rowTop<n&&(o-=1)}),this.moveRows(s,n,o);else{const a=this.gridOptionsService.getCallback("getRowId");let l=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&l--,this.clientSideRowModel.updateRowData({add:s.map(u=>u.data).filter(u=>!this.clientSideRowModel.getRowNode(a?a({data:u,level:0}):u.id)),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,i,r=0){this.clientSideRowModel.ensureRowsAtPixel(e,i,r)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ut("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let i={getContainer:e.getContainer};e.fromGrid?i=e:(e.onDragEnter&&(i.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_ENTER,r))}),e.onDragLeave&&(i.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_LEAVE,r))}),e.onDragging&&(i.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_MOVE,r))}),e.onDragStop&&(i.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_END,r))})),this.dragAndDropService.addDropTarget(tt({isInterestedIn:r=>r===2,getIconName:()=>Dt.ICON_MOVE,external:!0},i))}getRowDropZone(e){const i=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),o=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?a=>{r(a),e.onDragEnter(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_ENTER,a))}:r,onDragLeave:e.onDragLeave?a=>{n(a),e.onDragLeave(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_LEAVE,a))}:n,onDragging:e.onDragging?a=>{s(a),e.onDragging(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_MOVE,a))}:s,onDragStop:e.onDragStop?a=>{o(a),e.onDragStop(this.draggingToRowDragEvent(I.EVENT_ROW_DRAG_END,a))}:o,fromGrid:!0}:{getContainer:i,onDragEnter:r,onDragLeave:n,onDragging:s,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(e,i){const r=this.mouseEventService.getNormalisedPosition(i).y,n=r>this.paginationProxy.getCurrentPageHeight();let s=-1,o;n||(s=this.rowModel.getRowIndexAtPixel(r),o=this.rowModel.getRow(s));let a;switch(i.vDirection){case 1:a="down";break;case 0:a="up";break;default:a=null;break}return this.gridOptionsService.addGridCommonParams({type:e,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:s,overNode:o,y:r,vDirection:a})}dispatchGridEvent(e,i){const r=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent(I.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(I.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(i=>{i.setDragging(!1)})}};A([B("dragAndDropService")],qo.prototype,"dragAndDropService",2);A([B("rowModel")],qo.prototype,"rowModel",2);A([B("paginationProxy")],qo.prototype,"paginationProxy",2);A([B("columnModel")],qo.prototype,"columnModel",2);A([B("focusService")],qo.prototype,"focusService",2);A([B("sortController")],qo.prototype,"sortController",2);A([B("filterManager")],qo.prototype,"filterManager",2);A([B("selectionService")],qo.prototype,"selectionService",2);A([B("mouseEventService")],qo.prototype,"mouseEventService",2);A([B("ctrlsService")],qo.prototype,"ctrlsService",2);A([ai("rangeService")],qo.prototype,"rangeService",2);A([_e],qo.prototype,"postConstruct",1);var HP=class extends Ie{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const i=e.dragSource.eElement,r=e.mouseDownListener;if(i.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;i.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const i=this.dragSources.find(r=>r.dragSource===e);i&&(this.removeListener(i),Ws(this.dragSources,i))}isDragging(){return this.dragging}addDragSource(e){const i=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:s}=e;r.addEventListener("mousedown",i);let o=null;const a=this.gridOptionsService.get("suppressTouch");n&&!a&&(o=l=>{CH(l.target)||(l.cancelable&&(l.preventDefault(),s&&l.stopPropagation()),this.onTouchStart(e,l))},r.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:o,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,i){this.currentDragParams=e,this.dragging=!1;const r=i.touches[0];this.touchLastTime=r,this.touchStart=r;const n=u=>this.onTouchMove(u,e.eElement),s=u=>this.onTouchUp(u,e.eElement),o=u=>{u.cancelable&&u.preventDefault()},a=i.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:o,options:{passive:!1}},{target:a,type:"touchmove",listener:n,options:{passive:!0}},{target:a,type:"touchend",listener:s,options:{passive:!0}},{target:a,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,i){const r=i;if(e.skipMouseEvent&&e.skipMouseEvent(i)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,i.button!==0))return;this.shouldPreventMouseEvent(i)&&i.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i,this.startTarget=i.target;const n=u=>this.onMouseMove(u,e.eElement),s=u=>this.onMouseUp(u,e.eElement),o=u=>u.preventDefault(),a=this.gridOptionsService.getRootNode(),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(i,e.eElement)}addTemporaryEvents(e){e.forEach(i=>{const{target:r,type:n,listener:s,options:o}=i;r.addEventListener(n,s,o)}),this.dragEndFunctions.push(()=>{e.forEach(i=>{const{target:r,type:n,listener:s,options:o}=i;r.removeEventListener(n,s,o)})})}isEventNearStartEvent(e,i){const{dragStartPixels:r}=this.currentDragParams,n=De(r)?r:4;return PH(e,i,n)}getFirstActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}onCommonMove(e,i,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,i))return;this.dragging=!0;const n={type:I.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(e)}onTouchMove(e,i){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,i)}onMouseMove(e,i){var r;Cc()&&((r=this.gridOptionsService.getDocument().getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)}shouldPreventMouseEvent(e){const i=this.gridOptionsService.get("enableCellTextSelection"),r=e.type==="mousemove";return i&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const i=e.target,r=i==null?void 0:i.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,i){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,i)}onMouseUp(e,i){this.onUpCommon(e,i)}onUpCommon(e,i){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const r={type:I.EVENT_DRAG_STOPPED,target:i};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(r=>r()),this.dragEndFunctions.length=0}};A([B("mouseEventService")],HP.prototype,"mouseEventService",2);A([ja],HP.prototype,"removeAllListeners",1);HP=A([ze("dragService")],HP);var lL="ag-list-item-hovered",jJ=class extends Ie{constructor(e,i,r){super(),this.comp=e,this.virtualList=i,this.params=r,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const e={isInterestedIn:i=>i===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Dt.ICON_PINNED:Dt.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:i=>this.onDragging(i),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new zJ({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:i=>e.scrollTop=i})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const i=this.getListDragItem(e),r=this.virtualList.getComponentAt(i.rowIndex);if(!r)return;const n=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===i.rowIndex&&this.lastHoveredListItem.position===i.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=i,HN(n,lL),HN(n,`ag-item-highlight-${i.position}`))}getListDragItem(e){const i=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(i).paddingTop),n=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),o=Math.max(0,(e.y-r+s)/n),a=this.params.getNumRows(this.comp)-1,l=Math.min(a,o)|0;return{rowIndex:l,position:Math.round(o)>o||o>a?"bottom":"top",component:this.virtualList.getComponentAt(l)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${lL}`).forEach(i=>{[lL,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(r=>{i.classList.remove(r)})}),this.lastHoveredListItem=null}};A([B("dragAndDropService")],jJ.prototype,"dragAndDropService",2);A([_e],jJ.prototype,"postConstruct",1);function np(t){const e=t;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():t}var _t=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,i){this.detailGridInfoMap[e]=i}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let i=0;Ao(this.detailGridInfoMap,(r,n)=>{De(n)&&(e(n,i),i++)})}getDataAsCsv(e){if(Gi.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Gi.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,i){return Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===1?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,i){if(!e)return;const r=this.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${e}`;i===null?r.removeAttribute(n):r.setAttribute(n,i)}logMissingRowModel(e,...i){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`)}logDeprecation(e,i,r,n){ut(`Since ${e} api.${i} is deprecated. Please use ${r} instead. ${n}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(e={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(e))}flashCells(e={}){const i=r=>ut(`Since v31.1 api.flashCells parameter '${r}Delay' is deprecated. Please use '${r}Duration' instead.`);De(e.fadeDelay)&&i("fade"),De(e.flashDelay)&&i("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(e))}redrawRows(e={}){const i=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(i))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return ut("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,i,r){this.expansionService.setRowNodeExpanded(e,i,r)}onGroupExpandedOrCollapsed(){if(gt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,i,r){this.rowRenderer.addRenderedRowListener(e,i,r)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Gi.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){Gi.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(a=>a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:r,source:n,newValue:s}=e,o=r;this.selectionService.setNodesSelected({nodes:o,source:n??"api",newValue:s})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return gt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){if(gt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(gt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,i="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,i),"ensureVisible")}ensureIndexVisible(e,i){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,i),"ensureVisible")}ensureNodeVisible(e,i=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,i),"ensureVisible")}forEachLeafNode(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,i){this.rowModel.forEachNode(e,i)}forEachNodeAfterFilter(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,i){return ut("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,i)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){const i=this.columnModel.getPrimaryColumn(e);if(i)return this.filterManager.destroyFilter(i,"api")}getStatusPanel(e){if(!Gi.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;const i=this.statusBarService.getStatusPanel(e);return np(i)}getColumnDef(e){const i=this.columnModel.getPrimaryColumn(e);return i?i.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(e))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,i){return this.filterManager.setColumnFilterModel(e,i)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,i,r){this.focusService.setFocusedCell({rowIndex:e,column:i,rowPinned:r,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const i=this.dragAndDropService.findExternalZone(e);i&&this.dragAndDropService.removeDropTarget(i)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return Gi.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const i=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return np(i)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(De(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setRowCount(e,i){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,i);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,i);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,i){let r=this.columnModel.getPrimaryColumn(e);return gt(r)&&(r=this.columnModel.getGridColumn(e)),gt(r)?null:this.valueService.getValue(r,i)}addEventListener(e,i){this.apiEventService.addEventListener(e,i)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,i){this.apiEventService.removeEventListener(e,i)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){const e=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const i={type:I.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(i),this.destroyCalled=!0;const r=this.ctrlsService.getGridCtrl();r&&r.destroyGridUi(),this.context.destroy(),WQ(this,["isDestroyed"],e)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Gi.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}Gi.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Gi.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,i){if(Gi.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>i())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(e){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(e))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(e))}downloadChart(e){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(e))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(e))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(e.chartId))}createRangeChart(e){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(e))}createPivotChart(e){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(e))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(e))}updateChart(e){return this.assertChart("updateChart",()=>this.chartService.updateChart(e))}restoreChart(e,i){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(e,i))}assertClipboard(e,i){Gi.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&i()}copyToClipboard(e){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(e))}cutToClipboard(e){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(e))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(e))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(e))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(e,i){ut("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const r=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:r,buttonElement:i,positionBy:"button"})}showColumnMenuAfterMouseClick(e,i){ut("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let r=this.columnModel.getGridColumn(e);if(r||(r=this.columnModel.getPrimaryColumn(e)),!r){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:r,mouseEvent:i,positionBy:"mouse"})}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){const i=this.columnModel.getGridColumn(e);if(!i){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}showColumnMenu(e){const i=this.columnModel.getGridColumn(e);if(!i){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:i,positionBy:"auto"})}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(np)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(np)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const i=this.columnModel.getGridColumn(e.colKey);if(!i){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const r={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:i};e.rowPinned==null&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);const s=this.navigationService.getCellByPosition(r);s&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),s.startRowOrCellEdit(e.key))}addAggFunc(e,i){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:i})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,i){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,i)}applyServerSideRowData(e){var i,r;const n=(i=e.startRow)!=null?i:0,s=(r=e.route)!=null?r:[];if(n<0){console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,n,s):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(e))}applyTransactionAsync(e,i){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(e,i))}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions())}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,i){this.columnModel.setColumnGroupOpened(e,i,"api")}getColumnGroup(e,i){return this.columnModel.getColumnGroup(e,i)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,i){return this.columnModel.getDisplayNameForColumn(e,i)||""}getDisplayNameForColumnGroup(e,i){return this.columnModel.getDisplayNameForColumnGroup(e,i)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,i){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],i,"api")}setColumnsVisible(e,i){this.columnModel.setColumnsVisible(e,i,"api")}setColumnPinned(e,i){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],i,"api")}setColumnsPinned(e,i){this.columnModel.setColumnsPinned(e,i,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,i){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],i,"api")}moveColumnByIndex(e,i){this.columnModel.moveColumnByIndex(e,i,"api")}moveColumns(e,i){this.columnModel.moveColumns(e,i,"api")}moveRowGroupColumn(e,i){this.columnModel.moveRowGroupColumn(e,i,"api")}setColumnAggFunc(e,i){this.columnModel.setColumnAggFunc(e,i,"api")}setColumnWidth(e,i,r=!0,n="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:i}],!1,r,n)}setColumnWidths(e,i=!0,r="api"){this.columnModel.setColumnWidths(e,!1,i,r)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,i){return this.columnModel.getSecondaryPivotColumn(e,i)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,i){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:i,source:"api"})}autoSizeColumns(e,i){this.columnModel.autoSizeColumns({columns:e,skipHeader:i,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,i){this.updateGridOptions({[e]:i})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,i){ut(`set${e.charAt(0).toUpperCase()}${e.slice(1,e.length)} is deprecated. Please use 'api.setGridOption('${e}', newValue)' or 'api.updateGridOptions({ ${e}: newValue })' instead.`),this.setGridOption(e,i)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){ut("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e,i="api"){ut("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:i})}setAutoGroupColumnDef(e,i="api"){ut("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:i})}setDefaultColDef(e,i="api"){ut("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:i})}setColumnTypes(e,i="api"){ut("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:i})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){ut("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};A([ai("csvCreator")],_t.prototype,"csvCreator",2);A([ai("excelCreator")],_t.prototype,"excelCreator",2);A([B("rowRenderer")],_t.prototype,"rowRenderer",2);A([B("navigationService")],_t.prototype,"navigationService",2);A([B("filterManager")],_t.prototype,"filterManager",2);A([B("columnModel")],_t.prototype,"columnModel",2);A([B("selectionService")],_t.prototype,"selectionService",2);A([B("gridOptionsService")],_t.prototype,"gos",2);A([B("valueService")],_t.prototype,"valueService",2);A([B("alignedGridsService")],_t.prototype,"alignedGridsService",2);A([B("eventService")],_t.prototype,"eventService",2);A([B("pinnedRowModel")],_t.prototype,"pinnedRowModel",2);A([B("context")],_t.prototype,"context",2);A([B("rowModel")],_t.prototype,"rowModel",2);A([B("sortController")],_t.prototype,"sortController",2);A([B("paginationProxy")],_t.prototype,"paginationProxy",2);A([B("focusService")],_t.prototype,"focusService",2);A([B("dragAndDropService")],_t.prototype,"dragAndDropService",2);A([ai("rangeService")],_t.prototype,"rangeService",2);A([ai("clipboardService")],_t.prototype,"clipboardService",2);A([ai("aggFuncService")],_t.prototype,"aggFuncService",2);A([B("menuService")],_t.prototype,"menuService",2);A([B("valueCache")],_t.prototype,"valueCache",2);A([B("animationFrameService")],_t.prototype,"animationFrameService",2);A([ai("statusBarService")],_t.prototype,"statusBarService",2);A([ai("chartService")],_t.prototype,"chartService",2);A([ai("undoRedoService")],_t.prototype,"undoRedoService",2);A([ai("rowNodeBlockLoader")],_t.prototype,"rowNodeBlockLoader",2);A([ai("ssrmTransactionManager")],_t.prototype,"serverSideTransactionManager",2);A([B("ctrlsService")],_t.prototype,"ctrlsService",2);A([B("overlayService")],_t.prototype,"overlayService",2);A([ai("sideBarService")],_t.prototype,"sideBarService",2);A([B("stateService")],_t.prototype,"stateService",2);A([B("expansionService")],_t.prototype,"expansionService",2);A([B("apiEventService")],_t.prototype,"apiEventService",2);A([B("frameworkOverrides")],_t.prototype,"frameworkOverrides",2);A([_e],_t.prototype,"init",1);_t=A([ze("gridApi")],_t);var _o=class extends Ie{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const i=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(i,e):this.quickFilterParts.every(r=>i?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:i}=this;e?this.quickFilterParts=i?i(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return De(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const i=this.parseQuickFilter(e);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:_o.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),r=e!==this.parser||i!==this.matcher;this.parser=e,this.matcher=i,r&&(this.setQuickFilterParts(),this.dispatchEvent({type:_o.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:_o.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,i){return this.columnModel.getAllColumnsForQuickFilter().some(n=>{const s=this.getQuickFilterTextForColumn(n,e);return De(s)&&s.indexOf(i)>=0})}doesRowPassQuickFilterCache(e,i){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(i)>=0}doesRowPassQuickFilterMatcher(e,i){let r;e?(this.checkGenerateQuickFilterAggregateText(i),r=i.quickFilterAggregateText):r=this.getQuickFilterAggregateText(i);const{quickFilterParts:n,matcher:s}=this;return s(n,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,i){let r=this.valueService.getValue(e,i,!0);const n=e.getColDef();if(n.getQuickFilterText){const s=this.gridOptionsService.addGridCommonParams({value:r,node:i,data:i.data,column:e,colDef:n});r=n.getQuickFilterText(s)}return De(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const i=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(n=>{const s=this.getQuickFilterTextForColumn(n,e);De(s)&&i.push(s)}),i.join(_o.QUICK_FILTER_SEPARATOR)}};_o.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";_o.QUICK_FILTER_SEPARATOR=`
`;A([B("valueService")],_o.prototype,"valueService",2);A([B("columnModel")],_o.prototype,"columnModel",2);A([B("rowModel")],_o.prototype,"rowModel",2);A([_e],_o.prototype,"postConstruct",1);_o=A([ze("quickFilterService")],_o);var Ml=class extends Ie{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,i,r;this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,I.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:n})=>this.onAdvancedFilterEnabledChanged(n)),this.addManagedListener(this.eventService,I.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,_o.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=tt({},(r=(i=(e=this.gridOptionsService.get("initialState"))==null?void 0:e.filter)==null?void 0:i.filterModel)!=null?r:{})}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const i=this.gridOptionsService.get("doesExternalFilterPass");return typeof i=="function"?i(e):!1}setFilterModel(e,i="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:i});return}const r=[],n=this.getFilterModel();if(e){const s=xH(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];r.push(this.setModelOnFilterWrapper(o.filterPromise,l)),s.delete(a)}),s.forEach(o=>{const a=this.columnModel.getPrimaryColumn(o)||this.columnModel.getGridColumn(o);if(!a){console.warn("AG Grid: setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a,"NO_UI");if(!l){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}r.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(s=>{r.push(this.setModelOnFilterWrapper(s.filterPromise,null))});Sa.all(r).then(()=>{const s=this.getFilterModel(),o=[];this.allColumnFilters.forEach((a,l)=>{const u=n?n[l]:null,c=s?s[l]:null;Up.jsonEquals(u,c)||o.push(a.column)}),o.length>0&&this.onFilterChanged({columns:o,source:i})})}setModelOnFilterWrapper(e,i){return new Sa(r=>{e.then(n=>{typeof n.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(n.setModel(i)||Sa.resolve()).then(()=>r())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((i,r)=>{const n=this.getModelFromFilterWrapper(i);De(n)&&(e[r]=n)}),e}getModelFromFilterWrapper(e){var i;const n=e.filterPromise.resolveNow(null,s=>s);return n==null?(i=this.initialFilterModel[e.column.getColId()])!=null?i:null:typeof n.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):n.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var i;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(r=>this.disposeFilterWrapper(r,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(i=this.advancedFilterService)!=null&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,i){return this.doColumnFiltersPass(e,i,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=n=>n?n.isFilterActive?n.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,i=!!this.gridOptionsService.getGroupAggFiltering(),r=n=>{if(!n.isPrimary())return!0;const o=!this.columnModel.isPivotActive();return!n.isValueActive()||!o?!1:this.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(n=>{if(n.filterPromise.resolveNow(!1,e)){const s=n.filterPromise.resolveNow(null,o=>o);r(n.column)?this.activeAggregateFilters.push(s):this.activeColumnFilters.push(s)}})}updateFilterFlagInColumns(e,i){this.allColumnFilters.forEach(r=>{const n=r.filterPromise.resolveNow(!1,s=>s.isFilterActive());r.column.setFilterActive(n,e,i)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,i,r){const{data:n,aggData:s}=e,o=r?this.activeAggregateFilters:this.activeColumnFilters,a=r?s:n;for(let l=0;l<o.length;l++){const u=o[l];if(!(u==null||u===i)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:a}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const i=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()}onFilterChanged(e={}){const{source:i,filterInstance:r,additionalEventAttributes:n,columns:s}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(a=>{a.filterPromise&&a.filterPromise.then(l=>{l&&l!==r&&l.onAnyFilterChanged&&l.onAnyFilterChanged()})});const o={source:i,type:I.EVENT_FILTER_CHANGED,columns:s||[]};n&&Io(o,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!((e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!=null?e:!1)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(i=>{i.filterPromise.then(r=>{r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:i})=>this.valueService.getValue(e,i,!0)}createGetValue(e){return(i,r)=>{const n=r?this.columnModel.getGridColumn(r):e;return n?this.valueService.getValue(n,i,!0):void 0}}getFilterComponent(e,i,r=!0){var n;if(r)return((n=this.getOrCreateFilterWrapper(e,i))==null?void 0:n.filterPromise)||null;const s=this.cachedFilter(e);return s?s.filterPromise:null}isFilterActive(e){const i=this.cachedFilter(e);return!!i&&i.filterPromise.resolveNow(!1,r=>r.isFilterActive())}getOrCreateFilterWrapper(e,i){if(!e.isFilterAllowed())return null;let r=this.cachedFilter(e);return r?i!=="NO_UI"&&this.putIntoGui(r,i):(r=this.createFilterWrapper(e,i),this.setColumnFilterWrapper(e,r)),r}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let i;if(Gi.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))i="agSetColumnFilter";else{const r=this.dataTypeService.getBaseDataType(e);r==="number"?i="agNumberColumnFilter":r==="date"||r==="dateString"?i="agDateColumnFilter":i="agTextColumnFilter"}return i}getDefaultFloatingFilter(e){let i;if(Gi.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))i="agSetColumnFloatingFilter";else{const r=this.dataTypeService.getBaseDataType(e);r==="number"?i="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?i="agDateColumnFloatingFilter":i="agTextColumnFloatingFilter"}return i}createFilterInstance(e){const i=this.getDefaultFilter(e),r=e.getColDef();let n;const s=Wi(tt({},this.createFilterParams(e,r)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(n,e)(a),doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(n,a)}),o=this.userComponentFactory.getFilterDetails(r,s,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a&&a.then(l=>n=l),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,i){return this.gridOptionsService.addGridCommonParams({column:e,colDef:QV(i),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,i){var r;const n={column:e,filterPromise:null,compiledElement:null,guiPromise:Sa.resolve(null),compDetails:null},{filterPromise:s,compDetails:o}=this.createFilterInstance(e);return n.filterPromise=(r=s==null?void 0:s())!=null?r:null,n.compDetails=o,s&&this.putIntoGui(n,i),n}putIntoGui(e,i){const r=document.createElement("div");r.className="ag-filter",e.guiPromise=new Sa(n=>{e.filterPromise.then(s=>{let o=s.getGui();De(o)||console.warn(`AG Grid: getGui method from filter returned ${o}, it should be a DOM element or an HTML template string.`),typeof o=="string"&&(o=Ks(o)),r.appendChild(o),n(r);const a={type:I.EVENT_FILTER_OPENED,column:e.column,source:i,eGui:r};this.eventService.dispatchEvent(a)})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((i,r)=>{let n;i.column.isPrimary()?n=this.columnModel.getPrimaryColumn(r):n=this.columnModel.getGridColumn(r),!n&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(r))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(i=>{i.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(i,"NO_UI")})}isFilterAllowed(e){var i,r;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const s=this.allColumnFilters.get(e.getColId());return(r=(i=s==null?void 0:s.filterPromise)==null?void 0:i.resolveNow(!0,o=>typeof(o==null?void 0:o.isFilterAllowed)=="function"?o==null?void 0:o.isFilterAllowed():!0))!=null?r:!0}getFloatingFilterCompDetails(e,i){const r=u=>{const c=this.getFilterComponent(e,"NO_UI");c!=null&&c.then(d=>{u(np(d))})},n=e.getColDef(),s=Wi(tt({},this.createFilterParams(e,n)),{filterChangedCallback:()=>r(u=>this.filterChangedCallbackFactory(u,e)())}),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,UN,s);let a=this.userComponentFactory.getDefaultFloatingFilterType(n,()=>this.getDefaultFloatingFilter(e));a==null&&(a="agReadOnlyFloatingFilter");const l={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:i,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,l,a)}getCurrentFloatingFilterParentModel(e){const i=this.getFilterComponent(e,"NO_UI",!1);return i?i.resolveNow(null,r=>r&&r.getModel()):null}destroyFilter(e,i="api"){const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,i),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const i=this.allColumnListeners.get(e);i&&(this.allColumnListeners.delete(e),i())}disposeFilterWrapper(e,i){e.filterPromise.then(r=>{this.getContext().destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const n={type:I.EVENT_FILTER_DESTROYED,source:i,column:e.column};this.eventService.dispatchEvent(n)})}filterModifiedCallbackFactory(e,i){return()=>{const r={type:I.EVENT_FILTER_MODIFIED,column:i,filterInstance:e};this.eventService.dispatchEvent(r)}}filterChangedCallbackFactory(e,i){return r=>{var n;const s=(n=r==null?void 0:r.source)!=null?n:"api",o={filter:e,additionalEventAttributes:r,columns:[i],source:s};this.callOnFilterChangedOutsideRenderCycle(o)}}checkDestroyFilter(e){const i=this.allColumnFilters.get(e);if(!i)return;const r=i.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(i.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const s=r.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(r,"paramsUpdated");return}i.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh(tt(Wi(tt({},this.createFilterParams(r,r.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(o,r),filterChangedCallback:this.filterChangedCallbackFactory(o,r),doesRowPassOtherFilter:l=>this.doesRowPassOtherFilters(o,l)}),s)):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,i){const r=e.getColId();this.allColumnFilters.set(r,i),this.allColumnListeners.set(r,this.addManagedListener(e,vi.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(r)))}areFilterCompsDifferent(e,i){if(!i||!e)return!0;const{componentClass:r}=e,{componentClass:n}=i;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:this.columnModel.getAllGridColumns().some(i=>i.getColDef().floatingFilter)}getFilterInstance(e,i){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const r=this.getFilterInstanceImpl(e,s=>{if(!i)return;const o=np(s);i(o)});return np(r)}getColumnFilterInstance(e){return new Promise(i=>{this.getFilterInstance(e,r=>{i(r)})})}getFilterInstanceImpl(e,i){const r=this.columnModel.getPrimaryColumn(e);if(!r)return;const n=this.getFilterComponent(r,"NO_UI"),s=n&&n.resolveNow(null,o=>o);return s?setTimeout(i,0,s):n&&n.then(o=>{i(o)}),s}warnAdvancedFilters(){ut("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var i;(i=this.advancedFilterService)==null||i.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:i})=>this.setFilterModel(e,i)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:i,resolve:r})=>{this.setColumnFilterModel(e,i).then(()=>r())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){const i=this.getFilterWrapper(e);return i?this.getModelFromFilterWrapper(i):null}setColumnFilterModel(e,i){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:i,resolve:o}),a}const r=this.columnModel.getPrimaryColumn(e),n=r?this.getOrCreateFilterWrapper(r,"NO_UI"):null;return n?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(n.filterPromise,i)):Promise.resolve()}getFilterWrapper(e){var i;const r=this.columnModel.getPrimaryColumn(e);return r&&(i=this.cachedFilter(r))!=null?i:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};A([B("valueService")],Ml.prototype,"valueService",2);A([B("columnModel")],Ml.prototype,"columnModel",2);A([B("rowModel")],Ml.prototype,"rowModel",2);A([B("userComponentFactory")],Ml.prototype,"userComponentFactory",2);A([B("rowRenderer")],Ml.prototype,"rowRenderer",2);A([B("dataTypeService")],Ml.prototype,"dataTypeService",2);A([B("quickFilterService")],Ml.prototype,"quickFilterService",2);A([ai("advancedFilterService")],Ml.prototype,"advancedFilterService",2);A([_e],Ml.prototype,"init",1);Ml=A([ze("filterManager")],Ml);var HH=class extends wt{constructor(e,i){super(e),this.ctrl=i}getCtrl(){return this.ctrl}},Df=class KJ extends HH{constructor(e){super(KJ.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i={addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),addOrRemoveBodyCssClass:(r,n)=>this.eFloatingFilterBody.classList.toggle(r,n),setButtonWrapperDisplayed:r=>kt(this.eButtonWrapper,r),setCompDetails:r=>this.setCompDetails(r),getFloatingFilterComp:()=>this.compPromise,setWidth:r=>e.style.width=r,setMenuIcon:r=>this.eButtonShowMainFilter.appendChild(r)};this.ctrl.setComp(i,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};Df.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;A([Ge("eFloatingFilterBody")],Df.prototype,"eFloatingFilterBody",2);A([Ge("eButtonWrapper")],Df.prototype,"eButtonWrapper",2);A([Ge("eButtonShowMainFilter")],Df.prototype,"eButtonShowMainFilter",2);A([_e],Df.prototype,"postConstruct",1);A([ja],Df.prototype,"destroyFloatingFilterComp",1);var qAe=Df,J0=class extends Ie{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),i={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=i.autoHeight?"ag-layout-auto-height":i.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,i)}getDomLayout(){var e;const i=(e=this.gridOptionsService.get("domLayout"))!=null?e:"normal";return["normal","print","autoHeight"].indexOf(i)===-1?(ut(`${i} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):i}};A([_e],J0.prototype,"postConstruct",1);var Vc=class extends Ie{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=ms(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=ms(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),i=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const r=this.gridOptionsService.get("debounceVerticalScrollbar"),n=r?ms(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=r?ms(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),i.onScrollCallback(s)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowContainerCtrl==null)return;e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const r=this.enableRtl?e:-e,n=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),o=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-r),o.setContainerTranslateX(r),n.setContainerTranslateX(r),s.setContainerTranslateX(r);const u=this.centerRowContainerCtrl.getViewportElement(),c=this.lastScrollSource[1]===0;e=Math.abs(e),c?a.setScrollPosition(e):JS(u,e,this.enableRtl)}isControllingScroll(e,i){return this.lastScrollSource[i]==null?(this.lastScrollSource[i]=e,!0):this.lastScrollSource[i]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const i=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:r}=i;if(this.shouldBlockScrollUpdate(1,r,!0))return;let n;e===0?n=ZS(i,this.enableRtl):n=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let i;e===0?i=this.eBodyViewport.scrollTop:i=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,i,!0)&&(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,e===0?this.ctrlsService.getFakeVScrollComp().setScrollPosition(i):this.eBodyViewport.scrollTop=i,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const i=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const i={type:I.EVENT_BODY_SCROLL,direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const r=Wi(tt({},i),{type:I.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(r)},100)}shouldBlockScrollUpdate(e,i,r=!1){return r&&!Nc()?!1:e===0?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i)}shouldBlockVerticalScroll(e){const i=ib(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+i>r}shouldBlockHorizontalScroll(e){const i=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&QS()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+i>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,i=!1){const n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!i&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&QS()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),JS(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const i=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-i}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,i=null){const r=this.rowModel.getRowCount();let n=-1;for(let s=0;s<r;s++){const o=this.rowModel.getRow(s);if(typeof e=="function"){if(o&&e(o)){n=s;break}}else if(e===o||e===o.data){n=s;break}}n>=0&&this.ensureIndexVisible(n,i)}ensureIndexVisible(e,i){if(this.gridOptionsService.isDomLayout("print"))return;const r=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=r){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}const s=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{s||this.paginationProxy.goToPageWithIndex(e);const a=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),l=this.paginationProxy.getRow(e);let u;do{const c=l.rowTop,d=l.rowHeight,h=this.paginationProxy.getPixelOffset(),f=l.rowTop-h,g=f+l.rowHeight,v=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),S=v.top+C,y=v.bottom+C,w=y-S,E=this.heightScaler.getScrollPositionForPixel(f),b=this.heightScaler.getScrollPositionForPixel(g-w),D=Math.min((E+b)/2,f),P=S+a>f,O=y<g;let N=null;i==="top"?N=E:i==="bottom"?N=b:i==="middle"?N=D:P?N=E-a:O&&(N=b),N!==null&&(this.setVerticalScrollPosition(N),this.rowRenderer.redraw({afterScroll:!0})),u=c!==l.rowTop||d!==l.rowHeight}while(u);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,i="auto"){const r=this.columnModel.getGridColumn(e);if(!r||r.isPinned()||!this.columnModel.isColumnDisplayed(r))return;const n=this.getPositionedHorizontalScroll(r,i);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,i){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,i){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl;let l=(a?r:n)||s,u=a?n:r;i!=="auto"&&(l=i==="start",u=i==="end");const c=i==="middle";if(l||u||c){const{colLeft:d,colMiddle:h,colRight:f}=this.getColumnBounds(e);return c?h-o/2:l?a?f:d:a?d-o:f-o}return null}isColumnOutsideViewport(e){const{start:i,end:r}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),o=this.enableRtl,a=o?i>s:r<s,l=o?r<n:i>n;return{columnBeforeStart:a,columnAfterEnd:l}}getColumnBounds(e){const i=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),s=e.getLeft(),o=i?-1:1,a=i?r-s:s,l=a+n*o,u=a+n/2*o;return{colLeft:a,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),r=i,n=e+i;return{start:r,end:n,width:e}}};A([B("ctrlsService")],Vc.prototype,"ctrlsService",2);A([B("animationFrameService")],Vc.prototype,"animationFrameService",2);A([B("paginationProxy")],Vc.prototype,"paginationProxy",2);A([B("rowModel")],Vc.prototype,"rowModel",2);A([B("rowContainerHeightService")],Vc.prototype,"heightScaler",2);A([B("rowRenderer")],Vc.prototype,"rowRenderer",2);A([B("columnModel")],Vc.prototype,"columnModel",2);A([_e],Vc.prototype,"postConstruct",1);var YJ="ag-force-vertical-scroll",XAe="ag-selectable",QAe="ag-column-moving",Ps=class extends Ie{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,i,r,n,s,o){this.comp=e,this.eGridBody=i,this.eBodyViewport=r,this.eTop=n,this.eBottom=s,this.eStickyTop=o,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new J0(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Vc(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,s,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(n),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(i=>{this.addManagedListener(i,"focusin",r=>{const{target:n}=r,s=mp(n,"ag-root",i);i.classList.toggle("ag-has-focus",!s)}),this.addManagedListener(i,"focusout",r=>{const{target:n,relatedTarget:s}=r,o=i.contains(s),a=mp(s,"ag-root",i);mp(n,"ag-root",i)||(!o||a)&&i.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(QAe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(XAe,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const i=e&&this.gridOptionsService.getScrollbarWidth()||0,r=gH()?16:0,n=`calc(100% + ${i+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const n=r.relatedTarget;if(_P(n)===null){this.rowRenderer.stopEditing();return}let s=i.some(o=>o.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!s){const o=this.popupService;s=o.getActivePopups().some(a=>a.contains(n))||o.isElementWithinCustomPopup(n)}s||this.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(r=>this.addManagedListener(r,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=i===-1?-1:e+i;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const i=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(i)}isVerticalScrollShowing(){const e=this.gridOptionsService.get("alwaysShowVerticalScroll"),i=e?YJ:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(i,e),e||r&&UZ(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const i=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),r=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,i)};e(),this.addManagedListener(this.eventService,I.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&i&&this.addManagedListener(e,"wheel",r=>this.onFullWidthContainerWheel(r,i))}onFullWidthContainerWheel(e,i){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),i.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,i,r){if(!e&&!r)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||i;(n===this.eBodyViewport||n===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Nc())return;const i=new mn(this.eBodyViewport),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListener(i,mn.EVENT_LONG_TAP,r),this.addDestroyFunc(()=>i.destroy())}onBodyViewportWheel(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new qo(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let i=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(i),this.comp.setBottomHeight(r),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(!e)this.comp.setStickyTopWidth("100%");else{const i=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${i}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const i=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;i>0&&(n+=i+1),r>0&&(n+=r+1),this.comp.setStickyTopTop(`${n}px`)}sizeColumnsToFit(e,i){const n=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,o=Ef(this.eGridBody)-n;if(o>0){this.columnModel.sizeColumnsToFit(o,"sizeColumnsToFit",!1,e);return}i===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):i===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):i===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};A([B("animationFrameService")],Ps.prototype,"animationFrameService",2);A([B("rowContainerHeightService")],Ps.prototype,"rowContainerHeightService",2);A([B("ctrlsService")],Ps.prototype,"ctrlsService",2);A([B("columnModel")],Ps.prototype,"columnModel",2);A([B("scrollVisibleService")],Ps.prototype,"scrollVisibleService",2);A([B("menuService")],Ps.prototype,"menuService",2);A([B("headerNavigationService")],Ps.prototype,"headerNavigationService",2);A([B("dragAndDropService")],Ps.prototype,"dragAndDropService",2);A([B("pinnedRowModel")],Ps.prototype,"pinnedRowModel",2);A([B("rowRenderer")],Ps.prototype,"rowRenderer",2);A([B("popupService")],Ps.prototype,"popupService",2);A([B("mouseEventService")],Ps.prototype,"mouseEventService",2);A([B("rowModel")],Ps.prototype,"rowModel",2);A([B("filterManager")],Ps.prototype,"filterManager",2);var iy="ag-cell-range-selected",ZAe="ag-cell-range-chart",JAe="ag-cell-range-single-cell",e0e="ag-cell-range-chart-category",t0e="ag-cell-range-handle",i0e="ag-cell-range-top",r0e="ag-cell-range-right",n0e="ag-cell-range-bottom",s0e="ag-cell-range-left",o0e=class{constructor(e,i){this.beans=e,this.cellCtrl=i}setComp(e,i){this.cellComp=e,this.eGui=i,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(iy,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${iy}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${iy}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${iy}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${iy}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(ZAe,this.hasChartRange),km(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(JAe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),i=this.isSingleCell(),r=!i&&e.top,n=!i&&e.right,s=!i&&e.bottom,o=!i&&e.left;this.cellComp.addOrRemoveCssClass(i0e,r),this.cellComp.addOrRemoveCssClass(r0e,n),this.cellComp.addOrRemoveCssClass(n0e,s),this.cellComp.addOrRemoveCssClass(s0e,o)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const i=e.getCellRanges();return i.length>0&&i.every(r=>Pa([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.get("enableRtl");let i=!1,r=!1,n=!1,s=!1;const o=this.cellCtrl.getCellPosition().column,{rangeService:a,columnModel:l}=this.beans;let u,c;e?(u=l.getDisplayedColAfter(o),c=l.getDisplayedColBefore(o)):(u=l.getDisplayedColBefore(o),c=l.getDisplayedColAfter(o));const d=a.getCellRanges().filter(h=>a.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));u||(s=!0),c||(r=!0);for(let h=0;h<d.length&&!(i&&r&&n&&s);h++){const f=d[h],g=a.getRangeStartRow(f),v=a.getRangeEndRow(f);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!n&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(n=!0),!s&&u&&f.columns.indexOf(u)<0&&(s=!0),!r&&c&&f.columns.indexOf(c)<0&&(r=!0)}return{top:i,right:r,bottom:n,left:s}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(t0e,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:i}=this.beans,r=i.getCellRanges(),n=r.length;if(this.rangeCount<1||n<1)return!1;const s=qt(r),o=this.cellCtrl.getCellPosition(),a=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.get("enableRangeHandle");let u=n===1&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){const d=r[0].type===1&&i.isCellInSpecificRange(o,r[0]);this.cellComp.addOrRemoveCssClass(e0e,d),u=s.type===0}return u&&s.endRow!=null&&i.isContiguousRange(s)&&i.isBottomRightCell(s,o)}addSelectionHandle(){const{gridOptionsService:e,rangeService:i}=this.beans,r=qt(i.getCellRanges()).type,s=e.get("enableFillHandle")&&gt(r)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},a0e=class extends Ie{constructor(e,i){super(),this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,I.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();lu(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,i)=>e+i.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),i=[];if(e===1)i.push(this.column);else{let r=this.column;const n=this.column.getPinned();for(let s=0;r&&s<e&&(i.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!(!r||gt(r)||n!==r.getPinned()));s++);}return i}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=qt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.columnModel.getBodyContainerWidth();return i+r+(e||0)}return i+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},l0e=class extends Ie{constructor(e,i){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:i}=e,r=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,r,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let i;if(typeof e.cellStyle=="function"){const r=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;i=n(r)}else i=e.cellStyle;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const e=this.column.getColDef(),i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,i),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},bt=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};A([B("resizeObserverService")],bt.prototype,"resizeObserverService",2);A([B("paginationProxy")],bt.prototype,"paginationProxy",2);A([B("context")],bt.prototype,"context",2);A([B("columnApi")],bt.prototype,"columnApi",2);A([B("gridApi")],bt.prototype,"gridApi",2);A([B("gridOptionsService")],bt.prototype,"gridOptionsService",2);A([B("expressionService")],bt.prototype,"expressionService",2);A([B("environment")],bt.prototype,"environment",2);A([B("rowRenderer")],bt.prototype,"rowRenderer",2);A([B("templateService")],bt.prototype,"templateService",2);A([B("valueService")],bt.prototype,"valueService",2);A([B("eventService")],bt.prototype,"eventService",2);A([B("columnModel")],bt.prototype,"columnModel",2);A([B("headerNavigationService")],bt.prototype,"headerNavigationService",2);A([B("navigationService")],bt.prototype,"navigationService",2);A([B("columnAnimationService")],bt.prototype,"columnAnimationService",2);A([ai("rangeService")],bt.prototype,"rangeService",2);A([B("focusService")],bt.prototype,"focusService",2);A([B("popupService")],bt.prototype,"popupService",2);A([B("valueFormatterService")],bt.prototype,"valueFormatterService",2);A([B("stylingService")],bt.prototype,"stylingService",2);A([B("columnHoverService")],bt.prototype,"columnHoverService",2);A([B("userComponentFactory")],bt.prototype,"userComponentFactory",2);A([B("userComponentRegistry")],bt.prototype,"userComponentRegistry",2);A([B("animationFrameService")],bt.prototype,"animationFrameService",2);A([B("dragService")],bt.prototype,"dragService",2);A([B("dragAndDropService")],bt.prototype,"dragAndDropService",2);A([B("sortController")],bt.prototype,"sortController",2);A([B("filterManager")],bt.prototype,"filterManager",2);A([B("rowContainerHeightService")],bt.prototype,"rowContainerHeightService",2);A([B("frameworkOverrides")],bt.prototype,"frameworkOverrides",2);A([B("cellPositionUtils")],bt.prototype,"cellPositionUtils",2);A([B("rowPositionUtils")],bt.prototype,"rowPositionUtils",2);A([B("selectionService")],bt.prototype,"selectionService",2);A([ai("selectionHandleFactory")],bt.prototype,"selectionHandleFactory",2);A([B("rowCssClassCalculator")],bt.prototype,"rowCssClassCalculator",2);A([B("rowModel")],bt.prototype,"rowModel",2);A([B("ctrlsService")],bt.prototype,"ctrlsService",2);A([B("ctrlsFactory")],bt.prototype,"ctrlsFactory",2);A([B("agStackComponentsRegistry")],bt.prototype,"agStackComponentsRegistry",2);A([B("valueCache")],bt.prototype,"valueCache",2);A([B("rowNodeEventThrottle")],bt.prototype,"rowNodeEventThrottle",2);A([B("localeService")],bt.prototype,"localeService",2);A([B("valueParserService")],bt.prototype,"valueParserService",2);A([B("syncService")],bt.prototype,"syncService",2);A([B("ariaAnnouncementService")],bt.prototype,"ariaAnnouncementService",2);A([_e],bt.prototype,"postConstruct",1);bt=A([ze("beans")],bt);var u0e=class extends bt{constructor(e,i,r){super(),this.cellCtrl=e,this.beans=i,this.column=r}onMouseEvent(e,i){if(!Rl(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:i,rangeService:r,gridOptionsService:n}=this.beans,s=e.ctrlKey||e.metaKey;r&&s&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,I.EVENT_CELL_CLICKED);i.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(n.get("singleClickEdit")||a.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Nc()||rH("dblclick"))return!1;const e=new Date().getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i}onCellDoubleClicked(e){const i=this.column.getColDef(),r=this.cellCtrl.createEvent(e,I.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellDoubleClicked(r)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:i,metaKey:r,shiftKey:n}=e,s=e.target,{cellCtrl:o,beans:a}=this,{eventService:l,rangeService:u,focusService:c}=a;if(this.isRightClickInExistingRange(e))return;const d=u&&u.getCellRanges().length!=0;if(!n||!d){const h=Cc()&&!o.isEditing()&&!CH(s);o.focusCell(h)}if(n&&d&&!c.isCellFocused(o.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:f,rowIndex:g,rowPinned:v}=h,C=a.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:v}),S=C==null?void 0:C.getCellCtrl(f);S!=null&&S.isEditing()&&S.stopEditing(),c.setFocusedCell({column:f,rowIndex:g,rowPinned:v,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(u){const h=this.cellCtrl.getCellPosition();if(n)u.extendLatestRangeToCell(h);else{const f=i||r;u.setRangeToCell(h,f)}}l.dispatchEvent(this.cellCtrl.createEvent(e,I.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:i}=this.beans;if(i){const r=i.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return mp(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const i=this.cellCtrl.createEvent(e,I.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const i=this.cellCtrl.createEvent(e,I.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const i=this.cellCtrl.getGui(),r=i.contains(e.target),n=i.contains(e.relatedTarget);return r&&n}destroy(){}},c0e=class extends Ie{constructor(e,i,r,n,s){super(),this.cellCtrl=e,this.beans=i,this.rowNode=n,this.rowCtrl=s}setComp(e){this.eGui=e}onKeyDown(e){const i=e.key;switch(i){case ce.ENTER:this.onEnterKeyDown(e);break;case ce.F2:this.onF2KeyDown(e);break;case ce.ESCAPE:this.onEscapeKeyDown(e);break;case ce.TAB:this.onTabKeyDown(e);break;case ce.BACKSPACE:case ce.DELETE:this.onBackspaceOrDeleteKeyDown(i,e);break;case ce.DOWN:case ce.UP:case ce.RIGHT:case ce.LEFT:this.onNavigationKeyDown(e,i);break}}onNavigationKeyDown(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,i){const{cellCtrl:r,beans:n,rowNode:s}=this,{gridOptionsService:o,rangeService:a,eventService:l}=n;r.isEditing()||(l.dispatchEvent({type:I.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),eJ(e,o.get("enableCellEditingOnBackspace"))?a&&o.get("enableRangeSelection")?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):r.isCellEditable()&&s.setDataValue(r.getColumn(),null,"cellClear"):r.startRowOrCellEdit(e,i),l.dispatchEvent({type:I.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){const i=e.shiftKey?ce.UP:ce.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ce.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ce.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(n,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:i}=this.beans;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){const r=this.rowNode.isSelected(),n=!r;if(n||!i.get("suppressRowDeselection")){const s=this.beans.gridOptionsService.get("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});r===void 0&&o===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},qJ=class extends wt{constructor(e,i,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=i,this.eCell=r}postConstruct(){this.getGui().appendChild(tr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",i=>{i.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(i){const n=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});i(n)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};A([_e],qJ.prototype,"postConstruct",1);var d0e="ag-column-first",h0e="ag-column-last",eO=class{static getHeaderClassesFromColDef(e,i,r,n){return gt(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,i,r,n)}static getToolPanelClassesFromColDef(e,i,r,n){return gt(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,i,r,n)}static refreshFirstAndLastStyles(e,i,r){e.addOrRemoveCssClass(d0e,r.isColumnAtEdge(i,"first")),e.addOrRemoveCssClass(h0e,r.isColumnAtEdge(i,"last"))}static getClassParams(e,i,r,n){return i.addGridCommonParams({colDef:e,column:r,columnGroup:n})}static getColumnClassesFromCollDef(e,i,r,n,s){if(gt(e))return[];let o;if(typeof e=="function"){const a=this.getClassParams(i,r,n,s);o=e(a)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}},p0e="ag-cell",f0e="ag-cell-auto-height",g0e="ag-cell-normal-height",m0e="ag-cell-focus",v0e="ag-cell-first-right-pinned",C0e="ag-cell-last-left-pinned",y0e="ag-cell-not-inline-editing",S0e="ag-column-hover",w0e="ag-cell-wrap-text",E0e=0,XJ=class zN extends Ie{constructor(e,i,r,n){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=i,this.beans=r,this.rowCtrl=n,this.instanceId=e.getId()+"-"+E0e++,this.colIdSanitised=jr(this.column.getId()),r.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new a0e(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellPositionFeature)==null||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new l0e(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellCustomStyleFeature)==null||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new u0e(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;(i=this.cellMouseListenerFeature)==null||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new c0e(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;(i=this.cellKeyboardListenerFeature)==null||i.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new o0e(this.beans,this),this.addDestroyFunc(()=>{var i;(i=this.cellRangeFeature)==null||i.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(e,i){const r=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&De(a))return fm(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},n=this.beans.gridOptionsService.get("tooltipShowMode")==="whenTruncated";!i&&n&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:e!=null?()=>e:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new Gc(s,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,i,r,n,s){var o,a,l,u;this.cellComp=e,this.eGui=i,this.printLayout=n,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(o=this.cellPositionFeature)==null||o.setComp(i),(a=this.cellCustomStyleFeature)==null||a.setComp(e),(l=this.tooltipFeature)==null||l.refreshToolTip(),(u=this.cellKeyboardListenerFeature)==null||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const i=e.parentElement,r=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,n=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:c,borderTopWidth:d}=oh(i),h=l+u+c+d,g=e.offsetHeight+h;if(a<5){const C=this.beans.gridOptionsService.getDocument(),S=!C||!C.contains(e),y=g==0;if(S||y){window.setTimeout(()=>n(a+1),0);return}}const v=Math.max(g,r);this.rowNode.setRowAutoHeight(v,this.column)},s=()=>n(0);s();const o=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var e;return(e=this.column.getColDef().cellAriaRole)!=null?e:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted!=null?this.valueFormatted:this.value}showValue(e=!1){const i=this.getValueToDisplay();let r;if(this.isCellRenderer()){const n=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n)}this.cellComp.setRenderDetails(r,i,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}refreshShouldDestroy(){const e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||r||n}startEditing(e=null,i=!1,r=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,i,r)});return}const n=this.createCellEditorParams(e,i),s=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(s,n);this.editCompDetails=o;const a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,a,l,this.beans.gridOptionsService.get("reactiveCustomComponents"));const u=this.createEvent(r,I.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const i={newValueExists:!1};if(e)return i;const r=this.cellComp.getCellEditor();return!r||r.isCancelAfterEnd&&r.isCancelAfterEnd()?i:{newValue:r.getValue(),newValueExists:!0}}saveNewValue(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;const r=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,r}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:r}=this.takeValueFromCellEditor(e),n=this.rowNode.getValueFromValueService(this.column);let s=!1;return r&&(s=this.saveNewValue(n,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,i,!e&&!!s),s}dispatchEditingStoppedEvent(e,i,r){const n=Wi(tt({},this.createEvent(null,I.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:r});this.beans.eventService.dispatchEvent(n)}createCellEditorParams(e,i){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,r,n,s)=>this.registerRowDragger(i,r,s),setTooltip:(i,r)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,r),this.refreshToolTip()}})}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.refreshCell(this):this.refreshCell(e)}refreshCell(e){var i,r,n;if(this.suppressRefreshCell||this.editing)return;const s=this.column.getColDef(),o=e!=null&&!!e.newData,a=e!=null&&!!e.suppressFlash||!!s.suppressCellFlash,l=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,u=e&&e.forceRefresh||l||o,c=!!this.cellComp,d=this.updateAndFormatValue(c),h=u||d;if(c){if(h){this.showValue(o);const f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),(i=this.cellCustomStyleFeature)==null||i.applyUserStyles(),(r=this.cellCustomStyleFeature)==null||r.applyClassesFromColDef()}this.refreshToolTip(),(n=this.cellCustomStyleFeature)==null||n.applyCellClassRules()}}stopEditingAndFocus(e=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(i)}navigateAfterEdit(e){if(this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")){const r=e?ce.UP:ce.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}}flashCell(e){var i,r;const n=(i=e==null?void 0:e.flashDuration)!=null?i:e==null?void 0:e.flashDelay,s=(r=e==null?void 0:e.fadeDuration)!=null?r:e==null?void 0:e.fadeDelay;this.animateCell("data-changed",n,s)}animateCell(e,i,r){if(!this.cellComp)return;const n=`ag-cell-${e}`,s=`ag-cell-${e}-animation`,{gridOptionsService:o}=this.beans;i||(i=o.get("cellFlashDuration")),De(r)||(r=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(s,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.eGui.style.transition="")},r))},i)})}onFlashCells(e){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var i;return(i=this.callValueFormatter(e))!=null?i:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const i=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(e,i){const r=this.column.getColDef();return r.equals?r.equals(e,i):e===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,zN.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,zN.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,i){return this.beans.gridOptionsService.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(e)}onKeyDown(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(e)}onMouseEvent(e,i){var r;(r=this.cellMouseListenerFeature)==null||r.onMouseEvent(e,i)}getGui(){return this.eGui}refreshToolTip(){var e;(e=this.tooltipFeature)==null||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:i,beans:r}=this;eO.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);uH(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)==null?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,i=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,i)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(v0e,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(C0e,e)}onCellFocused(e){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(m0e,i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const r=this.beans.gridOptionsService.get("editType")==="fullRow";!i&&!r&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:fu(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(p0e,!0),this.cellComp.addOrRemoveCssClass(y0e,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(f0e,e),this.cellComp.addOrRemoveCssClass(g0e,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(S0e,e)}onColDefChanged(){var e;if(!this.cellComp)return;if(this.column.isAutoHeight()!==this.isAutoHeight&&((e=this.rowCtrl)==null||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{const n=this.getCellEditor();if(n!=null&&n.refresh){const{eventKey:s,cellStartedEdit:o}=this.editCompDetails.params,a=this.createCellEditorParams(s,o),l=this.column.getColDef(),u=this.beans.userComponentFactory.getCellEditorDetails(l,a);n.refresh(u.params)}}}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(w0e,e)}dispatchCellContextMenuEvent(e){const i=this.column.getColDef(),r=this.createEvent(e,I.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new Q0;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new qJ(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,i,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,i);return}const n=this.createRowDragComp(e,i,r);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,i,r){const n=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),o=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!o){ut("managed row dragging is only allowed in the Client Side Row Model");return}if(n){ut("managed row dragging is not possible when doing pagination");return}}const a=new zp(()=>this.value,this.rowNode,this.column,e,i,r);return this.beans.context.createBean(a),a}};XJ.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var yp=XJ,b0e=0,QJ=class jN extends Ie{constructor(e,i,r,n,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=e,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=n,this.printLayout=s,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=e.id+"-"+b0e++,this.rowId=jr(e.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=jr(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,i,r){const n={rowComp:e,element:i,containerType:r};this.allRowGuis.push(n),r==="left"?this.leftGui=n:r==="right"?this.rightGui=n:r==="fullWidth"?this.fullWidthGui=n:this.centerGui=n,this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==e),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0;break}}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gridOptionsService.get("keepDetailRows")}setCached(e){const i=e?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=i)}initialiseRowComp(e){const i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>r.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&vc(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),i.setDomData(e.element,jN.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(e.element,jN.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=jr(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:i}=e;this.slideInAnimation[i]&&(IN(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(IN(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.get("enableRangeSelection")){ut("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),r=new zp(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),n=this.createBean(r,this.beans.context);this.rowDragComps.push(n)}setupFullWidth(e){const i=this.getPinnedForContainer(e.containerType);if(this.rowType=="FullWidthDetail"&&!Gi.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const r=this.createFullWidthCompDetails(e.element,i);e.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,i;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(r=>{var n;return(n=r==null?void 0:r.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(i=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(e){const i=this.getCellCtrl(e);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(i)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&r}setRowType(){const e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(n);e?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,i=!1){if(this.isFullWidth())return;if(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,i,r=null){const n={list:[],map:{}},s=(o,a)=>{n.list.push(a),n.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=e.map[a];l||(l=new yp(o,this.rowNode,this.beans,this)),s(a,l)}),e.list.forEach(o=>{if(n.map[o.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(o,r)){s(o.getColumn().getInstanceId(),o);return}o.destroy()}),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(i=>{const r=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(r,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:const i=e;throw new Error(`Unhandled case: ${i}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const r=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const n=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,i){if(e.getColumn().getPinned()!=i)return!0;const o=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||a){const u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const i=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)}setAnimateFlags(e){if(this.isSticky()||!e)return;const i=De(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),n=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}getRowType(){return this.rowType}refreshFullWidth(){const e=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=e(this.fullWidthGui,null),r=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return i&&r&&n&&s}addListeners(){this.addManagedListener(this.rowNode,Wt.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Wt.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Wt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Wt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,I.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,I.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,I.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,I.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,I.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,I.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,I.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,I.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gridOptionsService.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[]}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Wt.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=e===0,n=e===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),vc(r.element,e&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:fu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const i=this.allRowGuis.find(l=>l.element.contains(e.target));if(!((i?i.element:null)===e.target))return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Rl(e))return;const i=this.allRowGuis.find(o=>o.element.contains(e.target)),r=i?i.element:null,n=r===e.target;let s=null;n||(s=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var i;const r=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&s.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,i){const r={list:[],map:{}};return e.list.forEach(n=>{n!==i&&(r.list.push(n),r.map[n.getInstanceId()]=n)}),r}onMouseEvent(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(e,i){const r=this.createRowEvent(e,i);return r.source=this,r}onRowDblClick(e){if(Rl(e))return;const i=this.createRowEventWithSource(I.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=mp(e.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(Rl(e)||this.lastMouseDownOnDragger)return;const r=this.createRowEventWithSource(I.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);const n=e.ctrlKey||e.metaKey,s=e.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const a=this.gridOptionsService.get("rowMultiSelectWithClick"),l=!this.gridOptionsService.get("suppressRowDeselection"),u="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):n?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:u});else{const c=a?!1:!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:s,event:e,source:u})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(e){if(this.rowType!=="FullWidthDetail"||!this.gridOptionsService.get("detailRowAutoHeight"))return;const i=()=>{const n=e.clientHeight;if(n!=null&&n>0){const s=()=>{this.rowNode.setRowHeight(n),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},r=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(r),i()}createFullWidthCompDetails(e,i){const r=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(n,s,o,a)=>this.addFullWidthRowDragging(n,s,o,a),setTooltip:(n,s)=>this.refreshRowTooltip(n,s)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(e,i){if(!this.fullWidthGui)return;const r={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Gc(r,this.beans))}addFullWidthRowDragging(e,i,r="",n){if(!this.isFullWidth())return;const s=new zp(()=>r,this.rowNode,void 0,e,i,n);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const i="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(i,!0),n.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),r=this.editingRow;this.stoppingRowEdit=!0;let n=!1;for(const s of i){const o=s.stopEditing(e);r&&!e&&!n&&o&&(n=!0)}if(n){const s=this.createRowEvent(I.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}r&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-editing",e));const i=e?this.createRowEvent(I.EVENT_ROW_EDITING_STARTED):this.createRowEvent(I.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(e=null,i=null,r=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((s,o)=>{const a=o===i;return a?o.startEditing(e,a,r):o.startEditing(null,a,r),s?!0:o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(i=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,i){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"?"left":e==="right"?"right":null}getInitialRowClasses(e){const i=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gridOptionsService.getCallback("getRowStyle");let r;if(i){const n={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=i(n)}return r||e?Object.assign({},e,r):this.emptyStyle}onRowSelected(e){const i=this.beans.gridOptionsService.getDocument(),r=!!this.rowNode.isSelected();this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),km(n.element,r),n.element.contains(i.activeElement)&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const r=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(r)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Wt.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Wt.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(i.top,!0)-100,n=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(r,e),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,i){e?i(e):this.allRowGuis.forEach(i)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=s?`${Math.min(r,s)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,i){super.addEventListener(e,i)}removeEventListener(e,i){super.removeEventListener(e,i)}destroyFirstPass(e=!1){if(this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent(I.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=i=>(i.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const r=this.beans.paginationProxy.getPixelOffset();return e+r*(i?1:-1)}setRowTop(e){if(!this.printLayout&&De(e)){const i=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(r);i=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let i=null;return this.getAllCellCtrls().forEach(r=>{r.getColumn()==e&&(i=r)}),i!=null||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(e)>=0&&(i=r)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const i=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),n=this.rowNode.rowIndex%2===0,s=r+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",n),o.rowComp.addOrRemoveCssClass("ag-row-odd",!n),lH(o.element,s)})}};QJ.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Sp=QJ,oo=class extends Ie{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",i=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,i)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",rH("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedListener(this.element,r,n)})}processMouseEvent(e,i){if(!this.mouseEventService.isEventFromThisGrid(i)||Rl(i))return;const r=this.getRowForEvent(i),n=this.mouseEventService.getRenderedCellForEvent(i);e==="contextmenu"?this.handleContextMenuMouseEvent(i,void 0,r,n):(n&&n.onMouseEvent(e,i),r&&r.onMouseEvent(e,i))}mockContextMenuForIPad(){if(!Nc())return;const e=new mn(this.element),i=r=>{const n=this.getRowForEvent(r.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,n,s)};this.addManagedListener(e,mn.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let i=e.target;for(;i;){const r=this.gridOptionsService.getDomData(i,Sp.DOM_DATA_KEY_ROW_CTRL);if(r)return r;i=i.parentElement}return null}handleContextMenuMouseEvent(e,i,r,n){const s=r?r.getRowNode():null,o=n?n.getColumn():null;let a=null;if(o){const c=e||i;n.dispatchCellContextMenuEvent(c??null),a=this.valueService.getValue(o,s)}const l=this.ctrlsService.getGridBodyCtrl(),u=n?n.getGui():l.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,rowNode:s,column:o,value:a,anchorToElement:u})}getControlsForEventTarget(e){return{cellCtrl:MP(this.gridOptionsService,e,yp.DOM_DATA_KEY_CELL_CTRL),rowCtrl:MP(this.gridOptionsService,e,Sp.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,i){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(i.target);i.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,i):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,i))}processCellKeyboardEvent(e,i,r){const n=e.getRowNode(),s=e.getColumn(),o=e.isEditing();if(!NP(this.gridOptionsService,r,n,s,o)&&i==="keydown"&&(!o&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),j0(r)&&e.processCharacter(r)),i==="keydown"){const l=e.createEvent(r,I.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}}processFullWidthRowKeyboardEvent(e,i,r){const n=e.getRowNode(),s=this.focusService.getFocusedCell(),o=s&&s.column;if(!NP(this.gridOptionsService,r,n,o,!1)){const l=r.key;if(i==="keydown")switch(l){case ce.PAGE_HOME:case ce.PAGE_END:case ce.PAGE_UP:case ce.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case ce.UP:case ce.DOWN:e.onKeyboardNavigate(r);break;case ce.TAB:e.onTabKeyDown(r);break}}if(i==="keydown"){const l=e.createRowEvent(I.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(l)}}doGridOperations(e,i){if(!e.ctrlKey&&!e.metaKey||i||!this.mouseEventService.isEventFromThisGrid(e))return;const r=JZ(e);if(r===ce.A)return this.onCtrlAndA(e);if(r===ce.C)return this.onCtrlAndC(e);if(r===ce.D)return this.onCtrlAndD(e);if(r===ce.V)return this.onCtrlAndV(e);if(r===ce.X)return this.onCtrlAndX(e);if(r===ce.Y)return this.onCtrlAndY();if(r===ce.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:i,paginationProxy:r,rangeService:n}=this;if(n&&r.isRowsToRender()){const[s,o]=[i.isEmpty("top"),i.isEmpty("bottom")],a=s?null:"top";let l,u;o?(l=null,u=this.paginationProxy.getRowCount()-1):(l="bottom",u=i.getPinnedBottomRowData().length-1);const c=this.columnModel.getAllDisplayedColumns();if(Do(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l,columnStart:c[0],columnEnd:qt(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);i!=null&&i.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);i!=null&&i.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);i!=null&&i.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};A([B("mouseEventService")],oo.prototype,"mouseEventService",2);A([B("valueService")],oo.prototype,"valueService",2);A([B("menuService")],oo.prototype,"menuService",2);A([B("ctrlsService")],oo.prototype,"ctrlsService",2);A([B("navigationService")],oo.prototype,"navigationService",2);A([B("focusService")],oo.prototype,"focusService",2);A([B("undoRedoService")],oo.prototype,"undoRedoService",2);A([B("columnModel")],oo.prototype,"columnModel",2);A([B("paginationProxy")],oo.prototype,"paginationProxy",2);A([B("pinnedRowModel")],oo.prototype,"pinnedRowModel",2);A([ai("rangeService")],oo.prototype,"rangeService",2);A([ai("clipboardService")],oo.prototype,"clipboardService",2);A([_e],oo.prototype,"postConstruct",1);var $v=class extends Ie{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,I.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),i=Ef(e);if(i<=50)return;let r=this.getPinnedColumnsOverflowingViewport(i-50);const n=this.gridOptionsService.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:i})),this.columnModel.setColumnsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const i=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),n=i+r;if(n<e)return[];const s=[...this.columnModel.getDisplayedLeftColumns()],o=[...this.columnModel.getDisplayedRightColumns()];let a=0,l=0,u=0;const c=[];let d=n-u-e;for(;(l<s.length||a<o.length)&&d>0;){if(a<o.length){const h=o[a++];d-=h.getActualWidth(),c.push(h)}if(l<s.length&&d>0){const h=s[l++];d-=h.getActualWidth(),c.push(h)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),i=ib(e);if(this.bodyHeight!==i){this.bodyHeight=i;const r={type:I.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,i)}};A([B("ctrlsService")],$v.prototype,"ctrlsService",2);A([B("pinnedWidthService")],$v.prototype,"pinnedWidthService",2);A([B("columnModel")],$v.prototype,"columnModel",2);A([B("scrollVisibleService")],$v.prototype,"scrollVisibleService",2);A([_e],$v.prototype,"postConstruct",1);var $H=class extends Ie{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),i=e>0;kt(this.element,i),xa(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};A([B("pinnedWidthService")],$H.prototype,"pinnedWidthService",2);A([_e],$H.prototype,"postConstruct",1);var BH=class extends Ie{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),i=e>0;kt(this.element,i),xa(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};A([B("pinnedWidthService")],BH.prototype,"pinnedWidthService",2);A([_e],BH.prototype,"postConstruct",1);var tO=class extends Ie{constructor(e,i){super(),this.eContainer=e,this.eViewport=i}postConstruct(){this.addManagedListener(this.eventService,I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),i=e!=null?`${e}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}};A([B("rowContainerHeightService")],tO.prototype,"maxDivHeightScaler",2);A([_e],tO.prototype,"postConstruct",1);var iO=class extends Ie{constructor(e){super(),this.eContainer=e}postConstruct(){if(gt(this.rangeService))return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",i=>{if(i.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};A([ai("rangeService")],iO.prototype,"rangeService",2);A([B("dragService")],iO.prototype,"dragService",2);A([_e],iO.prototype,"postConstruct",1);var Bv=class extends Ie{constructor(e,i=!1){super(),this.callback=e,this.addSpacer=i}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,I.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,i=this.gridOptionsService.isDomLayout("print"),r=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();let o;i?o=r+n+s:(o=r,this.addSpacer&&(this.gridOptionsService.get("enableRtl")?n:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.gridOptionsService.getScrollbarWidth())),this.callback(o)}};A([B("columnModel")],Bv.prototype,"columnModel",2);A([B("scrollVisibleService")],Bv.prototype,"scrollVisibleService",2);A([_e],Bv.prototype,"postConstruct",1);function R0e(t){switch(t){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var T0e=Sd([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),D0e=Sd([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),Pf=class ZJ extends Ie{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name==="topFullWidth"||this.name==="stickyTopFullWidth"||this.name==="bottomFullWidth"||this.name==="fullWidth"}static getRowContainerCssClasses(e){const i=T0e.get(e),r=D0e.get(e);return{container:i,viewport:r}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new $v(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(e,i){e.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,i,r){this.comp=e,this.eContainer=i,this.eViewport=r,this.createManagedBean(new oo(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const n=["topCenter","topLeft","topRight"],s=["stickyTopCenter","stickyTopLeft","stickyTopRight"],o=["bottomCenter","bottomLeft","bottomRight"],a=["center","left","right"],l=[...n,...o,...a,...s],u=["center","left","right","fullWidth"],c=["center","topCenter","stickyTopCenter","bottomCenter"],d=["left","bottomLeft","topLeft","stickyTopLeft"],h=["right","bottomRight","topRight","stickyTopRight"];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new $H(this.eContainer)),this.addManagedListener(this.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(h,()=>{this.pinnedWidthFeature=this.createManagedBean(new BH(this.eContainer)),this.addManagedListener(this.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new tO(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(l,()=>this.createManagedBean(new iO(this.eContainer))),this.forContainers(c,()=>this.createManagedBean(new Bv(f=>this.comp.setContainerWidth(`${f}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const r=()=>{const n=this.gridOptionsService.get("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(n||s)};this.addManagedPropertyListener("domLayout",r),r()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{const e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const i=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,r,e)}getCenterWidth(){return Ef(this.eViewport)}getCenterViewportScrollLeft(){return ZS(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return wH(this.eViewport)}getViewportScrollLeft(){return ZS(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||WZ(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){JS(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!ZJ.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){if(!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=this.gridOptionsService.isDomLayout("print"),n=this.gridOptionsService.get("embedFullWidthRows")||i,s=this.getRowCtrls().filter(o=>{const a=o.isFullWidth();return this.isFullWithContainer?!n&&a:n||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};A([B("dragService")],Pf.prototype,"dragService",2);A([B("ctrlsService")],Pf.prototype,"ctrlsService",2);A([B("columnModel")],Pf.prototype,"columnModel",2);A([B("resizeObserverService")],Pf.prototype,"resizeObserverService",2);A([B("rowRenderer")],Pf.prototype,"rowRenderer",2);A([_e],Pf.prototype,"postConstruct",1);var JJ=Pf,P0e=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Hc=class extends wt{constructor(){super(P0e)}init(){const e=(r,n)=>{const s=`${r}px`;n.style.minHeight=s,n.style.height=s},i={setRowAnimationCssOnBodyViewport:(r,n)=>this.setRowAnimationCssOnBodyViewport(r,n),setColumnCount:r=>DZ(this.getGui(),r),setRowCount:r=>TZ(this.getGui(),r),setTopHeight:r=>e(r,this.eTop),setBottomHeight:r=>e(r,this.eBottom),setTopDisplay:r=>this.eTop.style.display=r,setBottomDisplay:r=>this.eBottom.style.display=r,setStickyTopHeight:r=>this.eStickyTop.style.height=r,setStickyTopTop:r=>this.eStickyTop.style.top=r,setStickyTopWidth:r=>this.eStickyTop.style.width=r,setColumnMovingCss:(r,n)=>this.addOrRemoveCssClass(r,n),updateLayoutClasses:(r,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(o=>{o.toggle("ag-layout-auto-height",n.autoHeight),o.toggle("ag-layout-normal",n.normal),o.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(r,n)=>this.eBodyViewport.classList.toggle(YJ,n),registerBodyViewportResizeListener:r=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,r);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:r=>this.eTop.style.overflowY=this.eBottom.style.overflowY=r,setCellSelectableCss:(r,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(s=>s.classList.toggle(r,n))},setBodyViewportWidth:r=>this.eBodyViewport.style.width=r};this.ctrl=this.createManagedBean(new Ps),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&RZ(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,i){const r=this.eBodyViewport.classList;r.toggle("ag-row-animation",i),r.toggle("ag-row-no-animation",!i)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};A([B("resizeObserverService")],Hc.prototype,"resizeObserverService",2);A([ai("rangeService")],Hc.prototype,"rangeService",2);A([Ge("eBodyViewport")],Hc.prototype,"eBodyViewport",2);A([Ge("eStickyTop")],Hc.prototype,"eStickyTop",2);A([Ge("eTop")],Hc.prototype,"eTop",2);A([Ge("eBottom")],Hc.prototype,"eBottom",2);A([Ge("gridHeader")],Hc.prototype,"headerRootComp",2);A([Ge("eBody")],Hc.prototype,"eBody",2);A([_e],Hc.prototype,"init",1);var tw=class extends Ie{postConstruct(){this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e||this.columnAnimationService.isActive())return;const i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const r={type:I.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};A([B("ctrlsService")],tw.prototype,"ctrlsService",2);A([B("columnAnimationService")],tw.prototype,"columnAnimationService",2);A([_e],tw.prototype,"postConstruct",1);tw=A([ze("scrollVisibleService")],tw);var Vd=class extends Ie{constructor(){super(...arguments),this.gridInstanceId=Vd.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[Vd.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return MP(this.gridOptionsService,e.target,yp.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let i=e;for(;i;){const r=i[Vd.GRID_DOM_KEY];if(De(r))return r===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(e){const i=this.getRenderedCellForEvent(e);return i?i.getCellPosition():null}getNormalisedPosition(e){const i=this.gridOptionsService.isDomLayout("normal"),r=e;let n,s;if(r.clientX!=null||r.clientY!=null?(n=r.clientX,s=r.clientY):(n=r.x,s=r.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();n+=l.left,s+=a.top}return{x:n,y:s}}};Vd.gridInstanceSequence=new AH;Vd.GRID_DOM_KEY="__ag_grid_instance";A([B("ctrlsService")],Vd.prototype,"ctrlsService",2);Vd=A([ze("mouseEventService")],Vd);var ws=class extends Ie{constructor(){super(),this.onPageDown=LN(this.onPageDown,100),this.onPageUp=LN(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,i=!1){const r=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e);let l=!1;switch(r){case ce.PAGE_HOME:case ce.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(r),l=!0);break;case ce.LEFT:case ce.RIGHT:case ce.UP:case ce.DOWN:if(!a)return!1;s&&!n&&!o&&(this.onCtrlUpDownLeftRight(r,a),l=!0);break;case ce.PAGE_DOWN:case ce.PAGE_UP:!s&&!n&&(l=this.handlePageUpDown(r,a,i));break}return l&&e.preventDefault(),l}handlePageUpDown(e,i,r){return r&&(i=this.focusService.getFocusedCell()),i?(e===ce.PAGE_UP?this.onPageUp(i):this.onPageDown(i),!0):!1}navigateTo(e){const{scrollIndex:i,scrollType:r,scrollColumn:n,focusIndex:s,focusColumn:o}=e;if(De(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),De(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:s,rowPinned:null,column:o};this.rangeService.setRangeToCell(a)}}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),o=r.top+n,a=this.paginationProxy.getRowIndexAtPixel(o+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),s=r.top,o=this.paginationProxy.getRowIndexAtPixel(s+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,i,r=!1){const n=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),o=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),u=r?(l==null?void 0:l.rowHeight)-n-a:n-a,c=(l==null?void 0:l.rowTop)+u;let d=this.paginationProxy.getRowIndexAtPixel(c+a);if(d===e.rowIndex){const f=r?-1:1;i=d=e.rowIndex+f}let h;r?(h="bottom",d<s&&(d=s),i<s&&(i=s)):(h="top",d>o&&(d=o),i>o&&(i=o)),this.isRowTallerThanView(d)&&(i=d,h="top"),this.navigateTo({scrollIndex:i,scrollType:h,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,i,r=!1){this.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,i=!1){var r;const n=i?-1:1,s=this.getViewportHeight(),o=this.paginationProxy.getPageLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const u=this.paginationProxy.getRow(l);if(u){const c=(r=u.rowHeight)!=null?r:0;if(a+c>s)break;a+=c}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth();let n=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=r),n}isRowTallerThanView(e){const i=this.paginationProxy.getRow(e);if(!i)return!1;const r=i.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,i){const r=this.cellNavigationService.getNextCellToFocus(e,i,!0),{rowIndex:n,column:s}=r;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const i=e===ce.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),n=i?r[0]:qt(r),s=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onTabKeyDown(e,i){const r=i.shiftKey;if(this.tabToNextCellCommon(e,r,i)){i.preventDefault();return}if(r){const{rowIndex:s,rowPinned:o}=e.getRowPosition();(o?s===0:s===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(i.preventDefault(),this.focusService.focusPreviousFromFirstCell(i)))}else e instanceof yp&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&i.preventDefault()}tabToNextCell(e,i){const r=this.focusService.getFocusedCell();if(!r)return!1;let n=this.getCellByPosition(r);return!n&&(n=this.rowRenderer.getRowByPosition(r),!n||!n.isFullWidth())?!1:this.tabToNextCellCommon(n,e,i)}tabToNextCellCommon(e,i,r){let n=e.isEditing();if(!n&&e instanceof yp){const a=e.getRowCtrl();a&&(n=a.isEditing())}let s;return n?this.gridOptionsService.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,i,r):s=this.moveToNextEditingCell(e,i,r):s=this.moveToNextCellNotEditing(e,i),s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,i,r=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,i,!0);return s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)}moveToNextEditingRow(e,i,r=null){const n=e.getCellPosition(),s=this.findNextCellToFocusOn(n,i,!0);if(s==null)return!1;const o=s.getCellPosition(),a=this.isCellEditable(n),l=this.isCellEditable(o),u=o&&n.rowIndex===o.rowIndex&&n.rowPinned===o.rowPinned;return a&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,r)),l?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,i){const r=this.columnModel.getAllDisplayedColumns();let n;e instanceof Sp?n=Wi(tt({},e.getRowPosition()),{column:i?r[0]:qt(r)}):n=e.getCellPosition();const s=this.findNextCellToFocusOn(n,i,!1);if(s instanceof yp)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),i);return De(s)}findNextCellToFocusOn(e,i,r){let n=e;for(;;){e!==n&&(e=n),i||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,i);const s=this.gridOptionsService.getCallback("tabToNextCell");if(De(s)){const u=s({backwards:i,editing:r,previousCellPosition:e,nextCellPosition:n||null});De(u)?(u.floating&&(ut("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),n={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gridOptionsService.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||r)continue;return l}if(!a.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),a}}isCellEditable(e){const i=this.lookupRowNodeForCell(e);return i?e.column.isCellEditable(i):!1}getCellByPosition(e){const i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,i,r,n){let s=r,o=!1;for(;s&&(s===r||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?i===ce.LEFT&&(s=this.getLastCellOfColSpan(s)):i===ce.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(i,s),o=gt(s);if(o&&e&&e.key===ce.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),n){const l=this.gridOptionsService.getCallback("navigateToNextCell");if(De(l)){const c=l({key:i,previousCellPosition:r,nextCellPosition:s||null,event:e});De(c)?(c.floating&&(ut("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(!s)return;if(s.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+s.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const a=this.getNormalisedPosition(s);a?this.focusPosition(a):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){this.ensureCellVisible(e);const i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,i=!1){const r=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?qt(r):r[0])};this.focusPosition(o);const a=s!=null?this.rowPositionUtils.before(o,s):!1,l={type:I.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,floating:o.rowPinned,fromBelow:a};return this.eventService.dispatchEvent(l),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const i=this.getCellByPosition(e);if(!i)return e;const r=i.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:qt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const i=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(e.rowIndex);!(i&&(r==null?void 0:r.sticky))&&gt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};A([B("mouseEventService")],ws.prototype,"mouseEventService",2);A([B("paginationProxy")],ws.prototype,"paginationProxy",2);A([B("focusService")],ws.prototype,"focusService",2);A([ai("rangeService")],ws.prototype,"rangeService",2);A([B("columnModel")],ws.prototype,"columnModel",2);A([B("rowModel")],ws.prototype,"rowModel",2);A([B("ctrlsService")],ws.prototype,"ctrlsService",2);A([B("rowRenderer")],ws.prototype,"rowRenderer",2);A([B("headerNavigationService")],ws.prototype,"headerNavigationService",2);A([B("rowPositionUtils")],ws.prototype,"rowPositionUtils",2);A([B("cellNavigationService")],ws.prototype,"cellNavigationService",2);A([B("pinnedRowModel")],ws.prototype,"pinnedRowModel",2);A([_e],ws.prototype,"postConstruct",1);ws=A([ze("navigationService")],ws);var WH=class eee extends Rf{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),eee.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),i=this.params,r=n=>{NP(this.gridOptionsService,n,i.node,i.column,!0)||i.onKeyDown(n)};this.addManagedListener(e,"keydown",r)}};WH.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";A([_e],WH.prototype,"postConstruct",1);var x0e=WH,A0e=class extends wt{constructor(e,i,r,n,s){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=i.getColumn(),this.rowNode=i.getRowNode(),this.rowCtrl=i.getRowCtrl(),this.eRow=n,this.cellCtrl=i;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);const a=this.getGui();this.forceWrapper=i.isForceWrapper(),this.refreshWrapper(!1);const l=(d,h)=>{h!=null&&h!=""?a.setAttribute(d,h):a.removeAttribute(d)};dr(a,i.getCellAriaRole()),l("col-id",i.getColumnIdSanitised());const u=i.getTabIndex();u!==void 0&&l("tabindex",u.toString());const c={addOrRemoveCssClass:(d,h)=>this.addOrRemoveCssClass(d,h),setUserStyles:d=>RH(a,d),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:d=>this.includeSelection=d,setIncludeRowDrag:d=>this.includeRowDrag=d,setIncludeDndSource:d=>this.includeDndSource=d,setRenderDetails:(d,h,f)=>this.setRenderDetails(d,h,f),setEditDetails:(d,h,f)=>this.setEditDetails(d,h,f),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};i.setComp(c,this.getGui(),this.eCellWrapper,r,s)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,i,r){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(r||s)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}setEditDetails(e,i,r){e?this.createCellEditorInstance(e,i,r):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const i=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=i||this.forceWrapper,n=r&&this.eCellWrapper==null;if(n){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const s=!r&&this.eCellWrapper!=null;s&&(vl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);const o=!e&&r,a=o&&this.eCellValue==null;if(a){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const l=!o&&this.eCellValue!=null;l&&(vl(this.eCellValue),this.eCellValue=void 0);const u=n||s||a||l;return u&&this.removeControls(),e||i&&this.addControls(),u}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,i,r){const n=this.editorVersion,s=e.newAgStackInstance();if(!s)return;const{params:o}=e;s.then(l=>this.afterCellEditorCreated(n,l,o,i,r)),gt(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const i=this.getParentOfValue();Ir(i);const r=e!=null?jr(e,!0):null;r!=null&&(i.textContent=r)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),vl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),vl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const i=this.cellRenderer.refresh(e.params);return i===!0||i===void 0}createCellRendererInstance(e){const r=!this.beans.gridOptionsService.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:s}=e,o=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const l=e.newAgStackInstance(),u=this.afterCellRendererCreated.bind(this,n,s);l&&l.then(u)};r&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,i,r){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const s=this.getParentOfValue();Ir(s),s.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,i,r,n,s){if(e!==this.editorVersion){this.beans.context.destroyBean(i);return}if(i.isCancelBeforeStart&&i.isCancelBeforeStart()){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing(!0);return}if(!i.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();const l=n||i.isPopup!==void 0&&i.isPopup();l?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,l),i.afterGuiAttached&&i.afterGuiAttached()}refreshEditStyles(e,i){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),(r=this.rowCtrl)==null||r.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,i){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const r=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new x0e(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const s=this.beans.popupService,o=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),a=i??(r.getPopupPosition?r.getPopupPosition():"over"),l=this.beans.gridOptionsService.get("enableRtl"),u={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=s.positionPopupByComponent.bind(s,u),d=this.beans.localeService.getLocaleTextFunc(),h=s.addPopup({modal:o,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&fH()&&e.focus({preventScroll:!0}),Ir(this.getParentOfValue())}},O0e=class extends wt{constructor(e,i,r){super(),this.cellComps={},this.beans=i,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(r)),this.setTemplateFromElement(n);const s=this.getGui(),o=s.style;this.domOrder=this.rowCtrl.getDomOrder(),dr(s,"row");const a=this.rowCtrl.getTabIndex();a!=null&&s.setAttribute("tabindex",a.toString());const l={setDomOrder:u=>this.domOrder=u,setCellCtrls:u=>this.setCellCtrls(u),showFullWidth:u=>this.showFullWidth(u),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(u,c)=>this.addOrRemoveCssClass(u,c),setUserStyles:u=>RH(s,u),setTop:u=>o.top=u,setTransform:u=>o.transform=u,setRowIndex:u=>s.setAttribute("row-index",u),setRowId:u=>s.setAttribute("row-id",u),setRowBusinessKey:u=>s.setAttribute("row-business-key",u),refreshFullWidth:u=>this.refreshFullWidth(u)};e.setComp(l,this.getGui(),r),this.addDestroyFunc(()=>{e.unsetComp(r)})}getInitialStyle(e){const i=this.rowCtrl.getInitialTransform(e);return i?`transform: ${i}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=n=>{if(this.isAlive()){const s=n.getGui();this.getGui().appendChild(s),this.rowCtrl.setupDetailRowAutoHeight(s),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},r=e.newAgStackInstance();r&&r.then(i)}setCellCtrls(e){const i=Object.assign({},this.cellComps);e.forEach(n=>{const s=n.getInstanceId();this.cellComps[s]==null?this.newCellComp(n):i[s]=null});const r=zd(i).filter(n=>n!=null);this.destroyCells(r),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const i=[];e.forEach(r=>{const n=this.cellComps[r.getInstanceId()];n&&i.push(n.getGui())}),bH(this.getGui(),i)}newCellComp(e){const i=new A0e(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=zd(this.cellComps).filter(i=>i!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(i=>{if(!i)return;const r=i.getCtrl().getInstanceId();this.cellComps[r]===i&&(i.detach(),i.destroy(),this.cellComps[r]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:i}=this;if(!i||!i.refresh)return!1;const r=e();return i.refresh(r)}};function M0e(){const t=wt.elementGettingCreated.getAttribute("name"),e=JJ.getRowContainerCssClasses(t);let i;return t==="center"||t==="topCenter"||t==="stickyTopCenter"||t==="bottomCenter"?i=`<div class="${e.viewport}" ref="eViewport" role="presentation">
                <div class="${e.container}" ref="eContainer"></div>
            </div>`:i=`<div class="${e.container}" ref="eContainer"></div>`,i}var hb=class extends wt{constructor(){super(M0e()),this.rowComps={},this.name=wt.elementGettingCreated.getAttribute("name"),this.type=R0e(this.name)}postConstruct(){const e={setViewportHeight:r=>this.eViewport.style.height=r,setRowCtrls:({rowCtrls:r})=>this.setRowCtrls(r),setDomOrder:r=>{this.domOrder=r},setContainerWidth:r=>this.eContainer.style.width=r};this.createManagedBean(new JJ(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const i=tt({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const r=n=>{const s=n.getInstanceId(),o=i[s];if(o)this.rowComps[s]=o,delete i[s],this.ensureDomOrder(o.getGui());else{if(!n.getRowNode().displayed)return;const a=new O0e(n,this.beans,this.type);this.rowComps[s]=a,this.appendRow(a.getGui())}};e.forEach(r),zd(i).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),dr(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?BZ(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(EH(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};A([B("beans")],hb.prototype,"beans",2);A([Ge("eViewport")],hb.prototype,"eViewport",2);A([Ge("eContainer")],hb.prototype,"eContainer",2);A([_e],hb.prototype,"postConstruct",1);A([ja],hb.prototype,"preDestroy",1);var UH=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const i=e.dragItem.columns;i&&i.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Dt.ICON_PINNED:Dt.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};A([B("columnModel")],UH.prototype,"columnModel",2);A([B("gridOptionsService")],UH.prototype,"gridOptionsService",2);var wp=class{static attemptMoveColumns(e){const{isFromHeader:i,hDirection:r,xPosition:n,fromEnter:s,fakeEvent:o,pinned:a,gridOptionsService:l,columnModel:u}=e,c=r===0,d=r===1;let{allMovingColumns:h}=e;if(i){let b=[];h.forEach(D=>{var P;let O=null,N=D.getParent();for(;N!=null&&N.getDisplayedLeafColumns().length===1;)O=N,N=N.getParent();O!=null?(!!((P=O.getColGroupDef())!=null&&P.marryChildren)?O.getProvidedColumnGroup().getLeafColumns():O.getLeafColumns()).forEach(k=>{b.includes(k)||b.push(k)}):b.includes(D)||b.push(D)}),h=b}const f=h.slice();u.sortColumnsLikeGridColumns(f);const g=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:n,pinned:a,gridOptionsService:l,columnModel:u}),v=this.calculateOldIndex(f,u);if(g.length===0)return;const C=g[0];let S=v!==null&&!s;if(i&&(S=v!==null),S&&!o&&(c&&C>=v||d&&C<=v))return;const y=u.getAllDisplayedColumns();let w=[],E=null;for(let b=0;b<g.length;b++){const D=g[b],P=u.getProposedColumnOrder(f,D);if(!u.doesOrderPassRules(P))continue;const O=P.filter(_=>y.includes(_));if(E===null)E=O;else if(!lu(O,E))break;const N=this.groupFragCount(P);w.push({move:D,fragCount:N})}if(w.length!==0)return w.sort((b,D)=>b.fragCount-D.fragCount),this.moveColumns(h,w[0].move,"uiColumnMoved",!1,u)}static moveColumns(e,i,r,n,s){return s.moveColumns(e,i,r,n),n?null:{columns:e,toIndex:i}}static calculateOldIndex(e,i){const r=i.getAllGridColumns(),n=eZ(e.map(u=>r.indexOf(u))),s=n[0];return qt(n)-s!==n.length-1?null:s}static groupFragCount(e){function i(n){let s=[],o=n.getOriginalParent();for(;o!=null;)s.push(o),o=o.getOriginalParent();return s}let r=0;for(let n=0;n<e.length-1;n++){let s=i(e[n]),o=i(e[n+1]);[s,o]=s.length>o.length?[s,o]:[o,s],s.forEach(a=>{o.indexOf(a)===-1&&r++})}return r}static calculateValidMoves(e){const{movingCols:i,draggingRight:r,xPosition:n,pinned:s,gridOptionsService:o,columnModel:a}=e;if(o.get("suppressMovableColumns")||i.some(w=>w.getColDef().suppressMovable))return[];const u=a.getDisplayedColumns(s),c=a.getAllGridColumns(),d=u.filter(w=>Pa(i,w)),h=u.filter(w=>!Pa(i,w)),f=c.filter(w=>!Pa(i,w));let g=0,v=n;if(r){let w=0;d.forEach(E=>w+=E.getActualWidth()),v-=w}if(v>0){for(let w=0;w<h.length;w++){const E=h[w];if(v-=E.getActualWidth(),v<0)break;g++}r&&g++}let C;if(g>0){const w=h[g-1];C=f.indexOf(w)+1}else C=f.indexOf(h[0]),C===-1&&(C=0);const S=[C],y=(w,E)=>w-E;if(r){let w=C+1;const E=c.length-1;for(;w<=E;)S.push(w),w++;S.sort(y)}else{let w=C;const E=c.length-1;let b=c[w];for(;w<=E&&u.indexOf(b)<0;)w++,S.push(w),b=c[w];w=C-1;const D=0;for(;w>=D;)S.push(w),w--;S.sort(y).reverse()}return S}static normaliseX(e,i,r,n,s){const o=s.getHeaderRowContainerCtrl(i).getViewport();return r&&(e-=o.getBoundingClientRect().left),n.get("enableRtl")&&(e=o.clientWidth-e),i==null&&(e+=s.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}},Wv=class{constructor(e,i){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=i,this.centerContainer=!De(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Dt.ICON_PINNED:Dt.ICON_MOVE}onDragEnter(e){const i=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,s=(i||[]).filter(o=>n[o.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.setColumnsPinned(i,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,i,r){if(e){const n=e.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColumnsVisible(n,i,r)}}setColumnsPinned(e,i,r){if(e){const n=e.filter(s=>!s.getColDef().lockPinned);this.columnModel.setColumnsPinned(n,i,r)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.centerContainer){const i=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=i+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>r-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,i=!1,r=!1,n=!1){var s;if(n){if(this.lastMovedInfo){const{columns:d,toIndex:h}=this.lastMovedInfo;wp.moveColumns(d,h,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,gt(e.hDirection))return;const o=wp.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);i||this.checkCenterForScrolling(o);const a=this.normaliseDirection(e.hDirection),l=e.dragSource.type,u=((s=e.dragSource.getDragItem().columns)==null?void 0:s.filter(d=>d.getColDef().lockPinned?d.getPinned()==this.pinned:!0))||[],c=wp.attemptMoveColumns({allMovingColumns:u,isFromHeader:l===1,hDirection:a,xPosition:o,pinned:this.pinned,fromEnter:i,fakeEvent:r,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});c&&(this.lastMovedInfo=c)}normaliseDirection(e){if(this.gridOptionsService.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Dt.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Dt.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Dt.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let i=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?i=r.scrollHorizontally(-e):this.needToMoveRight&&(i=r.scrollHorizontally(e)),i!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const s=this.lastDraggingEvent.dragItem.columns.filter(o=>!o.getColDef().lockPinned);if(s.length>0&&(this.dragAndDropService.setGhostIcon(Dt.ICON_PINNED),this.failedMoveAttempts>7)){const o=this.needToMoveLeft?"left":"right";this.setColumnsPinned(s,o,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};A([B("columnModel")],Wv.prototype,"columnModel",2);A([B("dragAndDropService")],Wv.prototype,"dragAndDropService",2);A([B("gridOptionsService")],Wv.prototype,"gridOptionsService",2);A([B("ctrlsService")],Wv.prototype,"ctrlsService",2);A([_e],Wv.prototype,"init",1);var Uv=class extends Ie{constructor(e,i){super(),this.pinned=e,this.eContainer=i}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(e){return e===1||e===0&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new Wv(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new UH(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};A([B("dragAndDropService")],Uv.prototype,"dragAndDropService",2);A([B("columnModel")],Uv.prototype,"columnModel",2);A([B("ctrlsService")],Uv.prototype,"ctrlsService",2);A([_e],Uv.prototype,"postConstruct",1);A([_e],Uv.prototype,"init",1);var zv=class tee extends HH{constructor(e){super(tee.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((s,o)=>{o!=null&&o!=""?e.setAttribute(s,o):e.removeAttribute(s)})("col-id",this.column.getColId());const r={setWidth:s=>e.style.width=s,addOrRemoveCssClass:(s,o)=>this.addOrRemoveCssClass(s,o),setAriaSort:s=>s?xZ(e,s):AZ(e),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(r,this.getGui(),this.eResize,this.eHeaderCompWrapper);const n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const i=this.headerCompVersion;e.newAgStackInstance().then(r=>this.afterCompCreated(i,r))}afterCompCreated(e,i){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};zv.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;A([Ge("eResize")],zv.prototype,"eResize",2);A([Ge("eHeaderCompWrapper")],zv.prototype,"eHeaderCompWrapper",2);A([_e],zv.prototype,"postConstruct",1);A([ja],zv.prototype,"destroyHeaderComp",1);var F0e=zv,rO=class iee extends HH{constructor(e){super(iee.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i=(n,s)=>s!=null?e.setAttribute(n,s):e.removeAttribute(n);e.setAttribute("col-id",this.ctrl.getColId());const r={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setResizableDisplayed:n=>kt(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>i("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(r,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(e){const i=()=>this.destroyBean(e);if(!this.isAlive()){i();return}const r=this.getGui(),n=e.getGui();r.appendChild(n),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(r)}};rO.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;A([Ge("eResize")],rO.prototype,"eResize",2);A([_e],rO.prototype,"postConstruct",1);var I0e=rO,zH=class extends wt{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){lH(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:i=>this.getGui().style.height=i,setTop:i=>this.getGui().style.top=i,setHeaderCtrls:(i,r)=>this.setHeaderCtrls(i,r),setWidth:i=>this.getGui().style.width=i};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,i){if(!this.isAlive())return;const r=this.headerComps;if(this.headerComps={},e.forEach(n=>{const s=n.getInstanceId();let o=r[s];delete r[s],o==null&&(o=this.createHeaderComp(n),this.getGui().appendChild(o.getGui())),this.headerComps[s]=o}),Ao(r,(n,s)=>{this.getGui().removeChild(s.getGui()),this.destroyBean(s)}),i){const n=zd(this.headerComps);n.sort((o,a)=>{const l=o.getCtrl().getColumnGroupChild().getLeft(),u=a.getCtrl().getColumnGroupChild().getLeft();return l-u});const s=n.map(o=>o.getGui());bH(this.getGui(),s)}}createHeaderComp(e){let i;switch(this.ctrl.getType()){case"group":i=new I0e(e);break;case"filter":i=new qAe(e);break;default:i=new F0e(e);break}return this.createBean(i),i.setParentComponent(this),i}};A([_e],zH.prototype,"init",1);A([ja],zH.prototype,"destroyHeaderCtrls",1);var L0e=0,$c=class ree extends Ie{constructor(e,i,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=r,this.beans=i,this.instanceId=e.getUniqueId()+"-"+L0e++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(e){const{headerRowIndex:i,column:r}=this.focusService.getFocusedHeader();return ZZ(this.gridOptionsService,e,i,r)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:i,beans:r}=this;eO.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const{beans:e,column:i}=this,r=e.columnModel.getAriaColumnIndex(i);uH(this.eGui,r)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var i;const n=this.gridOptionsService.getDocument().activeElement,s=e.key===ce.LEFT||e.key===ce.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),n!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const o=e.key===ce.LEFT!==this.gridOptionsService.get("enableRtl"),a=MJ[o?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const l=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(l,e.shiftKey),(i=this.resizeFeature)==null||i.toggleColumnResizing(!0)}else this.moveHeader(a)}getViewportAdjustedResizeDiff(e){let i=this.getResizeDiff(e);if(this.column.getPinned()){const n=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=Ef(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(n+s+i>o)if(o>n+s)i=o-n-s;else return 0}return i}getResizeDiff(e){let i=e.key===ce.LEFT!==this.gridOptionsService.get("enableRtl");const r=this.column.getPinned(),n=this.gridOptionsService.get("enableRtl");return r&&n!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const i=this.getWrapperHasFocus();switch(e.key){case ce.PAGE_DOWN:case ce.PAGE_UP:case ce.PAGE_HOME:case ce.PAGE_END:i&&e.preventDefault()}}addDomData(){const e=ree.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,i,r){const n=e??i;this.gridOptionsService.get("preventDefaultOnContextMenu")&&n.preventDefault();const s=r instanceof vi?r:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,e,i),this.dispatchColumnMouseEvent(I.EVENT_COLUMN_HEADER_CONTEXT_MENU,r)}dispatchColumnMouseEvent(e,i){const r={type:e,column:i};this.eventService.dispatchEvent(r)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};$c.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";A([B("pinnedWidthService")],$c.prototype,"pinnedWidthService",2);A([B("focusService")],$c.prototype,"focusService",2);A([B("userComponentFactory")],$c.prototype,"userComponentFactory",2);A([B("ctrlsService")],$c.prototype,"ctrlsService",2);A([B("dragAndDropService")],$c.prototype,"dragAndDropService",2);A([B("menuService")],$c.prototype,"menuService",2);A([_e],$c.prototype,"postConstruct",1);var nO=$c,sO=class extends Ie{constructor(e,i,r,n){super(),this.columnOrGroup=e,this.eCell=i,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?qt(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,vi.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),i=De(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),i=e.getLeft(),r=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,r),s=this.modifyLeftForPrintLayout(e,i);this.setLeft(n),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,i){if(!this.beans.gridOptionsService.isDomLayout("print")||e.getPinned()==="left")return i;const n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const s=this.beans.columnModel.getBodyContainerWidth();return n+s+i}return n+i}setLeft(e){if(De(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof vi)this.columnOrGroup;else{const r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&PZ(this.ariaEl,r.length),r[0]}}};A([_e],sO.prototype,"postConstruct",1);var pb=class extends Ie{constructor(e,i){super(),this.columns=e,this.element=i}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};A([B("columnHoverService")],pb.prototype,"columnHoverService",2);A([_e],pb.prototype,"postConstruct",1);var _0e=class extends nO{constructor(e,i,r){super(e,i,r),this.iconCreated=!1,this.column=e}setComp(e,i,r,n){this.comp=e,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(i),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,vi.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),i=!!e.filter,r=!!e.floatingFilter;this.active=i&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=tr("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new ah(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Ol(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const i=this.beans.columnModel;let r=this.column;do if(r=e?i.getDisplayedColBefore(r):i.getDisplayedColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const i=this.getWrapperHasFocus();switch(e.key){case ce.UP:case ce.DOWN:i||e.preventDefault();case ce.LEFT:case ce.RIGHT:if(i)return;e.stopPropagation();case ce.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ce.ESCAPE:i||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&mp(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const o=this.lastFocusEvent,a=!!(o&&o.key===ce.TAB);if(o&&a){const l=o.shiftKey;this.focusService.focusInto(this.eGui,l)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(){this.createManagedBean(new pb([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};this.addManagedListener(this.eventService,I.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new sO(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,i=r=>{const n=this.comp.getFloatingFilterComp();n&&n.then(s=>{if(s){const o=e.getCurrentFloatingFilterParentModel(this.column);s.onParentModelChanged(o,r)}})};this.destroySyncListener=this.addManagedListener(this.column,vi.EVENT_FILTER_CHANGED,i),e.isFilterActive(this.column)&&i(null)}setupWidth(){const e=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};this.addManagedListener(this.column,vi.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,vi.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,i;const r=this.active;this.setupActive();const n=!r&&this.active;r&&!this.active&&((e=this.destroySyncListener)==null||e.call(this),(i=this.destroyFilterChangedListener)==null||i.call(this));const s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!s?this.updateCompDetails(s,n):o.then(a=>{var l;!a||this.beans.filterManager.areFilterCompsDifferent((l=this.userCompDetails)!=null?l:null,s)?this.updateCompDetails(s,n):this.updateFloatingFilterParams(s)})}updateCompDetails(e,i){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var i;if(!e)return;const r=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(n=>{let s=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(r)!==null&&(s=!0),!s&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(r)!==null&&ut("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},jv=class extends Ie{constructor(e,i,r,n,s){super(),this.pinned=e,this.column=i,this.eResize=r,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let i,r;const n=()=>{if(kt(this.eResize,i),!i)return;const a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(a),r){const l=this.gridOptionsService.get("skipHeaderOnAutoSize"),u=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",l)};this.eResize.addEventListener("dblclick",u);const c=new mn(this.eResize);c.addEventListener(mn.EVENT_DOUBLE_TAP,u),e.push(()=>{this.eResize.removeEventListener("dblclick",u),c.removeEventListener(mn.EVENT_DOUBLE_TAP,u),c.destroy()})}},s=()=>{e.forEach(a=>a()),e.length=0},o=()=>{const a=this.column.isResizable(),l=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(a!==i||l!==r)&&(i=a,r=l,s(),n())};o(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(o)}onResizing(e,i){const{column:r,lastResizeAmount:n,resizeStartWidth:s}=this,o=this.normaliseResizeAmount(i),a=s+o,l=[{key:r,newWidth:a}];if(this.column.getPinned()){const u=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=Ef(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(u+c+(o-n)>d)return}this.lastResizeAmount=o,this.columnModel.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let i=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?r&&(i*=-1):n&&(i*=-1),i}};A([B("horizontalResizeService")],jv.prototype,"horizontalResizeService",2);A([B("pinnedWidthService")],jv.prototype,"pinnedWidthService",2);A([B("ctrlsService")],jv.prototype,"ctrlsService",2);A([B("columnModel")],jv.prototype,"columnModel",2);A([_e],jv.prototype,"postConstruct",1);var jH=class extends Ie{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){const i=this.cbSelectAll,r=this.gridOptionsService.getDocument();i.isDisplayed()&&!i.getGui().contains(r.activeElement)&&(e.preventDefault(),i.setValue(!i.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new IH),this.cbSelectAll.addCssClass("ag-header-select-all"),dr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,I.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),tb(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const i=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${r})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return this.gridOptionsService.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const i=this.rowModel.getType();return i==="clientSide"||i==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${i}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),i=this.isFilteredOnly(),r=this.isCurrentPageOnly();let n="uiSelectAll";r?n="uiSelectAllCurrentPage":i&&(n="uiSelectAllFiltered");const s={source:n,justFiltered:i,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const i=e,r=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=i(r)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};A([B("rowModel")],jH.prototype,"rowModel",2);A([B("selectionService")],jH.prototype,"selectionService",2);var N0e=class extends nO{constructor(e,i,r){super(e,i,r),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,i,r,n){this.comp=e,this.setGui(i),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new jv(this.getPinned(),this.column,r,e,this)),this.createManagedBean(new pb([this.column],i)),this.createManagedBean(new sO(this.column,i,this.beans)),this.createManagedBean(new ah(i,{shouldStopEventPropagation:s=>this.shouldStopEventPropagation(s),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,vi.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,i){var r,n;if(!this.column.isResizable())return;const s=this.column.getActualWidth(),o=(r=this.column.getMinWidth())!=null?r:0,a=(n=this.column.getMaxWidth())!=null?n:Number.MAX_SAFE_INTEGER,l=Math.min(Math.max(s+e,o),a);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:l}],i,!0,"uiColumnResized")}moveHeader(e){const{eGui:i,column:r,gridOptionsService:n,ctrlsService:s}=this,o=this.getPinned(),a=i.getBoundingClientRect().left,l=r.getActualWidth(),u=n.get("enableRtl"),c=e===0!==u,d=wp.normaliseX(c?a-20:a+l+20,o,!0,n,s);wp.attemptMoveColumns({allMovingColumns:[r],isFromHeader:!0,hDirection:e,xPosition:d,pinned:o,fromEnter:!1,fakeEvent:!1,gridOptionsService:n,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,r)=>{this.beans.sortController.setSortForColumn(this.column,i,!!r,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,r)=>{this.setupTooltip(i,r)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new jH(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ce.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ce.ENTER&&this.onEnterKeyDown(e),e.key===ce.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const i=e.shiftKey;this.beans.sortController.progressSort(this.column,i,"uiColumnSorted")}}showMenuOnKeyPress(e,i){const r=this.comp.getUserCompInstance();!r||!(r instanceof WN)||r.onMenuKeyboardShortcut(i)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",n=this.eGui,s=this.column.getColDef();!i&&r&&!s.headerComponent&&(i=()=>{const l=n.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},a=this.createManagedBean(new Gc(o));this.refreshFunctions.push(()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const i=this.column.getColDef(),r=eO.getHeaderClassesFromColDef(i,this.gridOptionsService,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:i,beans:r,displayName:n,dragAndDropService:s,gridOptionsService:o}=this,{columnModel:a}=r;let l=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?Dt.ICON_HIDE:Dt.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(i),dragItemName:n,onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),i.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>i.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];a.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];a.setColumnsVisible(h,!1,"uiColumnMoved")}}};s.addDragSource(u,!0)}createDragItem(e){const i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const i=this.comp.getUserCompInstance();return!i||!i.refresh?!1:i.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gridOptionsService.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};this.addManagedListener(this.column,vi.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,vi.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,vi.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,vi.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const e=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};this.addManagedListener(this.column,vi.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){const e=()=>{const i=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:i,comp:r,beans:n}=this;if(!i.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",s>0);const{columnModel:a}=n,l=a.getColumnHeaderRowHeight();if(s===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}r.addOrRemoveCssClass("ag-header-span-total",o);const c=a.isPivotMode()?a.getPivotGroupHeaderHeight():a.getGroupHeaderHeight(),d=s*c;e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${l+d}px`)}setupAutoHeight(e){const{columnModel:i,resizeObserverService:r}=this.beans,n=c=>{if(!this.isAlive())return;const{paddingTop:d,paddingBottom:h,borderBottomWidth:f,borderTopWidth:g}=oh(this.getGui()),v=d+h+f+g,S=e.offsetHeight+v;if(c<5){const y=this.beans.gridOptionsService.getDocument(),w=!y||!y.contains(e),E=S==0;if(w||E){window.setTimeout(()=>n(c+1),0);return}}i.setColumnHeaderHeight(this.column,S)};let s=!1,o;const a=()=>{const c=this.column.isAutoHeaderHeight();c&&!s&&l(),!c&&s&&u()},l=()=>{s=!0,n(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),o=r.observeResize(e,()=>n(0))},u=()=>{s=!1,o&&o(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),o=void 0};a(),this.addDestroyFunc(()=>u()),this.addManagedListener(this.column,vi.EVENT_WIDTH_CHANGED,()=>s&&n(0)),this.addManagedListener(this.eventService,vi.EVENT_SORT_CHANGED,()=>{s&&window.setTimeout(()=>n(0))}),this.addRefreshFunction(a)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),i=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(vZ(i)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,i){i!=null?this.ariaDescriptionProperties.set(e,i):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){const e=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(e.activeElement))return;const i=Array.from(this.ariaDescriptionProperties.keys()).sort((r,n)=>r==="filter"?-1:n.charCodeAt(0)-r.charCodeAt(0)).map(r=>this.ariaDescriptionProperties.get(r)).join(". ");this.beans.ariaAnnouncementService.announceValue(i)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};this.addManagedListener(this.eventService,I.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent(I.EVENT_COLUMN_HEADER_CLICKED,this.column),r=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",r)}handleMouseOverChange(e){this.setActiveHeader(e);const r={type:e?I.EVENT_COLUMN_HEADER_MOUSE_OVER:I.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(r)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const i=this.comp.getUserCompInstance();return i instanceof WN?i.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},fb=class extends Ie{constructor(e,i,r,n){super(),this.eResize=i,this.comp=e,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.get("suppressAutoSize")){const i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||r.push(s.getColId())}),r.length>0&&this.columnModel.autoSizeColumns({columns:r,skipHeader:i,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const i=this.getInitialValues(e);this.storeLocalValues(i),this.toggleColumnResizing(!0)}onResizing(e,i,r="uiColumnResized"){const n=this.normaliseDragChange(i),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,r,e)}getInitialValues(e){const i=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(i),n=this.getSizeRatiosOfColumns(i,r),s={columnsToResize:i,resizeStartWidth:r,resizeRatios:n};let o=null;if(e&&(o=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),o){const a=o.getDisplayedLeafColumns(),l=s.groupAfterColumns=a.filter(c=>c.isResizable()),u=s.groupAfterStartWidth=this.getInitialSizeOfColumns(l);s.groupAfterRatios=this.getSizeRatiosOfColumns(l,u)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:i,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:o,groupAfterRatios:a}=e;this.resizeCols=i,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=a}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();i>r.resizeStartWidth&&this.resizeColumns(r,i,e,!0)}resizeColumnsFromLocalValues(e,i,r=!0){var n,s,o;if(!this.resizeCols||!this.resizeRatios)return;const a={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(n=this.resizeTakeFromCols)!=null?n:void 0,groupAfterStartWidth:(s=this.resizeTakeFromStartWidth)!=null?s:void 0,groupAfterRatios:(o=this.resizeTakeFromRatios)!=null?o:void 0};this.resizeColumns(a,e,i,r)}resizeColumns(e,i,r,n=!0){const{columnsToResize:s,resizeStartWidth:o,resizeRatios:a,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:c}=e,d=[];if(d.push({columns:s,ratios:a,width:i}),l){const h=i-o;d.push({columns:l,ratios:c,width:u-h})}this.columnModel.resizeColumnSets({resizeSets:d,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(i=>i.isResizable())}getInitialSizeOfColumns(e){return e.reduce((i,r)=>i+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,i){return e.map(r=>r.getActualWidth()/i)}normaliseDragChange(e){let i=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(i*=-1):this.pinned==="right"&&(i*=-1),i}destroy(){super.destroy(),this.clearLocalValues()}};A([B("horizontalResizeService")],fb.prototype,"horizontalResizeService",2);A([B("autoWidthCalculator")],fb.prototype,"autoWidthCalculator",2);A([B("columnModel")],fb.prototype,"columnModel",2);A([_e],fb.prototype,"postConstruct",1);var nee=class extends Ie{constructor(e,i){super(),this.removeChildListenersFuncs=[],this.columnGroup=i,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,$r.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(i=>{i.addEventListener("widthChanged",e),i.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{i.removeEventListener("widthChanged",e),i.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}};A([_e],nee.prototype,"postConstruct",1);var G0e=class extends nO{constructor(e,i,r){super(e,i,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,i,r){this.comp=e,this.setGui(i),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const n=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new pb(s,i)),this.createManagedBean(new sO(this.column,i,this.beans)),this.createManagedBean(new nee(e,this.column)),this.resizeFeature=this.createManagedBean(new fb(e,r,n,this.column)),this.createManagedBean(new ah(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(I.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,i){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(i);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:i,eGui:r,column:n,gridOptionsService:s,ctrlsService:o}=this,a=s.get("enableRtl"),l=e===0,u=this.getPinned(),c=r.getBoundingClientRect(),d=c.left,h=c.width,f=wp.normaliseX(l!==a?d-20:d+h+20,u,!0,s,o),g=n.getGroupId(),v=this.focusService.getFocusedHeader();wp.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:f,pinned:u,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:i.columnModel});const C=n.getDisplayedLeafColumns(),S=l?C[0]:qt(C);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(S,"auto"),!this.isAlive()&&v&&this.restoreFocus(g,n,v)}restoreFocus(e,i,r){const n=i.getLeafColumns();if(!n.length)return;const s=n[0].getParent();if(!s)return;const o=this.findGroupWidthId(s,e);o&&this.focusService.focusHeaderPosition({headerPosition:Wi(tt({},r),{column:o})})}findGroupWidthId(e,i){for(;e;){if(e.getGroupId()===i)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,n)=>{this.setupTooltip(r,n)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent(I.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),r=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",r)}handleMouseOverChange(e){const r={type:e?I.EVENT_COLUMN_HEADER_MOUSE_OVER:I.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(r)}setupTooltip(e,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.column.getColGroupDef(),n=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",s=this.eGui;!i&&n&&!(r!=null&&r.headerGroupComponent)&&(i=()=>{const a=s.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(r&&r.headerTooltip),shouldDisplayTooltip:i};r&&(o.getColDef=()=>r),this.createBean(new Gc(o))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,br.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,br.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.column;this.expandable=e.isExpandable();const i=e.isExpanded();this.expandable?this.comp.setAriaExpanded(i?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),i=eO.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.column);this.column.isPadding()?(i.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&i.push("ag-header-span-height")):i.push("ag-header-group-cell-with-group"),i.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(){const i=this.column.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(n=>{this.addManagedListener(n,vi.EVENT_MOVING_CHANGED,r)}),r()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const i=this.getWrapperHasFocus();if(!(!this.expandable||!i)&&e.key===ce.ENTER){const r=this.column,n=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:i,column:r,displayName:n,gridOptionsService:s,dragAndDropService:o}=this,{columnModel:a}=i,l=r.getProvidedColumnGroup().getLeafColumns();let u=!s.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>u?Dt.ICON_HIDE:Dt.ICON_NOT_ALLOWED,dragItemName:n,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{u=!s.get("suppressDragLeaveHidesColumns"),l.forEach(d=>d.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>l.forEach(d=>d.setMoving(!1,"uiColumnDragged")),onGridEnter:d=>{var h;if(u){const f=((h=d==null?void 0:d.columns)==null?void 0:h.filter(g=>!g.getColDef().lockVisible))||[];a.setColumnsVisible(f,!0,"uiColumnMoved")}},onGridExit:d=>{var h;if(u){const f=((h=d==null?void 0:d.columns)==null?void 0:h.filter(g=>!g.getColDef().lockVisible))||[];a.setColumnsVisible(f,!1,"uiColumnMoved")}}};o.addDragSource(c,!0)}getDragItemForGroup(e){const i=e.getProvidedColumnGroup().getLeafColumns(),r={};i.forEach(s=>r[s.getId()]=s.isVisible());const n=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(s=>{i.indexOf(s)>=0&&(n.push(s),Ws(i,s))}),i.forEach(s=>n.push(s)),{columns:n,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.get("suppressMovableColumns")}},k0e=0,cS=class extends Ie{constructor(e,i,r){super(),this.instanceId=k0e++,this.rowIndex=e,this.pinned=i,this.type=r;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,i=!0){this.comp=e,i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,I.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return pm(this.headerCellCtrls).find(i=>i.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{columnModel:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:i}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(i+"px")}getTopAndHeight(){const{columnModel:e,filterManager:i}=this.beans;let r=e.getHeaderRowCount();const n=[];let s=0;i.hasFloatingFilters()&&(r++,s=1);const o=e.getColumnGroupHeaderRowHeight(),a=e.getColumnHeaderRowHeight(),l=1+s,u=r-l;for(let h=0;h<u;h++)n.push(o);n.push(a);for(let h=0;h<s;h++)n.push(e.getFloatingFiltersHeight());let c=0;for(let h=0;h<this.rowIndex;h++)c+=n[h];const d=n[this.rowIndex];return{topOffset:c,rowHeight:d}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const i=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(i,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const i=this.getColumnsInViewport();for(const s of i)this.recycleAndCreateHeaderCtrls(s,e);const r=s=>{const{focusService:o,columnModel:a}=this.beans;return o.isHeaderWrapperFocused(s)?a.isDisplayed(s.getColumnGroupChild()):!1};if(e)for(const[s,o]of e)r(o)?this.headerCellCtrls.set(s,o):this.destroyBean(o);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,i){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(i&&(n=i.get(r),i.delete(r)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":n=this.createBean(new _0e(e,this.beans,this));break;case"group":n=this.createBean(new G0e(e,this.beans,this));break;default:n=this.createBean(new N0e(e,this.beans,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const i=this.getActualDepth(),{columnModel:r}=this.beans;return["left",null,"right"].forEach(n=>{const s=r.getVirtualHeaderGroupRow(n,i);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,i){if(!this.headerCellCtrls)return!1;const n=Array.from(this.headerCellCtrls.values()).find(s=>s.getColumnGroupChild()==e);return n?n.focus(i):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}};A([B("beans")],cS.prototype,"beans",2);A([_e],cS.prototype,"postConstruct",1);var xf=class extends Ie{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,i){this.comp=e,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const i=new Uv(this.pinned,e);this.createManagedBean(i)}refresh(e=!1){const i=new AH,r=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const l=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<l;u++){const c=this.createBean(new cS(i.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},s=()=>{const l=i.next(),u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==l);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new cS(l,this.pinned,"column")))},o=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const l=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){l();return}const u=i.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==u;(!e||c)&&l()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new cS(u,this.pinned,"filter")))};n(),s(),o();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(r)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Bv(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;const r=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const s=n==0,o=this.hidden!==s,a=this.gridOptionsService.get("enableRtl"),l=this.gridOptionsService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&e||!a&&i)?n+l:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!s),o&&(this.hidden=s,this.refresh())};this.addManagedListener(this.eventService,I.EVENT_LEFT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_RIGHT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,r),this.addManagedListener(this.eventService,I.EVENT_SCROLLBAR_WIDTH_CHANGED,r)}getHeaderCtrlForColumn(e){if(e instanceof vi)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const r=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(r)return r}}getHtmlElementForColumnHeader(e){const i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,i,r){const s=this.getAllCtrls()[e];return s?s.focusHeader(i,r):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};A([B("ctrlsService")],xf.prototype,"ctrlsService",2);A([B("scrollVisibleService")],xf.prototype,"scrollVisibleService",2);A([B("pinnedWidthService")],xf.prototype,"pinnedWidthService",2);A([B("columnModel")],xf.prototype,"columnModel",2);A([B("focusService")],xf.prototype,"focusService",2);A([B("filterManager")],xf.prototype,"filterManager",2);var Af=class ED extends wt{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:r=>this.setDisplayed(r),setCtrls:r=>this.setCtrls(r),setCenterWidth:r=>this.eCenterContainer.style.width=r,setViewportScrollLeft:r=>this.getGui().scrollLeft=r,setPinnedContainerWidth:r=>{const n=this.getGui();n.style.width=r,n.style.maxWidth=r,n.style.minWidth=r}};this.createManagedBean(new xf(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",i=this.pinned=="right",r=e?ED.PINNED_LEFT_TEMPLATE:i?ED.PINNED_RIGHT_TEMPLATE:ED.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let r;const n=s=>{const o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),r&&EH(this.eRowContainer,o,r),r=o};e.forEach(s=>{const o=s.getInstanceId(),a=i[o];delete i[o];const l=a||this.createBean(new zH(s));this.headerRowComps[o]=l,this.rowCompsList.push(l),n(l)}),zd(i).forEach(s=>this.destroyRowComp(s))}};Af.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>';Af.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>';Af.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;A([Ge("eCenterContainer")],Af.prototype,"eCenterContainer",2);A([_e],Af.prototype,"init",1);A([ja],Af.prototype,"destroyRowComps",1);var uL=Af,Hm=class extends Ie{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(i=>{this.gridBodyCon=i.gridBodyCtrl});const e=this.gridOptionsService.getDocument();this.addManagedListener(e,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,i,r){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;const{headerRowIndex:n,column:s}=i,o=this.getHeaderRowCount(),a=e===0;let{headerRowIndex:l,column:u,headerRowIndexWithoutSpan:c}=a?this.headerPositionUtils.getColumnVisibleParent(s,n):this.headerPositionUtils.getColumnVisibleChild(s,n),d=!1;return l<0&&(l=0,u=s,d=!0),l>=o?(l=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!u?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:u},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,i=!1,r){const n=this.focusService.getFocusedHeader(),s=e===2,o=this.gridOptionsService.get("enableRtl");let a,l;return this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,s!==o?(l="Before",a=this.headerPositionUtils.findHeader(n,l)):(l="After",a=this.headerPositionUtils.findHeader(n,l)),a||!i?this.focusService.focusHeaderPosition({headerPosition:a,direction:l,fromTab:i,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(n,l,r)}focusNextHeaderRow(e,i,r){const n=e.headerRowIndex;let s=null,o;if(i==="Before"?n>0&&(o=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),!s)return!1;const{column:a,headerRowIndex:l}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s==null?void 0:s.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:i,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,i="After"){if(e.getPinned())return;let r;if(e instanceof $r){const n=e.getDisplayedLeafColumns();r=i==="Before"?qt(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}};A([B("focusService")],Hm.prototype,"focusService",2);A([B("headerPositionUtils")],Hm.prototype,"headerPositionUtils",2);A([B("ctrlsService")],Hm.prototype,"ctrlsService",2);A([_e],Hm.prototype,"postConstruct",1);Hm=A([ze("headerNavigationService")],Hm);var Of=class extends Ie{setComp(e,i,r){this.comp=e,this.eGui=i,this.createManagedBean(new ah(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",n),this.mockContextMenuForIPad(n),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let i=0,r=e.getHeaderRowCount(),n;this.filterManager.hasFloatingFilters()&&(r++,i=1);const o=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),l=1+i,u=r-l;if(n=i*e.getFloatingFiltersHeight(),n+=u*o,n+=a,this.headerHeight===n)return;this.headerHeight=n;const c=`${n+1}px`;this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:I.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const i=this.columnModel.getAllDisplayedColumns().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){const i=this.gridOptionsService.get("enableRtl"),r=e.shiftKey!==i?2:3;(this.headerNavigationService.navigateHorizontally(r,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let i=null;switch(e.key){case ce.LEFT:i=2;case ce.RIGHT:De(i)||(i=3),this.headerNavigationService.navigateHorizontally(i,!1,e);break;case ce.UP:i=0;case ce.DOWN:De(i)||(i=1),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const i=this.gridOptionsService.getDocument(),{relatedTarget:r}=e;!r&&this.eGui.contains(i.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,i,r){if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??i;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!Nc())return;const i=new mn(this.eGui),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListener(i,mn.EVENT_LONG_TAP,r),this.addDestroyFunc(()=>i.destroy())}};A([B("headerNavigationService")],Of.prototype,"headerNavigationService",2);A([B("focusService")],Of.prototype,"focusService",2);A([B("columnModel")],Of.prototype,"columnModel",2);A([B("ctrlsService")],Of.prototype,"ctrlsService",2);A([B("filterManager")],Of.prototype,"filterManager",2);A([B("menuService")],Of.prototype,"menuService",2);var see=class oee extends wt{constructor(){super(oee.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new Of).setComp(e,this.getGui(),this.getFocusableElement());const r=n=>{this.createManagedBean(n),this.appendChild(n)};r(new uL("left")),r(new uL(null)),r(new uL("right"))}};see.TEMPLATE='<div class="ag-header" role="presentation"/>';A([_e],see.prototype,"postConstruct",1);var $P=class extends Ie{addResizeBar(e){const i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(i),()=>this.dragService.removeDragSource(i)}onDragStart(e,i){this.dragStartX=i.clientX,this.setResizeIcons();const r=i instanceof MouseEvent&&i.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,i){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};A([B("dragService")],$P.prototype,"dragService",2);A([B("ctrlsService")],$P.prototype,"ctrlsService",2);$P=A([ze("horizontalResizeService")],$P);var Kp=class extends Ie{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,i,r){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:i,ePopup:n})},r,i.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,i,r){let n=-1,s="left";const o=this.menuService.isLegacyMenuEnabled();!o&&this.gridOptionsService.get("enableRtl")&&(n=1,s="right");let a=o?void 0:4*n,l=o?void 0:4;this.showPopup(e,u=>{this.popupService.positionPopupByComponent({type:r,eventSource:i,ePopup:u,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,i,o)}showPopup(e,i,r,n,s){const o=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!o||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const a=document.createElement("div");dr(a,"presentation"),a.classList.add("ag-menu"),s||a.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(a,"keydown",v=>this.trapFocusWithin(v,a)),o.guiPromise.then(v=>a.appendChild(v));let l;const u=()=>{var v;return(v=o.filterPromise)==null?void 0:v.then(C=>{var S;return(S=C==null?void 0:C.afterGuiDetached)==null?void 0:S.call(C)})},c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=v=>{e.setMenuVisible(!1,"contextMenu");const C=v instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&n&&$o(n)){const S=this.focusService.findTabbableParent(n);S&&S.focus()}u(),this.dispatchVisibleChangedEvent(!1,r,e)},h=this.localeService.getLocaleTextFunc(),f=s&&r!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:d,positionCallback:()=>i(a),anchorToElement:c,ariaLabel:f});g&&(this.hidePopup=l=g.hideFunc),o.filterPromise.then(v=>{i(a),v.afterGuiAttached&&v.afterGuiAttached({container:r,hidePopup:l})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,i){e.key!==ce.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))}dispatchVisibleChangedEvent(e,i,r){const n={type:I.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:i,column:r??null};this.eventService.dispatchEvent(n)}isMenuEnabled(e){var i;return e.isFilterAllowed()&&((i=e.getColDef().menuTabs)!=null?i:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};A([B("filterManager")],Kp.prototype,"filterManager",2);A([B("popupService")],Kp.prototype,"popupService",2);A([B("focusService")],Kp.prototype,"focusService",2);A([B("ctrlsService")],Kp.prototype,"ctrlsService",2);A([B("menuService")],Kp.prototype,"menuService",2);Kp=A([ze("filterMenuFactory")],Kp);var KH=class extends Ie{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:i,eTopGuard:r,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:c,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:f}=e;this.comp=i,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=f,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h}postConstruct(){this.createManagedBean(new ah(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}const i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)}findNextElementOutsideAndFocus(e){const i=this.gridOptionsService.getDocument(),r=this.focusService.findFocusableElements(i.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,o;e?(s=0,o=n):(s=n+1,o=r.length);const a=r.slice(s,o),l=this.gridOptionsService.get("tabIndex");a.sort((u,c)=>{const d=parseInt(u.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===l?1:d===l?-1:d===0?1:h===0?-1:d-h}),a[e?a.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};A([B("focusService")],KH.prototype,"focusService",2);A([_e],KH.prototype,"postConstruct",1);var gb=class extends wt{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const i=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:n=>{i.forEach(s=>n!=null?s.setAttribute("tabindex",n):s.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new KH({comp:r,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const i=document.createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return i.classList.add("ag-tab-guard",r),dr(i,"presentation"),i}addTabGuards(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Ir(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,i){rb(e)||(e=e.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",e):super.appendChild(e,i)}},oO=class aee extends gb{constructor(e){super(aee.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,i,r;return(r=(i=(e=this.activeItem)==null?void 0:e.tabbedItem)==null?void 0:i.afterDetachedCallback)==null?void 0:r.call(i)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}setupHeader(){const{enableCloseButton:e,cssClass:i}=this.params,r=(n,s)=>{n.classList.add(`ag-tabs-${s}`),i&&n.classList.add(`${i}-${s}`)};e?(this.setupCloseButton(r),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),r(this.eHeader,"header-wrapper"),dr(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,dr(this.eTabHeader,"tablist"),r(this.eTabHeader,"header")}setupCloseButton(e){const i=this.gridOptionsService.getDocument(),r=i.createElement("button");e(r,"close-button");const n=tr("close",this.gridOptionsService,void 0,!0);Ol(r,this.params.closeButtonAriaLabel),r.appendChild(n),this.addManagedListener(r,"click",()=>{var o,a;return(a=(o=this.params).onCloseClicked)==null?void 0:a.call(o)});const s=i.createElement("div");e(s,"close-button-wrapper"),dr(s,"presentation"),s.appendChild(r),this.eHeader.appendChild(s),this.eCloseButton=r}handleKeyDown(e){const i=this.gridOptionsService.getDocument();switch(e.key){case ce.RIGHT:case ce.LEFT:if(!this.eTabHeader.contains(i.activeElement))return;const r=e.key===ce.RIGHT,n=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),o=r!==n?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===o)return;e.preventDefault();const a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case ce.UP:case ce.DOWN:e.stopPropagation();break}}onTabKeyDown(e){var i,r,n,s;if(e.defaultPrevented)return;const{focusService:o,eHeader:a,eBody:l,activeItem:u,params:c}=this,{suppressTrapFocus:d,enableCloseButton:h}=c,g=this.gridOptionsService.getDocument().activeElement,v=e.target,C=e.shiftKey;if(a.contains(g)){e.preventDefault(),h&&C&&!((i=this.eCloseButton)!=null&&i.contains(g))?(r=this.eCloseButton)==null||r.focus():d&&C?(n=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,v))==null||n.focus():this.focusBody(e.shiftKey);return}let S=null;if(o.isTargetUnderManagedComponent(l,v)&&(C&&(S=this.focusService.findFocusableElementBeforeTabGuard(l,v)),!S&&!d&&(S=u.eHeaderButton)),!S&&l.contains(g)&&(S=o.findNextFocusableElement(l,!1,C),!S)){e.preventDefault(),d&&!C?this.forceFocusOutOfContainer(C):h&&!C?(s=this.eCloseButton)==null||s.focus():this.focusHeader();return}S&&(e.preventDefault(),S.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const i=document.createElement("span");dr(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eTabHeader.appendChild(i),Ol(i,e.titleLabel);const r={tabbedItem:e,eHeaderButton:i};this.items.push(r),i.addEventListener("click",this.showItemWrapper.bind(this,r))}showItem(e){const i=this.items.find(r=>r.tabbedItem===e);i&&this.showItemWrapper(i)}showItemWrapper(e){var i,r,n,s,o,a;const{tabbedItem:l,eHeaderButton:u}=e;if((r=(i=this.params).onItemClicked)==null||r.call(i,{item:l}),this.activeItem===e){(s=(n=this.params).onActiveItemClicked)==null||s.call(n);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Ir(this.eBody),l.bodyPromise.then(c=>{this.eBody.appendChild(c);const d=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,d),l.afterAttachedCallback&&l.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const h=l.getScrollableContainer&&l.getScrollableContainer()||c;this.lastScrollListener=this.addManagedListener(h,"scroll",()=>{this.tabbedItemScrollMap.set(l.name,h.scrollTop)});const f=this.tabbedItemScrollMap.get(l.name);f!==void 0&&setTimeout(()=>{h.scrollTop=f},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(a=(o=this.activeItem.tabbedItem).afterDetachedCallback)==null||a.call(o)),u.classList.add("ag-tab-selected"),this.activeItem=e}};A([B("focusService")],oO.prototype,"focusService",2);A([Ge("eHeader")],oO.prototype,"eHeader",2);A([Ge("eBody")],oO.prototype,"eBody",2);A([_e],oO.prototype,"postConstruct",1);var V0e=50,nK=class extends Ie{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,i){const r=this.gridOptionsService.getWindow(),n=()=>{const l=new r.ResizeObserver(i);return l.observe(e),()=>l.disconnect()},s=()=>{var l,u;let c=(l=e==null?void 0:e.clientWidth)!=null?l:0,d=(u=e==null?void 0:e.clientHeight)!=null?u:0,h=!0;const f=()=>{var g,v;if(h){const C=(g=e==null?void 0:e.clientWidth)!=null?g:0,S=(v=e==null?void 0:e.clientHeight)!=null?v:0;(C!==c||S!==d)&&(c=C,d=S,i()),this.doNextPolyfillTurn(f)}};return f(),()=>h=!1},o=this.gridOptionsService.get("suppressBrowserResizeObserver");return!!r.ResizeObserver&&!o?n():this.getFrameworkOverrides().wrapIncoming(()=>s(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const i=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],i.forEach(r=>r())};this.polyfillScheduled=!0,window.setTimeout(e,V0e)}};nK=A([ze("resizeObserverService")],nK);var iw=class extends Ie{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const i=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&e===0){const r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,i,r){this.verifyAnimationFrameOn(r);const n={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,i){e.list.push(i),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const i=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?i*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const i=this.createTasksP1,r=i.list,n=this.createTasksP2,s=n.list,o=this.destroyTasks,a=new Date().getTime();let l=new Date().getTime()-a;const u=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;u||l<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let h;if(r.length)this.sortTaskList(i),h=r.pop().task;else if(s.length)this.sortTaskList(n),h=s.pop().task;else if(o.length)h=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}l=new Date().getTime()-a}r.length||s.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const i=this.gridOptionsService.getWindow();i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let i=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}i||(i=!0,this.addDestroyTask(()=>{i=!1,e()}))}}};A([B("ctrlsService")],iw.prototype,"ctrlsService",2);A([B("paginationProxy")],iw.prototype,"paginationProxy",2);A([_e],iw.prototype,"init",1);iw=A([ze("animationFrameService")],iw);var BP=class extends Ie{postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(e){if(!this.isClientSideRowModel)return;const i=new Set(e);this.rowModel.forEachNode(r=>{r.id&&i.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:i,id:r})=>{i&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,i,r){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,i,r),e.setExpanded(i))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};A([B("rowModel")],BP.prototype,"rowModel",2);A([_e],BP.prototype,"postConstruct",1);BP=A([ze("expansionService")],BP);var Ru=class extends Ie{postConstruct(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!=null?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const i=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,i,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,i,r)}showContextMenu(e){var i,r,n;const{column:s,anchorToElement:o,rowNode:a,value:l}=e;(n=this.contextMenuFactory)==null||n.onContextMenu((i=e.mouseEvent)!=null?i:null,(r=e.touchEvent)!=null?r:null,a??null,s??null,l,o)}showColumnChooser(e){var i;(i=this.columnChooserFactory)==null||i.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:i,suppressHeaderMenuButton:r}=e.getColDef();return!(r??i)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Nc()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var i;const r=e.getColDef(),n=(i=r.floatingFilterComponentParams)==null?void 0:i.suppressFilterButton;return n!=null&&ut("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),r.suppressFloatingFilterButton==null?!n:!r.suppressFloatingFilterButton}getColumnMenuType(){var e;return(e=this.gridOptionsService.get("columnMenu"))!=null?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?e:!0}showColumnMenuCommon(e,i,r,n){const{column:s,positionBy:o}=i;if(o==="button"){const{buttonElement:a}=i;e.showMenuAfterButtonClick(s,a,r,n)}else if(o==="mouse"){const{mouseEvent:a}=i;e.showMenuAfterMouseEvent(s,a,r,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const a=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,a.getAnchorElementForMenu(n),r,!0)}))}};A([ai("enterpriseMenuFactory")],Ru.prototype,"enterpriseMenuFactory",2);A([B("filterMenuFactory")],Ru.prototype,"filterMenuFactory",2);A([ai("contextMenuFactory")],Ru.prototype,"contextMenuFactory",2);A([B("ctrlsService")],Ru.prototype,"ctrlsService",2);A([B("animationFrameService")],Ru.prototype,"animationFrameService",2);A([ai("columnChooserFactory")],Ru.prototype,"columnChooserFactory",2);A([B("filterManager")],Ru.prototype,"filterManager",2);A([_e],Ru.prototype,"postConstruct",1);Ru=A([ze("menuService")],Ru);var $m=class extends Ie{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,i){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return i||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1}addElementsToContainerAndGetWidth(e){const i=document.createElement("form");i.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(o=>this.cloneItemIntoDummy(o,i)),r.appendChild(i);const n=i.offsetWidth;r.removeChild(i);const s=this.getAutoSizePadding();return n+s}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(e){let i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(i=n)}),i}cloneItemIntoDummy(e,i){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(l=>r.classList.contains(l))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(u=>a.classList.contains(u))){for(let u=0;u<a.classList.length;u++){const c=a.classList[u];c!="ag-row-position-absolute"&&s.add(c)}break}a=a.parentElement}n.appendChild(r),i.appendChild(n)}};A([B("rowRenderer")],$m.prototype,"rowRenderer",2);A([B("ctrlsService")],$m.prototype,"ctrlsService",2);A([B("rowCssClassCalculator")],$m.prototype,"rowCssClassCalculator",2);A([_e],$m.prototype,"postConstruct",1);$m=A([ze("autoWidthCalculator")],$m);var mb=class extends Ie{constructor(e,i){super(),this.createRowCon=e,this.destroyRowCtrls=i,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],e);const i=[],r=this.rowRenderer.getFirstVisibleVerticalPixel(),n=o=>{var a,l,u;i.push(o);let c;if(this.isClientSide){let h=o;for(;h.isExpandable()&&h.expanded;)if(h.master)h=h.detailNode;else if(h.childrenAfterSort){if(h.childrenAfterSort.length===0)break;h=qt(h.childrenAfterSort)}c=h.rowTop+h.rowHeight}else if(o.master)c=o.detailNode.rowTop+o.detailNode.rowHeight;else{const h=(a=o.childStore)==null?void 0:a.getStoreBounds();c=((l=h==null?void 0:h.heightPx)!=null?l:0)+((u=h==null?void 0:h.topPx)!=null?u:0)}const d=r+e+o.rowHeight;c<d?o.stickyRowTop=e+(c-d):o.stickyRowTop=e,e=0,i.forEach(h=>{const f=h.stickyRowTop+h.rowHeight;e<f&&(e=f)})};let s=0;for(;;){const o=r+e,a=this.rowModel.getRowIndexAtPixel(o),l=this.rowModel.getRow(a);if(l==null||l.level<0||s++===100)break;const u=[];let c=l.parent;for(;c.level>=0;)u.push(c),c=c.parent;const d=u.reverse().find(h=>i.indexOf(h)<0&&h.displayed);if(d){n(d);continue}if(l.isExpandable()&&l.expanded&&l.rowTop<o){n(l);continue}break}return this.refreshNodesAndContainerHeight(i,e)}refreshStickyNode(e){const i=[];for(let r=0;r<this.stickyRowCtrls.length;r++){const n=this.stickyRowCtrls[r].getRowNode();n!==e&&i.push(n)}this.refreshNodesAndContainerHeight(i,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,i){let r=!1;const n=this.stickyRowCtrls.filter(l=>e.indexOf(l.getRowNode())===-1),s=e.filter(l=>this.stickyRowCtrls.findIndex(u=>u.getRowNode()===l)===-1);(n.length||s.length)&&(r=!0);const o={};n.forEach(l=>{o[l.getRowNode().id]=l,this.stickyRowCtrls=this.stickyRowCtrls.filter(u=>u!==l)});for(const l of Object.values(o))l.getRowNode().sticky=!1;this.destroyRowCtrls(o,!1);const a=s.map(l=>(l.sticky=!0,this.createRowCon(l,!1,!1)));return this.stickyRowCtrls.push(...a),this.stickyRowCtrls.forEach(l=>l.setRowTop(l.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((l,u)=>u.getRowNode().rowIndex-l.getRowNode().rowIndex),this.containerHeight!==i&&(this.containerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),r=!0),r}};A([B("rowModel")],mb.prototype,"rowModel",2);A([B("rowRenderer")],mb.prototype,"rowRenderer",2);A([B("ctrlsService")],mb.prototype,"ctrlsService",2);A([_e],mb.prototype,"postConstruct",1);var Na=class extends Ie{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onRangeSelectionChanged())},i=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener(I.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener(I.EVENT_COLUMN_MOVED,i),this.eventService.addEventListener(I.EVENT_COLUMN_PINNED,i),this.eventService.addEventListener(I.EVENT_COLUMN_VISIBLE,i)},n=()=>{this.eventService.removeEventListener(I.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener(I.EVENT_COLUMN_MOVED,i),this.eventService.removeEventListener(I.EVENT_COLUMN_PINNED,i),this.eventService.removeEventListener(I.EVENT_COLUMN_VISIBLE,i)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListener("enableRangeSelection",o=>{o.currentValue?r():n()}),this.gridOptionsService.get("enableRangeSelection")&&r()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,I.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,I.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new mb(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),i=e??3;this.cachedRowCtrls=new H0e(i)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=zd(this.rowCtrlsByRowIndex),i=zd(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];i.length>0||r.length>0?this.allRowCtrls=[...e,...i,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(i=>i.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(i=>i.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,I.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,I.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,I.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(e))}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,I.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(i=>{const r=u=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===i&&u(c)})},n=()=>{r(u=>u.onLeftChanged())},s=()=>{r(u=>u.onWidthChanged())},o=()=>{r(u=>u.onFirstRightPinnedChanged())},a=()=>{r(u=>u.onLastLeftPinnedChanged())},l=()=>{r(u=>u.onColDefChanged())};i.addEventListener("leftChanged",n),i.addEventListener("widthChanged",s),i.addEventListener("firstRightPinnedChanged",o),i.addEventListener("lastLeftPinnedChanged",a),i.addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{i.removeEventListener("leftChanged",n),i.removeEventListener("widthChanged",s),i.removeEventListener("firstRightPinnedChanged",o),i.removeEventListener("lastLeftPinnedChanged",a),i.removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),i=e||this.gridOptionsService.get("embedFullWidthRows"),r=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const i={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(i)}getAllCellsForColumn(e){const i=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellElement(e);n&&i.push(n)}),i}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,i){e.forEach(r=>{r.destroyFirstPass(),r.destroySecondPass()}),e.length=0,i&&i.forEach(r=>{const n=new Sp(r,this.beans,!1,!1,this.printLayout);e.push(n)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,i=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=s=>{const o=s[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const i=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(i==null)return null;const n=this.gridOptionsService.getDocument().activeElement,s=this.gridOptionsService.getDomData(n,yp.DOM_DATA_KEY_CELL_CTRL),o=this.gridOptionsService.getDomData(n,Sp.DOM_DATA_KEY_ROW_CTRL);return s||o?i:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gridOptionsService.isAnimateRows(),s=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),i!=null&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const i=e.newData||e.newPage,r=this.gridOptionsService.get("suppressScrollOnNewData");i&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(e=!1){this.getAllRowCtrls().forEach(i=>{i.stopEditing(e)})}getAllCellCtrls(){const e=[],i=this.getAllRowCtrls(),r=i.length;for(let n=0;n<r;n++){const s=i[n].getAllCellCtrls(),o=s.length;for(let a=0;a<o;a++)e.push(s[a])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const r of Object.keys(this.rowCtrlsByRowIndex))i.push(this.rowCtrlsByRowIndex[r]);return i}addRenderedRowListener(e,i,r){const n=this.rowCtrlsByRowIndex[i];n&&n.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.flashCell(e))}refreshCells(e={}){const i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>r.refreshOrDestroyCell(i)),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(r=>{if(!r.isFullWidth())return;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var i;const r=this.getCellCtrls(e.rowNodes,e.columns).map(o=>o.getCellRenderer()).filter(o=>o!=null);if((i=e.columns)!=null&&i.length)return r;const n=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(s&&!this.isRowInMap(o.getRowNode(),s)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const u=a[l];u!=null&&n.push(u)}}),[...n,...r]}getCellEditorInstances(e){const i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const n=r.getCellEditor();n&&i.push(n)}),i}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(i=>{if(i.isEditing()){const r=i.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const i={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;r.rowPinned==="top"?i.top[n]=r:r.rowPinned==="bottom"?i.bottom[n]=r:i.normal[n]=r}),i}isRowInMap(e,i){const r=e.id,n=e.rowPinned;return n==="bottom"?i.bottom[r]!=null:n==="top"?i.top[r]!=null:i.normal[r]!=null}getRowCtrls(e){const i=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!i?r:r.filter(n=>{const s=n.getRowNode();return this.isRowInMap(s,i)})}getCellCtrls(e,i){let r;De(i)&&(r={},i.forEach(s=>{const o=this.columnModel.getGridColumn(s);De(o)&&(r[o.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(o=>{const a=o.getColumn().getId();r&&!r[a]||n.push(o)})}),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];Ao(this.rowCtrlsByRowIndex,(r,n)=>{n.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const i={};return Ao(this.rowCtrlsByRowIndex,(r,n)=>{const s=n.getRowNode();i[s.id]=n}),this.rowCtrlsByRowIndex={},i}removeRowCtrls(e,i=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(i),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:i}=e;let r;this.stickyRowFeature&&fH()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;this.stickyRowFeature&&(o=this.stickyRowFeature.checkStickyRows());const a=this.firstRenderedRow!==n||this.lastRenderedRow!==s;if(!(i&&!o&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!o),r!=null)){const l=this.getCellToRestoreFocusToAfterRefresh();r!=null&&l==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,i){const r={};e.forEach(o=>r[o]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!r[o]);this.removeRowCtrls(s,i)}calculateIndexesToDraw(e){let i=kZ(this.firstRenderedRow,this.lastRenderedRow);const r=(s,o)=>{const a=o.getRowNode().rowIndex;a!=null&&(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&i.push(a)};Ao(this.rowCtrlsByRowIndex,r),Ao(e,r),i.sort((s,o)=>s-o);const n=[];for(let s=0;s<i.length;s++){const o=i[s],a=this.paginationProxy.getRow(o);a&&!a.sticky&&n.push(o)}return n}recycleRows(e,i=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(i=!1),this.removeRowCompsNotToDraw(n,!i),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,i,r)}),e&&(r&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,i),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,i)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const i={type:I.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(i)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(i=>{const r=i.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.getRowNode();return!(i!=null&&!this.isRowInMap(n,i))})}createOrUpdateRowCtrl(e,i,r,n){let s,o=this.rowCtrlsByRowIndex[e];if(o||(s=this.paginationProxy.getRow(e),De(s)&&De(i)&&i[s.id]&&s.alreadyRendered&&(o=i[s.id],i[s.id]=null)),!o)if(s||(s=this.paginationProxy.getRow(e)),De(s))o=this.createRowCon(s,r,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,i){const r=[];Ao(e,(n,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!i),i?(this.zombieRowCtrls[s.getInstanceId()]=s,r.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),i&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),zQ(r))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),i=this.gridOptionsService.getRowHeightAsNumber();return e*i}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,i;if(!this.paginationProxy.isRowsToRender())e=0,i=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{const l=this.getRowBufferInPixels(),u=this.ctrlsService.getGridBodyCtrl(),c=this.gridOptionsService.get("suppressRowVirtualisation");let d=!1,h,f;do{const y=this.paginationProxy.getPixelOffset(),{pageFirstPixel:w,pageLastPixel:E}=this.paginationProxy.getCurrentPagePixelRange(),b=this.rowContainerHeightService.getDivStretchOffset(),D=u.getScrollFeature().getVScrollPosition(),P=D.top,O=D.bottom;c?(h=w+b,f=E+b):(h=Math.max(P+y-l,w)+b,f=Math.min(O+y+l,E)+b),this.firstVisibleVPixel=Math.max(P+y,w)+b,d=this.ensureAllRowsInRangeHaveHeightsCalculated(h,f)}while(d);let g=this.paginationProxy.getRowIndexAtPixel(h),v=this.paginationProxy.getRowIndexAtPixel(f);const C=this.paginationProxy.getPageFirstRow(),S=this.paginationProxy.getPageLastRow();g<C&&(g=C),v>S&&(v=S),e=g,i=v}const r=this.gridOptionsService.isDomLayout("normal"),n=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);r&&!n&&i-e>s&&(i=e+s);const o=e!==this.firstRenderedRow,a=i!==this.lastRenderedRow;if(o||a){this.firstRenderedRow=e,this.lastRenderedRow=i;const l={type:I.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:i};this.eventService.dispatchEvent(l)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:I.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,i){const r=this.paginationProxy.ensureRowHeightsValid(e,i,-1,-1);return r&&this.updateContainerHeights(),r}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),s=this.focusService.isRowNodeFocused(n),o=e.isEditing(),a=n.detail;return s||o||a?!!this.paginationProxy.isRowPresent(n):!1}createRowCon(e,i,r){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const s=this.gridOptionsService.get("suppressAnimationFrame"),o=r&&!s&&!this.printLayout;return new Sp(e,this.beans,i,o,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(i=>e[i].getRowNode())}getRowByPosition(e){let i;const{rowIndex:r}=e;switch(e.rowPinned){case"top":i=this.topRowCtrls[r];break;case"bottom":i=this.bottomRowCtrls[r];break;default:i=this.rowCtrlsByRowIndex[r],i||(i=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null);break}return i}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,i){if(e==null||i==null)return!1;const n=e>this.lastRenderedRow;return!(i<this.firstRenderedRow)&&!n}};A([B("animationFrameService")],Na.prototype,"animationFrameService",2);A([B("paginationProxy")],Na.prototype,"paginationProxy",2);A([B("columnModel")],Na.prototype,"columnModel",2);A([B("pinnedRowModel")],Na.prototype,"pinnedRowModel",2);A([B("rowModel")],Na.prototype,"rowModel",2);A([B("focusService")],Na.prototype,"focusService",2);A([B("beans")],Na.prototype,"beans",2);A([B("rowContainerHeightService")],Na.prototype,"rowContainerHeightService",2);A([B("ctrlsService")],Na.prototype,"ctrlsService",2);A([_e],Na.prototype,"postConstruct",1);Na=A([ze("rowRenderer")],Na);var H0e=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const i=this.entriesList[0];i.destroyFirstPass(),i.destroySecondPass(),this.removeFromCache(i)}}getRow(e){if(e==null||e.id==null)return null;const i=this.entriesMap[e.id];return i?(this.removeFromCache(i),i.setCached(!1),i.getRowNode()!=e?null:i):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const i=e.id,r=this.entriesMap[i];delete this.entriesMap[i],Ws(this.entriesList,r)}removeFromCache(e){const i=e.getRowNode().id;delete this.entriesMap[i],Ws(this.entriesList,e)}getEntries(){return this.entriesList}},KN=class extends Ie{formatValue(e,i,r,n,s=!0){let o=null,a;const l=e.getColDef();if(n?a=n:s&&(a=l.valueFormatter),a){const u=this.gridOptionsService.addGridCommonParams({value:r,node:i,data:i?i.data:null,colDef:l,column:e});typeof a=="function"?o=a(u):o=this.expressionService.evaluate(a,u)}else if(l.refData)return l.refData[r]||"";return o==null&&Array.isArray(r)&&(o=r.join(", ")),o}};A([B("expressionService")],KN.prototype,"expressionService",2);KN=A([ze("valueFormatterService")],KN);var WP=class extends Ie{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(e){const i=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Do(i)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,i){const r=i==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Do(r))return 0;for(let n=0;n<r.length;n++){const s=r[n];if(s.rowTop+s.rowHeight-1>=e)return n}return r.length-1}setPinnedTopRowData(){const e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);const i={type:I.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)}setPinnedBottomRowData(){const e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);const i={type:I.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)}createNodesFromData(e,i){const r=[];if(e){let n=0;e.forEach((s,o)=>{const a=new Wt(this.beans);a.data=s;const l=i?Wt.ID_PREFIX_TOP_PINNED:Wt.ID_PREFIX_BOTTOM_PINNED;a.id=l+o,a.rowPinned=i?"top":"bottom",a.setRowTop(n),a.setRowHeight(this.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(o),n+=a.rowHeight,r.push(a)})}return r}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Do(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Do(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const i=qt(e);return i.rowTop+i.rowHeight}};A([B("beans")],WP.prototype,"beans",2);A([_e],WP.prototype,"init",1);WP=A([ze("pinnedRowModel")],WP);var YH=class{constructor(e,i){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:i,children:null},this.mapToItems[i.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,i){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],i);i(e.rowNode)}depthFirstSearchEverything(e,i,r){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const s=e.childrenAfterGroup[n];s.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],i,r):r&&i(s)}i(e)}forEachChangedNodeDepthFirst(e,i=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,i)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let i=e,r=0;for(;!this.mapToItems[i.id];){const n={rowNode:i,children:null};this.mapToItems[i.id]=n,r++,i=i.parent}return r}populateColumnsMap(e,i){if(!this.keepingColumns||!i)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),i.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,i){let r=e;for(let n=0;n<i;n++){const s=this.mapToItems[r.id],o=this.mapToItems[r.parent.id];o.children||(o.children=[]),o.children.push(s),r=r.parent}}addParentNode(e,i){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,i)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,i){if(!this.keepingColumns)return i;const r=this.nodeIdsToColumns[e.id];return i.filter(s=>r[s.getId()])}getNotValueColumnsForNode(e,i){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return i.filter(s=>!r[s.getId()])}},Kv=class Wh extends Ie{constructor(e){super(),this.state=Wh.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=Wh.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=Wh.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=Wh.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,i){this.successCommon(e,i)}pageLoaded(e,i,r){this.successCommon(e,{rowData:i,rowCount:r})}isRequestMostRecentAndLive(e){const i=e===this.version,r=this.isAlive();return i&&r}successCommon(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=Wh.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(e=!0){const i={type:Wh.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(i)}};Kv.EVENT_LOAD_COMPLETE="loadComplete";Kv.STATE_WAITING_TO_LOAD="needsLoading";Kv.STATE_LOADING="loading";Kv.STATE_LOADED="loaded";Kv.STATE_FAILED="failed";var sK=Kv,Sc=class extends Ie{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Up.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(sK.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Up.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Sc.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:Sc.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),i=this.blocks.filter(r=>r.getState()===sK.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(i.length),i.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(i=>{const{id:r,state:n}=i.getBlockStateJson();e[r]=n}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Sc.BLOCK_LOADED_EVENT="blockLoaded";Sc.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";A([B("rowModel")],Sc.prototype,"rowModel",2);A([_e],Sc.prototype,"postConstruct",1);A([gl(0,ml("loggerFactory"))],Sc.prototype,"setBeans",1);Sc=A([ze("rowNodeBlockLoader")],Sc);var UP=class extends Ie{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,I.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,i,r,n){const s=this.rowModel.ensureRowHeightsValid(e,i,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s}isPaginateChildRows(){return this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.get("paginateChildRows")}onModelUpdated(e){this.calculatePages();const i={type:I.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(i)}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();const e={type:I.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e;const i={type:I.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(i)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return gt(this.topRowBounds)||gt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,i=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:i}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const i=this.getPageFirstRow(),r=this.getPageLastRow();for(let n=i;n<=r;n++){const s=this.getRow(n);s&&e(s)}}getType(){return this.rowModel.getType()}getRowBounds(e){const i=this.rowModel.getRowBounds(e);return i.rowIndex=e,i}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const i=this.getPageForIndex(e);this.goToPage(i)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return De(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:De(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:De(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:De(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:I.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(e,i){const r=this.pageSize;switch(i){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(r!==this.pageSize){const n={type:I.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(n)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(De(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:I.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const i=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(i),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};A([B("rowModel")],UP.prototype,"rowModel",2);A([_e],UP.prototype,"postConstruct",1);UP=A([ze("paginationProxy")],UP);var YN=class extends Ie{processAllCellClasses(e,i,r,n){this.processClassRules(void 0,e.cellClassRules,i,r,n),this.processStaticCellClasses(e,i,r)}processClassRules(e,i,r,n,s){if(i==null&&e==null)return;const o={},a={},l=(u,c)=>{u.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(i){const u=Object.keys(i);for(let c=0;c<u.length;c++){const d=u[c],h=i[d];let f;typeof h=="string"?f=this.expressionService.evaluate(h,r):typeof h=="function"&&(f=h(r)),l(d,g=>{f?o[g]=!0:a[g]=!0})}}e&&s&&Object.keys(e).forEach(u=>l(u,c=>{o[c]||(a[c]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(n)}getStaticCellClasses(e,i){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(i):n=r,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,i,r){this.getStaticCellClasses(e,i).forEach(s=>{r(s)})}};A([B("expressionService")],YN.prototype,"expressionService",2);YN=A([ze("stylingService")],YN);var $0e=class extends IH{constructor(e){super(e,"ag-toggle-button")}setValue(e,i){return super.setValue(e,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},qH=class extends wt{constructor(e,i){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=i}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let i="";this.params.valueFormatter&&(i=this.params.valueFormatter(e)),this.populateWithRenderer(e,i)||this.populateWithoutRenderer(e,i),this.value=e}highlightString(e){const{parsedValue:i}=this;if(this.params.cellRenderer||!De(i))return;let r=De(e);if(r){const n=i==null?void 0:i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const s=n+e.length,o=jr(i.slice(0,n),!0),a=jr(i.slice(n,s),!0),l=jr(i.slice(s));this.renderValueWithoutRenderer(`${o}<span class="ag-rich-select-row-text-highlight">${a}</span>${l}`)}else r=!1}r||this.renderValueWithoutRenderer(i)}updateHighlighted(e){var i;const r=this.getGui(),n=`ag-rich-select-row-${this.getCompId()}`;if((i=r.parentElement)==null||i.setAttribute("id",n),e){const s=this.getParentComponent().getAriaElement();aH(s,n),this.wrapperEl.setAttribute("data-active-option",n)}km(r.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,i){const r=this.gridOptionsService.getDocument(),n=this.getGui(),s=r.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";const o=jr(De(i)?i:e,!0);this.parsedValue=De(o)?o:null,n.appendChild(s),this.renderValueWithoutRenderer(o),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})}renderValueWithoutRenderer(e){const i=this.getGui().querySelector("span");i&&(i.innerHTML=De(e)?e:"&nbsp;")}populateWithRenderer(e,i){let r,n;return this.params.cellRenderer&&(n=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:i,setTooltip:(s,o)=>{this.setTooltip({newTooltipText:s,shouldDisplayTooltip:o})}})),n&&(r=n.newAgStackInstance()),r&&DH(r,this.getGui()),r?(r.then(s=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(s)})}),!0):!1}onClick(){const e=this.getParentComponent(),i={type:I.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(i)}};A([B("userComponentFactory")],qH.prototype,"userComponentFactory",2);A([_e],qH.prototype,"postConstruct",1);var vb=class lee extends gb{constructor(e){super(lee.getTemplate((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:r="listbox",listName:n}=e||{};this.cssIdentifier=i,this.ariaRole=r,this.listName=n}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),r=this.eContainer;dr(r,this.ariaRole),Ol(r,i)}addResizeObserver(){const e=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),i=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(i)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const i=e.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=CZ(i)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case ce.UP:case ce.DOWN:this.navigate(e.key===ce.UP)&&e.preventDefault();break}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(Al(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(this.lastFocusedRowIndex==null)return!1;const i=this.lastFocusedRowIndex+(e?-1:1);return i<0||i>=this.model.getRowCount()?!1:(this.focusRow(i),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const i=this.renderedRows.get(e);i&&i.eDiv.focus()},10)}getComponentAt(e){const i=this.renderedRows.get(e);return i&&i.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((i,r)=>e(i.rowComponent,r))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e,i=!0){const r=this.model.getRowCount();if(typeof e!="number"||e<0||e>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const n=e*this.rowHeight,s=n+this.rowHeight,o=this.getGui(),a=o.scrollTop,l=o.offsetHeight,u=a+l,c=i?0:this.rowHeight,d=a>n+c,h=u<s-c;if(d)return o.scrollTop=n,!0;if(h){const f=s-l;return o.scrollTop=f,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const i=this.model.getRowCount();this.eContainer.style.height=`${i*this.rowHeight}px`,JV(()=>this.eContainer.clientHeight>=i*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,i)=>this.removeRow(i))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const i=this.getGui(),r=i.scrollTop,n=r+i.offsetHeight,s=Math.floor(r/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(s,o,e)}ensureRowsRendered(e,i,r){this.renderedRows.forEach((n,s)=>{(s<e||s>i)&&s!==this.lastFocusedRowIndex&&this.removeRow(s)}),r&&this.refreshRows();for(let n=e;n<=i;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)}insertRow(e){const i=this.model.getRow(e),r=document.createElement("div");r.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),dr(r,this.ariaRole==="tree"?"treeitem":"option"),$0(r,this.model.getRowCount()),B0(r,e+1),r.setAttribute("tabindex","-1"),r.style.height=`${this.rowHeight}px`,r.style.top=`${this.rowHeight*e}px`;const n=this.componentCreator(i,r);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),r.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(e,{rowComponent:n,eDiv:r,value:i})}removeRow(e){const i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((i,r)=>{var n,s;if(r>=e)this.removeRow(r);else{const o=this.model.getRow(r);(s=(n=this.model).areRowsEqual)!=null&&s.call(n,i.value,o)?this.componentUpdater(o,i.rowComponent):this.removeRow(r)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};A([B("resizeObserverService")],vb.prototype,"resizeObserverService",2);A([B("animationFrameService")],vb.prototype,"animationFrameService",2);A([Ge("eContainer")],vb.prototype,"eContainer",2);A([_e],vb.prototype,"postConstruct",1);var uee=vb,B0e=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,cee=class extends bf{constructor(e){var i,r;super(Wi(tt({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=e==null?void 0:e.template)!=null?i:B0e,modalPicker:!1},e),{maxPickerHeight:(r=e==null?void 0:e.maxPickerHeight)!=null?r:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:n,value:s,valueList:o,searchStringCreator:a}=e||{};n!=null&&(this.cellRowHeight=n),s!==void 0&&(this.value=s),o!=null&&(this.values=o),a&&(this.searchStringCreator=a)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:e,placeholder:i}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(i),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:r=300}=this.config;this.clearSearchString=ms(this.clearSearchString,r),this.renderSelectedValue(),e&&(this.eInput.onValueChange(n=>this.searchTextFromString(n)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gridOptionsService.getDocument(),i=this.localeService.getLocaleTextFunc(),r=e.createElement("div");r.classList.add("ag-loading-text"),r.innerText=i("loadingOoo","Loading..."),this.eLoading=r}createListComponent(){this.listComponent=this.createBean(new uee({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));const e=(l,u)=>{};this.listComponent.setComponentUpdater(e),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,I.EVENT_FIELD_PICKER_VALUE_SELECTED,l=>{this.onListValueSelected(l.value,l.fromEnterKey)});const{cellRowHeight:i}=this;i&&this.listComponent.setRowHeight(i);const r=this.listComponent.getGui(),n=this.listComponent.getAriaElement();this.addManagedListener(r,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(r,"mousedown",l=>l.preventDefault()),r.classList.add("ag-rich-select-list");const s=`ag-rich-select-list-${this.listComponent.getCompId()}`;n.setAttribute("id",s);const a=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Ol(n,a),cH(this.eWrapper,n)}renderSelectedValue(){const{value:e,eDisplayField:i,config:r}=this,{allowTyping:n,initialInputValue:s}=this.config,o=this.config.valueFormatter?this.config.valueFormatter(e):e;if(n){this.eInput.setValue(s??o);return}let a;r.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:o}));let l;if(a&&(l=a.newAgStackInstance()),l)Ir(i),DH(l,i),l.then(u=>{this.addDestroyFunc(()=>this.getContext().destroyBean(u))});else{if(De(this.value))i.innerText=o,i.classList.remove("ag-display-as-placeholder");else{const{placeholder:u}=r;De(u)?(i.innerHTML=`${jr(u)}`,i.classList.add("ag-display-as-placeholder")):Ir(i)}this.setTooltip({newTooltipText:o??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:e,value:i}=this;if(i==null||!e)return-1;for(let r=0;r<e.length;r++)if(e[r]===i)return r;return-1}highlightFilterMatch(){var e;(e=this.listComponent)==null||e.forEachRenderedRow((i,r)=>{i.highlightString(this.searchString)})}highlightSelectedValue(e){var i;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(i=this.listComponent)==null||i.forEachRenderedRow((r,n)=>{const s=e===-1?!1:this.highlightedItem===n;r.updateHighlighted(s)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:i,refresh:r}=e;this.listComponent&&this.currentList!==i&&(this.currentList=i,this.listComponent.setModel({getRowCount:()=>i.length,getRow:n=>i[n],areRowsEqual:(n,s)=>n===s}),r&&(this.values?this.listComponent.refresh(!0):(this.values=i,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,i;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(e=this.eLoading)!=null&&e.offsetParent&&((i=this.eLoading.parentElement)==null||i.removeChild(this.eLoading));const r=this.getCurrentValueIndex();r!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:i}=e;if(i===ce.BACKSPACE)this.searchString=this.searchString.slice(0,-1),i="";else if(!j0(e))return;e.preventDefault(),this.searchTextFromCharacter(i)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){e==null&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:i=n=>n}=this.config;let r;return typeof e[0]=="number"||typeof e[0]=="string"?r=e.map(n=>i(n)):typeof e[0]=="object"&&this.searchStringCreator&&(r=this.searchStringCreator(e)),r}getSuggestionsAndFilteredValues(e,i){let r=[],n=[];if(!e.length)return{suggestions:r,filteredValues:n};const{searchType:s="fuzzy",filterList:o}=this.config;if(s==="fuzzy"){const a=nb(this.searchString,i,!0);r=a.values;const l=a.indices;if(o&&l.length)for(let u=0;u<l.length;u++)n.push(this.values[l[u]])}else r=i.filter((a,l)=>{const u=a.toLocaleLowerCase(),c=this.searchString.toLocaleLowerCase(),d=s==="match"?u.startsWith(c):u.indexOf(c)!==-1;return o&&d&&n.push(this.values[l]),d});return{suggestions:r,filteredValues:n}}filterListModel(e){const{filterList:i}=this.config;i&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,i;const{values:r}=this,n=this.buildSearchStrings(r);if(!n){this.highlightSelectedValue(-1);return}const{suggestions:s,filteredValues:o}=this.getSuggestionsAndFilteredValues(this.searchString,n),{filterList:a,highlightMatch:l,searchType:u="fuzzy"}=this.config,c=o.length,d=!!(a&&this.searchString!=="");if(this.filterListModel(d?o:r),s.length){const h=d?0:n.indexOf(s[0]);this.selectListItem(h)}else if(this.highlightSelectedValue(-1),!d||c)(e=this.listComponent)==null||e.ensureIndexVisible(0);else if(d){this.getAriaElement().removeAttribute("data-active-option");const h=(i=this.listComponent)==null?void 0:i.getAriaElement();h&&aH(h,null)}l&&u!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;const i=(e=this.listComponent)==null?void 0:e.getGui(),r=this.currentList?this.currentList.length===0:!1;i==null||i.classList.toggle("ag-hidden",r)}clearSearchString(){this.searchString=""}selectListItem(e,i){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!i)&&!i&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,i,r){const n=this.currentList?this.currentList.indexOf(e):-1;return n===-1?this:(this.value=e,r||this.selectListItem(n),this.renderSelectedValue(),super.setValue(e,i))}createRowComponent(e){const i=new qH(this.config,this.eWrapper);i.setParentComponent(this.listComponent),this.getContext().createBean(i),i.setState(e);const{highlightMatch:r,searchType:n="fuzzy"}=this.config;return r&&n!=="fuzzy"&&i.highlightString(this.searchString),i}getRowForMouseEvent(e){const{listComponent:i}=this;if(!i)return-1;const n=(i==null?void 0:i.getGui()).getBoundingClientRect(),s=i.getScrollTop(),o=e.clientY-n.top+s;return Math.floor(o/i.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const i=this.getRowForMouseEvent(e);i!==-1&&i!=this.lastRowHovered&&(this.lastRowHovered=i,this.selectListItem(i,!0))}onNavigationKeyDown(e,i){e.preventDefault();const r=i===ce.DOWN;if(!this.isPickerDisplayed&&r){this.showPicker();return}const n=this.highlightedItem,o=n===-1?0:n+(r?1:-1);this.selectListItem(o)}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,i){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,i),this.hidePicker()}dispatchPickerEvent(e,i){const r={type:I.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:i,value:e};this.dispatchEvent(r)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const i=e.key,{allowTyping:r}=this.config;switch(i){case ce.LEFT:case ce.RIGHT:case ce.PAGE_HOME:case ce.PAGE_END:r||e.preventDefault();break;case ce.PAGE_UP:case ce.PAGE_DOWN:e.preventDefault();break;case ce.DOWN:case ce.UP:this.onNavigationKeyDown(e,i);break;case ce.ESCAPE:this.isPickerDisplayed&&($o(this.listComponent.getGui())&&(e.preventDefault(),Al(e)),this.hidePicker());break;case ce.ENTER:this.onEnterKeyDown(e);break;case ce.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};A([B("userComponentFactory")],cee.prototype,"userComponentFactory",2);A([Ge("eInput")],cee.prototype,"eInput",2);var Cb=class dee extends MH{constructor(e){super(e,dee.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:e,maxValue:i,textFieldWidth:r,step:n,value:s,onValueChange:o}=this.config;e!=null&&this.setMinValue(e),i!=null&&this.setMaxValue(i),r!=null&&this.setTextFieldWidth(r),n!=null&&this.setStep(n),s!=null&&this.setValue(s),o!=null&&this.onValueChange(o)}onValueChange(e){const i=I.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,()=>{const r=parseFloat(this.eText.getValue());this.eSlider.setValue(r.toString(),!0),e(r||0)}),this.addManagedListener(this.eSlider,i,()=>{const r=this.eSlider.getValue();this.eText.setValue(r,!0),e(parseFloat(r))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,i){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),i||this.dispatchEvent({type:I.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};Cb.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;A([Ge("eLabel")],Cb.prototype,"eLabel",2);A([Ge("eSlider")],Cb.prototype,"eSlider",2);A([Ge("eText")],Cb.prototype,"eText",2);A([_e],Cb.prototype,"init",1);var Mf=class Og extends wt{constructor(e={}){super(Og.getTemplate(e)),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:r,suppressEnabledCheckbox:n,expanded:s,suppressToggleExpandOnEnableChange:o,useToggle:a}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=i??!0,this.items=r||[],this.useToggle=a??!1,this.alignItems=e.alignItems||"center",this.expanded=s??!0,n!=null&&(this.suppressEnabledCheckbox=n),o!=null&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(e){const i=e.cssIdentifier||"default",r=e.direction||"vertical";return`
            <div class="ag-group ag-${i}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${r} ag-${i}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const n=this.items;this.items=[],this.addItems(n)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:i,suppressOpenCloseIcons:r}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(r??!1),this.refreshChildDisplay(),kt(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(n=>{this.setEnabled(n,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(n)}),i!=null&&this.onEnableChange(i)}refreshChildDisplay(){var e;kt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),(e=this.eTitleBar)==null||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const i=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(i),this}toggleGroupExpand(e){var i;let r=!1;if((i=this.eTitleBar)!=null&&i.isSuppressCollapse()&&!this.useToggle)e=!0,r=!0;else if(e=e??!this.expanded,this.expanded===e)return this;return this.expanded=e,this.refreshChildDisplay(),kt(this.eContainer,e),r||this.dispatchEvent({type:e?Og.EVENT_EXPANDED:Og.EVENT_COLLAPSED}),this}addItems(e){e.forEach(i=>this.addItem(i))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,i){const r=this.eContainer,n=e instanceof wt?e.getGui():e;n.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i?(r.insertAdjacentElement("afterbegin",n),this.items.unshift(n)):(r.appendChild(n),this.items.push(n))}hideItem(e,i){const r=this.items[i];kt(r,!e)}getItemIndex(e){const i=e instanceof wt?e.getGui():e;return this.items.indexOf(i)}setTitle(e){var i;return(i=this.eTitleBar)==null||i.setTitle(e),this}addCssClassToTitleBar(e){var i;(i=this.eTitleBar)==null||i.addCssClass(e)}dispatchEnableChangeEvent(e){const i={type:Og.EVENT_ENABLE_CHANGE,enabled:e};this.dispatchEvent(i)}setEnabled(e,i,r){var n;return this.enabled=e,this.refreshDisabledStyles(),r||this.toggleGroupExpand(e),i||(this.cbGroupEnabled.setValue(e),(n=this.eToggle)==null||n.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListener(this,Og.EVENT_ENABLE_CHANGE,i=>e(i.enabled)),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var i;return(i=this.eTitleBar)==null||i.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const i=!this.enabled;this.eContainer.classList.toggle("ag-disabled",i),(e=this.eTitleBar)==null||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&i),this.eContainer.classList.toggle("ag-disabled-group-container",i)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new oK(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,oK.EVENT_EXPAND_CHANGED,i=>this.toggleGroupExpand(i.expanded)),e}createToggleTitleBar(){var e;const i=this.createManagedBean(new $0e({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:r=>{this.setEnabled(r,!0),this.dispatchEnableChangeEvent(r)}}));return i.addCssClass("ag-group-title-bar"),i.addCssClass(`ag-${(e=this.params.cssIdentifier)!=null?e:"default"}-group-title-bar ag-unselectable`),this.eToggle=i,this.toggleGroupExpand(this.enabled),i}};Mf.EVENT_EXPANDED="expanded";Mf.EVENT_COLLAPSED="collapsed";Mf.EVENT_ENABLE_CHANGE="enableChange";A([Ge("eToolbar")],Mf.prototype,"eToolbar",2);A([Ge("cbGroupEnabled")],Mf.prototype,"cbGroupEnabled",2);A([Ge("eContainer")],Mf.prototype,"eContainer",2);A([_e],Mf.prototype,"postConstruct",1);var Yv=class qN extends wt{constructor(e={}){super(qN.getTemplate(e)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:r}=e;this.title=i,r!=null&&(this.suppressOpenCloseIcons=r)}static getTemplate(e){var i;const r=(i=e.cssIdentifier)!=null?i:"default";return`
            <div class="ag-group-title-bar ag-${r}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${r}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(ha("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ha("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",e=>{switch(e.key){case ce.ENTER:case ce.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case ce.RIGHT:case ce.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===ce.RIGHT);break}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||vc(this.getGui(),e)}refreshOpenCloseIcons(e){const i=!this.suppressOpenCloseIcons;kt(this.eGroupOpenedIcon,i&&e),kt(this.eGroupClosedIcon,i&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){const i={type:qN.EVENT_EXPAND_CHANGED,expanded:e};this.dispatchEvent(i)}setTitle(e){return this.eTitle.innerText=e||"",kt(this.getGui(),e!=null),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const i=this.getGui();e?(i.classList.add("ag-disabled-group-title-bar"),i.removeAttribute("tabindex")):(i.classList.remove("ag-disabled-group-title-bar"),typeof this.title=="string"?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex"))}};Yv.EVENT_EXPAND_CHANGED="expandedChanged";A([Ge("eGroupOpenedIcon")],Yv.prototype,"eGroupOpenedIcon",2);A([Ge("eGroupClosedIcon")],Yv.prototype,"eGroupClosedIcon",2);A([Ge("eTitle")],Yv.prototype,"eTitle",2);A([_e],Yv.prototype,"postConstruct",1);var oK=Yv,XH=class extends gb{constructor(e=0,i){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=i??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const i=this.getParentComponent(),r=i&&i.getGui();r&&r.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case ce.UP:case ce.RIGHT:case ce.DOWN:case ce.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case ce.ESCAPE:this.closeIfIsChild()&&Al(e);break}}handleFocusIn(e){var i,r;const n=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(n)&&(this.getGui().contains(n)||(r=(i=this.activeMenuItem)==null?void 0:i.getSubMenuGui())!=null&&r.contains(n))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var i;const r=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(r)||(i=this.activeMenuItem.getSubMenuGui())!=null&&i.contains(r)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&Sa.all(e.map(i=>i==="separator"?Sa.resolve({eGui:this.createSeparator()}):typeof i=="string"?(console.warn(`AG Grid: unrecognised menu item ${i}`),Sa.resolve({eGui:null})):this.addItem(i))).then(i=>{i.forEach(r=>{r!=null&&r.eGui&&(this.appendChild(r.eGui),r.comp&&this.menuItems.push(r.comp))})})}addItem(e){const i=this.createManagedBean(new RT);return i.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(r=>r.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(i.setParentComponent(this),this.addManagedListener(i,RT.EVENT_CLOSE_MENU,r=>{this.dispatchEvent(r)}),this.addManagedListener(i,RT.EVENT_MENU_ITEM_ACTIVATED,r=>{this.activeMenuItem&&this.activeMenuItem!==r.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=r.menuItem}),{comp:i,eGui:i.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(i=>!i.isDisabled())[0];e&&e.activate()}createSeparator(){return Ks(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(e){switch(e){case ce.UP:case ce.DOWN:const r=this.findNextItem(e===ce.UP);r&&r!==this.activeMenuItem&&r.activate();return}const i=this.gridOptionsService.get("enableRtl")?ce.RIGHT:ce.LEFT;e===i?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const i=this.getParentComponent();return i&&i instanceof RT?(e&&e.preventDefault(),i.closeSubMenu(),i.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const i=this.menuItems.filter(s=>!s.isDisabled());if(!i.length)return;if(!this.activeMenuItem)return e?qt(i):i[0];e&&i.reverse();let r,n=!1;for(let s=0;s<i.length;s++){const o=i[s];if(!n){o===this.activeMenuItem&&(n=!0);continue}r=o;break}return n&&!r?i[0]:r||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};A([B("focusService")],XH.prototype,"focusService",2);A([_e],XH.prototype,"postConstruct",1);var hee=class extends gb{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===ce.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};A([_e],hee.prototype,"postConstruct",1);var Ff=class Mg extends Ie{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var i,r;const{menuItemDef:n,isAnotherSubMenuOpen:s,level:o,childComponent:a,contextParams:l}=e;return this.params=e.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=s,this.childComponent=a,this.contextParams=l,this.cssClassPrefix=(r=(i=this.params.menuItemParams)==null?void 0:i.cssClassPrefix)!=null?r:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Wi(tt({},n),{level:o,isAnotherSubMenuOpen:s,openSubMenu:c=>this.openSubMenu(c),closeSubMenu:()=>this.closeSubMenu(),closeMenu:c=>this.closeMenu(c),updateTooltip:(c,d)=>this.refreshTooltip(c,d),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(c=>{var d;this.menuItemComp=c;const h=(d=c.configureDefaults)==null?void 0:d.call(c);h&&this.configureDefaults(h===!0?void 0:h)})}addListeners(e,i){i!=null&&i.suppressClick||this.addManagedListener(e,"click",r=>this.onItemSelected(r)),i!=null&&i.suppressKeyboardSelect||this.addManagedListener(e,"keydown",r=>{(r.key===ce.ENTER||r.key===ce.SPACE)&&(r.preventDefault(),this.onItemSelected(r))}),i!=null&&i.suppressMouseDown||this.addManagedListener(e,"mousedown",r=>{r.stopPropagation(),r.preventDefault()}),i!=null&&i.suppressMouseOver||(this.addManagedListener(e,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){var i,r;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const n=Ks('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=n;let s,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const c=this.createBean(new hee(this.childComponent));c.setParentComponent(this);const d=c.getGui(),h="mouseenter",f=()=>this.cancelDeactivate();d.addEventListener(h,f),s=()=>d.removeEventListener(h,f),n.appendChild(d),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const c=this.createBean(new XH(this.level+1,this.contextParams));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),n.appendChild(c.getGui()),this.addManagedListener(c,Mg.EVENT_CLOSE_MENU,d=>this.dispatchEvent(d)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(c),e&&(o=()=>{c.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:n}),l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var c,d;u&&u.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),s(),(d=(c=this.menuItemComp).setExpanded)==null||d.call(c,!1),this.eSubMenuGui=void 0},(r=(i=this.menuItemComp).setExpanded)==null||r.call(i,!0)}setAriaExpanded(e){this.suppressAria||vc(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var i,r;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(r=(i=this.menuItemComp).setActive)==null||r.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(i=(e=this.menuItemComp).setActive)==null||i.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var i,r;(r=(i=this.menuItemComp).select)==null||r.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(tt({},this.contextParams)))):this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){const i={type:Mg.EVENT_CLOSE_MENU,event:e};this.dispatchEvent(i)}onItemActivated(){const e={type:Mg.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),Mg.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),Mg.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var i,r,n;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(()=>this.configureDefaults(e));return}let s=this.menuItemComp.getGui();const o=(r=(i=this.menuItemComp).getRootElement)==null?void 0:r.call(i);o&&(e!=null&&e.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=o),this.eGui=s,this.suppressRootStyles=!!(e!=null&&e.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(n=this.params.cssClasses)==null||n.forEach(a=>s.classList.add(a)),this.params.disabled&&s.classList.add(`${this.cssClassPrefix}-disabled`)),e!=null&&e.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!(e!=null&&e.suppressAria),this.suppressAria||(dr(s,"treeitem"),EZ(s,this.level+1),this.params.disabled&&oH(s,!0)),e!=null&&e.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!(e!=null&&e.suppressFocus)}refreshTooltip(e,i){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),!(!e||!this.menuItemComp)&&(this.tooltipFeature=this.createBean(new Gc({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:i})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Ff.EVENT_CLOSE_MENU="closeMenu";Ff.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";Ff.ACTIVATION_DELAY=80;A([B("popupService")],Ff.prototype,"popupService",2);A([B("userComponentFactory")],Ff.prototype,"userComponentFactory",2);A([B("beans")],Ff.prototype,"beans",2);var RT=Ff,If=class XN extends wt{constructor(e){super(XN.getTemplate(e)),this.config=e,this.closable=!0}static getTemplate(e){const i=e.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:e,closable:i,hideTitleBar:r,title:n,minWidth:s=250,width:o,minHeight:a=250,height:l,centered:u,popup:c,x:d,y:h}=this.config;this.positionableFeature=new Vv(this.getGui(),{minWidth:s,width:o,minHeight:a,height:l,centered:u,x:d,y:h,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const f=this.getGui();e&&this.setBodyComponent(e),r?kt(this.eTitleBar,!1):(n&&this.setTitle(n),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",g=>{const v=this.gridOptionsService.getDocument();if(f.contains(g.relatedTarget)||f.contains(v.activeElement)||this.eTitleBarButtons.contains(g.target)){g.preventDefault();return}const C=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");C&&C.focus()}),!(c&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const i=this.closeButtonComp=new wt(XN.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const r=i.getGui(),n=tr("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(n),this.addTitleBarButton(i),i.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,i){const r=this.eTitleBarButtons,n=r.children,s=n.length;i==null&&(i=s),i=Math.max(0,Math.min(i,s)),e.addCssClass("ag-panel-title-bar-button");const o=e.getGui();i===0?r.insertAdjacentElement("afterbegin",o):i===s?r.insertAdjacentElement("beforeend",o):n[i-1].insertAdjacentElement("afterend",o),e.setParentComponent(this)}getBodyHeight(){return ib(this.eContentWrapper)}getBodyWidth(){return Ef(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&$o(e)&&this.close(),super.destroy()}};If.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';A([Ge("eContentWrapper")],If.prototype,"eContentWrapper",2);A([Ge("eTitleBar")],If.prototype,"eTitleBar",2);A([Ge("eTitleBarButtons")],If.prototype,"eTitleBarButtons",2);A([Ge("eTitle")],If.prototype,"eTitle",2);A([_e],If.prototype,"postConstruct",1);var W0e=If,U0e=class extends W0e{constructor(e){super(Wi(tt({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:i,resizable:r,maximizable:n}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",s=>{this.popupService.bringPopupToFront(e)}),i&&this.setMovable(i),n&&this.setMaximizable(n),r&&this.setResizable(r)}renderComponent(){const e=this.getGui(),{alwaysOnTop:i,modal:r,title:n,afterGuiAttached:s}=this.config,o=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:r,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:i,ariaLabel:n||o("ariaLabelDialog","Dialog"),afterGuiAttached:s});a&&(this.close=a.hideFunc)}onClosed(e){var i,r;this.destroy(),(r=(i=this.config).closedCallback)==null||r.call(i,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:i,y:r,width:n,height:s}=this.lastPosition;this.setWidth(n),this.setHeight(s),this.positionableFeature.offsetElement(i,r)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){kt(this.maximizeIcon,!this.isMaximized),kt(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const i=this.eTitleBar;if(!i||e===this.isMaximizable)return;const r=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),r.addManagedListener(r.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new wt('<div class="ag-dialog-button"></span>')),i=e.getGui();return this.maximizeIcon=tr("maximize",this.gridOptionsService),i.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=tr("minimize",this.gridOptionsService),i.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};A([B("popupService")],U0e.prototype,"popupService",2);var z0e=0,jd=class extends Ie{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedListener(this.eventService,I.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:i,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const g=this.popupList[n];g.alignedToElement=i}const s=i.getBoundingClientRect(),o=this.getParentRect(),a=this.keepXYWithinBounds(r,s.top-o.top,0),l=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${l}px`;const c=o.right-o.left-l;let d;this.gridOptionsService.get("enableRtl")?(d=f(),d<0&&(d=h(),this.setAlignedStyles(r,"left")),d>c&&(d=0,this.setAlignedStyles(r,"right"))):(d=h(),d>c&&(d=f(),this.setAlignedStyles(r,"right")),d<0&&(d=0,this.setAlignedStyles(r,"left"))),r.style.left=`${d}px`,r.style.top=`${a}px`;function h(){return s.right-o.left-2}function f(){return s.left-o.left-l}}positionPopupUnderMouseEvent(e){const{ePopup:i,nudgeX:r,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:i,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const i=this.getParentRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}positionPopupByComponent(e){const{ePopup:i,nudgeX:r,nudgeY:n,keepWithinBounds:s,eventSource:o,alignSide:a="left",position:l="over",column:u,rowNode:c,type:d}=e,h=o.getBoundingClientRect(),f=this.getParentRect(),g=this.getPopupIndex(i);if(g!==-1){const C=this.popupList[g];C.alignedToElement=o}const v=()=>{let C=h.left-f.left;a==="right"&&(C-=i.offsetWidth-h.width);let S;return l==="over"?(S=h.top-f.top,this.setAlignedStyles(i,"over")):(this.setAlignedStyles(i,"under"),this.shouldRenderUnderOrAbove(i,h,f,e.nudgeY||0)==="under"?S=h.top-f.top+h.height:S=h.top-i.offsetHeight-(n||0)*2-f.top),{x:C,y:S}};this.positionPopup({ePopup:i,nudgeX:r,nudgeY:n,keepWithinBounds:s,updatePosition:v,postProcessCallback:()=>this.callPostProcessPopup(d,i,o,null,u,c)})}shouldRenderUnderOrAbove(e,i,r,n){const s=r.bottom-i.bottom,o=i.top-r.top,a=e.offsetHeight+n;return s>a?"under":o>a||o>s?"above":"under"}setAlignedStyles(e,i){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(a=>{s.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`)}),!i)||(s.classList.add(`ag-has-popup-positioned-${i}`),e.classList.add(`ag-popup-positioned-${i}`))}callPostProcessPopup(e,i,r,n,s,o){const a=this.gridOptionsService.getCallback("postProcessPopup");a&&a({column:s,rowNode:o,ePopup:i,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:i,keepWithinBounds:r,nudgeX:n,nudgeY:s,skipObserver:o,updatePosition:a}=e,l={width:0,height:0},u=(c=!1)=>{let{x:d,y:h}=a();c&&i.clientWidth===l.width&&i.clientHeight===l.height||(l.width=i.clientWidth,l.height=i.clientHeight,n&&(d+=n),s&&(h+=s),r&&(d=this.keepXYWithinBounds(i,d,1),h=this.keepXYWithinBounds(i,h,0)),i.style.left=`${d}px`,i.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!o){const c=this.resizeObserverService.observeResize(i,()=>u(!0));setTimeout(()=>c(),jd.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let i=this.getPopupParent();return i===e.body?i=e.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),SH(i)}keepXYWithinBounds(e,i,r){const n=r===0,s=n?"clientHeight":"clientWidth",o=n?"top":"left",a=n?"offsetHeight":"offsetWidth",l=n?"scrollTop":"scrollLeft",u=this.gridOptionsService.getDocument(),c=u.documentElement,d=this.getPopupParent(),h=d.getBoundingClientRect(),f=u.documentElement.getBoundingClientRect(),g=d===u.body,v=e[a];let S=g?(n?yH:XS)(c)+c[l]:d[s];g&&(S-=Math.abs(f[o]-h[o]));const y=S-v;return Math.min(Math.max(i,0),Math.abs(y))}addPopup(e){const i=this.gridOptionsService.getDocument(),{eChild:r,ariaLabel:n,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const l=this.getPopupIndex(r);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(r);const u=this.createPopupWrapper(r,n,!!s),c=this.addEventListenersToPopup(Wi(tt({},e),{wrapperEl:u}));return o&&o(),this.addPopupToPopupList(r,u,c,a),{hideFunc:c}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();De(e.style.top)||(e.style.top=`${r.top*-1}px`),De(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,i,r){const n=this.getPopupParent(),s=document.createElement("div"),{allThemes:o}=this.environment.getTheme();return o.length&&s.classList.add(...o),s.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||dr(e,"dialog"),Ol(e,i),s.appendChild(e),n.appendChild(s),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(){const{allThemes:e}=this.environment.getTheme();for(const i of this.popupList){for(const r of Array.from(i.wrapper.classList))r.startsWith("ag-theme-")&&i.wrapper.classList.remove(r);e.length&&i.wrapper.classList.add(...e)}}addEventListenersToPopup(e){const i=this.gridOptionsService.getDocument(),r=this.getPopupParent(),{wrapperEl:n,eChild:s,click:o,closedCallback:a,afterGuiAttached:l,closeOnEsc:u,modal:c}=e;let d=!1;const h=C=>{if(!n.contains(i.activeElement))return;C.key===ce.ESCAPE&&!Rl(C)&&v({keyboardEvent:C})},f=C=>v({mouseEvent:C}),g=C=>v({touchEvent:C}),v=(C={})=>{const{mouseEvent:S,touchEvent:y,keyboardEvent:w}=C;this.isEventFromCurrentPopup({mouseEvent:S,touchEvent:y},s)||d||(d=!0,r.removeChild(n),i.removeEventListener("keydown",h),i.removeEventListener("mousedown",f),i.removeEventListener("touchstart",g),i.removeEventListener("contextmenu",f),this.eventService.removeEventListener(I.EVENT_DRAG_STARTED,f),a&&a(S||y||w),this.removePopupFromPopupList(s))};return l&&l({hidePopup:v}),window.setTimeout(()=>{u&&i.addEventListener("keydown",h),c&&(i.addEventListener("mousedown",f),this.eventService.addEventListener(I.EVENT_DRAG_STARTED,f),i.addEventListener("touchstart",g),i.addEventListener("contextmenu",f))},0),v}addPopupToPopupList(e,i,r,n){this.popupList.push({element:e,wrapper:i,hideFunc:r,instanceId:z0e++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(i=>i.element===e)}setPopupPositionRelatedToElement(e,i){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!i)return;const s=this.keepPopupPositionedRelativeTo({element:i,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(i=>i.element!==e)}keepPopupPositionedRelativeTo(e){const i=this.getPopupParent(),r=i.getBoundingClientRect(),{element:n,ePopup:s}=e,o=n.getBoundingClientRect(),a=r.top-o.top,l=r.left-o.left;let u=a,c=l;const d=s.style.top,h=parseInt(d.substring(0,d.length-1),10),f=s.style.left,g=parseInt(f.substring(0,f.length-1),10);return new Sa(v=>{this.getFrameworkOverrides().setInterval(()=>{const C=i.getBoundingClientRect(),S=n.getBoundingClientRect();if(S.top==0&&S.left==0&&S.height==0&&S.width==0){e.hidePopup();return}const w=C.top-S.top;if(w!=u){const b=this.keepXYWithinBounds(s,h+a-w,0);s.style.top=`${b}px`}u=w;const E=C.left-S.left;if(E!=c){const b=this.keepXYWithinBounds(s,g+l-E,1);s.style.left=`${b}px`}c=E},200).then(C=>{v(()=>{C!=null&&window.clearInterval(C)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,i){const{mouseEvent:r,touchEvent:n}=e,s=r||n;if(!s)return!1;const o=this.getPopupIndex(i);if(o===-1)return!1;for(let a=o;a<this.popupList.length;a++){const l=this.popupList[a];if(FP(l.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const i=this.gridOptionsService.getDocument();for(;e&&e!==i.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,i){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(r))}bringPopupToFront(e){const i=this.getPopupParent(),r=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),n=r.length,s=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),o=s.length,a=this.getWrapper(e);if(!a||n<=1||!i.contains(e))return;const l=r.indexOf(a),u=a.querySelectorAll("div"),c=[];for(u.forEach(d=>{d.scrollTop!==0&&c.push([d,d.scrollTop])}),o?a.classList.contains("ag-always-on-top")?l!==n-1&&qt(s).insertAdjacentElement("afterend",a):l!==n-o-1&&s[0].insertAdjacentElement("beforebegin",a):l!==n-1&&qt(r).insertAdjacentElement("afterend",a);c.length;){const d=c.pop();d[0].scrollTop=d[1]}}};jd.WAIT_FOR_POPUP_CONTENT_RESIZE=200;A([B("focusService")],jd.prototype,"focusService",2);A([B("ctrlsService")],jd.prototype,"ctrlsService",2);A([B("resizeObserverService")],jd.prototype,"resizeObserverService",2);A([_e],jd.prototype,"postConstruct",1);jd=A([ze("popupService")],jd);var j0e=class extends wt{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,i){this.value=e,this.render(),this.updateSelected(i)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var i;let r=!1;if(De(e)){const n=(i=this.value)==null?void 0:i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){r=!0,this.hasHighlighting=!0;const s=n+e.length,o=jr(this.value.slice(0,n)),a=jr(this.value.slice(n,s)),l=jr(this.value.slice(s));this.getGui().lastElementChild.innerHTML=`${o}<b>${a}</b>${l}`}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=(e=jr(this.value))!=null?e:"&nbsp;"}},aO=class pee extends Rf{constructor(e){super(pee.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new uee({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:i=>this.autocompleteEntries[i]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",i=>i.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,i){e.preventDefault();const r=this.autocompleteEntries.indexOf(this.selectedValue),n=i===ce.UP?r-1:r+1;this.checkSetSelectedValue(n)}setSearch(e){this.searchString=e,De(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,i){let r,n=!1;const s=e.toLocaleLowerCase(),o=i.filter(a=>{const u=a.toLocaleLowerCase().indexOf(s),c=u===0,d=u>=0;return d&&(!r||!n&&c||n===c&&a.length<r.length)&&(r=a,n=c),d});return!r&&o.length&&(r=o[0]),{topMatch:r,allMatches:o}}runSearch(){var e,i;const{autocompleteEntries:r}=this.params,n=r.map(u=>{var c;return(c=u.displayValue)!=null?c:u.key});let s,o;if(this.params.useFuzzySearch)s=nb(this.searchString,n,!0).values,o=s.length?s[0]:void 0;else{const u=this.runContainsSearch(this.searchString,n);s=u.allMatches,o=u.topMatch}let a=r.filter(({key:u,displayValue:c})=>s.includes(c??u));if(!a.length&&this.selectedValue&&((i=(e=this.params)==null?void 0:e.forceLastSelection)!=null&&i.call(e,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!o)return;const l=s.indexOf(o);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const i=this.autocompleteEntries[e];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((r,n)=>{r.updateSelected(e===n)}))}createRowComponent(e){var i;const r=new j0e;return this.getContext().createBean(r),r.setState((i=e.displayValue)!=null?i:e.key,e===this.selectedValue),r}onMouseMove(e){const i=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),n=e.clientY-i.top+r,s=Math.floor(n/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!=null?e:null}};aO.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;A([Ge("eList")],aO.prototype,"eList",2);A([_e],aO.prototype,"init",1);var K0e=aO,Lf=class Gy extends wt{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const i=fu(e);this.updateValue(i),this.updateAutocompleteList(i)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:Gy.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var i,r,n,s;const o=(r=(i=this.listGenerator)==null?void 0:i.call(this,e,this.lastPosition))!=null?r:{enabled:!1};if((!o.type||o.type!==((n=this.autocompleteListParams)==null?void 0:n.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,(s=this.autocompleteListParams)!=null&&s.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const i=e.key;switch(this.updateLastPosition(),i){case ce.ENTER:this.onEnterKeyDown(e);break;case ce.TAB:this.onTabKeyDown(e);break;case ce.DOWN:case ce.UP:this.onUpDownKeyDown(e,i);break;case ce.LEFT:case ce.RIGHT:case ce.PAGE_HOME:case ce.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case ce.ESCAPE:this.onEscapeKeyDown(e);break;case ce.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}}confirmSelection(){var e;const i=(e=this.autocompleteList)==null?void 0:e.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:Gy.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,i){var r;e.preventDefault(),this.isListOpen?(r=this.autocompleteList)==null||r.onNavigationKeyDown(e,i):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!=null?e:null)}setCaret(e,i){const r=this.gridOptionsService.getDocument();i&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();const n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(e,e),e===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!=null?e:0}validate(e){var i;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((i=this.validationMessage)!=null?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:Gy.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new K0e({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),i={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},r=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(i),ariaLabel:this.listAriaLabel});this.hidePopup=r.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:Gy.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return fu(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:i,position:r,silent:n,updateListOnlyIfOpen:s,restoreFocus:o}=e;this.eAutocompleteInput.setValue(i,!0),this.setCaret(r??this.lastPosition,o),n||this.updateValue(i),(!s||this.isListOpen)&&this.updateAutocompleteList(i)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};Lf.EVENT_VALUE_CHANGED="eventValueChanged";Lf.EVENT_VALUE_CONFIRMED="eventValueConfirmed";Lf.EVENT_OPTION_SELECTED="eventOptionSelected";Lf.EVENT_VALID_CHANGED="eventValidChanged";A([B("popupService")],Lf.prototype,"popupService",2);A([Ge("eAutocompleteInput")],Lf.prototype,"eAutocompleteInput",2);A([_e],Lf.prototype,"postConstruct",1);var lh=class bD extends wt{constructor(e,i,r,n){super(),this.dragSourceDropTarget=e,this.ghost=i,this.horizontal=r,this.template=n}init(){var e;this.setTemplate((e=this.template)!=null?e:bD.TEMPLATE);const i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(tr("columnDrag",this.gridOptionsService)),this.eButton.appendChild(tr("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.localeService.getLocaleTextFunc(),i=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(i,e),Ol(this.getGui(),i.join(". "))}addAdditionalAriaInstructions(e,i){if(this.isRemovable()){const r=i("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(r)}}setupTooltip(){const e=()=>{const i=this.getTooltip();this.setTooltip({newTooltipText:i})};e(),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return Dt.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:e,eDragHandle:i}=this,r=this.createGetDragItem(),n=this.getDefaultIconName(),s={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:i,getDefaultIconName:()=>n,getDragItem:r,dragItemName:this.getDisplayName()};e.addDragSource(s,!0),this.addDestroyFunc(()=>e.removeDragSource(s))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){kt(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:bD.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",r=>this.onKeyDown(r)),this.addManagedListener(this.eButton,"click",r=>{this.dispatchEvent(e),r.stopPropagation()});const i=new mn(this.eButton);this.addManagedListener(i,mn.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(e){e.key===ce.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchEvent({type:bD.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=this.getDisplayValue(),i=jr(e);this.eText.innerHTML=i}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${i}`,`ag-column-drop-${r}-cell${i}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};lh.EVENT_COLUMN_REMOVE="columnRemove";lh.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;A([B("dragAndDropService")],lh.prototype,"dragAndDropService",2);A([Ge("eText")],lh.prototype,"eText",2);A([Ge("eDragHandle")],lh.prototype,"eDragHandle",2);A([Ge("eButton")],lh.prototype,"eButton",2);A([_e],lh.prototype,"init",1);var Y0e=lh,yb=class Yl extends wt{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state=Yl.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),dr(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:i,dragSource:r}=e;return i.contains(r.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Ir(this.getGui()),Ir(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new ah(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new Vv(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Ol(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){const i=!this.horizontal;let r=e.key===ce.DOWN,n=e.key===ce.UP;if(!i){const o=this.gridOptionsService.get("enableRtl");r=!o&&e.key===ce.RIGHT||o&&e.key===ce.LEFT,n=!o&&e.key===ce.LEFT||o&&e.key===ce.RIGHT}if(!r&&!n)return;const s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,n);s&&(e.preventDefault(),s.focus())}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${i}`,`ag-column-drop-${r}${i}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const i=this.getNewInsertIndex(e);if(i<0)return!1;const r=this.minimumAllowedNewInsertIndex(),n=Math.max(r,i),s=n!==this.insertIndex;return s&&(this.insertIndex=n),s}getNewInsertIndex(e){const i=e.event,r=this.horizontal?i.clientX:i.clientY,n=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),s=n.findIndex(o=>this.horizontal?o.right>r&&o.left<r:o.top<r&&o.bottom>r);if(s===-1){const o=this.gridOptionsService.get("enableRtl");return n.every(u=>r>(this.horizontal?u.right:u.bottom))?o&&this.horizontal?0:this.childPillComponents.length:n.every(u=>r<(this.horizontal?u.left:u.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s}checkDragStartedBySelf(e){this.state===Yl.STATE_NOT_DRAGGING&&(this.state=Yl.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const i=this.getItems(e.dragSource.getDragItem());this.state=Yl.STATE_NEW_ITEMS_IN;const r=i.filter(s=>this.isItemDroppable(s,e)),n=r.every(s=>this.childPillComponents.map(o=>o.getItem()).indexOf(s)!==-1);if(r.length!==0){if(this.potentialDndItems=r,n){this.state=Yl.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){return JQ(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state===Yl.STATE_REARRANGE_ITEMS){const i=this.getItems(e.dragSource.getDragItem());this.removeItems(i)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state=Yl.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let e=!1;this.state===Yl.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),e=!0):e=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!e)&&this.refreshGui()}this.state=Yl.STATE_NOT_DRAGGING}removeItems(e){const i=this.getExistingItems().filter(r=>!Pa(e,r));this.updateItems(i)}addItems(e){if(!e)return;const i=this.getExistingItems().slice(),r=e.filter(n=>i.indexOf(n)<0);_N(i,r,this.insertIndex),this.updateItems(i)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const i=this.getNonGhostItems().slice();return _N(i,e,this.insertIndex),lu(i,this.getExistingItems())?!1:(this.updateItems(i),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,i=this.resizeEnabled,r=this.getFocusedItem();let n=this.focusService.findNextFocusableElement();n||(n=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(r,n)}getFocusedItem(){const e=this.getGui(),i=this.gridOptionsService.getDocument().activeElement;return e.contains(i)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1}restoreFocus(e,i){const r=this.getGui(),n=Array.from(r.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;n.length===0&&i.focus();const s=Math.min(n.length-1,e),o=n[s];o&&o.focus()}focusList(e){const i=e?this.childPillComponents.length-1:0;this.restoreFocus(i,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(i=>!Pa(this.potentialDndItems,i)):e}addItemsToGui(){const i=this.getNonGhostItems().map(r=>this.createItemComponent(r,!1));if(this.isPotentialDndItems()){const r=this.potentialDndItems.map(n=>this.createItemComponent(n,!0));this.insertIndex>=i.length?i.push(...r):i.splice(this.insertIndex,0,...r)}this.appendChild(this.ePillDropList),i.forEach((r,n)=>{n>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(r.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,i)=>{const r=e.getGui();B0(r,i+1),$0(r,this.childPillComponents.length)})}createItemComponent(e,i){const r=this.createPillComponent(e,this.dropTarget,i,this.horizontal);return r.addEventListener(Y0e.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(r),this.guiDestroyFunctions.push(()=>this.destroyBean(r)),i||this.childPillComponents.push(r),r}addIconAndTitleToGui(){const{title:e,icon:i}=this.params;if(!e||!i)return;const r=document.createElement("div");if(tb(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(i,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),r.appendChild(i),!this.horizontal){const n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=e,r.appendChild(n)}this.appendChild(r)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const i=document.createElement("span");i.innerHTML=e,this.addElementClasses(i,"empty-message"),this.ePillDropList.appendChild(i)}addArrow(e){if(this.horizontal){const i=this.gridOptionsService.get("enableRtl"),r=tr(i?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(r,"cell-separator"),e.appendChild(r)}}};yb.STATE_NOT_DRAGGING="notDragging";yb.STATE_NEW_ITEMS_IN="newItemsIn";yb.STATE_REARRANGE_ITEMS="rearrangeItems";A([B("focusService")],yb.prototype,"focusService",2);A([B("dragAndDropService")],yb.prototype,"dragAndDropService",2);var Yp=class extends Ie{getNextCellToFocus(e,i,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,i):this.getNextCellToFocusWithoutCtrlPressed(e,i)}getNextCellToFocusWithCtrlPressed(e,i){const r=e===ce.UP,n=e===ce.DOWN,s=e===ce.LEFT;let o,a;if(r||n)a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),o=i.column;else{const l=this.columnModel.getAllDisplayedColumns(),u=this.gridOptionsService.get("enableRtl");a=i.rowIndex,o=s!==u?l[0]:qt(l)}return{rowIndex:a,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,i){let r=i,n=!1;for(;!n;){switch(e){case ce.UP:r=this.getCellAbove(r);break;case ce.DOWN:r=this.getCellBelow(r);break;case ce.RIGHT:this.gridOptionsService.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case ce.LEFT:this.gridOptionsService.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e);break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const i=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!i.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const i=this.columnModel.getDisplayedColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const i=this.columnModel.getDisplayedColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getRowBelow(e){const i=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(n);return s||{rowIndex:i+1,rowPinned:r}}getNextStickyPosition(e,i){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const r=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),n=i?-1:1,s=r.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=r[s+n];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}isLastRowInContainer(e){const i=e.rowPinned,r=e.rowIndex;return i==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=r:i==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=r:this.paginationProxy.getPageLastRow()<=r}getRowAbove(e){const i=e.rowIndex,r=e.rowPinned;if(r?i===0:i===this.paginationProxy.getPageFirstRow())return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const s=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(s,!0);return o||{rowIndex:i-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const i=this.columnModel.getAllDisplayedColumns();let r=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=i[0];const o=this.getRowBelow(e);if(gt(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}getNextTabbedCellBackwards(e){const i=this.columnModel.getAllDisplayedColumns();let r=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=qt(i);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(gt(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}};A([B("columnModel")],Yp.prototype,"columnModel",2);A([B("rowModel")],Yp.prototype,"rowModel",2);A([B("rowRenderer")],Yp.prototype,"rowRenderer",2);A([B("pinnedRowModel")],Yp.prototype,"pinnedRowModel",2);A([B("paginationProxy")],Yp.prototype,"paginationProxy",2);Yp=A([ze("cellNavigationService")],Yp);var Bm=class extends Ie{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let i=(e=this.gridOptionsService.get("alignedGrids"))!=null?e:[];const r=typeof i=="function";typeof i=="function"&&(i=i());const n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return i.map(o=>{var a;if(!o){Iy("alignedGrids contains an undefined option."),r||Iy(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Iy(n());return}if(o instanceof _t)return o;const l=o;return"current"in l?(a=l.current)==null?void 0:a.api:(l.api||Iy(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),l.api)}).filter(o=>!!o&&!o.isDestroyed())}init(){this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(i=>{const r=i.__getAlignedGridService();e(r)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(i=>{i.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(i=>{i.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const i=[];return e.columns?e.columns.forEach(r=>{i.push(r)}):e.column&&i.push(e.column),i}getColumnIds(e){const i=[];return e.columns?e.columns.forEach(r=>{i.push(r.getColId())}):e.column&&i.push(e.column.getColId()),i}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case I.EVENT_COLUMN_MOVED:case I.EVENT_COLUMN_VISIBLE:case I.EVENT_COLUMN_PINNED:case I.EVENT_COLUMN_RESIZED:const i=e;this.processColumnEvent(i);break;case I.EVENT_COLUMN_GROUP_OPENED:const r=e;this.processGroupOpenedEvent(r);break;case I.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){e.columnGroups.forEach(i=>{let r=null;if(i){const n=i.getGroupId();r=this.columnModel.getProvidedColumnGroup(n)}i&&!r||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),this.columnModel.setColumnGroupOpened(r,i.isExpanded(),"alignedGridChanged"))})}processColumnEvent(e){var i;const r=e.column;let n=null;if(r&&(n=this.columnModel.getPrimaryColumn(r.getColId())),r&&!n)return;const s=this.getMasterColumns(e);switch(e.type){case I.EVENT_COLUMN_MOVED:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId}));this.columnModel.applyColumnState({state:h,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${c.toIndex}`)}break;case I.EVENT_COLUMN_VISIBLE:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${c.visible}`)}break;case I.EVENT_COLUMN_PINNED:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${c.pinned}`)}break;case I.EVENT_COLUMN_RESIZED:const l=e,u={};s.forEach(c=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${c.getActualWidth()}`),u[c.getId()]={key:c.getColId(),newWidth:c.getActualWidth()}}),(i=l.flexColumns)==null||i.forEach(c=>{u[c.getId()]&&delete u[c.getId()]}),this.columnModel.setColumnWidths(Object.values(u),!1,l.finished,"alignedGridChanged");break}const a=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(l=>{l.setGridOption("alwaysShowVerticalScroll",a)})}};A([B("columnModel")],Bm.prototype,"columnModel",2);A([B("ctrlsService")],Bm.prototype,"ctrlsService",2);A([gl(0,ml("loggerFactory"))],Bm.prototype,"setBeans",1);A([_e],Bm.prototype,"init",1);Bm=A([ze("alignedGridsService")],Bm);var Wm=class extends Ie{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,I.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var i;const{newValue:r,clearSelection:n,suppressFinishActions:s,rangeSelect:o,nodes:a,event:l,source:u="api"}=e;if(a.length===0)return 0;if(a.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const c=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=a.map(f=>f.footer?f.sibling:f);if(o){if(a.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let f=null;if(u==="checkboxSelected"&&r===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){const g=d[0];if(g!==f&&this.isMultiselect())return this.selectRange(g,f,r,u)}}this.lastRowNode=r?null:d[0];let h=0;for(let f=0;f<d.length;f++){const g=d[f];c&&g.group||g.selectThisNode(r,l,u)&&h++,this.groupSelectsChildren&&((i=g.childrenAfterGroup)!=null&&i.length)&&(h+=this.selectChildren(g,r,c,u))}if(!s&&(r&&(n||!this.isMultiselect())&&(h+=this.clearOtherNodes(d[0],u)),h>0)){this.updateGroupsFromChildrenSelections(u);const g={type:I.EVENT_SELECTION_CHANGED,source:u};this.eventService.dispatchEvent(g)}return h}selectRange(e,i,r=!0,n){const s=this.rowModel.getNodesInRangeForSelection(e,i);let o=0;s.forEach(l=>{if(l.group&&this.groupSelectsChildren)return;l.selectThisNode(r,void 0,n)&&o++}),this.updateGroupsFromChildrenSelections(n);const a={type:I.EVENT_SELECTION_CHANGED,source:n};return this.eventService.dispatchEvent(a),o}selectChildren(e,i,r,n){const s=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return gt(s)?0:this.setNodesSelected({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n,nodes:s})}getLastSelectedNode(){const e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;const i=this.selectedNodes.get(qt(e));return i||null}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(i=>{i&&e.push(i)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(i=>{i&&i.data&&e.push(i.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const i=new Map;this.selectedNodes.forEach((r,n)=>{r&&e(r)&&i.set(n,r)}),this.selectedNodes=i}updateGroupsFromChildrenSelections(e,i){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const n=this.rowModel.getRootNode();i||(i=new YH(!0,n),i.setInactive());let s=!1;return i.forEachChangedNodeDepthFirst(o=>{if(o!==n){const a=o.calculateSelectedFromChildren();s=o.selectThisNode(a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,i){const r=new Map;let n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const o=this.selectedNodes.get(s.id);n+=o.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),this.groupSelectsChildren&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=s.calculateSelectedFromChildren();s.selectThisNode(o===null?!1:o,void 0,i)}),n}onRowSelected(e){const i=e.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes.set(i.id,i):this.selectedNodes.delete(i.id))}syncInRowNode(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)}syncInOldRowNode(e,i){if(De(i)&&e.id!==i.id&&i){const n=i.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(i.id,i)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const i=this.getSelectionCount();if(this.resetNodes(),i){const r={type:I.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(r)}}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const i=this.rowModel.getTopLevelNodes();if(i===null)return;const r=[];function n(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];if(l.isSelected())r.push(l);else{const u=l;u.group&&u.children&&n(u.children)}}}return n(i),r}isEmpty(){let e=0;return this.selectedNodes.forEach(i=>{i&&e++}),e===0}deselectAllRowNodes(e){const i=l=>l.selectThisNode(!1,void 0,n),r=this.rowModel.getType()==="clientSide",{source:n,justFiltered:s,justCurrentPage:o}=e;if(o||s){if(!r){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,o).forEach(i)}else this.selectedNodes.forEach(l=>{l&&i(l)}),this.reset(n);r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);const a={type:I.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(a)}getSelectedCounts(e,i){let r=0,n=0;const s=o=>{this.groupSelectsChildren&&o.group||(o.isSelected()?r++:o.selectable&&n++)};return this.getNodesToSelect(e,i).forEach(s),{selectedCount:r,notSelectedCount:n}}getSelectAllState(e,i){const{selectedCount:r,notSelectedCount:n}=this.getSelectedCounts(e,i);return r===0&&n===0?!1:r>0&&n>0?null:r>0}hasNodesToSelect(e=!1,i=!1){return this.getNodesToSelect(e,i).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,i=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const r=[];if(i)return this.paginationProxy.forEachNodeOnPage(s=>{if(!s.group){r.push(s);return}if(!s.expanded){const o=a=>{var l;r.push(a),(l=a.childrenAfterFilter)!=null&&l.length&&a.childrenAfterFilter.forEach(o)};o(s);return}this.groupSelectsChildren||r.push(s)}),r;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(s=>{r.push(s)}),r):(n.forEachNode(s=>{r.push(s)}),r)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:i,justFiltered:r,justCurrentPage:n}=e,s=a=>a.selectThisNode(!0,void 0,i);this.getNodesToSelect(r,n).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);const o={type:I.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(o)}getSelectionState(){const e=[];return this.selectedNodes.forEach(i=>{i!=null&&i.id&&e.push(i.id)}),e.length?e:null}setSelectionState(e,i){if(!Array.isArray(e))return;const r=new Set(e),n=[];this.rowModel.forEachNode(s=>{r.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:i})}};A([B("rowModel")],Wm.prototype,"rowModel",2);A([B("paginationProxy")],Wm.prototype,"paginationProxy",2);A([_e],Wm.prototype,"init",1);Wm=A([ze("selectionService")],Wm);var zP=class{constructor(e){this.viaApi=(i,...r)=>(ut(`Since v31, 'columnApi.${i}' is deprecated and moved to 'api.${i}'.`),this.api[i](...r)),this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,i){this.viaApi("setColumnGroupOpened",e,i)}getColumnGroup(e,i){return this.viaApi("getColumnGroup",e,i)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,i){return this.viaApi("getDisplayNameForColumn",e,i)}getDisplayNameForColumnGroup(e,i){return this.viaApi("getDisplayNameForColumnGroup",e,i)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,i){this.viaApi("setColumnVisible",e,i)}setColumnsVisible(e,i){this.viaApi("setColumnsVisible",e,i)}setColumnPinned(e,i){this.viaApi("setColumnPinned",e,i)}setColumnsPinned(e,i){this.viaApi("setColumnsPinned",e,i)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,i){this.viaApi("moveColumn",e,i)}moveColumnByIndex(e,i){this.viaApi("moveColumnByIndex",e,i)}moveColumns(e,i){this.viaApi("moveColumns",e,i)}moveRowGroupColumn(e,i){this.viaApi("moveRowGroupColumn",e,i)}setColumnAggFunc(e,i){this.viaApi("setColumnAggFunc",e,i)}setColumnWidth(e,i,r=!0,n){this.viaApi("setColumnWidth",e,i,r,n)}setColumnWidths(e,i=!0,r){this.viaApi("setColumnWidths",e,i,r)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,i){return this.viaApi("getPivotResultColumn",e,i)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,i){return this.viaApi("autoSizeColumn",e,i)}autoSizeColumns(e,i){this.viaApi("autoSizeColumns",e,i)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};A([B("gridApi")],zP.prototype,"api",2);zP=A([ze("columnApi")],zP);var qp=class extends Ie{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(I.EVENT_CELL_VALUE_CHANGED,e,i),this.addDestroyFunc(()=>this.eventService.removeEventListener(I.EVENT_CELL_VALUE_CHANGED,e,i)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValue(e,i,r=!1,n=!1){if(this.initialised||this.init(),!i)return;const s=e.getColDef(),o=s.field,a=e.getColId(),l=i.data;let u;const c=i.groupData&&i.groupData[a]!==void 0,d=!n&&i.aggData&&i.aggData[a]!==void 0,h=this.isSsrm&&n&&!!e.getColDef().aggFunc,f=this.isSsrm&&i.footer&&i.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===i.field);if(r&&s.filterValueGetter?u=this.executeFilterValueGetter(s.filterValueGetter,l,e,i):this.isTreeData&&d?u=i.aggData[a]:this.isTreeData&&s.valueGetter?u=this.executeValueGetter(s.valueGetter,l,e,i):this.isTreeData&&o&&l?u=fm(l,o,e.isFieldContainsDots()):c?u=i.groupData[a]:d?u=i.aggData[a]:s.valueGetter?u=this.executeValueGetter(s.valueGetter,l,e,i):f?u=fm(l,i.field,e.isFieldContainsDots()):o&&l&&!h&&(u=fm(l,o,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const g=u.substring(1);u=this.executeValueGetter(g,l,e,i)}if(u==null){const g=this.getOpenedGroup(i,e);if(g!=null)return g}return u}getOpenedGroup(e,i){if(!this.gridOptionsService.get("showOpenedGroup")||!i.getColDef().showRowGroup)return;const n=i.getColDef().showRowGroup;let s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(n===!0||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,i,r,n){const s=this.columnModel.getPrimaryColumn(i);if(!e||!s)return!1;gt(e.data)&&(e.data={});const{field:o,valueSetter:a}=s.getColDef();if(gt(o)&&gt(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const l=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(s,e),newValue:r,colDef:s.getColDef(),column:s});l.newValue=r;let u;if(De(a)?typeof a=="function"?u=a(l):u=this.expressionService.evaluate(a,l):u=this.setValueUsingField(e.data,o,r,s.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(s,e);const c={type:I.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:e.data,node:e,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:n};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){const i=e.colDef.onCellValueChanged;typeof i=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{i({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})}setValueUsingField(e,i,r,n){if(!i)return!1;let s=!1;if(!n)s=e[i]===r,s||(e[i]=r);else{const o=i.split(".");let a=e;for(;o.length>0&&a;){const l=o.shift();o.length===0?(s=a[l]===r,s||(a[l]=r)):a=a[l]}}return!s}executeFilterValueGetter(e,i,r,n){const s=this.gridOptionsService.addGridCommonParams({data:i,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(s):this.expressionService.evaluate(e,s)}executeValueGetter(e,i,r,n){const s=r.getColId(),o=this.valueCache.getValue(n,s);if(o!==void 0)return o;const a=this.gridOptionsService.addGridCommonParams({data:i,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let l;return typeof e=="function"?l=e(a):l=this.expressionService.evaluate(e,a),this.valueCache.setValue(n,s,l),l}getValueCallback(e,i){const r=this.columnModel.getPrimaryColumn(i);return r?this.getValue(r,e):null}getKeyForNode(e,i){const r=this.getValue(e,i),n=e.getColDef().keyCreator;let s=r;if(n){const o=this.gridOptionsService.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:i,data:i.data});s=n(o)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&ut("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}};A([B("expressionService")],qp.prototype,"expressionService",2);A([B("columnModel")],qp.prototype,"columnModel",2);A([B("valueCache")],qp.prototype,"valueCache",2);A([B("dataTypeService")],qp.prototype,"dataTypeService",2);A([_e],qp.prototype,"init",1);qp=A([ze("valueService")],qp);var QN=class extends Ie{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,i){if(typeof e=="string")return this.evaluateExpression(e,i);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup)}catch(r){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",i),console.log("Exception = "+r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const i=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};A([gl(0,ml("loggerFactory"))],QN.prototype,"setBeans",1);QN=A([ze("expressionService")],QN);var aK=class extends Ie{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,i){const r=this.templateCache[e];if(r)return r;let n=this.waitingCallbacks[e];const s=this;if(!n){n=[],this.waitingCallbacks[e]=n;const o=new XMLHttpRequest;o.onload=function(){s.handleHttpResult(this,e)},o.open("GET",e),o.send()}return i&&n.push(i),null}handleHttpResult(e,i){if(e.status!==200||e.response===null){console.warn(`AG Grid: Unable to get template error ${e.status} - ${i}`);return}this.templateCache[i]=e.response||e.responseText;const r=this.waitingCallbacks[i];for(let n=0;n<r.length;n++){const s=r[n];s()}}};aK=A([ze("templateService")],aK);var ZN=class extends Ie{setBeans(e){this.logging=e.get("debug")}create(e){return new fee(e,this.isLogging.bind(this))}isLogging(){return this.logging}};A([gl(0,ml("gridOptionsService"))],ZN.prototype,"setBeans",1);ZN=A([ze("loggerFactory")],ZN);var fee=class{constructor(e,i){this.name=e,this.isLoggingFunc=i}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},_f=class extends Ie{setComp(e,i,r){this.view=e,this.eGridHostDiv=i,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:s=>s===1||s===0,getIconName:()=>Dt.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new J0(this.view)),this.addRtlSupport();const n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>n()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const i=this.focusService.findTabbableParent(this.getGui());return((e=i==null?void 0:i.getAttribute("row-id"))==null?void 0:e.startsWith("detail"))||!1}showDropZones(){return Gi.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Gi.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Gi.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Gi.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const e={type:I.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const i=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),s=r.findIndex(o=>o.contains(i.activeElement))+(e?-1:1);return s<=0||s>=r.length?!1:this.focusService.focusInto(r[s])}focusInnerElement(e){const i=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(e){if(i.length>1)return this.focusService.focusInto(qt(i),!0);const n=qt(r);if(this.focusService.focusGridView(n,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(r[0]))return!0;for(let n=1;n<i.length;n++)if(this.focusService.focusInto(i[n]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};A([B("focusService")],_f.prototype,"focusService",2);A([B("resizeObserverService")],_f.prototype,"resizeObserverService",2);A([B("columnModel")],_f.prototype,"columnModel",2);A([B("ctrlsService")],_f.prototype,"ctrlsService",2);A([B("mouseEventService")],_f.prototype,"mouseEventService",2);A([B("dragAndDropService")],_f.prototype,"dragAndDropService",2);var Sb=class extends gb{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:r=>this.addCssClass(r),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:r=>{this.getGui().style.userSelect=r??"",this.getGui().style.webkitUserSelect=r??""},setCursor:r=>{this.getGui().style.cursor=r??""}};this.ctrl=this.createManagedBean(new _f);const i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.ctrl.focusInnerElement(r),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,i){const r=this.eRootWrapperBody.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",n=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${r}
                <ag-pagination></ag-pagination>
                ${n}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(i=>$o(i))}};A([B("loggerFactory")],Sb.prototype,"loggerFactory",2);A([Ge("gridBody")],Sb.prototype,"gridBodyComp",2);A([Ge("sideBar")],Sb.prototype,"sideBarComp",2);A([Ge("rootWrapperBody")],Sb.prototype,"eRootWrapperBody",2);A([_e],Sb.prototype,"postConstruct",1);var Um=class extends Ie{progressSort(e,i,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,i,r)}setSortForColumn(e,i,r,n){i!=="asc"&&i!=="desc"&&(i=null);const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();let o=[e];if(s&&e.getColDef().showRowGroup){const u=this.columnModel.getSourceColumnsForGroupColumn(e),c=u==null?void 0:u.filter(d=>d.isSortable());c&&(o=[e,...c])}o.forEach(u=>u.setSort(i,n));const a=(r||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),l=[];if(!a){const u=this.clearSortBarTheseColumns(o,n);l.push(...u)}this.updateSortIndex(e),l.push(...o),this.dispatchSortChangedEvents(n,l)}updateSortIndex(e){const i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),n=i&&r||e,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(l=>l.setSortIndex(null));const o=s.filter(l=>i&&l.getColDef().showRowGroup?!1:l!==n);(n.getSort()?[...o,n]:o).forEach((l,u)=>{l.setSortIndex(u)})}onSortChanged(e,i){this.dispatchSortChangedEvents(e,i)}isSortActive(){const i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(r=>!!r.getSort());return i&&i.length>0}dispatchSortChangedEvents(e,i){const r={type:I.EVENT_SORT_CHANGED,source:e};i&&(r.columns=i),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,i){const r=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),n.setSort(void 0,i))}),r}getNextSortDirection(e){let i;if(e.getColDef().sortingOrder?i=e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=Um.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${i}`),null;const r=i.indexOf(e.getSort()),n=r<0,s=r==i.length-1;let o;return n||s?o=i[0]:o=i[r+1],Um.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(o=>!!o.getSort());if(this.columnModel.isPivotMode()){const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(a=>{const l=!!a.getAggFunc(),u=!a.isPrimary(),c=o?this.columnModel.getGroupDisplayColumnForGroup(a.getId()):a.getColDef().showRowGroup;return l||u||c})}const i=this.columnModel.getRowGroupColumns().filter(o=>!!o.getSort()),r={};e.forEach((o,a)=>r[o.getId()]=a),e.sort((o,a)=>{const l=o.getSortIndex(),u=a.getSortIndex();if(l!=null&&u!=null)return l-u;if(l==null&&u==null){const c=r[o.getId()],d=r[a.getId()];return c>d?1:-1}else return u==null?-1:1});const n=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!i.length;n&&(e=[...new Set(e.map(o=>{var a;return(a=this.columnModel.getGroupDisplayColumnForGroup(o.getId()))!=null?a:o}))]);const s=new Map;return e.forEach((o,a)=>s.set(o,a)),n&&i.forEach(o=>{const a=this.columnModel.getGroupDisplayColumnForGroup(o.getId());s.set(o,s.get(a))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,i],[r,n])=>i-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=!!e.getColDef().showRowGroup;return i&&r}getDisplaySortForColumn(e){const i=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(i!=null&&i.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...i]:i,s=n[0].getSort();return n.every(a=>a.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};Um.DEFAULT_SORTING_ORDER=["asc","desc",null];A([B("columnModel")],Um.prototype,"columnModel",2);Um=A([ze("sortController")],Um);var bi=class extends Ie{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",bi.toggleKeyboardMode),e.addEventListener("mousedown",bi.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",bi.toggleKeyboardMode),e.addEventListener("mousedown",bi.toggleKeyboardMode))}static toggleKeyboardMode(e){const i=bi.keyboardModeActive,r=e.type==="keydown";r&&(e.ctrlKey||e.metaKey||e.altKey)||i!==r&&(bi.keyboardModeActive=r)}static unregisterGridCompController(e){bi.removeKeyboardModeEvents(e)}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const e=this.gridOptionsService.getDocument();bi.addKeyboardModeEvents(e),bi.instanceCount++,this.addDestroyFunc(()=>{bi.instanceCount--,bi.unregisterGridCompController(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(e.getId());e!==i&&this.clearFocusedCell()}isKeyboardMode(){return bi.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,Sp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,nO.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,i){let r=e;for(;r;){if(this.gridOptionsService.getDomData(r,i))return!1;r=r.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:i,column:r}=this.focusedCellPosition,n={rowIndex:e,rowPinned:i,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:i});return s&&(n.isFullWidthCell=s.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=tt({type:I.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:i,rowIndex:r,rowPinned:n,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1}=e,a=this.columnModel.getGridColumn(i);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition=a?{rowIndex:r,rowPinned:fu(n),column:a}:null;const l=Wi(tt({type:I.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:o,floating:null});this.eventService.dispatchEvent(l)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const i=e.getColumnGroupChild(),r=e.getRowIndex(),n=e.getPinned(),{column:s,headerRowIndex:o}=this.focusedHeaderPosition;return i===s&&r===o&&n==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,i){this.focusedHeaderPosition={headerRowIndex:e,column:i}}focusHeaderPosition(e){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:i,fromTab:r,allowUserOverride:n,event:s,fromCell:o,rowWithoutSpanValue:a}=e;let{headerPosition:l}=e;if(o&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(l);if(n){const d=this.getFocusedHeader(),h=this.headerNavigationService.getHeaderRowCount();if(r){const f=this.gridOptionsService.getCallback("tabToNextHeader");f&&(l=f({backwards:i==="Before",previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:h}))}else{const f=this.gridOptionsService.getCallback("navigateToNextHeader");if(f&&s){const g={key:s.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:h,event:s};l=f(g)}}}if(!l)return!1;if(l.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(l):this.focusGridView(l.column);this.headerNavigationService.scrollToColumn(l.column,i);const c=this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()).focusHeader(l.headerRowIndex,l.column,s);return c&&(a!=null||o)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(a??-1),c}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){const i=this.headerNavigationService.getHeaderRowCount()-1,r=qt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:r},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===fu(i)}findFocusableElements(e,i,r=!1){const n=HZ;let s=vH;i&&(s+=", "+i),r&&(s+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(u=>$o(u)),a=Array.prototype.slice.apply(e.querySelectorAll(s));return a.length?((u,c)=>u.filter(d=>c.indexOf(d)===-1))(o,a):o}focusInto(e,i=!1,r=!1){const n=this.findFocusableElements(e,null,r),s=i?qt(n):n[0];return s?(s.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,i){if(!i)return null;const r=this.findFocusableElements(e),n=r.indexOf(i);if(n===-1)return null;let s=-1;for(let o=n-1;o>=0;o--)if(r[o].classList.contains("ag-tab-guard-top")){s=o;break}return s<=0?null:r[s-1]}findNextFocusableElement(e=this.eGridDiv,i,r){const n=this.findFocusableElements(e,i?':not([tabindex="-1"])':null),o=this.gridOptionsService.getDocument().activeElement;let a;i?a=n.findIndex(u=>u.contains(o)):a=n.indexOf(o);const l=a+(r?-1:1);return l<0||l>=n.length?null:n[l]}isTargetUnderManagedComponent(e,i){if(!i)return!1;const r=e.querySelectorAll(`.${ah.FOCUS_MANAGED_CLASS}`);if(!r.length)return!1;for(let n=0;n<r.length;n++)if(r[n].contains(i))return!0;return!1}findTabbableParent(e,i=5){let r=0;for(;e&&_P(e)===null&&++r<=i;)e=e.parentElement;return _P(e)===null?null:e}focusGridView(e,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;const{rowIndex:n,rowPinned:s}=r,o=this.getFocusedHeader();if(!e&&o&&(e=o.column),n==null||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:n,column:e,rowPinned:s}),this.setFocusedCell({rowIndex:n,column:e,rowPinned:fu(s),forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:n,rowPinned:s,column:e};this.rangeService.setRangeToCell(a)}return!0}focusNextGridCoreContainer(e,i=!1){return!i&&this.gridCtrl.focusNextInnerContainer(e)?!0:((i||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e==null?void 0:e.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(e,i){var r,n;const s=(n=i?void 0:this.advancedFilterFocusColumn)!=null?n:(r=this.columnModel.getAllDisplayedColumns())==null?void 0:r[0];return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};bi.keyboardModeActive=!1;bi.instanceCount=0;A([B("eGridDiv")],bi.prototype,"eGridDiv",2);A([B("columnModel")],bi.prototype,"columnModel",2);A([B("headerNavigationService")],bi.prototype,"headerNavigationService",2);A([B("headerPositionUtils")],bi.prototype,"headerPositionUtils",2);A([B("rowRenderer")],bi.prototype,"rowRenderer",2);A([B("rowPositionUtils")],bi.prototype,"rowPositionUtils",2);A([B("cellPositionUtils")],bi.prototype,"cellPositionUtils",2);A([ai("rangeService")],bi.prototype,"rangeService",2);A([B("navigationService")],bi.prototype,"navigationService",2);A([B("ctrlsService")],bi.prototype,"ctrlsService",2);A([B("filterManager")],bi.prototype,"filterManager",2);A([ai("advancedFilterService")],bi.prototype,"advancedFilterService",2);A([_e],bi.prototype,"init",1);bi=A([ze("focusService")],bi);var lK=class extends Ie{setMouseOver(e){this.selectedColumns=e;const i={type:I.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(i)}clearMouseOver(){this.selectedColumns=null;const e={type:I.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};lK=A([ze("columnHoverService")],lK);var jP=class extends Ie{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}const i=r=>{for(;r.length;){const n=r.pop();n&&n()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>i(this.executeNextFuncs),0),window.setTimeout(()=>{i(this.executeLaterFuncs),e()},200)})}};A([B("ctrlsService")],jP.prototype,"ctrlsService",2);A([_e],jP.prototype,"postConstruct",1);jP=A([ze("columnAnimationService")],jP);var rw=class extends Ie{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,I.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const i=()=>{const r=this.gridOptionsService.getRowHeightAsNumber(),n=Math.floor(e/r);this.paginationProxy.setPageSize(n,"autoCalculated")};this.isBodyRendered?ms(()=>i(),50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};A([B("ctrlsService")],rw.prototype,"ctrlsService",2);A([B("paginationProxy")],rw.prototype,"paginationProxy",2);A([_e],rw.prototype,"postConstruct",1);rw=A([ze("paginationAutoPageSizeService")],rw);var JN=class extends Ie{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,i,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=r)}getValue(e,i){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[i]}};A([_e],JN.prototype,"init",1);JN=A([ze("valueCache")],JN);var q0e="paste",nw=class extends Ie{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,I.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==q0e&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,i){if(this.gridOptionsService.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gridOptionsService.get("aggregateOnlyChangedColumns"),s=new YH(n,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(o=>{r.push(o)})}this.rowRenderer.refreshCells({rowNodes:r})}};A([B("rowModel")],nw.prototype,"rowModel",2);A([B("rowRenderer")],nw.prototype,"rowRenderer",2);A([_e],nw.prototype,"init",1);nw=A([ze("changeDetectionService")],nw);var e1=class extends Ie{adaptFunction(e,i){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(i):null}adaptCellRendererFunction(e){class i{refresh(n){return!1}getGui(){return this.eGui}init(n){const s=e(n),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=Ks("<span>"+s+"</span>");return}if(s==null){this.eGui=Ks("<span></span>");return}this.eGui=s}}return i}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};A([B("componentMetadataProvider")],e1.prototype,"componentMetadataProvider",2);e1=A([ze("agComponentUtils")],e1);var KP=class extends Ie{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};A([B("agComponentUtils")],KP.prototype,"agComponentUtils",2);A([_e],KP.prototype,"postConstruct",1);KP=A([ze("componentMetadataProvider")],KP);var X0e=25,uK=10,cL=8,Q0e=4,dL=4,hL=6,Z0e=16,cK=14,pL=8,J0e={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:Q0e*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:cL*7,headerCellMinWidth:48,listItemHeight:cL*4,rowHeight:cL*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:dL*8,headerCellMinWidth:24,listItemHeight:dL*6,rowHeight:dL*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:hL*8,headerCellMinWidth:36,listItemHeight:hL*4,rowHeight:hL*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:cK+pL*4.25,headerCellMinWidth:36,listItemHeight:Z0e+pL,rowHeight:cK+pL*3.5,chartMenuPanelWidth:260}},dK={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},YP=class extends Ie{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const i=(e=this.getTheme().el)!=null?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:I.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:i,el:r}=this.getTheme();if(!i||i.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});const n=this.calculatedSizes[i][e];return n??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,r),this.calculatedSizes[i][e])}calculateValueForSassProperty(e,i,r){const n="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),s=J0e[n][e],o=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!dK[e])return s;const a=dK[e],l=o.createElement("div"),u=Array.from(r.classList);l.classList.add(i,...u),l.style.position="absolute";const c=a.reduce((h,f)=>{const g=o.createElement("div");return g.style.position="static",g.classList.add(f),h.appendChild(g),g},l);let d=0;if(o.body){o.body.appendChild(l);const h=e.toLowerCase().indexOf("height")!==-1?"height":"width";d=parseInt(window.getComputedStyle(c)[h],10),o.body.removeChild(l)}return d||s}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let i=this.eGridDiv,r=null,n=[];for(;i;)if(r=e.exec(i.className),!r)i=i.parentElement||void 0;else{const o=i.className.match(e);o&&(n=o);break}if(!r)return{allThemes:n};const s=r[0];return{theme:s,el:i,themeFamily:s.replace(/-dark$/,""),allThemes:n}}getFromTheme(e,i){var r;return(r=this.getSassVariable(i))!=null?r:e}getDefaultRowHeight(){return this.getFromTheme(X0e,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=this.gridOptionsService.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${i}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),i):e!=""?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return De(e)?Math.max(e,uK):uK}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};A([B("eGridDiv")],YP.prototype,"eGridDiv",2);A([_e],YP.prototype,"postConstruct",1);YP=A([ze("environment")],YP);var sw=class extends Ie{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,I.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=MZ(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(i!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${i} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(i)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const i=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:I.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const i=this.modelHeight-this.getUiBodyHeight(),r=e/i;return this.maxScrollY*r}};A([B("ctrlsService")],sw.prototype,"ctrlsService",2);A([gl(0,ml("loggerFactory"))],sw.prototype,"agWire",1);A([_e],sw.prototype,"postConstruct",1);sw=A([ze("rowContainerHeightService")],sw);var ow=class extends Ie{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const i=!!this.gridOptionsService.get("rowSelection"),r=this.gridOptionsService.get("isRowSelectable");if(!i||!r)return;const n=this.gridOptionsService.get("groupSelectsChildren"),s=this.rowModel.getType()==="clientSide"&&n,o=[],a=l=>{if(e&&!l.group)return;if(s&&l.group){const c=l.childrenAfterGroup.some(d=>d.selectable===!0);l.setRowSelectable(c,!0);return}const u=r?r(l):!0;l.setRowSelectable(u,!0),!u&&l.isSelected()&&o.push(l)};if(s){const l=this.rowModel;new YH(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof Wm&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};A([B("rowModel")],ow.prototype,"rowModel",2);A([B("selectionService")],ow.prototype,"selectionService",2);A([_e],ow.prototype,"init",1);ow=A([ze("selectableService")],ow);var Xo=class extends wt{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:i,btPrevious:r,btNext:n,btLast:s,pageSizeComp:o}=this;this.activateTabIndex([i,r,n,s]),i.insertAdjacentElement("afterbegin",tr(e?"last":"first",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",tr(e?"next":"previous",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",tr(e?"previous":"next",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",tr(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const i=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:i,fn:r}=e;this.addManagedListener(i,"click",r),this.addManagedListener(i,"keydown",n=>{(n.key===ce.ENTER||n.key===ce.SPACE)&&(n.preventDefault(),r())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage(),r=e?i+1:0;this.lbCurrent.textContent=this.formatNumber(r)}formatNumber(e){const i=this.gridOptionsService.getCallback("paginationNumberFormatter");if(i)return i({value:e});const r=this.localeService.getLocaleTextFunc(),n=r("thousandSeparator",","),s=r("decimalSeparator",".");return mH(e,n,s)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),i=e("page","Page"),r=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),o=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),l=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${u}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${r}</span>
                    <span id="ag-${u}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${n}</span>
                    <span id="ag-${u}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${u}-start-page">${i}</span>
                        <span id="ag-${u}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${n}</span>
                        <span id="ag-${u}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),s=e===r-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!i||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,i){oH(e,i),e.classList.toggle("ag-disabled",i)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let s,o;if(this.isZeroPagesToDisplay()?s=o=0:(s=i*e+1,o=s+i-1,r&&o>n&&(o=n)),this.lbFirstRowOnPage.textContent=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){const a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(o)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return e&&i===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(r===1){const n=this.paginationProxy.getRow(0);if(n&&n.group&&!(n.groupData||n.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(i),this.lbRecordCount.textContent=this.formatNumber(r);else{const n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};A([B("paginationProxy")],Xo.prototype,"paginationProxy",2);A([B("rowNodeBlockLoader")],Xo.prototype,"rowNodeBlockLoader",2);A([Ge("btFirst")],Xo.prototype,"btFirst",2);A([Ge("btPrevious")],Xo.prototype,"btPrevious",2);A([Ge("btNext")],Xo.prototype,"btNext",2);A([Ge("btLast")],Xo.prototype,"btLast",2);A([Ge("lbRecordCount")],Xo.prototype,"lbRecordCount",2);A([Ge("lbFirstRowOnPage")],Xo.prototype,"lbFirstRowOnPage",2);A([Ge("lbLastRowOnPage")],Xo.prototype,"lbLastRowOnPage",2);A([Ge("lbCurrent")],Xo.prototype,"lbCurrent",2);A([Ge("lbTotal")],Xo.prototype,"lbTotal",2);A([Ge("pageSizeComp")],Xo.prototype,"pageSizeComp",2);A([_e],Xo.prototype,"postConstruct",1);var lO=class gee extends wt{constructor(){super(gee.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,i){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new J0(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)}showOverlay(e,i,r){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(n=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,this.updateListenerDestroyFunc=r,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(e=this.updateListenerDestroyFunc)==null||e.call(this),Ir(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};lO.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`;A([B("overlayService")],lO.prototype,"overlayService",2);A([Ge("eOverlayWrapper")],lO.prototype,"eOverlayWrapper",2);A([_e],lO.prototype,"postConstruct",1);var aw=class extends Ie{getFirstRow(){let e=0,i;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:e,rowPinned:i}}getLastRow(){let e,i=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(i="bottom",e=r-1):this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageLastRow()):n&&(i="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:i}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,i){return!e&&!i?!0:e&&!i||!e&&i?!1:e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned}before(e,i){switch(e.rowPinned){case"top":if(i.rowPinned!=="top")return!0;break;case"bottom":if(i.rowPinned!=="bottom")return!1;break;default:if(De(i.rowPinned))return i.rowPinned!=="top";break}return e.rowIndex<i.rowIndex}rowMax(e){let i;return e.forEach(r=>{(i===void 0||this.before(i,r))&&(i=r)}),i}rowMin(e){let i;return e.forEach(r=>{(i===void 0||this.before(r,i))&&(i=r)}),i}};A([B("rowModel")],aw.prototype,"rowModel",2);A([B("pinnedRowModel")],aw.prototype,"pinnedRowModel",2);A([B("paginationProxy")],aw.prototype,"paginationProxy",2);aw=A([ze("rowPositionUtils")],aw);var hK=class extends Ie{createId(e){const{rowIndex:i,rowPinned:r,column:n}=e;return this.createIdFromValues({rowIndex:i,column:n,rowPinned:r})}createIdFromValues(e){const{rowIndex:i,rowPinned:r,column:n}=e;return`${i}.${r??"null"}.${n.getId()}`}equals(e,i){const r=e.column===i.column,n=e.rowPinned===i.rowPinned,s=e.rowIndex===i.rowIndex;return r&&n&&s}};hK=A([ze("cellPositionUtils")],hK);var ky=class{constructor(e){this.cellValueChanges=e}},fL=class extends ky{constructor(e,i,r,n){super(e),this.initialRange=i,this.finalRange=r,this.ranges=n}},mee=class vee{constructor(e){this.actionStack=[],this.maxStackSize=e||vee.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};mee.DEFAULT_STACK_SIZE=10;var pK=mee,Fl=class extends Ie{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const i={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,i),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,i);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:a,column:l,oldValue:u,value:c}=e,d={rowPinned:o,rowIndex:a,columnId:l.getColId(),newValue:c,oldValue:u};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const e=this.gridOptionsService.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new pK(e),this.redoStack=new pK(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,I.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,I.EVENT_MODEL_UPDATED,i=>{i.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,I.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const i={type:I.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(i);const r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),n={type:I.EVENT_UNDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(n)}redo(e){const i={type:I.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(i);const r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),n={type:I.EVENT_REDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(n)}undoRedo(e,i,r,n,s){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,a=>a[n],s),o instanceof fL?this.processRange(o.ranges||[o[r]]):this.processCell(o.cellValueChanges),i.push(o),!0)}processAction(e,i,r){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:o,columnId:a}=n,l={rowIndex:s,rowPinned:o},u=this.getRowNode(l);u.displayed&&u.setDataValue(a,i(n),r)})}processRange(e){let i;this.rangeService.removeAllCellRanges(!0),e.forEach((r,n)=>{if(!r)return;const s=r.startRow,o=r.endRow;n===e.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};this.rangeService.addCellRange(a)})}processCell(e){const i=e[0],{rowIndex:r,rowPinned:n}=i,s={rowIndex:r,rowPinned:n},o=this.getRowNode(s),a={rowPinned:i.rowPinned,rowIndex:o.rowIndex,columnId:i.columnId};this.setLastFocusedCell(a,!!this.rangeService)}setLastFocusedCell(e,i){const{rowIndex:r,columnId:n,rowPinned:s}=e,o=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(n);if(!a)return;o.ensureIndexVisible(r),o.ensureColumnVisible(a);const l={rowIndex:r,column:a,rowPinned:s};this.focusService.setFocusedCell(Wi(tt({},l),{forceBrowserFocus:!0})),i&&this.rangeService.setRangeToCell(l)}addRowEditingListeners(){this.addManagedListener(this.eventService,I.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,I.EVENT_ROW_EDITING_STOPPED,()=>{const e=new ky(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,I.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,I.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new ky(this.cellValueChanges);this.pushActionsToUndoStack(r)}})}addPasteListeners(){this.addManagedListener(this.eventService,I.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,I.EVENT_PASTE_END,()=>{const e=new ky(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,I.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,I.EVENT_FILL_END,e=>{const i=new fL(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(i),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,I.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?e=new fL(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new ky(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};A([B("focusService")],Fl.prototype,"focusService",2);A([B("ctrlsService")],Fl.prototype,"ctrlsService",2);A([B("rowModel")],Fl.prototype,"rowModel",2);A([B("pinnedRowModel")],Fl.prototype,"pinnedRowModel",2);A([B("cellPositionUtils")],Fl.prototype,"cellPositionUtils",2);A([B("rowPositionUtils")],Fl.prototype,"rowPositionUtils",2);A([B("columnModel")],Fl.prototype,"columnModel",2);A([ai("rangeService")],Fl.prototype,"rangeService",2);A([_e],Fl.prototype,"init",1);Fl=A([ze("undoRedoService")],Fl);var qP=class extends Ie{findHeader(e,i){let r,n,s;if(e.column instanceof $r?(n=`getDisplayedGroup${i}`,r=this.columnModel[n](e.column)):(s=`getDisplayedCol${i}`,r=this.columnModel[s](e.column)),!r)return;let{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const u=[r];for(;r.getParent();)r=r.getParent(),u.push(r);r=u[u.length-1-o]}const{column:a,headerRowIndex:l}=this.getHeaderIndexToFocus(r,o);return{column:a,headerRowIndex:l}}getHeaderIndexToFocus(e,i){let r;if(e instanceof $r&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let s=r;for(;s!==n;)i++,s=s.getParent()}return{column:r||e,headerRowIndex:i}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(i=>i.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,i){const r=this.getHeaderRowType(i),n=r==="filter",s=r==="column";let o=n?e:e.getParent(),a=i-1,l=a;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),a--;l=a,a<0&&(o=e,a=i,l=void 0)}return{column:o,headerRowIndex:a,headerRowIndexWithoutSpan:l}}getColumnVisibleChild(e,i,r="After"){const n=this.getHeaderRowType(i);let s=e,o=i+1,a=o;if(n==="group"){const l=e.getDisplayedLeafColumns(),u=r==="After"?l[0]:qt(l),c=[];let d=u;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(s=u,u.isSpanHeaderHeight())for(let h=c.length-1;h>=0;h--){const f=c[h];if(!f.isPadding()){s=f;break}o++}else s=qt(c),s||(s=u)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getHeaderRowType(e){const i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)}findColAtEdgeForHeaderRow(e,i){const r=this.columnModel.getAllDisplayedColumns(),n=r[i==="start"?0:r.length-1];if(!n)return;const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);if(o=="group"){const a=this.columnModel.getColumnGroupAtLevel(n,e);return{headerRowIndex:e,column:a}}return{headerRowIndex:o==null?-1:e,column:n}}};A([B("columnModel")],qP.prototype,"columnModel",2);A([B("ctrlsService")],qP.prototype,"ctrlsService",2);qP=A([ze("headerPositionUtils")],qP);var fK=class{buildColumnDefs(e,i,r){const n=[],s={};return e.forEach(o=>{const a=this.createDefFromColumn(o,i,r);let l=!0,u=a,c=o.getOriginalParent(),d=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const f=s[c.getGroupId()];if(f){f.children.push(u),l=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[u],s[h.groupId]=h,u=h,c=c.getOriginalParent()),c!=null&&d===c){l=!1;break}d=c}l&&n.push(u)}),n}createDefFromGroup(e){const i=AP(e.getColGroupDef(),["children"]);return i&&(i.groupId=e.getGroupId()),i}createDefFromColumn(e,i,r){const n=AP(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?i.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}};fK=A([ze("columnDefFactory")],fK);var XP=class{getInitialRowClasses(e){const i=[];return De(e.extraCssClass)&&i.push(e.extraCssClass),i.push("ag-row"),i.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&i.push("ag-opacity-zero"),i.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&i.push("ag-row-pinned"),e.rowNode.isSelected()&&i.push("ag-row-selected"),e.rowNode.footer&&i.push("ag-row-footer"),i.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&i.push("ag-row-loading"),e.fullWidthRow&&i.push("ag-full-width-row"),e.expandable&&(i.push("ag-row-group"),i.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&i.push("ag-row-dragging"),GN(i,this.processClassesFromGridOptions(e.rowNode)),GN(i,this.preProcessRowClassRules(e.rowNode)),i.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&i.push("ag-row-first"),e.lastRowOnPage&&i.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&i.push("ag-cell-last-left-pinned"),e.pinned==="right"&&i.push("ag-cell-first-right-pinned")),i}processClassesFromGridOptions(e){const i=[],r=o=>{typeof o=="string"?i.push(o):Array.isArray(o)&&o.forEach(a=>i.push(a))},n=this.gridOptionsService.get("rowClass");if(n){if(typeof n=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(n)}const s=this.gridOptionsService.getCallback("getRowClass");if(s){const o={data:e.data,node:e,rowIndex:e.rowIndex},a=s(o);r(a)}return i}preProcessRowClassRules(e){const i=[];return this.processRowClassRules(e,r=>{i.push(r)},r=>{}),i}processRowClassRules(e,i,r){const n=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),n,i,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};A([B("stylingService")],XP.prototype,"stylingService",2);A([B("gridOptionsService")],XP.prototype,"gridOptionsService",2);XP=A([ze("rowCssClassCalculator")],XP);var lw=class extends Ie{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,i){const r=(s,o)=>({currentPos:o,rowNode:s}),n=e.map(r);return n.sort(this.compareRowNodes.bind(this,i)),n.map(s=>s.rowNode)}compareRowNodes(e,i,r){const n=i.rowNode,s=r.rowNode;for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.sort==="desc",c=this.getValue(n,l.column),d=this.getValue(s,l.column);let h;const f=this.getComparator(l,n);if(f?h=f(c,d,n,s,u):h=Up.defaultComparator(c,d,this.isAccentedSort),!isNaN(h)&&h!==0)return l.sort==="asc"?h:h*-1}return i.currentPos-r.currentPos}getComparator(e,i){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const s=!i.group&&r.getColDef().field;if(!s)return;const o=this.columnModel.getPrimaryColumn(s);if(o)return o.getColDef().comparator}getValue(e,i){var r,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,e,!1,!1);if(e.rowGroupColumn===i){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const l=(r=e.allLeafChildren)==null?void 0:r[0];return l?this.valueService.getValue(i,l,!1,!1):void 0}const a=this.columnModel.getGroupDisplayColumnForGroup(i.getId());return a?(n=e.groupData)==null?void 0:n[a.getId()]:void 0}if(!(e.group&&i.getColDef().showRowGroup))return this.valueService.getValue(i,e,!1,!1)}};A([B("valueService")],lw.prototype,"valueService",2);A([B("columnModel")],lw.prototype,"columnModel",2);A([_e],lw.prototype,"init",1);lw=A([ze("rowNodeSorter")],lw);var RD=class extends Ie{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(i=>i(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};RD.NAME="ctrlsService";RD=A([ze(RD.NAME)],RD);var gK=class extends Ie{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const i=this.registry[e];if(i!=null)return new i}};gK=A([ze("ctrlsFactory")],gK);var Nf=class extends wt{constructor(e,i){super(e),this.direction=i,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,I.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",pH()||Nc())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=gH(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],r=this.getGui();e.forEach(n=>this.addManagedListener(r,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),i.forEach(n=>this.addManagedListener(r,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const i=this.getViewport();JV(()=>$o(i),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};A([Ge("eViewport")],Nf.prototype,"eViewport",2);A([Ge("eContainer")],Nf.prototype,"eContainer",2);A([B("scrollVisibleService")],Nf.prototype,"scrollVisibleService",2);A([B("ctrlsService")],Nf.prototype,"ctrlsService",2);A([B("animationFrameService")],Nf.prototype,"animationFrameService",2);var qv=class Cee extends Nf{constructor(){super(Cee.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Bv(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.gridOptionsService.getScrollbarWidth();r&&(i+=n),xa(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=n);let s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=n),xa(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),n=e&&this.gridOptionsService.getScrollbarWidth()||0,o=r?0:n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),vp(this.getGui(),o),vp(this.eViewport,o),vp(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return ZS(this.getViewport(),this.enableRtl)}setScrollPosition(e){$o(this.getViewport())||this.attemptSettingScrollPosition(e),JS(this.getViewport(),e,this.enableRtl)}};qv.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;A([Ge("eLeftSpacer")],qv.prototype,"eLeftSpacer",2);A([Ge("eRightSpacer")],qv.prototype,"eRightSpacer",2);A([B("columnModel")],qv.prototype,"columnModel",2);A([B("pinnedRowModel")],qv.prototype,"pinnedRowModel",2);A([_e],qv.prototype,"postConstruct",1);var QP=class extends Ie{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,I.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),i=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:I.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:I.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};A([B("columnModel")],QP.prototype,"columnModel",2);A([_e],QP.prototype,"postConstruct",1);QP=A([ze("pinnedWidthService")],QP);var uw=class extends Ie{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(r=>this.eventService.dispatchEvent(r)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()}};A([B("animationFrameService")],uw.prototype,"animationFrameService",2);A([B("rowModel")],uw.prototype,"rowModel",2);A([_e],uw.prototype,"postConstruct",1);uw=A([ze("rowNodeEventThrottle")],uw);var eOe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},ld=(t,e)=>{var i;return((i=e.rowModelType)!=null?i:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},tOe={enableRowGroup:ld,rowGroup:ld,rowGroupIndex:ld,enablePivot:ld,enableValue:ld,pivot:ld,pivotIndex:ld,aggFunc:ld,cellEditor:t=>t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var e;const i=["columnsMenuTab","generalMenuTab"];return(e=t.menuTabs)!=null&&e.some(r=>i.includes(r))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Jg},Jg={objectName:"colDef",allProperties:YAe.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:eOe,validations:tOe},iOe={enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},rOe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},nOe={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:t=>{var e;const i=(e=t.rowModelType)!=null?e:"clientSide";switch(i){case"clientSide":const r=`treeData requires 'getDataPath' in the ${i} row model.`;return t.getDataPath?null:r;case"serverSide":const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:n}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:t=>{var e;switch((e=t.rowModelType)!=null?e:"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>Jg,defaultColDef:()=>Jg,defaultColGroupDef:()=>Jg,autoGroupColumnDef:()=>Jg},sOe={objectName:"gridOptions",allProperties:[...bu.ALL_PROPERTIES,...fZ.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:iOe,validations:nOe},pi=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Eu,this.globalEventHandlerFactory=e=>(i,r)=>{if(this.destroyed)return;const n=CD.has(i);if(n&&!e||!n&&e)return;const s=fZ.getCallbackForEvent(i),o=this.gridOptions[s];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(r)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new zP(this.api);const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var i;return(i=this.gridOptions[e])!=null?i:rOe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return De(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(r=>{const n=r;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,e(n)})}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const i=parseInt(e);return isNaN(i)?void 0:i}}static toConstrainedNum(e,i){return r=>{const n=pi.toNumber(r);if(!(n==null||n<e||n>i))return n}}static getCoercedValue(e,i){const r=pi.PROPERTY_COERCIONS.get(e);return r?r(i):i}static getCoercedGridOptions(e){const i={};return Object.entries(e).forEach(([r,n])=>{const s=pi.getCoercedValue(r,n);i[r]=s}),i}updateGridOptions({options:e,source:i="api"}){const r={id:pi.changeSetId++,properties:[]},n=[];Object.entries(e).forEach(([s,o])=>{i==="api"&&$xe[s]&&ut(`${s} is an initial property and cannot be updated.`);const a=pi.getCoercedValue(s,o),l=typeof a=="object"&&i==="api",u=this.gridOptions[s];if(l||u!==a){this.gridOptions[s]=a;const c={type:s,currentValue:a,previousValue:u,changeSet:r,source:i};n.push(c)}}),this.validationService.processGridOptions(this.gridOptions),r.properties=n.map(s=>s.type),n.forEach(s=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${s.type} from `,s.previousValue," to  ",s.currentValue),this.propertyEventService.dispatchEvent(s)})}addEventListener(e,i){this.propertyEventService.addEventListener(e,i)}removeEventListener(e,i){this.propertyEventService.removeEventListener(e,i)}getScrollbarWidth(){if(this.scrollbarWidth==null){const i=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:LZ();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:I.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&gt(this.gridOptions.rowModelType)}isDomLayout(e){var i;return((i=this.gridOptions.domLayout)!=null?i:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,i=!1,r){if(r==null&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:r,estimated:!0};const s={node:e,data:e.data},o=this.getCallback("getRowHeight")(s);if(this.isNumeric(o))return o===0&&ut("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||gt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,i){const r=e[this.getDomDataKey()];return r?r[i]:void 0}setDomData(e,i,r){const n=this.getDomDataKey();let s=e[n];gt(s)&&(s={},e[n]=s),s[i]=r}getDocument(){let e=null;return this.gridOptions.getDocument&&De(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&De(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return De(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return()=>!0}isGroupIncludeFooterTrueOrCallback(){const e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"}getGroupIncludeFooter(){const e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){const i=e;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,i}};pi.PROPERTY_COERCIONS=new Map([...bu.BOOLEAN_PROPERTIES.map(t=>[t,pi.toBoolean]),...bu.NUMBER_PROPERTIES.map(t=>[t,pi.toNumber]),["groupAggFiltering",t=>typeof t=="function"?t:pi.toBoolean(t)],["pageSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",pi.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",pi.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",pi.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",pi.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",pi.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",pi.toConstrainedNum(0,Number.MAX_VALUE)]]);pi.changeSetId=0;A([B("gridOptions")],pi.prototype,"gridOptions",2);A([B("eventService")],pi.prototype,"eventService",2);A([B("environment")],pi.prototype,"environment",2);A([B("frameworkOverrides")],pi.prototype,"frameworkOverrides",2);A([B("eGridDiv")],pi.prototype,"eGridDiv",2);A([B("validationService")],pi.prototype,"validationService",2);A([B("gridApi")],pi.prototype,"api",2);A([_e],pi.prototype,"init",1);A([ja],pi.prototype,"destroy",1);pi=A([ze("gridOptionsService")],pi);var mK=class extends Ie{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(r,n,s)=>e({key:r,defaultValue:n,variableValues:s});const i=this.gridOptionsService.get("localeText");return(r,n,s)=>{let o=i&&i[r];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??n}}};mK=A([ze("localeService")],mK);var yee=class See extends Nf{constructor(){super(See.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new tO(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,I.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,n=r===0&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),xa(this.getGui(),n),xa(this.eViewport,n),xa(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),s=r.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,i){!i&&!$o(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};yee.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;A([_e],yee.prototype,"postConstruct",1);var vK={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},CK=["january","february","march","april","may","june","july","august","september","october","november","december"],Kd=class extends Ie{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Zg(e.source))})}processDataTypeDefinitions(){var e;const i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(([n,s])=>{this.dataTypeDefinitions[n]=Wi(tt({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})});const r=(e=this.gridOptionsService.get("dataTypeDefinitions"))!=null?e:{};this.dataTypeMatchers={},Object.entries(r).forEach(([n,s])=>{const o=this.processDataTypeDefinition(s,r,[n],i);o&&(this.dataTypeDefinitions[n]=o,s.dataTypeMatcher&&(this.dataTypeMatchers[n]=s.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(n=>{const s=this.dataTypeMatchers[n];s&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=s??i[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,i){const r=tt(tt({},e),i);return e.columnTypes&&i.columnTypes&&i.appendColumnTypes&&(r.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(i.columnTypes)]),r}processDataTypeDefinition(e,i,r,n){let s;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let a=n[o];const l=i[o];if(a&&l&&(a=l),!this.validateDataTypeDefinition(e,a,o))return;s=this.mergeDataTypeDefinitions(a,e)}else{if(r.includes(o)){ut('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const a=i[o];if(!this.validateDataTypeDefinition(e,a,o))return;const l=this.processDataTypeDefinition(a,i,[...r,o],n);if(!l)return;s=this.mergeDataTypeDefinitions(l,e)}return Wi(tt({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})}validateDataTypeDefinition(e,i,r){return i?i.baseDataType!==e.baseDataType?(ut('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ut(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return i=>{var r,n;if((r=i.node)!=null&&r.group){const s=i.column.getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(Wi(tt({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(Wi(tt({},i),{value:i.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&i.column.isRowGroupActive()){if(typeof i.value!="string"||(n=e.dataTypeMatcher)!=null&&n.call(e,i.value))return e.valueFormatter(i);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(i)}}updateColDefAndGetDataTypeDefinitionColumnType(e,i,r){let{cellDataType:n}=i;const{field:s}=i;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,i)?this.inferCellDataType(s,r):!1),!n){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[n];if(!o){ut(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,r),o.columnTypes}updateColDefAndGetColumnType(e,i,r){var n,s;const o=this.updateColDefAndGetDataTypeDefinitionColumnType(e,i,r),a=(s=(n=i.type)!=null?n:o)!=null?s:e.type;return e.type=a,a?this.convertColumnTypes(a):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const i=this.columnStateUpdatesPendingInference[e.getColId()];if(!i)return;const r=n=>{i.add(n.key)};e.addEventListener(vi.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(vi.EVENT_STATE_UPDATED,r))}canInferCellDataType(e,i){var r;if(this.rowModel.getType()!=="clientSide")return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(i,n))return!1;const s=i.type===null?e.type:i.type;if(s){const o=(r=this.gridOptionsService.get("columnTypes"))!=null?r:{};if(this.convertColumnTypes(s).some(l=>{const u=o[l.trim()];return u&&this.doColDefPropsPreventInference(u,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,i){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>this.doesColDefPropPreventInference(e,i,r,n))}doesColDefPropPreventInference(e,i,r,n){if(!i[r])return!1;const s=e[r];return s===null?(i[r]=!1,!1):n===void 0?!!s:s===n}inferCellDataType(e,i){var r;if(!e)return;let n;const s=this.getInitialData();if(s){const a=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");n=fm(s,e,a)}else this.initWaitForRowData(i);if(n==null)return;const[o]=(r=Object.entries(this.dataTypeMatchers).find(([a,l])=>l(n)))!=null?r:["object"];return o}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const i=this.rowModel.getRootNode().allLeafChildren;if(i!=null&&i.length)return i[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();const r=this.addManagedListener(this.eventService,I.EVENT_ROW_DATA_UPDATE_STARTED,n=>{const{firstRowData:s}=n;if(!s)return;r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,i),this.columnStateUpdatesPendingInference={},i&&this.columnModel.processResizeOperations();const o={type:I.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(o)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,i){this.initialData=e;const r=[];this.columnStateUpdateListenerDestroyFuncs.forEach(o=>o()),this.columnStateUpdateListenerDestroyFuncs=[];const n={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,a])=>{const l=this.columnModel.getGridColumn(o);if(!l)return;const u=l.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(l,"cellDataTypeInferred"))return;const c=l.getColDef();if(i&&c.type&&c.type!==u.type){const d=this.getUpdatedColumnState(l,a);d.rowGroup&&d.rowGroupIndex==null&&(n[o]=d),d.pivot&&d.pivotIndex==null&&(s[o]=d),r.push(d)}}),i&&r.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(n,s)),r.length&&this.columnModel.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,i){const r=this.columnModel.getColumnStateFromColDef(e);return i.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const i=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=i.valueParser!==r.valueParser,this.hasObjectValueFormatter=i.valueFormatter!==r.valueFormatter}convertColumnTypes(e){let i=[];return e instanceof Array?e.some(n=>typeof n!="string")?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):i=e:typeof e=="string"?i=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),i}getDateStringTypeDefinition(e){var i;return e?(i=this.getDataTypeDefinition(e))!=null?i:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const i=e.getColDef();if(i.cellDataType)return this.dataTypeDefinitions[i.cellDataType]}getBaseDataType(e){var i;return(i=this.getDataTypeDefinition(e))==null?void 0:i.baseDataType}checkType(e,i){var r;if(i==null)return!0;const n=(r=this.getDataTypeDefinition(e))==null?void 0:r.dataTypeMatcher;return n?n(i):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&ut('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&ut('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,i,r){const n=(l,u,c)=>{let d=l.getColDef().valueFormatter;return d===i.groupSafeValueFormatter&&(d=i.valueFormatter),this.valueFormatterService.formatValue(l,u,c,d)},s=Gi.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),o=this.localeService.getLocaleTextFunc(),a=l=>{const{filterParams:u}=e;e.filterParams=typeof u=="object"?tt(tt({},u),l):l};switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&a({comparator:(l,u)=>{const c=l==null?0:parseInt(l),d=u==null?0:parseInt(u);return c===d?0:c>d?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===ce.SPACE,a(s?{valueFormatter:l=>De(l.value)?o(String(l.value),l.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,u)=>u,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,u)=>u===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=l=>n(l.column,l.node,l.value),s&&a({valueFormatter:l=>{const u=n(l.column,l.node,l.value);return De(u)?u:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,u)=>{if(u===1&&l!=null){const c=CK[Number(l)-1];return o(c,vK[c])}return l??o("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=u=>n(u.column,u.node,u.value);const l=i.dateParser;a(s?{valueFormatter:u=>{const c=n(u.column,u.node,u.value);return De(c)?c:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:u=>{const c=l(u??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(u,c)=>{if(c===1&&u!=null){const d=CK[Number(u)-1];return o(d,vK[d])}return u??o("blanks","(Blanks)")}}:{comparator:(u,c)=>{const d=l(c);return c==null||d<u?-1:d>u?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,u)=>{const c=this.columnModel.getPrimaryColumn(r),d=c==null?void 0:c.getColDef();if(!c||!d)return 0;const h=l==null?"":n(c,null,l),f=u==null?"":n(c,null,u);return h===f?0:h>f?1:-1},e.keyCreator=l=>n(l.column,l.node,l.value),s?a({valueFormatter:l=>{const u=n(l.column,l.node,l.value);return De(u)?u:o("blanks","(Blanks)")}}):e.filterValueGetter=l=>n(l.column,l.node,this.valueService.getValue(l.column,l.node));break}}}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),i=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,s;return((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?i("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:KS(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,s;return r.newValue==null?r.newValue:((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>Lo(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>{var n;return r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?i("invalidDate","Invalid Date"):(n=yc(r.value,!1))!=null?n:""},dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>{var n;return(n=Lo(r))!=null?n:void 0},dateFormatter:r=>{var n;return(n=yc(r??null,!1))!=null?n:void 0},valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>{var n;return(n=KS(r.value))!=null?n:""}}}}};A([B("rowModel")],Kd.prototype,"rowModel",2);A([B("columnModel")],Kd.prototype,"columnModel",2);A([B("columnUtils")],Kd.prototype,"columnUtils",2);A([B("valueService")],Kd.prototype,"valueService",2);A([B("valueFormatterService")],Kd.prototype,"valueFormatterService",2);A([_e],Kd.prototype,"init",1);Kd=A([ze("dataTypeService")],Kd);var t1=class extends Ie{parseValue(e,i,r,n){const s=e.getColDef(),o=this.gridOptionsService.addGridCommonParams({node:i,data:i==null?void 0:i.data,oldValue:n,newValue:r,colDef:s,column:e}),a=s.valueParser;return De(a)?typeof a=="function"?a(o):this.expressionService.evaluate(a,o):r}};A([B("expressionService")],t1.prototype,"expressionService",2);t1=A([ze("valueParserService")],t1);var zm=class extends Ie{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gridOptionsService.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=Gi.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new fee("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){const e={type:I.EVENT_GRID_READY};this.eventService.dispatchEvent(e)}setColumnDefs(e){const i=this.gridOptionsService.get("columnDefs");if(i){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(i);return}this.columnModel.setColumnDefs(i,Zg(e.source))}}};A([B("ctrlsService")],zm.prototype,"ctrlsService",2);A([B("columnModel")],zm.prototype,"columnModel",2);A([B("rowModel")],zm.prototype,"rowModel",2);A([_e],zm.prototype,"postConstruct",1);zm=A([ze("syncService")],zm);var jm=class extends Ie{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,I.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const e={},i=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(i,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const e={},i=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(i,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,i,r){const n=e.newAgStackInstance(),s=this.addManagedPropertyListener(r,({currentValue:o})=>{n.then(a=>{a.refresh&&a.refresh(this.gridOptionsService.addGridCommonParams(tt({},o??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(n,i,s)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),i=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!i?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};A([B("userComponentFactory")],jm.prototype,"userComponentFactory",2);A([B("paginationProxy")],jm.prototype,"paginationProxy",2);A([B("columnModel")],jm.prototype,"columnModel",2);A([_e],jm.prototype,"postConstruct",1);jm=A([ze("overlayService")],jm);var so=class extends Ie{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ms(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ms(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=ms(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(e=this.gridOptionsService.get("initialState"))!=null?e:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const i=this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,({source:s})=>{s==="gridInitializing"&&(i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),r=this.addManagedListener(this.eventService,I.EVENT_ROW_COUNT_READY,()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),n=this.addManagedListener(this.eventService,I.EVENT_FIRST_DATA_RENDERED,()=>{n==null||n(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,I.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,I.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var e;const i=(e=this.gridOptionsService.get("initialState"))!=null?e:{};this.setColumnState(i),this.setColumnGroupState(i),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,I.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,I.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,I.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var e;const{filter:i,rowGroupExpansion:r,rowSelection:n,pagination:s}=(e=this.gridOptionsService.get("initialState"))!=null?e:{},o=this.gridOptionsService.get("advancedFilterModel");(i||o)&&this.setFilterState(i,o),r&&this.setRowGroupExpansionState(r),n&&this.setRowSelectionState(n),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,I.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,I.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,I.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,I.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,a=>{(a.newPage||a.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var e;const{scroll:i,rangeSelection:r,focusedCell:n,columnOrder:s}=(e=this.gridOptionsService.get("initialState"))!=null?e:{};n&&this.setFocusedCellState(n),r&&this.setRangeSelectionState(r),i&&this.setScrollState(i),this.setColumnPivotState(!!(s!=null&&s.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,I.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,I.EVENT_RANGE_SELECTION_CHANGED,o=>{o.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,I.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const e=this.columnModel.isPivotMode(),i=[],r=[],n=[],s=[],o=[],a=[],l=[],u=[],c=[],d=this.columnModel.getColumnState();for(let h=0;h<d.length;h++){const{colId:f,sort:g,sortIndex:v,rowGroup:C,rowGroupIndex:S,aggFunc:y,pivot:w,pivotIndex:E,pinned:b,hide:D,width:P,flex:O}=d[h];c.push(f),g&&(i[v??0]={colId:f,sort:g}),C&&(r[S??0]=f),typeof y=="string"&&n.push({colId:f,aggFunc:y}),w&&(s[E??0]=f),b&&(b==="right"?a:o).push(f),D&&l.push(f),(O||P)&&u.push({colId:f,flex:O??void 0,width:P})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:i,rowGroup:r,aggregation:n,pivot:s,columnPinning:o,columnVisibility:a,columnSizing:l,columnOrder:u}=e,c={},d=v=>{let C=c[v];return C||(C={colId:v},c[v]=C,C)};i&&i.sortModel.forEach(({colId:v,sort:C},S)=>{const y=d(v);y.sort=C,y.sortIndex=S}),r&&r.groupColIds.forEach((v,C)=>{const S=d(v);S.rowGroup=!0,S.rowGroupIndex=C}),n&&n.aggregationModel.forEach(({colId:v,aggFunc:C})=>{d(v).aggFunc=C}),s&&(s.pivotColIds.forEach((v,C)=>{const S=d(v);S.pivot=!0,S.pivotIndex=C}),this.gridOptionsService.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"})),o&&(o.leftColIds.forEach(v=>{d(v).pinned="left"}),o.rightColIds.forEach(v=>{d(v).pinned="right"})),a&&a.hiddenColIds.forEach(v=>{d(v).hide=!0}),l&&l.columnSizingModel.forEach(({colId:v,flex:C,width:S})=>{const y=d(v);y.flex=C??null,y.width=S});const h=u==null?void 0:u.orderedColIds,f=!!(h!=null&&h.length),g=f?h.map(v=>d(v)):Object.values(c);if(g.length){this.columnStates=g;const v={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:g,applyOrder:f,defaultState:v},"gridInitializing")}}setColumnPivotState(e){const i=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(i){let n=[];for(const s of i)this.columnModel.getSecondaryColumn(s.colId)&&n.push(s);this.columnModel.applyColumnState({state:n,applyOrder:e},"gridInitializing")}r&&this.columnModel.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnModel.getColumnGroupState(),i=[];return e.forEach(({groupId:r,open:n})=>{n&&i.push(r)}),i.length?{openColumnGroupIds:i}:void 0}setColumnGroupState(e){var i;if(!e.hasOwnProperty("columnGroup"))return;const r=new Set((i=e.columnGroup)==null?void 0:i.openColumnGroupIds),s=this.columnModel.getColumnGroupState().map(({groupId:o})=>{const a=r.has(o);return a&&r.delete(o),{groupId:o,open:a}});r.forEach(o=>{s.push({groupId:o,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnModel.setColumnGroupState(s,"gridInitializing")}getFilterState(){var e;let i=this.filterManager.getFilterModel();i&&Object.keys(i).length===0&&(i=void 0);const r=(e=this.filterManager.getAdvancedFilterModel())!=null?e:void 0;return i||r?{filterModel:i,advancedFilterModel:r}:void 0}setFilterState(e,i){const{filterModel:r,advancedFilterModel:n}=e??{advancedFilterModel:i};r&&this.filterManager.setFilterModel(r,"columnFilter"),n&&this.filterManager.setAdvancedFilterModel(n)}getRangeSelectionState(){var e;const i=(e=this.rangeService)==null?void 0:e.getCellRanges().map(r=>{const{id:n,type:s,startRow:o,endRow:a,columns:l,startColumn:u}=r;return{id:n,type:s,startRow:o,endRow:a,colIds:l.map(c=>c.getColId()),startColId:u.getColId()}});return i!=null&&i.length?{cellRanges:i}:void 0}setRangeSelectionState(e){var i;if(!this.gridOptionsService.get("enableRangeSelection"))return;const r=e.cellRanges.map(n=>Wi(tt({},n),{columns:n.colIds.map(s=>this.columnModel.getGridColumn(s)),startColumn:this.columnModel.getGridColumn(n.startColId)}));(i=this.rangeService)==null||i.setCellRanges(r)}getScrollState(){var e,i,r;if(!this.isClientSideRowModel)return;const n=(e=this.ctrlsService.getGridBodyCtrl())==null?void 0:e.getScrollFeature(),{left:s}=(i=n==null?void 0:n.getHScrollPosition())!=null?i:{left:0},{top:o}=(r=n==null?void 0:n.getVScrollPosition())!=null?r:{top:0};return o||s?{top:o,left:s}:void 0}setScrollState(e){var i;if(!this.isClientSideRowModel)return;const{top:r,left:n}=e;(i=this.ctrlsService.getGridBodyCtrl())==null||i.getScrollFeature().setScrollPosition(r,n)}getSideBarState(){var e,i;return(i=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:i.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:i,rowIndex:r,rowPinned:n}=e;return{colId:i.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:i,rowIndex:r,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(i),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const e=this.paginationProxy.getCurrentPage(),i=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!i))return{page:e,pageSize:i}}setPaginationState(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;const i=this.selectionService.getSelectionState();return!i||!Array.isArray(i)&&(i.selectAll===!1||i.selectAllChildren===!1)&&!((e=i==null?void 0:i.toggledNodes)!=null&&e.length)?void 0:i}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const i=this.getColumnState();let r=!1;Object.entries(i).forEach(([n,s])=>{FN(s,this.cachedState[n])||(r=!0)}),this.cachedState=tt(tt({},this.cachedState),i),r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,i){const r=this.cachedState[e];this.setCachedStateValue(e,i),FN(i,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,i){this.cachedState=Wi(tt({},this.cachedState),{[e]:i})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(i=>this.queuedUpdateSources.add(i)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const i={type:I.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(i)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};A([B("filterManager")],so.prototype,"filterManager",2);A([ai("rangeService")],so.prototype,"rangeService",2);A([B("ctrlsService")],so.prototype,"ctrlsService",2);A([ai("sideBarService")],so.prototype,"sideBarService",2);A([B("focusService")],so.prototype,"focusService",2);A([B("columnModel")],so.prototype,"columnModel",2);A([B("paginationProxy")],so.prototype,"paginationProxy",2);A([B("rowModel")],so.prototype,"rowModel",2);A([B("selectionService")],so.prototype,"selectionService",2);A([B("expansionService")],so.prototype,"expansionService",2);A([B("columnAnimationService")],so.prototype,"columnAnimationService",2);A([_e],so.prototype,"postConstruct",1);so=A([ze("stateService")],so);var ZP=class extends Ie{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,sOe)}processColumnDefs(e){this.processOptions(e,Jg)}processOptions(e,i){const{validations:r,deprecations:n,allProperties:s,propertyExceptions:o,objectName:a,docsUrl:l}=i;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],s,a,l);const u=new Set;Object.keys(e).forEach(d=>{var h;const f=n[d];if(f)if("renamed"in f){const{renamed:E,version:b}=f;u.add(`As of v${b}, ${String(d)} is deprecated. Please use ${String(E)} instead.`),e[E]=e[d]}else{const{message:E,version:b}=f;u.add(`As of v${b}, ${String(d)} is deprecated. ${E??""}`)}const g=e[d];if(g==null||g===!1)return;const v=r[d];let C;if(v)if(typeof v=="function"){const E=v(e,this.gridOptions);if(!E)return;if("objectName"in E){const b=e[d];if(Array.isArray(b)){b.forEach(D=>{this.processOptions(D,E)});return}this.processOptions(e[d],E);return}C=E}else C=v;else return;const{module:S,dependencies:y,supportedRowModels:w}=C;if(w){const E=(h=this.gridOptions.rowModelType)!=null?h:"clientSide";if(!w.includes(E)){u.add(`${String(d)} is not supported with the '${E}' row model.`);return}}if(S){const E=Array.isArray(S)?S:[S];let b=!0;if(E.forEach(D=>{Gi.__assertRegistered(D,String(d),this.context.getGridId())||(b=!1,u.add(`${String(d)} is only available when ${D} is loaded.`))}),!b)return}if(y){const E=this.checkForWarning(d,y,e);if(E){u.add(E);return}}}),u.size>0&&u.forEach(d=>{ut(d)})}checkForWarning(e,i,r){if(typeof i=="function")return i(r,this.gridOptions);const s=Object.entries(i).find(([l,u])=>{const c=r[l];return!u.includes(c)});if(!s)return null;const[o,a]=s;return a.length>1?`'${String(e)}' requires '${o}' to be one of [${a.join(", ")}].`:`'${String(e)}' requires '${o}' to be ${a[0]}.`}checkProperties(e,i,r,n,s){const o=["__ob__","__v_skip","__metadata__"],a=YZ(Object.getOwnPropertyNames(e),[...o,...i,...r],r);if(Ao(a,(l,u)=>{ut(`invalid ${n} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}`)}),Object.keys(a).length>0&&s){const l=this.getFrameworkOverrides().getDocLink(s);ut(`to see all the valid ${n} properties please check: ${l}`)}}};A([B("gridOptions")],ZP.prototype,"gridOptions",2);A([_e],ZP.prototype,"init",1);ZP=A([ze("validationService")],ZP);var i1=class extends Ie{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new tH(this.getFrameworkOverrides())}addEventListener(e,i){const r=this.frameworkEventWrappingService.wrap(i),n=this.gridOptionsService.useAsyncEvents()&&!CD.has(e),s=n?this.asyncEventListeners:this.syncEventListeners;s.has(e)||s.set(e,new Set),s.get(e).add(r),this.eventService.addEventListener(e,r,n)}removeEventListener(e,i){var r;const n=this.frameworkEventWrappingService.unwrap(i),s=this.asyncEventListeners.get(e),o=!!(s!=null&&s.delete(n));o||(r=this.syncEventListeners.get(e))==null||r.delete(n),this.eventService.removeEventListener(e,n,o)}addGlobalListener(e){const i=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gridOptionsService.useAsyncEvents()){const n=(o,a)=>{CD.has(o)&&i(o,a)},s=(o,a)=>{CD.has(o)||i(o,a)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:s}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(i),this.eventService.addGlobalListener(i,!1)}removeGlobalListener(e){const i=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(i)){const{syncListener:n,asyncListener:s}=this.globalEventListenerPairs.get(i);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(i),this.eventService.removeGlobalListener(i,!1)}destroyEventListeners(e,i){e.forEach((r,n)=>{r.forEach(s=>this.eventService.removeEventListener(n,s,i)),r.clear()}),e.clear()}destroyGlobalListeners(e,i){e.forEach(r=>this.eventService.removeGlobalListener(r,i)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:i})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(i,!0)}),this.globalEventListenerPairs.clear()}};A([_e],i1.prototype,"postConstruct",1);i1=A([ze("apiEventService")],i1);var uO=class extends wt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const i=Number(e);isNaN(i)||i<1||i===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(i,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,I.EVENT_PAGINATION_CHANGED,e=>this.handlePaginationChanged(e))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const i=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(i)?this.selectPageSizeComp.setValue(i.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Ir(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),r=!i||!e.includes(i);r&&(e.unshift(""),ut(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const n=this.localeService.getLocaleTextFunc(),s=n("pageSizeSelectorLabel","Page Size:"),o=e.map(l=>({value:String(l),text:String(l)})),a=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new FH).addOptions(o).setValue(String(r?"":i)).setAriaLabel(a).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=r}getPageSizeSelectorValues(){const e=[20,50,100],i=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(i)||!this.validateValues(i)?e:[...i].sort((r,n)=>r-n)}validateValues(e){if(!e.length)return ut(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let i=0;i<e.length;i++){const r=e[i],n=typeof r=="number",s=r>0;if(!n)return ut(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!s)return ut(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};A([B("localeService")],uO.prototype,"localeService",2);A([B("gridOptionsService")],uO.prototype,"gridOptionsService",2);A([B("paginationProxy")],uO.prototype,"paginationProxy",2);A([_e],uO.prototype,"init",1);var JP=class extends Ie{constructor(){super(),this.descriptionContainer=null,this.announceValue=ms(this.announceValue.bind(this),200)}postConstruct(){const e=this.gridOptionsService.getDocument(),i=this.descriptionContainer=e.createElement("div");i.classList.add("ag-aria-description-container"),sH(i,"polite"),wZ(i,"additions text"),SZ(i,!0),this.eGridDiv.appendChild(i)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Ir(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};A([B("eGridDiv")],JP.prototype,"eGridDiv",2);A([_e],JP.prototype,"postConstruct",1);JP=A([ze("ariaAnnouncementService")],JP);var Xv=typeof global>"u"?{}:global;Xv.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Xv.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Xv.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Xv.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Xv.Node=typeof Node>"u"?{}:Node;Xv.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var oOe=Object.defineProperty,aOe=Object.getOwnPropertyDescriptor,ns=(t,e,i,r)=>{for(var n=r>1?void 0:r?aOe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&oOe(e,i,n),n},lOe=class{setBeans(e){this.beans=e}getFileName(e){const i=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${i}`:e}getData(e){const i=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(i,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},uOe=class{constructor(e){this.groupColumns=[];const{columnModel:i,valueService:r,gridOptionsService:n,valueFormatterService:s,valueParserService:o,processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:c}=e;this.columnModel=i,this.valueService=r,this.gridOptionsService=n,this.valueFormatterService=s,this.valueParserService=o,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(i=>!!i.getColDef().showRowGroup)}extractHeaderValue(e){const i=this.getHeaderName(this.processHeaderCallback,e);return i??""}extractRowCellValue(e,i,r,n,s){const a=(!this.gridOptionsService.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,i)?this.createValueForGroupNode(e,s):this.valueService.getValue(e,s);return this.processCell({accumulatedRowIndex:r,rowNode:s,column:e,value:a,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,i,r){var n;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(i)!==-1){if(((n=e.groupData)==null?void 0:n[i.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){const l=i.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&a}getHeaderName(e,i){return e?e(this.gridOptionsService.addGridCommonParams({column:i})):this.columnModel.getDisplayNameForColumn(i,"csv",!0)}createValueForGroupNode(e,i){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:i}));const r=this.gridOptionsService.get("treeData"),n=this.gridOptionsService.get("suppressGroupMaintainValueType"),s=u=>{var c,d;if(r||n)return u.key;const h=(c=u.groupData)==null?void 0:c[e.getId()];return!h||!u.rowGroupColumn||u.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:(d=this.valueFormatterService.formatValue(u.rowGroupColumn,u,h))!=null?d:h},o=i.footer,a=[s(i)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;i.parent;)i=i.parent,a.push(s(i));const l=a.reverse().join(" -> ");return o?`Total ${l}`:l}processCell(e){var i;const{accumulatedRowIndex:r,rowNode:n,column:s,value:o,processCellCallback:a,type:l}=e;return a?{value:(i=a(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:r,column:s,node:n,value:o,type:l,parseValue:u=>this.valueParserService.parseValue(s,n,u,this.valueService.getValue(s,n)),formatValue:u=>{var c;return(c=this.valueFormatterService.formatValue(s,n,u))!=null?c:u}})))!=null?i:""}:s.getColDef().useValueFormatterForExport!==!1?{value:o??"",valueFormatted:this.valueFormatterService.formatValue(s,n,o)}:{value:o??""}}},cOe=class{static download(e,i){const r=document.defaultView||window;if(!r){console.warn("AG Grid: There is no `window` associated with the current `document`");return}const n=document.createElement("a"),s=r.URL.createObjectURL(i);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(s)},0)}},yK=`\r
`,dOe=class extends uOe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:i,columnSeparator:r}=e;this.suppressQuotes=i,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,yK),this.result+=e):e.forEach(i=>{this.beginNewLine(),i.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,i,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(n)}appendEmptyCells(e){for(let i=1;i<=e;i++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,i){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,i,r){var n;i!=0&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,i,i,"csv",r);this.result+=this.putInQuotes((n=s.valueFormatted)!=null?n:s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let i;return typeof e=="string"?i=e:typeof e.toString=="function"?i=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),i=""),'"'+i.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=yK),this.isFirstLine=!1}},Tu=class extends lOe{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(e){const i=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},i,e)}export(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}const i=this.getMergedParams(e),r=this.getData(i),n=new Blob(["\uFEFF",r],{type:"text/plain"}),s=typeof i.fileName=="function"?i.fileName(this.gridOptionsService.getGridCommonParams()):i.fileName;cOe.download(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,i=!1){const r=i?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:i,valueService:r,gridOptionsService:n,valueFormatterService:s,valueParserService:o}=this,{processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:h}=e;return new dOe({columnModel:i,valueService:r,gridOptionsService:n,valueFormatterService:s,valueParserService:o,processCellCallback:a||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:h||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};ns([B("columnModel")],Tu.prototype,"columnModel",2);ns([B("valueService")],Tu.prototype,"valueService",2);ns([B("gridSerializer")],Tu.prototype,"gridSerializer",2);ns([B("gridOptionsService")],Tu.prototype,"gridOptionsService",2);ns([B("valueFormatterService")],Tu.prototype,"valueFormatterService",2);ns([B("valueParserService")],Tu.prototype,"valueParserService",2);ns([_e],Tu.prototype,"postConstruct",1);Tu=ns([ze("csvCreator")],Tu);var Du=class extends Ie{serialize(e,i={}){const{allColumns:r,columnKeys:n,skipRowGroups:s}=i,o=this.getColumnsToExport(r,s,n);return Up.compose(this.prepareSession(o),this.prependContent(i),this.exportColumnGroups(i,o),this.exportHeaders(i,o),this.processPinnedTopRows(i,o),this.processRows(i,o),this.processPinnedBottomRows(i,o),this.appendContent(i))(e).parse()}processRow(e,i,r,n){const s=i.shouldRowBeSkipped||(()=>!1),o=this.gridOptionsService.get("groupRemoveSingleChildren"),a=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=i.rowPositions!=null||!!i.onlySelected,c=this.gridOptionsService.get("groupHideOpenParents")&&!u,d=this.columnModel.isPivotMode()?n.leafGroup:!n.group,h=!!n.footer;i.skipRowGroups;const f=a&&n.leafGroup,g=n.allChildrenCount===1&&(o||f);if(!d&&!h&&(i.skipRowGroups||g||c)||i.onlySelected&&!n.isSelected()||i.skipPinnedTop&&n.rowPinned==="top"||i.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!d&&!h||s(this.gridOptionsService.addGridCommonParams({node:n})))return;const S=e.onNewBodyRow(n);if(r.forEach((y,w)=>{S.onColumn(y,w,n)}),i.getCustomContentBelowRow){const y=i.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:n}));y&&e.addCustomContent(y)}}appendContent(e){return i=>{const r=e.appendContent;return r&&i.addCustomContent(r),i}}prependContent(e){return i=>{const r=e.prependContent;return r&&i.addCustomContent(r),i}}prepareSession(e){return i=>(i.prepare(e),i)}exportColumnGroups(e,i){return r=>{if(!e.skipColumnGroupHeaders){const n=new uZ,s=this.displayedGroupCreator.createDisplayedGroups(i,n,null);this.recursivelyAddHeaderGroups(s,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,i){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();i.forEach((s,o)=>{n.onColumn(s,o,void 0)})}return r}}processPinnedTopRows(e,i){return r=>{const n=this.processRow.bind(this,r,e,i);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedTopRow(n),r}}processRows(e,i){return r=>{const n=this.rowModel,s=n.getType(),o=s==="clientSide",a=s==="serverSide",l=!o&&e.onlySelected,u=this.processRow.bind(this,r,e,i),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,h)=>d.rowIndex-h.rowIndex).map(d=>n.getRow(d.rowIndex)).forEach(u);else if(this.columnModel.isPivotMode())o?n.forEachPivotNode(u,!0):a?n.forEachNodeAfterFilterAndSort(u,!0):n.forEachNode(u);else if(e.onlySelectedAllPages||l){const d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(u)}else c==="all"?n.forEachNode(u):o||a?n.forEachNodeAfterFilterAndSort(u,!0):n.forEachNode(u);return r}}replicateSortedOrder(e){const i=this.sortController.getSortOptions(),r=(n,s)=>{var o,a,l,u;return n.rowIndex!=null&&s.rowIndex!=null?n.rowIndex-s.rowIndex:n.level===s.level?((o=n.parent)==null?void 0:o.id)===((a=s.parent)==null?void 0:a.id)?this.rowNodeSorter.compareRowNodes(i,{rowNode:n,currentPos:(l=n.rowIndex)!=null?l:-1},{rowNode:s,currentPos:(u=s.rowIndex)!=null?u:-1}):r(n.parent,s.parent):n.level>s.level?r(n.parent,s):r(n,s.parent)};e.sort(r)}processPinnedBottomRows(e,i){return r=>{const n=this.processRow.bind(this,r,e,i);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedBottomRow(n),r}}getColumnsToExport(e=!1,i=!1,r){const n=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);const s=this.gridOptionsService.get("treeData");let o=[];return e&&!n?o=this.columnModel.getAllGridColumns():o=this.columnModel.getAllDisplayedColumns(),i&&!s&&(o=o.filter(a=>a.getColId()!==Gm)),o}recursivelyAddHeaderGroups(e,i,r){const n=[];e.forEach(s=>{const o=s;o.getChildren&&o.getChildren().forEach(a=>n.push(a))}),e.length>0&&e[0]instanceof $r&&this.doAddHeaderHeader(i,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,i,r)}doAddHeaderHeader(e,i,r){const n=e.onNewHeaderGroupingRow();let s=0;i.forEach(o=>{const a=o;let l;r?l=r(this.gridOptionsService.addGridCommonParams({columnGroup:a})):l=this.columnModel.getDisplayNameForColumnGroup(a,"header");const u=a.getLeafColumns().reduce((c,d,h,f)=>{let g=Up.last(c);return d.getColumnGroupShow()==="open"?(!g||g[1]!=null)&&(g=[h],c.push(g)):g&&g[1]==null&&(g[1]=h-1),h===f.length-1&&g&&g[1]==null&&(g[1]=h),c},[]);n.onColumn(a,l||"",s++,a.getLeafColumns().length-1,u)})}};ns([B("displayedGroupCreator")],Du.prototype,"displayedGroupCreator",2);ns([B("columnModel")],Du.prototype,"columnModel",2);ns([B("rowModel")],Du.prototype,"rowModel",2);ns([B("pinnedRowModel")],Du.prototype,"pinnedRowModel",2);ns([B("selectionService")],Du.prototype,"selectionService",2);ns([B("rowNodeSorter")],Du.prototype,"rowNodeSorter",2);ns([B("sortController")],Du.prototype,"sortController",2);Du=ns([ze("gridSerializer")],Du);var hOe="31.2.1",pOe={version:hOe,moduleName:eH.CsvExportModule,beans:[Tu,Du]},QH=Object.defineProperty,fOe=Object.defineProperties,gOe=Object.getOwnPropertyDescriptor,mOe=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,wee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,SK=(t,e,i)=>e in t?QH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,it=(t,e)=>{for(var i in e||(e={}))wee.call(e,i)&&SK(t,i,e[i]);if(ex)for(var i of ex(e))Eee.call(e,i)&&SK(t,i,e[i]);return t},Ui=(t,e)=>fOe(t,mOe(e)),vOe=(t,e)=>{var i={};for(var r in t)wee.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&ex)for(var r of ex(t))e.indexOf(r)<0&&Eee.call(t,r)&&(i[r]=t[r]);return i},bn=(t,e)=>{for(var i in e)QH(t,i,{get:e[i],enumerable:!0})},x=(t,e,i,r)=>{for(var n=r>1?void 0:r?gOe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&QH(e,i,n),n},Cl=(t,e)=>(i,r)=>e(i,r,t),bee={};bn(bee,{attrToBoolean:()=>tx,attrToNumber:()=>Hd,attrToString:()=>COe,defaultComparator:()=>yOe,exists:()=>Te,jsonEquals:()=>r1,makeNull:()=>gu,missing:()=>ht,missingOrEmpty:()=>Po,toStringOrNull:()=>cw,values:()=>Ep});function gu(t){return t==null||t===""?null:t}function Te(t,e=!1){return t!=null&&(t!==""||e)}function ht(t){return!Te(t)}function Po(t){return t==null||t.length===0}function cw(t){return t!=null&&typeof t.toString=="function"?t.toString():null}function Hd(t){if(t===void 0)return;if(t===null||t==="")return null;if(typeof t=="number")return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function tx(t){if(t!==void 0)return t===null||t===""?!1:typeof t=="boolean"?t:/true/i.test(t)}function COe(t){if(!(t==null||t===""))return t}function r1(t,e){const i=t?JSON.stringify(t):null,r=e?JSON.stringify(e):null;return i===r}function yOe(t,e,i=!1){const r=t==null,n=e==null;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&n)return 0;if(r)return-1;if(n)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof t!="string"||!i)return s(t,e);try{return t.localeCompare(e)}catch{return s(t,e)}}function Ep(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(i=>e.push(i)),e}return Object.values(t)}var SOe=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=cw(t);let i=0;for(;;){let r;if(t?(r=t,i!==0&&(r+="_"+i)):e?(r=e,i!==0&&(r+="_"+i)):r=i,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);i++}}},Ree={};bn(Ree,{cloneObject:()=>ZH,deepCloneDefinition:()=>ix,getAllValuesInObject:()=>Yd,getValueUsingField:()=>vm,isNonNullObject:()=>rx,iterateObject:()=>Zn,mergeDeep:()=>No,removeAllReferences:()=>Tee});function Zn(t,e){if(t!=null){if(Array.isArray(t)){for(let i=0;i<t.length;i++)e(i.toString(),t[i]);return}for(const[i,r]of Object.entries(t))e(i,r)}}function ZH(t){const e={},i=Object.keys(t);for(let r=0;r<i.length;r++){const n=i[r],s=t[n];e[n]=s}return e}function ix(t,e){if(!t)return;const i=t,r={};return Object.keys(i).forEach(n=>{if(e&&e.indexOf(n)>=0)return;const s=i[n];rx(s)&&s.constructor===Object?r[n]=ix(s):r[n]=s}),r}function Yd(t){if(!t)return[];const e=Object;if(typeof e.values=="function")return e.values(t);const i=[];for(const r in t)t.hasOwnProperty(r)&&t.propertyIsEnumerable(r)&&i.push(t[r]);return i}function No(t,e,i=!0,r=!1){Te(e)&&Zn(e,(n,s)=>{let o=t[n];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},t[n]=o),rx(s)&&rx(o)&&!Array.isArray(o)?No(o,s,i,r):(i||s!==void 0)&&(t[n]=s))})}function vm(t,e,i){if(!e||!t)return;if(!i)return t[e];const r=e.split(".");let n=t;for(let s=0;s<r.length;s++){if(n==null)return;n=n[r[s]]}return n}function Tee(t,e=[],i){Object.keys(t).forEach(o=>{typeof t[o]=="object"&&!e.includes(o)&&(t[o]=void 0)});const r=Object.getPrototypeOf(t),n={},s=o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`;Object.getOwnPropertyNames(r).forEach(o=>{if(typeof r[o]=="function"&&!e.includes(o)){const l=()=>{console.warn(s(o))};n[o]={value:l,writable:!0}}}),Object.defineProperties(t,n)}function rx(t){return typeof t=="object"&&t!==null}var Dee={};bn(Dee,{compose:()=>wOe,debounce:()=>vs,doOnce:()=>bp,errorOnce:()=>sp,executeAfter:()=>xee,executeInAWhile:()=>Pee,executeNextVMTurn:()=>n1,getFunctionName:()=>cO,isFunction:()=>dO,noop:()=>EOe,throttle:()=>s1,waitUntil:()=>JH,warnOnce:()=>ct});var wK={};function bp(t,e){wK[e]||(t(),wK[e]=!0)}function ct(t){bp(()=>console.warn("AG Grid: "+t),t)}function sp(t){bp(()=>console.error("AG Grid: "+t),t)}function cO(t){if(t.name)return t.name;const e=/function\s+([^\(]+)/.exec(t.toString());return e&&e.length===2?e[1].trim():null}function dO(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Pee(t){xee(t,400)}var gL=[],mL=!1;function n1(t){gL.push(t),!mL&&(mL=!0,window.setTimeout(()=>{const e=gL.slice();gL.length=0,mL=!1,e.forEach(i=>i())},0))}function xee(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(i=>i()),e)}function vs(t,e){let i;return function(...r){const n=this;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,r)},e)}}function s1(t,e){let i=0;return function(...r){const n=this,s=new Date().getTime();s-i<e||(i=s,t.apply(n,r))}}function JH(t,e,i=100,r){const n=new Date().getTime();let s=null,o=!1;const a=()=>{const l=new Date().getTime()-n>i;(t()||l)&&(e(),o=!0,s!=null&&(window.clearInterval(s),s=null),l&&r&&console.warn(r))};a(),o||(s=window.setInterval(a,10))}function wOe(...t){return e=>t.reduce((i,r)=>r(i),e)}var EOe=()=>{},Aee=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(Aee||{}),hO=class ci{static register(e){ci.__register(e,!0,void 0)}static registerModules(e){ci.__registerModules(e,!0,void 0)}static __register(e,i,r){ci.runVersionChecks(e),r!==void 0?(ci.areGridScopedModules=!0,ci.gridModulesMap[r]===void 0&&(ci.gridModulesMap[r]={}),ci.gridModulesMap[r][e.moduleName]=e):ci.globalModulesMap[e.moduleName]=e,ci.setModuleBased(i)}static __unRegisterGridModules(e){delete ci.gridModulesMap[e]}static __registerModules(e,i,r){ci.setModuleBased(i),e&&e.forEach(n=>ci.__register(n,i,r))}static isValidModuleVersion(e){const[i,r]=e.version.split(".")||[],[n,s]=ci.currentModuleVersion.split(".")||[];return i===n&&r===s}static runVersionChecks(e){if(ci.currentModuleVersion||(ci.currentModuleVersion=e.version),e.version?ci.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const i=e.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(e){ci.moduleBased===void 0?ci.moduleBased=e:ci.moduleBased!==e&&bp(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){ci.isBundled=!0}static __assertRegistered(e,i,r){var n;if(this.__isRegistered(e,r))return!0;const s=i+e;let o;if(ci.isBundled)o=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(ci.moduleBased||ci.moduleBased===void 0){let a=(n=Object.entries(Aee).find(([l,u])=>u===e))==null?void 0:n[0];o=`AG Grid: unable to use ${i} as the ${a} is not registered${ci.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${e}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return bp(()=>{console.warn(o)},s),!1}static __warnEnterpriseChartDisabled(e){const r="ag-charts-enterprise"+":"+e,s=`AG Grid: the '${e}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;bp(()=>{console.warn(s)},r)}static __isRegistered(e,i){var r;return!!ci.globalModulesMap[e]||!!((r=ci.gridModulesMap[i])!=null&&r[e])}static __getRegisteredModules(e){return[...Ep(ci.globalModulesMap),...Ep(ci.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var i;return Ep((i=ci.gridModulesMap[e])!=null?i:{})||[]}static __isPackageBased(){return!ci.moduleBased}};hO.globalModulesMap={};hO.gridModulesMap={};hO.areGridScopedModules=!1;var Jt=hO,bOe=class{constructor(t,e){if(this.beanWrappers={},this.destroyed=!1,!t||!t.beanClasses)return;this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Ep(this.beanWrappers).map(t=>t.beanInstance)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t}wireBeans(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),Te(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Zn(this.beanWrappers,(e,i)=>{let r;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const n=this.getBeansForParameters(r,i.bean.name),s=new(i.bean.bind.apply(i.bean,[null,...n]));i.beanInstance=s});const t=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${t}`)}createBeanWrapper(t){const e=t.__agBeanMetaData;if(!e){let r;t.prototype.constructor?r=cO(t.prototype.constructor):r=""+t,console.error(`Context item ${r} is not a bean`);return}const i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i}autoWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(i,r)=>{const n=i.agClassAttributes;n&&n.forEach(s=>{const o=this.lookupBeanInstance(r,s.beanName,s.optional);e[s.attributeName]=o})})})}methodWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(i,r)=>{Zn(i.autowireMethods,(n,s)=>{if(n==="agConstructor")return;const o=this.getBeansForParameters(s,r);e[n].apply(e,o)})})})}forEachMetaDataInHierarchy(t,e){let i=Object.getPrototypeOf(t);for(;i!=null;){const r=i.constructor;if(r.hasOwnProperty("__agBeanMetaData")){const n=r.__agBeanMetaData,s=this.getBeanName(r);e(n,s)}i=Object.getPrototypeOf(i)}}getBeanName(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;const e=t.toString();return e.substring(9,e.indexOf("("))}getBeansForParameters(t,e){const i=[];return t&&Zn(t,(r,n)=>{const s=this.lookupBeanInstance(e,n);i[Number(r)]=s}),i}lookupBeanInstance(t,e,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${e} is used after the grid is destroyed!`),null;if(e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];const r=this.beanWrappers[e];return r?r.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${e} while initialising ${t}`),null)}callLifeCycleMethods(t,e){t.forEach(i=>this.callLifeCycleMethodsOnBean(i,e))}callLifeCycleMethodsOnBean(t,e,i){const r={};this.forEachMetaDataInHierarchy(t,s=>{const o=s[e];o&&o.forEach(a=>{a!=i&&(r[a]=!0)})}),Object.keys(r).forEach(s=>t[s]())}getBean(t){return this.lookupBeanInstance("getBean",t,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Jt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(t){t&&this.destroyBeans([t])}destroyBeans(t){return t?(t.forEach(e=>{this.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy");const i=e;typeof i.destroy=="function"&&i.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function Oee(t,e,i){const r=Xp(t.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function Me(t,e,i){const r=Xp(t.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function xs(t,e,i){const r=Xp(t.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function We(t){return e=>{const i=Xp(e);i.beanName=t}}function V(t){return(e,i,r)=>{Mee(e,t,!1,e,i,null)}}function jt(t){return(e,i,r)=>{Mee(e,t,!0,e,i,null)}}function Mee(t,e,i,r,n,s){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof s=="number"){console.error("AG Grid: Autowired should be on an attribute");return}const o=Xp(t.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:n,beanName:e,optional:i})}function ba(t){return(e,i,r)=>{const n=typeof e=="function"?e:e.constructor;let s;if(typeof r=="number"){let o;i?(s=Xp(n),o=i):(s=Xp(n),o="agConstructor"),s.autowireMethods||(s.autowireMethods={}),s.autowireMethods[o]||(s.autowireMethods[o]={}),s.autowireMethods[o][r]=t}}}function Xp(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var Il=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(t,e,i=null,r=null){if(this.frameworkOverrides=e,this.gridOptionsService=t,i){const n=t.useAsyncEvents();this.addGlobalListener(i,n)}r&&this.addGlobalListener(r,!1)}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,i){const r=e?this.allAsyncListeners:this.allSyncListeners;let n=r.get(t);return!n&&i&&(n=new Set,r.set(t,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(t,e,i=!1){this.getListeners(t,i,!0).add(e)}removeEventListener(t,e,i=!1){const r=this.getListeners(t,i,!1);r&&(r.delete(e),r.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){let e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){var i;const r=t.type;if(e&&"event"in t){const l=t.event;l instanceof Event&&(t.eventPath=l.composedPath())}const n=(l,u)=>l.forEach(c=>{if(!u.has(c))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(t)):()=>c(t);e?this.dispatchAsync(d):d()}),s=(i=this.getListeners(r,e,!1))!=null?i:new Set,o=new Set(s);o.size>0&&n(o,s),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>l(r,t)):()=>l(r,t);e?this.dispatchAsync(u):u()})}dispatchAsync(t){this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}};x([Cl(0,ba("gridOptionsService")),Cl(1,ba("frameworkOverrides")),Cl(2,ba("globalEventListener")),Cl(3,ba("globalSyncEventListener"))],Il.prototype,"setBeans",1);Il=x([We("eventService")],Il);var e$=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=i=>{this.frameworkOverrides.wrapOutgoing(()=>t(i))},this.wrappedListeners.set(t,e)),e}wrapGlobal(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=(i,r)=>{this.frameworkOverrides.wrapOutgoing(()=>t(i,r))},this.wrappedGlobalListeners.set(t,e)),e}unwrap(t){var e;return(e=this.wrappedListeners.get(t))!=null?e:t}unwrapGlobal(t){var e;return(e=this.wrappedGlobalListeners.get(t))!=null?e:t}},ROe={resizable:!0,sortable:!0},TOe=0;function Fee(){return TOe++}var kr=class Iee{constructor(e,i,r,n){this.instanceId=Fee(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Il,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=i,this.colId=r,this.primary=n,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const i=e.sortIndex,r=e.initialSortIndex;i!==void 0?i!==null&&(this.sortIndex=i):r!==null&&(this.sortIndex=r);const n=e.hide,s=e.initialHide;n!==void 0?this.visible=!n:this.visible=!s,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const o=e.flex,a=e.initialFlex;o!==void 0?this.flex=o:a!==void 0&&(this.flex=a)}setColDef(e,i,r){this.colDef=e,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=Te(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Te(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=Te(this.colDef.tooltipField)||Te(this.colDef.tooltipValueGetter)||Te(this.colDef.tooltipComponent)}resetActualWidth(e){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(ht(this.colDef)||ht(this.colDef.showRowGroup))return!1;const i=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return i||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,i){var r,n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new e$(this.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const i=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(i)}return!1}isCellEditable(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var i;return(i=this.colDef[e])!=null?i:ROe[e]}isColumnFunc(e,i){if(typeof i=="boolean")return i;if(typeof i=="function"){const r=this.createColumnFunctionCallbackParams(e);return i(r)}return!1}setMoving(e,i){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,i){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,i){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return ht(this.sort)}isSorting(){return Te(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,i){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(e,i,r){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const n=this.createColumnEvent("filterChanged",i);r&&No(n,r),this.eventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,i){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(e,i){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,i){const r=e===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const i=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:i,isSpanningTotal:r}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}createBaseColDefParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(ht(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.colSpan(i);return Math.max(r,1)}getRowSpan(e){if(ht(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.rowSpan(i);return Math.max(r,1)}setActualWidth(e,i,r=!1){this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&i!=="flex"&&i!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return this.maxWidth!=null?e>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){Te(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,i){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,i){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,i){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(e){ct("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let i=this.getColDef().menuTabs;return i==null&&(i=e),i}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:Iee.EVENT_STATE_UPDATED,key:e})}};kr.EVENT_MOVING_CHANGED="movingChanged";kr.EVENT_LEFT_CHANGED="leftChanged";kr.EVENT_WIDTH_CHANGED="widthChanged";kr.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";kr.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";kr.EVENT_VISIBLE_CHANGED="visibleChanged";kr.EVENT_FILTER_CHANGED="filterChanged";kr.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";kr.EVENT_SORT_CHANGED="sortChanged";kr.EVENT_COL_DEF_CHANGED="colDefChanged";kr.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";kr.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";kr.EVENT_PIVOT_CHANGED="columnPivotChanged";kr.EVENT_VALUE_CHANGED="columnValueChanged";kr.EVENT_STATE_UPDATED="columnStateUpdated";x([V("gridOptionsService")],kr.prototype,"gridOptionsService",2);x([V("columnUtils")],kr.prototype,"columnUtils",2);x([V("columnHoverService")],kr.prototype,"columnHoverService",2);x([V("frameworkOverrides")],kr.prototype,"frameworkOverrides",2);x([Me],kr.prototype,"initialise",1);var Ci=kr,pO=class Vy{constructor(e,i,r,n){this.localEventService=new Il,this.expandable=!1,this.instanceId=Fee(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=i,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,i){this.colGroupDef=e,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e;const i={type:Vy.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(i=>{i instanceof Ci?e.push(i):i instanceof Vy&&i.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,i=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let o=0,a=n.length;o<a;o++){const l=n[o];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,r=!0):u==="closed"?(i=!0,r=!0):(e=!0,i=!0)}const s=e&&i&&r;if(this.expandable!==s){this.expandable=s;const o={type:Vy.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(o)}}findChildrenRemovingPadding(){const e=[],i=r=>{r.forEach(n=>{n instanceof Vy&&n.isPadding()?i(n.children):e.push(n)})};return i(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}};pO.EVENT_EXPANDED_CHANGED="expandedChanged";pO.EVENT_EXPANDABLE_CHANGED="expandableChanged";x([xs],pO.prototype,"destroy",1);var Rr=pO,DOe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Lee={};bn(Lee,{addSafePassiveEventListener:()=>Uee,createEventPath:()=>Bee,getCtrlForEventTarget:()=>nx,getEventPath:()=>Wee,isElementInEventPath:()=>sx,isEventSupported:()=>i$,isStopPropagationForAgGrid:()=>Tl,stopPropagationForAgGrid:()=>Ll});var _ee={};bn(_ee,{areEqual:()=>uu,existsAndNotEmpty:()=>Nee,flatten:()=>Hee,forEachReverse:()=>OOe,includes:()=>Vo,insertArrayIntoArray:()=>o1,insertIntoArray:()=>dw,last:()=>Xt,moveInArray:()=>a1,pushAll:()=>l1,removeAllFromArray:()=>Vee,removeAllFromUnorderedArray:()=>kee,removeFromArray:()=>Us,removeFromUnorderedArray:()=>t$,removeRepeatsFromArray:()=>xOe,shallowCompare:()=>POe,sortNumerically:()=>Gee,toStrings:()=>AOe});function Nee(t){return t!=null&&t.length>0}function Xt(t){if(!(!t||!t.length))return t[t.length-1]}function uu(t,e,i){return t==null&&e==null?!0:t!=null&&e!=null&&t.length===e.length&&t.every((r,n)=>i?i(r,e[n]):e[n]===r)}function POe(t,e){return uu(t,e)}function Gee(t){return t.sort((e,i)=>e-i)}function xOe(t,e){if(t)for(let i=t.length-2;i>=0;i--){const r=t[i]===e,n=t[i+1]===e;r&&n&&t.splice(i+1,1)}}function t$(t,e){const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.pop())}function Us(t,e){const i=t.indexOf(e);i>=0&&t.splice(i,1)}function kee(t,e){for(let i=0;i<e.length;i++)t$(t,e[i])}function Vee(t,e){for(let i=0;i<e.length;i++)Us(t,e[i])}function dw(t,e,i){t.splice(i,0,e)}function o1(t,e,i){if(!(t==null||e==null))for(let r=e.length-1;r>=0;r--){const n=e[r];dw(t,n,i)}}function a1(t,e,i){Vee(t,e),e.slice().reverse().forEach(r=>dw(t,r,i))}function Vo(t,e){return t.indexOf(e)>-1}function Hee(t){return[].concat.apply([],t)}function l1(t,e){e==null||t==null||e.forEach(i=>t.push(i))}function AOe(t){return t.map(cw)}function OOe(t,e){if(t!=null)for(let i=t.length-1;i>=0;i--)e(t[i],i)}var $ee="__ag_Grid_Stop_Propagation",MOe=["touchstart","touchend","touchmove","touchcancel","scroll"],vL={};function Ll(t){t[$ee]=!0}function Tl(t){return t[$ee]===!0}var i$=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof vL[i]=="boolean")return vL[i];const r=document.createElement(t[i]||"div");return i="on"+i,vL[i]=i in r}})();function nx(t,e,i){let r=e;for(;r;){const n=t.getDomData(r,i);if(n)return n;r=r.parentElement}return null}function sx(t,e){return!e||!t?!1:Wee(e).indexOf(t)>=0}function Bee(t){const e=[];let i=t.target;for(;i;)e.push(i),i=i.parentElement;return e}function Wee(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():Bee(e)}function Uee(t,e,i,r){const s=Vo(MOe,i)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,i,r,s)}var Bc=class zee{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:zee.EVENT_DESTROYED})}addEventListener(e,i){this.localEventService||(this.localEventService=new Il),this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService&&this.localEventService.removeEventListener(e,i)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,i,r){if(this.destroyed)return;e instanceof HTMLElement?Uee(this.getFrameworkOverrides(),e,i,r):e.addEventListener(i,r);const n=()=>(e.removeEventListener(i,r),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null);return this.destroyFunctions.push(n),n}setupGridOptionListener(e,i){this.gridOptionsService.addEventListener(e,i);const r=()=>(this.gridOptionsService.removeEventListener(e,i),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null);return this.destroyFunctions.push(r),r}addManagedPropertyListener(e,i){return this.destroyed?()=>null:this.setupGridOptionListener(e,i)}addManagedPropertyListeners(e,i){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=s.changeSet.id}const o={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};i(o)};e.forEach(s=>this.setupGridOptionListener(s,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,i){const r=this.createBean(e,i);return this.addDestroyFunc(this.destroyBean.bind(this,e,i)),r}createBean(e,i,r){return(i||this.getContext()).createBean(e,r)}destroyBean(e,i){return(i||this.getContext()).destroyBean(e)}destroyBeans(e,i){return e&&e.forEach(r=>this.destroyBean(r,i)),[]}};Bc.EVENT_DESTROYED="destroyed";x([V("frameworkOverrides")],Bc.prototype,"frameworkOverrides",2);x([V("context")],Bc.prototype,"context",2);x([V("eventService")],Bc.prototype,"eventService",2);x([V("gridOptionsService")],Bc.prototype,"gridOptionsService",2);x([V("localeService")],Bc.prototype,"localeService",2);x([V("environment")],Bc.prototype,"environment",2);x([xs],Bc.prototype,"destroy",1);var Pe=Bc,Km=class extends Pe{setBeans(t){this.logger=t.create("ColumnFactory")}createColumnTree(t,e,i,r){const n=new SOe,{existingCols:s,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);n.addExistingKeys(a);const l=this.recursivelyCreateColumns(t,0,e,s,n,o,r),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);const c=this.balanceColumnTree(l,0,u,n),d=(h,f)=>{h instanceof Rr&&h.setupExpandable(),h.setOriginalParent(f)};return this.columnUtils.depthFirstOriginalTreeSearch(null,c,d),{columnTree:c,treeDept:u}}extractExistingTreeData(t){const e=[],i=[],r=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,n=>{if(n instanceof Rr){const s=n;i.push(s)}else{const s=n;r.push(s.getId()),e.push(s)}}),{existingCols:e,existingGroups:i,existingColKeys:r}}createForAutoGroups(t,e){return t.map(i=>this.createAutoGroupTreeItem(e,i))}createAutoGroupTreeItem(t,e){const i=this.findDepth(t);let r=e;for(let n=i-1;n>=0;n--){const s=new Rr(null,`FAKE_PATH_${e.getId()}}_${n}`,!0,n);this.createBean(s),s.setChildren([r]),r.setOriginalParent(s),r=s}return i===0&&e.setOriginalParent(null),r}findDepth(t){let e=0,i=t;for(;i&&i[0]&&i[0]instanceof Rr;)e++,i=i[0].getChildren();return e}balanceColumnTree(t,e,i,r){const n=[];for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof Rr){const a=o,l=this.balanceColumnTree(a.getChildren(),e+1,i,r);a.setChildren(l),n.push(a)}else{let a,l;for(let u=i-1;u>=e;u--){const c=r.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),h=new Rr(d,c,!0,e);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(n.push(a),t.some(c=>c instanceof Rr)){l.setChildren([o]);continue}else{l.setChildren(t);break}n.push(o)}}return n}findMaxDept(t,e){let i=e;for(let r=0;r<t.length;r++){const n=t[r];if(n instanceof Rr){const s=n,o=this.findMaxDept(s.getChildren(),e+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(t,e,i,r,n,s,o){if(!t)return[];const a=new Array(t.length);for(let l=0;l<a.length;l++){const u=t[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(i,u,e,r,n,s,o):a[l]=this.createColumn(i,u,r,n,o)}return a}createColumnGroup(t,e,i,r,n,s,o){const a=this.createMergedColGroupDef(e),l=n.getUniqueKey(a.groupId||null,null),u=new Rr(a,l,!1,i);this.createBean(u);const c=this.findExistingGroup(e,s);c&&s.splice(c.idx,1);let d=c==null?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,i+1,t,r,n,s,o);return u.setChildren(h),u}createMergedColGroupDef(t){const e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,i,r,n){const s=this.findExistingColumn(e,i);s&&(i==null||i.splice(s.idx,1));let o=s==null?void 0:s.column;if(o){const a=this.addColumnDefaultAndTypes(e,o.getColId());o.setColDef(a,e,n),this.applyColumnState(o,a,n)}else{const a=r.getUniqueKey(e.colId,e.field),l=this.addColumnDefaultAndTypes(e,a);o=new Ci(l,e,a,t),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(t,e,i){const r=Hd(e.flex);if(r!==void 0&&t.setFlex(r),t.getFlex()<=0){const a=Hd(e.width);if(a!=null)t.setActualWidth(a,i);else{const l=t.getActualWidth();t.setActualWidth(l,i)}}e.sort!==void 0&&(e.sort=="asc"||e.sort=="desc"?t.setSort(e.sort,i):t.setSort(void 0,i));const s=Hd(e.sortIndex);s!==void 0&&t.setSortIndex(s);const o=tx(e.hide);o!==void 0&&t.setVisible(!o,i),e.pinned!==void 0&&t.setPinned(e.pinned)}findExistingColumn(t,e){if(e)for(let i=0;i<e.length;i++){const r=e[i].getUserProvidedColDef();if(!r)continue;if(t.colId!=null){if(e[i].getId()===t.colId)return{idx:i,column:e[i]};continue}if(t.field!=null){if(r.field===t.field)return{idx:i,column:e[i]};continue}if(r===t)return{idx:i,column:e[i]}}}findExistingGroup(t,e){if(t.groupId!=null)for(let r=0;r<e.length;r++){const n=e[r];if(n.getColGroupDef()&&n.getId()===t.groupId)return{idx:r,group:n}}}addColumnDefaultAndTypes(t,e){const i={},r=this.gridOptionsService.get("defaultColDef");No(i,r,!1,!0);const n=this.dataTypeService.updateColDefAndGetColumnType(i,t,e);n&&this.assignColumnTypes(n,i),No(i,t,!1,!0);const s=this.gridOptionsService.get("autoGroupColumnDef"),o=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&o&&No(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(t,e){if(!t.length)return;const i=Object.assign({},DOe),r=this.gridOptionsService.get("columnTypes")||{};Zn(r,(n,s)=>{n in i?console.warn(`AG Grid: the column type '${n}' is a default column type and cannot be overridden.`):(s.type&&ct("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[n]=s)}),t.forEach(n=>{const s=i[n.trim()];s?No(e,s,!1,!0):console.warn("AG Grid: colDef.type '"+n+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return t.children!==void 0}};x([V("columnUtils")],Km.prototype,"columnUtils",2);x([V("dataTypeService")],Km.prototype,"dataTypeService",2);x([Cl(0,ba("loggerFactory"))],Km.prototype,"setBeans",1);Km=x([We("columnFactory")],Km);var fO=class ql{constructor(e,i,r,n){this.displayedChildren=[],this.localEventService=new Il,this.groupId=i,this.partId=r,this.providedColumnGroup=e,this.pinned=n}static createUniqueId(e,i){return e+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return ql.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof ql&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const i=Xt(this.displayedChildren).getLeft();this.setLeft(i)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(ql.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let i=!1;return this.children.forEach(r=>{e===r&&(i=!0),r instanceof ql&&r.isChildInThisGroupDeepSearch(e)&&(i=!0)}),i}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(i=>{e+=i.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(i=>{i instanceof Ci?e.push(i):i instanceof ql&&i.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(i=>{i instanceof Ci?e.push(i):i instanceof ql&&i.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(ql.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(r=>{if(r instanceof ql&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.localEventService.dispatchEvent(this.createAgEvent(ql.EVENT_DISPLAYED_CHILDREN_CHANGED))}};fO.EVENT_LEFT_CHANGED="leftChanged";fO.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";x([V("gridOptionsService")],fO.prototype,"gridOptionsService",2);var Br=fO,F=class{};F.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";F.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";F.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";F.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded";F.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";F.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";F.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";F.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";F.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";F.EVENT_COLUMN_MOVED="columnMoved";F.EVENT_COLUMN_VISIBLE="columnVisible";F.EVENT_COLUMN_PINNED="columnPinned";F.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";F.EVENT_COLUMN_RESIZED="columnResized";F.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";F.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns";F.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide";F.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation";F.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";F.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver";F.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave";F.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked";F.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu";F.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";F.EVENT_ROW_GROUP_OPENED="rowGroupOpened";F.EVENT_ROW_DATA_UPDATED="rowDataUpdated";F.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";F.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";F.EVENT_CHART_CREATED="chartCreated";F.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";F.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";F.EVENT_CHART_DESTROYED="chartDestroyed";F.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";F.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";F.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";F.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";F.EVENT_MODEL_UPDATED="modelUpdated";F.EVENT_CUT_START="cutStart";F.EVENT_CUT_END="cutEnd";F.EVENT_PASTE_START="pasteStart";F.EVENT_PASTE_END="pasteEnd";F.EVENT_FILL_START="fillStart";F.EVENT_FILL_END="fillEnd";F.EVENT_RANGE_DELETE_START="rangeDeleteStart";F.EVENT_RANGE_DELETE_END="rangeDeleteEnd";F.EVENT_UNDO_STARTED="undoStarted";F.EVENT_UNDO_ENDED="undoEnded";F.EVENT_REDO_STARTED="redoStarted";F.EVENT_REDO_ENDED="redoEnded";F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";F.EVENT_CELL_CLICKED="cellClicked";F.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";F.EVENT_CELL_MOUSE_DOWN="cellMouseDown";F.EVENT_CELL_CONTEXT_MENU="cellContextMenu";F.EVENT_CELL_VALUE_CHANGED="cellValueChanged";F.EVENT_CELL_EDIT_REQUEST="cellEditRequest";F.EVENT_ROW_VALUE_CHANGED="rowValueChanged";F.EVENT_CELL_FOCUSED="cellFocused";F.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";F.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";F.EVENT_ROW_SELECTED="rowSelected";F.EVENT_SELECTION_CHANGED="selectionChanged";F.EVENT_TOOLTIP_SHOW="tooltipShow";F.EVENT_TOOLTIP_HIDE="tooltipHide";F.EVENT_CELL_KEY_DOWN="cellKeyDown";F.EVENT_CELL_MOUSE_OVER="cellMouseOver";F.EVENT_CELL_MOUSE_OUT="cellMouseOut";F.EVENT_FILTER_CHANGED="filterChanged";F.EVENT_FILTER_MODIFIED="filterModified";F.EVENT_FILTER_OPENED="filterOpened";F.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";F.EVENT_SORT_CHANGED="sortChanged";F.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";F.EVENT_ROW_CLICKED="rowClicked";F.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";F.EVENT_GRID_READY="gridReady";F.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";F.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";F.EVENT_VIEWPORT_CHANGED="viewportChanged";F.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";F.EVENT_FIRST_DATA_RENDERED="firstDataRendered";F.EVENT_DRAG_STARTED="dragStarted";F.EVENT_DRAG_STOPPED="dragStopped";F.EVENT_CHECKBOX_CHANGED="checkboxChanged";F.EVENT_ROW_EDITING_STARTED="rowEditingStarted";F.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";F.EVENT_CELL_EDITING_STARTED="cellEditingStarted";F.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";F.EVENT_BODY_SCROLL="bodyScroll";F.EVENT_BODY_SCROLL_END="bodyScrollEnd";F.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";F.EVENT_PAGINATION_CHANGED="paginationChanged";F.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";F.EVENT_STORE_REFRESHED="storeRefreshed";F.EVENT_STATE_UPDATED="stateUpdated";F.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged";F.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged";F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";F.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";F.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";F.EVENT_FLASH_CELLS="flashCells";F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";F.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";F.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";F.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";F.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";F.EVENT_ROW_DRAG_ENTER="rowDragEnter";F.EVENT_ROW_DRAG_MOVE="rowDragMove";F.EVENT_ROW_DRAG_LEAVE="rowDragLeave";F.EVENT_ROW_DRAG_END="rowDragEnd";F.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";F.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";F.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";F.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";F.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";F.EVENT_STORE_UPDATED="storeUpdated";F.EVENT_FILTER_DESTROYED="filterDestroyed";F.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";F.EVENT_ROW_COUNT_READY="rowCountReady";F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";F.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";F.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";F.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";F.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var TD=new Set([F.EVENT_GRID_PRE_DESTROYED]),jee=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let i;return typeof e!="number"?i=0:i=e+1,this.existingIds[t]=i,i}},Ym="ag-Grid-AutoColumn",hw=class extends Pe{createAutoGroupColumns(t){const e=[],i=this.gridOptionsService.get("treeData");let r=this.gridOptionsService.isGroupMultiAutoColumn();return i&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?t.forEach((n,s)=>{e.push(this.createOneAutoGroupColumn(n,s))}):e.push(this.createOneAutoGroupColumn()),e}updateAutoGroupColumns(t,e){t.forEach((i,r)=>this.updateOneAutoGroupColumn(i,r,e))}createOneAutoGroupColumn(t,e){let i;t?i=`${Ym}-${t.getId()}`:i=Ym;const r=this.createAutoGroupColDef(i,t,e);r.colId=i;const n=new Ci(r,null,i,!0);return this.context.createBean(n),n}updateOneAutoGroupColumn(t,e,i){const r=t.getColDef(),n=typeof r.showRowGroup=="string"?r.showRowGroup:void 0,s=n!=null?this.columnModel.getPrimaryColumn(n):void 0,o=this.createAutoGroupColDef(t.getId(),s??void 0,e);t.setColDef(o,null,i),this.columnFactory.applyColumnState(t,o,i)}createAutoGroupColDef(t,e,i){let r=this.createBaseColDef(e);const n=this.gridOptionsService.get("autoGroupColumnDef");No(r,n),r=this.columnFactory.addColumnDefaultAndTypes(r,t),this.gridOptionsService.get("treeData")||ht(r.field)&&ht(r.valueGetter)&&ht(r.filterValueGetter)&&r.filter!=="agGroupColumnFilter"&&(r.filter=!1),i&&i>0&&(r.headerCheckboxSelection=!1);const s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=r.valueGetter||r.field!=null;return s&&!o&&(r.sortIndex=void 0,r.initialSort=void 0),r}createBaseColDef(t){const e=this.gridOptionsService.get("autoGroupColumnDef"),r={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererSelector)||(r.cellRenderer="agGroupCellRenderer"),t){const s=t.getColDef();Object.assign(r,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(r,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),r.showRowGroup=t.getColId()}else r.showRowGroup=!0;return r}};x([V("columnModel")],hw.prototype,"columnModel",2);x([V("columnFactory")],hw.prototype,"columnFactory",2);hw=x([We("autoGroupColService")],hw);var Kee={};bn(Kee,{camelCaseToHumanText:()=>Yee,camelCaseToHyphenated:()=>qee,capitalise:()=>_Oe,escapeString:()=>Kr,utf8_encode:()=>LOe});var FOe=/[&<>"']/g,IOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function LOe(t){const e=String.fromCharCode;function i(d){const h=[];if(!d)return[];const f=d.length;let g=0,v,C;for(;g<f;)v=d.charCodeAt(g++),v>=55296&&v<=56319&&g<f?(C=d.charCodeAt(g++),(C&64512)==56320?h.push(((v&1023)<<10)+(C&1023)+65536):(h.push(v),g--)):h.push(v);return h}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function n(d,h){return e(d>>h&63|128)}function s(d){if(d>=0&&d<=31&&d!==10)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(d&4294967168))return e(d);let h="";return d&4294965248?d&4294901760?d&4292870144||(h=e(d>>18&7|240),h+=n(d,12),h+=n(d,6)):(r(d),h=e(d>>12&15|224),h+=n(d,6)):h=e(d>>6&31|192),h+=e(d&63|128),h}const o=i(t),a=o.length;let l=-1,u,c="";for(;++l<a;)u=o[l],c+=s(u);return c}function _Oe(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}function Kr(t,e){if(t==null)return null;const i=t.toString().toString();return e?i:i.replace(FOe,r=>IOe[r])}function Yee(t){if(!t||t==null)return null;const e=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return t.replace(e,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}function qee(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var Xee={};bn(Xee,{convertToMap:()=>wd,keys:()=>GOe,mapById:()=>NOe});function wd(t){const e=new Map;return t.forEach(i=>e.set(i[0],i[1])),e}function NOe(t,e){const i=new Map;return t.forEach(r=>i.set(e(r),r)),i}function GOe(t){const e=[];return t.forEach((i,r)=>e.push(r)),e}var ln=class extends Pe{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const t=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.buildAutoGroupColumns(em(e.source))),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(em(e.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],e=>this.onSharedColDefChanged(em(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),em(e.source))),this.addManagedListener(this.eventService,F.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(t){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(t))}onAutoGroupColumnDefChanged(t){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t)}onSharedColDefChanged(t){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t),this.createColumnsFromColumnDefs(!0,t))}setColumnDefs(t,e){const i=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(i,e)}recreateColumnDefs(t){this.onSharedColDefChanged(t)}destroyOldColumns(t,e){const i={};if(!t)return;this.columnUtils.depthFirstOriginalTreeSearch(null,t,n=>{i[n.getInstanceId()]=n}),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,n=>{i[n.getInstanceId()]=null});const r=Object.values(i).filter(n=>n!=null);this.destroyBeans(r)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(t,e){const i=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const r=this.primaryColumns,n=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,n,e);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(l=>this.primaryColumnsMap[l.getId()]=l),this.extractRowGroupColumns(e,r),this.extractPivotColumns(e,r),this.extractValueColumns(e,r),this.ready=!0;const o=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||o||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),this.changeEventsDispatching=!0,i&&i(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(e)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(t){const e={type:F.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(e),t==="gridInitializing"&&this.onColumnsReady()}dispatchEverythingChanged(t){const e={type:F.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(e)}orderGridColumnsLikePrimary(){const t=this.primaryColumns;if(!t)return;const e=t.filter(r=>this.gridColumns.indexOf(r)>=0),i=this.gridColumns.filter(r=>e.indexOf(r)<0);this.gridColumns=[...i,...e],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(t){let e=t;const i=[];for(;e!=null;)i.push(e),e=this.getDisplayedColAfter(e);return i}checkViewportColumns(t=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const i={type:F.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(i)}setViewportPosition(t,e,i=!1){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(t){return t&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(t,e){if(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=t,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);const i={type:F.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}getSecondaryPivotColumn(t,e){if(ht(this.secondaryColumns))return null;const i=this.getPrimaryColumn(e);let r=null;return this.secondaryColumns.forEach(n=>{const s=n.getColDef().pivotKeys,o=n.getColDef().pivotValueColumn;uu(s,t)&&o===i&&(r=n)}),r}setBeans(t){this.logger=t.create("columnModel")}setFirstRightAndLastLeftPinned(t){let e,i;this.gridOptionsService.get("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?Xt(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?Xt(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(r=>{r.setLastLeftPinned(r===e,t),r.setFirstRightPinned(r===i,t)})}autoSizeColumns(t){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(t));return}const{columns:e,skipHeader:i,skipHeaderGroups:r,stopAtGroup:n,source:s="api"}=t;this.animationFrameService.flushAllFrames();const o=[];let a=-1;const l=i??this.gridOptionsService.get("skipHeaderOnAutoSize"),u=r??l;for(;a!==0;)a=0,this.actionOnGridColumns(e,c=>{if(o.indexOf(c)>=0)return!1;const d=this.autoWidthCalculator.getPreferredWidthForColumn(c,l);if(d>0){const h=this.normaliseColumnWidth(c,d);c.setActualWidth(h,s),o.push(c),a++}return!0},s);u||this.autoSizeColumnGroupsByColumns(e,s,n),this.dispatchColumnResizedEvent(o,!0,"autosizeColumns")}dispatchColumnResizedEvent(t,e,i,r=null){if(t&&t.length){const n={type:F.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:e,source:i};this.eventService.dispatchEvent(n)}}dispatchColumnChangedEvent(t,e,i){const r={type:t,columns:e,column:e&&e.length==1?e[0]:null,source:i};this.eventService.dispatchEvent(r)}dispatchColumnMovedEvent(t){const{movedColumns:e,source:i,toIndex:r,finished:n}=t,s={type:F.EVENT_COLUMN_MOVED,columns:e,column:e&&e.length===1?e[0]:null,toIndex:r,finished:n,source:i};this.eventService.dispatchEvent(s)}dispatchColumnPinnedEvent(t,e){if(!t.length)return;const i=t.length===1?t[0]:null,r=this.getCommonValue(t,s=>s.getPinned()),n={type:F.EVENT_COLUMN_PINNED,pinned:r??null,columns:t,column:i,source:e};this.eventService.dispatchEvent(n)}dispatchColumnVisibleEvent(t,e){if(!t.length)return;const i=t.length===1?t[0]:null,r=this.getCommonValue(t,s=>s.isVisible()),n={type:F.EVENT_COLUMN_VISIBLE,visible:r,columns:t,column:i,source:e};this.eventService.dispatchEvent(n)}autoSizeColumn(t,e,i){t&&this.autoSizeColumns({columns:[t],skipHeader:i,skipHeaderGroups:!0,source:e})}autoSizeColumnGroupsByColumns(t,e,i){const r=new Set;this.getGridColumns(t).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||r.add(l),l=l.getParent()});let s;const o=[];for(const a of r){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(s=l.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(e)}return o}autoSizeAllColumns(t,e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(t,e));return}const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:t})}getColumnsFromTree(t){const e=[],i=r=>{for(let n=0;n<r.length;n++){const s=r[n];s instanceof Ci?e.push(s):s instanceof Rr&&i(s.getChildren())}};return i(t),e}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(t){return this.getAllDisplayedColumns().indexOf(t)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(t,e,i,r){const n=[];let s=null;for(let o=0;o<e.length;o++){const a=e[o],l=e.length-o,u=Math.min(a.getColSpan(t),l),c=[a];if(u>1){const h=u-1;for(let f=1;f<=h;f++)c.push(e[o+f]);o+=h}let d;i?(d=!1,c.forEach(h=>{i(h)&&(d=!0)})):d=!0,d&&(n.length===0&&s&&(r&&r(a))&&n.push(s),n.push(a)),s=a}return n}getViewportCenterColumnsForRow(t){if(!this.colSpanActive)return this.viewportColumnsCenter;const e=r=>{const n=r.getLeft();return Te(n)&&n>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,i,e)}isColumnAtEdge(t,e){const i=this.getAllDisplayedColumns();if(!i.length)return!1;const r=e==="first";let n;if(t instanceof Br){const s=t.getDisplayedLeafColumns();if(!s.length)return!1;n=r?s[0]:Xt(s)}else n=t;return(r?i[0]:Xt(i))===n}getAriaColumnIndex(t){let e;return t instanceof Br?e=t.getLeafColumns()[0]:e=t,this.ariaOrderColumns.indexOf(e)+1}isColumnInHeaderViewport(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;const e=t.getLeft()||0,i=e+t.getActualWidth(),r=this.viewportLeft-200,n=this.viewportRight+200,s=e<r&&i<r,o=e>n&&i>n;return!s&&!o}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(t,e,i,r,n,s){if(!t||Po(t))return;let o=!1;if(t.forEach(l=>{if(!l)return;const u=this.getPrimaryColumn(l);if(u){if(i){if(e.indexOf(u)>=0)return;e.push(u)}else{if(e.indexOf(u)<0)return;Us(e,u)}r(u),o=!0}}),!o)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);const a={type:n,columns:e,column:e.length===1?e[0]:null,source:s};this.eventService.dispatchEvent(a)}setRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,F.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),e)}setRowGroupActive(t,e,i){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,i),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([e],!1,i),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([e],!0,i))}addRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),F.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}removeRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),F.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}addPivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!0,i=>i.setPivotActive(!0,e),F.EVENT_COLUMN_PIVOT_CHANGED,e)}setPivotColumns(t,e){this.setPrimaryColumnList(t,this.pivotColumns,F.EVENT_COLUMN_PIVOT_CHANGED,!0,(i,r)=>{r.setPivotActive(i,e)},e)}removePivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!1,i=>i.setPivotActive(!1,e),F.EVENT_COLUMN_PIVOT_CHANGED,e)}setPrimaryColumnList(t,e,i,r,n,s){if(!this.gridColumns)return;const o=new Map;e.forEach((a,l)=>o.set(a,l)),e.length=0,Te(t)&&t.forEach(a=>{const l=this.getPrimaryColumn(a);l&&e.push(l)}),e.forEach((a,l)=>{const u=o.get(a);if(u===void 0){o.set(a,0);return}r&&u!==l||o.delete(a)}),(this.primaryColumns||[]).forEach(a=>{const l=e.indexOf(a)>=0;n(l,a)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(i,[...o.keys()],s)}setValueColumns(t,e){this.setPrimaryColumnList(t,this.valueColumns,F.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),e)}setValueActive(t,e,i){if(t!==e.isValueActive()&&(e.setValueActive(t,i),t&&!e.getAggFunc())){const r=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(r)}}addValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),F.EVENT_COLUMN_VALUE_CHANGED,e)}removeValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),F.EVENT_COLUMN_VALUE_CHANGED,e)}normaliseColumnWidth(t,e){const i=t.getMinWidth();Te(i)&&e<i&&(e=i);const r=t.getMaxWidth();return Te(r)&&t.isGreaterThanMax(e)&&(e=r),e}getPrimaryOrGridColumn(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)}setColumnWidths(t,e,i,r){const n=[];t.forEach(s=>{const o=this.getPrimaryOrGridColumn(s.key);if(!o)return;if(n.push({width:s.newWidth,ratios:[1],columns:[o]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(e=!e),e){const l=this.getDisplayedColAfter(o);if(!l)return;const u=o.getActualWidth()-s.newWidth,c=l.getActualWidth()+u;n.push({width:c,ratios:[1],columns:[l]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:i,source:r})}checkMinAndMaxWidthsForSet(t){const{columns:e,width:i}=t;let r=0,n=0,s=!0;e.forEach(l=>{const u=l.getMinWidth();r+=u||0;const c=l.getMaxWidth();Te(c)&&c>0?n+=c:s=!1});const o=i>=r,a=!s||i<=n;return o&&a}resizeColumnSets(t){const{resizeSets:e,finished:i,source:r}=t;if(!(!e||e.every(c=>this.checkMinAndMaxWidthsForSet(c)))){if(i){const c=e&&e.length>0?e[0].columns:null;this.dispatchColumnResizedEvent(c,i,r)}return}const s=[],o=[];e.forEach(c=>{const{width:d,columns:h,ratios:f}=c,g={},v={};h.forEach(y=>o.push(y));let C=!0,S=0;for(;C;){if(S++,S>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}C=!1;const y=[];let w=0,E=d;h.forEach((D,P)=>{if(v[D.getId()])E-=g[D.getId()];else{y.push(D);const N=f[P];w+=N}});const b=1/w;y.forEach((D,P)=>{const O=P===y.length-1;let N;O?N=E:(N=Math.round(f[P]*d*b),E-=N);const _=D.getMinWidth(),L=D.getMaxWidth();Te(_)&&N<_?(N=_,v[D.getId()]=!0,C=!0):Te(L)&&L>0&&N>L&&(N=L,v[D.getId()]=!0,C=!0),g[D.getId()]=N})}h.forEach(y=>{const w=g[y.getId()];y.getActualWidth()!==w&&(y.setActualWidth(w,r),s.push(y))})});const a=s.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(r),this.updateBodyWidths(),this.checkViewportColumns());const u=o.concat(l);(a||i)&&this.dispatchColumnResizedEvent(u,i,r,l)}setColumnAggFunc(t,e,i){if(!t)return;const r=this.getPrimaryColumn(t);r&&(r.setAggFunc(e),this.dispatchColumnChangedEvent(F.EVENT_COLUMN_VALUE_CHANGED,[r],i))}moveRowGroupColumn(t,e,i){if(this.isRowGroupEmpty())return;const r=this.rowGroupColumns[t],n=this.rowGroupColumns.slice(t,e);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,r);const s={type:F.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:n,column:n.length===1?n[0]:null,source:i};this.eventService.dispatchEvent(s)}moveColumns(t,e,i,r=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),e>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const n=this.getGridColumns(t);this.doesMovePassRules(n,e)&&(a1(this.gridColumns,n,e),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:n,source:i,toIndex:e,finished:r}),this.columnAnimationService.finish())}doesMovePassRules(t,e){const i=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(i)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){const i=this.gridColumns.slice();return a1(i,t,e),i}sortColumnsLikeGridColumns(t){!t||t.length<=1||t.filter(i=>this.gridColumns.indexOf(i)<0).length>0||t.sort((i,r)=>{const n=this.gridColumns.indexOf(i),s=this.gridColumns.indexOf(r);return n-s})}doesMovePassLockedPositions(t){let e=0,i=!0;const r=n=>n?n===!0||n==="left"?0:2:1;return t.forEach(n=>{const s=r(n.getColDef().lockPosition);s<e&&(i=!1),e=s}),i}doesMovePassMarryChildren(t){let e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{if(!(i instanceof Rr))return;const r=i,n=r.getColGroupDef();if(!(n&&n.marryChildren))return;const o=[];r.getLeafColumns().forEach(d=>{const h=t.indexOf(d);o.push(h)});const a=Math.max.apply(Math,o),l=Math.min.apply(Math,o),u=a-l,c=r.getLeafColumns().length-1;u>c&&(e=!1)}),e}moveColumnByIndex(t,e,i){if(!this.gridColumns)return;const r=this.gridColumns[t];this.moveColumns([r],e,i)}getColumnDefs(){if(!this.primaryColumns)return;const t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((e,i)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&t.sort((e,i)=>this.lastPrimaryOrder.indexOf(e)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=i;const n={type:F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(n);const s={type:F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var t;return(t=this.gridColumns)!=null?t:[]}isEmpty(){return Po(this.gridColumns)}isRowGroupEmpty(){return Po(this.rowGroupColumns)}setColumnsVisible(t,e=!1,i){this.applyColumnState({state:t.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!e}))},i)}setColumnsPinned(t,e,i){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let r;e===!0||e==="left"?r="left":e==="right"?r="right":r=null,this.actionOnGridColumns(t,n=>n.getPinned()!==r?(n.setPinned(r),!0):!1,i,()=>({type:F.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(t,e,i,r){if(Po(t))return;const n=[];if(t.forEach(s=>{if(!s)return;const o=this.getGridColumn(s);if(!o)return;e(o)!==!1&&n.push(o)}),!!n.length&&(this.updateDisplayedColumns(i),Te(r)&&r)){const s=r();s.columns=n,s.column=n.length===1?n[0]:null,this.eventService.dispatchEvent(s)}}getDisplayedColBefore(t){const e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i>0?e[i-1]:null}getDisplayedColAfter(t){const e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i<e.length-1?e[i+1]:null}getDisplayedGroupAfter(t){return this.getDisplayedGroupAtDirection(t,"After")}getDisplayedGroupBefore(t){return this.getDisplayedGroupAtDirection(t,"Before")}getDisplayedGroupAtDirection(t,e){const i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),r=t.getDisplayedLeafColumns(),n=e==="After"?Xt(r):r[0],s=`getDisplayedCol${e}`;for(;;){const o=this[s](n);if(!o)return null;const a=this.getColumnGroupAtLevel(o,i);if(a!==t)return a}}getColumnGroupAtLevel(t,e){let i=t.getParent(),r,n;for(;r=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),!(r+n<=e);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(t){const e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,r=t.isValueActive()?t.getAggFunc():null,n=t.getSort()!=null?t.getSort():null,s=t.getSortIndex()!=null?t.getSortIndex():null,o=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:n,sortIndex:s,aggFunc:r,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:i,flex:o}}getColumnState(){if(ht(this.primaryColumns)||!this.isAlive())return[];const e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}orderColumnStateList(t){const e=wd(this.gridColumns.map((i,r)=>[i.getColId(),r]));t.sort((i,r)=>{const n=e.has(i.colId)?e.get(i.colId):-1,s=e.has(r.colId)?e.get(r.colId):-1;return n-s})}resetColumnState(t){if(Po(this.primaryColumns))return;const e=this.getColumnsFromTree(this.primaryColumnTree),i=[];let r=1e3,n=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach(o=>{const a=this.getColumnStateFromColDef(o);ht(a.rowGroupIndex)&&a.rowGroup&&(a.rowGroupIndex=r++),ht(a.pivotIndex)&&a.pivot&&(a.pivotIndex=n++),i.push(a)}),this.applyColumnState({state:i,applyOrder:!0},t)}getColumnStateFromColDef(t){const e=(g,v)=>g??v??null,i=t.getColDef(),r=e(i.sort,i.initialSort),n=e(i.sortIndex,i.initialSortIndex),s=e(i.hide,i.initialHide),o=e(i.pinned,i.initialPinned),a=e(i.width,i.initialWidth),l=e(i.flex,i.initialFlex);let u=e(i.rowGroupIndex,i.initialRowGroupIndex),c=e(i.rowGroup,i.initialRowGroup);u==null&&(c==null||c==!1)&&(u=null,c=null);let d=e(i.pivotIndex,i.initialPivotIndex),h=e(i.pivot,i.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);const f=e(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:r,sortIndex:n,hide:s,pinned:o,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:f}}applyColumnState(t,e){if(Po(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(s,o,a)=>{const l=this.compareColumnStatesAndDispatchEvents(e);this.autoGroupsNeedBuilding=!0;const u=o.slice(),c={},d={},h=[],f=[];let g=0;const v=this.rowGroupColumns.slice(),C=this.pivotColumns.slice();s.forEach(E=>{const b=E.colId||"";if(b.startsWith(Ym)){h.push(E),f.push(E);return}const P=a(b);P?(this.syncColumnWithStateItem(P,E,t.defaultState,c,d,!1,e),Us(u,P)):(f.push(E),g+=1)});const S=E=>this.syncColumnWithStateItem(E,null,t.defaultState,c,d,!1,e);u.forEach(S);const y=(E,b,D,P)=>{const O=E[D.getId()],N=E[P.getId()],_=O!=null,L=N!=null;if(_&&L)return O-N;if(_)return-1;if(L)return 1;const k=b.indexOf(D),$=b.indexOf(P),U=k>=0,K=$>=0;return U&&K?k-$:U?-1:1};this.rowGroupColumns.sort(y.bind(this,c,v)),this.pivotColumns.sort(y.bind(this,d,C)),this.updateGridColumns();const w=this.groupAutoColumns?this.groupAutoColumns.slice():[];return h.forEach(E=>{const b=this.getAutoColumn(E.colId);Us(w,b),this.syncColumnWithStateItem(b,E,t.defaultState,null,null,!0,e)}),w.forEach(S),this.applyOrderAfterApplyState(t),this.updateDisplayedColumns(e),this.dispatchEverythingChanged(e),l(),{unmatchedAndAutoStates:f,unmatchedCount:g}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:n}=i(t.state||[],this.primaryColumns||[],s=>this.getPrimaryColumn(s));return(r.length>0||Te(t.defaultState))&&(n=i(r,this.secondaryColumns||[],s=>this.getSecondaryColumn(s)).unmatchedCount),this.columnAnimationService.finish(),n===0}applyOrderAfterApplyState(t){if(!t.applyOrder||!t.state)return;let e=[];const i={};t.state.forEach(n=>{if(!n.colId||i[n.colId])return;const s=this.gridColumnsMap[n.colId];s&&(e.push(s),i[n.colId]=!0)});let r=0;if(this.gridColumns.forEach(n=>{const s=n.getColId();if(i[s]!=null)return;s.startsWith(Ym)?dw(e,n,r++):e.push(n)}),e=this.placeLockedColumns(e),!this.doesMovePassMarryChildren(e)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=e}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),r={};return i.forEach(n=>{r[n.colId]=n}),()=>{const n=this.getPrimaryAndSecondaryAndAutoColumns(),s=(v,C,S,y)=>{const w=C.map(y),E=S.map(y);if(uu(w,E))return;const D=new Set(C);S.forEach(N=>{D.delete(N)||D.add(N)});const P=[...D],O={type:v,columns:P,column:P.length===1?P[0]:null,source:t};this.eventService.dispatchEvent(O)},o=v=>{const C=[];return n.forEach(S=>{const y=r[S.getColId()];y&&v(y,S)&&C.push(S)}),C},a=v=>v.getColId();s(F.EVENT_COLUMN_ROW_GROUP_CHANGED,e.rowGroupColumns,this.rowGroupColumns,a),s(F.EVENT_COLUMN_PIVOT_CHANGED,e.pivotColumns,this.pivotColumns,a);const u=o((v,C)=>{const S=v.aggFunc!=null,y=S!=C.isValueActive(),w=S&&v.aggFunc!=C.getAggFunc();return y||w});u.length>0&&this.dispatchColumnChangedEvent(F.EVENT_COLUMN_VALUE_CHANGED,u,t);const c=(v,C)=>v.width!=C.getActualWidth();this.dispatchColumnResizedEvent(o(c),!0,t);const d=(v,C)=>v.pinned!=C.getPinned();this.dispatchColumnPinnedEvent(o(d),t);const h=(v,C)=>v.hide==C.isVisible();this.dispatchColumnVisibleEvent(o(h),t);const g=o((v,C)=>v.sort!=C.getSort()||v.sortIndex!=C.getSortIndex());g.length>0&&this.sortController.dispatchSortChangedEvents(t,g),this.normaliseColumnMovedEventForColumnState(i,t)}}getCommonValue(t,e){if(!t||t.length==0)return;const i=e(t[0]);for(let r=1;r<t.length;r++)if(i!==e(t[r]))return;return i}normaliseColumnMovedEventForColumnState(t,e){const i=this.getColumnState(),r={};i.forEach(l=>r[l.colId]=l);const n={};t.forEach(l=>{r[l.colId]&&(n[l.colId]=!0)});const s=t.filter(l=>n[l.colId]),o=i.filter(l=>n[l.colId]),a=[];o.forEach((l,u)=>{const c=s&&s[u];if(c&&c.colId!==l.colId){const d=this.getGridColumn(c.colId);d&&a.push(d)}}),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:e,finished:!0})}syncColumnWithStateItem(t,e,i,r,n,s,o){if(!t)return;const a=(w,E)=>{const b={value1:void 0,value2:void 0};let D=!1;return e&&(e[w]!==void 0&&(b.value1=e[w],D=!0),Te(E)&&e[E]!==void 0&&(b.value2=e[E],D=!0)),!D&&i&&(i[w]!==void 0&&(b.value1=i[w]),Te(E)&&i[E]!==void 0&&(b.value2=i[E])),b},l=a("hide").value1;l!==void 0&&t.setVisible(!l,o);const u=a("pinned").value1;u!==void 0&&t.setPinned(u);const c=this.columnUtils.calculateColMinWidth(t.getColDef()),d=a("flex").value1;if(d!==void 0&&t.setFlex(d),d==null){const w=a("width").value1;w!=null&&c!=null&&w>=c&&t.setActualWidth(w,o)}const h=a("sort").value1;h!==void 0&&(h==="desc"||h==="asc"?t.setSort(h,o):t.setSort(void 0,o));const f=a("sortIndex").value1;if(f!==void 0&&t.setSortIndex(f),s||!t.isPrimary())return;const g=a("aggFunc").value1;g!==void 0&&(typeof g=="string"?(t.setAggFunc(g),t.isValueActive()||(t.setValueActive(!0,o),this.valueColumns.push(t))):(Te(g)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,o),Us(this.valueColumns,t))));const{value1:v,value2:C}=a("rowGroup","rowGroupIndex");(v!==void 0||C!==void 0)&&(typeof C=="number"||v?(t.isRowGroupActive()||(t.setRowGroupActive(!0,o),this.rowGroupColumns.push(t)),r&&typeof C=="number"&&(r[t.getId()]=C)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,o),Us(this.rowGroupColumns,t)));const{value1:S,value2:y}=a("pivot","pivotIndex");(S!==void 0||y!==void 0)&&(typeof y=="number"||S?(t.isPivotActive()||(t.setPivotActive(!0,o),this.pivotColumns.push(t)),n&&typeof y=="number"&&(n[t.getId()]=y)):t.isPivotActive()&&(t.setPivotActive(!1,o),Us(this.pivotColumns,t)))}getGridColumns(t){return this.getColumns(t,this.getGridColumn.bind(this))}getColumns(t,e){const i=[];return t&&t.forEach(r=>{const n=e(r);n&&i.push(n)}),i}getColumnWithValidation(t){if(t==null)return null;const e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e}getPrimaryColumn(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(t){return this.gridColumnsMap[t]}getSecondaryColumn(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(t,e,i){if(!t||!i)return null;if(typeof t=="string"&&i[t])return i[t];for(let r=0;r<e.length;r++)if(this.columnsMatch(e[r],t))return e[r];return this.getAutoColumn(t)}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e)return null;if(e===!0)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(e);return i?[i]:null}getAutoColumn(t){return!this.groupAutoColumns||!Te(this.groupAutoColumns)||ht(this.groupAutoColumns)?null:this.groupAutoColumns.find(e=>this.columnsMatch(e,t))||null}columnsMatch(t,e){const i=t===e,r=t.getColDef()===e,n=t.getColId()==e;return i||r||n}getDisplayNameForColumn(t,e,i=!1){if(!t)return null;const r=this.getHeaderName(t.getColDef(),t,null,null,e);return i?this.wrapHeaderNameWithAggFunc(t,r):r}getDisplayNameForProvidedColumnGroup(t,e,i){const r=e?e.getColGroupDef():null;return r?this.getHeaderName(r,null,t,e,i):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,i,r,n){const s=t.headerValueGetter;if(s){const o=this.gridOptionsService.addGridCommonParams({colDef:t,column:e,columnGroup:i,providedColumnGroup:r,location:n});return typeof s=="function"?s(o):typeof s=="string"?this.expressionService.evaluate(s,o):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return Yee(t.field)}return""}wrapHeaderNameWithAggFunc(t,e){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return e;const i=t.getColDef().pivotValueColumn,r=Te(i);let n=null,s;if(r){const o=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,a=t.getColDef().pivotTotalColumnIds!==void 0;if(o&&!a)return e;n=i?i.getAggFunc():null,s=!0}else{const o=t.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();o&&a?(n=t.getAggFunc(),s=!0):s=!1}if(s){const o=typeof n=="string"?n:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${e})`}return e}getColumnGroup(t,e){if(!t)return null;if(t instanceof Br)return t;const i=this.getAllDisplayedTrees(),r=typeof e=="number";let n=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,s=>{if(s instanceof Br){const o=s;let a;r?a=t===o.getGroupId()&&e===o.getPartId():a=t===o.getGroupId(),a&&(n=o)}}),n}isReady(){return this.ready}extractValueColumns(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(i,r)=>i.setValueActive(r,t),()=>{},()=>{},i=>{const r=i.aggFunc;if(r===null||r==="")return null;if(r!==void 0)return!!r},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueColumns.forEach(i=>{const r=i.getColDef();r.aggFunc!=null&&r.aggFunc!=""?i.setAggFunc(r.aggFunc):i.getAggFunc()||i.setAggFunc(r.initialAggFunc)})}extractRowGroupColumns(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(i,r)=>i.setRowGroupActive(r,t),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(t=[],e=[],i,r,n,s,o){const a=[],l=[];(this.primaryColumns||[]).forEach(d=>{const h=t.indexOf(d)<0,f=d.getColDef(),g=tx(s(f)),v=tx(o(f)),C=Hd(r(f)),S=Hd(n(f));let y;g!==void 0?y=g:C!==void 0?C===null?y=!1:y=C>=0:h?v!==void 0?y=v:S!==void 0?y=S!=null&&S>=0:y=!1:y=e.indexOf(d)>=0,y&&((h?C!=null||S!=null:C!=null)?a.push(d):l.push(d))});const u=d=>{const h=r(d.getColDef()),f=n(d.getColDef());return h??f};a.sort((d,h)=>{const f=u(d),g=u(h);return f===g?0:f<g?-1:1});const c=[].concat(a);return e.forEach(d=>{l.indexOf(d)>=0&&c.push(d)}),l.forEach(d=>{c.indexOf(d)<0&&c.push(d)}),e.forEach(d=>{c.indexOf(d)<0&&i(d,!1)}),c.forEach(d=>{e.indexOf(d)<0&&i(d,!0)}),c}extractPivotColumns(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(i,r)=>i.setPivotActive(r,t),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(t){if(!this.primaryColumnTree)return;const e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,i=>{if(i instanceof Rr){const r=i.getColGroupDef(),n={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};e.push(n)}}),this.setColumnGroupState(e,t)}getColumnGroupState(){const t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,e=>{e instanceof Rr&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})}),t}setColumnGroupState(t,e){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const i=[];if(t.forEach(r=>{const n=r.groupId,s=r.open,o=this.getProvidedColumnGroup(n);o&&o.isExpanded()!==s&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+s+")"),o.setExpanded(s),i.push(o))}),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),i.length){const r={type:F.EVENT_COLUMN_GROUP_OPENED,columnGroup:Rr.length===1?i[0]:void 0,columnGroups:i};this.eventService.dispatchEvent(r)}this.columnAnimationService.finish()}setColumnGroupOpened(t,e,i){let r;t instanceof Rr?r=t.getId():r=t||"",this.setColumnGroupState([{groupId:r,open:e}],i)}getProvidedColumnGroup(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");let e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof Rr&&i.getId()===t&&(e=i)}),e}calculateColumnsForDisplay(){let t;return this.pivotMode&&ht(this.secondaryColumns)?t=this.gridColumns.filter(e=>{const i=this.groupAutoColumns&&Vo(this.groupAutoColumns,e),r=this.valueColumns&&Vo(this.valueColumns,e);return i||r}):t=this.gridColumns.filter(e=>this.groupAutoColumns&&Vo(this.groupAutoColumns,e)||e.isVisible()),t}checkColSpanActiveInCols(t){let e=!1;return t.forEach(i=>{Te(i.getColDef().colSpan)&&(e=!0)}),e}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const t=e=>{const i=e.getColDef(),r=i.showRowGroup;i&&Te(r)&&(this.groupDisplayColumns.push(e),typeof r=="string"?this.groupDisplayColumnsMap[r]=e:r===!0&&this.getRowGroupColumns().forEach(n=>{this.groupDisplayColumnsMap[n.getId()]=e}))};this.gridColumns.forEach(t)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(t){return this.groupDisplayColumnsMap[t]}updateDisplayedColumns(t){const e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)}isSecondaryColumnsPresent(){return Te(this.secondaryColumns)}setSecondaryColumns(t,e){if(!this.gridColumns)return;const i=t;if(!(!i&&ht(this.secondaryColumns))){if(i){this.processSecondaryColumnDefinitions(t);const r=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,e);this.destroyOldColumns(this.secondaryBalancedTree,r.columnTree),this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(n=>this.secondaryColumnsMap[n.getId()]=n),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}}processSecondaryColumnDefinitions(t){const e=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!e&&!i)return;const r=n=>{n.forEach(s=>{if(Te(s.children)){const a=s;i&&i(a),r(a.children)}else e&&e(s)})};t&&r(t)}updateGridColumns(){const t=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const r=wd(this.groupAutoColumns.map(n=>[n,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(n=>!r.has(n)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(n=>!r.has(n)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let i;if(this.secondaryColumns&&this.secondaryBalancedTree){const r=this.secondaryColumns.some(n=>this.gridColumnsMap[n.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,r&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(r=>this.gridColumnsMap[r.getId()]=r),this.setAutoHeightActive(),!uu(t,this.gridBalancedTree)){const r={type:F.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(t=>t.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||ct("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(t){if(ht(t))return;const e=wd(t.map((l,u)=>[l,u]));let i=!0;if(this.gridColumns.forEach(l=>{e.has(l)&&(i=!1)}),i)return;const r=wd(this.gridColumns.map(l=>[l,!0])),n=t.filter(l=>r.has(l)),s=wd(n.map(l=>[l,!0])),o=this.gridColumns.filter(l=>!s.has(l)),a=n.slice();o.forEach(l=>{let u=l.getOriginalParent();if(!u){a.push(l);return}const c=[];for(;!c.length&&u;)u.getLeafColumns().forEach(g=>{const v=a.indexOf(g)>=0,C=c.indexOf(g)<0;v&&C&&c.push(g)}),u=u.getOriginalParent();if(!c.length){a.push(l);return}const d=c.map(f=>a.indexOf(f)),h=Math.max(...d);dw(a,l,h+1)}),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var t;let e=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!=null?t:[];this.groupAutoColumns&&(e=e.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?e:e.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(t){const e=[],i=[],r=[];return t.forEach(n=>{const s=n.getColDef().lockPosition;s==="right"?r.push(n):s==="left"||s===!0?e.push(n):i.push(n)}),[...e,...i,...r]}addAutoGroupToGridColumns(){if(ht(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const e={type:F.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)}deriveDisplayedColumns(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(e=>e.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const t=this.getAllGridColumns(),e=[],i=[],r=[];for(const n of t){const s=n.getPinned();s?s===!0||s==="left"?e.push(n):r.push(n):i.push(n)}this.ariaOrderColumns=e.concat(i).concat(r)}joinDisplayedColumns(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(t){if(!this.primaryColumns)return;const e=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),i=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(r=>{if(i){let n=this.getWidthOfColsInList(r);r.forEach(s=>{n-=s.getActualWidth(),s.setLeft(n,t)})}else{let n=0;r.forEach(s=>{s.setLeft(n,t),n+=s.getActualWidth()})}kee(e,r)}),e.forEach(r=>{r.setLeft(null,t)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(t=>{t.forEach(e=>{e instanceof Br&&e.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,i=>{i instanceof Ci&&e.push(i)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(t,e){let i;switch(t){case"left":i=this.viewportRowLeft[e];break;case"right":i=this.viewportRowRight[e];break;default:i=this.viewportRowCenter[e];break}return ht(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const t={};this.headerViewportColumns.forEach(i=>t[i.getId()]=!0);const e=(i,r,n)=>{let s=!1;for(let o=0;o<i.length;o++){const a=i[o];let l=!1;if(a instanceof Ci)l=t[a.getId()]===!0;else{const c=a.getDisplayedChildren();c&&(l=e(c,r,n+1))}l&&(s=!0,r[n]||(r[n]=[]),r[n].push(a))}return s};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const t=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const e=this.viewportColumns.map(t).join("#"),i=this.viewportColumnsHash!==e;return i&&(this.viewportColumnsHash=e,this.calculateHeaderRows()),i}refreshFlexedColumns(t={}){var e;const i=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];let r=-1;if(t.resizingCols){const h=new Set(t.resizingCols);let f=this.displayedColumnsCenter;for(let g=f.length-1;g>=0;g--)if(h.has(f[g])){r=g;break}}let n=0,s=[],o=0,a=0;for(let h=0;h<this.displayedColumnsCenter.length;h++)this.displayedColumnsCenter[h].getFlex()&&h>r?(s.push(this.displayedColumnsCenter[h]),a+=this.displayedColumnsCenter[h].getFlex(),o+=(e=this.displayedColumnsCenter[h].getMinWidth())!=null?e:0):n+=this.displayedColumnsCenter[h].getActualWidth();if(!s.length)return[];let l=[];n+o>this.flexViewportWidth&&(s.forEach(h=>{var f;return h.setActualWidth((f=h.getMinWidth())!=null?f:0,i)}),l=s,s=[]);const u=[];let c;e:for(;;){c=this.flexViewportWidth-n;const h=c/a;for(let f=0;f<s.length;f++){const g=s[f],v=h*g.getFlex();let C=0;const S=g.getMinWidth(),y=g.getMaxWidth();if(Te(S)&&v<S?C=S:Te(y)&&v>y&&(C=y),C){g.setActualWidth(C,i),t$(s,g),a-=g.getFlex(),l.push(g),n+=g.getActualWidth();continue e}u[f]=Math.round(v)}break}let d=c;return s.forEach((h,f)=>{h.setActualWidth(Math.min(u[f],d),i),l.push(h),d-=u[f]}),t.skipSetLeft||this.setLeftValues(i),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,i,s),s}sizeColumnsToFit(t,e="sizeColumnsToFit",i,r){var n,s,o,a,l;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(t,e,i,r));return}const u={};r&&((n=r==null?void 0:r.columnLimits)==null||n.forEach(S=>{var y=S,{key:w}=y,E=vOe(y,["key"]);u[typeof w=="string"?w:w.getColId()]=E}));const c=this.getAllDisplayedColumns(),d=t===this.getWidthOfColsInList(c);if(t<=0||!c.length||d)return;const h=[],f=[];c.forEach(S=>{S.getColDef().suppressSizeToFit===!0?f.push(S):h.push(S)});const g=h.slice(0);let v=!1;const C=S=>{Us(h,S),f.push(S)};for(h.forEach(S=>{var y,w;S.resetActualWidth(e);const E=u==null?void 0:u[S.getId()],b=(y=E==null?void 0:E.minWidth)!=null?y:r==null?void 0:r.defaultMinWidth,D=(w=E==null?void 0:E.maxWidth)!=null?w:r==null?void 0:r.defaultMaxWidth,P=S.getActualWidth();typeof b=="number"&&P<b?S.setActualWidth(b,e,!0):typeof D=="number"&&P>D&&S.setActualWidth(D,e,!0)});!v;){v=!0;const S=t-this.getWidthOfColsInList(f);if(S<=0)h.forEach(y=>{var w,E;const b=(E=(w=u==null?void 0:u[y.getId()])==null?void 0:w.minWidth)!=null?E:r==null?void 0:r.defaultMinWidth;if(typeof b=="number"){y.setActualWidth(b,e,!0);return}y.setMinimum(e)});else{const y=S/this.getWidthOfColsInList(h);let w=S;for(let E=h.length-1;E>=0;E--){const b=h[E],D=u==null?void 0:u[b.getId()],P=(s=D==null?void 0:D.minWidth)!=null?s:r==null?void 0:r.defaultMinWidth,O=(o=D==null?void 0:D.maxWidth)!=null?o:r==null?void 0:r.defaultMaxWidth,N=(a=b.getMinWidth())!=null?a:0,_=(l=b.getMaxWidth())!=null?l:Number.MAX_VALUE,L=typeof P=="number"&&P>N?P:b.getMinWidth(),k=typeof O=="number"&&O<_?O:b.getMaxWidth();let $=Math.round(b.getActualWidth()*y);Te(L)&&$<L?($=L,C(b),v=!1):Te(k)&&$>k?($=k,C(b),v=!1):E===0&&($=w),b.setActualWidth($,e,!0),w-=$}}}g.forEach(S=>{S.fireColumnWidthChangedEvent(e)}),this.setLeftValues(e),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(g,!0,e)}buildDisplayedTrees(t){const e=[],i=[],r=[];t.forEach(s=>{switch(s.getPinned()){case"left":e.push(s);break;case"right":i.push(s);break;default:r.push(s);break}});const n=new jee;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,n,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,n,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(r,n,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const t=e=>{this.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)}isDisplayed(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,e=>{e instanceof Br&&e.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))&&!i&&!e){const s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||t)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){return this.gridOptionsService.get("groupDisplayType")==="custom"?!0:this.gridOptionsService.get("treeDataDisplayType")==="custom"}autoColsEqual(t,e){return uu(t,e,(i,r)=>i.getColId()===r.getColId())}getWidthOfColsInList(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}getFirstDisplayedColumn(){const t=this.gridOptionsService.get("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(let i=0;i<e.length;i++){const r=this[e[i]]();if(r.length)return t?Xt(r):r[0]}return null}setColumnHeaderHeight(t,e){if(t.setAutoHeaderHeight(e)){const r={type:F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(r)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...e)}getHeaderHeight(){var t;return(t=this.gridOptionsService.get("headerHeight"))!=null?t:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var t;return(t=this.gridOptionsService.get("floatingFiltersHeight"))!=null?t:this.getHeaderHeight()}getGroupHeaderHeight(){var t;return(t=this.gridOptionsService.get("groupHeaderHeight"))!=null?t:this.getHeaderHeight()}getPivotHeaderHeight(){var t;return(t=this.gridOptionsService.get("pivotHeaderHeight"))!=null?t:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var t;return(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))!=null?t:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(t,e){const i=t.getUserProvidedColDef();if(!i)return!1;const r=this.columnFactory.addColumnDefaultAndTypes(i,t.getColId());return t.setColDef(r,i,e),!0}isColumnGroupingLocked(t){const e=this.gridOptionsService.get("groupLockGroupColumns");if(!t.isRowGroupActive()||e===0)return!1;if(e===-1)return!0;const i=this.rowGroupColumns.findIndex(r=>r.getColId()===t.getColId());return e>i}generateColumnStateForRowGroupAndPivotIndexes(t,e){let i={};const r=(n,s,o,a,l,u)=>{if(!s.length||!this.primaryColumns)return[];const c=Object.keys(n),d=new Set(c),h=new Set(c),f=new Set(s.map(b=>{const D=b.getColId();return h.delete(D),D}).concat(c)),g=[],v={};let C=0;for(let b=0;b<this.primaryColumns.length;b++){const D=this.primaryColumns[b].getColId();f.has(D)&&(g.push(D),v[D]=C++)}let S=1e3,y=!1,w=0;const E=b=>{const D=v[b];for(let P=w;P<D;P++){const O=g[P];h.has(O)&&(n[O][l]=S++,h.delete(O))}w=D};s.forEach(b=>{const D=b.getColId();if(d.has(D))E(D),n[D][l]=S++;else{const P=b.getColDef();(P[l]===null||P[l]===void 0&&P[u]==null)&&(y||(P[o]||P[o]===void 0&&P[a]?E(D):(h.forEach(_=>{n[_][l]=S+v[_]}),S+=g.length,y=!0)),i[D]||(i[D]={colId:D}),i[D][l]=S++)}})};return r(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),r(e,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}onColumnsReady(){const t=this.gridOptionsService.get("autoSizeStrategy");if(!t)return;const{type:e}=t;setTimeout(()=>{if(e==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:r,defaultMaxWidth:n}=t,s=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:r,defaultMaxWidth:n,columnLimits:s})}else e==="fitProvidedWidth"&&this.sizeColumnsToFit(t.width,"sizeColumnsToFit")})}onFirstDataRendered(){const t=this.gridOptionsService.get("autoSizeStrategy");if((t==null?void 0:t.type)!=="fitCellContents")return;const{colIds:e,skipHeader:i}=t;setTimeout(()=>{e?this.autoSizeColumns({columns:e,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}};x([V("expressionService")],ln.prototype,"expressionService",2);x([V("columnFactory")],ln.prototype,"columnFactory",2);x([V("displayedGroupCreator")],ln.prototype,"displayedGroupCreator",2);x([V("ctrlsService")],ln.prototype,"ctrlsService",2);x([V("autoWidthCalculator")],ln.prototype,"autoWidthCalculator",2);x([V("columnUtils")],ln.prototype,"columnUtils",2);x([V("columnAnimationService")],ln.prototype,"columnAnimationService",2);x([V("autoGroupColService")],ln.prototype,"autoGroupColService",2);x([jt("aggFuncService")],ln.prototype,"aggFuncService",2);x([jt("valueCache")],ln.prototype,"valueCache",2);x([jt("animationFrameService")],ln.prototype,"animationFrameService",2);x([V("sortController")],ln.prototype,"sortController",2);x([V("columnDefFactory")],ln.prototype,"columnDefFactory",2);x([Me],ln.prototype,"init",1);x([xs],ln.prototype,"destroyColumns",1);x([Cl(0,ba("loggerFactory"))],ln.prototype,"setBeans",1);ln=x([We("columnModel")],ln);function em(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}var u1=class extends Pe{calculateColMinWidth(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(t){const e=this.calculateColMinWidth(t),i=this.calculateColMaxWidth(t);let r;const n=Hd(t.width),s=Hd(t.initialWidth);return n!=null?r=n:s!=null?r=s:r=200,Math.max(Math.min(r,i),e)}getOriginalPathForColumn(t,e){const i=[];let r=!1;const n=(s,o)=>{for(let a=0;a<s.length;a++){if(r)return;const l=s[a];l instanceof Rr?(n(l.getChildren(),o+1),i[o]=l):l===t&&(r=!0)}};return n(e,0),r?i:null}depthFirstOriginalTreeSearch(t,e,i){e&&e.forEach(r=>{r instanceof Rr&&this.depthFirstOriginalTreeSearch(r,r.getChildren(),i),i(r,t)})}depthFirstAllColumnTreeSearch(t,e){t&&t.forEach(i=>{i instanceof Br&&this.depthFirstAllColumnTreeSearch(i.getChildren(),e),e(i)})}depthFirstDisplayedColumnTreeSearch(t,e){t&&t.forEach(i=>{i instanceof Br&&this.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),e),e(i)})}};u1=x([We("columnUtils")],u1);var c1=class extends Pe{createDisplayedGroups(t,e,i,r){const n=this.mapOldGroupsById(r),s=[];let o=t;for(;o.length;){const a=o;o=[];let l=0;const u=c=>{const d=l;l=c;const h=a[d],g=(h instanceof Br?h.getProvidedColumnGroup():h).getOriginalParent();if(g==null){for(let C=d;C<c;C++)s.push(a[C]);return}const v=this.createColumnGroup(g,e,n,i);for(let C=d;C<c;C++)v.addChild(a[C]);o.push(v)};for(let c=1;c<a.length;c++){const d=a[c],f=(d instanceof Br?d.getProvidedColumnGroup():d).getOriginalParent(),g=a[l],C=(g instanceof Br?g.getProvidedColumnGroup():g).getOriginalParent();f!==C&&u(c)}l<a.length&&u(a.length)}return this.setupParentsIntoColumns(s,null),s}createColumnGroup(t,e,i,r){const n=t.getGroupId(),s=e.getInstanceIdForKey(n),o=Br.createUniqueId(n,s);let a=i[o];return a&&a.getProvidedColumnGroup()!==t&&(a=null),Te(a)?a.reset():(a=new Br(t,n,s,r),this.context.createBean(a)),a}mapOldGroupsById(t){const e={},i=r=>{r.forEach(n=>{if(n instanceof Br){const s=n;e[n.getUniqueId()]=s,i(s.getChildren())}})};return t&&i(t),e}setupParentsIntoColumns(t,e){t.forEach(i=>{if(i.setParent(e),i instanceof Br){const r=i;this.setupParentsIntoColumns(r.getChildren(),r)}})}};c1=x([We("displayedGroupCreator")],c1);var kOe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},gn=class{};gn.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"];gn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];gn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];gn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];gn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"];gn.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];gn.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"];gn.FUNCTION_PROPERTIES=[...gn.FUNCTIONAL_PROPERTIES,...gn.CALLBACK_PROPERTIES];gn.ALL_PROPERTIES=[...gn.ARRAY_PROPERTIES,...gn.OBJECT_PROPERTIES,...gn.STRING_PROPERTIES,...gn.NUMBER_PROPERTIES,...gn.FUNCTION_PROPERTIES,...gn.BOOLEAN_PROPERTIES];var Pu=gn,Pr=class DD{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(e,i){typeof e!="object"&&(e={});const r=it({},e);return DD.getGridOptionKeys().forEach(s=>{const o=i[s];typeof o<"u"&&o!==DD.VUE_OMITTED_PROPERTY&&(r[s]=o)}),r}static processOnChange(e,i){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>DD.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;i.__internalUpdateGridOptions(r);const s={type:F.EVENT_COMPONENT_STATE_CHANGED};Zn(r,(o,a)=>{s[o]=a}),i.dispatchEvent(s)}};Pr.EVENTS=Ep(F);Pr.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Pr.EXCLUDED_INTERNAL_EVENTS=[F.EVENT_SCROLLBAR_WIDTH_CHANGED,F.EVENT_CHECKBOX_CHANGED,F.EVENT_HEIGHT_SCALE_CHANGED,F.EVENT_BODY_HEIGHT_CHANGED,F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,F.EVENT_SCROLL_VISIBILITY_CHANGED,F.EVENT_COLUMN_HOVER_CHANGED,F.EVENT_FLASH_CELLS,F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,F.EVENT_DISPLAYED_ROWS_CHANGED,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,F.EVENT_STORE_UPDATED,F.EVENT_COLUMN_PANEL_ITEM_DRAG_START,F.EVENT_COLUMN_PANEL_ITEM_DRAG_END,F.EVENT_FILL_START,F.EVENT_FILL_END,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,F.EVENT_FULL_WIDTH_ROW_FOCUSED,F.EVENT_HEADER_HEIGHT_CHANGED,F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,F.EVENT_CELL_FOCUS_CLEARED,F.EVENT_GRID_STYLES_CHANGED,F.EVENT_FILTER_DESTROYED,F.EVENT_ROW_DATA_UPDATE_STARTED,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,F.EVENT_DATA_TYPES_INFERRED,F.EVENT_FIELD_VALUE_CHANGED,F.EVENT_FIELD_PICKER_VALUE_SELECTED,F.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,F.EVENT_SUPPRESS_MENU_HIDE_CHANGED,F.EVENT_SUPPRESS_FIELD_DOT_NOTATION,F.EVENT_ROW_COUNT_READY,F.EVENT_SIDE_BAR_UPDATED];Pr.PUBLIC_EVENTS=Pr.EVENTS.filter(t=>!Vo(Pr.EXCLUDED_INTERNAL_EVENTS,t));Pr.EVENT_CALLBACKS=Pr.EVENTS.map(t=>Pr.getCallbackForEvent(t));Pr.STRING_PROPERTIES=Pu.STRING_PROPERTIES;Pr.OBJECT_PROPERTIES=Pu.OBJECT_PROPERTIES;Pr.ARRAY_PROPERTIES=Pu.ARRAY_PROPERTIES;Pr.NUMBER_PROPERTIES=Pu.NUMBER_PROPERTIES;Pr.BOOLEAN_PROPERTIES=Pu.BOOLEAN_PROPERTIES;Pr.FUNCTION_PROPERTIES=Pu.FUNCTION_PROPERTIES;Pr.ALL_PROPERTIES=Pu.ALL_PROPERTIES;Pr.ALL_PROPERTIES_AND_CALLBACKS=[...Pr.ALL_PROPERTIES,...Pr.EVENT_CALLBACKS];Pr.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Pr.ALL_PROPERTIES_AND_CALLBACKS);var ox=Pr,d1=class extends Pe{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(t){t&&t.forEach(e=>this.addComponent(e))}addComponent(t){const i=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=t.componentClass}getComponentClass(t){return this.componentsMappedByName[t]}};d1=x([We("agStackComponentsRegistry")],d1);var Qee={};bn(Qee,{getAriaCheckboxStateName:()=>vO,getAriaLabel:()=>tte,getAriaLevel:()=>VOe,getAriaPosInSet:()=>ete,getAriaSortState:()=>Jee,removeAriaExpanded:()=>ste,removeAriaSort:()=>dte,setAriaActiveDescendant:()=>o$,setAriaAtomic:()=>ite,setAriaChecked:()=>$Oe,setAriaColCount:()=>lte,setAriaColIndex:()=>l$,setAriaColSpan:()=>ute,setAriaControls:()=>u$,setAriaDescribedBy:()=>HOe,setAriaDisabled:()=>s$,setAriaExpanded:()=>wc,setAriaHidden:()=>wb,setAriaLabel:()=>_l,setAriaLabelledBy:()=>ax,setAriaLevel:()=>nte,setAriaLive:()=>n$,setAriaMultiSelectable:()=>ote,setAriaPosInSet:()=>mO,setAriaRelevant:()=>rte,setAriaRole:()=>hr,setAriaRowCount:()=>ate,setAriaRowIndex:()=>a$,setAriaSelected:()=>qm,setAriaSetSize:()=>gO,setAriaSort:()=>cte});function qa(t,e,i){i==null||typeof i=="string"&&i==""?r$(t,e):Xa(t,e,i)}function Xa(t,e,i){t.setAttribute(Zee(e),i.toString())}function r$(t,e){t.removeAttribute(Zee(e))}function Zee(t){return`aria-${t}`}function hr(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function Jee(t){let e;return t==="asc"?e="ascending":t==="desc"?e="descending":t==="mixed"?e="other":e="none",e}function VOe(t){return parseInt(t.getAttribute("aria-level"),10)}function ete(t){return parseInt(t.getAttribute("aria-posinset"),10)}function tte(t){return t.getAttribute("aria-label")}function _l(t,e){qa(t,"label",e)}function ax(t,e){qa(t,"labelledby",e)}function HOe(t,e){qa(t,"describedby",e)}function n$(t,e){qa(t,"live",e)}function ite(t,e){qa(t,"atomic",e)}function rte(t,e){qa(t,"relevant",e)}function nte(t,e){qa(t,"level",e)}function s$(t,e){qa(t,"disabled",e)}function wb(t,e){qa(t,"hidden",e)}function o$(t,e){qa(t,"activedescendant",e)}function wc(t,e){Xa(t,"expanded",e)}function ste(t){r$(t,"expanded")}function gO(t,e){Xa(t,"setsize",e)}function mO(t,e){Xa(t,"posinset",e)}function ote(t,e){Xa(t,"multiselectable",e)}function ate(t,e){Xa(t,"rowcount",e)}function a$(t,e){Xa(t,"rowindex",e)}function lte(t,e){Xa(t,"colcount",e)}function l$(t,e){Xa(t,"colindex",e)}function ute(t,e){Xa(t,"colspan",e)}function cte(t,e){Xa(t,"sort",e)}function dte(t){r$(t,"sort")}function qm(t,e){qa(t,"selected",e)}function $Oe(t,e){Xa(t,"checked",e===void 0?"mixed":e)}function u$(t,e){qa(t,"controls",e.id),ax(e,t.id)}function vO(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var hte={};bn(hte,{browserSupportsPreventScroll:()=>p$,getBodyHeight:()=>gte,getBodyWidth:()=>fte,getMaxDivHeight:()=>pte,getSafariVersion:()=>c$,getScrollbarWidth:()=>mte,getTabIndex:()=>lx,isBrowserChrome:()=>CO,isBrowserFirefox:()=>d$,isBrowserSafari:()=>xu,isIOSUserAgent:()=>Wc,isInvisibleScrollbar:()=>f$,isMacOsUserAgent:()=>h$});var CL,TT,yL,SL,wL,EL,h1,p1;function xu(){return CL===void 0&&(CL=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),CL}function c$(){if(TT===void 0)if(xu()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(TT=t[1]!=null?parseFloat(t[1]):0)}else TT=0;return TT}function CO(){if(yL===void 0){const t=window;yL=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return yL}function d$(){return SL===void 0&&(SL=/(firefox)/i.test(navigator.userAgent)),SL}function h$(){return wL===void 0&&(wL=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),wL}function Wc(){return EL===void 0&&(EL=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),EL}function p$(){return!xu()||c$()>=15}function lx(t){if(!t)return null;const e=t.tabIndex,i=t.getAttribute("tabIndex");return e===-1&&(i===null||i===""&&!d$())?null:e.toString()}function pte(){if(!document.body)return-1;let t=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const r=t*2;if(i.style.height=r+"px",r>e||i.clientHeight!==r)break;t=r}return document.body.removeChild(i),t}function fte(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientWidth)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientWidth)||-1}function gte(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientHeight)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientHeight)||-1}function mte(){return p1==null&&vte(),p1}function vte(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let i=e.offsetWidth-e.clientWidth;i===0&&e.clientWidth===0&&(i=null),e.parentNode&&e.parentNode.removeChild(e),i!=null&&(p1=i,h1=i===0)}function f$(){return h1==null&&vte(),h1}var Cte={};bn(Cte,{dateToFormattedString:()=>ym,parseDateTimeFromString:()=>Ys,serialiseDate:()=>Aa});var yte={};bn(yte,{cleanNumber:()=>BOe,createArrayOfNumbers:()=>Ste,decToHex:()=>WOe,formatNumberCommas:()=>g$,formatNumberTwoDecimalPlacesAndCommas:()=>UOe,padStartWidthZeros:()=>Cm,sum:()=>zOe});function Cm(t,e){return t.toString().padStart(e,"0")}function Ste(t,e){const i=[];for(let r=t;r<=e;r++)i.push(r);return i}function BOe(t){return typeof t=="string"&&(t=parseInt(t,10)),typeof t=="number"?Math.floor(t):null}function WOe(t,e){let i="";for(let r=0;r<e;r++)i+=String.fromCharCode(t&255),t>>>=8;return i}function UOe(t,e,i){return typeof t!="number"?"":g$(Math.round(t*100)/100,e,i)}function g$(t,e,i){return typeof t!="number"?"":t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function zOe(t){return t==null?null:t.reduce((e,i)=>e+i,0)}function Aa(t,e=!0,i="-"){if(!t)return null;let r=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(n=>Cm(n,2)).join(i);return e&&(r+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(n=>Cm(n,2)).join(":")),r}var bL=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function ym(t,e="YYYY-MM-DD"){const i=Cm(t.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>r[t.getMonth()],MMM:()=>r[t.getMonth()].slice(0,3),MM:()=>Cm(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${bL(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${bL(t.getDate())}`,DD:()=>Cm(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>n[t.getDay()],ddd:()=>n[t.getDay()].slice(0,3),dd:()=>n[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${bL(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return e.replace(o,a=>a in s?s[a]():a)}function Ys(t){if(!t)return null;const[e,i]=t.split(" ");if(!e)return null;const r=e.split("-").map(d=>parseInt(d,10));if(r.filter(d=>!isNaN(d)).length!==3)return null;const[n,s,o]=r,a=new Date(n,s-1,o);if(a.getFullYear()!==n||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,u,c]=i.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}var wte={};bn(wte,{FOCUSABLE_EXCLUDE:()=>m$,FOCUSABLE_SELECTOR:()=>Ete,addOrRemoveAttribute:()=>mu,addStylesToElement:()=>b$,bindCellRendererToHtmlElement:()=>T$,clearElement:()=>Lr,copyNodeList:()=>Pte,ensureDomOrder:()=>w$,formatSize:()=>yO,getAbsoluteHeight:()=>C$,getAbsoluteWidth:()=>pw,getElementRectWithOffset:()=>y$,getElementSize:()=>uh,getInnerHeight:()=>Eb,getInnerWidth:()=>Gf,getScrollLeft:()=>gw,insertWithDomOrder:()=>Rte,isElementChildOfClass:()=>Rp,isFocusableFormField:()=>v$,isHorizontalScrollShowing:()=>Tte,isInDOM:()=>S$,isNodeOrElement:()=>bb,isRtlNegativeScroll:()=>fw,isVerticalScrollShowing:()=>Dte,isVisible:()=>Bo,iterateNamedNodeMap:()=>xte,loadTemplate:()=>qs,nodeListForEach:()=>R$,radioCssClass:()=>f1,removeFromParent:()=>yl,setDisabled:()=>Xm,setDisplayed:()=>Vt,setDomChildOrder:()=>E$,setElementHeight:()=>jOe,setElementWidth:()=>vw,setFixedHeight:()=>Tp,setFixedWidth:()=>Oa,setScrollLeft:()=>mw,setVisible:()=>bte});var DT;function f1(t,e,i){const r=t.parentElement;let n=r&&r.firstChild;for(;n;)e&&n.classList.toggle(e,n===t),i&&n.classList.toggle(i,n!==t),n=n.nextSibling}var Ete="[tabindex], input, select, button, textarea, [href]",m$="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function v$(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,r=e.call(t,"input, select, button, textarea"),n=e.call(t,m$),s=Bo(t);return r&&!n&&s}function Vt(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-hidden",!e),r||wb(t,!e)}function bte(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-invisible",!e),r||wb(t,!e)}function Xm(t,e){const i="disabled",r=e?n=>n.setAttribute(i,""):n=>n.removeAttribute(i);r(t),R$(t.querySelectorAll("input"),n=>r(n))}function Rp(t,e,i){let r=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,typeof i=="number"){if(++r>i)break}else if(t===i)break}return!1}function uh(t){const{height:e,width:i,borderTopWidth:r,borderRightWidth:n,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:f,marginLeft:g,boxSizing:v}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:v}}function Eb(t){const e=uh(t);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function Gf(t){const e=uh(t);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function C$(t){const e=uh(t),i=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+i)}function pw(t){const e=uh(t),i=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+i)}function y$(t){const e=t.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:r,borderRightWidth:n,borderBottomWidth:s}=uh(t);return{top:e.top+(i||0),left:e.left+(r||0),right:e.right+(n||0),bottom:e.bottom+(s||0)}}function fw(){if(typeof DT=="boolean")return DT;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(t),t.scrollLeft=1,DT=Math.floor(t.scrollLeft)===0,document.body.removeChild(t),DT}function gw(t,e){let i=t.scrollLeft;return e&&(i=Math.abs(i),CO()&&!fw()&&(i=t.scrollWidth-t.clientWidth-i)),i}function mw(t,e,i){i&&(fw()?e*=-1:(xu()||CO())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function Lr(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function yl(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function S$(t){return!!t.offsetParent}function Bo(t){const e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!S$(t)||window.getComputedStyle(t).visibility!=="visible")}function qs(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function w$(t,e,i){i&&i.nextSibling===e||(i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function E$(t,e){for(let i=0;i<e.length;i++){const r=e[i],n=t.children[i];n!==r&&t.insertBefore(r,n)}}function Rte(t,e,i){i?i.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function b$(t,e){if(e)for(const[i,r]of Object.entries(e)){if(!i||!i.length||r==null)continue;const n=qee(i),s=r.toString(),o=s.replace(/\s*!important/g,""),a=o.length!=s.length?"important":void 0;t.style.setProperty(n,o,a)}}function Tte(t){return t.clientWidth<t.scrollWidth}function Dte(t){return t.clientHeight<t.scrollHeight}function vw(t,e){e==="flex"?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):Oa(t,e)}function Oa(t,e){e=yO(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function jOe(t,e){e==="flex"?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):Tp(t,e)}function Tp(t,e){e=yO(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function yO(t){return typeof t=="number"?`${t}px`:t}function bb(t){return t instanceof Node||t instanceof HTMLElement}function Pte(t){if(t==null)return[];const e=[];return R$(t,i=>e.push(i)),e}function xte(t,e){if(t)for(let i=0;i<t.length;i++){const r=t[i];e(r.name,r.value)}}function mu(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i.toString())}function R$(t,e){if(t!=null)for(let i=0;i<t.length;i++)e(t[i])}function T$(t,e){t.then(i=>{const r=i.getGui();r!=null&&(typeof r=="object"?e.appendChild(r):e.innerHTML=r)})}var Ate={};bn(Ate,{fuzzyCheckStrings:()=>Ote,fuzzySuggestions:()=>Rb});function Ote(t,e,i){const r={},n=t.filter(s=>!e.some(o=>o===s));return n.length>0&&n.forEach(s=>r[s]=Rb(s,i).values),r}function Rb(t,e,i,r){let n=e.map((a,l)=>({value:a,relevance:KOe(t.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(n.sort((a,l)=>l.relevance-a.relevance),i&&(n=n.filter(a=>a.relevance!==0)),n.length>0&&r&&r>0){const l=n[0].relevance*r;n=n.filter(u=>l-u.relevance<0)}const s=[],o=[];for(const a of n)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function KOe(t,e){const i=t.replace(/\s/g,""),r=e.replace(/\s/g,"");let n=0,s=-1;for(let o=0;o<i.length;o++){const a=r.indexOf(i[o],s+1);a!==-1&&(s=a,n+=100-s*100/1e4*100)}return n}var Mte={};bn(Mte,{createIcon:()=>pa,createIconNoSpan:()=>ir,iconNameClassMap:()=>Fte});var Fte={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function pa(t,e,i){const r=ir(t,e,i);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const n=document.createElement("span");return n.appendChild(r),n}function ir(t,e,i,r){let n=null;const s=i&&i.getColDef().icons;if(s&&(n=s[t]),e&&!n){const o=e.get("icons");o&&(n=o[t])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return qs(o);if(bb(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=Fte[t];return a||(r?a=t:(console.warn(`AG Grid: Did not find icon ${t}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),hr(o,"presentation"),o}}var Ite={};bn(Ite,{isDeleteKey:()=>Nte,isEventFromPrintableCharacter:()=>SO,isUserSuppressingHeaderKeyboardEvent:()=>Lte,isUserSuppressingKeyboardEvent:()=>ux,normaliseQwertyAzerty:()=>_te});var de=class{};de.BACKSPACE="Backspace";de.TAB="Tab";de.ENTER="Enter";de.ESCAPE="Escape";de.SPACE=" ";de.LEFT="ArrowLeft";de.UP="ArrowUp";de.RIGHT="ArrowRight";de.DOWN="ArrowDown";de.DELETE="Delete";de.F2="F2";de.PAGE_UP="PageUp";de.PAGE_DOWN="PageDown";de.PAGE_HOME="Home";de.PAGE_END="End";de.A="KeyA";de.C="KeyC";de.D="KeyD";de.V="KeyV";de.X="KeyX";de.Y="KeyY";de.Z="KeyZ";var YOe=65,qOe=67,XOe=86,QOe=68,ZOe=90,JOe=89;function SO(t){return t.altKey||t.ctrlKey||t.metaKey?!1:t.key.length===1}function ux(t,e,i,r,n){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=t.addGridCommonParams({event:e,editing:n,column:r,node:i,data:i.data,colDef:r.getColDef()});return!!(s&&s(o))}function Lte(t,e,i,r){const n=r.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!Te(s))return!1;const o=t.addGridCommonParams({colDef:n,column:r,headerRowIndex:i,event:e});return!!s(o)}function _te(t){const{keyCode:e}=t;let i;switch(e){case YOe:i=de.A;break;case qOe:i=de.C;break;case XOe:i=de.V;break;case QOe:i=de.D;break;case ZOe:i=de.Z;break;case JOe:i=de.Y;break;default:i=t.code}return i}function Nte(t,e=!1){return t===de.DELETE?!0:!e&&t===de.BACKSPACE?h$():!1}var Gte={};bn(Gte,{areEventsNear:()=>D$});function D$(t,e,i){if(i===0)return!1;const r=Math.abs(t.clientX-e.clientX),n=Math.abs(t.clientY-e.clientY);return Math.max(r,n)<=i}var kte={};bn(kte,{sortRowNodesByOrder:()=>eMe});function eMe(t,e){if(!t)return!1;const i=(o,a)=>{const l=e[o.id],u=e[a.id],c=l!==void 0,d=u!==void 0,h=c&&d,f=!c&&!d;return h?l-u:f?o.__objectId-a.__objectId:c?1:-1};let r,n,s=!1;for(let o=0;o<t.length-1;o++)if(r=t[o],n=t[o+1],i(r,n)>0){s=!0;break}return s?(t.sort(i),!0):!1}var Vte={};bn(Vte,{convertToSet:()=>P$});function P$(t){const e=new Set;return t.forEach(i=>e.add(i)),e}var tMe=it(it(it(it(it(it(it(it(it(it(it(it(it(it(it(it(it(it({},Qee),_ee),hte),Cte),wte),Lee),Dee),Ate),bee),Mte),Ite),Xee),Gte),yte),Ree),kte),Vte),Kee),ft=tMe,Qm=class{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){const t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}},Tr=class PD{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(i=>this.onDone(i),i=>this.onReject(i))}static all(e){return new PD(i=>{let r=e.length;const n=new Array(r);e.forEach((s,o)=>{s.then(a=>{n[o]=a,r--,r===0&&i(n)})})})}static resolve(e=null){return new PD(i=>i(e))}then(e){return new PD(i=>{this.status===1?i(e(this.resolution)):this.waiters.push(r=>i(e(r)))})}resolveNow(e,i){return this.status===1?i(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(i=>i(e))}onReject(e){console.warn("TBI")}},Tb=class{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(r=>this.addCssClass(r));return}if(this.cssClassStates[t]!==!0&&t.length){const r=this.getGui();r&&r.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(r=>this.removeCssClass(r));return}if(this.cssClassStates[t]!==!1&&t.length){const r=this.getGui();r&&r.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){const e=this.getGui();return e?e.classList.contains(t):!1}addOrRemoveCssClass(t,e){if(!t)return;if(t.indexOf(" ")>=0){const r=(t||"").split(" ");if(r.length>1){r.forEach(n=>this.addOrRemoveCssClass(n,e));return}}if(this.cssClassStates[t]!==e&&t.length){const r=this.getGui();r&&r.classList.toggle(t,e),this.cssClassStates[t]=e}}},Db=class Uh extends Pe{constructor(e,i,r,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=n,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===0&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===1&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const i=this.gridOptionsService.get(e);return i<0&&ct(`${e} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(e){var i,r;return e==="show"?(i=this.tooltipShowDelayOverride)!=null?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(r=this.tooltipHideDelayOverride)!=null?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Wc()&&(Uh.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const r=e.relatedTarget,n=this.parentComp.getGui(),s=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Uh.isLocked)return;let i=0;e&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const e=new Date().getTime(),i=Uh.lastTooltipHideTime;return e-i<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=it({},this.parentComp.getTooltipParams());if(!Te(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),Uh.lastTooltipHideTime=new Date().getTime());const i={type:F.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(e,i){if(this.state!==2||this.tooltipInstanceCount!==e){this.getContext().destroyBean(i);return}const n=i.getGui();this.tooltipComp=i,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===0?(this.tooltipMouseEnterListener=this.addManagedListener(n,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(n,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(n,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(n,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:F.EVENT_TOOLTIP_SHOW,tooltipGui:n,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var i;const r=this.parentComp.getGui(),n=(i=this.tooltipComp)==null?void 0:i.getGui(),s=e.relatedTarget;n!=null&&n.contains(s)||(this.isInteractingWithTooltip=!1,r.contains(s)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Ui(it({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Ui(it({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,i=this.tooltipComp,r=this.tooltipTrigger===0?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{e(),this.getContext().destroyBean(i)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Uh.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){Uh.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Db.isLocked=!1;x([V("popupService")],Db.prototype,"popupService",2);x([V("userComponentFactory")],Db.prototype,"userComponentFactory",2);x([Me],Db.prototype,"postConstruct",1);var iMe=Db,Uc=class extends Pe{constructor(t,e){super(),this.ctrl=t,e&&(this.beans=e)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){const e="title",i=this.ctrl.getGui();i&&(t!=null&&t!=""?i.setAttribute(e,t):i.removeAttribute(e))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,e,i,r;if(this.tooltipManager!=null)return;const n={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new iMe(n,(e=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:e.call(t),(r=(i=this.ctrl).getTooltipHideDelayOverride)==null?void 0:r.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const t=this.ctrl,e=t.getColumn?t.getColumn():void 0,i=t.getColDef?t.getColDef():void 0,r=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:i,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:r,data:r?r.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0,hideTooltipCallback:()=>{var n;return(n=this.tooltipManager)==null?void 0:n.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};x([V("beans")],Uc.prototype,"beans",2);x([Me],Uc.prototype,"postConstruct",1);var rMe=new Qm,Pb=class g1 extends Pe{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=rMe.next(),this.cssClassManager=new Tb(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:i,showDelayOverride:r,hideDelayOverride:n,location:s,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new Uc({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getTooltipShowDelayOverride:r!=null?()=>r:void 0,getTooltipHideDelayOverride:n!=null?()=>n:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(e,i){Pte(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const s=this.createComponentFromElement(n,o=>{o.getGui()&&this.copyAttributesFromNode(n,o.getGui())},i);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,i);const o=Array.prototype.slice.call(n.children);s.addItems(o)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,i)})}createComponentFromElement(e,i,r){const n=e.nodeName,s=r?r[e.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(n);if(o){g1.elementGettingCreated=e;const a=new o(s);return a.setParentComponent(this),this.createBean(a,null,i),a}return null}copyAttributesFromNode(e,i){xte(e.attributes,(r,n)=>i.setAttribute(r,n))}swapComponentForNode(e,i,r){const n=e.getGui();i.replaceChild(n,r),i.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)}swapInComponentForQuerySelectors(e,i){const r=this;this.iterateOverQuerySelectors(n=>{r[n.attributeName]===i&&(r[n.attributeName]=e)})}iterateOverQuerySelectors(e){let i=Object.getPrototypeOf(this);for(;i!=null;){const r=i.__agComponentMetaData,n=cO(i.constructor);r&&r[n]&&r[n].querySelectors&&r[n].querySelectors.forEach(s=>e(s)),i=Object.getPrototypeOf(i)}}activateTabIndex(e){const i=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(r=>r.setAttribute("tabindex",i.toString()))}setTemplate(e,i){const r=qs(e);this.setTemplateFromElement(r,i)}setTemplateFromElement(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(i=>{const r=s=>e[i.attributeName]=s;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)r(this.eGui);else{const s=this.eGui.querySelector(i.querySelector);s&&r(s.__agComponent||s)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,i){if(e!=null)if(i||(i=this.eGui),bb(e))i.appendChild(e);else{const r=e;i.appendChild(r.getGui())}}isDisplayed(){return this.displayed}setVisible(e,i={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:r}=i;bte(this.eGui,e,{skipAriaHidden:r})}}setDisplayed(e,i={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:r}=i;Vt(this.eGui,e,{skipAriaHidden:r});const n={type:g1.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,i,r){this.eGui.addEventListener(e,i,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,i))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)}getAttribute(e){const{eGui:i}=this;return i?i.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};Pb.EVENT_DISPLAYED_CHANGED="displayedChanged";x([V("agStackComponentsRegistry")],Pb.prototype,"agStackComponentsRegistry",2);x([Oee],Pb.prototype,"preConstructOnComponent",1);x([Oee],Pb.prototype,"createChildComponentsPreConstruct",1);var Et=Pb;function ke(t){return nMe.bind(this,`[ref=${t}]`,t)}function nMe(t,e,i,r,n){if(t===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof n=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}sMe(i,"querySelectors",{attributeName:r,querySelector:t,refSelector:e})}function sMe(t,e,i){const r=oMe(t,cO(t.constructor));r[e]||(r[e]=[]),r[e].push(i)}function oMe(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}var x$=class extends Et{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(e=>{if(e.getModelAsString){const i=e.getModelAsString(t);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}};x([ke("eFloatingFilterText")],x$.prototype,"eFloatingFilterText",2);x([V("columnModel")],x$.prototype,"columnModel",2);var Hte=class{constructor(t,e,i,r){this.alive=!0,this.context=t,this.eParent=r,e.getDateCompDetails(i).newAgStackInstance().then(o=>{if(!this.alive){t.destroyBean(o);return}this.dateComp=o,o&&(r.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached(),this.tempValue&&o.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){Vt(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)}updateParams(t){var e,i;let r=!1;(e=this.dateComp)!=null&&e.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(t)!==null&&(r=!0),!r&&((i=this.dateComp)!=null&&i.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(t)!==null&&ct("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)}},$te=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(t=>{if(typeof t=="string")return;const e=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(n=>t[n]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${r}'`),!1);if(!e.every(i)){this.filterOptions=this.filterOptions.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}},Bte={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},wO=class Wte extends Pe{constructor(e,i={}){super(),this.eFocusableElement=e,this.callbacks=i,this.callbacks=it({shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const n=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);n&&(n.focus(),r.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(Wte.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",i=>{if(!(i.defaultPrevented||Tl(i))){if(this.callbacks.shouldStopEventPropagation(i)){Ll(i);return}i.key===de.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}};wO.FOCUS_MANAGED_CLASS="ag-focus-managed";x([V("focusService")],wO.prototype,"focusService",2);x([Me],wO.prototype,"postConstruct",1);var ch=wO,Ute="ag-resizer-wrapper",aMe=`<div class="${Ute}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,Qv=class extends Pe{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent,i=e/2-this.getWidth()/2,r=t/2-this.getHeight()/2;this.offsetElement(i,r)}initialisePosition(){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:i,width:r,minHeight:n,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const c=Bo(this.element);if(c){const d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){const f=d.offsetWidth-this.element.offsetWidth;u=parseInt(h.minWidth,10)-f}if(h.minHeight!=null){const f=d.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-f}}if(this.minHeight=n||l,this.minWidth=i||u,r&&this.setWidth(r),s&&this.setHeight(s),(!r||!s)&&this.refreshSize(),t)this.center();else if(o||a)this.offsetElement(o,a);else if(c&&e){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){const f=parseFloat(d.style.top),g=parseFloat(d.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(f)?0:f):this.setPosition(g,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;const i=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{const r=!!t[e],n=this.getResizerElement(e),s={dragStartPixels:0,eElement:n,onDragStart:o=>this.onResizeStart(o,e),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,e)};(r||!this.isAlive()&&!r)&&(r?(this.dragService.addDragSource(s),this.resizeListeners.push(s),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[e]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;e!==-1&&(this.element.style.width=`${e}px`),t!==-1&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config,i=this.element;let r=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Tp(i,t),t=C$(i),r=!0;else if(t=Math.max(this.minHeight,t),this.positioned){const n=this.getAvailableHeight();n&&t>n&&(t=n)}this.getHeight()!==t&&(r?(i.style.maxHeight="unset",i.style.minHeight="unset"):e?Tp(i,t):(i.style.height=`${t}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),s=t?this.position.y:r.top,o=t?0:n.top;let a=0;if(e){const u=this.element.parentElement;if(u){const{bottom:c}=u.getBoundingClientRect();a=c-r.bottom}}return i+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element,{popup:i}=this.config;let r=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Oa(e,t),t=pw(e),r=!0;else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:n}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;n&&t+s>n&&(t=n-s)}this.getWidth()!==t&&(r?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?Oa(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:i}=this.config,r=i?this.boundaryEl:this.element;r&&(this.popupService.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(t){if(!this.config.forcePopupParentAsOffsetParent)return;const e=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),e):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:i,isTop:r,anywhereWithin:n,topBuffer:s}=t,o=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y,l=this.shouldSkipX(e,!!i,!!n,o)?0:o,u=this.shouldSkipY(e,!!r,s,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(t,e,i,r){const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left;let l=a<=0&&s.left>=t.clientX||s.right<=t.clientX&&s.right<=o.right;return l?!0:(e?l=r<0&&t.clientX>a+s.left||r>0&&t.clientX<a+s.left:i?l=r<0&&t.clientX>o.right||r>0&&t.clientX<a+s.left:l=r<0&&t.clientX>o.right||r>0&&t.clientX<o.right,l)}shouldSkipY(t,e,i=0,r){const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top;let l=a<=0&&s.top>=t.clientY||s.bottom<=t.clientY&&s.bottom<=o.bottom;return l?!0:(e?l=r<0&&t.clientY>a+s.top+i||r>0&&t.clientY<a+s.top:l=r<0&&t.clientY>o.bottom||r>0&&t.clientY<o.bottom,l)}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const t=this.element;if(!t)return;const i=new DOMParser().parseFromString(aMe,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${Ute}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:r}=this.config;!i&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0,i=0;for(let r=0;r<t.length;r++){const n=t[r],s=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(n);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=n.offsetHeight,a=n.offsetWidth;e+=o,i+=a}return{height:e,width:i}}applySizeToSiblings(t){let e=null;const i=this.getSiblings();if(i){for(let r=0;r<i.length;r++){const n=i[r];n!==e&&(t?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(e=i[r+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;const{popup:e,forcePopupParentAsOffsetParent:i}=this.config,{isTop:r,isRight:n,isBottom:s,isLeft:o}=this.currentResizer,a=n||o,l=s||r,{movementX:u,movementY:c}=this.calculateMouseMovement({e:t,isLeft:o,isTop:r}),d=this.position.x,h=this.position.y;let f=0,g=0;if(a&&u){const v=o?-1:1,C=this.getWidth(),S=C+u*v;let y=!1;o&&(f=C-S,(d+f<=0||S<=this.minWidth)&&(y=!0,f=0)),y||this.setWidth(S)}if(l&&c){const v=r?-1:1,C=this.getHeight(),S=C+c*v;let y=!1;r?(g=C-S,(h+g<=0||S<=this.minHeight)&&(y=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(y=!0),y||this.setHeight(S)}this.updateDragStartPosition(t.clientX,t.clientY),((e||i)&&f||g)&&this.offsetElement(d+f,h+g)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const i={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(i)}refreshSize(){const t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;const{x:e,y:i}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:n,movementY:s}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(e+n,i+s),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};x([V("popupService")],Qv.prototype,"popupService",2);x([V("resizeObserverService")],Qv.prototype,"resizeObserverService",2);x([V("dragService")],Qv.prototype,"dragService",2);var EO=class Hy extends Et{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new ch(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Qv(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,e),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Hy.isUseApplyButton(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=Hy.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,i=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Lr(this.eButtonsPanel),this.buttonListeners.forEach(s=>s==null?void 0:s()),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&yl(this.eButtonsPanel);return}const r=document.createDocumentFragment(),n=s=>{let o,a;switch(s){case"apply":o=this.translate("applyFilter"),a=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),a=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),a=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),a=c=>{this.onBtCancel(c)};break;default:console.warn("AG Grid: Unknown button type specified");return}const u=qs(`<button
                    type="${s==="apply"?"submit":"button"}"
                    ref="${s}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);this.buttonListeners.push(this.addManagedListener(u,"click",a)),r.append(u)};P$(e).forEach(s=>n(s)),this.eButtonsPanel.append(r),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Hy.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=vs(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,i){const r=()=>{this.onUiChanged(!1,"prevent"),i==null||i()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const i=this.getModelFromUi();if(!this.isModelValid(i))return!1;const r=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(r,i)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,i=!1,r){r&&r.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!i&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e,r=i&&i.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:i}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.getRefElement("applyFilterButton");n&&Xm(n,!r)}e&&!i||i==="immediately"?this.onBtApply(e):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const i=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gridOptionsService:n}=this;i?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,i){return Hy.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:i}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,Bte[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};x([V("rowModel")],EO.prototype,"rowModel",2);x([ke("eFilterBody")],EO.prototype,"eFilterBody",2);x([Me],EO.prototype,"postConstruct",1);var cx=EO,A$=class extends Et{constructor(t,e){super(e),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:i,labelAlignment:r,disabled:n}=this.config;n!=null&&this.setDisabled(n),t!=null&&this.setLabelSeparator(t),e!=null&&this.setLabel(e),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){Lr(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Vt(this.eLabel,!1),hr(this.eLabel,"presentation")):(Vt(this.eLabel,!0),hr(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)}setLabelAlignment(t){const i=this.getGui().classList;return i.toggle("ag-label-align-left",t==="left"),i.toggle("ag-label-align-right",t==="right"),i.toggle("ag-label-align-top",t==="top"),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return this.label==null?this:(vw(this.eLabel,t),this)}setDisabled(t){t=!!t;const e=this.getGui();return Xm(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}};x([Me],A$.prototype,"postConstruct",1);var zte=class extends A${constructor(t,e,i){super(t,e),this.className=i}postConstruct(){super.postConstruct();const{width:t,value:e,onValueChange:i}=this.config;t!=null&&this.setWidth(t),e!=null&&this.setValue(e),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const t=this.getAriaElement(),e=this.getLabelId();tte(t)!==null?ax(t,""):ax(t,e??"")}setAriaLabel(t){return _l(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this}onValueChange(t){return this.addManagedListener(this,F.EVENT_FIELD_VALUE_CHANGED,()=>t(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return Oa(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){return this.value===t?this:(this.previousValue=this.value,this.value=t,e||this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED}),this)}},lMe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,kf=class extends zte{constructor(t){if(super(t,(t==null?void 0:t.template)||lMe,t==null?void 0:t.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=t==null?void 0:t.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!t)return;const{pickerGap:e,maxPickerHeight:i,variableWidth:r,minPickerWidth:n,maxPickerWidth:s}=t;e!=null&&(this.pickerGap=e),this.variableWidth=!!r,i!=null&&this.setPickerMaxHeight(i),n!=null&&this.setPickerMinWidth(n),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);const e=this.getAriaElement();this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:i,inputWidth:r}=this.config;if(i){const n=ir(i,this.gridOptionsService);n&&this.eIcon.appendChild(n)}r!=null&&this.setInputWidth(r)}setupAria(){const t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),wc(t,!1),this.ariaRole&&hr(t,this.ariaRole)}onLabelOrWrapperMouseDown(t){if(t){const e=this.getFocusableElement();if(e!==this.eWrapper&&(t==null?void 0:t.target)===e)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(t){switch(t.key){case de.UP:case de.DOWN:case de.ENTER:case de.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case de.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const t=this.gridOptionsService.getDocument(),e=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:s=!0}=this.config,o={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const f=t.activeElement===t.body;this.beforeHidePicker(),f&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(r,n)},a=this.popupService.addPopup(o),{maxPickerHeight:l,minPickerWidth:u,maxPickerWidth:c,variableWidth:d}=this;d?(u&&(e.style.minWidth=u),e.style.width=yO(pw(this.eWrapper)),c&&(e.style.maxWidth=c)):vw(e,c??pw(this.eWrapper));const h=l??`${Eb(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",h),e.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:t}=this.config,{pickerGap:e}=this,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(t){if(!this.isAlive())return;const e=this.getAriaElement();wc(e,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(t){var e;(e=this.pickerComponent)!=null&&e.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(t){return vw(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}setPickerGap(t){return this.pickerGap=t,this}setPickerMinWidth(t){return typeof t=="number"&&(t=`${t}px`),this.minPickerWidth=t??void 0,this}setPickerMaxWidth(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerWidth=t??void 0,this}setPickerMaxHeight(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerHeight=t??void 0,this}destroy(){this.hidePicker(),super.destroy()}};x([V("popupService")],kf.prototype,"popupService",2);x([ke("eLabel")],kf.prototype,"eLabel",2);x([ke("eWrapper")],kf.prototype,"eWrapper",2);x([ke("eDisplayField")],kf.prototype,"eDisplayField",2);x([ke("eIcon")],kf.prototype,"eIcon",2);var bO=class xD extends Et{constructor(e="default",i=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=i,this.options=[],this.itemEls=[]}init(){const e=this.getGui();this.addManagedListener(e,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const i=e.key;switch(i){case de.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case de.DOWN:case de.UP:const r=i===de.DOWN;let n;if(e.preventDefault(),!this.highlightedEl)n=this.itemEls[r?0:this.itemEls.length-1];else{let o=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),n=this.itemEls[o]}this.highlightItem(n);break}}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){const{value:i,text:r}=e,n=r||i;return this.options.push({value:i,text:n}),this.renderOption(i,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{yl(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((i,r)=>{mO(i,r+1),gO(i,e.length)})}renderOption(e,i){const r=this.gridOptionsService.getDocument(),n=r.createElement("div");hr(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=r.createElement("span");n.appendChild(s),s.innerText=i,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListener(n,"mousemove",()=>this.highlightItem(n)),this.addManagedListener(n,"mousedown",o=>{o.preventDefault(),this.setValue(e)}),this.createManagedBean(new Uc({getTooltipValue:()=>i,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,i){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(i),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),i||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(i=>i.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Bo(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(xD.ACTIVE_CLASS),qm(this.highlightedEl,!0);const i=this.getGui(),r=i.getBoundingClientRect(),n=r.top+i.scrollTop,s=r.height,{offsetTop:o,offsetHeight:a}=e;(o+a>n+s||o<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Bo(this.highlightedEl)||(this.highlightedEl.classList.remove(xD.ACTIVE_CLASS),qm(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:xD.EVENT_ITEM_SELECTED})}};bO.EVENT_ITEM_SELECTED="selectedItem";bO.ACTIVE_CLASS="ag-active-item";x([Me],bO.prototype,"init",1);var EK=bO,jte=class Kte extends kf{constructor(e){super(it({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:e,value:i,placeholder:r}=this.config;e!=null&&this.addOptions(e),i!=null&&this.setValue(i,!0),r&&i==null&&(this.eDisplayField.textContent=r),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new EK("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",i),u$(this.getAriaElement(),e),this.listComponent.addManagedListener(this.listComponent,EK.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:Kte.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,F.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:r}=e;r===de.TAB?this.hidePicker():!this.isPickerDisplayed||r!==de.ENTER&&r!==de.UP&&r!==de.DOWN?super.onKeyDown(e):(i=this.listComponent)==null||i.handleKeyDown(e)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,i,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.innerHTML=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,i)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};jte.EVENT_ITEM_SELECTED="selectedItem";var RO=jte,Sl=class extends zte{constructor(t,e,i="text",r="input"){super(t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${r} ref="eInput" class="ag-input-field-input"></${r}>
                </div>
            </div>`,e),this.inputType=i,this.displayFieldTag=r}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:t,inputWidth:e}=this.config;t!=null&&this.setInputName(t),e!=null&&this.setInputWidth(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>this.setValue(t.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return vw(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){const e=this.eInput;return e.maxLength=t,this}setInputPlaceholder(t){return mu(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return _l(this.eInput,t),this.refreshAriaLabelledBy(),this}setDisabled(t){return Xm(this.eInput,t),super.setDisabled(t)}setAutoComplete(t){if(t===!0)mu(this.eInput,"autocomplete",null);else{const e=typeof t=="string"?t:"off";mu(this.eInput,"autocomplete",e)}return this}};x([ke("eLabel")],Sl.prototype,"eLabel",2);x([ke("eWrapper")],Sl.prototype,"eWrapper",2);x([ke("eInput")],Sl.prototype,"eInput",2);var TO=class extends Sl{constructor(t,e="ag-checkbox",i="checkbox"){super(t,e,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:t,passive:e}=this.config;typeof t=="boolean"&&this.setReadOnly(t),typeof e=="boolean"&&this.setPassive(e)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;const t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){const e=this.getInputElement();return e.name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,i){this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:e,event:i});const r=this.getInputElement(),n={type:F.EVENT_CHECKBOX_CHANGED,id:r.id,name:r.name,selected:t,previousValue:e};this.eventService.dispatchEvent(n)}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;const e=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)}},Yte=class extends TO{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,F.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}},O$=class{constructor(t,e,i){this.localeService=t,this.optionsFactory=e,this.valueFormatter=i}getModelAsString(t){if(!t)return null;const e=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(e){const r=t;let{conditions:n}=r;if(!n){const{condition1:a,condition2:l}=r;n=[a,l]}const s=n.map(a=>this.getModelAsString(a)),o=r.operator==="AND"?"andCondition":"orCondition";return s.join(` ${i(o,Bte[o])} `)}else{if(t.type===lr.BLANK||t.type===lr.NOT_BLANK)return i(t.type,t.type);{const r=t,n=this.optionsFactory.getCustomOption(r.type),{displayKey:s,displayName:o,numberOfInputs:a}=n||{};return s&&o&&a===0?(i(s,o),o):this.conditionToString(r,n)}}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){var e;return this.valueFormatter?(e=this.valueFormatter(t??null))!=null?e:"":String(t)}},As=class Fg extends cx{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const i=this.optionsFactory.getCustomOption(e);if(i){const{numberOfInputs:n}=i;return n??1}const r=[Fg.EMPTY,Fg.NOT_BLANK,Fg.BLANK];return e&&r.indexOf(e)>=0?0:e===Fg.IN_RANGE?2:1}onFloatingFilterChanged(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((i,r)=>{r===0?i.setValue(e,!0):i.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;const r=!e.operator,n=!i.operator;if(!r&&n||r&&!n)return!1;let o;if(r){const a=e,l=i;o=this.areSimpleModelsEqual(a,l)}else{const a=e,l=i;o=a.operator===l.operator&&uu(a.conditions,l.conditions,(u,c)=>this.areSimpleModelsEqual(u,c))}return o}shouldRefresh(e){var i,r,n;const s=this.getModel(),o=s?(i=s.conditions)!=null?i:[s]:null,a=(n=(r=e.filterOptions)==null?void 0:r.map(u=>typeof u=="string"?u:u.displayKey))!=null?n:this.getDefaultFilterOptions();return!(!(!o||o.every(u=>a.find(c=>c===u.type)!==void 0))||typeof e.maxNumConditions=="number"&&o&&o.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let r=e;r.conditions||(r.conditions=[r.condition1,r.condition2]);const n=this.validateAndUpdateConditions(r.conditions),s=this.getNumConditions();if(n<s)this.removeConditionsAndOperators(n);else if(n>s)for(let a=s;a<n;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),r.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Tr.resolve()}validateAndUpdateConditions(e){let i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),ct('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(e){var i;const r=this.getModel();if(r==null)return!0;const{operator:n}=r,s=[];if(n){const a=r;s.push(...(i=a.conditions)!=null?i:[])}else s.push(r);return s[n&&n==="OR"?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new $te,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var i,r;e.suppressAndOrCondition!=null&&ct('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&ct('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(i=e.maxNumConditions)!=null?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(ct('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=e.numAlwaysVisibleConditions)!=null?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(ct('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ct('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new RO);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(i,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(i.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,i,r){const n=this.createManagedBean(new Yte);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),i.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(i=>typeof i=="string"?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(i=>{e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:i}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let i=-1,r=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?i=n:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{const n=(e=this.lastUiCompletePosition)!=null?e:this.getNumConditions()-2;if(i<n){this.removeConditionsAndOperators(n+1);const s=i+1,o=n-s;o>0&&this.removeConditionsAndOperators(s,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(e,i){this.eTypes.forEach((n,s)=>{const o=this.isConditionDisabled(s,e);n.setDisabled(o||this.filterListOptions.length<=1),s===1&&(Xm(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((n,s)=>{Vt(n,this.isConditionBodyVisible(s))});const r=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((n,s)=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach((n,s)=>{n.setValue(r,!0)}),this.forEachInput((n,s,o,a)=>{this.setElementDisplayed(n,s<a),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,i){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,i),this.removeComponents(this.eJoinOperatorsAnd,r,i),this.removeComponents(this.eJoinOperatorsOr,r,i)}removeElements(e,i,r){this.removeItems(e,i,r).forEach(s=>yl(s))}removeComponents(e,i,r){this.removeItems(e,i,r).forEach(s=>{yl(s.getGui()),this.destroyBean(s)})}removeItems(e,i,r){return r==null?e.splice(i):e.splice(i,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const i=this.getInputs(0)[0];if(!i)return;i instanceof Sl&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let i=-1,r=-1,n=!1;const s=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))i===-1&&(i=a,r=a);else{const l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<i;(l||u)&&(this.removeConditionsAndOperators(a,1),n=!0,u&&r--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,i){let r=this.translate(e);if(dO(this.filterPlaceholder)){const n=this.filterPlaceholder,s=this.eTypes[i].getValue(),o=this.translate(s);r=n({filterOptionKey:s,filterOption:o,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((i,r,n,s)=>{if(!(i instanceof Sl))return;const o=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",a=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(o,n)),i.setInputAriaLabel(a)})}setElementValue(e,i,r){e instanceof Sl&&e.setValue(i!=null?String(i):null,!0)}setElementDisplayed(e,i){e instanceof Et&&Vt(e.getGui(),i)}setElementDisabled(e,i){e instanceof Et&&Xm(e.getGui(),i)}attachElementOnChange(e,i){e instanceof Sl&&e.onValueChange(i)}forEachInput(e){this.getConditionTypes().forEach((i,r)=>{this.forEachPositionTypeInput(r,i,e)})}forEachPositionInput(e,i){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,i)}forEachPositionTypeInput(e,i,r){const n=this.getNumberOfInputs(i),s=this.getInputs(e);for(let o=0;o<s.length;o++){const a=s[o];a!=null&&r(a,o,e,n)}}isConditionDisabled(e,i){return this.isReadOnly()?!0:e===0?!1:e>i+1}isConditionBodyVisible(e){const i=this.getConditionType(e);return this.getNumberOfInputs(i)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===Fg.EMPTY||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,r)=>this.resetJoinOperatorAnd(i,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((i,r)=>this.resetJoinOperatorOr(i,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Tr.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,i,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i)),this.eJoinOperatorsOr.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i))}updateJoinOperatorDisabled(e,i){e.setDisabled(this.isReadOnly()||i>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,i){const r=this.mapValuesFromModel(e);this.forEachInput((n,s,o,a)=>{o===i&&this.setElementValue(n,r[s]!=null?r[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((i,r,n,s)=>{this.setElementValue(i,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,i){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,i){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type),o=this.evaluateCustomFilter(s,n,r);return o??(r==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(n,r,i,e))}evaluateCustomFilter(e,i,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!i.some(s=>s==null))return n(i,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}};As.EMPTY="empty";As.BLANK="blank";As.NOT_BLANK="notBlank";As.EQUALS="equals";As.NOT_EQUAL="notEqual";As.LESS_THAN="lessThan";As.LESS_THAN_OR_EQUAL="lessThanOrEqual";As.GREATER_THAN="greaterThan";As.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";As.IN_RANGE="inRange";As.CONTAINS="contains";As.NOT_CONTAINS="notContains";As.STARTS_WITH="startsWith";As.ENDS_WITH="endsWith";var lr=As,Hr=class en extends lr{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case en.EQUALS:case en.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case en.GREATER_THAN:case en.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case en.LESS_THAN:case en.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case en.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case en.BLANK:return!0;case en.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,i,r){const n=this.comparator(),s=e[0]!=null?n(e[0],i):0;switch(r.type){case en.EQUALS:return s===0;case en.NOT_EQUAL:return s!==0;case en.GREATER_THAN:return s>0;case en.GREATER_THAN_OR_EQUAL:return s>=0;case en.LESS_THAN:return s<0;case en.LESS_THAN_OR_EQUAL:return s<=0;case en.IN_RANGE:{const o=n(e[1],i);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case en.BLANK:return this.isBlank(i);case en.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},bK=1e3,RK=1/0,qte=class extends O${constructor(t,e,i){super(e,i),this.dateFilterParams=t}conditionToString(t,e){const{type:i}=t,{numberOfInputs:r}=e||{},n=i==lr.IN_RANGE||r===2,s=Ys(t.dateFrom),o=Ys(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){const l=s!==null?ym(s,a):"null",u=o!==null?ym(o,a):"null";return`${l}-${u}`}return s!=null?ym(s,a):`${i}`}updateParams(t){super.updateParams(t),this.dateFilterParams=t.dateFilterParams}},M$=class Xte extends Hr{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=bK,this.maxValidYear=RK,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:i,dateTo:r,type:n}=e||{};return[i&&Ys(i)||null,r&&Ys(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,i){const r=i;return i==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const i=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))console.warn(`AG Grid: DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=i("minValidYear",bK),this.maxValidYear=i("maxValidYear",RK),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Ys(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Ys(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new qte(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const i=new Hte(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,i){e.setDate(i)}setElementDisplayed(e,i){e.setDisplayed(i)}setElementDisabled(e,i){e.setDisabled(i)}getDefaultFilterOptions(){return Xte.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,i,r,n){const s=document.createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),i.push(s),e.appendChild(s),r.push(this.createDateCompWrapper(s))}removeValueElements(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)}removeDateComps(e,i,r){this.removeItems(e,i,r).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let i=!0;return this.forEachInput((r,n,s,o)=>{s!==e||!i||n>=o||(i=i&&this.isValidDateValue(r.getDate()))}),i}areSimpleModelsEqual(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type}getFilterType(){return"date"}createCondition(e){const i=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=Aa(n[0])),n.length>1&&(r.dateTo=Aa(n[1])),it({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},r)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(i),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(r.getDate())}),i}translate(e){return e===Hr.LESS_THAN?super.translate("before"):e===Hr.GREATER_THAN?super.translate("after"):super.translate(e)}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};M$.DEFAULT_FILTER_OPTIONS=[Hr.EQUALS,Hr.NOT_EQUAL,Hr.LESS_THAN,Hr.GREATER_THAN,Hr.IN_RANGE,Hr.BLANK,Hr.NOT_BLANK];x([V("userComponentFactory")],M$.prototype,"userComponentFactory",2);var Qte=M$,Zte=class extends Et{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t==null?void 0:t.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}const e=t.operator;let i;e?i=t.conditions[0]:i=t,this.lastType=i.type}canWeEditAfterModelFromParentFilter(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;const i=t;return this.isTypeEditable(i.type)}init(t){this.setSimpleParams(t,!1)}setSimpleParams(t,e=!0){this.optionsFactory=new $te,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t),{numberOfInputs:i}=e||{};return i==null||i==1}isTypeEditable(t){const e=[lr.IN_RANGE,lr.EMPTY,lr.BLANK,lr.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}},DO=class extends Zte{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return Qte.DEFAULT_FILTER_OPTIONS}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new qte(this.filterParams,this.localeService,this.optionsFactory);const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){const e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(e),e){if(t){const i=t;this.dateComp.setDate(Ys(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}setEditable(t){Vt(this.eDateWrapper,t),Vt(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(super.setLastTypeFromModel(t),this.updateCompOnModelChange(t))}onDateChanged(){const t=this.dateComp.getDate(),e=Aa(t);this.params.parentFilterInstance(i=>{if(i){const r=Ys(e);i.onFloatingFilterChanged(this.getLastType()||null,r)}})}getDateComponentParams(){const t=cx.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:vs(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new Hte(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}};x([V("userComponentFactory")],DO.prototype,"userComponentFactory",2);x([ke("eReadOnlyText")],DO.prototype,"eReadOnlyText",2);x([ke("eDateWrapper")],DO.prototype,"eDateWrapper",2);var Jte=class extends Et{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(t){this.params=t,this.setParams(t);const e=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement();this.addManagedListener(i,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||i.focus()}),this.addManagedListener(i,"input",r=>{r.target===e.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(t){const e=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&xu(),e.type=i?"date":"text";const{minValidYear:r,maxValidYear:n,minValidDate:s,maxValidDate:o}=t.filterParams||{};if(s&&r&&ct("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&n&&ct("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[a,l]=[s,o].map(u=>u instanceof Date?u:Ys(u));a&&l&&a.getTime()>l.getTime()&&ct("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?e.min=ym(s):e.min=s:r&&(e.min=`${r}-01-01`),o?o instanceof Date?e.max=ym(o):e.max=o:n&&(e.max=`${n}-12-31`)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t,this.setParams(t)}getDate(){return Ys(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(Aa(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:CO()||d$()||xu()&&c$()>=14.1}};x([ke("eDateInput")],Jte.prototype,"eDateInput",2);var Vf=class extends Sl{constructor(t,e="ag-text-field",i="text"){super(t,e,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){return this.eInput.value!==t&&(this.eInput.value=Te(t)?t:""),super.setValue(t,e)}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`),e=i=>{SO(i)&&i.key&&!t.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",e),this.addManagedListener(this.eInput,"paste",i=>{var r;const n=(r=i.clipboardData)==null?void 0:r.getData("text");n&&n.split("").some(s=>!t.test(s))&&i.preventDefault()})}},F$=class extends Vf{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const n=parseFloat(this.eInput.value),s=isNaN(n)?"":this.normalizeValue(n.toString());this.value!==s&&this.setValue(s)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:t,min:e,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof e=="number"&&this.setMin(e),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}normalizeValue(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));const e=parseFloat(t);return this.min!=null&&e<this.min?t=this.min.toString():this.max!=null&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(this.precision==null)return t;if(e){const r=parseFloat(t).toFixed(this.precision);return parseFloat(r).toString()}const i=String(t).split(".");if(i.length>1){if(i[1].length<=this.precision)return t;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(t){return this.min===t?this:(this.min=t,mu(this.eInput,"min",t),this)}setMax(t){return this.max===t?this:(this.max=t,mu(this.eInput,"max",t),this)}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t?this:(this.step=t,mu(this.eInput,"step",t),this)}setValue(t,e){return this.setValueOrInputValue(i=>super.setValue(i,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,i){if(Te(i)){let r=this.isScientificNotation(i);if(r&&this.eInput.validity.valid)return t(i);if(!r){i=this.adjustPrecision(i);const n=this.normalizeValue(i);r=i!=n}if(r)return e(i)}return t(i)}getValue(){if(!this.eInput.validity.valid)return;const t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return typeof t=="string"&&t.includes("e")}},eie=class extends O${conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type==lr.IN_RANGE||i===2?`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`:t.filter!=null?this.formatValue(t.filter):`${t.type}`}};function m1(t){const{allowedCharPattern:e}=t??{};return e??null}var tie=class iie extends Hr{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[this.processValue(i),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,i)=>e===i?0:e<i?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new eie(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return iie.DEFAULT_FILTER_OPTIONS}setElementValue(e,i,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(e,n)}createValueElement(){const e=m1(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),hr(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i}createFromToElement(e,i,r,n){const s=this.createManagedBean(n?new Vf({allowedCharPattern:n}):new F$);s.addCssClass(`ag-filter-${r}`),s.addCssClass("ag-filter-filter"),i.push(s),e.appendChild(s.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(this.processValue(this.stringToFloat(r.getValue())))}),i}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let i=gu(e);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}hasInvalidInputs(){let e=!1;return this.forEachInput(i=>{if(!i.getInputElement().validity.valid){e=!0;return}}),e}};tie.DEFAULT_FILTER_OPTIONS=[Hr.EQUALS,Hr.NOT_EQUAL,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL,Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL,Hr.IN_RANGE,Hr.BLANK,Hr.NOT_BLANK];var rie=tie,nie=class extends O${conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type==lr.IN_RANGE||i===2?`${t.filter}-${t.filterTo}`:t.filter!=null?`${t.filter}`:`${t.type}`}},dl=class Ig extends lr{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const i=e&&e.trim();return i===""?e:i}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Ig.DEFAULT_FORMATTER:Ig.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new nie(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ft.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:r,filterText:n})=>e(i,r,n)):this.textFilterParams.textMatcher||Ig.DEFAULT_MATCHER}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,i){const r=[];return this.forEachPositionInput(e,(n,s,o,a)=>{var l;if(s<a){let u=gu(n.getValue());i&&this.textFilterParams.trimInput&&(u=(l=Ig.trimInput(u))!=null?l:null,n.setValue(u,!0)),r.push(u)}}),r}getDefaultFilterOptions(){return Ig.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),hr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,i,r){const n=this.createManagedBean(new Vf);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),i.push(n),e.appendChild(n.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[i||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){const i=[lr.NOT_EQUAL,lr.NOT_CONTAINS,lr.BLANK];return e?i.indexOf(e)>=0:!1}evaluateNonNullValue(e,i,r,n){const s=e.map(g=>this.formatter(g))||[],o=this.formatter(i),{api:a,colDef:l,column:u,columnApi:c,context:d,textFormatter:h}=this.textFilterParams;if(r.type===lr.BLANK)return this.isBlank(i);if(r.type===lr.NOT_BLANK)return!this.isBlank(i);const f={api:a,colDef:l,column:u,columnApi:c,context:d,node:n.node,data:n.data,filterOption:r.type,value:o,textFormatter:h};return s.some(g=>this.matcher(Ui(it({},f),{filterText:g})))}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};dl.DEFAULT_FILTER_OPTIONS=[lr.CONTAINS,lr.NOT_CONTAINS,lr.EQUALS,lr.NOT_EQUAL,lr.STARTS_WITH,lr.ENDS_WITH,lr.BLANK,lr.NOT_BLANK];dl.DEFAULT_FORMATTER=t=>t;dl.DEFAULT_LOWERCASE_FORMATTER=t=>t==null?null:t.toString().toLowerCase();dl.DEFAULT_MATCHER=({filterOption:t,value:e,filterText:i})=>{if(i==null)return!1;switch(t){case dl.CONTAINS:return e.indexOf(i)>=0;case dl.NOT_CONTAINS:return e.indexOf(i)<0;case dl.EQUALS:return e===i;case dl.NOT_EQUAL:return e!=i;case dl.STARTS_WITH:return e.indexOf(i)===0;case dl.ENDS_WITH:const r=e.lastIndexOf(i);return r>=0&&r===e.length-i.length;default:return!1}};var I$=dl,sie=class extends Pe{constructor(t){super(),this.params=t,this.valueChangedListener=()=>{}}setupGui(t){var e;this.eFloatingFilterTextInput=this.createManagedBean(new Vf((e=this.params)==null?void 0:e.config));const i=this.eFloatingFilterTextInput.getGui();t.appendChild(i),this.addManagedListener(i,"input",r=>this.valueChangedListener(r)),this.addManagedListener(i,"keydown",r=>this.valueChangedListener(r))}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}},xb=class extends Zte{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.setupFloatingFilterInputService(t),super.init(t),this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){var e;this.params=t;const i=(e=t.browserAutoComplete)!=null?e:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:i}),this.applyActive=cx.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const r=cx.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=vs(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.setTextInputParams(t)}recreateFloatingFilterInputService(t){const e=this.floatingFilterInputService.getValue();Lr(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)}getAriaLabel(t){const e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${e} ${i("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(t){const e=t.key===de.ENTER;if(this.applyActive&&!e)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=I$.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(r=>{r&&r.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}};x([V("columnModel")],xb.prototype,"columnModel",2);x([ke("eFloatingFilterInputContainer")],xb.prototype,"eFloatingFilterInputContainer",2);x([Me],xb.prototype,"postConstruct",1);var uMe=class extends Pe{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new F$),this.eFloatingFilterTextInput=this.createManagedBean(new Vf),this.eFloatingFilterTextInput.setDisabled(!0);const e=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();t.appendChild(e),t.appendChild(i),this.setupListeners(e,r=>this.valueChangedListener(r)),this.setupListeners(i,r=>this.valueChangedListener(r))}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)}},cMe=class extends xb{init(t){var e;super.init(t),this.filterModelFormatter=new eie(this.localeService,this.optionsFactory,(e=t.filterParams)==null?void 0:e.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){m1(t.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return rie.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.allowedCharPattern=m1(t.filterParams),this.allowedCharPattern?this.createManagedBean(new sie({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new uMe)}},dMe=class extends xb{init(t){super.init(t),this.filterModelFormatter=new nie(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return I$.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new sie)}},Ab=class $y{constructor(e,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Il,this.eElement=e,this.preventMouseClick=i;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}addEventListener(e,i){this.eventService.addEventListener(e,i)}removeEventListener(e,i){this.eventService.removeEventListener(e,i)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===i;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:$y.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e};this.eventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const i=this.getActiveTouch(e.touches);if(!i)return;!D$(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const i={type:$y.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>$y.DOUBLE_TAP_MILLIS){const r={type:$y.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};Ab.EVENT_TAP="tap";Ab.EVENT_DOUBLE_TAP="doubleTap";Ab.EVENT_LONG_TAP="longTap";Ab.DOUBLE_TAP_MILLIS=500;var vn=Ab,zc=class oie extends Et{constructor(e){super(),e||this.setTemplate(oie.TEMPLATE)}attachCustomElements(e,i,r,n,s){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s}setupSort(e,i=!1){this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,i,r){if(i==null)return;const n=ir(e,this.gridOptionsService,r);n&&i.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const i=e==="asc";Vt(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){const i=e==="desc";Vt(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),r=e==null;Vt(this.eSortNone,!i&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Vt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),r=(e=this.sortController.getDisplaySortIndexForColumn(this.column))!=null?e:-1,n=i.some(o=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(o))!=null?a:!1}),s=r>=0&&n;Vt(this.eSortOrder,s,{skipAriaHidden:!0}),r>=0?this.eSortOrder.textContent=(r+1).toString():Lr(this.eSortOrder)}};zc.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;x([ke("eSortOrder")],zc.prototype,"eSortOrder",2);x([ke("eSortAsc")],zc.prototype,"eSortAsc",2);x([ke("eSortDesc")],zc.prototype,"eSortDesc",2);x([ke("eSortMixed")],zc.prototype,"eSortMixed",2);x([ke("eSortNone")],zc.prototype,"eSortNone",2);x([V("columnModel")],zc.prototype,"columnModel",2);x([V("sortController")],zc.prototype,"sortController",2);var L$=zc,ss=class aie extends Et{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)}workOutTemplate(){var e;let i=(e=this.params.template)!=null?e:aie.TEMPLATE;return i=i&&i.trim?i.trim():i,i}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const i=Kr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(e,i,r){if(i==null)return;const n=ir(e,this.gridOptionsService,r);n&&i.appendChild(n)}setupTap(){const{gridOptionsService:e}=this;if(e.get("suppressTouch"))return;const i=new vn(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&Te(this.eMenu),s=n?new vn(this.eMenu,!0):i;if(this.params.enableMenu){const o=n?"EVENT_TAP":"EVENT_LONG_TAP",a=l=>this.params.showColumnMenuAfterMouseClick(l.touchStart);this.addManagedListener(s,vn[o],a)}if(this.params.enableSorting){const o=a=>{var l,u;const c=a.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(c)||(u=this.eFilterButton)!=null&&u.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,vn.EVENT_TAP,o)}if(this.params.enableFilterButton){const o=new vn(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>i.destroy()),n&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){yl(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var i,r,n,s;const{column:o}=this.params,a=this.menuService.isLegacyMenuEnabled();if(e&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter((r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new L$(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,Ci.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",i=>{const r=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(r||s)){const l=this.gridOptionsService.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(l)}});const e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const i=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),n=!(i==null?void 0:i.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0}configureFilter(e,i,r){if(!e)return yl(i),!1;const{column:n}=this.params;return this.addInIcon("filter",i,n),this.addManagedListener(n,Ci.EVENT_FILTER_CHANGED,r),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Vt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var i,r,n,s;return e?(r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui():(s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()}};ss.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;x([V("sortController")],ss.prototype,"sortController",2);x([V("menuService")],ss.prototype,"menuService",2);x([V("columnModel")],ss.prototype,"columnModel",2);x([ke("eFilter")],ss.prototype,"eFilter",2);x([ke("eFilterButton")],ss.prototype,"eFilterButton",2);x([ke("eSortIndicator")],ss.prototype,"eSortIndicator",2);x([ke("eMenu")],ss.prototype,"eMenu",2);x([ke("eLabel")],ss.prototype,"eLabel",2);x([ke("eText")],ss.prototype,"eText",2);x([ke("eSortOrder")],ss.prototype,"eSortOrder",2);x([ke("eSortAsc")],ss.prototype,"eSortAsc",2);x([ke("eSortDesc")],ss.prototype,"eSortDesc",2);x([ke("eSortMixed")],ss.prototype,"eSortMixed",2);x([ke("eSortNone")],ss.prototype,"eSortNone",2);var v1=ss,Ob=class lie extends Et{constructor(){super(lie.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ct("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=n=>{if(Tl(n))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const i=n=>{Ll(n)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(r,Rr.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,Rr.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,i){const r=new vn(e,!0);this.addManagedListener(r,vn.EVENT_TAP,i),this.addDestroyFunc(()=>r.destroy()),this.addManagedListener(e,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();Vt(this.eOpenIcon,i),Vt(this.eCloseIcon,!i)}else Vt(this.eOpenIcon,!1),Vt(this.eCloseIcon,!1)}addInIcon(e,i){const r=ir(e,this.gridOptionsService,null);r&&this.getRefElement(i).appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Vt(this.eOpenIcon,!1),Vt(this.eCloseIcon,!1);return}}setupLabel(){var e;const{displayName:i,columnGroup:r}=this.params;if(Te(i)){const n=Kr(i,!0);this.getRefElement("agLabel").textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((e=r.getColGroupDef())!=null&&e.suppressStickyLabel))}};Ob.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;x([V("columnModel")],Ob.prototype,"columnModel",2);x([ke("agOpened")],Ob.prototype,"eOpenIcon",2);x([ke("agClosed")],Ob.prototype,"eCloseIcon",2);var hMe=Ob,Hf=class extends Et{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){const t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}},_$=class uie extends Hf{constructor(){super(uie.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Te(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const i=e.key;(i===de.LEFT||i===de.UP||i===de.RIGHT||i===de.DOWN||e.shiftKey&&i===de.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!Te(e)&&!Te(this.params.value)?this.params.value:this.params.parseValue(e)}};_$.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;x([ke("eTextArea")],_$.prototype,"eTextArea",2);var pMe=_$,N$=class extends Hf{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(t){this.focusAfterAttached=t.cellStartedEdit;const{eSelect:e,valueFormatterService:i,gridOptionsService:r}=this,{values:n,value:s,eventKey:o}=t;if(ht(n)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=o!=null?o===de.ENTER:!1;let a=!1;n.forEach(d=>{const h={value:d},f=i.formatValue(t.column,null,d),g=f!=null;h.text=g?f:d,e.addOption(h),a=a||s===d}),a?e.setValue(t.value,!0):t.values.length&&e.setValue(t.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=t;l!=null&&e.setPickerGap(l),c!=null&&e.setPickerMaxHeight(c),u!=null&&e.setPickerMaxWidth(u),r.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,RO.EVENT_ITEM_SELECTED,()=>t.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};x([V("valueFormatterService")],N$.prototype,"valueFormatterService",2);x([ke("eSelect")],N$.prototype,"eSelect",2);var Mb=class extends Hf{constructor(t){super(`
            <div class="ag-cell-edit-wrapper">
                ${t.getTemplate()}
            </div>`),this.cellEditorInput=t}init(t){this.params=t;const e=this.eInput;this.cellEditorInput.init(e,t);let i;if(t.cellStartedEdit){this.focusAfterAttached=!0;const r=t.eventKey;r===de.BACKSPACE||t.eventKey===de.DELETE?i="":r&&r.length===1?i=r:(i=this.cellEditorInput.getStartValue(),r!==de.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&e.setStartValue(i),this.addManagedListener(e.getGui(),"keydown",r=>{const{key:n}=r;(n===de.PAGE_UP||n===de.PAGE_DOWN)&&r.preventDefault()})}afterGuiAttached(){var t,e;const i=this.localeService.getLocaleTextFunc(),r=this.eInput;if(r.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;xu()||r.getFocusableElement().focus();const n=r.getInputElement();this.highlightAllOnFocus?n.select():(e=(t=this.cellEditorInput).setCaret)==null||e.call(t)}focusIn(){const t=this.eInput,e=t.getFocusableElement(),i=t.getInputElement();e.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};x([ke("eInput")],Mb.prototype,"eInput",2);var fMe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)}getValue(){const t=this.eInput.getValue();return!Te(t)&&!Te(this.params.value)?this.params.value:this.params.parseValue(t)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue(),e=Te(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}},TK=class extends Mb{constructor(){super(new fMe)}},gMe="",mMe="",cie=class extends Et{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),t.appendChild(e),t.appendChild(i),this.setTemplateFromElement(t)}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)}showDelta(t,e){const i=Math.abs(e),r=t.formatValue(i),n=Te(r)?r:i,s=e>=0;s?this.eDelta.textContent=gMe+n:this.eDelta.textContent=mMe+n,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Lr(this.eDelta)}refresh(t,e=!1){const i=t.value;if(i===this.lastValue||(Te(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:Te(t.value)?this.eValue.textContent=i:Lr(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const r=i-this.lastValue;this.showDelta(t,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),e||this.setTimerToRemoveDelta(),this.lastValue=i,!0}};x([V("filterManager")],cie.prototype,"filterManager",2);var die=class extends Et{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-slide-current"),t.appendChild(e),this.setTemplateFromElement(t),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(t){this.refresh(t,!0)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=e,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(t,e=!1){let i=t.value;return ht(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(e||this.addSlideAnimation(),this.lastValue=i,Te(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:Te(t.value)?this.eCurrent.textContent=i:Lr(this.eCurrent),!0)}};x([V("filterManager")],die.prototype,"filterManager",2);var ji=class Ai{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ai.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,i){const r=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,r,i);this.dispatchLocalEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,i,r){return{type:Ai.EVENT_DATA_CHANGED,node:this,oldData:i,newData:e,update:r}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new Ai(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,i){const r=Te(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);const s=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(s)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)}setRowSelectable(e,i){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_SELECTABLE_CHANGED)),i)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const r=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(Ai.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${Ai.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const i=[];let r=this;for(e&&(r=r.parent);r&&r.level>=0;)i.push(r.key),r=r.parent;return i.reverse(),i}isPixelInRange(e){return!Te(this.rowTop)||!Te(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_GROUP_CHANGED)))}setRowHeight(e,i=!1){this.rowHeight=e,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=vs(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,i=!0,r=0;const n=this.__autoHeights;if(n==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=n[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(a.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(u.includes(a)){e=!0;return}l=-1}else{e=!0;return}else i=!1;l>r&&(r=l)}),e)||((i||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r==this.rowHeight))return;this.setRowHeight(r);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,i){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_EXPANDED_CHANGED));const r=Object.assign({},this.createGlobalRowEvent(F.EVENT_ROW_GROUP_OPENED),{expanded:e,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,i,r){const s=(()=>{var l;return typeof e!="string"?e:(l=this.beans.columnModel.getGridColumn(e))!=null?l:this.beans.columnModel.getPrimaryColumn(e)})(),o=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,o,i,r),!1;const a=this.beans.valueService.setValue(this,s,i,r);return this.dispatchCellChangedEvent(s,i,o),this.checkRowSelectable(),a}getValueFromValueService(e){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!i,s=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),o=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),a=r&&s&&!o;return this.beans.valueService.getValue(e,this,!1,a)}dispatchEventForSaveValueReadOnly(e,i,r,n){const s=this.beans.gridOptionsService.addGridCommonParams({type:F.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:i,newValue:r,value:r,source:n});this.beans.eventService.dispatchEvent(s)}setGroupValue(e,i){const r=this.beans.columnModel.getGridColumn(e);ht(this.groupData)&&(this.groupData={});const n=r.getColId(),s=this.groupData[n];s!==i&&(this.groupData[n]=i,this.dispatchCellChangedEvent(r,i,s))}setAggData(e){const i=this.aggData;if(this.aggData=e,this.eventService){const r=n=>{const s=this.aggData?this.aggData[n]:void 0,o=i?i[n]:void 0;if(s===o)return;const a=this.beans.columnModel.lookupGridColumn(n);a&&this.dispatchCellChangedEvent(a,s,o)};for(const n in this.aggData)r(n);for(const n in e)n in this.aggData||r(n)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const r=this.beans.gridOptionsService.get("treeData"),n=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(r?!!n&&n(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Po(this.childrenAfterGroup)}dispatchCellChangedEvent(e,i,r){const n={type:Ai.EVENT_CELL_CHANGED,node:this,column:e,newValue:i,oldValue:r};this.dispatchLocalEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let i=!1,r=!1,n=!1;if(!((e=this.childrenAfterGroup)!=null&&e.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const o=this.childrenAfterGroup[s];let a=o.isSelected();if(!o.selectable){const l=o.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:i=!0;break;case!1:r=!0;break;default:n=!0;break}}if(!(n||i&&r))return i?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,i,r="api"){const n=!this.selectable&&e,s=this.selected===e;if(n||s)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(Ai.EVENT_ROW_SELECTED));const a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(Ai.EVENT_ROW_SELECTED))}const o=Ui(it({},this.createGlobalRowEvent(F.EVENT_ROW_SELECTED)),{event:i||null,source:r});return this.beans.eventService.dispatchEvent(o),!0}setSelected(e,i=!1,r="api"){if(typeof r=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:i,rangeSelect:!1,source:r})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Ui(it({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(e){let i=this.parent;for(;i;){if(i===e)return!0;i=i.parent}return!1}addEventListener(e,i){var r,n;this.eventService||(this.eventService=new Il),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new e$(this.beans.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;if(!this.eventService)return;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(Ai.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(Ai.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let i=this,r=!0,n=!1,s=null;for(;r&&!n;){const o=i.parent;Te(o)&&i.firstChild?o.rowGroupColumn===e&&(n=!0,s=o):r=!1,i=o}return n?s:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.key==null)return;const e=[];let i=this;for(;i.key!=null;)e.push(i.key),i=i.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),i=new Ai(this.beans);Object.keys(this).forEach(r=>{e.has(r)||(i[r]=this[r])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};ji.ID_PREFIX_ROW_GROUP="row-group-";ji.ID_PREFIX_TOP_PINNED="t-";ji.ID_PREFIX_BOTTOM_PINNED="b-";ji.OBJECT_ID_SEQUENCE=0;ji.EVENT_ROW_SELECTED="rowSelected";ji.EVENT_DATA_CHANGED="dataChanged";ji.EVENT_CELL_CHANGED="cellChanged";ji.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";ji.EVENT_MASTER_CHANGED="masterChanged";ji.EVENT_GROUP_CHANGED="groupChanged";ji.EVENT_MOUSE_ENTER="mouseEnter";ji.EVENT_MOUSE_LEAVE="mouseLeave";ji.EVENT_HEIGHT_CHANGED="heightChanged";ji.EVENT_TOP_CHANGED="topChanged";ji.EVENT_DISPLAYED_CHANGED="displayedChanged";ji.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";ji.EVENT_LAST_CHILD_CHANGED="lastChildChanged";ji.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";ji.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";ji.EVENT_EXPANDED_CHANGED="expandedChanged";ji.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";ji.EVENT_SELECTABLE_CHANGED="selectableChanged";ji.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";ji.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";ji.EVENT_DRAGGING_CHANGED="draggingChanged";var Ot=ji,PO=class extends Et{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),i=vO(t,e),[r,n]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=t(r,n);this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(t,e,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:e,event:i,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",r=>{Ll(r)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",r=>{Ll(r);const n=this.gridOptionsService.get("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,n)?this.onClicked(!0,n,r||{})===0&&this.onClicked(!1,n,r):s?this.onClicked(!1,n,r):this.onClicked(!0,n,r||{})}),this.addManagedListener(this.rowNode,Ot.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,r),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,r),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var t,e,i;let r=this.rowNode.selectable;const n=this.getIsVisible();if(r)if(typeof n=="function"){const o=(t=this.overrides)==null?void 0:t.callbackParams;if(!this.column)r=n(Ui(it({},o),{node:this.rowNode,data:this.rowNode.data}));else{const a=this.column.createColumnFunctionCallbackParams(this.rowNode);r=n(it(it({},o),a))}}else r=n??!1;if((e=this.column)==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!r),this.setVisible(!0),this.setDisplayed(!0);return}if((i=this.overrides)!=null&&i.removeHidden){this.setDisplayed(r);return}this.setVisible(r)}getIsVisible(){var t,e;return this.overrides?this.overrides.isVisible:(e=(t=this.column)==null?void 0:t.getColDef())==null?void 0:e.checkboxSelection}};x([ke("eCheckbox")],PO.prototype,"eCheckbox",2);x([Me],PO.prototype,"postConstruct",1);var hie=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(hie||{}),Rt=class extends Pe{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=pa("columnMovePin",this.gridOptionsService,null),this.eHideIcon=pa("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=pa("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=pa("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=pa("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=pa("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=pa("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=pa("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=pa("dropNotAllowed",this.gridOptionsService,null)}addDragSource(t,e=!1){const i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:i,dragSource:t}),this.dragService.addDragSource(i)}removeDragSource(t){const e=this.dragSourceAndParamsList.find(i=>i.dragSource===t);e&&(this.dragService.removeDragSource(e.params),Us(this.dragSourceAndParamsList,e))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(t,e){var i,r,n,s;const o=this.getHorizontalDirection(t),a=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);const l=this.dropTargets.filter(c=>this.isMouseOnDropTarget(t,c)),u=this.findCurrentDropTarget(t,l);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(t,o,a,e),this.lastDropTarget!==null&&u===null&&((r=(i=this.dragSource).onGridExit)==null||r.call(i,this.dragItem)),this.lastDropTarget===null&&u!==null&&((s=(n=this.dragSource).onGridEnter)==null||s.call(n,this.dragItem)),this.enterDragTargetIfExists(u,t,o,a,e),this.lastDropTarget=u;else if(u&&u.onDragging){const c=this.createDropTargetEvent(u,t,o,a,e);u.onDragging(c)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null,i=[[t.getContainer()]];return e?i.concat(e):i}allContainersIntersect(t,e){for(const i of e){const r=i.getBoundingClientRect();if(r.width===0||r.height===0)return!1;const n=t.clientX>=r.left&&t.clientX<r.right,s=t.clientY>=r.top&&t.clientY<r.bottom;if(!n||!s)return!1}return!0}isMouseOnDropTarget(t,e){const i=this.getAllContainersFromDropTarget(e);let r=!1;for(const n of i)if(this.allContainersIntersect(t,n)){r=!0;break}return e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement)?!1:r&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(t,e){const i=e.length;if(i===0)return null;if(i===1)return e[0];const n=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);for(const s of n)for(const o of e)if(Hee(this.getAllContainersFromDropTarget(o)).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(t,e,i,r,n){if(t){if(t.onDragEnter){const s=this.createDropTargetEvent(t,e,i,r,n);t.onDragEnter(s)}this.setGhostIcon(t.getIconName?t.getIconName():null)}}leaveLastTargetIfExists(t,e,i,r){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const n=this.createDropTargetEvent(this.lastDropTarget,t,e,i,r);this.lastDropTarget.onDragLeave(n)}this.setGhostIcon(null)}}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===t.getContainer())||null}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX,i=t.clientX;return e===i?null:e>i?0:1}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY,i=t.clientY;return e===i?null:e>i?0:1}createDropTargetEvent(t,e,i,r,n){const s=t.getContainer(),o=s.getBoundingClientRect(),{gridApi:a,columnApi:l,dragItem:u,dragSource:c}=this,d=e.clientX-o.left,h=e.clientY-o.top;return{event:e,x:d,y:h,vDirection:r,hDirection:i,dragSource:c,fromNudge:n,dragItem:u,api:a,columnApi:l,dropZoneTarget:s}}positionGhost(t){const e=this.eGhost;if(!e)return;const r=e.getBoundingClientRect().height,n=fte()-2,s=gte()-2,o=y$(e.offsetParent),{clientY:a,clientX:l}=t;let u=a-o.top-r/2,c=l-o.left-10;const d=this.gridOptionsService.getDocument(),h=d.defaultView||window,f=h.pageYOffset||d.documentElement.scrollTop,g=h.pageXOffset||d.documentElement.scrollLeft;n>0&&c+e.clientWidth>n+g&&(c=n+g-e.clientWidth),c<0&&(c=0),s>0&&u+e.clientHeight>s+f&&(u=s+f-e.clientHeight),u<0&&(u=0),e.style.left=`${c}px`,e.style.top=`${u}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=qs(Rt.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:t}=this.environment.getTheme();t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;dO(i)&&(i=i()),e.innerHTML=Kr(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const r=this.gridOptionsService.getDocument();let n=null,s=null;try{n=r.fullscreenElement}catch{}finally{n||(n=this.gridOptionsService.getRootNode());const o=n.querySelector("body");o?s=o:n instanceof ShadowRoot?s=n:n instanceof Document?s=n==null?void 0:n.documentElement:s=n}this.eGhostParent=s,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(t,e=!1){Lr(this.eGhostIcon);let i=null;switch(t||(t=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Rt.ICON_NOT_ALLOWED),t){case Rt.ICON_PINNED:i=this.ePinnedIcon;break;case Rt.ICON_MOVE:i=this.eMoveIcon;break;case Rt.ICON_LEFT:i=this.eLeftIcon;break;case Rt.ICON_RIGHT:i=this.eRightIcon;break;case Rt.ICON_GROUP:i=this.eGroupIcon;break;case Rt.ICON_AGGREGATE:i=this.eAggregateIcon;break;case Rt.ICON_PIVOT:i=this.ePivotIcon;break;case Rt.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case Rt.ICON_HIDE:i=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),!(i===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};Rt.ICON_PINNED="pinned";Rt.ICON_MOVE="move";Rt.ICON_LEFT="left";Rt.ICON_RIGHT="right";Rt.ICON_GROUP="group";Rt.ICON_AGGREGATE="aggregate";Rt.ICON_PIVOT="pivot";Rt.ICON_NOT_ALLOWED="notAllowed";Rt.ICON_HIDE="hide";Rt.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;x([V("dragService")],Rt.prototype,"dragService",2);x([V("mouseEventService")],Rt.prototype,"mouseEventService",2);x([V("columnApi")],Rt.prototype,"columnApi",2);x([V("gridApi")],Rt.prototype,"gridApi",2);x([Me],Rt.prototype,"init",1);x([xs],Rt.prototype,"clearDragSourceParamsList",1);Rt=x([We("dragAndDropService")],Rt);var Qp=class extends Et{constructor(t,e,i,r,n,s){super(),this.cellValueFn=t,this.rowNode=e,this.column=i,this.customGui=r,this.dragStartPixels=n,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ir("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const t=this.gridOptionsService.get("rowDragManaged")?new gie(this,this.beans,this.rowNode,this.column):new fie(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t),this.addDragSource(e)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return e.indexOf(this.rowNode)!==-1?e:[this.rowNode]}checkCompatibility(){const t=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&t&&ct("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();const e=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var i;const r=this.getDragItem(),n=((i=r.rowNodes)==null?void 0:i.length)||1,s=this.getRowDragText(this.column);return s?s(r,n):n===1?this.cellValueFn():`${n} ${e("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};x([V("beans")],Qp.prototype,"beans",2);x([Me],Qp.prototype,"postConstruct",1);x([xs],Qp.prototype,"removeDragSource",1);var pie=class extends Pe{constructor(t,e,i){super(),this.parent=t,this.rowNode=e,this.column=i}setDisplayedOrVisible(t){const e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let i=!0,r=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),r=dO(this.column.getColDef().rowDrag)),r?(this.parent.setDisplayed(!0,e),this.parent.setVisible(i,e)):(this.parent.setDisplayed(i,e),this.parent.setVisible(!0,e))}}},fie=class extends pie{constructor(t,e,i,r){super(t,i,r),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)}};x([Me],fie.prototype,"postConstruct",1);var gie=class extends pie{constructor(t,e,i,r){super(t,i,r),this.beans=e}postConstruct(){this.addManagedListener(this.beans.eventService,F.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=e&&e.shouldPreventRowMove(),r=this.gridOptionsService.get("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!n||r;this.setDisplayedOrVisible(s)}};x([Me],gie.prototype,"postConstruct",1);var $f=class extends Pe{init(t,e,i,r,n,s,o){var a,l,u,c;this.params=o,this.eGui=e,this.eCheckbox=i,this.eExpanded=r,this.eContracted=n,this.comp=t,this.compClass=s;const{node:d,value:h,colDef:f}=o,g=this.isTopLevelFooter();if(!g){if(this.isEmbeddedRowMismatch())return;if(d.footer&&this.gridOptionsService.get("groupHideOpenParents")){const C=f&&f.showRowGroup,S=d.rowGroupColumn&&d.rowGroupColumn.getColId();if(C!==S)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){const v=o.node.footer&&o.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(D=>{var P;return D.getColId()===((P=o.colDef)==null?void 0:P.showRowGroup)}),S=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!o.node.footer&&(!o.node.group||o.node.rowGroupIndex!=null&&o.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(D=>{var P;return D.getColId()===((P=o.colDef)==null?void 0:P.showRowGroup)})),y=!d.group&&(((a=this.params.colDef)==null?void 0:a.field)||((l=this.params.colDef)==null?void 0:l.valueGetter)),w=this.isExpandable(),E=this.columnModel.isPivotMode()&&d.leafGroup&&((u=d.rowGroupColumn)==null?void 0:u.getColId())===((c=o.column)==null?void 0:c.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!w&&!y&&!S&&!v&&!E)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var t,e;const i=(t=this.params.colDef)==null?void 0:t.cellAriaRole,r=(e=this.params.column)==null?void 0:e.getColDef().cellAriaRole;return i||r||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:t,eGridCell:e}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){ste(e);return}const i=()=>{wc(e,!!t.expanded)};this.expandListener=this.addManagedListener(t,Ot.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const t=this.params.colDef;if(t==null||t.showRowGroup===!0)return!0;const i=this.columnModel.getRowGroupColumns();return!i||i.length===0?!0:i[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const t=this.params.pinned==="left",e=this.params.pinned==="right",i=!t&&!e;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!e:!i:this.columnModel.isPinningLeft()?!t:!i}findDisplayedGroupNode(){const t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent){let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&t.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}ht(this.displayedGroupNode)&&(this.displayedGroupNode=e)}setupShowingValueForOpenedParent(){const t=this.params.node,e=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}if(t.rowGroupColumn!=null){const n=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(n)){this.showingValueForOpenedParent=!1;return}}const r=t.groupData[e.getId()]!=null;this.showingValueForOpenedParent=r}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var t;const e=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(e),{valueFormatted:r,value:n}=e;let s=r;if(s==null){const o=this.displayedGroupNode.rowGroupColumn&&((t=this.params.column)==null?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&o?s=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):s=n??null}this.comp.setInnerRenderer(i,s)}adjustParamsWithDetailsFromRelatedColumn(){const t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(e!=null&&!e.isRowGroupDisplayed(t.getId()))return this.params;const r=this.params,{value:n,node:s}=this.params,o=this.valueFormatterService.formatValue(t,s,n);return Ui(it({},r),{valueFormatted:o})}addFooterValue(){const t=this.params.footerValueGetter;let e="";if(t){const r=ZH(this.params);r.value=this.params.value,typeof t=="function"?e=t(r):typeof t=="string"?e=this.expressionService.evaluate(t,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,e)}getInnerCompDetails(t){if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);const e=this.userComponentFactory.getInnerRendererDetails(t,t),i=o=>o&&o.componentClass==this.compClass;if(e&&!i(e))return e;const r=this.displayedGroupNode.rowGroupColumn,n=r?r.getColDef():void 0;if(!n)return;const s=this.userComponentFactory.getCellRendererDetails(n,t);if(s&&!i(s))return s;if(i(s)&&n.cellRendererParams&&n.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(n.cellRendererParams,t)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ot.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const t=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow()&&t!=null&&t>=0?`(${t})`:"";this.comp.setChildCount(r)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;const e=this.params.column;return e==null||e.isRowGroupDisplayed(t.getId())}addExpandAndContract(){var t;const e=this.params,i=ir("groupExpanded",this.gridOptionsService,null),r=ir("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),r&&this.eContracted.appendChild(r);const n=e.eGridCell;!(((t=this.params.column)==null?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(n,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Ot.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ot.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ot.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ot.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ot.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(t){Tl(t)||(Ll(t),this.onExpandOrContract(t))}onExpandOrContract(t){const e=this.displayedGroupNode,i=!e.expanded;!i&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(i,t)}scrollToStickyNode(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!(t.isExpandable()&&!t.footer&&!e))return!1;const r=this.params.column;return r!=null&&typeof r.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:t,displayedGroupNode:e,columnModel:i}=this,{node:r}=t,n=this.isExpandable();if(n){const u=this.showingValueForOpenedParent?!0:r.expanded;this.comp.setExpandedDisplayed(u),this.comp.setContractedDisplayed(!u)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const s=i.isPivotMode(),o=s&&e.leafGroup,a=n&&!o,l=r.footer&&r.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",o):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,Ot.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const t=this.params,e=t.node,i=!!t.colDef,r=this.gridOptionsService.get("treeData"),s=!i||r||t.colDef.showRowGroup===!0?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const t=new Qp(()=>this.params.value,this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}isUserWantsSelected(){const t=this.params.checkbox;return typeof t=="function"||t===!0}addCheckboxIfNeeded(){const t=this.displayedGroupNode,e=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(e){const i=new PO;this.getContext().createBean(i),i.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(e)}onKeyDown(t){!(t.key===de.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t)}onCellDblClicked(t){if(Tl(t))return;sx(this.eExpanded,t)||sx(this.eContracted,t)||this.onExpandOrContract(t)}};x([V("expressionService")],$f.prototype,"expressionService",2);x([V("valueFormatterService")],$f.prototype,"valueFormatterService",2);x([V("columnModel")],$f.prototype,"columnModel",2);x([V("userComponentFactory")],$f.prototype,"userComponentFactory",2);x([V("ctrlsService")],$f.prototype,"ctrlsService",2);var Bf=class mie extends Et{constructor(){super(mie.TEMPLATE)}init(e){const i={setInnerRenderer:(o,a)=>this.setRenderDetails(o,a),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setContractedDisplayed:o=>Vt(this.eContracted,o),setExpandedDisplayed:o=>Vt(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},r=this.createManagedBean(new $f),n=!e.colDef,s=this.getGui();r.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&hr(s,r.getCellAriaRole())}setRenderDetails(e,i){if(e){const r=e.newAgStackInstance();if(!r)return;r.then(n=>{if(!n)return;const s=()=>this.context.destroyBean(n);this.isAlive()?(this.eValue.appendChild(n.getGui()),this.addDestroyFunc(s)):s()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};Bf.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;x([ke("eExpanded")],Bf.prototype,"eExpanded",2);x([ke("eContracted")],Bf.prototype,"eContracted",2);x([ke("eCheckbox")],Bf.prototype,"eCheckbox",2);x([ke("eValue")],Bf.prototype,"eValue",2);x([ke("eChildCount")],Bf.prototype,"eChildCount",2);var DK=Bf,xO=class vie extends Et{constructor(){super(vie.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=ir("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};xO.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;x([ke("eLoadingIcon")],xO.prototype,"eLoadingIcon",2);x([ke("eLoadingText")],xO.prototype,"eLoadingText",2);var vMe=xO,Cie=class yie extends Et{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??yie.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}};Cie.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var CMe=Cie,Sie=class wie extends Et{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??wie.DEFAULT_NO_ROWS_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}};Sie.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var yMe=Sie,SMe=class extends Hf{constructor(){super('<div class="ag-tooltip"></div>')}init(t){const{value:e}=t;this.getGui().textContent=Kr(e,!0)}},wMe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);const i=t.getInputElement();e.preventStepping?t.addManagedListener(i,"keydown",this.preventStepping):e.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(t){(t.key===de.UP||t.key===de.DOWN)&&t.preventDefault()}getValue(){const t=this.eInput.getValue();if(!Te(t)&&!Te(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}},EMe=class extends Mb{constructor(){super(new wMe)}},bMe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.eInput.getDate();return!Te(t)&&!Te(this.params.value)?this.params.value:t??null}getStartValue(){const{value:t}=this.params;if(t instanceof Date)return Aa(t,!1)}},RMe=class extends Mb{constructor(){super(new bMe)}},TMe=class{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.formatDate(this.eInput.getDate());return!Te(t)&&!Te(this.params.value)?this.params.value:this.params.parseValue(t??"")}getStartValue(){var t,e;return Aa((e=this.parseDate((t=this.params.value)!=null?t:void 0))!=null?e:null,!1)}parseDate(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)}formatDate(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)}},Eie=class extends Mb{constructor(){super(new TMe(()=>this.dataTypeService))}};x([V("dataTypeService")],Eie.prototype,"dataTypeService",2);var G$=class bie extends Et{constructor(){super(bie.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);const i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),n$(i,"polite"),this.addManagedListener(i,"click",n=>{if(Ll(n),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)}),this.addManagedListener(i,"dblclick",n=>{Ll(n)});const r=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",n=>{if(n.key===de.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===r.activeElement&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),n.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var i,r,n;let s,o=!0;if(e.node.group&&e.column){const d=e.column.getColId();d.startsWith(Ym)?s=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[d]!==void 0?s=(i=e.value)!=null?i:void 0:o=!1}else s=(r=e.value)!=null?r:void 0;if(!o){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);const a=e.disabled!=null?e.disabled:!((n=e.column)!=null&&n.isCellEditable(e.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),u=vO(l,s),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(e){const{column:i,node:r,rowIndex:n,value:s}=this.params,o={type:F.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s};this.eventService.dispatchEvent(o);const a=this.params.node.setDataValue(this.params.column,e,"edit"),l={type:F.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:a};this.eventService.dispatchEvent(l)}};G$.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;x([ke("eCheckbox")],G$.prototype,"eCheckbox",2);var DMe=G$,Rie=class extends Hf{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(t){var e;this.params=t;const i=(e=t.value)!=null?e:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,F.EVENT_FIELD_VALUE_CHANGED,n=>this.setAriaLabel(n.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc(),i=vO(e,t),r=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${r} (${i})`)}};x([ke("eCheckbox")],Rie.prototype,"eCheckbox",2);var PMe=class extends Et{constructor(){super(),this.setTemplate("<div></div>")}init(t){var e;this.params=t,this.cssClassPrefix=(e=this.params.cssClassPrefix)!=null?e:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const t=qs(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?t.appendChild(ir("check",this.gridOptionsService)):this.params.icon&&(bb(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}addName(){const t=qs(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(t)}addShortcut(){if(this.params.isCompact)return;const t=qs(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(t)}addSubMenu(){const t=qs(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),e=this.getGui();if(this.params.subMenu){const i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";wc(e,!1),t.appendChild(ir(i,this.gridOptionsService))}e.appendChild(t)}getClassName(t){return`${this.cssClassPrefix}-${t}`}destroy(){super.destroy()}},Cw=class extends Pe{constructor(){super(...arguments),this.agGridDefaults={agDateInput:Jte,agColumnHeader:v1,agColumnGroupHeader:hMe,agSortIndicator:L$,agTextColumnFloatingFilter:dMe,agNumberColumnFloatingFilter:cMe,agDateColumnFloatingFilter:DO,agReadOnlyFloatingFilter:x$,agAnimateShowChangeCellRenderer:cie,agAnimateSlideCellRenderer:die,agGroupCellRenderer:DK,agGroupRowRenderer:DK,agLoadingCellRenderer:vMe,agCheckboxCellRenderer:DMe,agCellEditor:TK,agTextCellEditor:TK,agNumberCellEditor:EMe,agDateCellEditor:RMe,agDateStringCellEditor:Eie,agSelectCellEditor:N$,agLargeTextCellEditor:pMe,agCheckboxCellEditor:Rie,agTextColumnFilter:I$,agNumberColumnFilter:rie,agDateColumnFilter:Qte,agLoadingOverlay:CMe,agNoRowsOverlay:yMe,agTooltipComponent:SMe,agMenuItem:PMe},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){this.gridOptions.components!=null&&Zn(this.gridOptions.components,(t,e)=>this.registerJsComponent(t,e))}registerDefaultComponent(t,e){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=e}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const i=(a,l)=>({componentFromFramework:l,component:a}),r=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(r!=null)return i(r,!0);const n=this.jsComps[e];if(n){const a=this.getFrameworkOverrides().isFrameworkComponent(n);return i(n,a)}const s=this.agGridDefaults[e];if(s)return i(s,!1);const o=this.enterpriseAgDefaultCompsModule[e];return o?Jt.__assertRegistered(o,`AG Grid '${t}' component: ${e}`,this.context.getGridId()):bp(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){const i=[...Object.keys(this.agGridDefaults).filter(n=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(n)),...Object.keys(this.jsComps)],r=Rb(e,i,!0,.8).values;console.warn(`AG Grid: Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),r.length>0&&console.warn(`         Did you mean: [${r.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};x([V("gridOptions")],Cw.prototype,"gridOptions",2);x([Me],Cw.prototype,"init",1);Cw=x([We("userComponentRegistry")],Cw);var xMe={propertyName:"dateComponent",cellRenderer:!1},AMe={propertyName:"headerComponent",cellRenderer:!1},OMe={propertyName:"headerGroupComponent",cellRenderer:!1},PK={propertyName:"cellRenderer",cellRenderer:!0},MMe={propertyName:"cellEditor",cellRenderer:!1},xK={propertyName:"innerRenderer",cellRenderer:!0},FMe={propertyName:"loadingOverlayComponent",cellRenderer:!1},IMe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},LMe={propertyName:"tooltipComponent",cellRenderer:!1},C1={propertyName:"filter",cellRenderer:!1},_Me={propertyName:"floatingFilterComponent",cellRenderer:!1},NMe={propertyName:"toolPanel",cellRenderer:!1},GMe={propertyName:"statusPanel",cellRenderer:!1},kMe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},VMe={propertyName:"loadingCellRenderer",cellRenderer:!0},HMe={propertyName:"groupRowRenderer",cellRenderer:!0},$Me={propertyName:"detailCellRenderer",cellRenderer:!0},BMe={propertyName:"menuItem",cellRenderer:!1},Tie=class{static getFloatingFilterType(t){return this.filterToFloatingFilterMapping[t]}};Tie.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var qd=class extends Pe{getHeaderCompDetails(t,e){return this.getCompDetails(t,AMe,"agColumnHeader",e)}getHeaderGroupCompDetails(t){const e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,OMe,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,kMe,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,VMe,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,HMe,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,$Me,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,e){return this.getCompDetails(t,xK,null,e)}getFullWidthGroupRowInnerCellRenderer(t,e){return this.getCompDetails(t,xK,null,e)}getCellRendererDetails(t,e){return this.getCompDetails(t,PK,null,e)}getCellEditorDetails(t,e){return this.getCompDetails(t,MMe,"agCellEditor",e,!0)}getFilterDetails(t,e,i){return this.getCompDetails(t,C1,i,e,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,xMe,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,FMe,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,IMe,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,LMe,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,e){return this.getCompDetails(t,PK,null,e)}getFloatingFilterCompDetails(t,e,i){return this.getCompDetails(t,_Me,i,e)}getToolPanelCompDetails(t,e){return this.getCompDetails(t,NMe,null,e,!0)}getStatusPanelCompDetails(t,e){return this.getCompDetails(t,GMe,null,e,!0)}getMenuItemCompDetails(t,e){return this.getCompDetails(t,BMe,"agMenuItem",e,!0)}getCompDetails(t,e,i,r,n=!1){const{propertyName:s,cellRenderer:o}=e;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}=this.getCompKeys(t,e,r);const f=S=>{const y=this.userComponentRegistry.retrieve(s,S);y&&(l=y.componentFromFramework?void 0:y.component,u=y.componentFromFramework?y.component:void 0)};if(a!=null&&f(a),l==null&&u==null&&i!=null&&f(i),l&&o&&!this.agComponentUtils.doesImplementIComponent(l)&&(l=this.agComponentUtils.adaptFunction(s,l)),!l&&!u){n&&console.error(`AG Grid: Could not find component ${a}, did you forget to configure this component?`);return}const g=this.mergeParamsWithApplicationProvidedParams(t,e,r,c),v=l==null,C=l||u;return{componentFromFramework:v,componentClass:C,params:g,type:e,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(C,v,g,e)}}getCompKeys(t,e,i){const{propertyName:r}=e;let n,s,o,a,l,u;if(t){const c=t,d=c[r+"Selector"],h=d?d(i):null,f=g=>{typeof g=="string"?n=g:g!=null&&g!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(g)?o=g:s=g)};h?(f(h.component),a=h.params,l=h.popup,u=h.popupPosition):f(c[r])}return{compName:n,jsComp:s,fwComp:o,paramsFromSelector:a,popupFromSelector:l,popupPositionFromSelector:u}}newAgStackInstance(t,e,i,r){const n=r.propertyName,s=!e;let o;if(s)o=new t;else{const l=this.componentMetadataProvider.retrieve(n);o=this.frameworkComponentWrapper.wrap(t,l.mandatoryMethodList,l.optionalMethodList,r)}const a=this.initComponent(o,i);return a==null?Tr.resolve(o):a.then(()=>o)}mergeParamsWithApplicationProvidedParams(t,e,i,r=null){const n=this.gridOptionsService.getGridCommonParams();No(n,i);const s=t,o=s&&s[e.propertyName+"Params"];if(typeof o=="function"){const a=o(i);No(n,a)}else typeof o=="object"&&No(n,o);return No(n,r),n}initComponent(t,e){if(this.context.createBean(t),t.init!=null)return t.init(e)}getDefaultFloatingFilterType(t,e){if(t==null)return null;let i=null,{compName:r,jsComp:n,fwComp:s}=this.getCompKeys(t,C1);return r?i=Tie.getFloatingFilterType(r):n==null&&s==null&&t.filter===!0&&(i=e()),i}};x([V("gridOptions")],qd.prototype,"gridOptions",2);x([V("agComponentUtils")],qd.prototype,"agComponentUtils",2);x([V("componentMetadataProvider")],qd.prototype,"componentMetadataProvider",2);x([V("userComponentRegistry")],qd.prototype,"userComponentRegistry",2);x([jt("frameworkComponentWrapper")],qd.prototype,"frameworkComponentWrapper",2);qd=x([We("userComponentFactory")],qd);var dx=class{};dx.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0};dx.ALL_PROPERTIES=Object.keys(dx.ColDefPropertyMap);var WMe=dx,Die=class{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){const i=e||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=t.clientX<r.left+n,this.tickRight=t.clientX>r.right-n,this.tickUp=t.clientY<r.top+n&&!i,this.tickDown=t.clientY>r.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){const e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Qo=class extends Pe{constructor(t){super(),this.isMultiRowDrag=!1,this.eContainer=t}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new Die({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(t){return t===2}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Rt.ICON_NOT_ALLOWED:Rt.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];const e=this.gridOptionsService.get("rowDragMultiRow"),i=[...this.selectionService.getSelectedNodes()].sort((n,s)=>n.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(n)-this.getRowIndexNumber(s)),r=t.dragItem.rowNode;return e&&i.indexOf(r)!==-1?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[r])}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(F.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(t){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:r}=t;return!i.contains(r)}onEnterOrDragging(t){this.dispatchGridEvent(F.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){const i=this.isFromThisGrid(t),r=this.gridOptionsService.get("rowDragManaged"),n=t.dragItem.rowNodes;r&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(n[0],e):this.moveRows(n,e))}getRowIndexNumber(t){return parseInt(Xt(t.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode(),i=e&&e.highlighted===1,r=this.mouseEventService.getNormalisedPosition(t).y,n=t.dragItem.rowNodes;let s=i?1:0;if(this.isFromThisGrid(t))n.forEach(o=>{o.rowTop<r&&(s-=1)}),this.moveRows(n,r,s);else{const o=this.gridOptionsService.getCallback("getRowId");let a=this.clientSideRowModel.getRowIndexAtPixel(r)+1;this.clientSideRowModel.getHighlightPosition(r)===0&&a--,this.clientSideRowModel.updateRowData({add:n.map(l=>l.data).filter(l=>!this.clientSideRowModel.getRowNode(o?o({data:l,level:0}):l.id)),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,i=0){this.clientSideRowModel.ensureRowsAtPixel(t,e,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer()){ct("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let e={getContainer:t.getContainer};t.fromGrid?e=t:(t.onDragEnter&&(e.onDragEnter=i=>{t.onDragEnter(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_ENTER,i))}),t.onDragLeave&&(e.onDragLeave=i=>{t.onDragLeave(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_LEAVE,i))}),t.onDragging&&(e.onDragging=i=>{t.onDragging(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_MOVE,i))}),t.onDragStop&&(e.onDragStop=i=>{t.onDragStop(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(it({isInterestedIn:i=>i===2,getIconName:()=>Rt.ICON_MOVE,external:!0},e))}getRowDropZone(t){const e=this.getContainer.bind(this),i=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),n=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:e,onDragEnter:t.onDragEnter?o=>{i(o),t.onDragEnter(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_ENTER,o))}:i,onDragLeave:t.onDragLeave?o=>{r(o),t.onDragLeave(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_LEAVE,o))}:r,onDragging:t.onDragging?o=>{n(o),t.onDragging(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_MOVE,o))}:n,onDragStop:t.onDragStop?o=>{s(o),t.onDragStop(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:e,onDragEnter:i,onDragLeave:r,onDragging:n,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(t,e){const i=this.mouseEventService.getNormalisedPosition(e).y,r=i>this.paginationProxy.getCurrentPageHeight();let n=-1,s;r||(n=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(n));let o;switch(e.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gridOptionsService.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:n,overNode:s,y:i,vDirection:o})}dispatchGridEvent(t,e){const i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)}onDragLeave(t){this.dispatchGridEvent(F.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)}onDragStop(t){this.dispatchGridEvent(F.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}};x([V("dragAndDropService")],Qo.prototype,"dragAndDropService",2);x([V("rowModel")],Qo.prototype,"rowModel",2);x([V("paginationProxy")],Qo.prototype,"paginationProxy",2);x([V("columnModel")],Qo.prototype,"columnModel",2);x([V("focusService")],Qo.prototype,"focusService",2);x([V("sortController")],Qo.prototype,"sortController",2);x([V("filterManager")],Qo.prototype,"filterManager",2);x([V("selectionService")],Qo.prototype,"selectionService",2);x([V("mouseEventService")],Qo.prototype,"mouseEventService",2);x([V("ctrlsService")],Qo.prototype,"ctrlsService",2);x([jt("rangeService")],Qo.prototype,"rangeService",2);x([Me],Qo.prototype,"postConstruct",1);var yw=class extends Pe{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(t){const e=t.dragSource.eElement,i=t.mouseDownListener;if(e.removeEventListener("mousedown",i),t.touchEnabled){const r=t.touchStartListener;e.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(t){const e=this.dragSources.find(i=>i.dragSource===t);e&&(this.removeListener(e),Us(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t),{eElement:i,includeTouch:r,stopPropagationForTouch:n}=t;i.addEventListener("mousedown",e);let s=null;const o=this.gridOptionsService.get("suppressTouch");r&&!o&&(s=a=>{v$(a.target)||(a.cancelable&&(a.preventDefault(),n&&a.stopPropagation()),this.onTouchStart(t,a))},i.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:s,touchEnabled:!!r})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;const i=e.touches[0];this.touchLastTime=i,this.touchStart=i;const r=l=>this.onTouchMove(l,t.eElement),n=l=>this.onTouchUp(l,t.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=e.target,a=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:n,options:{passive:!0}},{target:o,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,t.eElement)}onMouseDown(t,e){const i=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,e.button!==0))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;const r=l=>this.onMouseMove(l,t.eElement),n=l=>this.onMouseUp(l,t.eElement),s=l=>l.preventDefault(),o=this.gridOptionsService.getRootNode(),a=[{target:o,type:"mousemove",listener:r},{target:o,type:"mouseup",listener:n},{target:o,type:"contextmenu",listener:s}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{const{target:i,type:r,listener:n,options:s}=e;i.addEventListener(r,n,s)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{const{target:i,type:r,listener:n,options:s}=e;i.removeEventListener(r,n,s)})})}isEventNearStartEvent(t,e){const{dragStartPixels:i}=this.currentDragParams,r=Te(i)?i:4;return D$(t,e,r)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;const r={type:F.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(r),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)}onTouchMove(t,e){const i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,e)}onMouseMove(t,e){var i;xu()&&((i=this.gridOptionsService.getDocument().getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){const e=this.gridOptionsService.get("enableCellTextSelection"),i=t.type==="mousemove";return e&&i&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const e=t.target,i=e==null?void 0:e.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(t,e){let i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);const i={type:F.EVENT_DRAG_STOPPED,target:e};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};x([V("mouseEventService")],yw.prototype,"mouseEventService",2);x([xs],yw.prototype,"removeAllListeners",1);yw=x([We("dragService")],yw);var RL="ag-list-item-hovered",Pie=class extends Pe{constructor(t,e,i){super(),this.comp=t,this.virtualList=e,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const t={isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Rt.ICON_PINNED:Rt.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(t)}createAutoScrollService(){const t=this.virtualList.getGui();this.autoScrollService=new Die({scrollContainer:t,scrollAxis:"y",getVerticalPosition:()=>t.scrollTop,setVerticalPosition:e=>t.scrollTop=e})}onDragging(t){if(!this.currentDragValue||this.moveBlocked)return;const e=this.getListDragItem(t),i=this.virtualList.getComponentAt(e.rowIndex);if(!i)return;const r=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===e.rowIndex&&this.lastHoveredListItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=e,f1(r,RL),f1(r,`ag-item-highlight-${e.position}`))}getListDragItem(t){const e=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(e).paddingTop),r=this.virtualList.getRowHeight(),n=this.virtualList.getScrollTop(),s=Math.max(0,(t.y-i+n)/r),o=this.params.getNumRows(this.comp)-1,a=Math.min(o,s)|0;return{rowIndex:a,position:Math.round(s)>s||s>o?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${RL}`).forEach(e=>{[RL,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(i=>{e.classList.remove(i)})}),this.lastHoveredListItem=null}};x([V("dragAndDropService")],Pie.prototype,"dragAndDropService",2);x([Me],Pie.prototype,"postConstruct",1);function op(t){const e=t;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():t}var It=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(t,e){this.detailGridInfoMap[t]=e}removeDetailGridInfo(t){this.detailGridInfoMap[t]=void 0}getDetailGridInfo(t){return this.detailGridInfoMap[t]}forEachDetailGridInfo(t){let e=0;Zn(this.detailGridInfoMap,(i,r)=>{Te(r)&&(t(r,e),e++)})}getDataAsCsv(t){if(Jt.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)}exportDataAsCsv(t){Jt.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)}assertNotExcelMultiSheet(t,e){return Jt.__assertRegistered("@ag-grid-enterprise/excel-export","api."+t,this.context.getGridId())?this.excelCreator.getFactoryMode()===1?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1}getDataAsExcel(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)}exportDataAsExcel(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)}getSheetDataForExcel(t){if(Jt.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(t)}getMultipleSheetsAsExcel(t){if(Jt.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)}exportMultipleSheetsAsExcel(t){Jt.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)}setGridAriaProperty(t,e){if(!t)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;e===null?i.removeAttribute(r):i.setAttribute(r,e)}logMissingRowModel(t,...e){console.error(`AG Grid: api.${t} can only be called when gridOptions.rowModelType is ${e.join(" or ")}`)}logDeprecation(t,e,i,r){ct(`Since ${t} api.${e} is deprecated. Please use ${i} instead. ${r}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(t){return this.pinnedRowModel.getPinnedTopRow(t)}getPinnedBottomRow(t){return this.pinnedRowModel.getPinnedBottomRow(t)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(t={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(t))}flashCells(t={}){const e=i=>ct(`Since v31.1 api.flashCells parameter '${i}Delay' is deprecated. Please use '${i}Duration' instead.`);Te(t.fadeDelay)&&e("fade"),Te(t.flashDelay)&&e("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(t))}redrawRows(t={}){const e=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(e))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return ct("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(t,e,i){this.expansionService.setRowNodeExpanded(t,e,i)}onGroupExpandedOrCollapsed(){if(ht(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(t)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(t){return this.rowModel.getRowNode(t)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(t,e,i){this.rowRenderer.addRenderedRowListener(t,e,i)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Jt.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(t){this.filterManager.setAdvancedFilterModel(t)}showAdvancedFilterBuilder(){Jt.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(t){if(!t.nodes.every(o=>o.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):o.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:i,source:r,newValue:n}=t,s=i;this.selectionService.setNodesSelected({nodes:s,source:r??"api",newValue:n})}selectAll(t="apiSelectAll"){this.selectionService.selectAllRowNodes({source:t})}deselectAll(t="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:t})}selectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}deselectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}getServerSideSelectionState(){return ht(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(t){if(ht(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(t,"api")}selectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}deselectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(ht(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(t,e="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e),"ensureVisible")}ensureIndexVisible(t,e){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e),"ensureVisible")}ensureNodeVisible(t,e=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e),"ensureVisible")}forEachLeafNode(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(t)}forEachNode(t,e){this.rowModel.forEachNode(t,e)}forEachNodeAfterFilter(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(t)}forEachNodeAfterFilterAndSort(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)}getFilterInstance(t,e){return ct("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)}getColumnFilterInstance(t){return this.filterManager.getColumnFilterInstance(t)}destroyFilter(t){const e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")}getStatusPanel(t){if(!Jt.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;const e=this.statusBarService.getStatusPanel(t);return op(e)}getColumnDef(t){const e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(t="api"){this.filterManager.onFilterChanged({source:t})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(t){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(t))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(t){return this.filterManager.getColumnFilterModel(t)}setColumnFilterModel(t,e){return this.filterManager.setColumnFilterModel(t,e)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(t,e,i){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:i,forceBrowserFocus:!0})}addRowDropZone(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)}removeRowDropZone(t){const e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)}getRowDropZoneParams(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)}assertSideBarLoaded(t){return Jt.__assertRegistered("@ag-grid-enterprise/side-bar","api."+t,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)}setSideBarPosition(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)}openToolPanel(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(t){if(this.assertSideBarLoaded("getToolPanelInstance")){const e=this.sideBarService.getSideBarComp().getToolPanelInstance(t);return op(e)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(Te(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setRowCount(t,e){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(t,e);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(t,e);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(t,e){let i=this.columnModel.getPrimaryColumn(t);return ht(i)&&(i=this.columnModel.getGridColumn(t)),ht(i)?null:this.valueService.getValue(i,e)}addEventListener(t,e){this.apiEventService.addEventListener(t,e)}addGlobalListener(t){this.apiEventService.addGlobalListener(t)}removeEventListener(t,e){this.apiEventService.removeEventListener(t,e)}removeGlobalListener(t){this.apiEventService.removeGlobalListener(t)}dispatchEvent(t){this.eventService.dispatchEvent(t)}destroy(){const t=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const e={type:F.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;const i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy(),Tee(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Jt.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(t){if(this.rangeService){this.rangeService.addCellRange(t);return}Jt.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Jt.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(t,e){if(Jt.__assertRegistered("@ag-grid-enterprise/charts","api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>e())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(t){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(t))}getChartImageDataURL(t){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(t))}downloadChart(t){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(t))}openChartToolPanel(t){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(t))}closeChartToolPanel(t){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(t.chartId))}createRangeChart(t){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(t))}createPivotChart(t){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(t))}createCrossFilterChart(t){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(t))}updateChart(t){return this.assertChart("updateChart",()=>this.chartService.updateChart(t))}restoreChart(t,e){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(t,e))}assertClipboard(t,e){Jt.__assertRegistered("@ag-grid-enterprise/clipboard","api"+t,this.context.getGridId())&&e()}copyToClipboard(t){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(t))}cutToClipboard(t){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(t))}copySelectedRowsToClipboard(t){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(t))}copySelectedRangeToClipboard(t){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(t))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(t,e){ct("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const i=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:i,buttonElement:e,positionBy:"button"})}showColumnMenuAfterMouseClick(t,e){ct("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let i=this.columnModel.getGridColumn(t);if(i||(i=this.columnModel.getPrimaryColumn(t)),!i){console.error(`AG Grid: column '${t}' not found`);return}this.menuService.showColumnMenu({column:i,mouseEvent:e,positionBy:"mouse"})}showColumnChooser(t){this.menuService.showColumnChooser({chooserParams:t})}showColumnFilter(t){const e=this.columnModel.getGridColumn(t);if(!e){console.error(`AG Grid: column '${t}' not found`);return}this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"})}showColumnMenu(t){const e=this.columnModel.getGridColumn(t);if(!e){console.error(`AG Grid: column '${t}' not found`);return}this.menuService.showColumnMenu({column:e,positionBy:"auto"})}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(t){return this.navigationService.tabToNextCell(!1,t)}tabToPreviousCell(t){return this.navigationService.tabToNextCell(!0,t)}getCellRendererInstances(t={}){return this.rowRenderer.getCellRendererInstances(t).map(op)}getCellEditorInstances(t={}){return this.rowRenderer.getCellEditorInstances(t).map(op)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(t=!1){this.rowRenderer.stopEditing(t)}startEditingCell(t){const e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn(`AG Grid: no column found for ${t.colKey}`);return}const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};t.rowPinned==null&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);const n=this.navigationService.getCellByPosition(i);n&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),n.startRowOrCellEdit(t.key))}addAggFunc(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})}addAggFuncs(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(t)}applyServerSideTransactionAsync(t,e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)}applyServerSideRowData(t){var e,i;const r=(e=t.startRow)!=null?e:0,n=(i=t.route)!=null?i:[];if(r<0){console.warn(`AG Grid: invalid value ${t.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,r,n):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(t))}applyTransactionAsync(t,e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(t,e))}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions())}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(t){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(t)}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(t){return this.rowModel.getRow(t)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(t){this.paginationProxy.goToPage(t)}sizeColumnsToFit(t){typeof t=="number"?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)}setColumnGroupOpened(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")}getColumnGroup(t,e){return this.columnModel.getColumnGroup(t,e)}getProvidedColumnGroup(t){return this.columnModel.getProvidedColumnGroup(t)}getDisplayNameForColumn(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""}getDisplayNameForColumnGroup(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""}getColumn(t){return this.columnModel.getPrimaryColumn(t)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(t){return this.columnModel.applyColumnState(t,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(t){this.columnModel.setColumnGroupState(t,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(t){return this.columnModel.getDisplayedColAfter(t)}getDisplayedColBefore(t){return this.columnModel.getDisplayedColBefore(t)}setColumnVisible(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")}setColumnsVisible(t,e){this.columnModel.setColumnsVisible(t,e,"api")}setColumnPinned(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")}setColumnsPinned(t,e){this.columnModel.setColumnsPinned(t,e,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")}moveColumnByIndex(t,e){this.columnModel.moveColumnByIndex(t,e,"api")}moveColumns(t,e){this.columnModel.moveColumns(t,e,"api")}moveRowGroupColumn(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")}setColumnAggFunc(t,e){this.columnModel.setColumnAggFunc(t,e,"api")}setColumnWidth(t,e,i=!0,r="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,r)}setColumnWidths(t,e=!0,i="api"){this.columnModel.setColumnWidths(t,!1,e,i)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)}setValueColumns(t){this.columnModel.setValueColumns(t,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")}removeValueColumns(t){this.columnModel.removeValueColumns(t,"api")}addValueColumn(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")}addValueColumns(t){this.columnModel.addValueColumns(t,"api")}setRowGroupColumns(t){this.columnModel.setRowGroupColumns(t,"api")}removeRowGroupColumn(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")}removeRowGroupColumns(t){this.columnModel.removeRowGroupColumns(t,"api")}addRowGroupColumn(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")}addRowGroupColumns(t){this.columnModel.addRowGroupColumns(t,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(t){this.columnModel.setPivotColumns(t,"api")}removePivotColumn(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")}removePivotColumns(t){this.columnModel.removePivotColumns(t,"api")}addPivotColumn(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")}addPivotColumns(t){this.columnModel.addPivotColumns(t,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})}autoSizeColumns(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})}autoSizeAllColumns(t){this.columnModel.autoSizeAllColumns("api",t)}setPivotResultColumns(t){this.columnModel.setSecondaryColumns(t,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(t){return this.gos.get(t)}setGridOption(t,e){this.updateGridOptions({[t]:e})}updateGridOptions(t){this.gos.updateGridOptions({options:t})}__internalUpdateGridOptions(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(t,e){ct(`set${t.charAt(0).toUpperCase()}${t.slice(1,t.length)} is deprecated. Please use 'api.setGridOption('${t}', newValue)' or 'api.updateGridOptions({ ${t}: newValue })' instead.`),this.setGridOption(t,e)}setPivotMode(t){this.deprecatedUpdateGridOption("pivotMode",t)}setPinnedTopRowData(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)}setPinnedBottomRowData(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)}setPopupParent(t){this.deprecatedUpdateGridOption("popupParent",t)}setSuppressModelUpdateAfterUpdateTransaction(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)}setDataTypeDefinitions(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)}setPagination(t){this.deprecatedUpdateGridOption("pagination",t)}paginationSetPageSize(t){this.deprecatedUpdateGridOption("paginationPageSize",t)}setSideBar(t){this.deprecatedUpdateGridOption("sideBar",t)}setSuppressClipboardPaste(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)}setGroupRemoveSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)}setGroupRemoveLowestSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)}setGroupDisplayType(t){this.deprecatedUpdateGridOption("groupDisplayType",t)}setGroupIncludeFooter(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)}setGroupIncludeTotalFooter(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)}setRowClass(t){this.deprecatedUpdateGridOption("rowClass",t)}setDeltaSort(t){this.deprecatedUpdateGridOption("deltaSort",t)}setSuppressRowDrag(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)}setSuppressMoveWhenRowDragging(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)}setSuppressRowClickSelection(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)}setEnableAdvancedFilter(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)}setIncludeHiddenColumnsInAdvancedFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)}setAdvancedFilterParent(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)}setAdvancedFilterBuilderParams(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)}setQuickFilter(t){ct("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})}setExcludeHiddenColumnsFromQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)}setIncludeHiddenColumnsInQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)}setQuickFilterParser(t){this.deprecatedUpdateGridOption("quickFilterParser",t)}setQuickFilterMatcher(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)}setAlwaysShowHorizontalScroll(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)}setAlwaysShowVerticalScroll(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)}setFunctionsReadOnly(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)}setColumnDefs(t,e="api"){ct("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})}setAutoGroupColumnDef(t,e="api"){ct("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})}setDefaultColDef(t,e="api"){ct("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})}setColumnTypes(t,e="api"){ct("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})}setTreeData(t){this.deprecatedUpdateGridOption("treeData",t)}setServerSideDatasource(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)}setCacheBlockSize(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)}setDatasource(t){this.deprecatedUpdateGridOption("datasource",t)}setViewportDatasource(t){this.deprecatedUpdateGridOption("viewportDatasource",t)}setRowData(t){this.deprecatedUpdateGridOption("rowData",t)}setEnableCellTextSelection(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)}setHeaderHeight(t){this.deprecatedUpdateGridOption("headerHeight",t)}setDomLayout(t){this.deprecatedUpdateGridOption("domLayout",t)}setFillHandleDirection(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)}setGroupHeaderHeight(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)}setFloatingFiltersHeight(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)}setPivotHeaderHeight(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)}setPivotGroupHeaderHeight(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)}setAnimateRows(t){this.deprecatedUpdateGridOption("animateRows",t)}setIsExternalFilterPresent(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)}setDoesExternalFilterPass(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)}setNavigateToNextCell(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)}setTabToNextCell(t){this.deprecatedUpdateGridOption("tabToNextCell",t)}setTabToNextHeader(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)}setNavigateToNextHeader(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)}setRowGroupPanelShow(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)}setGetGroupRowAgg(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)}setGetBusinessKeyForNode(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)}setGetChildCount(t){this.deprecatedUpdateGridOption("getChildCount",t)}setProcessRowPostCreate(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)}setGetRowId(t){ct("getRowId is a static property and can no longer be updated.")}setGetRowClass(t){this.deprecatedUpdateGridOption("getRowClass",t)}setIsFullWidthRow(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)}setIsRowSelectable(t){this.deprecatedUpdateGridOption("isRowSelectable",t)}setIsRowMaster(t){this.deprecatedUpdateGridOption("isRowMaster",t)}setPostSortRows(t){this.deprecatedUpdateGridOption("postSortRows",t)}setGetDocument(t){this.deprecatedUpdateGridOption("getDocument",t)}setGetContextMenuItems(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)}setGetMainMenuItems(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)}setProcessCellForClipboard(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)}setSendToClipboard(t){this.deprecatedUpdateGridOption("sendToClipboard",t)}setProcessCellFromClipboard(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)}setProcessPivotResultColDef(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)}setProcessPivotResultColGroupDef(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)}setPostProcessPopup(t){this.deprecatedUpdateGridOption("postProcessPopup",t)}setInitialGroupOrderComparator(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)}setGetChartToolbarItems(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)}setPaginationNumberFormatter(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)}setGetServerSideGroupLevelParams(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)}setIsServerSideGroupOpenByDefault(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)}setIsApplyServerSideTransaction(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)}setIsServerSideGroup(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)}setGetServerSideGroupKey(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)}setGetRowStyle(t){this.deprecatedUpdateGridOption("getRowStyle",t)}setGetRowHeight(t){this.deprecatedUpdateGridOption("getRowHeight",t)}};x([jt("csvCreator")],It.prototype,"csvCreator",2);x([jt("excelCreator")],It.prototype,"excelCreator",2);x([V("rowRenderer")],It.prototype,"rowRenderer",2);x([V("navigationService")],It.prototype,"navigationService",2);x([V("filterManager")],It.prototype,"filterManager",2);x([V("columnModel")],It.prototype,"columnModel",2);x([V("selectionService")],It.prototype,"selectionService",2);x([V("gridOptionsService")],It.prototype,"gos",2);x([V("valueService")],It.prototype,"valueService",2);x([V("alignedGridsService")],It.prototype,"alignedGridsService",2);x([V("eventService")],It.prototype,"eventService",2);x([V("pinnedRowModel")],It.prototype,"pinnedRowModel",2);x([V("context")],It.prototype,"context",2);x([V("rowModel")],It.prototype,"rowModel",2);x([V("sortController")],It.prototype,"sortController",2);x([V("paginationProxy")],It.prototype,"paginationProxy",2);x([V("focusService")],It.prototype,"focusService",2);x([V("dragAndDropService")],It.prototype,"dragAndDropService",2);x([jt("rangeService")],It.prototype,"rangeService",2);x([jt("clipboardService")],It.prototype,"clipboardService",2);x([jt("aggFuncService")],It.prototype,"aggFuncService",2);x([V("menuService")],It.prototype,"menuService",2);x([V("valueCache")],It.prototype,"valueCache",2);x([V("animationFrameService")],It.prototype,"animationFrameService",2);x([jt("statusBarService")],It.prototype,"statusBarService",2);x([jt("chartService")],It.prototype,"chartService",2);x([jt("undoRedoService")],It.prototype,"undoRedoService",2);x([jt("rowNodeBlockLoader")],It.prototype,"rowNodeBlockLoader",2);x([jt("ssrmTransactionManager")],It.prototype,"serverSideTransactionManager",2);x([V("ctrlsService")],It.prototype,"ctrlsService",2);x([V("overlayService")],It.prototype,"overlayService",2);x([jt("sideBarService")],It.prototype,"sideBarService",2);x([V("stateService")],It.prototype,"stateService",2);x([V("expansionService")],It.prototype,"expansionService",2);x([V("apiEventService")],It.prototype,"apiEventService",2);x([V("frameworkOverrides")],It.prototype,"frameworkOverrides",2);x([Me],It.prototype,"init",1);It=x([We("gridApi")],It);var Xs=class extends Pe{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(t){const e=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(e,t):this.quickFilterParts.every(i=>e?this.doesRowPassQuickFilterCache(t,i):this.doesRowPassQuickFilterNoCache(t,i))}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:t,parser:e}=this;t?this.quickFilterParts=e?e(t):t.split(" "):this.quickFilterParts=null}parseQuickFilter(t){return Te(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(t!=null&&typeof t!="string"){console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof t}`);return}const e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchEvent({type:Xs.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const t=this.gridOptionsService.get("quickFilterParser"),e=this.gridOptionsService.get("quickFilterMatcher"),i=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:Xs.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:Xs.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(t,e){return this.columnModel.getAllColumnsForQuickFilter().some(r=>{const n=this.getQuickFilterTextForColumn(r,t);return Te(n)&&n.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let i;t?(this.checkGenerateQuickFilterAggregateText(e),i=e.quickFilterAggregateText):i=this.getQuickFilterAggregateText(e);const{quickFilterParts:r,matcher:n}=this;return n(r,i)}checkGenerateQuickFilterAggregateText(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))}getQuickFilterTextForColumn(t,e){let i=this.valueService.getValue(t,e,!0);const r=t.getColDef();if(r.getQuickFilterText){const n=this.gridOptionsService.addGridCommonParams({value:i,node:e,data:e.data,column:t,colDef:r});i=r.getQuickFilterText(n)}return Te(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(t){const e=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(r=>{const n=this.getQuickFilterTextForColumn(r,t);Te(n)&&e.push(n)}),e.join(Xs.QUICK_FILTER_SEPARATOR)}};Xs.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";Xs.QUICK_FILTER_SEPARATOR=`
`;x([V("valueService")],Xs.prototype,"valueService",2);x([V("columnModel")],Xs.prototype,"columnModel",2);x([V("rowModel")],Xs.prototype,"rowModel",2);x([Me],Xs.prototype,"postConstruct",1);Xs=x([We("quickFilterService")],Xs);var Ga=class extends Pe{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var t,e,i;this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,F.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",r=>this.setAdvancedFilterModel(r.currentValue)),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:r})=>this.onAdvancedFilterEnabledChanged(r)),this.addManagedListener(this.eventService,F.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Xs.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=it({},(i=(e=(t=this.gridOptionsService.get("initialState"))==null?void 0:t.filter)==null?void 0:e.filterModel)!=null?i:{})}isExternalFilterPresentCallback(){const t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1}doesExternalFilterPass(t){const e=this.gridOptionsService.get("doesExternalFilterPass");return typeof e=="function"?e(t):!1}setFilterModel(t,e="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:e});return}const i=[],r=this.getFilterModel();if(t){const n=P$(Object.keys(t));this.allColumnFilters.forEach((s,o)=>{const a=t[o];i.push(this.setModelOnFilterWrapper(s.filterPromise,a)),n.delete(o)}),n.forEach(s=>{const o=this.columnModel.getPrimaryColumn(s)||this.columnModel.getGridColumn(s);if(!o){console.warn("AG Grid: setFilterModel() - no column found for colId: "+s);return}if(!o.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);return}const a=this.getOrCreateFilterWrapper(o,"NO_UI");if(!a){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s);return}i.push(this.setModelOnFilterWrapper(a.filterPromise,t[s]))})}else this.allColumnFilters.forEach(n=>{i.push(this.setModelOnFilterWrapper(n.filterPromise,null))});Tr.all(i).then(()=>{const n=this.getFilterModel(),s=[];this.allColumnFilters.forEach((o,a)=>{const l=r?r[a]:null,u=n?n[a]:null;ft.jsonEquals(l,u)||s.push(o.column)}),s.length>0&&this.onFilterChanged({columns:s,source:e})})}setModelOnFilterWrapper(t,e){return new Tr(i=>{t.then(r=>{typeof r.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(r.setModel(e)||Tr.resolve()).then(()=>i())})})}getFilterModel(){const t={};return this.allColumnFilters.forEach((e,i)=>{const r=this.getModelFromFilterWrapper(e);Te(r)&&(t[i]=r)}),t}getModelFromFilterWrapper(t){var e;const r=t.filterPromise.resolveNow(null,n=>n);return r==null?(e=this.initialFilterModel[t.column.getColId()])!=null?e:null:typeof r.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):r.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){var e;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(i=>this.disposeFilterWrapper(i,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(e=this.advancedFilterService)!=null&&e.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var t;return!!((t=this.advancedFilterService)!=null&&t.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const t=r=>r?r.isFilterActive?r.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,e=!!this.gridOptionsService.getGroupAggFiltering(),i=r=>{if(!r.isPrimary())return!0;const s=!this.columnModel.isPivotActive();return!r.isValueActive()||!s?!1:this.columnModel.isPivotMode()?!0:e};this.allColumnFilters.forEach(r=>{if(r.filterPromise.resolveNow(!1,t)){const n=r.filterPromise.resolveNow(null,s=>s);i(r.column)?this.activeAggregateFilters.push(n):this.activeColumnFilters.push(n)}})}updateFilterFlagInColumns(t,e){this.allColumnFilters.forEach(i=>{const r=i.filterPromise.resolveNow(!1,n=>n.isFilterActive());i.column.setFilterActive(r,t,e)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(t,e,i){const{data:r,aggData:n}=t,s=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?n:r;for(let a=0;a<s.length;a++){const l=s[a];if(!(l==null||l===e)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:o}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(t){const e=()=>this.onFilterChanged(t);this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}onFilterChanged(t={}){const{source:e,filterInstance:i,additionalEventAttributes:r,columns:n}=t;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",r),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(a=>{a&&a!==i&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const s={source:e,type:F.EVENT_FILTER_CHANGED,columns:n||[]};r&&No(s,r),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var t;return!((t=this.gridOptionsService.get("allowShowChangeAfterFilter"))!=null?t:!1)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))}onNewRowsLoaded(t){this.allColumnFilters.forEach(e=>{e.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}createGetValue(t){return(e,i)=>{const r=i?this.columnModel.getGridColumn(i):t;return r?this.valueService.getValue(r,e,!0):void 0}}getFilterComponent(t,e,i=!0){var r;if(i)return((r=this.getOrCreateFilterWrapper(t,e))==null?void 0:r.filterPromise)||null;const n=this.cachedFilter(t);return n?n.filterPromise:null}isFilterActive(t){const e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(t,e){if(!t.isFilterAllowed())return null;let i=this.cachedFilter(t);return i?e!=="NO_UI"&&this.putIntoGui(i,e):(i=this.createFilterWrapper(t,e),this.setColumnFilterWrapper(t,i)),i}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){let e;if(Jt.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFilter";else{const i=this.dataTypeService.getBaseDataType(t);i==="number"?e="agNumberColumnFilter":i==="date"||i==="dateString"?e="agDateColumnFilter":e="agTextColumnFilter"}return e}getDefaultFloatingFilter(t){let e;if(Jt.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFloatingFilter";else{const i=this.dataTypeService.getBaseDataType(t);i==="number"?e="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?e="agDateColumnFloatingFilter":e="agTextColumnFloatingFilter"}return e}createFilterInstance(t){const e=this.getDefaultFilter(t),i=t.getColDef();let r;const n=Ui(it({},this.createFilterParams(t,i)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,t)(),filterChangedCallback:o=>this.filterChangedCallbackFactory(r,t)(o),doesRowPassOtherFilter:o=>this.doesRowPassOtherFilters(r,o)}),s=this.userComponentFactory.getFilterDetails(i,n,e);return s?{filterPromise:()=>{const o=s.newAgStackInstance();return o&&o.then(a=>r=a),o},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return this.gridOptionsService.addGridCommonParams({column:t,colDef:ZH(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(t,e){var i;const r={column:t,filterPromise:null,compiledElement:null,guiPromise:Tr.resolve(null),compDetails:null},{filterPromise:n,compDetails:s}=this.createFilterInstance(t);return r.filterPromise=(i=n==null?void 0:n())!=null?i:null,r.compDetails=s,n&&this.putIntoGui(r,e),r}putIntoGui(t,e){const i=document.createElement("div");i.className="ag-filter",t.guiPromise=new Tr(r=>{t.filterPromise.then(n=>{let s=n.getGui();Te(s)||console.warn(`AG Grid: getGui method from filter returned ${s}, it should be a DOM element or an HTML template string.`),typeof s=="string"&&(s=qs(s)),i.appendChild(s),r(i);const o={type:F.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:i};this.eventService.dispatchEvent(o)})})}onColumnsChanged(){const t=[];this.allColumnFilters.forEach((e,i)=>{let r;e.column.isPrimary()?r=this.columnModel.getPrimaryColumn(i):r=this.columnModel.getGridColumn(i),!r&&(t.push(e.column),this.disposeFilterWrapper(e,"columnChanged"),this.disposeColumnListener(i))}),t.length>0?this.onFilterChanged({columns:t,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const t=this.columnModel.getGroupAutoColumns();t==null||t.forEach(e=>{e.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(e,"NO_UI")})}isFilterAllowed(t){var e,i;if(this.isAdvancedFilterEnabled()||!t.isFilterAllowed())return!1;const n=this.allColumnFilters.get(t.getColId());return(i=(e=n==null?void 0:n.filterPromise)==null?void 0:e.resolveNow(!0,s=>typeof(s==null?void 0:s.isFilterAllowed)=="function"?s==null?void 0:s.isFilterAllowed():!0))!=null?i:!0}getFloatingFilterCompDetails(t,e){const i=l=>{const u=this.getFilterComponent(t,"NO_UI");u!=null&&u.then(c=>{l(op(c))})},r=t.getColDef(),n=Ui(it({},this.createFilterParams(t,r)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,t)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,C1,n);let o=this.userComponentFactory.getDefaultFloatingFilterType(r,()=>this.getDefaultFloatingFilter(t));o==null&&(o="agReadOnlyFloatingFilter");const a={column:t,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:i,showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(r,a,o)}getCurrentFloatingFilterParentModel(t){const e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(t,e="api"){const i=t.getColId(),r=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],r&&(this.disposeFilterWrapper(r,e),this.onFilterChanged({columns:[t],source:"api"}))}disposeColumnListener(t){const e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(i=>{this.getContext().destroyBean(i),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId());const r={type:F.EVENT_FILTER_DESTROYED,source:e,column:t.column};this.eventService.dispatchEvent(r)})}filterModifiedCallbackFactory(t,e){return()=>{const i={type:F.EVENT_FILTER_MODIFIED,column:e,filterInstance:t};this.eventService.dispatchEvent(i)}}filterChangedCallbackFactory(t,e){return i=>{var r;const n=(r=i==null?void 0:i.source)!=null?r:"api",s={filter:t,additionalEventAttributes:i,columns:[e],source:n};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e)return;const i=e.column,{compDetails:r}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,r)){this.destroyFilter(i,"paramsUpdated");return}const n=i.getColDef().filterParams;if(!e.filterPromise){this.destroyFilter(i,"paramsUpdated");return}e.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh(it(Ui(it({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,i),filterChangedCallback:this.filterChangedCallbackFactory(s,i),doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(s,a)}),n)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(t,e){const i=t.getColId();this.allColumnFilters.set(i,e),this.allColumnListeners.set(i,this.addManagedListener(t,Ci.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(i)))}areFilterCompsDifferent(t,e){if(!e||!t)return!0;const{componentClass:i}=t,{componentClass:r}=e;return!(i===r||(i==null?void 0:i.render)&&(r==null?void 0:r.render)&&i.render===r.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:this.columnModel.getAllGridColumns().some(e=>e.getColDef().floatingFilter)}getFilterInstance(t,e){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const i=this.getFilterInstanceImpl(t,n=>{if(!e)return;const s=op(n);e(s)});return op(i)}getColumnFilterInstance(t){return new Promise(e=>{this.getFilterInstance(t,i=>{e(i)})})}getFilterInstanceImpl(t,e){const i=this.columnModel.getPrimaryColumn(t);if(!i)return;const r=this.getFilterComponent(i,"NO_UI"),n=r&&r.resolveNow(null,s=>s);return n?setTimeout(e,0,n):r&&r.then(s=>{e(s)}),n}warnAdvancedFilters(){ct("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){var e;(e=this.advancedFilterService)==null||e.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:t,source:e})=>this.setFilterModel(t,e)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:t,model:e,resolve:i})=>{this.setColumnFilterModel(t,e).then(()=>i())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(t=>this.setAdvancedFilterModel(t)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){const e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let s=()=>{};const o=new Promise(a=>{s=a});return this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:s}),o}const i=this.columnModel.getPrimaryColumn(t),r=i?this.getOrCreateFilterWrapper(i,"NO_UI"):null;return r?(s=>new Promise(o=>{s.then(a=>o(a))}))(this.setModelOnFilterWrapper(r.filterPromise,e)):Promise.resolve()}getFilterWrapper(t){var e;const i=this.columnModel.getPrimaryColumn(t);return i&&(e=this.cachedFilter(i))!=null?e:null}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};x([V("valueService")],Ga.prototype,"valueService",2);x([V("columnModel")],Ga.prototype,"columnModel",2);x([V("rowModel")],Ga.prototype,"rowModel",2);x([V("userComponentFactory")],Ga.prototype,"userComponentFactory",2);x([V("rowRenderer")],Ga.prototype,"rowRenderer",2);x([V("dataTypeService")],Ga.prototype,"dataTypeService",2);x([V("quickFilterService")],Ga.prototype,"quickFilterService",2);x([jt("advancedFilterService")],Ga.prototype,"advancedFilterService",2);x([Me],Ga.prototype,"init",1);Ga=x([We("filterManager")],Ga);var k$=class extends Et{constructor(t,e){super(t),this.ctrl=e}getCtrl(){return this.ctrl}},Wf=class xie extends k${constructor(e){super(xie.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i={addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),addOrRemoveBodyCssClass:(r,n)=>this.eFloatingFilterBody.classList.toggle(r,n),setButtonWrapperDisplayed:r=>Vt(this.eButtonWrapper,r),setCompDetails:r=>this.setCompDetails(r),getFloatingFilterComp:()=>this.compPromise,setWidth:r=>e.style.width=r,setMenuIcon:r=>this.eButtonShowMainFilter.appendChild(r)};this.ctrl.setComp(i,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};Wf.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;x([ke("eFloatingFilterBody")],Wf.prototype,"eFloatingFilterBody",2);x([ke("eButtonWrapper")],Wf.prototype,"eButtonWrapper",2);x([ke("eButtonShowMainFilter")],Wf.prototype,"eButtonShowMainFilter",2);x([Me],Wf.prototype,"postConstruct",1);x([xs],Wf.prototype,"destroyFloatingFilterComp",1);var UMe=Wf,AO=class extends Pe{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout(),e={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},i=e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,e)}getDomLayout(){var t;const e=(t=this.gridOptionsService.get("domLayout"))!=null?t:"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ct(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}};x([Me],AO.prototype,"postConstruct",1);var jc=class extends Pe{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=vs(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=vs(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gridOptionsService.get("debounceVerticalScrollbar"),r=i?vs(this.onVScroll.bind(this),100):this.onVScroll.bind(this),n=i?vs(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",r),e.onScrollCallback(n)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){if(this.centerRowContainerCtrl==null)return;t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?t:-t,r=this.ctrlsService.getTopCenterRowContainerCtrl(),n=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),o=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),s.setContainerTranslateX(i),r.setContainerTranslateX(i),n.setContainerTranslateX(i);const l=this.centerRowContainerCtrl.getViewportElement(),u=this.lastScrollSource[1]===0;t=Math.abs(t),u?o.setScrollPosition(t):mw(l,t,this.enableRtl)}isControllingScroll(t,e){return this.lastScrollSource[e]==null?(this.lastScrollSource[e]=t,!0):this.lastScrollSource[e]===t}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(t){const e=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:i}=e;if(this.shouldBlockScrollUpdate(1,i,!0))return;let r;t===0?r=gw(e,this.enableRtl):r=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(r)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(t){let e;t===0?e=this.eBodyViewport.scrollTop:e=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t===0?this.ctrlsService.getFakeVScrollComp().setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){const e=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(t){const e={type:F.EVENT_BODY_SCROLL,direction:t===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=Ui(it({},e),{type:F.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(t,e,i=!1){return i&&!Wc()?!1:t===0?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e)}shouldBlockVerticalScroll(t){const e=Eb(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return t<0||t+e>i}shouldBlockHorizontalScroll(t){const e=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&fw()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){const r=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(1,t)&&(this.enableRtl&&fw()?t=t>0?0:r:t=Math.min(Math.max(t,0),r)),mw(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const i=this.rowModel.getRowCount();let r=-1;for(let n=0;n<i;n++){const s=this.rowModel.getRow(n);if(typeof t=="function"){if(s&&t(s)){r=n;break}}else if(t===s||t===s.data){r=n;break}}r>=0&&this.ensureIndexVisible(r,e)}ensureIndexVisible(t,e){if(this.gridOptionsService.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=i){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}const n=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{n||this.paginationProxy.goToPageWithIndex(t);const o=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),a=this.paginationProxy.getRow(t);let l;do{const u=a.rowTop,c=a.rowHeight,d=this.paginationProxy.getPixelOffset(),h=a.rowTop-d,f=h+a.rowHeight,g=this.getVScrollPosition(),v=this.heightScaler.getDivStretchOffset(),C=g.top+v,S=g.bottom+v,y=S-C,w=this.heightScaler.getScrollPositionForPixel(h),E=this.heightScaler.getScrollPositionForPixel(f-y),b=Math.min((w+E)/2,h),D=C+o>h,P=S<f;let O=null;e==="top"?O=w:e==="bottom"?O=E:e==="middle"?O=b:D?O=w-o:P&&(O=E),O!==null&&(this.setVerticalScrollPosition(O),this.rowRenderer.redraw({afterScroll:!0})),l=u!==a.rowTop||c!==a.rowHeight}while(l);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(t,e="auto"){const i=this.columnModel.getGridColumn(t);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const r=this.getPositionedHorizontalScroll(i,e);this.getFrameworkOverrides().wrapIncoming(()=>{r!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(r),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:i,columnAfterEnd:r}=this.isColumnOutsideViewport(t),n=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:r)||n,l=o?r:i;e!=="auto"&&(a=e==="start",l=e==="end");const u=e==="middle";if(a||l||u){const{colLeft:c,colMiddle:d,colRight:h}=this.getColumnBounds(t);return u?d-s/2:a?o?h:c:o?c-s:h-s}return null}isColumnOutsideViewport(t){const{start:e,end:i}=this.getViewportBounds(),{colLeft:r,colRight:n}=this.getColumnBounds(t),s=this.enableRtl,o=s?e>n:i<n,a=s?i<r:e>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(t){const e=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),r=t.getActualWidth(),n=t.getLeft(),s=e?-1:1,o=e?i-n:n,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=e,r=t+e;return{start:i,end:r,width:t}}};x([V("ctrlsService")],jc.prototype,"ctrlsService",2);x([V("animationFrameService")],jc.prototype,"animationFrameService",2);x([V("paginationProxy")],jc.prototype,"paginationProxy",2);x([V("rowModel")],jc.prototype,"rowModel",2);x([V("rowContainerHeightService")],jc.prototype,"heightScaler",2);x([V("rowRenderer")],jc.prototype,"rowRenderer",2);x([V("columnModel")],jc.prototype,"columnModel",2);x([Me],jc.prototype,"postConstruct",1);var Aie="ag-force-vertical-scroll",zMe="ag-selectable",jMe="ag-column-moving",os=class extends Pe{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,i,r,n,s){this.comp=t,this.eGridBody=e,this.eBodyViewport=i,this.eTop=r,this.eBottom=n,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",o=>this.setCellTextSelection(o.currentValue)),this.createManagedBean(new AO(this.comp)),this.bodyScrollFeature=this.createManagedBean(new jc(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,i,n,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(r),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(t){t.forEach(e=>{this.addManagedListener(e,"focusin",i=>{const{target:r}=i,n=Rp(r,"ag-root",e);e.classList.toggle("ag-has-focus",!n)}),this.addManagedListener(e,"focusout",i=>{const{target:r,relatedTarget:n}=i,s=e.contains(n),o=Rp(n,"ag-root",e);Rp(r,"ag-root",e)||(!s||o)&&e.classList.remove("ag-has-focus")})})}setColumnMovingCss(t){this.comp.setColumnMovingCss(jMe,t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss(zMe,t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);const e=t&&this.gridOptionsService.getScrollbarWidth()||0,i=f$()?16:0,r=`calc(100% + ${e+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(r))}onGridColumnsChanged(){const t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const t=i=>{const r=i.relatedTarget;if(lx(r)===null){this.rowRenderer.stopEditing();return}let n=e.some(s=>s.contains(r))&&this.mouseEventService.isElementInThisGrid(r);if(!n){const s=this.popupService;n=s.getActivePopups().some(o=>o.contains(r))||s.isElementWithinCustomPopup(r)}n||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];e.forEach(i=>this.addManagedListener(i,"focusout",t))}updateRowCount(){const t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=e===-1?-1:t+e;this.comp.setRowCount(i)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){const e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)}isVerticalScrollShowing(){const t=this.gridOptionsService.get("alwaysShowVerticalScroll"),e=t?Aie:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||i&&Dte(this.eBodyViewport)}setupRowAnimationCssClass(){const t=()=>{const e=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),i=e?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,e)};t(),this.addManagedListener(this.eventService,F.EVENT_HEIGHT_SCALE_CHANGED,t),this.addManagedPropertyListener("animateRows",t)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const t=this.eBodyViewport.querySelector(".ag-full-width-container"),e=this.eBodyViewport.querySelector(".ag-center-cols-viewport");t&&e&&this.addManagedListener(t,"wheel",i=>this.onFullWidthContainerWheel(i,e))}onFullWidthContainerWheel(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))}onBodyViewportContextMenu(t,e,i){if(!t&&!i)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(t||i).preventDefault();const{target:r}=t||e;(r===this.eBodyViewport||r===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(t){if(!Wc())return;const e=new vn(this.eBodyViewport),i=r=>{t(void 0,r.touchStart,r.touchEvent)};this.addManagedListener(e,vn.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()}onStickyTopWheel(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Qo(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:t}=this;let e=t.getPinnedTopTotalHeight(),i=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e),this.comp.setBottomHeight(i),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(t){if(!t)this.comp.setStickyTopWidth("100%");else{const e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let r=0;e>0&&(r+=e+1),i>0&&(r+=i+1),this.comp.setStickyTopTop(`${r}px`)}sizeColumnsToFit(t,e){const r=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,s=Gf(this.eGridBody)-r;if(s>0){this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,t);return}e===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):e===100?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):e===500?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}};x([V("animationFrameService")],os.prototype,"animationFrameService",2);x([V("rowContainerHeightService")],os.prototype,"rowContainerHeightService",2);x([V("ctrlsService")],os.prototype,"ctrlsService",2);x([V("columnModel")],os.prototype,"columnModel",2);x([V("scrollVisibleService")],os.prototype,"scrollVisibleService",2);x([V("menuService")],os.prototype,"menuService",2);x([V("headerNavigationService")],os.prototype,"headerNavigationService",2);x([V("dragAndDropService")],os.prototype,"dragAndDropService",2);x([V("pinnedRowModel")],os.prototype,"pinnedRowModel",2);x([V("rowRenderer")],os.prototype,"rowRenderer",2);x([V("popupService")],os.prototype,"popupService",2);x([V("mouseEventService")],os.prototype,"mouseEventService",2);x([V("rowModel")],os.prototype,"rowModel",2);x([V("filterManager")],os.prototype,"filterManager",2);var ry="ag-cell-range-selected",KMe="ag-cell-range-chart",YMe="ag-cell-range-single-cell",qMe="ag-cell-range-chart-category",XMe="ag-cell-range-handle",QMe="ag-cell-range-top",ZMe="ag-cell-range-right",JMe="ag-cell-range-bottom",eFe="ag-cell-range-left",tFe=class{constructor(t,e){this.beans=t,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ry,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${ry}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${ry}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${ry}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${ry}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(KMe,this.hasChartRange),qm(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(YMe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.top,r=!e&&t.right,n=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass(QMe,i),this.cellComp.addOrRemoveCssClass(ZMe,r),this.cellComp.addOrRemoveCssClass(JMe,n),this.cellComp.addOrRemoveCssClass(eFe,s)}isSingleCell(){const{rangeService:t}=this.beans;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;const e=t.getCellRanges();return e.length>0&&e.every(i=>Vo([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const t=this.beans.gridOptionsService.get("enableRtl");let e=!1,i=!1,r=!1,n=!1;const s=this.cellCtrl.getCellPosition().column,{rangeService:o,columnModel:a}=this.beans;let l,u;t?(l=a.getDisplayedColAfter(s),u=a.getDisplayedColBefore(s)):(l=a.getDisplayedColBefore(s),u=a.getDisplayedColAfter(s));const c=o.getCellRanges().filter(d=>o.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));l||(n=!0),u||(i=!0);for(let d=0;d<c.length&&!(e&&i&&r&&n);d++){const h=c[d],f=o.getRangeStartRow(h),g=o.getRangeEndRow(h);!e&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(e=!0),!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!n&&l&&h.columns.indexOf(l)<0&&(n=!0),!i&&u&&h.columns.indexOf(u)<0&&(i=!0)}return{top:e,right:i,bottom:r,left:n}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(XMe,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,i=e.getCellRanges(),r=i.length;if(this.rangeCount<1||r<1)return!1;const n=Xt(i),s=this.cellCtrl.getCellPosition(),o=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),a=t.get("enableRangeHandle");let l=r===1&&!this.cellCtrl.isEditing()&&(o||a);if(this.hasChartRange){const c=i[0].type===1&&e.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(qMe,c),l=n.type===0}return l&&n.endRow!=null&&e.isContiguousRange(n)&&e.isBottomRightCell(n,s)}addSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,i=Xt(e.getCellRanges()).type,n=t.get("enableFillHandle")&&ht(i)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},iFe=class extends Pe{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(t){this.eGui=t,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const t=this.getColSpanningList();uu(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const t=this.column.getColSpan(this.rowNode),e=[];if(t===1)e.push(this.column);else{let i=this.column;const r=this.column.getPinned();for(let n=0;i&&n<t&&(e.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||ht(i)||r!==i.getPinned()));n++);}return e}onLeftChanged(){if(!this.eGui)return;const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?t=Xt(this.colsSpanning):t=this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;const e=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.columnModel.getBodyContainerWidth();return e+i+(t||0)}return e+(t||0)}applyRowSpan(t){if(this.rowSpan===1&&!t)return;const i=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},rFe=class extends Pe{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef(),{cellClassRules:e}=t,i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,i,r=>this.cellComp.addOrRemoveCssClass(r,!0),r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.cellClassRules=e}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle)return;let e;if(typeof t.cellStyle=="function"){const i=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),r=t.cellStyle;e=r(i)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){const t=this.column.getColDef(),e=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},Ct=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};x([V("resizeObserverService")],Ct.prototype,"resizeObserverService",2);x([V("paginationProxy")],Ct.prototype,"paginationProxy",2);x([V("context")],Ct.prototype,"context",2);x([V("columnApi")],Ct.prototype,"columnApi",2);x([V("gridApi")],Ct.prototype,"gridApi",2);x([V("gridOptionsService")],Ct.prototype,"gridOptionsService",2);x([V("expressionService")],Ct.prototype,"expressionService",2);x([V("environment")],Ct.prototype,"environment",2);x([V("rowRenderer")],Ct.prototype,"rowRenderer",2);x([V("templateService")],Ct.prototype,"templateService",2);x([V("valueService")],Ct.prototype,"valueService",2);x([V("eventService")],Ct.prototype,"eventService",2);x([V("columnModel")],Ct.prototype,"columnModel",2);x([V("headerNavigationService")],Ct.prototype,"headerNavigationService",2);x([V("navigationService")],Ct.prototype,"navigationService",2);x([V("columnAnimationService")],Ct.prototype,"columnAnimationService",2);x([jt("rangeService")],Ct.prototype,"rangeService",2);x([V("focusService")],Ct.prototype,"focusService",2);x([V("popupService")],Ct.prototype,"popupService",2);x([V("valueFormatterService")],Ct.prototype,"valueFormatterService",2);x([V("stylingService")],Ct.prototype,"stylingService",2);x([V("columnHoverService")],Ct.prototype,"columnHoverService",2);x([V("userComponentFactory")],Ct.prototype,"userComponentFactory",2);x([V("userComponentRegistry")],Ct.prototype,"userComponentRegistry",2);x([V("animationFrameService")],Ct.prototype,"animationFrameService",2);x([V("dragService")],Ct.prototype,"dragService",2);x([V("dragAndDropService")],Ct.prototype,"dragAndDropService",2);x([V("sortController")],Ct.prototype,"sortController",2);x([V("filterManager")],Ct.prototype,"filterManager",2);x([V("rowContainerHeightService")],Ct.prototype,"rowContainerHeightService",2);x([V("frameworkOverrides")],Ct.prototype,"frameworkOverrides",2);x([V("cellPositionUtils")],Ct.prototype,"cellPositionUtils",2);x([V("rowPositionUtils")],Ct.prototype,"rowPositionUtils",2);x([V("selectionService")],Ct.prototype,"selectionService",2);x([jt("selectionHandleFactory")],Ct.prototype,"selectionHandleFactory",2);x([V("rowCssClassCalculator")],Ct.prototype,"rowCssClassCalculator",2);x([V("rowModel")],Ct.prototype,"rowModel",2);x([V("ctrlsService")],Ct.prototype,"ctrlsService",2);x([V("ctrlsFactory")],Ct.prototype,"ctrlsFactory",2);x([V("agStackComponentsRegistry")],Ct.prototype,"agStackComponentsRegistry",2);x([V("valueCache")],Ct.prototype,"valueCache",2);x([V("rowNodeEventThrottle")],Ct.prototype,"rowNodeEventThrottle",2);x([V("localeService")],Ct.prototype,"localeService",2);x([V("valueParserService")],Ct.prototype,"valueParserService",2);x([V("syncService")],Ct.prototype,"syncService",2);x([V("ariaAnnouncementService")],Ct.prototype,"ariaAnnouncementService",2);x([Me],Ct.prototype,"postConstruct",1);Ct=x([We("beans")],Ct);var nFe=class extends Ct{constructor(t,e,i){super(),this.cellCtrl=t,this.beans=e,this.column=i}onMouseEvent(t,e){if(!Tl(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e);break}}onCellClicked(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}const{eventService:e,rangeService:i,gridOptionsService:r}=this.beans,n=t.ctrlKey||t.metaKey;i&&n&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const s=this.cellCtrl.createEvent(t,F.EVENT_CELL_CLICKED);e.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(r.get("singleClickEdit")||o.singleClickEdit)&&!r.get("suppressClickEdit")&&!(t.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Wc()||i$("dblclick"))return!1;const t=new Date().getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){const e=this.column.getColDef(),i=this.cellCtrl.createEvent(t,F.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof e.onCellDoubleClicked=="function"&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{e.onCellDoubleClicked(i)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,t)}onMouseDown(t){const{ctrlKey:e,metaKey:i,shiftKey:r}=t,n=t.target,{cellCtrl:s,beans:o}=this,{eventService:a,rangeService:l,focusService:u}=o;if(this.isRightClickInExistingRange(t))return;const c=l&&l.getCellRanges().length!=0;if(!r||!c){const d=xu()&&!s.isEditing()&&!v$(n);s.focusCell(d)}if(r&&c&&!u.isCellFocused(s.getCellPosition())){t.preventDefault();const d=u.getFocusedCell();if(d){const{column:h,rowIndex:f,rowPinned:g}=d,v=o.rowRenderer.getRowByPosition({rowIndex:f,rowPinned:g}),C=v==null?void 0:v.getCellCtrl(h);C!=null&&C.isEditing()&&C.stopEditing(),u.setFocusedCell({column:h,rowIndex:f,rowPinned:g,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(n)){if(l){const d=this.cellCtrl.getCellPosition();if(r)l.extendLatestRangeToCell(d);else{const h=e||i;l.setRangeToCell(d,h)}}a.dispatchEvent(this.cellCtrl.createEvent(t,F.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;if(e){const i=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),r=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&r)return!0}return!1}containsWidget(t){return Rp(t,"ag-selection-checkbox",3)}onMouseOut(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,F.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}onMouseOver(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,F.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;const e=this.cellCtrl.getGui(),i=e.contains(t.target),r=e.contains(t.relatedTarget);return i&&r}destroy(){}},sFe=class extends Pe{constructor(t,e,i,r,n){super(),this.cellCtrl=t,this.beans=e,this.rowNode=r,this.rowCtrl=n}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case de.ENTER:this.onEnterKeyDown(t);break;case de.F2:this.onF2KeyDown(t);break;case de.ESCAPE:this.onEscapeKeyDown(t);break;case de.TAB:this.onTabKeyDown(t);break;case de.BACKSPACE:case de.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case de.DOWN:case de.UP:case de.RIGHT:case de.LEFT:this.onNavigationKeyDown(t,e);break}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;const e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:i,beans:r,rowNode:n}=this,{gridOptionsService:s,rangeService:o,eventService:a}=r;i.isEditing()||(a.dispatchEvent({type:F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Nte(t,s.get("enableCellEditingOnBackspace"))?o&&s.get("enableRangeSelection")?o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&n.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(t,e),a.dispatchEvent({type:F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){const e=t.shiftKey?de.UP:de.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(de.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(de.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;const r=t.key;r===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(r,t),t.preventDefault())}onSpaceKeyDown(t){const{gridOptionsService:e}=this.beans;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){const i=this.rowNode.isSelected(),r=!i;if(r||!e.get("suppressRowDeselection")){const n=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:r,rangeSelect:t.shiftKey,groupSelectsFiltered:n,event:t,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:n,event:t,source:"spaceKey"})}}t.preventDefault()}destroy(){super.destroy()}},Oie=class extends Et{constructor(t,e,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=i}postConstruct(){this.getGui().appendChild(ir("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const r=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",r),t.dataTransfer.setData("text/plain",r)}catch{}};if(e){const r=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});e(r)}else i()}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}};x([Me],Oie.prototype,"postConstruct",1);var oFe="ag-column-first",aFe="ag-column-last",OO=class{static getHeaderClassesFromColDef(t,e,i,r){return ht(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,r)}static getToolPanelClassesFromColDef(t,e,i,r){return ht(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,r)}static refreshFirstAndLastStyles(t,e,i){t.addOrRemoveCssClass(oFe,i.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass(aFe,i.isColumnAtEdge(e,"last"))}static getClassParams(t,e,i,r){return e.addGridCommonParams({colDef:t,column:i,columnGroup:r})}static getColumnClassesFromCollDef(t,e,i,r,n){if(ht(t))return[];let s;if(typeof t=="function"){const o=this.getClassParams(e,i,r,n);s=t(o)}else s=t;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}},lFe="ag-cell",uFe="ag-cell-auto-height",cFe="ag-cell-normal-height",dFe="ag-cell-focus",hFe="ag-cell-first-right-pinned",pFe="ag-cell-last-left-pinned",fFe="ag-cell-not-inline-editing",gFe="ag-column-hover",mFe="ag-cell-wrap-text",vFe=0,Mie=class y1 extends Pe{constructor(e,i,r,n){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=i,this.beans=r,this.rowCtrl=n,this.instanceId=e.getId()+"-"+vFe++,this.colIdSanitised=Kr(this.column.getId()),r.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new iFe(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellPositionFeature)==null||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new rFe(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellCustomStyleFeature)==null||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new nFe(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;(i=this.cellMouseListenerFeature)==null||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new sFe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;(i=this.cellKeyboardListenerFeature)==null||i.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new tFe(this.beans,this),this.addDestroyFunc(()=>{var i;(i=this.cellRangeFeature)==null||i.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(e,i){const r=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&Te(a))return vm(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},n=this.beans.gridOptionsService.get("tooltipShowMode")==="whenTruncated";!i&&n&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:e!=null?()=>e:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new Uc(s,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,i,r,n,s){var o,a,l,u;this.cellComp=e,this.eGui=i,this.printLayout=n,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(o=this.cellPositionFeature)==null||o.setComp(i),(a=this.cellCustomStyleFeature)==null||a.setComp(e),(l=this.tooltipFeature)==null||l.refreshToolTip(),(u=this.cellKeyboardListenerFeature)==null||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const i=e.parentElement,r=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,n=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:c,borderTopWidth:d}=uh(i),h=l+u+c+d,g=e.offsetHeight+h;if(a<5){const C=this.beans.gridOptionsService.getDocument(),S=!C||!C.contains(e),y=g==0;if(S||y){window.setTimeout(()=>n(a+1),0);return}}const v=Math.max(g,r);this.rowNode.setRowAutoHeight(v,this.column)},s=()=>n(0);s();const o=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var e;return(e=this.column.getColDef().cellAriaRole)!=null?e:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted!=null?this.valueFormatted:this.value}showValue(e=!1){const i=this.getValueToDisplay();let r;if(this.isCellRenderer()){const n=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n)}this.cellComp.setRenderDetails(r,i,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}refreshShouldDestroy(){const e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||r||n}startEditing(e=null,i=!1,r=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,i,r)});return}const n=this.createCellEditorParams(e,i),s=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(s,n);this.editCompDetails=o;const a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,a,l,this.beans.gridOptionsService.get("reactiveCustomComponents"));const u=this.createEvent(r,F.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const i={newValueExists:!1};if(e)return i;const r=this.cellComp.getCellEditor();return!r||r.isCancelAfterEnd&&r.isCancelAfterEnd()?i:{newValue:r.getValue(),newValueExists:!0}}saveNewValue(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;const r=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,r}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:r}=this.takeValueFromCellEditor(e),n=this.rowNode.getValueFromValueService(this.column);let s=!1;return r&&(s=this.saveNewValue(n,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,i,!e&&!!s),s}dispatchEditingStoppedEvent(e,i,r){const n=Ui(it({},this.createEvent(null,F.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:r});this.beans.eventService.dispatchEvent(n)}createCellEditorParams(e,i){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,r,n,s)=>this.registerRowDragger(i,r,s),setTooltip:(i,r)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,r),this.refreshToolTip()}})}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.refreshCell(this):this.refreshCell(e)}refreshCell(e){var i,r,n;if(this.suppressRefreshCell||this.editing)return;const s=this.column.getColDef(),o=e!=null&&!!e.newData,a=e!=null&&!!e.suppressFlash||!!s.suppressCellFlash,l=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,u=e&&e.forceRefresh||l||o,c=!!this.cellComp,d=this.updateAndFormatValue(c),h=u||d;if(c){if(h){this.showValue(o);const f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),(i=this.cellCustomStyleFeature)==null||i.applyUserStyles(),(r=this.cellCustomStyleFeature)==null||r.applyClassesFromColDef()}this.refreshToolTip(),(n=this.cellCustomStyleFeature)==null||n.applyCellClassRules()}}stopEditingAndFocus(e=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(i)}navigateAfterEdit(e){if(this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")){const r=e?de.UP:de.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}}flashCell(e){var i,r;const n=(i=e==null?void 0:e.flashDuration)!=null?i:e==null?void 0:e.flashDelay,s=(r=e==null?void 0:e.fadeDuration)!=null?r:e==null?void 0:e.fadeDelay;this.animateCell("data-changed",n,s)}animateCell(e,i,r){if(!this.cellComp)return;const n=`ag-cell-${e}`,s=`ag-cell-${e}-animation`,{gridOptionsService:o}=this.beans;i||(i=o.get("cellFlashDuration")),Te(r)||(r=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(s,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.eGui.style.transition="")},r))},i)})}onFlashCells(e){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var i;return(i=this.callValueFormatter(e))!=null?i:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const i=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(e,i){const r=this.column.getColDef();return r.equals?r.equals(e,i):e===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,y1.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,y1.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,i){return this.beans.gridOptionsService.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(e)}onKeyDown(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(e)}onMouseEvent(e,i){var r;(r=this.cellMouseListenerFeature)==null||r.onMouseEvent(e,i)}getGui(){return this.eGui}refreshToolTip(){var e;(e=this.tooltipFeature)==null||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:i,beans:r}=this;OO.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);l$(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)==null?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,i=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,i)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(hFe,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(pFe,e)}onCellFocused(e){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(dFe,i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const r=this.beans.gridOptionsService.get("editType")==="fullRow";!i&&!r&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:gu(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(lFe,!0),this.cellComp.addOrRemoveCssClass(fFe,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(uFe,e),this.cellComp.addOrRemoveCssClass(cFe,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(gFe,e)}onColDefChanged(){var e;if(!this.cellComp)return;if(this.column.isAutoHeight()!==this.isAutoHeight&&((e=this.rowCtrl)==null||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{const n=this.getCellEditor();if(n!=null&&n.refresh){const{eventKey:s,cellStartedEdit:o}=this.editCompDetails.params,a=this.createCellEditorParams(s,o),l=this.column.getColDef(),u=this.beans.userComponentFactory.getCellEditorDetails(l,a);n.refresh(u.params)}}}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(mFe,e)}dispatchCellContextMenuEvent(e){const i=this.column.getColDef(),r=this.createEvent(e,F.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new PO;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Oie(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,i,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,i);return}const n=this.createRowDragComp(e,i,r);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,i,r){const n=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),o=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!o){ct("managed row dragging is only allowed in the Client Side Row Model");return}if(n){ct("managed row dragging is not possible when doing pagination");return}}const a=new Qp(()=>this.value,this.rowNode,this.column,e,i,r);return this.beans.context.createBean(a),a}};Mie.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Dp=Mie,CFe=0,Fie=class S1 extends Pe{constructor(e,i,r,n,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=e,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=n,this.printLayout=s,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=e.id+"-"+CFe++,this.rowId=Kr(e.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Kr(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,i,r){const n={rowComp:e,element:i,containerType:r};this.allRowGuis.push(n),r==="left"?this.leftGui=n:r==="right"?this.rightGui=n:r==="fullWidth"?this.fullWidthGui=n:this.centerGui=n,this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==e),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0;break}}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gridOptionsService.get("keepDetailRows")}setCached(e){const i=e?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=i)}initialiseRowComp(e){const i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>r.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&wc(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),i.setDomData(e.element,S1.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(e.element,S1.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=Kr(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:i}=e;this.slideInAnimation[i]&&(n1(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(n1(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.get("enableRangeSelection")){ct("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),r=new Qp(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),n=this.createBean(r,this.beans.context);this.rowDragComps.push(n)}setupFullWidth(e){const i=this.getPinnedForContainer(e.containerType);if(this.rowType=="FullWidthDetail"&&!Jt.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const r=this.createFullWidthCompDetails(e.element,i);e.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,i;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(r=>{var n;return(n=r==null?void 0:r.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(i=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(e){const i=this.getCellCtrl(e);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(i)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&r}setRowType(){const e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(n);e?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,i=!1){if(this.isFullWidth())return;if(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,i,r=null){const n={list:[],map:{}},s=(o,a)=>{n.list.push(a),n.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=e.map[a];l||(l=new Dp(o,this.rowNode,this.beans,this)),s(a,l)}),e.list.forEach(o=>{if(n.map[o.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(o,r)){s(o.getColumn().getInstanceId(),o);return}o.destroy()}),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(i=>{const r=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(r,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:const i=e;throw new Error(`Unhandled case: ${i}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const r=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const n=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,i){if(e.getColumn().getPinned()!=i)return!0;const o=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||a){const u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const i=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)}setAnimateFlags(e){if(this.isSticky()||!e)return;const i=Te(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),n=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}getRowType(){return this.rowType}refreshFullWidth(){const e=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=e(this.fullWidthGui,null),r=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return i&&r&&n&&s}addListeners(){this.addManagedListener(this.rowNode,Ot.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Ot.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Ot.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Ot.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,F.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,F.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,F.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,F.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,F.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,F.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,F.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gridOptionsService.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[]}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Ot.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=e===0,n=e===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),wc(r.element,e&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:gu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const i=this.allRowGuis.find(l=>l.element.contains(e.target));if(!((i?i.element:null)===e.target))return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Tl(e))return;const i=this.allRowGuis.find(o=>o.element.contains(e.target)),r=i?i.element:null,n=r===e.target;let s=null;n||(s=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var i;const r=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&s.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,i){const r={list:[],map:{}};return e.list.forEach(n=>{n!==i&&(r.list.push(n),r.map[n.getInstanceId()]=n)}),r}onMouseEvent(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(e,i){const r=this.createRowEvent(e,i);return r.source=this,r}onRowDblClick(e){if(Tl(e))return;const i=this.createRowEventWithSource(F.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Rp(e.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(Tl(e)||this.lastMouseDownOnDragger)return;const r=this.createRowEventWithSource(F.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);const n=e.ctrlKey||e.metaKey,s=e.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const a=this.gridOptionsService.get("rowMultiSelectWithClick"),l=!this.gridOptionsService.get("suppressRowDeselection"),u="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):n?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:u});else{const c=a?!1:!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:s,event:e,source:u})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(e){if(this.rowType!=="FullWidthDetail"||!this.gridOptionsService.get("detailRowAutoHeight"))return;const i=()=>{const n=e.clientHeight;if(n!=null&&n>0){const s=()=>{this.rowNode.setRowHeight(n),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},r=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(r),i()}createFullWidthCompDetails(e,i){const r=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(n,s,o,a)=>this.addFullWidthRowDragging(n,s,o,a),setTooltip:(n,s)=>this.refreshRowTooltip(n,s)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(e,i){if(!this.fullWidthGui)return;const r={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Uc(r,this.beans))}addFullWidthRowDragging(e,i,r="",n){if(!this.isFullWidth())return;const s=new Qp(()=>r,this.rowNode,void 0,e,i,n);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const i="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(i,!0),n.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),r=this.editingRow;this.stoppingRowEdit=!0;let n=!1;for(const s of i){const o=s.stopEditing(e);r&&!e&&!n&&o&&(n=!0)}if(n){const s=this.createRowEvent(F.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}r&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-editing",e));const i=e?this.createRowEvent(F.EVENT_ROW_EDITING_STARTED):this.createRowEvent(F.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(e=null,i=null,r=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((s,o)=>{const a=o===i;return a?o.startEditing(e,a,r):o.startEditing(null,a,r),s?!0:o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(i=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,i){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"?"left":e==="right"?"right":null}getInitialRowClasses(e){const i=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gridOptionsService.getCallback("getRowStyle");let r;if(i){const n={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=i(n)}return r||e?Object.assign({},e,r):this.emptyStyle}onRowSelected(e){const i=this.beans.gridOptionsService.getDocument(),r=!!this.rowNode.isSelected();this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),qm(n.element,r),n.element.contains(i.activeElement)&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const r=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(r)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Ot.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Ot.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(i.top,!0)-100,n=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(r,e),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,i){e?i(e):this.allRowGuis.forEach(i)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=s?`${Math.min(r,s)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,i){super.addEventListener(e,i)}removeEventListener(e,i){super.removeEventListener(e,i)}destroyFirstPass(e=!1){if(this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent(F.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=i=>(i.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const r=this.beans.paginationProxy.getPixelOffset();return e+r*(i?1:-1)}setRowTop(e){if(!this.printLayout&&Te(e)){const i=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(r);i=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let i=null;return this.getAllCellCtrls().forEach(r=>{r.getColumn()==e&&(i=r)}),i!=null||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(e)>=0&&(i=r)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const i=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),n=this.rowNode.rowIndex%2===0,s=r+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",n),o.rowComp.addOrRemoveCssClass("ag-row-odd",!n),a$(o.element,s)})}};Fie.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Pp=Fie,ao=class extends Pe{constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,e)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",i$("touchstart")?"touchstart":"mousedown"].forEach(i=>{const r=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,r)})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||Tl(e))return;const i=this.getRowForEvent(e),r=this.mouseEventService.getRenderedCellForEvent(e);t==="contextmenu"?this.handleContextMenuMouseEvent(e,void 0,i,r):(r&&r.onMouseEvent(t,e),i&&i.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!Wc())return;const t=new vn(this.element),e=i=>{const r=this.getRowForEvent(i.touchEvent),n=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,r,n)};this.addManagedListener(t,vn.EVENT_LONG_TAP,e),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){const i=this.gridOptionsService.getDomData(e,Pp.DOM_DATA_KEY_ROW_CTRL);if(i)return i;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,i,r){const n=i?i.getRowNode():null,s=r?r.getColumn():null;let o=null;if(s){const u=t||e;r.dispatchCellContextMenuEvent(u??null),o=this.valueService.getValue(s,n)}const a=this.ctrlsService.getGridBodyCtrl(),l=r?r.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:n,column:s,value:o,anchorToElement:l})}getControlsForEventTarget(t){return{cellCtrl:nx(this.gridOptionsService,t,Dp.DOM_DATA_KEY_CELL_CTRL),rowCtrl:nx(this.gridOptionsService,t,Pp.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(i?this.processCellKeyboardEvent(i,t,e):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,t,e))}processCellKeyboardEvent(t,e,i){const r=t.getRowNode(),n=t.getColumn(),s=t.isEditing();if(!ux(this.gridOptionsService,i,r,n,s)&&e==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(i)||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),SO(i)&&t.processCharacter(i)),e==="keydown"){const a=t.createEvent(i,F.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}}processFullWidthRowKeyboardEvent(t,e,i){const r=t.getRowNode(),n=this.focusService.getFocusedCell(),s=n&&n.column;if(!ux(this.gridOptionsService,i,r,s,!1)){const a=i.key;if(e==="keydown")switch(a){case de.PAGE_HOME:case de.PAGE_END:case de.PAGE_UP:case de.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case de.UP:case de.DOWN:t.onKeyboardNavigate(i);break;case de.TAB:t.onTabKeyDown(i);break}}if(e==="keydown"){const a=t.createRowEvent(F.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(a)}}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;const i=_te(t);if(i===de.A)return this.onCtrlAndA(t);if(i===de.C)return this.onCtrlAndC(t);if(i===de.D)return this.onCtrlAndD(t);if(i===de.V)return this.onCtrlAndV(t);if(i===de.X)return this.onCtrlAndX(t);if(i===de.Y)return this.onCtrlAndY();if(i===de.Z)return this.onCtrlAndZ(t)}onCtrlAndA(t){const{pinnedRowModel:e,paginationProxy:i,rangeService:r}=this;if(r&&i.isRowsToRender()){const[n,s]=[e.isEmpty("top"),e.isEmpty("bottom")],o=n?null:"top";let a,l;s?(a=null,l=this.paginationProxy.getRowCount()-1):(a="bottom",l=e.getPinnedBottomRowData().length-1);const u=this.columnModel.getAllDisplayedColumns();if(Po(u))return;r.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:u[0],columnEnd:Xt(u)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};x([V("mouseEventService")],ao.prototype,"mouseEventService",2);x([V("valueService")],ao.prototype,"valueService",2);x([V("menuService")],ao.prototype,"menuService",2);x([V("ctrlsService")],ao.prototype,"ctrlsService",2);x([V("navigationService")],ao.prototype,"navigationService",2);x([V("focusService")],ao.prototype,"focusService",2);x([V("undoRedoService")],ao.prototype,"undoRedoService",2);x([V("columnModel")],ao.prototype,"columnModel",2);x([V("paginationProxy")],ao.prototype,"paginationProxy",2);x([V("pinnedRowModel")],ao.prototype,"pinnedRowModel",2);x([jt("rangeService")],ao.prototype,"rangeService",2);x([jt("clipboardService")],ao.prototype,"clipboardService",2);x([Me],ao.prototype,"postConstruct",1);var Zv=class extends Pe{constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,F.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const t=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=Gf(t);if(e<=50)return;let i=this.getPinnedColumnsOverflowingViewport(e-50);const r=this.gridOptionsService.getCallback("processUnpinnedColumns");i.length&&(r&&(i=r({columns:i,viewportWidth:e})),this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(t){const e=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),r=e+i;if(r<t)return[];const n=[...this.columnModel.getDisplayedLeftColumns()],s=[...this.columnModel.getDisplayedRightColumns()];let o=0,a=0,l=0;const u=[];let c=r-l-t;for(;(a<n.length||o<s.length)&&c>0;){if(o<s.length){const d=s[o++];c-=d.getActualWidth(),u.push(d)}if(a<n.length&&c>0){const d=n[a++];c-=d.getActualWidth(),u.push(d)}}return u}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=Eb(t);if(this.bodyHeight!==e){this.bodyHeight=e;const i={type:F.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)}};x([V("ctrlsService")],Zv.prototype,"ctrlsService",2);x([V("pinnedWidthService")],Zv.prototype,"pinnedWidthService",2);x([V("columnModel")],Zv.prototype,"columnModel",2);x([V("scrollVisibleService")],Zv.prototype,"scrollVisibleService",2);x([Me],Zv.prototype,"postConstruct",1);var V$=class extends Pe{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;Vt(this.element,e),Oa(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};x([V("pinnedWidthService")],V$.prototype,"pinnedWidthService",2);x([Me],V$.prototype,"postConstruct",1);var H$=class extends Pe{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;Vt(this.element,e),Oa(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};x([V("pinnedWidthService")],H$.prototype,"pinnedWidthService",2);x([Me],H$.prototype,"postConstruct",1);var MO=class extends Pe{constructor(t,e){super(),this.eContainer=t,this.eViewport=e}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight(),e=t!=null?`${t}px`:"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)}};x([V("rowContainerHeightService")],MO.prototype,"maxDivHeightScaler",2);x([Me],MO.prototype,"postConstruct",1);var FO=class extends Pe{constructor(t){super(),this.eContainer=t}postConstruct(){if(ht(this.rangeService))return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",e=>{if(e.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};x([jt("rangeService")],FO.prototype,"rangeService",2);x([V("dragService")],FO.prototype,"dragService",2);x([Me],FO.prototype,"postConstruct",1);var Jv=class extends Pe{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()}setWidth(){const{columnModel:t}=this,e=this.gridOptionsService.isDomLayout("print"),i=t.getBodyContainerWidth(),r=t.getDisplayedColumnsLeftWidth(),n=t.getDisplayedColumnsRightWidth();let s;e?s=i+r+n:(s=i,this.addSpacer&&(this.gridOptionsService.get("enableRtl")?r:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)}};x([V("columnModel")],Jv.prototype,"columnModel",2);x([V("scrollVisibleService")],Jv.prototype,"scrollVisibleService",2);x([Me],Jv.prototype,"postConstruct",1);var Mr=(t=>(t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth",t.TOP_LEFT="topLeft",t.TOP_RIGHT="topRight",t.TOP_CENTER="topCenter",t.TOP_FULL_WIDTH="topFullWidth",t.STICKY_TOP_LEFT="stickyTopLeft",t.STICKY_TOP_RIGHT="stickyTopRight",t.STICKY_TOP_CENTER="stickyTopCenter",t.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",t.BOTTOM_LEFT="bottomLeft",t.BOTTOM_RIGHT="bottomRight",t.BOTTOM_CENTER="bottomCenter",t.BOTTOM_FULL_WIDTH="bottomFullWidth",t))(Mr||{});function Iie(t){switch(t){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var yFe=wd([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),SFe=wd([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),Uf=class Lie extends Pe{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name==="topFullWidth"||this.name==="stickyTopFullWidth"||this.name==="bottomFullWidth"||this.name==="fullWidth"}static getRowContainerCssClasses(e){const i=yFe.get(e),r=SFe.get(e);return{container:i,viewport:r}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new Zv(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(e,i){e.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,i,r){this.comp=e,this.eContainer=i,this.eViewport=r,this.createManagedBean(new ao(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const n=["topCenter","topLeft","topRight"],s=["stickyTopCenter","stickyTopLeft","stickyTopRight"],o=["bottomCenter","bottomLeft","bottomRight"],a=["center","left","right"],l=[...n,...o,...a,...s],u=["center","left","right","fullWidth"],c=["center","topCenter","stickyTopCenter","bottomCenter"],d=["left","bottomLeft","topLeft","stickyTopLeft"],h=["right","bottomRight","topRight","stickyTopRight"];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new V$(this.eContainer)),this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(h,()=>{this.pinnedWidthFeature=this.createManagedBean(new H$(this.eContainer)),this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new MO(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(l,()=>this.createManagedBean(new FO(this.eContainer))),this.forContainers(c,()=>this.createManagedBean(new Jv(f=>this.comp.setContainerWidth(`${f}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const r=()=>{const n=this.gridOptionsService.get("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(n||s)};this.addManagedPropertyListener("domLayout",r),r()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{const e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const i=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,r,e)}getCenterWidth(){return Gf(this.eViewport)}getCenterViewportScrollLeft(){return gw(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return S$(this.eViewport)}getViewportScrollLeft(){return gw(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||Tte(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){mw(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!Lie.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){if(!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=this.gridOptionsService.isDomLayout("print"),n=this.gridOptionsService.get("embedFullWidthRows")||i,s=this.getRowCtrls().filter(o=>{const a=o.isFullWidth();return this.isFullWithContainer?!n&&a:n||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};x([V("dragService")],Uf.prototype,"dragService",2);x([V("ctrlsService")],Uf.prototype,"ctrlsService",2);x([V("columnModel")],Uf.prototype,"columnModel",2);x([V("resizeObserverService")],Uf.prototype,"resizeObserverService",2);x([V("rowRenderer")],Uf.prototype,"rowRenderer",2);x([Me],Uf.prototype,"postConstruct",1);var hx=Uf,wFe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,ku=class extends Et{constructor(){super(wFe)}init(){const e=(r,n)=>{const s=`${r}px`;n.style.minHeight=s,n.style.height=s},i={setRowAnimationCssOnBodyViewport:(r,n)=>this.setRowAnimationCssOnBodyViewport(r,n),setColumnCount:r=>lte(this.getGui(),r),setRowCount:r=>ate(this.getGui(),r),setTopHeight:r=>e(r,this.eTop),setBottomHeight:r=>e(r,this.eBottom),setTopDisplay:r=>this.eTop.style.display=r,setBottomDisplay:r=>this.eBottom.style.display=r,setStickyTopHeight:r=>this.eStickyTop.style.height=r,setStickyTopTop:r=>this.eStickyTop.style.top=r,setStickyTopWidth:r=>this.eStickyTop.style.width=r,setColumnMovingCss:(r,n)=>this.addOrRemoveCssClass(r,n),updateLayoutClasses:(r,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(o=>{o.toggle("ag-layout-auto-height",n.autoHeight),o.toggle("ag-layout-normal",n.normal),o.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(r,n)=>this.eBodyViewport.classList.toggle(Aie,n),registerBodyViewportResizeListener:r=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,r);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:r=>this.eTop.style.overflowY=this.eBottom.style.overflowY=r,setCellSelectableCss:(r,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(s=>s.classList.toggle(r,n))},setBodyViewportWidth:r=>this.eBodyViewport.style.width=r};this.ctrl=this.createManagedBean(new os),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&ote(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,i){const r=this.eBodyViewport.classList;r.toggle("ag-row-animation",i),r.toggle("ag-row-no-animation",!i)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};x([V("resizeObserverService")],ku.prototype,"resizeObserverService",2);x([jt("rangeService")],ku.prototype,"rangeService",2);x([ke("eBodyViewport")],ku.prototype,"eBodyViewport",2);x([ke("eStickyTop")],ku.prototype,"eStickyTop",2);x([ke("eTop")],ku.prototype,"eTop",2);x([ke("eBottom")],ku.prototype,"eBottom",2);x([ke("gridHeader")],ku.prototype,"headerRootComp",2);x([ke("eBody")],ku.prototype,"eBody",2);x([Me],ku.prototype,"init",1);var Zm=class extends Pe{postConstruct(){this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const t=this.ctrlsService.getCenterRowContainerCtrl();if(!t||this.columnAnimationService.isActive())return;const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}setScrollsVisible(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;const i={type:F.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};x([V("ctrlsService")],Zm.prototype,"ctrlsService",2);x([V("columnAnimationService")],Zm.prototype,"columnAnimationService",2);x([Me],Zm.prototype,"postConstruct",1);Zm=x([We("scrollVisibleService")],Zm);var lc=class extends Pe{constructor(){super(...arguments),this.gridInstanceId=lc.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(t){t[lc.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(t){return nx(this.gridOptionsService,t.target,Dp.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let e=t;for(;e;){const i=e[lc.GRID_DOM_KEY];if(Te(i))return i===this.gridInstanceId;e=e.parentElement}return!1}getCellPositionForEvent(t){const e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null}getNormalisedPosition(t){const e=this.gridOptionsService.isDomLayout("normal"),i=t;let r,n;if(i.clientX!=null||i.clientY!=null?(r=i.clientX,n=i.clientY):(r=i.x,n=i.y),e){const s=this.ctrlsService.getGridBodyCtrl(),o=s.getScrollFeature().getVScrollPosition(),a=s.getScrollFeature().getHScrollPosition();r+=a.left,n+=o.top}return{x:r,y:n}}};lc.gridInstanceSequence=new Qm;lc.GRID_DOM_KEY="__ag_grid_instance";x([V("ctrlsService")],lc.prototype,"ctrlsService",2);lc=x([We("mouseEventService")],lc);var ts=class extends Pe{constructor(){super(),this.onPageDown=s1(this.onPageDown,100),this.onPageUp=s1(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){const i=t.key,r=t.altKey,n=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,o=this.mouseEventService.getCellPositionForEvent(t);let a=!1;switch(i){case de.PAGE_HOME:case de.PAGE_END:!n&&!r&&(this.onHomeOrEndKey(i),a=!0);break;case de.LEFT:case de.RIGHT:case de.UP:case de.DOWN:if(!o)return!1;n&&!r&&!s&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case de.PAGE_DOWN:case de.PAGE_UP:!n&&!r&&(a=this.handlePageUpDown(i,o,e));break}return a&&t.preventDefault(),a}handlePageUpDown(t,e,i){return i&&(e=this.focusService.getFocusedCell()),e?(t===de.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0):!1}navigateTo(t){const{scrollIndex:e,scrollType:i,scrollColumn:r,focusIndex:n,focusColumn:s}=t;if(Te(r)&&!r.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(r),Te(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const o={rowIndex:n,rowPinned:null,column:s};this.rangeService.setRangeToCell(o)}}onPageDown(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.getViewportHeight(),n=this.paginationProxy.getPixelOffset(),s=i.top+r,o=this.paginationProxy.getRowIndexAtPixel(s+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o):this.navigateToNextPage(t,o)}onPageUp(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.paginationProxy.getPixelOffset(),n=i.top,s=this.paginationProxy.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,s,!0):this.navigateToNextPage(t,s,!0)}navigateToNextPage(t,e,i=!1){const r=this.getViewportHeight(),n=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),o=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRow(t.rowIndex),l=i?(a==null?void 0:a.rowHeight)-r-o:r-o,u=(a==null?void 0:a.rowTop)+l;let c=this.paginationProxy.getRowIndexAtPixel(u+o);if(c===t.rowIndex){const h=i?-1:1;e=c=t.rowIndex+h}let d;i?(d="bottom",c<n&&(c=n),e<n&&(e=n)):(d="top",c>s&&(c=s),e>s&&(e=s)),this.isRowTallerThanView(c)&&(e=c,d="top"),this.navigateTo({scrollIndex:e,scrollType:d,scrollColumn:null,focusIndex:c,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,i=!1){this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(t,i);this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){var i;const r=e?-1:1,n=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow();let o=0,a=t.rowIndex;for(;a>=0&&a<=s;){const l=this.paginationProxy.getRow(a);if(l){const u=(i=l.rowHeight)!=null?i:0;if(o+u>n)break;o+=u}a+=r}return Math.max(0,Math.min(a,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth();let r=e.bottom-e.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(r-=i),r}isRowTallerThanView(t){const e=this.paginationProxy.getRow(t);if(!e)return!1;const i=e.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const i=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:r,column:n}=i;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:n,focusIndex:r,focusColumn:n})}onHomeOrEndKey(t){const e=t===de.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),r=e?i[0]:Xt(i),n=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r})}onTabKeyDown(t,e){const i=e.shiftKey;if(this.tabToNextCellCommon(t,i,e)){e.preventDefault();return}if(i){const{rowIndex:n,rowPinned:s}=t.getRowPosition();(s?n===0:n===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof Dp&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&e.preventDefault()}tabToNextCell(t,e){const i=this.focusService.getFocusedCell();if(!i)return!1;let r=this.getCellByPosition(i);return!r&&(r=this.rowRenderer.getRowByPosition(i),!r||!r.isFullWidth())?!1:this.tabToNextCellCommon(r,t,e)}tabToNextCellCommon(t,e,i){let r=t.isEditing();if(!r&&t instanceof Dp){const o=t.getRowCtrl();o&&(r=o.isEditing())}let n;return r?this.gridOptionsService.get("editType")==="fullRow"?n=this.moveToNextEditingRow(t,e,i):n=this.moveToNextEditingCell(t,e,i):n=this.moveToNextCellNotEditing(t,e),n||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,i=null){const r=t.getCellPosition();t.getGui().focus(),t.stopEditing();const n=this.findNextCellToFocusOn(r,e,!0);return n==null?!1:(n.startEditing(null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(t,e,i=null){const r=t.getCellPosition(),n=this.findNextCellToFocusOn(r,e,!0);if(n==null)return!1;const s=n.getCellPosition(),o=this.isCellEditable(r),a=this.isCellEditable(s),l=s&&r.rowIndex===s.rowIndex&&r.rowPinned===s.rowPinned;return o&&t.setFocusOutOnEditor(),l||(t.getRowCtrl().stopEditing(),n.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(t,e){const i=this.columnModel.getAllDisplayedColumns();let r;t instanceof Pp?r=Ui(it({},t.getRowPosition()),{column:e?i[0]:Xt(i)}):r=t.getCellPosition();const n=this.findNextCellToFocusOn(r,e,!1);if(n instanceof Dp)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),e);return Te(n)}findNextCellToFocusOn(t,e,i){let r=t;for(;;){t!==r&&(t=r),e||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,e);const n=this.gridOptionsService.getCallback("tabToNextCell");if(Te(n)){const l=n({backwards:e,editing:i,previousCellPosition:t,nextCellPosition:r||null});Te(l)?(l.floating&&(ct("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),r={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):r=null}if(!r)return null;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:r.column},fromCell:!0}),null}const s=this.gridOptionsService.get("editType")==="fullRow";if(i&&!s&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const o=this.getCellByPosition(r);if(!o){const a=this.rowRenderer.getRowByPosition(r);if(!a||!a.isFullWidth()||i)continue;return a}if(!o.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(r),o}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);return e?t.column.isCellEditable(e):!1}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)}navigateToNextCell(t,e,i,r){let n=i,s=!1;for(;n&&(n===i||!this.isValidNavigateCell(n));)this.gridOptionsService.get("enableRtl")?e===de.LEFT&&(n=this.getLastCellOfColSpan(n)):e===de.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextCellToFocus(e,n),s=ht(n);if(s&&t&&t.key===de.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),r){const a=this.gridOptionsService.getCallback("navigateToNextCell");if(Te(a)){const u=a({key:e,previousCellPosition:i,nextCellPosition:n||null,event:t});Te(u)?(u.floating&&(ct("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),n={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):n=null}}if(!n)return;if(n.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:i.column},event:t||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(n);o?this.focusPosition(o):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e=!1){const i=this.columnModel.getAllDisplayedColumns(),r=this.rowRenderer.getRowByPosition(t);if(!r||!r.isFullWidth())return!1;const n=this.focusService.getFocusedCell(),s={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?Xt(i):i[0])};this.focusPosition(s);const o=n!=null?this.rowPositionUtils.before(s,n):!1,a={type:F.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:o};return this.eventService.dispatchEvent(a),!0}focusPosition(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e)return t;const i=e.getColSpanningList();return i.length===1?t:{rowIndex:t.rowIndex,column:Xt(i),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(t.rowIndex);!(e&&(i==null?void 0:i.sticky))&&ht(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}};x([V("mouseEventService")],ts.prototype,"mouseEventService",2);x([V("paginationProxy")],ts.prototype,"paginationProxy",2);x([V("focusService")],ts.prototype,"focusService",2);x([jt("rangeService")],ts.prototype,"rangeService",2);x([V("columnModel")],ts.prototype,"columnModel",2);x([V("rowModel")],ts.prototype,"rowModel",2);x([V("ctrlsService")],ts.prototype,"ctrlsService",2);x([V("rowRenderer")],ts.prototype,"rowRenderer",2);x([V("headerNavigationService")],ts.prototype,"headerNavigationService",2);x([V("rowPositionUtils")],ts.prototype,"rowPositionUtils",2);x([V("cellNavigationService")],ts.prototype,"cellNavigationService",2);x([V("pinnedRowModel")],ts.prototype,"pinnedRowModel",2);x([Me],ts.prototype,"postConstruct",1);ts=x([We("navigationService")],ts);var $$=class _ie extends Hf{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),_ie.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),i=this.params,r=n=>{ux(this.gridOptionsService,n,i.node,i.column,!0)||i.onKeyDown(n)};this.addManagedListener(e,"keydown",r)}};$$.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";x([Me],$$.prototype,"postConstruct",1);var Nie=$$,EFe=class extends Et{constructor(e,i,r,n,s){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=i.getColumn(),this.rowNode=i.getRowNode(),this.rowCtrl=i.getRowCtrl(),this.eRow=n,this.cellCtrl=i;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);const a=this.getGui();this.forceWrapper=i.isForceWrapper(),this.refreshWrapper(!1);const l=(d,h)=>{h!=null&&h!=""?a.setAttribute(d,h):a.removeAttribute(d)};hr(a,i.getCellAriaRole()),l("col-id",i.getColumnIdSanitised());const u=i.getTabIndex();u!==void 0&&l("tabindex",u.toString());const c={addOrRemoveCssClass:(d,h)=>this.addOrRemoveCssClass(d,h),setUserStyles:d=>b$(a,d),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:d=>this.includeSelection=d,setIncludeRowDrag:d=>this.includeRowDrag=d,setIncludeDndSource:d=>this.includeDndSource=d,setRenderDetails:(d,h,f)=>this.setRenderDetails(d,h,f),setEditDetails:(d,h,f)=>this.setEditDetails(d,h,f),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};i.setComp(c,this.getGui(),this.eCellWrapper,r,s)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,i,r){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(r||s)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}setEditDetails(e,i,r){e?this.createCellEditorInstance(e,i,r):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const i=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=i||this.forceWrapper,n=r&&this.eCellWrapper==null;if(n){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const s=!r&&this.eCellWrapper!=null;s&&(yl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);const o=!e&&r,a=o&&this.eCellValue==null;if(a){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const l=!o&&this.eCellValue!=null;l&&(yl(this.eCellValue),this.eCellValue=void 0);const u=n||s||a||l;return u&&this.removeControls(),e||i&&this.addControls(),u}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,i,r){const n=this.editorVersion,s=e.newAgStackInstance();if(!s)return;const{params:o}=e;s.then(l=>this.afterCellEditorCreated(n,l,o,i,r)),ht(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const i=this.getParentOfValue();Lr(i);const r=e!=null?Kr(e,!0):null;r!=null&&(i.textContent=r)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),yl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),yl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const i=this.cellRenderer.refresh(e.params);return i===!0||i===void 0}createCellRendererInstance(e){const r=!this.beans.gridOptionsService.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:s}=e,o=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const l=e.newAgStackInstance(),u=this.afterCellRendererCreated.bind(this,n,s);l&&l.then(u)};r&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,i,r){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const s=this.getParentOfValue();Lr(s),s.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,i,r,n,s){if(e!==this.editorVersion){this.beans.context.destroyBean(i);return}if(i.isCancelBeforeStart&&i.isCancelBeforeStart()){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing(!0);return}if(!i.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();const l=n||i.isPopup!==void 0&&i.isPopup();l?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,l),i.afterGuiAttached&&i.afterGuiAttached()}refreshEditStyles(e,i){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),(r=this.rowCtrl)==null||r.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,i){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const r=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Nie(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const s=this.beans.popupService,o=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),a=i??(r.getPopupPosition?r.getPopupPosition():"over"),l=this.beans.gridOptionsService.get("enableRtl"),u={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=s.positionPopupByComponent.bind(s,u),d=this.beans.localeService.getLocaleTextFunc(),h=s.addPopup({modal:o,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&p$()&&e.focus({preventScroll:!0}),Lr(this.getParentOfValue())}},bFe=class extends Et{constructor(e,i,r){super(),this.cellComps={},this.beans=i,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(r)),this.setTemplateFromElement(n);const s=this.getGui(),o=s.style;this.domOrder=this.rowCtrl.getDomOrder(),hr(s,"row");const a=this.rowCtrl.getTabIndex();a!=null&&s.setAttribute("tabindex",a.toString());const l={setDomOrder:u=>this.domOrder=u,setCellCtrls:u=>this.setCellCtrls(u),showFullWidth:u=>this.showFullWidth(u),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(u,c)=>this.addOrRemoveCssClass(u,c),setUserStyles:u=>b$(s,u),setTop:u=>o.top=u,setTransform:u=>o.transform=u,setRowIndex:u=>s.setAttribute("row-index",u),setRowId:u=>s.setAttribute("row-id",u),setRowBusinessKey:u=>s.setAttribute("row-business-key",u),refreshFullWidth:u=>this.refreshFullWidth(u)};e.setComp(l,this.getGui(),r),this.addDestroyFunc(()=>{e.unsetComp(r)})}getInitialStyle(e){const i=this.rowCtrl.getInitialTransform(e);return i?`transform: ${i}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=n=>{if(this.isAlive()){const s=n.getGui();this.getGui().appendChild(s),this.rowCtrl.setupDetailRowAutoHeight(s),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},r=e.newAgStackInstance();r&&r.then(i)}setCellCtrls(e){const i=Object.assign({},this.cellComps);e.forEach(n=>{const s=n.getInstanceId();this.cellComps[s]==null?this.newCellComp(n):i[s]=null});const r=Yd(i).filter(n=>n!=null);this.destroyCells(r),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const i=[];e.forEach(r=>{const n=this.cellComps[r.getInstanceId()];n&&i.push(n.getGui())}),E$(this.getGui(),i)}newCellComp(e){const i=new EFe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Yd(this.cellComps).filter(i=>i!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(i=>{if(!i)return;const r=i.getCtrl().getInstanceId();this.cellComps[r]===i&&(i.detach(),i.destroy(),this.cellComps[r]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:i}=this;if(!i||!i.refresh)return!1;const r=e();return i.refresh(r)}};function RFe(){const t=Et.elementGettingCreated.getAttribute("name"),e=hx.getRowContainerCssClasses(t);let i;return t==="center"||t==="topCenter"||t==="stickyTopCenter"||t==="bottomCenter"?i=`<div class="${e.viewport}" ref="eViewport" role="presentation">
                <div class="${e.container}" ref="eContainer"></div>
            </div>`:i=`<div class="${e.container}" ref="eContainer"></div>`,i}var eC=class extends Et{constructor(){super(RFe()),this.rowComps={},this.name=Et.elementGettingCreated.getAttribute("name"),this.type=Iie(this.name)}postConstruct(){const e={setViewportHeight:r=>this.eViewport.style.height=r,setRowCtrls:({rowCtrls:r})=>this.setRowCtrls(r),setDomOrder:r=>{this.domOrder=r},setContainerWidth:r=>this.eContainer.style.width=r};this.createManagedBean(new hx(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const i=it({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const r=n=>{const s=n.getInstanceId(),o=i[s];if(o)this.rowComps[s]=o,delete i[s],this.ensureDomOrder(o.getGui());else{if(!n.getRowNode().displayed)return;const a=new bFe(n,this.beans,this.type);this.rowComps[s]=a,this.appendRow(a.getGui())}};e.forEach(r),Yd(i).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),hr(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?Rte(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(w$(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};x([V("beans")],eC.prototype,"beans",2);x([ke("eViewport")],eC.prototype,"eViewport",2);x([ke("eContainer")],eC.prototype,"eContainer",2);x([Me],eC.prototype,"postConstruct",1);x([xs],eC.prototype,"preDestroy",1);var B$=class{constructor(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}onDragEnter(t){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const e=t.dragItem.columns;e&&e.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Rt.ICON_PINNED:Rt.ICON_MOVE:null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};x([V("columnModel")],B$.prototype,"columnModel",2);x([V("gridOptionsService")],B$.prototype,"gridOptionsService",2);var xp=class{static attemptMoveColumns(t){const{isFromHeader:e,hDirection:i,xPosition:r,fromEnter:n,fakeEvent:s,pinned:o,gridOptionsService:a,columnModel:l}=t,u=i===0,c=i===1;let{allMovingColumns:d}=t;if(e){let E=[];d.forEach(b=>{var D;let P=null,O=b.getParent();for(;O!=null&&O.getDisplayedLeafColumns().length===1;)P=O,O=O.getParent();P!=null?(!!((D=P.getColGroupDef())!=null&&D.marryChildren)?P.getProvidedColumnGroup().getLeafColumns():P.getLeafColumns()).forEach(L=>{E.includes(L)||E.push(L)}):E.includes(b)||E.push(b)}),d=E}const h=d.slice();l.sortColumnsLikeGridColumns(h);const f=this.calculateValidMoves({movingCols:h,draggingRight:c,xPosition:r,pinned:o,gridOptionsService:a,columnModel:l}),g=this.calculateOldIndex(h,l);if(f.length===0)return;const v=f[0];let C=g!==null&&!n;if(e&&(C=g!==null),C&&!s&&(u&&v>=g||c&&v<=g))return;const S=l.getAllDisplayedColumns();let y=[],w=null;for(let E=0;E<f.length;E++){const b=f[E],D=l.getProposedColumnOrder(h,b);if(!l.doesOrderPassRules(D))continue;const P=D.filter(N=>S.includes(N));if(w===null)w=P;else if(!uu(P,w))break;const O=this.groupFragCount(D);y.push({move:b,fragCount:O})}if(y.length!==0)return y.sort((E,b)=>E.fragCount-b.fragCount),this.moveColumns(d,y[0].move,"uiColumnMoved",!1,l)}static moveColumns(t,e,i,r,n){return n.moveColumns(t,e,i,r),r?null:{columns:t,toIndex:e}}static calculateOldIndex(t,e){const i=e.getAllGridColumns(),r=Gee(t.map(l=>i.indexOf(l))),n=r[0];return Xt(r)-n!==r.length-1?null:n}static groupFragCount(t){function e(r){let n=[],s=r.getOriginalParent();for(;s!=null;)n.push(s),s=s.getOriginalParent();return n}let i=0;for(let r=0;r<t.length-1;r++){let n=e(t[r]),s=e(t[r+1]);[n,s]=n.length>s.length?[n,s]:[s,n],n.forEach(o=>{s.indexOf(o)===-1&&i++})}return i}static calculateValidMoves(t){const{movingCols:e,draggingRight:i,xPosition:r,pinned:n,gridOptionsService:s,columnModel:o}=t;if(s.get("suppressMovableColumns")||e.some(y=>y.getColDef().suppressMovable))return[];const l=o.getDisplayedColumns(n),u=o.getAllGridColumns(),c=l.filter(y=>Vo(e,y)),d=l.filter(y=>!Vo(e,y)),h=u.filter(y=>!Vo(e,y));let f=0,g=r;if(i){let y=0;c.forEach(w=>y+=w.getActualWidth()),g-=y}if(g>0){for(let y=0;y<d.length;y++){const w=d[y];if(g-=w.getActualWidth(),g<0)break;f++}i&&f++}let v;if(f>0){const y=d[f-1];v=h.indexOf(y)+1}else v=h.indexOf(d[0]),v===-1&&(v=0);const C=[v],S=(y,w)=>y-w;if(i){let y=v+1;const w=u.length-1;for(;y<=w;)C.push(y),y++;C.sort(S)}else{let y=v;const w=u.length-1;let E=u[y];for(;y<=w&&l.indexOf(E)<0;)y++,C.push(y),E=u[y];y=v-1;const b=0;for(;y>=b;)C.push(y),y--;C.sort(S).reverse()}return C}static normaliseX(t,e,i,r,n){const s=n.getHeaderRowContainerCtrl(e).getViewport();return i&&(t-=s.getBoundingClientRect().left),r.get("enableRtl")&&(t=s.clientWidth-t),e==null&&(t+=n.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t}},tC=class{constructor(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!Te(t)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Rt.ICON_PINNED:Rt.ICON_MOVE}onDragEnter(t){const e=t.dragItem.columns;if(t.dragSource.type===0)this.setColumnsVisible(e,!0,"uiColumnDragged");else{const r=t.dragItem.visibleState,n=(e||[]).filter(s=>r[s.getId()]);this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,i){if(t){const r=t.filter(n=>!n.getColDef().lockVisible);this.columnModel.setColumnsVisible(r,e,i)}}setColumnsPinned(t,e,i){if(t){const r=t.filter(n=>!n.getColDef().lockPinned);this.columnModel.setColumnsPinned(r,e,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(t){if(this.centerContainer){const e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(t=this.lastDraggingEvent,e=!1,i=!1,r=!1){var n;if(r){if(this.lastMovedInfo){const{columns:c,toIndex:d}=this.lastMovedInfo;xp.moveColumns(c,d,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,ht(t.hDirection))return;const s=xp.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(s);const o=this.normaliseDirection(t.hDirection),a=t.dragSource.type,l=((n=t.dragSource.getDragItem().columns)==null?void 0:n.filter(c=>c.getColDef().lockPinned?c.getPinned()==this.pinned:!0))||[],u=xp.attemptMoveColumns({allMovingColumns:l,isFromHeader:a===1,hDirection:o,xPosition:s,pinned:this.pinned,fromEnter:e,fakeEvent:i,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});u&&(this.lastMovedInfo=u)}normaliseDirection(t){if(this.gridOptionsService.get("enableRtl"))switch(t){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${t}`)}else return t}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Rt.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Rt.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Rt.ICON_MOVE))}moveInterval(){let t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);let e=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const n=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);if(n.length>0&&(this.dragAndDropService.setGhostIcon(Rt.ICON_PINNED),this.failedMoveAttempts>7)){const s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(n,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};x([V("columnModel")],tC.prototype,"columnModel",2);x([V("dragAndDropService")],tC.prototype,"dragAndDropService",2);x([V("gridOptionsService")],tC.prototype,"gridOptionsService",2);x([V("ctrlsService")],tC.prototype,"ctrlsService",2);x([Me],tC.prototype,"init",1);var iC=class extends Pe{constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(t){return t===1||t===0&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new tC(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new B$(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&t.dragSource.type===0}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}};x([V("dragAndDropService")],iC.prototype,"dragAndDropService",2);x([V("columnModel")],iC.prototype,"columnModel",2);x([V("ctrlsService")],iC.prototype,"ctrlsService",2);x([Me],iC.prototype,"postConstruct",1);x([Me],iC.prototype,"init",1);var rC=class Gie extends k${constructor(e){super(Gie.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((s,o)=>{o!=null&&o!=""?e.setAttribute(s,o):e.removeAttribute(s)})("col-id",this.column.getColId());const r={setWidth:s=>e.style.width=s,addOrRemoveCssClass:(s,o)=>this.addOrRemoveCssClass(s,o),setAriaSort:s=>s?cte(e,s):dte(e),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(r,this.getGui(),this.eResize,this.eHeaderCompWrapper);const n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const i=this.headerCompVersion;e.newAgStackInstance().then(r=>this.afterCompCreated(i,r))}afterCompCreated(e,i){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};rC.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;x([ke("eResize")],rC.prototype,"eResize",2);x([ke("eHeaderCompWrapper")],rC.prototype,"eHeaderCompWrapper",2);x([Me],rC.prototype,"postConstruct",1);x([xs],rC.prototype,"destroyHeaderComp",1);var TFe=rC,IO=class kie extends k${constructor(e){super(kie.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i=(n,s)=>s!=null?e.setAttribute(n,s):e.removeAttribute(n);e.setAttribute("col-id",this.ctrl.getColId());const r={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setResizableDisplayed:n=>Vt(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>i("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(r,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(e){const i=()=>this.destroyBean(e);if(!this.isAlive()){i();return}const r=this.getGui(),n=e.getGui();r.appendChild(n),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(r)}};IO.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;x([ke("eResize")],IO.prototype,"eResize",2);x([Me],IO.prototype,"postConstruct",1);var DFe=IO,w1=(t=>(t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter",t))(w1||{}),W$=class extends Et{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){a$(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:i=>this.getGui().style.height=i,setTop:i=>this.getGui().style.top=i,setHeaderCtrls:(i,r)=>this.setHeaderCtrls(i,r),setWidth:i=>this.getGui().style.width=i};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,i){if(!this.isAlive())return;const r=this.headerComps;if(this.headerComps={},e.forEach(n=>{const s=n.getInstanceId();let o=r[s];delete r[s],o==null&&(o=this.createHeaderComp(n),this.getGui().appendChild(o.getGui())),this.headerComps[s]=o}),Zn(r,(n,s)=>{this.getGui().removeChild(s.getGui()),this.destroyBean(s)}),i){const n=Yd(this.headerComps);n.sort((o,a)=>{const l=o.getCtrl().getColumnGroupChild().getLeft(),u=a.getCtrl().getColumnGroupChild().getLeft();return l-u});const s=n.map(o=>o.getGui());E$(this.getGui(),s)}}createHeaderComp(e){let i;switch(this.ctrl.getType()){case"group":i=new DFe(e);break;case"filter":i=new UMe(e);break;default:i=new TFe(e);break}return this.createBean(i),i.setParentComponent(this),i}};x([Me],W$.prototype,"init",1);x([xs],W$.prototype,"destroyHeaderCtrls",1);var PFe=0,Kc=class Vie extends Pe{constructor(e,i,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=r,this.beans=i,this.instanceId=e.getUniqueId()+"-"+PFe++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(e){const{headerRowIndex:i,column:r}=this.focusService.getFocusedHeader();return Lte(this.gridOptionsService,e,i,r)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:i,beans:r}=this;OO.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const{beans:e,column:i}=this,r=e.columnModel.getAriaColumnIndex(i);l$(this.eGui,r)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var i;const n=this.gridOptionsService.getDocument().activeElement,s=e.key===de.LEFT||e.key===de.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),n!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const o=e.key===de.LEFT!==this.gridOptionsService.get("enableRtl"),a=hie[o?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const l=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(l,e.shiftKey),(i=this.resizeFeature)==null||i.toggleColumnResizing(!0)}else this.moveHeader(a)}getViewportAdjustedResizeDiff(e){let i=this.getResizeDiff(e);if(this.column.getPinned()){const n=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=Gf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(n+s+i>o)if(o>n+s)i=o-n-s;else return 0}return i}getResizeDiff(e){let i=e.key===de.LEFT!==this.gridOptionsService.get("enableRtl");const r=this.column.getPinned(),n=this.gridOptionsService.get("enableRtl");return r&&n!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const i=this.getWrapperHasFocus();switch(e.key){case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:i&&e.preventDefault()}}addDomData(){const e=Vie.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,i,r){const n=e??i;this.gridOptionsService.get("preventDefaultOnContextMenu")&&n.preventDefault();const s=r instanceof Ci?r:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,e,i),this.dispatchColumnMouseEvent(F.EVENT_COLUMN_HEADER_CONTEXT_MENU,r)}dispatchColumnMouseEvent(e,i){const r={type:e,column:i};this.eventService.dispatchEvent(r)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};Kc.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";x([V("pinnedWidthService")],Kc.prototype,"pinnedWidthService",2);x([V("focusService")],Kc.prototype,"focusService",2);x([V("userComponentFactory")],Kc.prototype,"userComponentFactory",2);x([V("ctrlsService")],Kc.prototype,"ctrlsService",2);x([V("dragAndDropService")],Kc.prototype,"dragAndDropService",2);x([V("menuService")],Kc.prototype,"menuService",2);x([Me],Kc.prototype,"postConstruct",1);var LO=Kc,_O=class extends Pe{constructor(t,e,i,r){super(),this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=r,this.beans=i}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Xt(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Ci.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),e=Te(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const t=this.getColumnOrGroup(),e=t.getLeft(),i=t.getOldLeft(),r=this.modifyLeftForPrintLayout(t,i),n=this.modifyLeftForPrintLayout(t,e);this.setLeft(r),this.actualLeft=n,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!this.beans.gridOptionsService.isDomLayout("print")||t.getPinned()==="left")return e;const r=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){const n=this.beans.columnModel.getBodyContainerWidth();return r+n+e}return r+e}setLeft(t){if(Te(t)&&(this.eCell.style.left=`${t}px`),this.columnOrGroup instanceof Ci)this.columnOrGroup;else{const i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&ute(this.ariaEl,i.length),i[0]}}};x([Me],_O.prototype,"postConstruct",1);var Fb=class extends Pe{constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};x([V("columnHoverService")],Fb.prototype,"columnHoverService",2);x([Me],Fb.prototype,"postConstruct",1);var xFe=class extends LO{constructor(t,e,i){super(t,e,i),this.iconCreated=!1,this.column=t}setComp(t,e,i,r){this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=r,this.setGui(e),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Ci.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const t=this.column.getColDef(),e=!!t.filter,i=!!t.floatingFilter;this.active=e&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const t=ir("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(){this.createManagedBean(new ch(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();_l(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),n.focus();return}const s=this.findNextColumnWithFloatingFilter(t.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){const e=this.beans.columnModel;let i=this.column;do if(i=t?e.getDisplayedColBefore(i):e.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case de.UP:case de.DOWN:e||t.preventDefault();case de.LEFT:case de.RIGHT:if(e)return;t.stopPropagation();case de.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case de.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;const i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),r=!!t.relatedTarget&&Rp(t.relatedTarget,"ag-floating-filter");if(i&&r&&t.target===this.eGui){const s=this.lastFocusEvent,o=!!(s&&s.key===de.TAB);if(s&&o){const a=s.shiftKey;this.focusService.focusInto(this.eGui,a)}}const n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}setupHover(){this.createManagedBean(new Fb([this.column],this.eGui));const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,F.EVENT_COLUMN_HOVER_CHANGED,t),t()}setupLeft(){const t=new _O(this.column,this.eGui,this.beans);this.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const t=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){const t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:t}=this.beans,e=i=>{const r=this.comp.getFloatingFilterComp();r&&r.then(n=>{if(n){const s=t.getCurrentFloatingFilterParentModel(this.column);n.onParentModelChanged(s,i)}})};this.destroySyncListener=this.addManagedListener(this.column,Ci.EVENT_FILTER_CHANGED,e),t.isFilterActive(this.column)&&e(null)}setupWidth(){const t=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListener(this.column,Ci.EVENT_WIDTH_CHANGED,t),t()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Ci.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const t=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var t,e;const i=this.active;this.setupActive();const r=!i&&this.active;i&&!this.active&&((t=this.destroySyncListener)==null||t.call(this),(e=this.destroyFilterChangedListener)==null||e.call(this));const n=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!n?this.updateCompDetails(n,r):s.then(o=>{var a;!o||this.beans.filterManager.areFilterCompsDifferent((a=this.userCompDetails)!=null?a:null,n)?this.updateCompDetails(n,r):this.updateFloatingFilterParams(n)})}updateCompDetails(t,e){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),e&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(t){var e;if(!t)return;const i=t.params;(e=this.comp.getFloatingFilterComp())==null||e.then(r=>{let n=!1;r!=null&&r.refresh&&typeof r.refresh=="function"&&r.refresh(i)!==null&&(n=!0),!n&&(r!=null&&r.onParamsUpdated)&&typeof r.onParamsUpdated=="function"&&r.onParamsUpdated(i)!==null&&ct("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},nC=class extends Pe{constructor(t,e,i,r,n){super(),this.pinned=t,this.column=e,this.eResize=i,this.comp=r,this.ctrl=n}postConstruct(){const t=[];let e,i;const r=()=>{if(Vt(this.eResize,e),!e)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(o),i){const a=this.gridOptionsService.get("skipHeaderOnAutoSize"),l=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const u=new vn(this.eResize);u.addEventListener(vn.EVENT_DOUBLE_TAP,l),t.push(()=>{this.eResize.removeEventListener("dblclick",l),u.removeEventListener(vn.EVENT_DOUBLE_TAP,l),u.destroy()})}},n=()=>{t.forEach(o=>o()),t.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==e||a!==i)&&(e=o,i=a,n(),r())};s(),this.addDestroyFunc(n),this.ctrl.addRefreshFunction(s)}onResizing(t,e){const{column:i,lastResizeAmount:r,resizeStartWidth:n}=this,s=this.normaliseResizeAmount(e),o=n+s,a=[{key:i,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),u=this.pinnedWidthService.getPinnedRightWidth(),c=Gf(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+u+(s-r)>c)return}this.lastResizeAmount=s,this.columnModel.setColumnWidths(a,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t;const i=this.pinned!=="left",r=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?i&&(e*=-1):r&&(e*=-1),e}};x([V("horizontalResizeService")],nC.prototype,"horizontalResizeService",2);x([V("pinnedWidthService")],nC.prototype,"pinnedWidthService",2);x([V("ctrlsService")],nC.prototype,"ctrlsService",2);x([V("columnModel")],nC.prototype,"columnModel",2);x([Me],nC.prototype,"postConstruct",1);var U$=class extends Pe{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t}onSpaceKeyDown(t){const e=this.cbSelectAll,i=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(i.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new TO),this.cbSelectAll.addCssClass("ag-header-select-all"),hr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,F.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),wb(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);const e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),r=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${r} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${r} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){return this.gridOptionsService.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${t} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(t){const e=this.rowModel.getType();return e==="clientSide"||e==="serverSide"?!0:(console.warn(`AG Grid: ${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${e}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),i=this.isCurrentPageOnly();let r="uiSelectAll";i?r="uiSelectAllCurrentPage":e&&(r="uiSelectAllFiltered");const n={source:r,justFiltered:e,justCurrentPage:i};t?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){let t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){const e=t,i=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});t=e(i)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};x([V("rowModel")],U$.prototype,"rowModel",2);x([V("selectionService")],U$.prototype,"selectionService",2);var AFe=class extends LO{constructor(t,e,i){super(t,e,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,i,r){this.comp=t,this.setGui(e),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(r),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new nC(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new Fb([this.column],e)),this.createManagedBean(new _O(this.column,e,this.beans)),this.createManagedBean(new ch(e,{shouldStopEventPropagation:n=>this.shouldStopEventPropagation(n),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Ci.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(t,e){var i,r;if(!this.column.isResizable())return;const n=this.column.getActualWidth(),s=(i=this.column.getMinWidth())!=null?i:0,o=(r=this.column.getMaxWidth())!=null?r:Number.MAX_SAFE_INTEGER,a=Math.min(Math.max(n+t,s),o);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:a}],e,!0,"uiColumnResized")}moveHeader(t){const{eGui:e,column:i,gridOptionsService:r,ctrlsService:n}=this,s=this.getPinned(),o=e.getBoundingClientRect().left,a=i.getActualWidth(),l=r.get("enableRtl"),u=t===0!==l,c=xp.normaliseX(u?o-20:o+a+20,s,!0,r,n);xp.attemptMoveColumns({allMovingColumns:[i],isFromHeader:!0,hDirection:t,xPosition:c,pinned:s,fromEnter:!1,fakeEvent:!1,gridOptionsService:r,columnModel:this.beans.columnModel}),n.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){const t=this.lookupUserCompDetails();this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(){const t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,i)=>{this.beans.sortController.setSortForColumn(this.column,e,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,i)=>{this.setupTooltip(e,i)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new U$(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===de.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===de.ENTER&&this.onEnterKeyDown(t),t.key===de.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)}onEnterKeyDown(t){if(t.ctrlKey||t.metaKey)this.showMenuOnKeyPress(t,!0);else if(this.sortable){const e=t.shiftKey;this.beans.sortController.progressSort(this.column,e,"uiColumnSorted")}}showMenuOnKeyPress(t,e){const i=this.comp.getUserCompInstance();!i||!(i instanceof v1)||i.onMenuKeyboardShortcut(e)&&t.preventDefault()}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",r=this.eGui,n=this.column.getColDef();!e&&i&&!n.headerComponent&&(e=()=>{const a=r.querySelector(".ag-header-cell-text");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:e},o=this.createManagedBean(new Uc(s));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const t=()=>{const e=this.column.getColDef(),i=OO.getHeaderClassesFromColDef(e,this.gridOptionsService,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(n=>{r.has(n)?r.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),r.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.refreshFunctions.push(t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;const{column:e,beans:i,displayName:r,dragAndDropService:n,gridOptionsService:s}=this,{columnModel:o}=i;let a=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>a?Rt.ICON_HIDE:Rt.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(e),dragItemName:r,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),e.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>e.setMoving(!1,"uiColumnMoved"),onGridEnter:u=>{var c;if(a){const d=((c=u==null?void 0:u.columns)==null?void 0:c.filter(h=>!h.getColDef().lockVisible))||[];o.setColumnsVisible(d,!0,"uiColumnMoved")}},onGridExit:u=>{var c;if(a){const d=((c=u==null?void 0:u.columns)==null?void 0:c.filter(h=>!h.getColDef().lockVisible))||[];o.setColumnsVisible(d,!1,"uiColumnMoved")}}};n.addDragSource(l,!0)}createDragItem(t){const e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(t){this.refreshFunctions.push(t)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(t=>t())}refreshHeaderComp(){const t=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();return!e||!e.refresh?!1:e.refresh(t)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const t=this.column.getColDef();return!!(!this.gridOptionsService.get("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListener(this.column,Ci.EVENT_WIDTH_CHANGED,t),t()}setupMovingCss(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Ci.EVENT_MOVING_CHANGED,t),t()}setupMenuClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Ci.EVENT_MENU_VISIBLE_CHANGED,t),t()}setupSortableClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.eventService,Ci.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const t=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListener(this.column,Ci.EVENT_FILTER_ACTIVE_CHANGED,t),t()}setupWrapTextClass(){const t=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.addRefreshFunction(t)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:i,beans:r}=this;if(!e.isSpanHeaderHeight()){t.style.removeProperty("top"),t.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:n,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",n>0);const{columnModel:o}=r,a=o.getColumnHeaderRowHeight();if(n===0){i.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),t.style.setProperty("height",`${a}px`);return}i.addOrRemoveCssClass("ag-header-span-total",s);const u=o.isPivotMode()?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight(),c=n*u;t.style.setProperty("top",`${-c}px`),t.style.setProperty("height",`${a+c}px`)}setupAutoHeight(t){const{columnModel:e,resizeObserverService:i}=this.beans,r=u=>{if(!this.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:h,borderTopWidth:f}=uh(this.getGui()),g=c+d+h+f,C=t.offsetHeight+g;if(u<5){const S=this.beans.gridOptionsService.getDocument(),y=!S||!S.contains(t),w=C==0;if(y||w){window.setTimeout(()=>r(u+1),0);return}}e.setColumnHeaderHeight(this.column,C)};let n=!1,s;const o=()=>{const u=this.column.isAutoHeaderHeight();u&&!n&&a(),!u&&n&&l()},a=()=>{n=!0,r(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=i.observeResize(t,()=>r(0))},l=()=>{n=!1,s&&s(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};o(),this.addDestroyFunc(()=>l()),this.addManagedListener(this.column,Ci.EVENT_WIDTH_CHANGED,()=>n&&r(0)),this.addManagedListener(this.eventService,Ci.EVENT_SORT_CHANGED,()=>{n&&window.setTimeout(()=>r(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc(),e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Jee(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(t,e){e!=null?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}announceAriaDescription(){const t=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(t.activeElement))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((i,r)=>i==="filter"?-1:r.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,F.EVENT_COLUMN_HOVER_CHANGED,t),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),e=()=>this.dispatchColumnMouseEvent(F.EVENT_COLUMN_HEADER_CLICKED,this.column),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",e),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(t){this.setActiveHeader(t);const i={type:t?F.EVENT_COLUMN_HEADER_MOUSE_OVER:F.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(i)}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){const e=this.comp.getUserCompInstance();return e instanceof v1?e.getAnchorElementForMenu(t):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},Ib=class extends Pe{constructor(t,e,i,r){super(),this.eResize=e,this.comp=t,this.pinned=i,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsService.get("suppressAutoSize")){const e=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(n=>{n.getColDef().suppressAutoSize||i.push(n.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){const e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)}onResizing(t,e,i="uiColumnResized"){const r=this.normaliseDragChange(e),n=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(n,i,t)}getInitialValues(t){const e=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(e),r=this.getSizeRatiosOfColumns(e,i),n={columnsToResize:e,resizeStartWidth:i,resizeRatios:r};let s=null;if(t&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){const o=s.getDisplayedLeafColumns(),a=n.groupAfterColumns=o.filter(u=>u.isResizable()),l=n.groupAfterStartWidth=this.getInitialSizeOfColumns(a);n.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(t){const{columnsToResize:e,resizeStartWidth:i,resizeRatios:r,groupAfterColumns:n,groupAfterStartWidth:s,groupAfterRatios:o}=t;this.resizeCols=e,this.resizeStartWidth=i,this.resizeRatios=r,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();e>i.resizeStartWidth&&this.resizeColumns(i,e,t,!0)}resizeColumnsFromLocalValues(t,e,i=!0){var r,n,s;if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(r=this.resizeTakeFromCols)!=null?r:void 0,groupAfterStartWidth:(n=this.resizeTakeFromStartWidth)!=null?n:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!=null?s:void 0};this.resizeColumns(o,t,e,i)}resizeColumns(t,e,i,r=!0){const{columnsToResize:n,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=t,c=[];if(c.push({columns:n,ratios:o,width:e}),a){const d=e-s;c.push({columns:a,ratios:u,width:l-d})}this.columnModel.resizeColumnSets({resizeSets:c,finished:r,source:i}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}getSizeRatiosOfColumns(t,e){return t.map(i=>i.getActualWidth()/e)}normaliseDragChange(t){let e=t;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(e*=-1):this.pinned==="right"&&(e*=-1),e}destroy(){super.destroy(),this.clearLocalValues()}};x([V("horizontalResizeService")],Ib.prototype,"horizontalResizeService",2);x([V("autoWidthCalculator")],Ib.prototype,"autoWidthCalculator",2);x([V("columnModel")],Ib.prototype,"columnModel",2);x([Me],Ib.prototype,"postConstruct",1);var Hie=class extends Pe{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Br.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",t===0)}};x([Me],Hie.prototype,"postConstruct",1);var OFe=class extends LO{constructor(t,e,i){super(t,e,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const r=this.getGui();this.setDragSource(r)}},this.column=t}setComp(t,e,i){this.comp=t,this.setGui(e),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const r=this.getParentRowCtrl().getPinned(),n=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Fb(n,e)),this.createManagedBean(new _O(this.column,e,this.beans)),this.createManagedBean(new Hie(t,this.column)),this.resizeFeature=this.createManagedBean(new Ib(t,i,r,this.column)),this.createManagedBean(new ch(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(F.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(t,e){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+t,"uiColumnResized",!0)}moveHeader(t){const{beans:e,eGui:i,column:r,gridOptionsService:n,ctrlsService:s}=this,o=n.get("enableRtl"),a=t===0,l=this.getPinned(),u=i.getBoundingClientRect(),c=u.left,d=u.width,h=xp.normaliseX(a!==o?c-20:c+d+20,l,!0,n,s),f=r.getGroupId(),g=this.focusService.getFocusedHeader();xp.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:n,columnModel:e.columnModel});const v=r.getDisplayedLeafColumns(),C=a?v[0]:Xt(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&g&&this.restoreFocus(f,r,g)}restoreFocus(t,e,i){const r=e.getLeafColumns();if(!r.length)return;const n=r[0].getParent();if(!n)return;const s=this.findGroupWidthId(n,t);s&&this.focusService.focusHeaderPosition({headerPosition:Ui(it({},i),{column:s})})}findGroupWidthId(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null}resizeLeafColumnsToFit(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(){const t=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,r)=>{this.setupTooltip(i,r)}}),e=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(e)}addHeaderMouseListeners(){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),e=()=>this.dispatchColumnMouseEvent(F.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",e),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(t){const i={type:t?F.EVENT_COLUMN_HEADER_MOUSE_OVER:F.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),r=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",n=this.eGui;!e&&r&&!(i!=null&&i.headerGroupComponent)&&(e=()=>{const o=n.querySelector(".ag-header-group-text");return o?o.scrollWidth>o.clientWidth:!0});const s={getColumn:()=>this.column,getGui:()=>n,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(i&&i.headerTooltip),shouldDisplayTooltip:e};i&&(s.getColDef=()=>i),this.createBean(new Uc(s))}setupExpandable(){const t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Rr.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Rr.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const t=this.column;this.expandable=t.isExpandable();const e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const t=this.column.getColGroupDef(),e=OO.getHeaderClassesFromColDef(t,this.gridOptionsService,null,this.column);this.column.isPadding()?(e.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&e.push("ag-header-span-height")):e.push("ag-header-group-cell-with-group"),e.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const e=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach(r=>{this.addManagedListener(r,Ci.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(!(!this.expandable||!e)&&t.key===de.ENTER){const i=this.column,r=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!t))return;const{beans:e,column:i,displayName:r,gridOptionsService:n,dragAndDropService:s}=this,{columnModel:o}=e,a=i.getProvidedColumnGroup().getLeafColumns();let l=!n.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>l?Rt.ICON_HIDE:Rt.ICON_NOT_ALLOWED,dragItemName:r,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),a.forEach(c=>c.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(c=>c.setMoving(!1,"uiColumnDragged")),onGridEnter:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColumnsVisible(h,!1,"uiColumnMoved")}}};s.addDragSource(u,!0)}getDragItemForGroup(t){const e=t.getProvidedColumnGroup().getLeafColumns(),i={};e.forEach(n=>i[n.getId()]=n.isVisible());const r=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(n=>{e.indexOf(n)>=0&&(r.push(n),Us(e,n))}),e.forEach(n=>r.push(n)),{columns:r,visibleState:i}}isSuppressMoving(){let t=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsService.get("suppressMovableColumns")}},MFe=0,dS=class extends Pe{constructor(t,e,i){super(),this.instanceId=MFe++,this.rowIndex=t,this.pinned=e,this.type=i;const r=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${r}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(t,e=!0){this.comp=t,e&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,F.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_VIRTUAL_COLUMNS_CHANGED,t=>this.onVirtualColumnsChanged(t.afterScroll)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",t=>this.isEnsureDomOrder=t.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(t){if(this.headerCellCtrls)return Ep(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){const{columnModel:t}=this.beans;return this.isPrintLayout?this.pinned!=null?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null):t.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px"),this.comp.setHeight(e+"px")}getTopAndHeight(){const{columnModel:t,filterManager:e}=this.beans;let i=t.getHeaderRowCount();const r=[];let n=0;e.hasFloatingFilters()&&(i++,n=1);const s=t.getColumnGroupHeaderRowHeight(),o=t.getColumnHeaderRowHeight(),a=1+n,l=i-a;for(let d=0;d<l;d++)r.push(s);r.push(o);for(let d=0;d<n;d++)r.push(t.getFloatingFiltersHeight());let u=0;for(let d=0;d<this.rowIndex;d++)u+=r[d];const c=r[this.rowIndex];return{topOffset:u,rowHeight:c}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=!1){const e=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,i,t)}getHeaderCtrls(){const t=this.headerCellCtrls;this.headerCellCtrls=new Map;const e=this.getColumnsInViewport();for(const n of e)this.recycleAndCreateHeaderCtrls(n,t);const i=n=>{const{focusService:s,columnModel:o}=this.beans;return s.isHeaderWrapperFocused(n)?o.isDisplayed(n.getColumnGroupChild()):!1};if(t)for(const[n,s]of t)i(s)?this.headerCellCtrls.set(n,s):this.destroyBean(s);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls||t.isEmptyGroup())return;const i=t.getUniqueId();let r;if(e&&(r=e.get(i),e.delete(i)),r&&r.getColumnGroupChild()!=t&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":r=this.createBean(new xFe(t,this.beans,this));break;case"group":r=this.createBean(new OFe(t,this.beans,this));break;default:r=this.createBean(new AFe(t,this.beans,this));break}this.headerCellCtrls.set(i,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let t=[];const e=this.getActualDepth(),{columnModel:i}=this.beans;return["left",null,"right"].forEach(r=>{const n=i.getVirtualHeaderGroupRow(r,e);t=t.concat(n)}),t}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(t,e){if(!this.headerCellCtrls)return!1;const r=Array.from(this.headerCellCtrls.values()).find(n=>n.getColumnGroupChild()==t);return r?r.focus(e):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}};x([V("beans")],dS.prototype,"beans",2);x([Me],dS.prototype,"postConstruct",1);var dh=class extends Pe{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(t){const e=new iC(this.pinned,t);this.createManagedBean(e)}refresh(t=!1){const e=new Qm,i=this.focusService.getFocusHeaderToUseAfterRefresh(),r=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const u=this.createBean(new dS(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(u)}},n=()=>{const a=e.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!t||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new dS(a,this.pinned,"column")))},s=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=e.next();if(this.filtersRowCtrl){const u=this.filtersRowCtrl.getRowIndex()!==l;(!t||u)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new dS(l,this.pinned,"filter")))};r(),n(),s();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})}getAllCtrls(){const t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Jv(t=>this.comp.setCenterWidth(`${t}px`),!0))}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}setupPinnedWidth(){if(this.pinned==null)return;const t=this.pinned==="left",e=this.pinned==="right";this.hidden=!0;const i=()=>{const r=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(r==null)return;const n=r==0,s=this.hidden!==n,o=this.gridOptionsService.get("enableRtl"),a=this.gridOptionsService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&t||!o&&e)?r+a:r;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!n),s&&(this.hidden=n,this.refresh())};this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,F.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(t){if(t instanceof Ci)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(let e=0;e<this.groupsRowCtrls.length;e++){const i=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(i)return i}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){const i=this.getAllCtrls()[t];return i?i.getType():void 0}focusHeader(t,e,i){const n=this.getAllCtrls()[t];return n?n.focusHeader(e,i):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};x([V("ctrlsService")],dh.prototype,"ctrlsService",2);x([V("scrollVisibleService")],dh.prototype,"scrollVisibleService",2);x([V("pinnedWidthService")],dh.prototype,"pinnedWidthService",2);x([V("columnModel")],dh.prototype,"columnModel",2);x([V("focusService")],dh.prototype,"focusService",2);x([V("filterManager")],dh.prototype,"filterManager",2);var zf=class AD extends Et{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:r=>this.setDisplayed(r),setCtrls:r=>this.setCtrls(r),setCenterWidth:r=>this.eCenterContainer.style.width=r,setViewportScrollLeft:r=>this.getGui().scrollLeft=r,setPinnedContainerWidth:r=>{const n=this.getGui();n.style.width=r,n.style.maxWidth=r,n.style.minWidth=r}};this.createManagedBean(new dh(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",i=this.pinned=="right",r=e?AD.PINNED_LEFT_TEMPLATE:i?AD.PINNED_RIGHT_TEMPLATE:AD.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let r;const n=s=>{const o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),r&&w$(this.eRowContainer,o,r),r=o};e.forEach(s=>{const o=s.getInstanceId(),a=i[o];delete i[o];const l=a||this.createBean(new W$(s));this.headerRowComps[o]=l,this.rowCompsList.push(l),n(l)}),Yd(i).forEach(s=>this.destroyRowComp(s))}};zf.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>';zf.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>';zf.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;x([ke("eCenterContainer")],zf.prototype,"eCenterContainer",2);x([Me],zf.prototype,"init",1);x([xs],zf.prototype,"destroyRowComps",1);var TL=zf,Zp=class extends Pe{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl});const t=this.gridOptionsService.getDocument();this.addManagedListener(t,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0}navigateVertically(t,e,i){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;const{headerRowIndex:r,column:n}=e,s=this.getHeaderRowCount(),o=t===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:u}=o?this.headerPositionUtils.getColumnVisibleParent(n,r):this.headerPositionUtils.getColumnVisibleChild(n,r),c=!1;return a<0&&(a=0,l=n,c=!0),a>=s?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!c&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=!1,i){const r=this.focusService.getFocusedHeader(),n=t===2,s=this.gridOptionsService.get("enableRtl");let o,a;return this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,n!==s?(a="Before",o=this.headerPositionUtils.findHeader(r,a)):(a="After",o=this.headerPositionUtils.findHeader(r,a)),o||!e?this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:e,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(r,a,i)}focusNextHeaderRow(t,e,i){const r=t.headerRowIndex;let n=null,s;if(e==="Before"?r>0&&(s=r-1,this.currentHeaderRowWithoutSpan-=1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=r+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),n=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!n)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(n.column,n==null?void 0:n.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:e,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(t,e="After"){if(t.getPinned())return;let i;if(t instanceof Br){const r=t.getDisplayedLeafColumns();i=e==="Before"?Xt(r):r[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};x([V("focusService")],Zp.prototype,"focusService",2);x([V("headerPositionUtils")],Zp.prototype,"headerPositionUtils",2);x([V("ctrlsService")],Zp.prototype,"ctrlsService",2);x([Me],Zp.prototype,"postConstruct",1);Zp=x([We("headerNavigationService")],Zp);var hh=class extends Pe{setComp(t,e,i){this.comp=t,this.eGui=e,this.createManagedBean(new ch(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const r=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",r),this.mockContextMenuForIPad(r),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:t}=this;let e=0,i=t.getHeaderRowCount(),r;this.filterManager.hasFloatingFilters()&&(i++,e=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),a=1+e,l=i-a;if(r=e*t.getFloatingFiltersHeight(),r+=l*s,r+=o,this.headerHeight===r)return;this.headerHeight=r;const u=`${r+1}px`;this.comp.setHeightAndMinHeight(u),this.eventService.dispatchEvent({type:F.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const e=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gridOptionsService.get("enableRtl"),i=t.shiftKey!==e?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case de.LEFT:e=2;case de.RIGHT:Te(e)||(e=3),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case de.UP:e=0;case de.DOWN:Te(e)||(e=1),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}}onFocusOut(t){const e=this.gridOptionsService.getDocument(),{relatedTarget:i}=t;!i&&this.eGui.contains(e.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(t,e,i){if(!t&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:r}=t??e;(r===this.eGui||r===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,t,i)}mockContextMenuForIPad(t){if(!Wc())return;const e=new vn(this.eGui),i=r=>{t(void 0,r.touchStart,r.touchEvent)};this.addManagedListener(e,vn.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>e.destroy())}};x([V("headerNavigationService")],hh.prototype,"headerNavigationService",2);x([V("focusService")],hh.prototype,"focusService",2);x([V("columnModel")],hh.prototype,"columnModel",2);x([V("ctrlsService")],hh.prototype,"ctrlsService",2);x([V("filterManager")],hh.prototype,"filterManager",2);x([V("menuService")],hh.prototype,"menuService",2);var z$=class $ie extends Et{constructor(){super($ie.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new hh).setComp(e,this.getGui(),this.getFocusableElement());const r=n=>{this.createManagedBean(n),this.appendChild(n)};r(new TL("left")),r(new TL(null)),r(new TL("right"))}};z$.TEMPLATE='<div class="ag-header" role="presentation"/>';x([Me],z$.prototype,"postConstruct",1);var FFe=z$,Sw=class extends Pe{addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();const i=e instanceof MouseEvent&&e.shiftKey===!0;t.onResizeStart(i)}setResizeIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}};x([V("dragService")],Sw.prototype,"dragService",2);x([V("ctrlsService")],Sw.prototype,"ctrlsService",2);Sw=x([We("horizontalResizeService")],Sw);var Xd=class extends Pe{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e,i){this.showPopup(t,r=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:i,mouseEvent:e,ePopup:r})},i,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,i){let r=-1,n="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gridOptionsService.get("enableRtl")&&(r=1,n="right");let o=s?void 0:4*r,a=s?void 0:4;this.showPopup(t,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:e,ePopup:l,nudgeX:o,nudgeY:a,alignSide:n,keepWithinBounds:!0,position:"under",column:t})},i,e,s)}showPopup(t,e,i,r,n){const s=t?this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"):void 0;if(!s||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");hr(o,"presentation"),o.classList.add("ag-menu"),n||o.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(o,"keydown",g=>this.trapFocusWithin(g,o)),s.guiPromise.then(g=>o.appendChild(g));let a;const l=()=>{var g;return(g=s.filterPromise)==null?void 0:g.then(v=>{var C;return(C=v==null?void 0:v.afterGuiDetached)==null?void 0:C.call(v)})},u=this.menuService.isColumnMenuAnchoringEnabled()?r??this.ctrlsService.getGridBodyCtrl().getGui():void 0,c=g=>{t.setMenuVisible(!1,"contextMenu");const v=g instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),v&&r&&Bo(r)){const C=this.focusService.findTabbableParent(r);C&&C.focus()}l(),this.dispatchVisibleChangedEvent(!1,i,t)},d=this.localeService.getLocaleTextFunc(),h=n&&i!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),f=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:c,positionCallback:()=>e(o),anchorToElement:u,ariaLabel:h});f&&(this.hidePopup=a=f.hideFunc),s.filterPromise.then(g=>{e(o),g.afterGuiAttached&&g.afterGuiAttached({container:i,hidePopup:a})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,t)}trapFocusWithin(t,e){t.key!==de.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}dispatchVisibleChangedEvent(t,e,i){const r={type:F.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:t,switchingTab:!1,key:e,column:i??null};this.eventService.dispatchEvent(r)}isMenuEnabled(t){var e;return t.isFilterAllowed()&&((e=t.getColDef().menuTabs)!=null?e:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};x([V("filterManager")],Xd.prototype,"filterManager",2);x([V("popupService")],Xd.prototype,"popupService",2);x([V("focusService")],Xd.prototype,"focusService",2);x([V("ctrlsService")],Xd.prototype,"ctrlsService",2);x([V("menuService")],Xd.prototype,"menuService",2);Xd=x([We("filterMenuFactory")],Xd);var OD=(t=>(t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",t))(OD||{}),NO=class extends Pe{constructor(t){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:e,eTopGuard:i,eBottomGuard:r,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:o,onFocusIn:a,onFocusOut:l,shouldStopEventPropagation:u,onTabKeyDown:c,handleKeyDown:d,eFocusableElement:h}=t;this.comp=e,this.eTopGuard=i,this.eBottomGuard=r,this.providedFocusInnerElement=o,this.eFocusableElement=h,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.providedFocusIn=a,this.providedFocusOut=l,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=d}postConstruct(){this.createManagedBean(new ch(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedListener(t,"focus",this.onFocus.bind(this)))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}const e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}findNextElementOutsideAndFocus(t){const e=this.gridOptionsService.getDocument(),i=this.focusService.findFocusableElements(e.body,null,!0),r=i.indexOf(t?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let n,s;t?(n=0,s=r):(n=r+1,s=i.length);const o=i.slice(n,s),a=this.gridOptionsService.get("tabIndex");o.sort((l,u)=>{const c=parseInt(l.getAttribute("tabindex")||"0"),d=parseInt(u.getAttribute("tabindex")||"0");return d===a?1:c===a?-1:c===0?1:d===0?-1:c-d}),o[t?o.length-1:0].focus()}onFocusIn(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())}onFocusOut(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())}onTabKeyDown(t){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(this.focusTrapActive||t.defaultPrevented)return;const e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();const i=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),t.preventDefault())}focusInnerElement(t=!1){const e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){if(this.forcingFocusOut)return;const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,e.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(t){return t===this.eTopGuard||t===this.eBottomGuard}};x([V("focusService")],NO.prototype,"focusService",2);x([Me],NO.prototype,"postConstruct",1);var Lb=class extends Et{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const i=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:n=>{i.forEach(s=>n!=null?s.setAttribute("tabindex",n):s.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new NO({comp:r,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const i=document.createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return i.classList.add("ag-tab-guard",r),hr(i,"presentation"),i}addTabGuards(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Lr(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,i){bb(e)||(e=e.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",e):super.appendChild(e,i)}},GO=class Bie extends Lb{constructor(e){super(Bie.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,i,r;return(r=(i=(e=this.activeItem)==null?void 0:e.tabbedItem)==null?void 0:i.afterDetachedCallback)==null?void 0:r.call(i)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}setupHeader(){const{enableCloseButton:e,cssClass:i}=this.params,r=(n,s)=>{n.classList.add(`ag-tabs-${s}`),i&&n.classList.add(`${i}-${s}`)};e?(this.setupCloseButton(r),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),r(this.eHeader,"header-wrapper"),hr(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,hr(this.eTabHeader,"tablist"),r(this.eTabHeader,"header")}setupCloseButton(e){const i=this.gridOptionsService.getDocument(),r=i.createElement("button");e(r,"close-button");const n=ir("close",this.gridOptionsService,void 0,!0);_l(r,this.params.closeButtonAriaLabel),r.appendChild(n),this.addManagedListener(r,"click",()=>{var o,a;return(a=(o=this.params).onCloseClicked)==null?void 0:a.call(o)});const s=i.createElement("div");e(s,"close-button-wrapper"),hr(s,"presentation"),s.appendChild(r),this.eHeader.appendChild(s),this.eCloseButton=r}handleKeyDown(e){const i=this.gridOptionsService.getDocument();switch(e.key){case de.RIGHT:case de.LEFT:if(!this.eTabHeader.contains(i.activeElement))return;const r=e.key===de.RIGHT,n=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),o=r!==n?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===o)return;e.preventDefault();const a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case de.UP:case de.DOWN:e.stopPropagation();break}}onTabKeyDown(e){var i,r,n,s;if(e.defaultPrevented)return;const{focusService:o,eHeader:a,eBody:l,activeItem:u,params:c}=this,{suppressTrapFocus:d,enableCloseButton:h}=c,g=this.gridOptionsService.getDocument().activeElement,v=e.target,C=e.shiftKey;if(a.contains(g)){e.preventDefault(),h&&C&&!((i=this.eCloseButton)!=null&&i.contains(g))?(r=this.eCloseButton)==null||r.focus():d&&C?(n=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,v))==null||n.focus():this.focusBody(e.shiftKey);return}let S=null;if(o.isTargetUnderManagedComponent(l,v)&&(C&&(S=this.focusService.findFocusableElementBeforeTabGuard(l,v)),!S&&!d&&(S=u.eHeaderButton)),!S&&l.contains(g)&&(S=o.findNextFocusableElement(l,!1,C),!S)){e.preventDefault(),d&&!C?this.forceFocusOutOfContainer(C):h&&!C?(s=this.eCloseButton)==null||s.focus():this.focusHeader();return}S&&(e.preventDefault(),S.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const i=document.createElement("span");hr(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eTabHeader.appendChild(i),_l(i,e.titleLabel);const r={tabbedItem:e,eHeaderButton:i};this.items.push(r),i.addEventListener("click",this.showItemWrapper.bind(this,r))}showItem(e){const i=this.items.find(r=>r.tabbedItem===e);i&&this.showItemWrapper(i)}showItemWrapper(e){var i,r,n,s,o,a;const{tabbedItem:l,eHeaderButton:u}=e;if((r=(i=this.params).onItemClicked)==null||r.call(i,{item:l}),this.activeItem===e){(s=(n=this.params).onActiveItemClicked)==null||s.call(n);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Lr(this.eBody),l.bodyPromise.then(c=>{this.eBody.appendChild(c);const d=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,d),l.afterAttachedCallback&&l.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const h=l.getScrollableContainer&&l.getScrollableContainer()||c;this.lastScrollListener=this.addManagedListener(h,"scroll",()=>{this.tabbedItemScrollMap.set(l.name,h.scrollTop)});const f=this.tabbedItemScrollMap.get(l.name);f!==void 0&&setTimeout(()=>{h.scrollTop=f},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(a=(o=this.activeItem.tabbedItem).afterDetachedCallback)==null||a.call(o)),u.classList.add("ag-tab-selected"),this.activeItem=e}};x([V("focusService")],GO.prototype,"focusService",2);x([ke("eHeader")],GO.prototype,"eHeader",2);x([ke("eBody")],GO.prototype,"eBody",2);x([Me],GO.prototype,"postConstruct",1);var IFe=50,E1=class extends Pe{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(t,e){const i=this.gridOptionsService.getWindow(),r=()=>{const a=new i.ResizeObserver(e);return a.observe(t),()=>a.disconnect()},n=()=>{var a,l;let u=(a=t==null?void 0:t.clientWidth)!=null?a:0,c=(l=t==null?void 0:t.clientHeight)!=null?l:0,d=!0;const h=()=>{var f,g;if(d){const v=(f=t==null?void 0:t.clientWidth)!=null?f:0,C=(g=t==null?void 0:t.clientHeight)!=null?g:0;(v!==u||C!==c)&&(u=v,c=C,e()),this.doNextPolyfillTurn(h)}};return h(),()=>d=!1},s=this.gridOptionsService.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!s?r():this.getFrameworkOverrides().wrapIncoming(()=>n(),"resize-observer")}doNextPolyfillTurn(t){this.polyfillFunctions.push(t),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const t=()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach(i=>i())};this.polyfillScheduled=!0,window.setTimeout(t,IFe)}};E1=x([We("resizeObserverService")],E1);var Jm=class extends Pe{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(t){const e=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&t===0){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,i){this.verifyAnimationFrameOn(i);const r={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],r),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;const e=this.scrollGoingDown?1:-1;t.list.sort((i,r)=>i.index!==r.index?e*(r.index-i.index):r.createOrder-i.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1,i=e.list,r=this.createTasksP2,n=r.list,s=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=t<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<t;){if(!u.getScrollFeature().scrollGridIfNeeded()){let d;if(i.length)this.sortTaskList(e),d=i.pop().task;else if(n.length)this.sortTaskList(r),d=n.pop().task;else if(s.length)d=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(d)||d()}a=new Date().getTime()-o}i.length||n.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=this.gridOptionsService.getWindow();e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{if(!this.isOn()){window.setTimeout(t,0);return}e||(e=!0,this.addDestroyTask(()=>{e=!1,t()}))}}};x([V("ctrlsService")],Jm.prototype,"ctrlsService",2);x([V("paginationProxy")],Jm.prototype,"paginationProxy",2);x([Me],Jm.prototype,"init",1);Jm=x([We("animationFrameService")],Jm);var ww=class extends Pe{postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(t){if(!this.isClientSideRowModel)return;const e=new Set(t);this.rowModel.forEachNode(i=>{i.id&&e.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const t=[];return this.rowModel.forEachNode(({expanded:e,id:i})=>{e&&i&&t.push(i)}),t}expandAll(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,i){t&&(i&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,e,i),t.setExpanded(e))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};x([V("rowModel")],ww.prototype,"rowModel",2);x([Me],ww.prototype,"postConstruct",1);ww=x([We("expansionService")],ww);var Nl=class extends Pe{postConstruct(){var t;this.activeMenuFactory=(t=this.enterpriseMenuFactory)!=null?t:this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){const e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,!0)}showHeaderContextMenu(t,e,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,i)}showContextMenu(t){var e,i,r;const{column:n,anchorToElement:s,rowNode:o,value:a}=t;(r=this.contextMenuFactory)==null||r.onContextMenu((e=t.mouseEvent)!=null?e:null,(i=t.touchEvent)!=null?i:null,o??null,n??null,a,s)}showColumnChooser(t){var e;(e=this.columnChooserFactory)==null||e.showColumnChooser(t)}hidePopupMenu(){var t;(t=this.contextMenuFactory)==null||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var t;(t=this.columnChooserFactory)==null||t.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){const{suppressMenu:e,suppressHeaderMenuButton:i}=t.getColDef();return!(i??e)&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){return!t.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(t)}isHeaderContextMenuEnabled(t){return!(t!=null&&t.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const t=!this.isSuppressMenuHide();return!(Wc()&&t)}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){return this.filterManager.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(t){var e;const i=t.getColDef(),r=(e=i.floatingFilterComponentParams)==null?void 0:e.suppressFilterButton;return r!=null&&ct("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!r:!i.suppressFloatingFilterButton}getColumnMenuType(){var t;return(t=this.gridOptionsService.get("columnMenu"))!=null?t:"legacy"}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){const t=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?t:!0}showColumnMenuCommon(t,e,i,r){const{column:n,positionBy:s}=e;if(s==="button"){const{buttonElement:o}=e;t.showMenuAfterButtonClick(n,o,i,r)}else if(s==="mouse"){const{mouseEvent:o}=e;t.showMenuAfterMouseEvent(n,o,i,r)}else n&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getHeaderCtrlForColumn(n);t.showMenuAfterButtonClick(n,o.getAnchorElementForMenu(r),i,!0)}))}};x([jt("enterpriseMenuFactory")],Nl.prototype,"enterpriseMenuFactory",2);x([V("filterMenuFactory")],Nl.prototype,"filterMenuFactory",2);x([jt("contextMenuFactory")],Nl.prototype,"contextMenuFactory",2);x([V("ctrlsService")],Nl.prototype,"ctrlsService",2);x([V("animationFrameService")],Nl.prototype,"animationFrameService",2);x([jt("columnChooserFactory")],Nl.prototype,"columnChooserFactory",2);x([V("filterManager")],Nl.prototype,"filterManager",2);x([Me],Nl.prototype,"postConstruct",1);Nl=x([We("menuService")],Nl);var Jp=class extends Pe{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl})}getPreferredWidthForColumn(t,e){const i=this.getHeaderCellForColumn(t);if(!i)return-1;const r=this.rowRenderer.getAllCellsForColumn(t);return e||r.push(i),this.addElementsToContainerAndGetWidth(r)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();t.forEach(s=>this.cloneItemIntoDummy(s,e)),i.appendChild(e);const r=e.offsetWidth;i.removeChild(e);const n=this.getAutoSizePadding();return r+n}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const r=i.getHtmlElementForColumnHeader(t);r!=null&&(e=r)}),e}cloneItemIntoDummy(t,e){const i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const r=document.createElement("div"),n=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(n.add("ag-header","ag-header-row"),r.style.position="static"):n.add("ag-row");let o=t.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&n.add(u)}break}o=o.parentElement}r.appendChild(i),e.appendChild(r)}};x([V("rowRenderer")],Jp.prototype,"rowRenderer",2);x([V("ctrlsService")],Jp.prototype,"ctrlsService",2);x([V("rowCssClassCalculator")],Jp.prototype,"rowCssClassCalculator",2);x([Me],Jp.prototype,"postConstruct",1);Jp=x([We("autoWidthCalculator")],Jp);var _b=class extends Pe{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let t=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],t);const e=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),r=s=>{var o,a,l;e.push(s);let u;if(this.isClientSide){let d=s;for(;d.isExpandable()&&d.expanded;)if(d.master)d=d.detailNode;else if(d.childrenAfterSort){if(d.childrenAfterSort.length===0)break;d=Xt(d.childrenAfterSort)}u=d.rowTop+d.rowHeight}else if(s.master)u=s.detailNode.rowTop+s.detailNode.rowHeight;else{const d=(o=s.childStore)==null?void 0:o.getStoreBounds();u=((a=d==null?void 0:d.heightPx)!=null?a:0)+((l=d==null?void 0:d.topPx)!=null?l:0)}const c=i+t+s.rowHeight;u<c?s.stickyRowTop=t+(u-c):s.stickyRowTop=t,t=0,e.forEach(d=>{const h=d.stickyRowTop+d.rowHeight;t<h&&(t=h)})};let n=0;for(;;){const s=i+t,o=this.rowModel.getRowIndexAtPixel(s),a=this.rowModel.getRow(o);if(a==null||a.level<0||n++===100)break;const l=[];let u=a.parent;for(;u.level>=0;)l.push(u),u=u.parent;const c=l.reverse().find(d=>e.indexOf(d)<0&&d.displayed);if(c){r(c);continue}if(a.isExpandable()&&a.expanded&&a.rowTop<s){r(a);continue}break}return this.refreshNodesAndContainerHeight(e,t)}refreshStickyNode(t){const e=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const r=this.stickyRowCtrls[i].getRowNode();r!==t&&e.push(r)}this.refreshNodesAndContainerHeight(e,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(t,e){let i=!1;const r=this.stickyRowCtrls.filter(a=>t.indexOf(a.getRowNode())===-1),n=t.filter(a=>this.stickyRowCtrls.findIndex(l=>l.getRowNode()===a)===-1);(r.length||n.length)&&(i=!0);const s={};r.forEach(a=>{s[a.getRowNode().id]=a,this.stickyRowCtrls=this.stickyRowCtrls.filter(l=>l!==a)});for(const a of Object.values(s))a.getRowNode().sticky=!1;this.destroyRowCtrls(s,!1);const o=n.map(a=>(a.sticky=!0,this.createRowCon(a,!1,!1)));return this.stickyRowCtrls.push(...o),this.stickyRowCtrls.forEach(a=>a.setRowTop(a.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e),i=!0),i}};x([V("rowModel")],_b.prototype,"rowModel",2);x([V("rowRenderer")],_b.prototype,"rowRenderer",2);x([V("ctrlsService")],_b.prototype,"ctrlsService",2);x([Me],_b.prototype,"postConstruct",1);var Wo=class extends Pe{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const t=()=>{this.getAllCellCtrls().forEach(s=>s.onRangeSelectionChanged())},e=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener(F.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.addEventListener(F.EVENT_COLUMN_MOVED,e),this.eventService.addEventListener(F.EVENT_COLUMN_PINNED,e),this.eventService.addEventListener(F.EVENT_COLUMN_VISIBLE,e)},r=()=>{this.eventService.removeEventListener(F.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.removeEventListener(F.EVENT_COLUMN_MOVED,e),this.eventService.removeEventListener(F.EVENT_COLUMN_PINNED,e),this.eventService.removeEventListener(F.EVENT_COLUMN_VISIBLE,e)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListener("enableRangeSelection",s=>{s.currentValue?i():r()}),this.gridOptionsService.get("enableRangeSelection")&&i()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,F.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,F.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const t=this.rowModel.getType();(t==="clientSide"||t==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new _b(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const t=this.getKeepDetailRowsCount(),e=t??3;this.cachedRowCtrls=new LFe(e)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const t=Yd(this.rowCtrlsByRowIndex),e=Yd(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];e.length>0||i.length>0?this.allRowCtrls=[...t,...e,...i]:this.allRowCtrls=t}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}registerCellEventListeners(){this.addManagedListener(this.eventService,F.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,F.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,F.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(e=>e.onFlashCells(t))}),this.addManagedListener(this.eventService,F.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(e=>{const i=l=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===e&&l(u)})},r=()=>{i(l=>l.onLeftChanged())},n=()=>{i(l=>l.onWidthChanged())},s=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};e.addEventListener("leftChanged",r),e.addEventListener("widthChanged",n),e.addEventListener("firstRightPinnedChanged",s),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",r),e.removeEventListener("widthChanged",n),e.removeEventListener("firstRightPinnedChanged",s),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.get("embedFullWidthRows"),i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){const e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)}getAllCellsForColumn(t){const e=[];return this.getAllRowCtrls().forEach(i=>{const r=i.getCellElement(t);r&&e.push(r)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){t.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),t.length=0,e&&e.forEach(i=>{const r=new Pp(i,this.beans,!1,!1,this.printLayout);t.push(r)})}onPinnedRowDataChanged(){const t={recycleRows:!0};this.redrawAfterModelUpdate(t)}redrawRow(t,e=!1){var i;if(t.sticky)this.stickyRowFeature.refreshStickyNode(t);else if((i=this.cachedRowCtrls)!=null&&i.has(t)){this.cachedRowCtrls.removeRow(t);return}else{const r=n=>{const s=n[t.rowIndex];s&&s.getRowNode()===t&&(s.destroyFirstPass(),s.destroySecondPass(),n[t.rowIndex]=this.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}e||this.dispatchDisplayedRowsChanged(!1)}redrawRows(t){if(t!=null){t==null||t.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){const e=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(e==null)return null;const r=this.gridOptionsService.getDocument().activeElement,n=this.gridOptionsService.getDomData(r,Dp.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(r,Pp.DOM_DATA_KEY_ROW_CTRL);return n||s?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);const i=!t.domLayoutChanged&&!!t.recycleRows,r=t.animate&&this.gridOptionsService.isAnimateRows(),n=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(n,r),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),e!=null&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){const e=t.newData||t.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");e&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){const t=[],e=this.getAllRowCtrls(),i=e.length;for(let r=0;r<i;r++){const n=e[r].getAllCellCtrls(),s=n.length;for(let o=0;o<s;o++)t.push(n[o])}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],e=[...this.topRowCtrls,...this.bottomRowCtrls,...t];for(const i of Object.keys(this.rowCtrlsByRowIndex))e.push(this.rowCtrlsByRowIndex[i]);return e}addRenderedRowListener(t,e,i){const r=this.rowCtrlsByRowIndex[e];r&&r.addEventListener(t,i)}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach(e=>e.flashCell(t))}refreshCells(t={}){const e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>i.refreshOrDestroyCell(e)),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(i=>{if(!i.isFullWidth())return;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(t){var e;const i=this.getCellCtrls(t.rowNodes,t.columns).map(s=>s.getCellRenderer()).filter(s=>s!=null);if((e=t.columns)!=null&&e.length)return i;const r=[],n=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(n&&!this.isRowInMap(s.getRowNode(),n)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(l)}}),[...r,...i]}getCellEditorInstances(t){const e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{const r=i.getCellEditor();r&&e.push(r)}),e}getEditingCells(){const t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){const i=e.getCellPosition();t.push(i)}}),t}mapRowNodes(t){if(!t)return;const e={top:{},bottom:{},normal:{}};return t.forEach(i=>{const r=i.id;i.rowPinned==="top"?e.top[r]=i:i.rowPinned==="bottom"?e.bottom[r]=i:e.normal[r]=i}),e}isRowInMap(t,e){const i=t.id,r=t.rowPinned;return r==="bottom"?e.bottom[i]!=null:r==="top"?e.top[i]!=null:e.normal[i]!=null}getRowCtrls(t){const e=this.mapRowNodes(t),i=this.getAllRowCtrls();return!t||!e?i:i.filter(r=>{const n=r.getRowNode();return this.isRowInMap(n,e)})}getCellCtrls(t,e){let i;Te(e)&&(i={},e.forEach(n=>{const s=this.columnModel.getGridColumn(n);Te(s)&&(i[s.getId()]=!0)}));const r=[];return this.getRowCtrls(t).forEach(n=>{n.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();i&&!i[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}getRowsToRecycle(){const t=[];Zn(this.rowCtrlsByRowIndex,(i,r)=>{r.getRowNode().id==null&&t.push(i)}),this.removeRowCtrls(t);const e={};return Zn(this.rowCtrlsByRowIndex,(i,r)=>{const n=r.getRowNode();e[n.id]=r}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t,e=!1){t.forEach(i=>{const r=this.rowCtrlsByRowIndex[i];r&&(r.destroyFirstPass(e),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(t={}){const{afterScroll:e}=t;let i;this.stickyRowFeature&&p$()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const r=this.firstRenderedRow,n=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());const o=this.firstRenderedRow!==r||this.lastRenderedRow!==n;if(!(e&&!s&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e&&!s),i!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(t,e){const i={};t.forEach(s=>i[s]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!i[s]);this.removeRowCtrls(n,e)}calculateIndexesToDraw(t){let e=Ste(this.firstRenderedRow,this.lastRenderedRow);const i=(n,s)=>{const o=s.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&e.push(o)};Zn(this.rowCtrlsByRowIndex,i),Zn(t,i),e.sort((n,s)=>n-s);const r=[];for(let n=0;n<e.length;n++){const s=e[n],o=this.paginationProxy.getRow(s);o&&!o.sticky&&r.push(s)}return r}recycleRows(t,e=!1,i=!1){const r=this.calculateIndexesToDraw(t);(this.printLayout||i)&&(e=!1),this.removeRowCompsNotToDraw(r,!e),r.forEach(n=>{this.createOrUpdateRowCtrl(n,t,e,i)}),t&&(i&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,e)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){const e={type:F.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(e)}onDisplayedColumnsChanged(){const t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach(e=>{const i=e.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const r=i.getRowNode();return!(e!=null&&!this.isRowInMap(r,e))})}createOrUpdateRowCtrl(t,e,i,r){let n,s=this.rowCtrlsByRowIndex[t];if(s||(n=this.paginationProxy.getRow(t),Te(n)&&Te(e)&&e[n.id]&&n.alreadyRendered&&(s=e[n.id],e[n.id]=null)),!s)if(n||(n=this.paginationProxy.getRow(t)),Te(n))s=this.createRowCon(n,i,r);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s}destroyRowCtrls(t,e){const i=[];Zn(t,(r,n)=>{if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);return}n.destroyFirstPass(!e),e?(this.zombieRowCtrls[n.getInstanceId()]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[n.getInstanceId()]})):n.destroySecondPass()}}),e&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),Pee(i))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){const t=this.getRowBuffer(),e=this.gridOptionsService.getRowHeightAsNumber();return t*e}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let t,e;if(!this.paginationProxy.isRowsToRender())t=0,e=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),u=this.gridOptionsService.get("suppressRowVirtualisation");let c=!1,d,h;do{const S=this.paginationProxy.getPixelOffset(),{pageFirstPixel:y,pageLastPixel:w}=this.paginationProxy.getCurrentPagePixelRange(),E=this.rowContainerHeightService.getDivStretchOffset(),b=l.getScrollFeature().getVScrollPosition(),D=b.top,P=b.bottom;u?(d=y+E,h=w+E):(d=Math.max(D+S-a,y)+E,h=Math.min(P+S+a,w)+E),this.firstVisibleVPixel=Math.max(D+S,y)+E,c=this.ensureAllRowsInRangeHaveHeightsCalculated(d,h)}while(c);let f=this.paginationProxy.getRowIndexAtPixel(d),g=this.paginationProxy.getRowIndexAtPixel(h);const v=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();f<v&&(f=v),g>C&&(g=C),t=f,e=g}const i=this.gridOptionsService.isDomLayout("normal"),r=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),n=Math.max(this.getRowBuffer(),500);i&&!r&&e-t>n&&(e=t+n);const s=t!==this.firstRenderedRow,o=e!==this.lastRenderedRow;if(s||o){this.firstRenderedRow=t,this.lastRenderedRow=e;const a={type:F.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e};this.eventService.dispatchEvent(a)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const t={type:F.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(t)})}ensureAllRowsInRangeHaveHeightsCalculated(t,e){const i=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const r=t.getRowNode(),n=this.focusService.isRowNodeFocused(r),s=t.isEditing(),o=r.detail;return n||s||o?!!this.paginationProxy.isRowPresent(r):!1}createRowCon(t,e,i){const r=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(r)return r;const n=this.gridOptionsService.get("suppressAnimationFrame"),s=i&&!n&&!this.printLayout;return new Pp(t,this.beans,e,s,this.printLayout)}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.keys(t).map(e=>t[e].getRowNode())}getRowByPosition(t){let e;const{rowIndex:i}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[i];break;case"bottom":e=this.bottomRowCtrls[i];break;default:e=this.rowCtrlsByRowIndex[i],e||(e=this.getStickyTopRowCtrls().find(r=>r.getRowNode().rowIndex===i)||null);break}return e}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}isRangeInRenderedViewport(t,e){if(t==null||e==null)return!1;const r=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!r}};x([V("animationFrameService")],Wo.prototype,"animationFrameService",2);x([V("paginationProxy")],Wo.prototype,"paginationProxy",2);x([V("columnModel")],Wo.prototype,"columnModel",2);x([V("pinnedRowModel")],Wo.prototype,"pinnedRowModel",2);x([V("rowModel")],Wo.prototype,"rowModel",2);x([V("focusService")],Wo.prototype,"focusService",2);x([V("beans")],Wo.prototype,"beans",2);x([V("rowContainerHeightService")],Wo.prototype,"rowContainerHeightService",2);x([V("ctrlsService")],Wo.prototype,"ctrlsService",2);x([Me],Wo.prototype,"postConstruct",1);Wo=x([We("rowRenderer")],Wo);var LFe=class{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(t==null||t.id==null)return null;const e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}has(t){return this.entriesMap[t.id]!=null}removeRow(t){const e=t.id,i=this.entriesMap[e];delete this.entriesMap[e],Us(this.entriesList,i)}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e],Us(this.entriesList,t)}getEntries(){return this.entriesList}},px=class extends Pe{formatValue(t,e,i,r,n=!0){let s=null,o;const a=t.getColDef();if(r?o=r:n&&(o=a.valueFormatter),o){const l=this.gridOptionsService.addGridCommonParams({value:i,node:e,data:e?e.data:null,colDef:a,column:t});typeof o=="function"?s=o(l):s=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s}};x([V("expressionService")],px.prototype,"expressionService",2);px=x([We("valueFormatterService")],px);var Ew=class extends Pe{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(t){const e=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Po(e)}isRowsToRender(t){return!this.isEmpty(t)}getRowAtPixel(t,e){const i=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Po(i))return 0;for(let r=0;r<i.length;r++){const n=i[r];if(n.rowTop+n.rowHeight-1>=t)return r}return i.length-1}setPinnedTopRowData(){const t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0);const e={type:F.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)}setPinnedBottomRowData(){const t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1);const e={type:F.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)}createNodesFromData(t,e){const i=[];if(t){let r=0;t.forEach((n,s)=>{const o=new Ot(this.beans);o.data=n;const a=e?Ot.ID_PREFIX_TOP_PINNED:Ot.ID_PREFIX_BOTTOM_PINNED;o.id=a+s,o.rowPinned=e?"top":"bottom",o.setRowTop(r),o.setRowHeight(this.gridOptionsService.getRowHeightForNode(o).height),o.setRowIndex(s),r+=o.rowHeight,i.push(o)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(t){return this.pinnedTopRows[t]}getPinnedBottomRow(t){return this.pinnedBottomRows[t]}forEachPinnedTopRow(t){Po(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)}forEachPinnedBottomRow(t){Po(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(t){if(!t||t.length===0)return 0;const e=Xt(t);return e.rowTop+e.rowHeight}};x([V("beans")],Ew.prototype,"beans",2);x([Me],Ew.prototype,"init",1);Ew=x([We("pinnedRowModel")],Ew);var kO=class{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)}depthFirstSearchEverything(t,e,i){if(t.childrenAfterGroup)for(let r=0;r<t.childrenAfterGroup.length;r++){const n=t.childrenAfterGroup[r];n.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,i):i&&e(n)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,i=0;for(;!this.mapToItems[e.id];){const r={rowNode:e,children:null};this.mapToItems[e.id]=r,i++,e=e.parent}return i}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let i=t;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(r=>this.nodeIdsToColumns[i.id][r.getId()]=!0),i=i.parent}linkPathItems(t,e){let i=t;for(let r=0;r<e;r++){const n=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(n),i=i.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;const i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;const i=this.nodeIdsToColumns[t.id];return e.filter(n=>i[n.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[t.id];return e.filter(n=>!i[n.getId()])}},sC=class zh extends Pe{constructor(e){super(),this.state=zh.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=zh.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=zh.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=zh.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,i){this.successCommon(e,i)}pageLoaded(e,i,r){this.successCommon(e,{rowData:i,rowCount:r})}isRequestMostRecentAndLive(e){const i=e===this.version,r=this.isAlive();return i&&r}successCommon(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=zh.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(e=!0){const i={type:zh.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(i)}};sC.EVENT_LOAD_COMPLETE="loadComplete";sC.STATE_WAITING_TO_LOAD="needsLoading";sC.STATE_LOADING="loading";sC.STATE_LOADED="loaded";sC.STATE_FAILED="failed";var b1=sC,Au=class extends Pe{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const t=this.gridOptionsService.get("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=ft.debounce(this.performCheckBlocksToLoad.bind(this),t))}setBeans(t){this.logger=t.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const t=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(t==null)return 2;if(!(t<=0))return t}addBlock(t){this.blocks.push(t),t.addEventListener(b1.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(t){ft.removeFromArray(this.blocks,t)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Au.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:Au.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const t=this.getAvailableLoadingCount(),e=this.blocks.filter(i=>i.getState()===b1.STATE_WAITING_TO_LOAD).slice(0,t);this.registerLoads(e.length),e.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const t={};return this.blocks.forEach(e=>{const{id:i,state:r}=e.getBlockStateJson();t[i]=r}),t}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Au.BLOCK_LOADED_EVENT="blockLoaded";Au.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";x([V("rowModel")],Au.prototype,"rowModel",2);x([Me],Au.prototype,"postConstruct",1);x([Cl(0,ba("loggerFactory"))],Au.prototype,"setBeans",1);Au=x([We("rowNodeBlockLoader")],Au);var bw=class extends Pe{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,F.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(t,e,i,r){const n=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return n&&this.calculatePages(),n}isPaginateChildRows(){return this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.get("paginateChildRows")}onModelUpdated(t){this.calculatePages();const e={type:F.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,newPageSize:t?t.newPageSize:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(e)}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();const t={type:F.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(t){if(!this.active||this.currentPage===t||typeof this.currentPage!="number")return;this.currentPage=t;const e={type:F.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(e)}getPixelOffset(){return this.pixelOffset}getRow(t){return this.rowModel.getRow(t)}getRowNode(t){return this.rowModel.getRowNode(t)}getRowIndexAtPixel(t){return this.rowModel.getRowIndexAtPixel(t)}getCurrentPageHeight(){return ht(this.topRowBounds)||ht(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const t=this.topRowBounds?this.topRowBounds.rowTop:0,e=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:e}}isRowPresent(t){return this.rowModel.isRowPresent(t)?t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(t){return this.rowModel.forEachNode(t)}forEachNodeOnPage(t){const e=this.getPageFirstRow(),i=this.getPageLastRow();for(let r=e;r<=i;r++){const n=this.getRow(r);n&&t(n)}}getType(){return this.rowModel.getType()}getRowBounds(t){const e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return this.active?this.getPageForIndex(t.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){return Te(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:Te(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Te(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Te(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:F.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(t,e){const i=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){const r={type:F.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(r)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Te(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const e=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const r=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=r-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};x([V("rowModel")],bw.prototype,"rowModel",2);x([Me],bw.prototype,"postConstruct",1);bw=x([We("paginationProxy")],bw);var fx=class extends Pe{processAllCellClasses(t,e,i,r){this.processClassRules(void 0,t.cellClassRules,e,i,r),this.processStaticCellClasses(t,e,i)}processClassRules(t,e,i,r,n){if(e==null&&t==null)return;const s={},o={},a=(l,u)=>{l.split(" ").forEach(c=>{c.trim()!=""&&u(c)})};if(e){const l=Object.keys(e);for(let u=0;u<l.length;u++){const c=l[u],d=e[c];let h;typeof d=="string"?h=this.expressionService.evaluate(d,i):typeof d=="function"&&(h=d(i)),a(c,f=>{h?s[f]=!0:o[f]=!0})}}t&&n&&Object.keys(t).forEach(l=>a(l,u=>{s[u]||(o[u]=!0)})),n&&Object.keys(o).forEach(n),Object.keys(s).forEach(r)}getStaticCellClasses(t,e){const{cellClass:i}=t;if(!i)return[];let r;return typeof i=="function"?r=i(e):r=i,typeof r=="string"&&(r=[r]),r||[]}processStaticCellClasses(t,e,i){this.getStaticCellClasses(t,e).forEach(n=>{i(n)})}};x([V("expressionService")],fx.prototype,"expressionService",2);fx=x([We("stylingService")],fx);var Wie=class extends TO{constructor(t){super(t,"ag-toggle-button")}setValue(t,e){return super.setValue(t,e),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},_Fe=class extends Sl{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const i=super.setValue(t,e);return this.eInput.value=t,i}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}},NFe=class extends Vf{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const t=xu();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||t||this.eInput.focus()}),this.eInput.step="any"}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}setMin(t){var e;const i=t instanceof Date?(e=Aa(t??null,!1))!=null?e:void 0:t;return this.min===i?this:(this.min=i,mu(this.eInput,"min",i),this)}setMax(t){var e;const i=t instanceof Date?(e=Aa(t??null,!1))!=null?e:void 0:t;return this.max===i?this:(this.max=i,mu(this.eInput,"max",i),this)}setStep(t){return this.step===t?this:(this.step=t,mu(this.eInput,"step",t),this)}getDate(){var t;if(this.eInput.validity.valid)return(t=Ys(this.getValue()))!=null?t:void 0}setDate(t,e){this.setValue(Aa(t??null,!1),e)}},GFe=class extends Sl{constructor(t){super(t,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:t,max:e,step:i}=this.config;t!=null&&this.setMinValue(t),e!=null&&this.setMaxValue(e),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>{const e=t.target.value;this.setValue(e)})}setMinValue(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this}setMaxValue(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this}setStep(t){return this.eInput.setAttribute("step",t.toString()),this}setValue(t,e){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());const i=super.setValue(t,e);return this.eInput.value=t,i}},j$=class extends Et{constructor(t,e){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=t,this.wrapperEl=e}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(t){let e="";this.params.valueFormatter&&(e=this.params.valueFormatter(t)),this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.value=t}highlightString(t){const{parsedValue:e}=this;if(this.params.cellRenderer||!Te(e))return;let i=Te(t);if(i){const r=e==null?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(r>=0){const n=r+t.length,s=Kr(e.slice(0,r),!0),o=Kr(e.slice(r,n),!0),a=Kr(e.slice(n));this.renderValueWithoutRenderer(`${s}<span class="ag-rich-select-row-text-highlight">${o}</span>${a}`)}else i=!1}i||this.renderValueWithoutRenderer(e)}updateHighlighted(t){var e;const i=this.getGui(),r=`ag-rich-select-row-${this.getCompId()}`;if((e=i.parentElement)==null||e.setAttribute("id",r),t){const n=this.getParentComponent().getAriaElement();o$(n,r),this.wrapperEl.setAttribute("data-active-option",r)}qm(i.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)}populateWithoutRenderer(t,e){const i=this.gridOptionsService.getDocument(),r=this.getGui(),n=i.createElement("span");n.style.overflow="hidden",n.style.textOverflow="ellipsis";const s=Kr(Te(e)?e:t,!0);this.parsedValue=Te(s)?s:null,r.appendChild(n),this.renderValueWithoutRenderer(s),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})}renderValueWithoutRenderer(t){const e=this.getGui().querySelector("span");e&&(e.innerHTML=Te(t)?t:"&nbsp;")}populateWithRenderer(t,e){let i,r;return this.params.cellRenderer&&(r=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:e,setTooltip:(n,s)=>{this.setTooltip({newTooltipText:n,shouldDisplayTooltip:s})}})),r&&(i=r.newAgStackInstance()),i&&T$(i,this.getGui()),i?(i.then(n=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(n)})}),!0):!1}onClick(){const t=this.getParentComponent(),e={type:F.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t==null||t.dispatchEvent(e)}};x([V("userComponentFactory")],j$.prototype,"userComponentFactory",2);x([Me],j$.prototype,"postConstruct",1);var Nb=class Uie extends Lb{constructor(e){super(Uie.getTemplate((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:r="listbox",listName:n}=e||{};this.cssIdentifier=i,this.ariaRole=r,this.listName=n}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),r=this.eContainer;hr(r,this.ariaRole),_l(r,i)}addResizeObserver(){const e=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),i=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(i)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const i=e.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=ete(i)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case de.UP:case de.DOWN:this.navigate(e.key===de.UP)&&e.preventDefault();break}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(Ll(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(this.lastFocusedRowIndex==null)return!1;const i=this.lastFocusedRowIndex+(e?-1:1);return i<0||i>=this.model.getRowCount()?!1:(this.focusRow(i),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const i=this.renderedRows.get(e);i&&i.eDiv.focus()},10)}getComponentAt(e){const i=this.renderedRows.get(e);return i&&i.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((i,r)=>e(i.rowComponent,r))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e,i=!0){const r=this.model.getRowCount();if(typeof e!="number"||e<0||e>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const n=e*this.rowHeight,s=n+this.rowHeight,o=this.getGui(),a=o.scrollTop,l=o.offsetHeight,u=a+l,c=i?0:this.rowHeight,d=a>n+c,h=u<s-c;if(d)return o.scrollTop=n,!0;if(h){const f=s-l;return o.scrollTop=f,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const i=this.model.getRowCount();this.eContainer.style.height=`${i*this.rowHeight}px`,JH(()=>this.eContainer.clientHeight>=i*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,i)=>this.removeRow(i))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const i=this.getGui(),r=i.scrollTop,n=r+i.offsetHeight,s=Math.floor(r/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(s,o,e)}ensureRowsRendered(e,i,r){this.renderedRows.forEach((n,s)=>{(s<e||s>i)&&s!==this.lastFocusedRowIndex&&this.removeRow(s)}),r&&this.refreshRows();for(let n=e;n<=i;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)}insertRow(e){const i=this.model.getRow(e),r=document.createElement("div");r.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),hr(r,this.ariaRole==="tree"?"treeitem":"option"),gO(r,this.model.getRowCount()),mO(r,e+1),r.setAttribute("tabindex","-1"),r.style.height=`${this.rowHeight}px`,r.style.top=`${this.rowHeight*e}px`;const n=this.componentCreator(i,r);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),r.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(e,{rowComponent:n,eDiv:r,value:i})}removeRow(e){const i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((i,r)=>{var n,s;if(r>=e)this.removeRow(r);else{const o=this.model.getRow(r);(s=(n=this.model).areRowsEqual)!=null&&s.call(n,i.value,o)?this.componentUpdater(o,i.rowComponent):this.removeRow(r)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};x([V("resizeObserverService")],Nb.prototype,"resizeObserverService",2);x([V("animationFrameService")],Nb.prototype,"animationFrameService",2);x([ke("eContainer")],Nb.prototype,"eContainer",2);x([Me],Nb.prototype,"postConstruct",1);var zie=Nb,kFe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,K$=class extends kf{constructor(t){var e,i;super(Ui(it({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(e=t==null?void 0:t.template)!=null?e:kFe,modalPicker:!1},t),{maxPickerHeight:(i=t==null?void 0:t.maxPickerHeight)!=null?i:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:r,value:n,valueList:s,searchStringCreator:o}=t||{};r!=null&&(this.cellRowHeight=r),n!==void 0&&(this.value=n),s!=null&&(this.values=s),o&&(this.searchStringCreator=o)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:t,placeholder:e}=this.config;t?(this.eInput.setAutoComplete(!1).setInputPlaceholder(e),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=vs(this.clearSearchString,i),this.renderSelectedValue(),t&&(this.eInput.onValueChange(r=>this.searchTextFromString(r)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const t=this.gridOptionsService.getDocument(),e=this.localeService.getLocaleTextFunc(),i=t.createElement("div");i.classList.add("ag-loading-text"),i.innerText=e("loadingOoo","Loading..."),this.eLoading=i}createListComponent(){this.listComponent=this.createBean(new zie({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));const t=(a,l)=>{};this.listComponent.setComponentUpdater(t),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,F.EVENT_FIELD_PICKER_VALUE_SELECTED,a=>{this.onListValueSelected(a.value,a.fromEnterKey)});const{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);const i=this.listComponent.getGui(),r=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",a=>a.preventDefault()),i.classList.add("ag-rich-select-list");const n=`ag-rich-select-list-${this.listComponent.getCompId()}`;r.setAttribute("id",n);const o=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);_l(r,o),u$(this.eWrapper,r)}renderSelectedValue(){const{value:t,eDisplayField:e,config:i}=this,{allowTyping:r,initialInputValue:n}=this.config,s=this.config.valueFormatter?this.config.valueFormatter(t):t;if(r){this.eInput.setValue(n??s);return}let o;i.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:t,valueFormatted:s}));let a;if(o&&(a=o.newAgStackInstance()),a)Lr(e),T$(a,e),a.then(l=>{this.addDestroyFunc(()=>this.getContext().destroyBean(l))});else{if(Te(this.value))e.innerText=s,e.classList.remove("ag-display-as-placeholder");else{const{placeholder:l}=i;Te(l)?(e.innerHTML=`${Kr(l)}`,e.classList.add("ag-display-as-placeholder")):Lr(e)}this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:t,value:e}=this;if(e==null||!t)return-1;for(let i=0;i<t.length;i++)if(t[i]===e)return i;return-1}highlightFilterMatch(){var t;(t=this.listComponent)==null||t.forEachRenderedRow((e,i)=>{e.highlightString(this.searchString)})}highlightSelectedValue(t){var e;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(e=this.listComponent)==null||e.forEachRenderedRow((i,r)=>{const n=t===-1?!1:this.highlightedItem===r;i.updateHighlighted(n)})}setRowHeight(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)}createPickerComponent(){const{values:t}=this;return t&&this.setValueList({valueList:t}),this.listComponent}setSearchStringCreator(t){this.searchStringCreator=t}setValueList(t){const{valueList:e,refresh:i}=t;this.listComponent&&this.currentList!==e&&(this.currentList=e,this.listComponent.setModel({getRowCount:()=>e.length,getRow:r=>e[r],areRowsEqual:(r,n)=>r===n}),i&&(this.values?this.listComponent.refresh(!0):(this.values=e,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var t,e;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(t=this.eLoading)!=null&&t.offsetParent&&((e=this.eLoading.parentElement)==null||e.removeChild(this.eLoading));const i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const t=this.eInput.getFocusableElement();t.focus(),t.select()}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(t){let{key:e}=t;if(e===de.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!SO(t))return;t.preventDefault(),this.searchTextFromCharacter(e)}searchTextFromCharacter(t){this.searchString+=t,this.runSearch(),this.clearSearchString()}searchTextFromString(t){t==null&&(t=""),this.searchString=t,this.runSearch()}buildSearchStrings(t){const{valueFormatter:e=r=>r}=this.config;let i;return typeof t[0]=="number"||typeof t[0]=="string"?i=t.map(r=>e(r)):typeof t[0]=="object"&&this.searchStringCreator&&(i=this.searchStringCreator(t)),i}getSuggestionsAndFilteredValues(t,e){let i=[],r=[];if(!t.length)return{suggestions:i,filteredValues:r};const{searchType:n="fuzzy",filterList:s}=this.config;if(n==="fuzzy"){const o=Rb(this.searchString,e,!0);i=o.values;const a=o.indices;if(s&&a.length)for(let l=0;l<a.length;l++)r.push(this.values[a[l]])}else i=e.filter((o,a)=>{const l=o.toLocaleLowerCase(),u=this.searchString.toLocaleLowerCase(),c=n==="match"?l.startsWith(u):l.indexOf(u)!==-1;return s&&c&&r.push(this.values[a]),c});return{suggestions:i,filteredValues:r}}filterListModel(t){const{filterList:e}=this.config;e&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())}runSearch(){var t,e;const{values:i}=this,r=this.buildSearchStrings(i);if(!r){this.highlightSelectedValue(-1);return}const{suggestions:n,filteredValues:s}=this.getSuggestionsAndFilteredValues(this.searchString,r),{filterList:o,highlightMatch:a,searchType:l="fuzzy"}=this.config,u=s.length,c=!!(o&&this.searchString!=="");if(this.filterListModel(c?s:i),n.length){const d=c?0:r.indexOf(n[0]);this.selectListItem(d)}else if(this.highlightSelectedValue(-1),!c||u)(t=this.listComponent)==null||t.ensureIndexVisible(0);else if(c){this.getAriaElement().removeAttribute("data-active-option");const d=(e=this.listComponent)==null?void 0:e.getAriaElement();d&&o$(d,null)}a&&l!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var t;const e=(t=this.listComponent)==null?void 0:t.getGui(),i=this.currentList?this.currentList.length===0:!1;e==null||e.classList.toggle("ag-hidden",i)}clearSearchString(){this.searchString=""}selectListItem(t,e){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length)return;this.listComponent.ensureIndexVisible(t,!e)&&!e&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}setValue(t,e,i){const r=this.currentList?this.currentList.indexOf(t):-1;return r===-1?this:(this.value=t,i||this.selectListItem(r),this.renderSelectedValue(),super.setValue(t,e))}createRowComponent(t){const e=new j$(this.config,this.eWrapper);e.setParentComponent(this.listComponent),this.getContext().createBean(e),e.setState(t);const{highlightMatch:i,searchType:r="fuzzy"}=this.config;return i&&r!=="fuzzy"&&e.highlightString(this.searchString),e}getRowForMouseEvent(t){const{listComponent:e}=this;if(!e)return-1;const r=(e==null?void 0:e.getGui()).getBoundingClientRect(),n=e.getScrollTop(),s=t.clientY-r.top+n;return Math.floor(s/e.getRowHeight())}onPickerMouseMove(t){if(!this.listComponent)return;const e=this.getRowForMouseEvent(t);e!==-1&&e!=this.lastRowHovered&&(this.lastRowHovered=e,this.selectListItem(e,!0))}onNavigationKeyDown(t,e){t.preventDefault();const i=e===de.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}const r=this.highlightedItem,s=r===-1?0:r+(i?1:-1);this.selectListItem(s)}onEnterKeyDown(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(t,e){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,e),this.hidePicker()}dispatchPickerEvent(t,e){const i={type:F.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:e,value:t};this.dispatchEvent(i)}getFocusableElement(){const{allowTyping:t}=this.config;return t?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(t){const e=t.key,{allowTyping:i}=this.config;switch(e){case de.LEFT:case de.RIGHT:case de.PAGE_HOME:case de.PAGE_END:i||t.preventDefault();break;case de.PAGE_UP:case de.PAGE_DOWN:t.preventDefault();break;case de.DOWN:case de.UP:this.onNavigationKeyDown(t,e);break;case de.ESCAPE:this.isPickerDisplayed&&(Bo(this.listComponent.getGui())&&(t.preventDefault(),Ll(t)),this.hidePicker());break;case de.ENTER:this.onEnterKeyDown(t);break;case de.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(t)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};x([V("userComponentFactory")],K$.prototype,"userComponentFactory",2);x([ke("eInput")],K$.prototype,"eInput",2);var oC=class jie extends A${constructor(e){super(e,jie.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:e,maxValue:i,textFieldWidth:r,step:n,value:s,onValueChange:o}=this.config;e!=null&&this.setMinValue(e),i!=null&&this.setMaxValue(i),r!=null&&this.setTextFieldWidth(r),n!=null&&this.setStep(n),s!=null&&this.setValue(s),o!=null&&this.onValueChange(o)}onValueChange(e){const i=F.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,()=>{const r=parseFloat(this.eText.getValue());this.eSlider.setValue(r.toString(),!0),e(r||0)}),this.addManagedListener(this.eSlider,i,()=>{const r=this.eSlider.getValue();this.eText.setValue(r,!0),e(parseFloat(r))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,i){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),i||this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};oC.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;x([ke("eLabel")],oC.prototype,"eLabel",2);x([ke("eSlider")],oC.prototype,"eSlider",2);x([ke("eText")],oC.prototype,"eText",2);x([Me],oC.prototype,"init",1);var VFe=oC,ph=class Lg extends Et{constructor(e={}){super(Lg.getTemplate(e)),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:r,suppressEnabledCheckbox:n,expanded:s,suppressToggleExpandOnEnableChange:o,useToggle:a}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=i??!0,this.items=r||[],this.useToggle=a??!1,this.alignItems=e.alignItems||"center",this.expanded=s??!0,n!=null&&(this.suppressEnabledCheckbox=n),o!=null&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(e){const i=e.cssIdentifier||"default",r=e.direction||"vertical";return`
            <div class="ag-group ag-${i}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${r} ag-${i}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const n=this.items;this.items=[],this.addItems(n)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:i,suppressOpenCloseIcons:r}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(r??!1),this.refreshChildDisplay(),Vt(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(n=>{this.setEnabled(n,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(n)}),i!=null&&this.onEnableChange(i)}refreshChildDisplay(){var e;Vt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),(e=this.eTitleBar)==null||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const i=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(i),this}toggleGroupExpand(e){var i;let r=!1;if((i=this.eTitleBar)!=null&&i.isSuppressCollapse()&&!this.useToggle)e=!0,r=!0;else if(e=e??!this.expanded,this.expanded===e)return this;return this.expanded=e,this.refreshChildDisplay(),Vt(this.eContainer,e),r||this.dispatchEvent({type:e?Lg.EVENT_EXPANDED:Lg.EVENT_COLLAPSED}),this}addItems(e){e.forEach(i=>this.addItem(i))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,i){const r=this.eContainer,n=e instanceof Et?e.getGui():e;n.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i?(r.insertAdjacentElement("afterbegin",n),this.items.unshift(n)):(r.appendChild(n),this.items.push(n))}hideItem(e,i){const r=this.items[i];Vt(r,!e)}getItemIndex(e){const i=e instanceof Et?e.getGui():e;return this.items.indexOf(i)}setTitle(e){var i;return(i=this.eTitleBar)==null||i.setTitle(e),this}addCssClassToTitleBar(e){var i;(i=this.eTitleBar)==null||i.addCssClass(e)}dispatchEnableChangeEvent(e){const i={type:Lg.EVENT_ENABLE_CHANGE,enabled:e};this.dispatchEvent(i)}setEnabled(e,i,r){var n;return this.enabled=e,this.refreshDisabledStyles(),r||this.toggleGroupExpand(e),i||(this.cbGroupEnabled.setValue(e),(n=this.eToggle)==null||n.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListener(this,Lg.EVENT_ENABLE_CHANGE,i=>e(i.enabled)),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var i;return(i=this.eTitleBar)==null||i.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const i=!this.enabled;this.eContainer.classList.toggle("ag-disabled",i),(e=this.eTitleBar)==null||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&i),this.eContainer.classList.toggle("ag-disabled-group-container",i)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new AK(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,AK.EVENT_EXPAND_CHANGED,i=>this.toggleGroupExpand(i.expanded)),e}createToggleTitleBar(){var e;const i=this.createManagedBean(new Wie({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:r=>{this.setEnabled(r,!0),this.dispatchEnableChangeEvent(r)}}));return i.addCssClass("ag-group-title-bar"),i.addCssClass(`ag-${(e=this.params.cssIdentifier)!=null?e:"default"}-group-title-bar ag-unselectable`),this.eToggle=i,this.toggleGroupExpand(this.enabled),i}};ph.EVENT_EXPANDED="expanded";ph.EVENT_COLLAPSED="collapsed";ph.EVENT_ENABLE_CHANGE="enableChange";x([ke("eToolbar")],ph.prototype,"eToolbar",2);x([ke("cbGroupEnabled")],ph.prototype,"cbGroupEnabled",2);x([ke("eContainer")],ph.prototype,"eContainer",2);x([Me],ph.prototype,"postConstruct",1);var HFe=ph,aC=class R1 extends Et{constructor(e={}){super(R1.getTemplate(e)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:r}=e;this.title=i,r!=null&&(this.suppressOpenCloseIcons=r)}static getTemplate(e){var i;const r=(i=e.cssIdentifier)!=null?i:"default";return`
            <div class="ag-group-title-bar ag-${r}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${r}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(pa("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(pa("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",e=>{switch(e.key){case de.ENTER:case de.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case de.RIGHT:case de.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===de.RIGHT);break}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||wc(this.getGui(),e)}refreshOpenCloseIcons(e){const i=!this.suppressOpenCloseIcons;Vt(this.eGroupOpenedIcon,i&&e),Vt(this.eGroupClosedIcon,i&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){const i={type:R1.EVENT_EXPAND_CHANGED,expanded:e};this.dispatchEvent(i)}setTitle(e){return this.eTitle.innerText=e||"",Vt(this.getGui(),e!=null),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const i=this.getGui();e?(i.classList.add("ag-disabled-group-title-bar"),i.removeAttribute("tabindex")):(i.classList.remove("ag-disabled-group-title-bar"),typeof this.title=="string"?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex"))}};aC.EVENT_EXPAND_CHANGED="expandedChanged";x([ke("eGroupOpenedIcon")],aC.prototype,"eGroupOpenedIcon",2);x([ke("eGroupClosedIcon")],aC.prototype,"eGroupClosedIcon",2);x([ke("eTitle")],aC.prototype,"eTitle",2);x([Me],aC.prototype,"postConstruct",1);var AK=aC,Y$=class extends Lb{constructor(t=0,e){super('<div class="ag-menu-list" role="tree"></div>'),this.level=t,this.menuItems=[],this.params=e??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.handleFocusIn(t),onFocusOut:t=>this.handleFocusOut(t)})}onTabKeyDown(t){const e=this.getParentComponent(),i=e&&e.getGui();i&&i.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)}handleKeyDown(t){switch(t.key){case de.UP:case de.RIGHT:case de.DOWN:case de.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case de.ESCAPE:this.closeIfIsChild()&&Ll(t);break}}handleFocusIn(t){var e,i;const r=t.relatedTarget;!this.tabGuardCtrl.isTabGuard(r)&&(this.getGui().contains(r)||(i=(e=this.activeMenuItem)==null?void 0:e.getSubMenuGui())!=null&&i.contains(r))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(t){var e;const i=t.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||(e=this.activeMenuItem.getSubMenuGui())!=null&&e.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(t){t!=null&&Tr.all(t.map(e=>e==="separator"?Tr.resolve({eGui:this.createSeparator()}):typeof e=="string"?(console.warn(`AG Grid: unrecognised menu item ${e}`),Tr.resolve({eGui:null})):this.addItem(e))).then(e=>{e.forEach(i=>{i!=null&&i.eGui&&(this.appendChild(i.eGui),i.comp&&this.menuItems.push(i.comp))})})}addItem(t){const e=this.createManagedBean(new PT);return e.init({menuItemDef:t,isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(e.setParentComponent(this),this.addManagedListener(e,PT.EVENT_CLOSE_MENU,i=>{this.dispatchEvent(i)}),this.addManagedListener(e,PT.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem}),{comp:e,eGui:e.getGui()}))}activateFirstItem(){const t=this.menuItems.filter(e=>!e.isDisabled())[0];t&&t.activate()}createSeparator(){return qs(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(t){switch(t){case de.UP:case de.DOWN:const i=this.findNextItem(t===de.UP);i&&i!==this.activeMenuItem&&i.activate();return}const e=this.gridOptionsService.get("enableRtl")?de.RIGHT:de.LEFT;t===e?this.closeIfIsChild():this.openChild()}closeIfIsChild(t){const e=this.getParentComponent();return e&&e instanceof PT?(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(t){const e=this.menuItems.filter(n=>!n.isDisabled());if(!e.length)return;if(!this.activeMenuItem)return t?Xt(e):e[0];t&&e.reverse();let i,r=!1;for(let n=0;n<e.length;n++){const s=e[n];if(!r){s===this.activeMenuItem&&(r=!0);continue}i=s;break}return r&&!i?e[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};x([V("focusService")],Y$.prototype,"focusService",2);x([Me],Y$.prototype,"postConstruct",1);var Kie=class extends Lb{constructor(t){super(),this.wrappedComponent=t,this.setTemplateFromElement(t.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)})}handleKeyDown(t){t.key===de.ESCAPE&&this.closePanel()}onTabKeyDown(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())}closePanel(){const t=this.parentComponent;t.closeSubMenu(),setTimeout(()=>t.getGui().focus(),0)}};x([Me],Kie.prototype,"postConstruct",1);var jf=class _g extends Pe{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var i,r;const{menuItemDef:n,isAnotherSubMenuOpen:s,level:o,childComponent:a,contextParams:l}=e;return this.params=e.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=s,this.childComponent=a,this.contextParams=l,this.cssClassPrefix=(r=(i=this.params.menuItemParams)==null?void 0:i.cssClassPrefix)!=null?r:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Ui(it({},n),{level:o,isAnotherSubMenuOpen:s,openSubMenu:c=>this.openSubMenu(c),closeSubMenu:()=>this.closeSubMenu(),closeMenu:c=>this.closeMenu(c),updateTooltip:(c,d)=>this.refreshTooltip(c,d),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(c=>{var d;this.menuItemComp=c;const h=(d=c.configureDefaults)==null?void 0:d.call(c);h&&this.configureDefaults(h===!0?void 0:h)})}addListeners(e,i){i!=null&&i.suppressClick||this.addManagedListener(e,"click",r=>this.onItemSelected(r)),i!=null&&i.suppressKeyboardSelect||this.addManagedListener(e,"keydown",r=>{(r.key===de.ENTER||r.key===de.SPACE)&&(r.preventDefault(),this.onItemSelected(r))}),i!=null&&i.suppressMouseDown||this.addManagedListener(e,"mousedown",r=>{r.stopPropagation(),r.preventDefault()}),i!=null&&i.suppressMouseOver||(this.addManagedListener(e,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){var i,r;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const n=qs('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=n;let s,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const c=this.createBean(new Kie(this.childComponent));c.setParentComponent(this);const d=c.getGui(),h="mouseenter",f=()=>this.cancelDeactivate();d.addEventListener(h,f),s=()=>d.removeEventListener(h,f),n.appendChild(d),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const c=this.createBean(new Y$(this.level+1,this.contextParams));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),n.appendChild(c.getGui()),this.addManagedListener(c,_g.EVENT_CLOSE_MENU,d=>this.dispatchEvent(d)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(c),e&&(o=()=>{c.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:n}),l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var c,d;u&&u.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),s(),(d=(c=this.menuItemComp).setExpanded)==null||d.call(c,!1),this.eSubMenuGui=void 0},(r=(i=this.menuItemComp).setExpanded)==null||r.call(i,!0)}setAriaExpanded(e){this.suppressAria||wc(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var i,r;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(r=(i=this.menuItemComp).setActive)==null||r.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(i=(e=this.menuItemComp).setActive)==null||i.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var i,r;(r=(i=this.menuItemComp).select)==null||r.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(it({},this.contextParams)))):this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){const i={type:_g.EVENT_CLOSE_MENU,event:e};this.dispatchEvent(i)}onItemActivated(){const e={type:_g.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),_g.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),_g.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var i,r,n;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(()=>this.configureDefaults(e));return}let s=this.menuItemComp.getGui();const o=(r=(i=this.menuItemComp).getRootElement)==null?void 0:r.call(i);o&&(e!=null&&e.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=o),this.eGui=s,this.suppressRootStyles=!!(e!=null&&e.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(n=this.params.cssClasses)==null||n.forEach(a=>s.classList.add(a)),this.params.disabled&&s.classList.add(`${this.cssClassPrefix}-disabled`)),e!=null&&e.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!(e!=null&&e.suppressAria),this.suppressAria||(hr(s,"treeitem"),nte(s,this.level+1),this.params.disabled&&s$(s,!0)),e!=null&&e.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!(e!=null&&e.suppressFocus)}refreshTooltip(e,i){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),!(!e||!this.menuItemComp)&&(this.tooltipFeature=this.createBean(new Uc({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:i})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};jf.EVENT_CLOSE_MENU="closeMenu";jf.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";jf.ACTIVATION_DELAY=80;x([V("popupService")],jf.prototype,"popupService",2);x([V("userComponentFactory")],jf.prototype,"userComponentFactory",2);x([V("beans")],jf.prototype,"beans",2);var PT=jf,Kf=class T1 extends Et{constructor(e){super(T1.getTemplate(e)),this.config=e,this.closable=!0}static getTemplate(e){const i=e.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:e,closable:i,hideTitleBar:r,title:n,minWidth:s=250,width:o,minHeight:a=250,height:l,centered:u,popup:c,x:d,y:h}=this.config;this.positionableFeature=new Qv(this.getGui(),{minWidth:s,width:o,minHeight:a,height:l,centered:u,x:d,y:h,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const f=this.getGui();e&&this.setBodyComponent(e),r?Vt(this.eTitleBar,!1):(n&&this.setTitle(n),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",g=>{const v=this.gridOptionsService.getDocument();if(f.contains(g.relatedTarget)||f.contains(v.activeElement)||this.eTitleBarButtons.contains(g.target)){g.preventDefault();return}const C=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");C&&C.focus()}),!(c&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const i=this.closeButtonComp=new Et(T1.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const r=i.getGui(),n=ir("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(n),this.addTitleBarButton(i),i.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,i){const r=this.eTitleBarButtons,n=r.children,s=n.length;i==null&&(i=s),i=Math.max(0,Math.min(i,s)),e.addCssClass("ag-panel-title-bar-button");const o=e.getGui();i===0?r.insertAdjacentElement("afterbegin",o):i===s?r.insertAdjacentElement("beforeend",o):n[i-1].insertAdjacentElement("afterend",o),e.setParentComponent(this)}getBodyHeight(){return Eb(this.eContentWrapper)}getBodyWidth(){return Gf(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&Bo(e)&&this.close(),super.destroy()}};Kf.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';x([ke("eContentWrapper")],Kf.prototype,"eContentWrapper",2);x([ke("eTitleBar")],Kf.prototype,"eTitleBar",2);x([ke("eTitleBarButtons")],Kf.prototype,"eTitleBarButtons",2);x([ke("eTitle")],Kf.prototype,"eTitle",2);x([Me],Kf.prototype,"postConstruct",1);var $Fe=Kf,BFe=class extends $Fe{constructor(t){super(Ui(it({},t),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const t=this.getGui(),{movable:e,resizable:i,maximizable:r}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(t,"focusin",n=>{this.popupService.bringPopupToFront(t)}),e&&this.setMovable(e),r&&this.setMaximizable(r),i&&this.setResizable(i)}renderComponent(){const t=this.getGui(),{alwaysOnTop:e,modal:i,title:r,afterGuiAttached:n}=this.config,s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:i,eChild:t,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:e,ariaLabel:r||s("ariaLabelDialog","Dialog"),afterGuiAttached:n});o&&(this.close=o.hideFunc)}onClosed(t){var e,i;this.destroy(),(i=(e=this.config).closedCallback)==null||i.call(e,t)}toggleMaximize(){const t=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:i,width:r,height:n}=this.lastPosition;this.setWidth(r),this.setHeight(n),this.positionableFeature.offsetElement(e,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Vt(this.maximizeIcon,!this.isMaximized),Vt(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(t=>t()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(t){this.positionableFeature.setResizable(t)}setMovable(t){this.positionableFeature.setMovable(t,this.eTitleBar)}setMaximizable(t){if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const e=this.eTitleBar;if(!e||t===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(e,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const t=this.maximizeButtonComp=this.createBean(new Et('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=ir("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=ir("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t}};x([V("popupService")],BFe.prototype,"popupService",2);var WFe=0,Ec=class extends Pe{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl}),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const t=this.gridOptionsService.get("popupParent");return t||this.gridCtrl.getGui()}positionPopupForMenu(t){const{eventSource:e,ePopup:i}=t,r=this.getPopupIndex(i);if(r!==-1){const f=this.popupList[r];f.alignedToElement=e}const n=e.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(i,n.top-s.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const u=s.right-s.left-a;let c;this.gridOptionsService.get("enableRtl")?(c=h(),c<0&&(c=d(),this.setAlignedStyles(i,"left")),c>u&&(c=0,this.setAlignedStyles(i,"right"))):(c=d(),c>u&&(c=h(),this.setAlignedStyles(i,"right")),c<0&&(c=0,this.setAlignedStyles(i,"left"))),i.style.left=`${c}px`,i.style.top=`${o}px`;function d(){return n.right-s.left-2}function h(){return n.left-s.left-a}}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:i,nudgeY:r,skipObserver:n}=t;this.positionPopup({ePopup:e,nudgeX:i,nudgeY:r,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const{ePopup:e,nudgeX:i,nudgeY:r,keepWithinBounds:n,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:u,type:c}=t,d=s.getBoundingClientRect(),h=this.getParentRect(),f=this.getPopupIndex(e);if(f!==-1){const v=this.popupList[f];v.alignedToElement=s}const g=()=>{let v=d.left-h.left;o==="right"&&(v-=e.offsetWidth-d.width);let C;return a==="over"?(C=d.top-h.top,this.setAlignedStyles(e,"over")):(this.setAlignedStyles(e,"under"),this.shouldRenderUnderOrAbove(e,d,h,t.nudgeY||0)==="under"?C=d.top-h.top+d.height:C=d.top-e.offsetHeight-(r||0)*2-h.top),{x:v,y:C}};this.positionPopup({ePopup:e,nudgeX:i,nudgeY:r,keepWithinBounds:n,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(c,e,s,null,l,u)})}shouldRenderUnderOrAbove(t,e,i,r){const n=i.bottom-e.bottom,s=e.top-i.top,o=t.offsetHeight+r;return n>o?"under":s>o||s>n?"above":"under"}setAlignedStyles(t,e){const i=this.getPopupIndex(t);if(i===-1)return;const r=this.popupList[i],{alignedToElement:n}=r;!n||(["right","left","over","above","under"].forEach(o=>{n.classList.remove(`ag-has-popup-positioned-${o}`),t.classList.remove(`ag-popup-positioned-${o}`)}),!e)||(n.classList.add(`ag-has-popup-positioned-${e}`),t.classList.add(`ag-popup-positioned-${e}`))}callPostProcessPopup(t,e,i,r,n,s){const o=this.gridOptionsService.getCallback("postProcessPopup");o&&o({column:n,rowNode:s,ePopup:e,type:t,eventSource:i,mouseEvent:r})}positionPopup(t){const{ePopup:e,keepWithinBounds:i,nudgeX:r,nudgeY:n,skipObserver:s,updatePosition:o}=t,a={width:0,height:0},l=(u=!1)=>{let{x:c,y:d}=o();u&&e.clientWidth===a.width&&e.clientHeight===a.height||(a.width=e.clientWidth,a.height=e.clientHeight,r&&(c+=r),n&&(d+=n),i&&(c=this.keepXYWithinBounds(e,c,1),d=this.keepXYWithinBounds(e,d,0)),e.style.left=`${c}px`,e.style.top=`${d}px`,t.postProcessCallback&&t.postProcessCallback())};if(l(),!s){const u=this.resizeObserverService.observeResize(e,()=>l(!0));setTimeout(()=>u(),Ec.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){const t=this.gridOptionsService.getDocument();let e=this.getPopupParent();return e===t.body?e=t.documentElement:getComputedStyle(e).position==="static"&&(e=e.offsetParent),y$(e)}keepXYWithinBounds(t,e,i){const r=i===0,n=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"offsetHeight":"offsetWidth",a=r?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),u=l.documentElement,c=this.getPopupParent(),d=c.getBoundingClientRect(),h=l.documentElement.getBoundingClientRect(),f=c===l.body,g=t[o];let C=f?(r?C$:pw)(u)+u[a]:c[n];f&&(C-=Math.abs(h[s]-d[s]));const S=C-g;return Math.min(Math.max(e,0),Math.abs(S))}addPopup(t){const e=this.gridOptionsService.getDocument(),{eChild:i,ariaLabel:r,alwaysOnTop:n,positionCallback:s,anchorToElement:o}=t;if(!e)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,r,!!n),u=this.addEventListenersToPopup(Ui(it({},t),{wrapperEl:l}));return s&&s(),this.addPopupToPopupList(i,l,u,o),{hideFunc:u}}initialisePopupPosition(t){const i=this.getPopupParent().getBoundingClientRect();Te(t.style.top)||(t.style.top=`${i.top*-1}px`),Te(t.style.left)||(t.style.left=`${i.left*-1}px`)}createPopupWrapper(t,e,i){const r=this.getPopupParent(),n=document.createElement("div"),{allThemes:s}=this.environment.getTheme();return s.length&&n.classList.add(...s),n.classList.add("ag-popup"),t.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||hr(t,"dialog"),_l(t,e),n.appendChild(t),r.appendChild(n),i?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),n}handleThemeChange(){const{allThemes:t}=this.environment.getTheme();for(const e of this.popupList){for(const i of Array.from(e.wrapper.classList))i.startsWith("ag-theme-")&&e.wrapper.classList.remove(i);t.length&&e.wrapper.classList.add(...t)}}addEventListenersToPopup(t){const e=this.gridOptionsService.getDocument(),i=this.getPopupParent(),{wrapperEl:r,eChild:n,click:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:u}=t;let c=!1;const d=v=>{if(!r.contains(e.activeElement))return;v.key===de.ESCAPE&&!Tl(v)&&g({keyboardEvent:v})},h=v=>g({mouseEvent:v}),f=v=>g({touchEvent:v}),g=(v={})=>{const{mouseEvent:C,touchEvent:S,keyboardEvent:y}=v;this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:S},n)||c||(c=!0,i.removeChild(r),e.removeEventListener("keydown",d),e.removeEventListener("mousedown",h),e.removeEventListener("touchstart",f),e.removeEventListener("contextmenu",h),this.eventService.removeEventListener(F.EVENT_DRAG_STARTED,h),o&&o(C||S||y),this.removePopupFromPopupList(n))};return a&&a({hidePopup:g}),window.setTimeout(()=>{l&&e.addEventListener("keydown",d),u&&(e.addEventListener("mousedown",h),this.eventService.addEventListener(F.EVENT_DRAG_STARTED,h),e.addEventListener("touchstart",f),e.addEventListener("contextmenu",h))},0),g}addPopupToPopupList(t,e,i,r){this.popupList.push({element:t,wrapper:e,hideFunc:i,instanceId:WFe++,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(t,r)}getPopupIndex(t){return this.popupList.findIndex(e=>e.element===t)}setPopupPositionRelatedToElement(t,e){const i=this.getPopupIndex(t);if(i===-1)return;const r=this.popupList[i];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!e)return;const n=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:r.hideFunc});return r.stopAnchoringPromise=n,r.isAnchored=!0,n}removePopupFromPopupList(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent(),i=e.getBoundingClientRect(),{element:r,ePopup:n}=t,s=r.getBoundingClientRect(),o=i.top-s.top,a=i.left-s.left;let l=o,u=a;const c=n.style.top,d=parseInt(c.substring(0,c.length-1),10),h=n.style.left,f=parseInt(h.substring(0,h.length-1),10);return new Tr(g=>{this.getFrameworkOverrides().setInterval(()=>{const v=e.getBoundingClientRect(),C=r.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){t.hidePopup();return}const y=v.top-C.top;if(y!=l){const E=this.keepXYWithinBounds(n,d+o-y,0);n.style.top=`${E}px`}l=y;const w=v.left-C.left;if(w!=u){const E=this.keepXYWithinBounds(n,f+a-w,1);n.style.left=`${E}px`}u=w},200).then(v=>{g(()=>{v!=null&&window.clearInterval(v)})})})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){const{mouseEvent:i,touchEvent:r}=t,n=i||r;if(!n)return!1;const s=this.getPopupIndex(e);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(sx(a.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(t){const e=this.gridOptionsService.getDocument();for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||t.parentElement===null)return!0;t=t.parentElement}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const i=this.getWrapper(t);i&&(i.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(i))}bringPopupToFront(t){const e=this.getPopupParent(),i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),r=i.length,n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),s=n.length,o=this.getWrapper(t);if(!o||r<=1||!e.contains(t))return;const a=i.indexOf(o),l=o.querySelectorAll("div"),u=[];for(l.forEach(c=>{c.scrollTop!==0&&u.push([c,c.scrollTop])}),s?o.classList.contains("ag-always-on-top")?a!==r-1&&Xt(n).insertAdjacentElement("afterend",o):a!==r-s-1&&n[0].insertAdjacentElement("beforebegin",o):a!==r-1&&Xt(i).insertAdjacentElement("afterend",o);u.length;){const c=u.pop();c[0].scrollTop=c[1]}}};Ec.WAIT_FOR_POPUP_CONTENT_RESIZE=200;x([V("focusService")],Ec.prototype,"focusService",2);x([V("ctrlsService")],Ec.prototype,"ctrlsService",2);x([V("resizeObserverService")],Ec.prototype,"resizeObserverService",2);x([Me],Ec.prototype,"postConstruct",1);Ec=x([We("popupService")],Ec);var UFe=class extends Et{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(t,e){this.value=t,this.render(),this.updateSelected(e)}updateSelected(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)}setSearchString(t){var e;let i=!1;if(Te(t)){const r=(e=this.value)==null?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(r>=0){i=!0,this.hasHighlighting=!0;const n=r+t.length,s=Kr(this.value.slice(0,r)),o=Kr(this.value.slice(r,n)),a=Kr(this.value.slice(n));this.getGui().lastElementChild.innerHTML=`${s}<b>${o}</b>${a}`}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var t;this.getGui().lastElementChild.innerHTML=(t=Kr(this.value))!=null?t:"&nbsp;"}},VO=class Yie extends Hf{constructor(e){super(Yie.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new zie({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:i=>this.autocompleteEntries[i]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",i=>i.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,i){e.preventDefault();const r=this.autocompleteEntries.indexOf(this.selectedValue),n=i===de.UP?r-1:r+1;this.checkSetSelectedValue(n)}setSearch(e){this.searchString=e,Te(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,i){let r,n=!1;const s=e.toLocaleLowerCase(),o=i.filter(a=>{const u=a.toLocaleLowerCase().indexOf(s),c=u===0,d=u>=0;return d&&(!r||!n&&c||n===c&&a.length<r.length)&&(r=a,n=c),d});return!r&&o.length&&(r=o[0]),{topMatch:r,allMatches:o}}runSearch(){var e,i;const{autocompleteEntries:r}=this.params,n=r.map(u=>{var c;return(c=u.displayValue)!=null?c:u.key});let s,o;if(this.params.useFuzzySearch)s=Rb(this.searchString,n,!0).values,o=s.length?s[0]:void 0;else{const u=this.runContainsSearch(this.searchString,n);s=u.allMatches,o=u.topMatch}let a=r.filter(({key:u,displayValue:c})=>s.includes(c??u));if(!a.length&&this.selectedValue&&((i=(e=this.params)==null?void 0:e.forceLastSelection)!=null&&i.call(e,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!o)return;const l=s.indexOf(o);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const i=this.autocompleteEntries[e];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((r,n)=>{r.updateSelected(e===n)}))}createRowComponent(e){var i;const r=new UFe;return this.getContext().createBean(r),r.setState((i=e.displayValue)!=null?i:e.key,e===this.selectedValue),r}onMouseMove(e){const i=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),n=e.clientY-i.top+r,s=Math.floor(n/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!=null?e:null}};VO.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;x([ke("eList")],VO.prototype,"eList",2);x([Me],VO.prototype,"init",1);var zFe=VO,fh=class By extends Et{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const i=gu(e);this.updateValue(i),this.updateAutocompleteList(i)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:By.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var i,r,n,s;const o=(r=(i=this.listGenerator)==null?void 0:i.call(this,e,this.lastPosition))!=null?r:{enabled:!1};if((!o.type||o.type!==((n=this.autocompleteListParams)==null?void 0:n.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,(s=this.autocompleteListParams)!=null&&s.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const i=e.key;switch(this.updateLastPosition(),i){case de.ENTER:this.onEnterKeyDown(e);break;case de.TAB:this.onTabKeyDown(e);break;case de.DOWN:case de.UP:this.onUpDownKeyDown(e,i);break;case de.LEFT:case de.RIGHT:case de.PAGE_HOME:case de.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case de.ESCAPE:this.onEscapeKeyDown(e);break;case de.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}}confirmSelection(){var e;const i=(e=this.autocompleteList)==null?void 0:e.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:By.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,i){var r;e.preventDefault(),this.isListOpen?(r=this.autocompleteList)==null||r.onNavigationKeyDown(e,i):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!=null?e:null)}setCaret(e,i){const r=this.gridOptionsService.getDocument();i&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();const n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(e,e),e===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!=null?e:0}validate(e){var i;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((i=this.validationMessage)!=null?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:By.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new zFe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),i={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},r=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(i),ariaLabel:this.listAriaLabel});this.hidePopup=r.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:By.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return gu(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:i,position:r,silent:n,updateListOnlyIfOpen:s,restoreFocus:o}=e;this.eAutocompleteInput.setValue(i,!0),this.setCaret(r??this.lastPosition,o),n||this.updateValue(i),(!s||this.isListOpen)&&this.updateAutocompleteList(i)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};fh.EVENT_VALUE_CHANGED="eventValueChanged";fh.EVENT_VALUE_CONFIRMED="eventValueConfirmed";fh.EVENT_OPTION_SELECTED="eventOptionSelected";fh.EVENT_VALID_CHANGED="eventValidChanged";x([V("popupService")],fh.prototype,"popupService",2);x([ke("eAutocompleteInput")],fh.prototype,"eAutocompleteInput",2);x([Me],fh.prototype,"postConstruct",1);var jFe=fh,gh=class MD extends Et{constructor(e,i,r,n){super(),this.dragSourceDropTarget=e,this.ghost=i,this.horizontal=r,this.template=n}init(){var e;this.setTemplate((e=this.template)!=null?e:MD.TEMPLATE);const i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ir("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ir("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.localeService.getLocaleTextFunc(),i=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(i,e),_l(this.getGui(),i.join(". "))}addAdditionalAriaInstructions(e,i){if(this.isRemovable()){const r=i("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(r)}}setupTooltip(){const e=()=>{const i=this.getTooltip();this.setTooltip({newTooltipText:i})};e(),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return Rt.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:e,eDragHandle:i}=this,r=this.createGetDragItem(),n=this.getDefaultIconName(),s={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:i,getDefaultIconName:()=>n,getDragItem:r,dragItemName:this.getDisplayName()};e.addDragSource(s,!0),this.addDestroyFunc(()=>e.removeDragSource(s))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){Vt(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:MD.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",r=>this.onKeyDown(r)),this.addManagedListener(this.eButton,"click",r=>{this.dispatchEvent(e),r.stopPropagation()});const i=new vn(this.eButton);this.addManagedListener(i,vn.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(e){e.key===de.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchEvent({type:MD.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=this.getDisplayValue(),i=Kr(e);this.eText.innerHTML=i}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${i}`,`ag-column-drop-${r}-cell${i}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};gh.EVENT_COLUMN_REMOVE="columnRemove";gh.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;x([V("dragAndDropService")],gh.prototype,"dragAndDropService",2);x([ke("eText")],gh.prototype,"eText",2);x([ke("eDragHandle")],gh.prototype,"eDragHandle",2);x([ke("eButton")],gh.prototype,"eButton",2);x([Me],gh.prototype,"init",1);var KFe=gh,Gb=class Xl extends Et{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state=Xl.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),hr(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:i,dragSource:r}=e;return i.contains(r.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Lr(this.getGui()),Lr(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new ch(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new Qv(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),_l(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){const i=!this.horizontal;let r=e.key===de.DOWN,n=e.key===de.UP;if(!i){const o=this.gridOptionsService.get("enableRtl");r=!o&&e.key===de.RIGHT||o&&e.key===de.LEFT,n=!o&&e.key===de.LEFT||o&&e.key===de.RIGHT}if(!r&&!n)return;const s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,n);s&&(e.preventDefault(),s.focus())}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${i}`,`ag-column-drop-${r}${i}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const i=this.getNewInsertIndex(e);if(i<0)return!1;const r=this.minimumAllowedNewInsertIndex(),n=Math.max(r,i),s=n!==this.insertIndex;return s&&(this.insertIndex=n),s}getNewInsertIndex(e){const i=e.event,r=this.horizontal?i.clientX:i.clientY,n=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),s=n.findIndex(o=>this.horizontal?o.right>r&&o.left<r:o.top<r&&o.bottom>r);if(s===-1){const o=this.gridOptionsService.get("enableRtl");return n.every(u=>r>(this.horizontal?u.right:u.bottom))?o&&this.horizontal?0:this.childPillComponents.length:n.every(u=>r<(this.horizontal?u.left:u.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s}checkDragStartedBySelf(e){this.state===Xl.STATE_NOT_DRAGGING&&(this.state=Xl.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const i=this.getItems(e.dragSource.getDragItem());this.state=Xl.STATE_NEW_ITEMS_IN;const r=i.filter(s=>this.isItemDroppable(s,e)),n=r.every(s=>this.childPillComponents.map(o=>o.getItem()).indexOf(s)!==-1);if(r.length!==0){if(this.potentialDndItems=r,n){this.state=Xl.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){return Nee(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state===Xl.STATE_REARRANGE_ITEMS){const i=this.getItems(e.dragSource.getDragItem());this.removeItems(i)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state=Xl.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let e=!1;this.state===Xl.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),e=!0):e=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!e)&&this.refreshGui()}this.state=Xl.STATE_NOT_DRAGGING}removeItems(e){const i=this.getExistingItems().filter(r=>!Vo(e,r));this.updateItems(i)}addItems(e){if(!e)return;const i=this.getExistingItems().slice(),r=e.filter(n=>i.indexOf(n)<0);o1(i,r,this.insertIndex),this.updateItems(i)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const i=this.getNonGhostItems().slice();return o1(i,e,this.insertIndex),uu(i,this.getExistingItems())?!1:(this.updateItems(i),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,i=this.resizeEnabled,r=this.getFocusedItem();let n=this.focusService.findNextFocusableElement();n||(n=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(r,n)}getFocusedItem(){const e=this.getGui(),i=this.gridOptionsService.getDocument().activeElement;return e.contains(i)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1}restoreFocus(e,i){const r=this.getGui(),n=Array.from(r.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;n.length===0&&i.focus();const s=Math.min(n.length-1,e),o=n[s];o&&o.focus()}focusList(e){const i=e?this.childPillComponents.length-1:0;this.restoreFocus(i,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(i=>!Vo(this.potentialDndItems,i)):e}addItemsToGui(){const i=this.getNonGhostItems().map(r=>this.createItemComponent(r,!1));if(this.isPotentialDndItems()){const r=this.potentialDndItems.map(n=>this.createItemComponent(n,!0));this.insertIndex>=i.length?i.push(...r):i.splice(this.insertIndex,0,...r)}this.appendChild(this.ePillDropList),i.forEach((r,n)=>{n>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(r.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,i)=>{const r=e.getGui();mO(r,i+1),gO(r,this.childPillComponents.length)})}createItemComponent(e,i){const r=this.createPillComponent(e,this.dropTarget,i,this.horizontal);return r.addEventListener(KFe.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(r),this.guiDestroyFunctions.push(()=>this.destroyBean(r)),i||this.childPillComponents.push(r),r}addIconAndTitleToGui(){const{title:e,icon:i}=this.params;if(!e||!i)return;const r=document.createElement("div");if(wb(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(i,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),r.appendChild(i),!this.horizontal){const n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=e,r.appendChild(n)}this.appendChild(r)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const i=document.createElement("span");i.innerHTML=e,this.addElementClasses(i,"empty-message"),this.ePillDropList.appendChild(i)}addArrow(e){if(this.horizontal){const i=this.gridOptionsService.get("enableRtl"),r=ir(i?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(r,"cell-separator"),e.appendChild(r)}}};Gb.STATE_NOT_DRAGGING="notDragging";Gb.STATE_NEW_ITEMS_IN="newItemsIn";Gb.STATE_REARRANGE_ITEMS="rearrangeItems";x([V("focusService")],Gb.prototype,"focusService",2);x([V("dragAndDropService")],Gb.prototype,"dragAndDropService",2);var YFe=["touchstart","touchend","touchmove","touchcancel"],qie=class{constructor(t="javascript"){this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(t,e){return new Tr(i=>{i(window.setInterval(t,e))})}addEventListener(t,e,i,r){const n=Vo(YFe,e);t.addEventListener(e,i,{capture:!!r,passive:n})}get shouldWrapOutgoing(){return!1}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}getDocLink(t){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${t?`/${t}`:""}`}},Qd=class extends Pe{getNextCellToFocus(t,e,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const i=t===de.UP,r=t===de.DOWN,n=t===de.LEFT;let s,o;if(i||r)o=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=e.column;else{const a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.get("enableRtl");o=e.rowIndex,s=n!==l?a[0]:Xt(a)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(t,e){let i=e,r=!1;for(;!r;){switch(t){case de.UP:i=this.getCellAbove(i);break;case de.DOWN:i=this.getCellBelow(i);break;case de.RIGHT:this.gridOptionsService.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case de.LEFT:this.gridOptionsService.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+t);break}i?r=this.isCellGoodToFocusOn(i):r=!0}return i}isCellGoodToFocusOn(t){const e=t.column;let i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}return i?!e.isSuppressNavigable(i):!1}getCellToLeft(t){if(!t)return null;const e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;const e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){const e=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const r=this.rowModel.getRow(t.rowIndex),n=this.getNextStickyPosition(r);return n||{rowIndex:e+1,rowPinned:i}}getNextStickyPosition(t,e){if(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)return;const i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((o,a)=>o.getRowNode().rowIndex-a.getRowNode().rowIndex),r=e?-1:1,n=i.findIndex(o=>o.getRowNode().rowIndex===t.rowIndex),s=i[n+r];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}getCellBelow(t){if(!t)return null;const e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){const e=t.rowPinned,i=t.rowIndex;return e==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:e==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(t){const e=t.rowIndex,i=t.rowPinned;if(i?e===0:e===this.paginationProxy.getPageFirstRow())return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const n=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(n,!0);return s||{rowIndex:e-1,rowPinned:i}}getCellAbove(t){if(!t)return null;const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){const e=this.columnModel.getAllDisplayedColumns();let i=t.rowIndex,r=t.rowPinned,n=this.columnModel.getDisplayedColAfter(t.column);if(!n){n=e[0];const s=this.getRowBelow(t);if(ht(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:i,column:n,rowPinned:r}}getNextTabbedCellBackwards(t){const e=this.columnModel.getAllDisplayedColumns();let i=t.rowIndex,r=t.rowPinned,n=this.columnModel.getDisplayedColBefore(t.column);if(!n){n=Xt(e);const s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(ht(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:i,column:n,rowPinned:r}}};x([V("columnModel")],Qd.prototype,"columnModel",2);x([V("rowModel")],Qd.prototype,"rowModel",2);x([V("rowRenderer")],Qd.prototype,"rowRenderer",2);x([V("pinnedRowModel")],Qd.prototype,"pinnedRowModel",2);x([V("paginationProxy")],Qd.prototype,"paginationProxy",2);Qd=x([We("cellNavigationService")],Qd);var ef=class extends Pe{constructor(){super(...arguments),this.consuming=!1}setBeans(t){this.logger=t.create("AlignedGridsService")}getAlignedGridApis(){var t;let e=(t=this.gridOptionsService.get("alignedGrids"))!=null?t:[];const i=typeof e=="function";typeof e=="function"&&(e=e());const r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(s=>{var o;if(!s){sp("alignedGrids contains an undefined option."),i||sp(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),sp(r());return}if(s instanceof It)return s;const a=s;return"current"in a?(o=a.current)==null?void 0:o.api:(a.api||sp(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),a.api)}).filter(s=>!!s&&!s.isDestroyed())}init(){this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(t){this.consuming||this.getAlignedGridApis().forEach(e=>{const i=e.__getAlignedGridService();t(i)})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent(e=>{e.onColumnEvent(t)})}fireScrollEvent(t){t.direction==="horizontal"&&this.fireEvent(e=>{e.onScrollEvent(t)})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}getMasterColumns(t){const e=[];return t.columns?t.columns.forEach(i=>{e.push(i)}):t.column&&e.push(t.column),e}getColumnIds(t){const e=[];return t.columns?t.columns.forEach(i=>{e.push(i.getColId())}):t.column&&e.push(t.column.getColId()),e}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case F.EVENT_COLUMN_MOVED:case F.EVENT_COLUMN_VISIBLE:case F.EVENT_COLUMN_PINNED:case F.EVENT_COLUMN_RESIZED:const e=t;this.processColumnEvent(e);break;case F.EVENT_COLUMN_GROUP_OPENED:const i=t;this.processGroupOpenedEvent(i);break;case F.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(t){t.columnGroups.forEach(e=>{let i=null;if(e){const r=e.getGroupId();i=this.columnModel.getProvidedColumnGroup(r)}e&&!i||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(i,e.isExpanded(),"alignedGridChanged"))})}processColumnEvent(t){var e;const i=t.column;let r=null;if(i&&(r=this.columnModel.getPrimaryColumn(i.getColId())),i&&!r)return;const n=this.getMasterColumns(t);switch(t.type){case F.EVENT_COLUMN_MOVED:{const u=t,d=t.api.getColumnState().map(h=>({colId:h.colId}));this.columnModel.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} toIndex = ${u.toIndex}`)}break;case F.EVENT_COLUMN_VISIBLE:{const u=t,d=t.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} visible = ${u.visible}`)}break;case F.EVENT_COLUMN_PINNED:{const u=t,d=t.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} pinned = ${u.pinned}`)}break;case F.EVENT_COLUMN_RESIZED:const a=t,l={};n.forEach(u=>{this.logger.log(`onColumnEvent-> processing ${t.type} actualWidth = ${u.getActualWidth()}`),l[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),(e=a.flexColumns)==null||e.forEach(u=>{l[u.getId()]&&delete l[u.getId()]}),this.columnModel.setColumnWidths(Object.values(l),!1,a.finished,"alignedGridChanged");break}const o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(a=>{a.setGridOption("alwaysShowVerticalScroll",o)})}};x([V("columnModel")],ef.prototype,"columnModel",2);x([V("ctrlsService")],ef.prototype,"ctrlsService",2);x([Cl(0,ba("loggerFactory"))],ef.prototype,"setBeans",1);x([Me],ef.prototype,"init",1);ef=x([We("alignedGridsService")],ef);var tf=class extends Pe{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,F.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(t){var e;const{newValue:i,clearSelection:r,suppressFinishActions:n,rangeSelect:s,nodes:o,event:a,source:l="api"}=t;if(o.length===0)return 0;if(o.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const u=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,c=o.map(h=>h.footer?h.sibling:h);if(s){if(o.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let h=null;if(l==="checkboxSelected"&&i===!1&&this.lastRowNode&&(this.lastRowNode.id?h=this.lastRowNode:this.lastRowNode=null),h==null&&(h=this.getLastSelectedNode()),h){const f=c[0];if(f!==h&&this.isMultiselect())return this.selectRange(f,h,i,l)}}this.lastRowNode=i?null:c[0];let d=0;for(let h=0;h<c.length;h++){const f=c[h];u&&f.group||f.selectThisNode(i,a,l)&&d++,this.groupSelectsChildren&&((e=f.childrenAfterGroup)!=null&&e.length)&&(d+=this.selectChildren(f,i,u,l))}if(!n&&(i&&(r||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],l)),d>0)){this.updateGroupsFromChildrenSelections(l);const f={type:F.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(f)}return d}selectRange(t,e,i=!0,r){const n=this.rowModel.getNodesInRangeForSelection(t,e);let s=0;n.forEach(a=>{if(a.group&&this.groupSelectsChildren)return;a.selectThisNode(i,void 0,r)&&s++}),this.updateGroupsFromChildrenSelections(r);const o={type:F.EVENT_SELECTION_CHANGED,source:r};return this.eventService.dispatchEvent(o),s}selectChildren(t,e,i,r){const n=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return ht(n)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:r,nodes:n})}getLastSelectedNode(){const t=Array.from(this.selectedNodes.keys());if(t.length==0)return null;const e=this.selectedNodes.get(Xt(t));return e||null}getSelectedNodes(){const t=[];return this.selectedNodes.forEach(e=>{e&&t.push(e)}),t}getSelectedRows(){const t=[];return this.selectedNodes.forEach(e=>{e&&e.data&&t.push(e.data)}),t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){const e=new Map;this.selectedNodes.forEach((i,r)=>{i&&t(i)&&e.set(r,i)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const r=this.rowModel.getRootNode();e||(e=new kO(!0,r),e.setInactive());let n=!1;return e.forEachChangedNodeDepthFirst(s=>{if(s!==r){const o=s.calculateSelectedFromChildren();n=s.selectThisNode(o===null?!1:o,void 0,t)||n}}),n}clearOtherNodes(t,e){const i=new Map;let r=0;return this.selectedNodes.forEach(n=>{if(n&&n.id!==t.id){const s=this.selectedNodes.get(n.id);r+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&n.parent&&i.set(n.parent.id,n.parent)}}),i.forEach(n=>{const s=n.calculateSelectedFromChildren();n.selectThisNode(s===null?!1:s,void 0,e)}),r}onRowSelected(t){const e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){if(Te(e)&&t.id!==e.id&&e){const r=e.id;this.selectedNodes.get(r)==t&&this.selectedNodes.set(e.id,e)}}syncInNewRowNode(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)}reset(t){const e=this.getSelectionCount();if(this.resetNodes(),e){const i={type:F.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}}resetNodes(){var t;(t=this.selectedNodes)==null||t.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const e=this.rowModel.getTopLevelNodes();if(e===null)return;const i=[];function r(n){for(let s=0,o=n.length;s<o;s++){const a=n[s];if(a.isSelected())i.push(a);else{const l=a;l.group&&l.children&&r(l.children)}}}return r(e),i}isEmpty(){let t=0;return this.selectedNodes.forEach(e=>{e&&t++}),t===0}deselectAllRowNodes(t){const e=a=>a.selectThisNode(!1,void 0,r),i=this.rowModel.getType()==="clientSide",{source:r,justFiltered:n,justCurrentPage:s}=t;if(s||n){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(n,s).forEach(e)}else this.selectedNodes.forEach(a=>{a&&e(a)}),this.reset(r);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r);const o={type:F.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(o)}getSelectedCounts(t,e){let i=0,r=0;const n=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?i++:s.selectable&&r++)};return this.getNodesToSelect(t,e).forEach(n),{selectedCount:i,notSelectedCount:r}}getSelectAllState(t,e){const{selectedCount:i,notSelectedCount:r}=this.getSelectedCounts(t,e);return i===0&&r===0?!1:i>0&&r>0?null:i>0}hasNodesToSelect(t=!1,e=!1){return this.getNodesToSelect(t,e).filter(i=>i.selectable).length>0}getNodesToSelect(t=!1,e=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(e)return this.paginationProxy.forEachNodeOnPage(n=>{if(!n.group){i.push(n);return}if(!n.expanded){const s=o=>{var a;i.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(s)};s(n);return}this.groupSelectsChildren||i.push(n)}),i;const r=this.rowModel;return t?(r.forEachNodeAfterFilter(n=>{i.push(n)}),i):(r.forEachNode(n=>{i.push(n)}),i)}selectAllRowNodes(t){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:e,justFiltered:i,justCurrentPage:r}=t,n=o=>o.selectThisNode(!0,void 0,e);this.getNodesToSelect(i,r).forEach(n),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e);const s={type:F.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(s)}getSelectionState(){const t=[];return this.selectedNodes.forEach(e=>{e!=null&&e.id&&t.push(e.id)}),t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t))return;const i=new Set(t),r=[];this.rowModel.forEachNode(n=>{i.has(n.id)&&r.push(n)}),this.setNodesSelected({newValue:!0,nodes:r,source:e})}};x([V("rowModel")],tf.prototype,"rowModel",2);x([V("paginationProxy")],tf.prototype,"paginationProxy",2);x([Me],tf.prototype,"init",1);tf=x([We("selectionService")],tf);var ev=class{constructor(t){this.viaApi=(e,...i)=>(ct(`Since v31, 'columnApi.${e}' is deprecated and moved to 'api.${e}'.`),this.api[e](...i)),this.api=t}sizeColumnsToFit(t){this.viaApi("sizeColumnsToFit",t)}setColumnGroupOpened(t,e){this.viaApi("setColumnGroupOpened",t,e)}getColumnGroup(t,e){return this.viaApi("getColumnGroup",t,e)}getProvidedColumnGroup(t){return this.viaApi("getProvidedColumnGroup",t)}getDisplayNameForColumn(t,e){return this.viaApi("getDisplayNameForColumn",t,e)}getDisplayNameForColumnGroup(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)}getColumn(t){return this.viaApi("getColumn",t)}getColumns(){return this.viaApi("getColumns")}applyColumnState(t){return this.viaApi("applyColumnState",t)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(t){this.viaApi("setColumnGroupState",t)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(t){return this.viaApi("getDisplayedColAfter",t)}getDisplayedColBefore(t){return this.viaApi("getDisplayedColBefore",t)}setColumnVisible(t,e){this.viaApi("setColumnVisible",t,e)}setColumnsVisible(t,e){this.viaApi("setColumnsVisible",t,e)}setColumnPinned(t,e){this.viaApi("setColumnPinned",t,e)}setColumnsPinned(t,e){this.viaApi("setColumnsPinned",t,e)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(t,e){this.viaApi("moveColumn",t,e)}moveColumnByIndex(t,e){this.viaApi("moveColumnByIndex",t,e)}moveColumns(t,e){this.viaApi("moveColumns",t,e)}moveRowGroupColumn(t,e){this.viaApi("moveRowGroupColumn",t,e)}setColumnAggFunc(t,e){this.viaApi("setColumnAggFunc",t,e)}setColumnWidth(t,e,i=!0,r){this.viaApi("setColumnWidth",t,e,i,r)}setColumnWidths(t,e=!0,i){this.viaApi("setColumnWidths",t,e,i)}setPivotMode(t){this.viaApi("setPivotMode",t)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(t,e){return this.viaApi("getPivotResultColumn",t,e)}setValueColumns(t){this.viaApi("setValueColumns",t)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(t){this.viaApi("removeValueColumn",t)}removeValueColumns(t){this.viaApi("removeValueColumns",t)}addValueColumn(t){this.viaApi("addValueColumn",t)}addValueColumns(t){this.viaApi("addValueColumns",t)}setRowGroupColumns(t){this.viaApi("setRowGroupColumns",t)}removeRowGroupColumn(t){this.viaApi("removeRowGroupColumn",t)}removeRowGroupColumns(t){this.viaApi("removeRowGroupColumns",t)}addRowGroupColumn(t){this.viaApi("addRowGroupColumn",t)}addRowGroupColumns(t){this.viaApi("addRowGroupColumns",t)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(t){this.viaApi("setPivotColumns",t)}removePivotColumn(t){this.viaApi("removePivotColumn",t)}removePivotColumns(t){this.viaApi("removePivotColumns",t)}addPivotColumn(t){this.viaApi("addPivotColumn",t)}addPivotColumns(t){this.viaApi("addPivotColumns",t)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(t,e){return this.viaApi("autoSizeColumn",t,e)}autoSizeColumns(t,e){this.viaApi("autoSizeColumns",t,e)}autoSizeAllColumns(t){this.viaApi("autoSizeAllColumns",t)}setPivotResultColumns(t){this.viaApi("setPivotResultColumns",t)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};x([V("gridApi")],ev.prototype,"api",2);ev=x([We("columnApi")],ev);var Zd=class extends Pe{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const t=i=>this.callColumnCellValueChangedHandler(i),e=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(F.EVENT_CELL_VALUE_CHANGED,t,e),this.addDestroyFunc(()=>this.eventService.removeEventListener(F.EVENT_CELL_VALUE_CHANGED,t,e)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValue(t,e,i=!1,r=!1){if(this.initialised||this.init(),!e)return;const n=t.getColDef(),s=n.field,o=t.getColId(),a=e.data;let l;const u=e.groupData&&e.groupData[o]!==void 0,c=!r&&e.aggData&&e.aggData[o]!==void 0,d=this.isSsrm&&r&&!!t.getColDef().aggFunc,h=this.isSsrm&&e.footer&&e.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===e.field);if(i&&n.filterValueGetter?l=this.executeFilterValueGetter(n.filterValueGetter,a,t,e):this.isTreeData&&c?l=e.aggData[o]:this.isTreeData&&n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,t,e):this.isTreeData&&s&&a?l=vm(a,s,t.isFieldContainsDots()):u?l=e.groupData[o]:c?l=e.aggData[o]:n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,t,e):h?l=vm(a,e.field,t.isFieldContainsDots()):s&&a&&!d&&(l=vm(a,s,t.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const f=l.substring(1);l=this.executeValueGetter(f,a,t,e)}if(l==null){const f=this.getOpenedGroup(e,t);if(f!=null)return f}return l}getOpenedGroup(t,e){if(!this.gridOptionsService.get("showOpenedGroup")||!e.getColDef().showRowGroup)return;const r=e.getColDef().showRowGroup;let n=t.parent;for(;n!=null;){if(n.rowGroupColumn&&(r===!0||r===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(t,e,i,r){const n=this.columnModel.getPrimaryColumn(e);if(!t||!n)return!1;ht(t.data)&&(t.data={});const{field:s,valueSetter:o}=n.getColDef();if(ht(s)&&ht(o))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(n,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const a=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(n,t),newValue:i,colDef:n.getColDef(),column:n});a.newValue=i;let l;if(Te(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(t.data,s,i,n.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(n,t);const u={type:F.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:a.column,api:a.api,columnApi:a.columnApi,colDef:a.colDef,context:a.context,data:t.data,node:t,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:r};return this.eventService.dispatchEvent(u),!0}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;typeof e=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})})}setValueUsingField(t,e,i,r){if(!e)return!1;let n=!1;if(!r)n=t[e]===i,n||(t[e]=i);else{const s=e.split(".");let o=t;for(;s.length>0&&o;){const a=s.shift();s.length===0?(n=o[a]===i,n||(o[a]=i)):o=o[a]}}return!n}executeFilterValueGetter(t,e,i,r){const n=this.gridOptionsService.addGridCommonParams({data:e,node:r,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,r)});return typeof t=="function"?t(n):this.expressionService.evaluate(t,n)}executeValueGetter(t,e,i,r){const n=i.getColId(),s=this.valueCache.getValue(r,n);if(s!==void 0)return s;const o=this.gridOptionsService.addGridCommonParams({data:e,node:r,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,r)});let a;return typeof t=="function"?a=t(o):a=this.expressionService.evaluate(t,o),this.valueCache.setValue(r,n,a),a}getValueCallback(t,e){const i=this.columnModel.getPrimaryColumn(e);return i?this.getValue(i,t):null}getKeyForNode(t,e){const i=this.getValue(t,e),r=t.getColDef().keyCreator;let n=i;if(r){const s=this.gridOptionsService.addGridCommonParams({value:i,colDef:t.getColDef(),column:t,node:e,data:e.data});n=r(s)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&ct("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),n}};x([V("expressionService")],Zd.prototype,"expressionService",2);x([V("columnModel")],Zd.prototype,"columnModel",2);x([V("valueCache")],Zd.prototype,"valueCache",2);x([V("dataTypeService")],Zd.prototype,"dataTypeService",2);x([Me],Zd.prototype,"init",1);Zd=x([We("valueService")],Zd);var gx=class extends Pe{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(t){this.logger=t.create("ExpressionService")}evaluate(t,e){if(typeof t=="string")return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+i),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];const e=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=i,i}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}};x([Cl(0,ba("loggerFactory"))],gx.prototype,"setBeans",1);gx=x([We("expressionService")],gx);var D1=class extends Pe{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(t,e){const i=this.templateCache[t];if(i)return i;let r=this.waitingCallbacks[t];const n=this;if(!r){r=[],this.waitingCallbacks[t]=r;const s=new XMLHttpRequest;s.onload=function(){n.handleHttpResult(this,t)},s.open("GET",t),s.send()}return e&&r.push(e),null}handleHttpResult(t,e){if(t.status!==200||t.response===null){console.warn(`AG Grid: Unable to get template error ${t.status} - ${e}`);return}this.templateCache[e]=t.response||t.responseText;const i=this.waitingCallbacks[e];for(let r=0;r<i.length;r++){const n=i[r];n()}}};D1=x([We("templateService")],D1);var mx=class extends Pe{setBeans(t){this.logging=t.get("debug")}create(t){return new q$(t,this.isLogging.bind(this))}isLogging(){return this.logging}};x([Cl(0,ba("gridOptionsService"))],mx.prototype,"setBeans",1);mx=x([We("loggerFactory")],mx);var q$=class{constructor(t,e){this.name=t,this.isLoggingFunc=e}isLogging(){return this.isLoggingFunc()}log(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)}},mh=class extends Pe{setComp(t,e,i){this.view=t,this.eGridHostDiv=e,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:n=>n===1||n===0,getIconName:()=>Rt.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new AO(this.view)),this.addRtlSupport();const r=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}showDropZones(){return Jt.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Jt.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Jt.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Jt.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const t={type:F.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)}addRtlSupport(){const t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),n=i.findIndex(s=>s.contains(e.activeElement))+(t?-1:1);return n<=0||n>=i.length?!1:this.focusService.focusInto(i[n])}focusInnerElement(t){const e=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(Xt(e),!0);const r=Xt(i);if(this.focusService.focusGridView(r,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let r=1;r<e.length;r++)if(this.focusService.focusInto(e[r]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}};x([V("focusService")],mh.prototype,"focusService",2);x([V("resizeObserverService")],mh.prototype,"resizeObserverService",2);x([V("columnModel")],mh.prototype,"columnModel",2);x([V("ctrlsService")],mh.prototype,"ctrlsService",2);x([V("mouseEventService")],mh.prototype,"mouseEventService",2);x([V("dragAndDropService")],mh.prototype,"dragAndDropService",2);var kb=class extends Lb{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:r=>this.addCssClass(r),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:r=>{this.getGui().style.userSelect=r??"",this.getGui().style.webkitUserSelect=r??""},setCursor:r=>{this.getGui().style.cursor=r??""}};this.ctrl=this.createManagedBean(new mh);const i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.ctrl.focusInnerElement(r),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,i){const r=this.eRootWrapperBody.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",n=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${r}
                <ag-pagination></ag-pagination>
                ${n}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(i=>Bo(i))}};x([V("loggerFactory")],kb.prototype,"loggerFactory",2);x([ke("gridBody")],kb.prototype,"gridBodyComp",2);x([ke("sideBar")],kb.prototype,"sideBarComp",2);x([ke("rootWrapperBody")],kb.prototype,"eRootWrapperBody",2);x([Me],kb.prototype,"postConstruct",1);var rf=class extends Pe{progressSort(t,e,i){const r=this.getNextSortDirection(t);this.setSortForColumn(t,r,e,i)}setSortForColumn(t,e,i,r){e!=="asc"&&e!=="desc"&&(e=null);const n=this.gridOptionsService.isColumnsSortingCoupledToGroup();let s=[t];if(n&&t.getColDef().showRowGroup){const l=this.columnModel.getSourceColumnsForGroupColumn(t),u=l==null?void 0:l.filter(c=>c.isSortable());u&&(s=[t,...u])}s.forEach(l=>l.setSort(e,r));const o=(i||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(s,r);a.push(...l)}this.updateSortIndex(t),a.push(...s),this.dispatchSortChangedEvents(r,a)}updateSortIndex(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),r=e&&i||t,n=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(a=>a.setSortIndex(null));const s=n.filter(a=>e&&a.getColDef().showRowGroup?!1:a!==r);(r.getSort()?[...s,r]:s).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){const e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return e&&e.length>0}dispatchSortChangedEvents(t,e){const i={type:F.EVENT_SORT_CHANGED,source:t};e&&(i.columns=e),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(t,e){const i=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(r=>{t.includes(r)||(r.getSort()&&i.push(r),r.setSort(void 0,e))}),i}getNextSortDirection(t){let e;if(t.getColDef().sortingOrder?e=t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?e=this.gridOptionsService.get("sortingOrder"):e=rf.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${e}`),null;const i=e.indexOf(t.getSort()),r=i<0,n=i==e.length-1;let s;return r||n?s=e[0]:s=e[i+1],rf.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s}getIndexedSortMap(){let t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();t=t.filter(o=>{const a=!!o.getAggFunc(),l=!o.isPrimary(),u=s?this.columnModel.getGroupDisplayColumnForGroup(o.getId()):o.getColDef().showRowGroup;return a||l||u})}const e=this.columnModel.getRowGroupColumns().filter(s=>!!s.getSort()),i={};t.forEach((s,o)=>i[s.getId()]=o),t.sort((s,o)=>{const a=s.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const u=i[s.getId()],c=i[o.getId()];return u>c?1:-1}else return l==null?-1:1});const r=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!e.length;r&&(t=[...new Set(t.map(s=>{var o;return(o=this.columnModel.getGroupDisplayColumnForGroup(s.getId()))!=null?o:s}))]);const n=new Map;return t.forEach((s,o)=>n.set(s,o)),r&&e.forEach(s=>{const o=this.columnModel.getGroupDisplayColumnForGroup(s.getId());n.set(s,n.get(o))}),n}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[i,r])=>e-r).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!t.getColDef().showRowGroup;return e&&i}getDisplaySortForColumn(t){const e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(e!=null&&e.length))return t.getSort();const r=t.getColDef().field!=null||!!t.getColDef().valueGetter?[t,...e]:e,n=r[0].getSort();return r.every(o=>o.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}};rf.DEFAULT_SORTING_ORDER=["asc","desc",null];x([V("columnModel")],rf.prototype,"columnModel",2);rf=x([We("sortController")],rf);var mi=class extends Pe{static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",mi.toggleKeyboardMode),t.addEventListener("mousedown",mi.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",mi.toggleKeyboardMode),t.addEventListener("mousedown",mi.toggleKeyboardMode))}static toggleKeyboardMode(t){const e=mi.keyboardModeActive,i=t.type==="keydown";i&&(t.ctrlKey||t.metaKey||t.altKey)||e!==i&&(mi.keyboardModeActive=i)}static unregisterGridCompController(t){mi.removeKeyboardModeEvents(t)}init(){const t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl})}registerKeyboardFocusEvents(){const t=this.gridOptionsService.getDocument();mi.addKeyboardModeEvents(t),mi.instanceCount++,this.addDestroyFunc(()=>{mi.instanceCount--,mi.unregisterGridCompController(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}isKeyboardMode(){return mi.keyboardModeActive}getFocusCellToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,Pp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,LO.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,e){let i=t;for(;i;){if(this.gridOptionsService.getDomData(i,e))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(){const{rowIndex:t,rowPinned:e,column:i}=this.focusedCellPosition,r={rowIndex:t,rowPinned:e,column:i,isFullWidthCell:!1},n=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:e});return n&&(r.isFullWidthCell=n.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=it({type:F.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}setFocusedCell(t){const{column:e,rowIndex:i,rowPinned:r,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:s=!1}=t,o=this.columnModel.getGridColumn(e);if(!o){this.focusedCellPosition=null;return}this.focusedCellPosition=o?{rowIndex:i,rowPinned:gu(r),column:o}:null;const a=Ui(it({type:F.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:n,preventScrollOnBrowserFocus:s,floating:null});this.eventService.dispatchEvent(a)}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const e=t.getColumnGroupChild(),i=t.getRowIndex(),r=t.getPinned(),{column:n,headerRowIndex:s}=this.focusedHeaderPosition;return e===n&&i===s&&r==n.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}}focusHeaderPosition(t){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:e,fromTab:i,allowUserOverride:r,event:n,fromCell:s,rowWithoutSpanValue:o}=t;let{headerPosition:a}=t;if(s&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(i){const h=this.gridOptionsService.getCallback("tabToNextHeader");h&&(a=h({backwards:e==="Before",previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d}))}else{const h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&n){const f={key:n.key,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d,event:n};a=h(f)}}}if(!a)return!1;if(a.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(a.column);this.headerNavigationService.scrollToColumn(a.column,e);const u=this.ctrlsService.getHeaderRowContainerCtrl(a.column.getPinned()).focusHeader(a.headerRowIndex,a.column,n);return u&&(o!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(o??-1),u}focusFirstHeader(){let t=this.columnModel.getAllDisplayedColumns()[0];if(!t)return!1;t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0));const e=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:e,rowWithoutSpanValue:0})}focusLastHeader(t){const e=this.headerNavigationService.getHeaderRowCount()-1,i=Xt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:i},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,e){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===gu(e)}findFocusableElements(t,e,i=!1){const r=Ete;let n=m$;e&&(n+=", "+e),i&&(n+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(t.querySelectorAll(r)).filter(l=>Bo(l)),o=Array.prototype.slice.apply(t.querySelectorAll(n));return o.length?((l,u)=>l.filter(c=>u.indexOf(c)===-1))(s,o):s}focusInto(t,e=!1,i=!1){const r=this.findFocusableElements(t,null,i),n=e?Xt(r):r[0];return n?(n.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,e){if(!e)return null;const i=this.findFocusableElements(t),r=i.indexOf(e);if(r===-1)return null;let n=-1;for(let s=r-1;s>=0;s--)if(i[s].classList.contains("ag-tab-guard-top")){n=s;break}return n<=0?null:i[n-1]}findNextFocusableElement(t=this.eGridDiv,e,i){const r=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument().activeElement;let o;e?o=r.findIndex(l=>l.contains(s)):o=r.indexOf(s);const a=o+(i?-1:1);return a<0||a>=r.length?null:r[a]}isTargetUnderManagedComponent(t,e){if(!e)return!1;const i=t.querySelectorAll(`.${ch.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let r=0;r<i.length;r++)if(i[r].contains(e))return!0;return!1}findTabbableParent(t,e=5){let i=0;for(;t&&lx(t)===null&&++i<=e;)t=t.parentElement;return lx(t)===null?null:t}focusGridView(t,e){if(this.gridOptionsService.get("suppressCellFocus"))return e?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:r,rowPinned:n}=i,s=this.getFocusedHeader();if(!t&&s&&(t=s.column),r==null||!t)return!1;if(this.navigationService.ensureCellVisible({rowIndex:r,column:t,rowPinned:n}),this.setFocusedCell({rowIndex:r,column:t,rowPinned:gu(n),forceBrowserFocus:!0}),this.rangeService){const o={rowIndex:r,rowPinned:n,column:t};this.rangeService.setRangeToCell(o)}return!0}focusNextGridCoreContainer(t,e=!1){return!e&&this.gridCtrl.focusNextInnerContainer(t)?!0:((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t==null?void 0:t.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(t,e){var i,r;const n=(r=e?void 0:this.advancedFilterFocusColumn)!=null?r:(i=this.columnModel.getAllDisplayedColumns())==null?void 0:i[0];return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};mi.keyboardModeActive=!1;mi.instanceCount=0;x([V("eGridDiv")],mi.prototype,"eGridDiv",2);x([V("columnModel")],mi.prototype,"columnModel",2);x([V("headerNavigationService")],mi.prototype,"headerNavigationService",2);x([V("headerPositionUtils")],mi.prototype,"headerPositionUtils",2);x([V("rowRenderer")],mi.prototype,"rowRenderer",2);x([V("rowPositionUtils")],mi.prototype,"rowPositionUtils",2);x([V("cellPositionUtils")],mi.prototype,"cellPositionUtils",2);x([jt("rangeService")],mi.prototype,"rangeService",2);x([V("navigationService")],mi.prototype,"navigationService",2);x([V("ctrlsService")],mi.prototype,"ctrlsService",2);x([V("filterManager")],mi.prototype,"filterManager",2);x([jt("advancedFilterService")],mi.prototype,"advancedFilterService",2);x([Me],mi.prototype,"init",1);mi=x([We("focusService")],mi);var P1=class extends Pe{setMouseOver(t){this.selectedColumns=t;const e={type:F.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}clearMouseOver(){this.selectedColumns=null;const t={type:F.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}};P1=x([We("columnHoverService")],P1);var Rw=class extends Pe{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(t){this.active?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t();return}const e=i=>{for(;i.length;){const r=i.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>e(this.executeNextFuncs),0),window.setTimeout(()=>{e(this.executeLaterFuncs),t()},200)})}};x([V("ctrlsService")],Rw.prototype,"ctrlsService",2);x([Me],Rw.prototype,"postConstruct",1);Rw=x([We("columnAnimationService")],Rw);var tv=class extends Pe{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCon=t.centerRowContainerCtrl,this.addManagedListener(this.eventService,F.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const i=this.gridOptionsService.getRowHeightAsNumber(),r=Math.floor(t/i);this.paginationProxy.setPageSize(r,"autoCalculated")};this.isBodyRendered?vs(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};x([V("ctrlsService")],tv.prototype,"ctrlsService",2);x([V("paginationProxy")],tv.prototype,"paginationProxy",2);x([Me],tv.prototype,"postConstruct",1);tv=x([We("paginationAutoPageSizeService")],tv);var vx=class extends Pe{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=i)}getValue(t,e){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[e]}};x([Me],vx.prototype,"init",1);vx=x([We("valueCache")],vx);var qFe="paste",iv=class extends Pe{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,F.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(t){t.source!==qFe&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gridOptionsService.get("suppressChangeDetection"))return;const i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const r=this.gridOptionsService.get("aggregateOnlyChangedColumns"),n=new kO(r,this.clientSideRowModel.getRootNode());n.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(n),n.forEachChangedNodeDepthFirst(s=>{i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}};x([V("rowModel")],iv.prototype,"rowModel",2);x([V("rowRenderer")],iv.prototype,"rowRenderer",2);x([Me],iv.prototype,"init",1);iv=x([We("changeDetectionService")],iv);var Cx=class extends Pe{adaptFunction(t,e){const i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(e):null}adaptCellRendererFunction(t){class e{refresh(r){return!1}getGui(){return this.eGui}init(r){const n=t(r),s=typeof n;if(s==="string"||s==="number"||s==="boolean"){this.eGui=qs("<span>"+n+"</span>");return}if(n==null){this.eGui=qs("<span></span>");return}this.eGui=n}}return e}doesImplementIComponent(t){return t?t.prototype&&"getGui"in t.prototype:!1}};x([V("componentMetadataProvider")],Cx.prototype,"componentMetadataProvider",2);Cx=x([We("agComponentUtils")],Cx);var Tw=class extends Pe{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}};x([V("agComponentUtils")],Tw.prototype,"agComponentUtils",2);x([Me],Tw.prototype,"postConstruct",1);Tw=x([We("componentMetadataProvider")],Tw);var XFe=25,OK=10,DL=8,QFe=4,PL=4,xL=6,ZFe=16,MK=14,AL=8,JFe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:QFe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:DL*7,headerCellMinWidth:48,listItemHeight:DL*4,rowHeight:DL*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:PL*8,headerCellMinWidth:24,listItemHeight:PL*6,rowHeight:PL*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:xL*8,headerCellMinWidth:36,listItemHeight:xL*4,rowHeight:xL*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:MK+AL*4.25,headerCellMinWidth:36,listItemHeight:ZFe+AL,rowHeight:MK+AL*3.5,chartMenuPanelWidth:260}},FK={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Dw=class extends Pe{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var t;const e=(t=this.getTheme().el)!=null?t:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const t={type:F.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)}getSassVariable(t){const{themeFamily:e,el:i}=this.getTheme();if(!e||e.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[e]||(this.calculatedSizes[e]={});const r=this.calculatedSizes[e][t];return r??(this.calculatedSizes[e][t]=this.calculateValueForSassProperty(t,e,i),this.calculatedSizes[e][t])}calculateValueForSassProperty(t,e,i){const r="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),n=JFe[r][t],s=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!FK[t])return n;const o=FK[t],a=s.createElement("div"),l=Array.from(i.classList);a.classList.add(e,...l),a.style.position="absolute";const u=o.reduce((d,h)=>{const f=s.createElement("div");return f.style.position="static",f.classList.add(h),d.appendChild(f),f},a);let c=0;if(s.body){s.body.appendChild(a);const d=t.toLowerCase().indexOf("height")!==-1?"height":"width";c=parseInt(window.getComputedStyle(u)[d],10),s.body.removeChild(a)}return c||n}isThemeDark(){const{theme:t}=this.getTheme();return!!t&&t.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const t=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let e=this.eGridDiv,i=null,r=[];for(;e;)if(i=t.exec(e.className),!i)e=e.parentElement||void 0;else{const s=e.className.match(t);s&&(r=s);break}if(!i)return{allThemes:r};const n=i[0];return{theme:n,el:e,themeFamily:n.replace(/-dark$/,""),allThemes:r}}getFromTheme(t,e){var i;return(i=this.getSassVariable(e))!=null?i:t}getDefaultRowHeight(){return this.getFromTheme(XFe,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gridOptionsService.get("rowHeight");if(e==null||isNaN(e)||!isFinite(e))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${e}px`;return t!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),e):t!=""?parseFloat(t):-1}getMinColWidth(){const t=this.getFromTheme(null,"headerCellMinWidth");return Te(t)?Math.max(t,OK):OK}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};x([V("eGridDiv")],Dw.prototype,"eGridDiv",2);x([Me],Dw.prototype,"postConstruct",1);Dw=x([We("environment")],Dw);var rv=class extends Pe{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(t){this.logger=t.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=pte(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(e!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){const e=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:F.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;const e=this.modelHeight-this.getUiBodyHeight(),i=t/e;return this.maxScrollY*i}};x([V("ctrlsService")],rv.prototype,"ctrlsService",2);x([Cl(0,ba("loggerFactory"))],rv.prototype,"agWire",1);x([Me],rv.prototype,"postConstruct",1);rv=x([We("rowContainerHeightService")],rv);var nv=class extends Pe{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(t=!1){const e=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!e||!i)return;const r=this.gridOptionsService.get("groupSelectsChildren"),n=this.rowModel.getType()==="clientSide"&&r,s=[],o=a=>{if(t&&!a.group)return;if(n&&a.group){const u=a.childrenAfterGroup.some(c=>c.selectable===!0);a.setRowSelectable(u,!0);return}const l=i?i(a):!0;a.setRowSelectable(l,!0),!l&&a.isSelected()&&s.push(a)};if(n){const a=this.rowModel;new kO(!1,a.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0)}else this.rowModel.forEachNode(o);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),n&&this.selectionService instanceof tf&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};x([V("rowModel")],nv.prototype,"rowModel",2);x([V("selectionService")],nv.prototype,"selectionService",2);x([Me],nv.prototype,"init",1);nv=x([We("selectableService")],nv);var lo=class extends Et{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const t=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:e,btPrevious:i,btNext:r,btLast:n,pageSizeComp:s}=this;this.activateTabIndex([e,i,r,n]),e.insertAdjacentElement("afterbegin",ir(t?"last":"first",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",ir(t?"next":"previous",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",ir(t?"previous":"next",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",ir(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const e=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{const{el:e,fn:i}=t;this.addManagedListener(e,"click",i),this.addManagedListener(e,"keydown",r=>{(r.key===de.ENTER||r.key===de.SPACE)&&(r.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),i=t?e+1:0;this.lbCurrent.textContent=this.formatNumber(i)}formatNumber(t){const e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});const i=this.localeService.getLocaleTextFunc(),r=i("thousandSeparator",","),n=i("decimalSeparator",".");return g$(t,r,n)}getTemplate(){const t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),i=t("to","to"),r=t("of","of"),n=t("firstPage","First Page"),s=t("previousPage","Previous Page"),o=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${l}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${r}</span>
                    <span id="ag-${l}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${l}-start-page">${e}</span>
                        <span id="ag-${l}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${r}</span>
                        <span id="ag-${l}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),n=t===i-1;this.nextButtonDisabled=n||r,this.lastButtonDisabled=!e||r||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){s$(t,e),t.classList.toggle("ag-disabled",e)}updateRowLabels(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let n,s;if(this.isZeroPagesToDisplay()?n=s=0:(n=e*t+1,s=n+e-1,i&&s>r&&(s=r)),this.lbFirstRowOnPage.textContent=this.formatNumber(n),this.rowNodeBlockLoader.isLoading()){const o=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=o("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)}isZeroPagesToDisplay(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&e===0}setTotalLabels(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(i===1){const r=this.paginationProxy.getRow(0);if(r&&r.group&&!(r.groupData||r.aggData)){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.textContent=this.formatNumber(e),this.lbRecordCount.textContent=this.formatNumber(i);else{const r=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};x([V("paginationProxy")],lo.prototype,"paginationProxy",2);x([V("rowNodeBlockLoader")],lo.prototype,"rowNodeBlockLoader",2);x([ke("btFirst")],lo.prototype,"btFirst",2);x([ke("btPrevious")],lo.prototype,"btPrevious",2);x([ke("btNext")],lo.prototype,"btNext",2);x([ke("btLast")],lo.prototype,"btLast",2);x([ke("lbRecordCount")],lo.prototype,"lbRecordCount",2);x([ke("lbFirstRowOnPage")],lo.prototype,"lbFirstRowOnPage",2);x([ke("lbLastRowOnPage")],lo.prototype,"lbLastRowOnPage",2);x([ke("lbCurrent")],lo.prototype,"lbCurrent",2);x([ke("lbTotal")],lo.prototype,"lbTotal",2);x([ke("pageSizeComp")],lo.prototype,"pageSizeComp",2);x([Me],lo.prototype,"postConstruct",1);var Vb=class Xie extends Et{constructor(){super(Xie.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,i){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new AO(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)}showOverlay(e,i,r){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(n=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,this.updateListenerDestroyFunc=r,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(e=this.updateListenerDestroyFunc)==null||e.call(this),Lr(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};Vb.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`;x([V("overlayService")],Vb.prototype,"overlayService",2);x([ke("eOverlayWrapper")],Vb.prototype,"eOverlayWrapper",2);x([Me],Vb.prototype,"postConstruct",1);var eIe=Vb,sv=class extends Pe{getFirstRow(){let t=0,e;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),e===void 0?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return i?(e="bottom",t=i-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):r&&(e="top",t=r-1),t===void 0?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e?!0:t&&!e||!t&&e?!1:t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if(e.rowPinned!=="top")return!0;break;case"bottom":if(e.rowPinned!=="bottom")return!1;break;default:if(Te(e.rowPinned))return e.rowPinned!=="top";break}return t.rowIndex<e.rowIndex}rowMax(t){let e;return t.forEach(i=>{(e===void 0||this.before(e,i))&&(e=i)}),e}rowMin(t){let e;return t.forEach(i=>{(e===void 0||this.before(i,e))&&(e=i)}),e}};x([V("rowModel")],sv.prototype,"rowModel",2);x([V("pinnedRowModel")],sv.prototype,"pinnedRowModel",2);x([V("paginationProxy")],sv.prototype,"paginationProxy",2);sv=x([We("rowPositionUtils")],sv);var x1=class extends Pe{createId(t){const{rowIndex:e,rowPinned:i,column:r}=t;return this.createIdFromValues({rowIndex:e,column:r,rowPinned:i})}createIdFromValues(t){const{rowIndex:e,rowPinned:i,column:r}=t;return`${e}.${i??"null"}.${r.getId()}`}equals(t,e){const i=t.column===e.column,r=t.rowPinned===e.rowPinned,n=t.rowIndex===e.rowIndex;return i&&r&&n}};x1=x([We("cellPositionUtils")],x1);var Wy=class{constructor(t){this.cellValueChanges=t}},OL=class extends Wy{constructor(t,e,i,r){super(t),this.initialRange=e,this.finalRange=i,this.ranges=r}},Qie=class Zie{constructor(e){this.actionStack=[],this.maxStackSize=e||Zie.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};Qie.DEFAULT_STACK_SIZE=10;var IK=Qie,ka=class extends Pe{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,e),r=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(i||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:u}=t,c={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const t=this.gridOptionsService.get("undoRedoCellEditingLimit");t<=0||(this.undoStack=new IK(t),this.redoStack=new IK(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,F.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,F.EVENT_MODEL_UPDATED,e=>{e.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){const e={type:F.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(e);const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),r={type:F.EVENT_UNDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(r)}redo(t){const e={type:F.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(e);const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),r={type:F.EVENT_REDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(r)}undoRedo(t,e,i,r,n){if(!t)return!1;const s=t.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],n),s instanceof OL?this.processRange(s.ranges||[s[i]]):this.processCell(s.cellValueChanges),e.push(s),!0)}processAction(t,e,i){t.cellValueChanges.forEach(r=>{const{rowIndex:n,rowPinned:s,columnId:o}=r,a={rowIndex:n,rowPinned:s},l=this.getRowNode(a);l.displayed&&l.setDataValue(o,e(r),i)})}processRange(t){let e;this.rangeService.removeAllCellRanges(!0),t.forEach((i,r)=>{if(!i)return;const n=i.startRow,s=i.endRow;r===t.length-1&&(e={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(e));const o={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};this.rangeService.addCellRange(o)})}processCell(t){const e=t[0],{rowIndex:i,rowPinned:r}=e,n={rowIndex:i,rowPinned:r},s=this.getRowNode(n),o={rowPinned:e.rowPinned,rowIndex:s.rowIndex,columnId:e.columnId};this.setLastFocusedCell(o,!!this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:i,columnId:r,rowPinned:n}=t,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getGridColumn(r);if(!o)return;s.ensureIndexVisible(i),s.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:n};this.focusService.setFocusedCell(Ui(it({},a),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,F.EVENT_ROW_EDITING_STARTED,t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,F.EVENT_ROW_EDITING_STOPPED,()=>{const t=new Wy(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,F.EVENT_CELL_EDITING_STARTED,t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,F.EVENT_CELL_EDITING_STOPPED,t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Wy(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,F.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,F.EVENT_PASTE_END,()=>{const t=new Wy(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,F.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,F.EVENT_FILL_END,t=>{const e=new OL(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let t;this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?t=new OL(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):t=new Wy(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}};x([V("focusService")],ka.prototype,"focusService",2);x([V("ctrlsService")],ka.prototype,"ctrlsService",2);x([V("rowModel")],ka.prototype,"rowModel",2);x([V("pinnedRowModel")],ka.prototype,"pinnedRowModel",2);x([V("cellPositionUtils")],ka.prototype,"cellPositionUtils",2);x([V("rowPositionUtils")],ka.prototype,"rowPositionUtils",2);x([V("columnModel")],ka.prototype,"columnModel",2);x([jt("rangeService")],ka.prototype,"rangeService",2);x([Me],ka.prototype,"init",1);ka=x([We("undoRedoService")],ka);var Pw=class extends Pe{findHeader(t,e){let i,r,n;if(t.column instanceof Br?(r=`getDisplayedGroup${e}`,i=this.columnModel[r](t.column)):(n=`getDisplayedCol${e}`,i=this.columnModel[n](t.column)),!i)return;let{headerRowIndex:s}=t;if(this.getHeaderRowType(s)!=="filter"){const l=[i];for(;i.getParent();)i=i.getParent(),l.push(i);i=l[l.length-1-s]}const{column:o,headerRowIndex:a}=this.getHeaderIndexToFocus(i,s);return{column:o,headerRowIndex:a}}getHeaderIndexToFocus(t,e){let i;if(t instanceof Br&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){const r=t;i=r.getLeafColumns()[0];let n=i;for(;n!==r;)e++,n=n.getParent()}return{column:i||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){return t?t.getLeafColumns().some(e=>e.isSpanHeaderHeight()):!1}getColumnVisibleParent(t,e){const i=this.getHeaderRowType(e),r=i==="filter",n=i==="column";let s=r?t:t.getParent(),o=e-1,a=o;if(n&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=t,o=e,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(t,e,i="After"){const r=this.getHeaderRowType(e);let n=t,s=e+1,o=s;if(r==="group"){const a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:Xt(a),u=[];let c=l;for(;c.getParent()!==t;)c=c.getParent(),u.push(c);if(n=l,l.isSpanHeaderHeight())for(let d=u.length-1;d>=0;d--){const h=u[d];if(!h.isPadding()){n=h;break}s++}else n=Xt(u),n||(n=l)}return{column:n,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){const i=this.columnModel.getAllDisplayedColumns(),r=i[e==="start"?0:i.length-1];if(!r)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getRowType(t);if(s=="group"){const o=this.columnModel.getColumnGroupAtLevel(r,t);return{headerRowIndex:t,column:o}}return{headerRowIndex:s==null?-1:t,column:r}}};x([V("columnModel")],Pw.prototype,"columnModel",2);x([V("ctrlsService")],Pw.prototype,"ctrlsService",2);Pw=x([We("headerPositionUtils")],Pw);var A1=class{buildColumnDefs(t,e,i){const r=[],n={};return t.forEach(s=>{const o=this.createDefFromColumn(s,e,i);let a=!0,l=o,u=s.getOriginalParent(),c=null;for(;u;){let d=null;if(u.isPadding()){u=u.getOriginalParent();continue}const h=n[u.getGroupId()];if(h){h.children.push(l),a=!1;break}if(d=this.createDefFromGroup(u),d&&(d.children=[l],n[d.groupId]=d,l=d,u=u.getOriginalParent()),u!=null&&c===u){a=!1;break}c=u}a&&r.push(l)}),r}createDefFromGroup(t){const e=ix(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,i){const r=ix(t.getColDef());return r.colId=t.getColId(),r.width=t.getActualWidth(),r.rowGroup=t.isRowGroupActive(),r.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,r.pivot=t.isPivotActive(),r.pivotIndex=t.isPivotActive()?i.indexOf(t):null,r.aggFunc=t.isValueActive()?t.getAggFunc():null,r.hide=t.isVisible()?void 0:!0,r.pinned=t.isPinned()?t.getPinned():null,r.sort=t.getSort()?t.getSort():null,r.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,r}};A1=x([We("columnDefFactory")],A1);var xw=class{getInitialRowClasses(t){const e=[];return Te(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),l1(e,this.processClassesFromGridOptions(t.rowNode)),l1(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){const e=[],i=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(o=>e.push(o))},r=this.gridOptionsService.get("rowClass");if(r){if(typeof r=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(r)}const n=this.gridOptionsService.getCallback("getRowClass");if(n){const s={data:t.data,node:t,rowIndex:t.rowIndex},o=n(s);i(o)}return e}preProcessRowClassRules(t){const e=[];return this.processRowClassRules(t,i=>{e.push(i)},i=>{}),e}processRowClassRules(t,e,i){const r=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),r,e,i)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}};x([V("stylingService")],xw.prototype,"stylingService",2);x([V("gridOptionsService")],xw.prototype,"gridOptionsService",2);xw=x([We("rowCssClassCalculator")],xw);var ov=class extends Pe{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(t,e){const i=(n,s)=>({currentPos:s,rowNode:n}),r=t.map(i);return r.sort(this.compareRowNodes.bind(this,e)),r.map(n=>n.rowNode)}compareRowNodes(t,e,i){const r=e.rowNode,n=i.rowNode;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.sort==="desc",u=this.getValue(r,a.column),c=this.getValue(n,a.column);let d;const h=this.getComparator(a,r);if(h?d=h(u,c,r,n,l):d=ft.defaultComparator(u,c,this.isAccentedSort),!isNaN(d)&&d!==0)return a.sort==="asc"?d:d*-1}return e.currentPos-i.currentPos}getComparator(t,e){const i=t.column,r=i.getColDef().comparator;if(r!=null)return r;if(!i.getColDef().showRowGroup)return;const n=!e.group&&i.getColDef().field;if(!n)return;const s=this.columnModel.getPrimaryColumn(n);if(s)return s.getColDef().comparator}getValue(t,e){var i,r;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const a=(i=t.allLeafChildren)==null?void 0:i[0];return a?this.valueService.getValue(e,a,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return o?(r=t.groupData)==null?void 0:r[o.getId()]:void 0}if(!(t.group&&e.getColDef().showRowGroup))return this.valueService.getValue(e,t,!1,!1)}};x([V("valueService")],ov.prototype,"valueService",2);x([V("columnModel")],ov.prototype,"columnModel",2);x([Me],ov.prototype,"init",1);ov=x([We("rowNodeSorter")],ov);var Ap=class extends Pe{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const t=this.createReadyParams();this.readyCallbacks.forEach(e=>e(t)),this.readyCallbacks.length=0}}whenReady(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(t){this.fakeHScrollComp=t,this.checkReady()}registerFakeVScrollComp(t){this.fakeVScrollComp=t,this.checkReady()}registerGridHeaderCtrl(t){this.gridHeaderCtrl=t,this.checkReady()}registerCenterRowContainerCtrl(t){this.centerRowContainerCtrl=t,this.checkReady()}registerLeftRowContainerCtrl(t){this.leftRowContainerCtrl=t,this.checkReady()}registerRightRowContainerCtrl(t){this.rightRowContainerCtrl=t,this.checkReady()}registerTopCenterRowContainerCtrl(t){this.topCenterRowContainerCtrl=t,this.checkReady()}registerTopLeftRowContainerCon(t){this.topLeftRowContainerCtrl=t,this.checkReady()}registerTopRightRowContainerCtrl(t){this.topRightRowContainerCtrl=t,this.checkReady()}registerStickyTopCenterRowContainerCtrl(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()}registerStickyTopLeftRowContainerCon(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()}registerStickyTopRightRowContainerCtrl(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()}registerBottomCenterRowContainerCtrl(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()}registerBottomLeftRowContainerCtrl(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()}registerBottomRightRowContainerCtrl(t){this.bottomRightRowContainerCtrl=t,this.checkReady()}registerHeaderContainer(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t;break}this.checkReady()}registerGridBodyCtrl(t){this.gridBodyCtrl=t,this.checkReady()}registerGridCtrl(t){this.gridCtrl=t,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};Ap.NAME="ctrlsService";Ap=x([We(Ap.NAME)],Ap);var O1=class extends Pe{constructor(){super(...arguments),this.registry={}}register(t){this.registry[t.controllerName]=t.controllerClass}getInstance(t){const e=this.registry[t];if(e!=null)return new e}};O1=x([We("ctrlsFactory")],O1);var Yf=class extends Et{constructor(t,e){super(t),this.direction=e,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",h$()||Wc())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=f$(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const t=["mouseenter","mousedown","touchstart"],e=["mouseleave","touchend"],i=this.getGui();t.forEach(r=>this.addManagedListener(i,r,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),e.forEach(r=>this.addManagedListener(i,r,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,t=>{t.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(t){const e=this.getViewport();JH(()=>Bo(e),()=>this.setScrollPosition(t),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedListener(this.getViewport(),"scroll",t)}};x([ke("eViewport")],Yf.prototype,"eViewport",2);x([ke("eContainer")],Yf.prototype,"eContainer",2);x([V("scrollVisibleService")],Yf.prototype,"scrollVisibleService",2);x([V("ctrlsService")],Yf.prototype,"ctrlsService",2);x([V("animationFrameService")],Yf.prototype,"animationFrameService",2);var qf=class Jie extends Yf{constructor(){super(Jie.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,F.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Jv(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.gridOptionsService.getScrollbarWidth();r&&(i+=n),Oa(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=n);let s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=n),Oa(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),n=e&&this.gridOptionsService.getScrollbarWidth()||0,o=r?0:n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Tp(this.getGui(),o),Tp(this.eViewport,o),Tp(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return gw(this.getViewport(),this.enableRtl)}setScrollPosition(e){Bo(this.getViewport())||this.attemptSettingScrollPosition(e),mw(this.getViewport(),e,this.enableRtl)}};qf.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;x([ke("eLeftSpacer")],qf.prototype,"eLeftSpacer",2);x([ke("eRightSpacer")],qf.prototype,"eRightSpacer",2);x([V("columnModel")],qf.prototype,"columnModel",2);x([V("pinnedRowModel")],qf.prototype,"pinnedRowModel",2);x([Me],qf.prototype,"postConstruct",1);var tIe=qf,Aw=class extends Pe{postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:F.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:F.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};x([V("columnModel")],Aw.prototype,"columnModel",2);x([Me],Aw.prototype,"postConstruct",1);Aw=x([We("pinnedWidthService")],Aw);var av=class extends Pe{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);const e=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(e)),this.dispatchExpandedDebounced()}};x([V("animationFrameService")],av.prototype,"animationFrameService",2);x([V("rowModel")],av.prototype,"rowModel",2);x([Me],av.prototype,"postConstruct",1);av=x([We("rowNodeEventThrottle")],av);var iIe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},ud=(t,e)=>{var i;return((i=e.rowModelType)!=null?i:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},rIe={enableRowGroup:ud,rowGroup:ud,rowGroupIndex:ud,enablePivot:ud,enableValue:ud,pivot:ud,pivotIndex:ud,aggFunc:ud,cellEditor:t=>t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var e;const i=["columnsMenuTab","generalMenuTab"];return(e=t.menuTabs)!=null&&e.some(r=>i.includes(r))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>tm},tm={objectName:"colDef",allProperties:WMe.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:iIe,validations:rIe},nIe={enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},sIe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},oIe={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:t=>{var e;const i=(e=t.rowModelType)!=null?e:"clientSide";switch(i){case"clientSide":const r=`treeData requires 'getDataPath' in the ${i} row model.`;return t.getDataPath?null:r;case"serverSide":const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:n}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:t=>{var e;switch((e=t.rowModelType)!=null?e:"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>tm,defaultColDef:()=>tm,defaultColGroupDef:()=>tm,autoGroupColumnDef:()=>tm},aIe={objectName:"gridOptions",allProperties:[...Pu.ALL_PROPERTIES,...ox.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:nIe,validations:oIe},si=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Il,this.globalEventHandlerFactory=t=>(e,i)=>{if(this.destroyed)return;const r=TD.has(e);if(r&&!t||!r&&t)return;const n=ox.getCallbackForEvent(e),s=this.gridOptions[n];typeof s=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{s(i)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new ev(this.api);const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(t){var e;return(e=this.gridOptions[t])!=null?e:sIe[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return Te(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(i=>{const r=i;return r.api=this.api,r.columnApi=this.columnApi,r.context=this.context,t(r)})}static toBoolean(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1}static toNumber(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=parseInt(t);return isNaN(e)?void 0:e}}static toConstrainedNum(t,e){return i=>{const r=si.toNumber(i);if(!(r==null||r<t||r>e))return r}}static getCoercedValue(t,e){const i=si.PROPERTY_COERCIONS.get(t);return i?i(e):e}static getCoercedGridOptions(t){const e={};return Object.entries(t).forEach(([i,r])=>{const n=si.getCoercedValue(i,r);e[i]=n}),e}updateGridOptions({options:t,source:e="api"}){const i={id:si.changeSetId++,properties:[]},r=[];Object.entries(t).forEach(([n,s])=>{e==="api"&&kOe[n]&&ct(`${n} is an initial property and cannot be updated.`);const o=si.getCoercedValue(n,s),a=typeof o=="object"&&e==="api",l=this.gridOptions[n];if(a||l!==o){this.gridOptions[n]=o;const u={type:n,currentValue:o,previousValue:l,changeSet:i,source:e};r.push(u)}}),this.validationService.processGridOptions(this.gridOptions),i.properties=r.map(n=>n.type),r.forEach(n=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${n.type} from `,n.previousValue," to  ",n.currentValue),this.propertyEventService.dispatchEvent(n)})}addEventListener(t,e){this.propertyEventService.addEventListener(t,e)}removeEventListener(t,e){this.propertyEventService.removeEventListener(t,e)}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:mte();e!=null&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:F.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&ht(this.gridOptions.rowModelType)}isDomLayout(t){var e;return((e=this.gridOptions.domLayout)!=null?e:"normal")===t}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(t,e=!1,i){if(i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:i,estimated:!0};const n={node:t,data:t.data},s=this.getCallback("getRowHeight")(n);if(this.isNumeric(s))return s===0&&ct("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}return t.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||ht(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)}getDomDataKey(){return this.domDataKey}getDomData(t,e){const i=t[this.getDomDataKey()];return i?i[e]:void 0}setDomData(t,e,i){const r=this.getDomDataKey();let n=t[r];ht(n)&&(n={},t[r]=n),n[e]=i}getDocument(){let t=null;return this.gridOptions.getDocument&&Te(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&Te(t)?t:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return Te(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const t=this.gridOptions.autoGroupColumnDef;return!(t!=null&&t.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(t===!0)return()=>!0}isGroupIncludeFooterTrueOrCallback(){const t=this.gridOptions.groupIncludeFooter;return t===!0||typeof t=="function"}getGroupIncludeFooter(){const t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):t===!0?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(t){return t?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(t){const e=t;return e.api=this.api,e.columnApi=this.columnApi,e.context=this.context,e}};si.PROPERTY_COERCIONS=new Map([...Pu.BOOLEAN_PROPERTIES.map(t=>[t,si.toBoolean]),...Pu.NUMBER_PROPERTIES.map(t=>[t,si.toNumber]),["groupAggFiltering",t=>typeof t=="function"?t:si.toBoolean(t)],["pageSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",si.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",si.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",si.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",si.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",si.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",si.toConstrainedNum(0,Number.MAX_VALUE)]]);si.changeSetId=0;x([V("gridOptions")],si.prototype,"gridOptions",2);x([V("eventService")],si.prototype,"eventService",2);x([V("environment")],si.prototype,"environment",2);x([V("frameworkOverrides")],si.prototype,"frameworkOverrides",2);x([V("eGridDiv")],si.prototype,"eGridDiv",2);x([V("validationService")],si.prototype,"validationService",2);x([V("gridApi")],si.prototype,"api",2);x([Me],si.prototype,"init",1);x([xs],si.prototype,"destroy",1);si=x([We("gridOptionsService")],si);var M1=class extends Pe{getLocaleTextFunc(){const t=this.gridOptionsService.getCallback("getLocaleText");if(t)return(i,r,n)=>t({key:i,defaultValue:r,variableValues:n});const e=this.gridOptionsService.get("localeText");return(i,r,n)=>{let s=e&&e[i];if(s&&n&&n.length){let o=0;for(;!(o>=n.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",n[o++])}return s??r}}};M1=x([We("localeService")],M1);var X$=class ere extends Yf{constructor(){super(ere.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new MO(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,n=r===0&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Oa(this.getGui(),n),Oa(this.eViewport,n),Oa(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),s=r.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,i){!i&&!Bo(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};X$.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;x([Me],X$.prototype,"postConstruct",1);var lIe=X$,LK={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},_K=["january","february","march","april","may","june","july","august","september","october","november","december"],bc=class extends Pe{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",t=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(em(t.source))})}processDataTypeDefinitions(){var t;const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(e).forEach(([r,n])=>{this.dataTypeDefinitions[r]=Ui(it({},n),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)})});const i=(t=this.gridOptionsService.get("dataTypeDefinitions"))!=null?t:{};this.dataTypeMatchers={},Object.entries(i).forEach(([r,n])=>{const s=this.processDataTypeDefinition(n,i,[r],e);s&&(this.dataTypeDefinitions[r]=s,n.dataTypeMatcher&&(this.dataTypeMatchers[r]=n.dataTypeMatcher))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(r=>{const n=this.dataTypeMatchers[r];n&&delete this.dataTypeMatchers[r],this.dataTypeMatchers[r]=n??e[r].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){const i=it(it({},t),e);return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(t.columnTypes),...this.convertColumnTypes(e.columnTypes)]),i}processDataTypeDefinition(t,e,i,r){let n;const s=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){let o=r[s];const a=e[s];if(o&&a&&(o=a),!this.validateDataTypeDefinition(t,o,s))return;n=this.mergeDataTypeDefinitions(o,t)}else{if(i.includes(s)){ct('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=e[s];if(!this.validateDataTypeDefinition(t,o,s))return;const a=this.processDataTypeDefinition(o,e,[...i,s],r);if(!a)return;n=this.mergeDataTypeDefinitions(a,t)}return Ui(it({},n),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)})}validateDataTypeDefinition(t,e,i){return e?e.baseDataType!==t.baseDataType?(ct('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ct(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{var i,r;if((i=e.node)!=null&&i.group){const n=e.column.getAggFunc();if(n){if(n==="first"||n==="last")return t.valueFormatter(e);if(t.baseDataType==="number"&&n!=="count"){if(typeof e.value=="number")return t.valueFormatter(e);if(typeof e.value=="object"){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter(Ui(it({},e),{value:e.value.toNumber()}));if("value"in e.value)return t.valueFormatter(Ui(it({},e),{value:e.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()){if(typeof e.value!="string"||(r=t.dataTypeMatcher)!=null&&r.call(t,e.value))return t.valueFormatter(e);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(e)}}updateColDefAndGetDataTypeDefinitionColumnType(t,e,i){let{cellDataType:r}=e;const{field:n}=e;if(r===void 0&&(r=t.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(t,e)?this.inferCellDataType(n,i):!1),!r){t.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){ct(`Missing data type definition - "${r}"`);return}return t.cellDataType=r,s.groupSafeValueFormatter&&(t.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(t.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,s,i),s.columnTypes}updateColDefAndGetColumnType(t,e,i){var r,n;const s=this.updateColDefAndGetDataTypeDefinitionColumnType(t,e,i),o=(n=(r=e.type)!=null?r:s)!=null?n:t.type;return t.type=o,o?this.convertColumnTypes(o):void 0}addColumnListeners(t){if(!this.isWaitingForRowData)return;const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;const i=r=>{e.add(r.key)};t.addEventListener(Ci.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener(Ci.EVENT_STATE_UPDATED,i))}canInferCellDataType(t,e){var i;if(this.rowModel.getType()!=="clientSide")return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,r))return!1;const n=e.type===null?t.type:e.type;if(n){const s=(i=this.gridOptionsService.get("columnTypes"))!=null?i:{};if(this.convertColumnTypes(n).some(a=>{const l=s[a.trim()];return l&&this.doColDefPropsPreventInference(l,r)}))return!1}return!this.doColDefPropsPreventInference(t,r)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,r])=>this.doesColDefPropPreventInference(t,e,i,r))}doesColDefPropPreventInference(t,e,i,r){if(!e[i])return!1;const n=t[i];return n===null?(e[i]=!1,!1):r===void 0?!!n:n===r}inferCellDataType(t,e){var i;if(!t)return;let r;const n=this.getInitialData();if(n){const o=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");r=vm(n,t,o)}else this.initWaitForRowData(e);if(r==null)return;const[s]=(i=Object.entries(this.dataTypeMatchers).find(([o,a])=>a(r)))!=null?i:["object"];return s}getInitialData(){const t=this.gridOptionsService.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e!=null&&e.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,F.EVENT_ROW_DATA_UPDATE_STARTED,r=>{const{firstRowData:n}=r;if(!n)return;i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(n,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations();const s={type:F.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(s)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(s=>s()),this.columnStateUpdateListenerDestroyFuncs=[];const r={},n={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const a=this.columnModel.getGridColumn(s);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(e&&u.type&&u.type!==l.type){const c=this.getUpdatedColumnState(a,o);c.rowGroup&&c.rowGroupIndex==null&&(r[s]=c),c.pivot&&c.pivotIndex==null&&(n[s]=c),i.push(c)}}),e&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(r,n)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){const i=this.columnModel.getColumnStateFromColDef(t);return e.forEach(r=>{delete i[r],r==="rowGroup"?delete i.rowGroupIndex:r==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=e.valueParser!==i.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==i.valueFormatter}convertColumnTypes(t){let e=[];return t instanceof Array?t.some(r=>typeof r!="string")?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:typeof t=="string"?e=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),e}getDateStringTypeDefinition(t){var e;return t?(e=this.getDataTypeDefinition(t))!=null?e:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){const e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){var e;return(e=this.getDataTypeDefinition(t))==null?void 0:e.baseDataType}checkType(t,e){var i;if(e==null)return!0;const r=(i=this.getDataTypeDefinition(t))==null?void 0:i.dataTypeMatcher;return r?r(e):!0}validateColDef(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&ct('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&ct('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(t,e,i){const r=(a,l,u)=>{let c=a.getColDef().valueFormatter;return c===e.groupSafeValueFormatter&&(c=e.valueFormatter),this.valueFormatterService.formatValue(a,l,u,c)},n=Jt.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),s=this.localeService.getLocaleTextFunc(),o=a=>{const{filterParams:l}=t;t.filterParams=typeof l=="object"?it(it({},l),a):a};switch(e.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",n&&o({comparator:(a,l)=>{const u=a==null?0:parseInt(a),c=l==null?0:parseInt(l);return u===c?0:u>c?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===de.SPACE,o(n?{valueFormatter:a=>Te(a.value)?s(String(a.value),a.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,l)=>l===!1,numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=a=>r(a.column,a.node,a.value),n&&o({valueFormatter:a=>{const l=r(a.column,a.node,a.value);return Te(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=_K[Number(a)-1];return s(u,LK[u])}return a??s("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=l=>r(l.column,l.node,l.value);const a=e.dateParser;o(n?{valueFormatter:l=>{const u=r(l.column,l.node,l.value);return Te(u)?u:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const u=a(l??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(l,u)=>{if(u===1&&l!=null){const c=_K[Number(l)-1];return s(c,LK[c])}return l??s("blanks","(Blanks)")}}:{comparator:(l,u)=>{const c=a(u);return u==null||c<l?-1:c>l?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=(a,l)=>{const u=this.columnModel.getPrimaryColumn(i),c=u==null?void 0:u.getColDef();if(!u||!c)return 0;const d=a==null?"":r(u,null,a),h=l==null?"":r(u,null,l);return d===h?0:d>h?1:-1},t.keyCreator=a=>r(a.column,a.node,a.value),n?o({valueFormatter:a=>{const l=r(a.column,a.node,a.value);return Te(l)?l:s("blanks","(Blanks)")}}):t.filterValueGetter=a=>r(a.column,a.node,this.valueService.getValue(a.column,a.node));break}}}getDefaultDataTypes(){const t=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var r,n;return((n=(r=i.newValue)==null?void 0:r.trim)==null?void 0:n.call(r))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?e("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:cw(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var r,n;return i.newValue==null?i.newValue:((n=(r=i.newValue)==null?void 0:r.trim)==null?void 0:n.call(r))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Ys(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>{var r;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?e("invalidDate","Invalid Date"):(r=Aa(i.value,!1))!=null?r:""},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var r;return(r=Ys(i))!=null?r:void 0},dateFormatter:i=>{var r;return(r=Aa(i??null,!1))!=null?r:void 0},valueParser:i=>t(String(i.newValue))?i.newValue:null,valueFormatter:i=>t(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&t(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var r;return(r=cw(i.value))!=null?r:""}}}}};x([V("rowModel")],bc.prototype,"rowModel",2);x([V("columnModel")],bc.prototype,"columnModel",2);x([V("columnUtils")],bc.prototype,"columnUtils",2);x([V("valueService")],bc.prototype,"valueService",2);x([V("valueFormatterService")],bc.prototype,"valueFormatterService",2);x([Me],bc.prototype,"init",1);bc=x([We("dataTypeService")],bc);var yx=class extends Pe{parseValue(t,e,i,r){const n=t.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:e,data:e==null?void 0:e.data,oldValue:r,newValue:i,colDef:n,column:t}),o=n.valueParser;return Te(o)?typeof o=="function"?o(s):this.expressionService.evaluate(o,s):i}};x([V("expressionService")],yx.prototype,"expressionService",2);yx=x([We("valueParserService")],yx);var nf=class extends Pe{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",t=>this.setColumnDefs(t))}start(){this.ctrlsService.whenReady(()=>{const t=this.gridOptionsService.get("columnDefs");t?this.setColumnsAndData(t):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const t=Jt.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new q$("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${t}`)}dispatchGridReadyEvent(){const t={type:F.EVENT_GRID_READY};this.eventService.dispatchEvent(t)}setColumnDefs(t){const e=this.gridOptionsService.get("columnDefs");if(e){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(e);return}this.columnModel.setColumnDefs(e,em(t.source))}}};x([V("ctrlsService")],nf.prototype,"ctrlsService",2);x([V("columnModel")],nf.prototype,"columnModel",2);x([V("rowModel")],nf.prototype,"rowModel",2);x([Me],nf.prototype,"postConstruct",1);nf=x([We("syncService")],nf);var sf=class extends Pe{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const t={},e=this.userComponentFactory.getLoadingOverlayCompDetails(t);this.showOverlay(e,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const t={},e=this.userComponentFactory.getNoRowsOverlayCompDetails(t);this.showOverlay(e,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(t,e,i){const r=t.newAgStackInstance(),n=this.addManagedPropertyListener(i,({currentValue:s})=>{r.then(o=>{o.refresh&&o.refresh(this.gridOptionsService.addGridCommonParams(it({},s??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(r,e,n)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};x([V("userComponentFactory")],sf.prototype,"userComponentFactory",2);x([V("paginationProxy")],sf.prototype,"paginationProxy",2);x([V("columnModel")],sf.prototype,"columnModel",2);x([Me],sf.prototype,"postConstruct",1);sf=x([We("overlayService")],sf);var Es=class extends Pe{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=vs(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=vs(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=vs(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var t;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(t=this.gridOptionsService.get("initialState"))!=null?t:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const e=this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,({source:n})=>{n==="gridInitializing"&&(e==null||e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),i=this.addManagedListener(this.eventService,F.EVENT_ROW_COUNT_READY,()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),r=this.addManagedListener(this.eventService,F.EVENT_FIRST_DATA_RENDERED,()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,F.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,F.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var t;const e=(t=this.gridOptionsService.get("initialState"))!=null?t:{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var t;const{filter:e,rowGroupExpansion:i,rowSelection:r,pagination:n}=(t=this.gridOptionsService.get("initialState"))!=null?t:{},s=this.gridOptionsService.get("advancedFilterModel");(e||s)&&this.setFilterState(e,s),i&&this.setRowGroupExpansionState(i),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,F.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,F.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,F.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,F.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var t;const{scroll:e,rangeSelection:i,focusedCell:r,columnOrder:n}=(t=this.gridOptionsService.get("initialState"))!=null?t:{};r&&this.setFocusedCellState(r),i&&this.setRangeSelectionState(i),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,F.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,F.EVENT_RANGE_SELECTION_CHANGED,s=>{s.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const t=this.columnModel.isPivotMode(),e=[],i=[],r=[],n=[],s=[],o=[],a=[],l=[],u=[],c=this.columnModel.getColumnState();for(let d=0;d<c.length;d++){const{colId:h,sort:f,sortIndex:g,rowGroup:v,rowGroupIndex:C,aggFunc:S,pivot:y,pivotIndex:w,pinned:E,hide:b,width:D,flex:P}=c[d];u.push(h),f&&(e[g??0]={colId:h,sort:f}),v&&(i[C??0]=h),typeof S=="string"&&r.push({colId:h,aggFunc:S}),y&&(n[w??0]=h),E&&(E==="right"?o:s).push(h),b&&a.push(h),(P||D)&&l.push({colId:h,flex:P??void 0,width:D})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:n.length||t?{pivotMode:t,pivotColIds:n}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(t){const{sort:e,rowGroup:i,aggregation:r,pivot:n,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l}=t,u={},c=g=>{let v=u[g];return v||(v={colId:g},u[g]=v,v)};e&&e.sortModel.forEach(({colId:g,sort:v},C)=>{const S=c(g);S.sort=v,S.sortIndex=C}),i&&i.groupColIds.forEach((g,v)=>{const C=c(g);C.rowGroup=!0,C.rowGroupIndex=v}),r&&r.aggregationModel.forEach(({colId:g,aggFunc:v})=>{c(g).aggFunc=v}),n&&(n.pivotColIds.forEach((g,v)=>{const C=c(g);C.pivot=!0,C.pivotIndex=v}),this.gridOptionsService.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(g=>{c(g).pinned="left"}),s.rightColIds.forEach(g=>{c(g).pinned="right"})),o&&o.hiddenColIds.forEach(g=>{c(g).hide=!0}),a&&a.columnSizingModel.forEach(({colId:g,flex:v,width:C})=>{const S=c(g);S.flex=v??null,S.width=C});const d=l==null?void 0:l.orderedColIds,h=!!(d!=null&&d.length),f=h?d.map(g=>c(g)):Object.values(u);if(f.length){this.columnStates=f;const g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:f,applyOrder:h,defaultState:g},"gridInitializing")}}setColumnPivotState(t){const e=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(e){let r=[];for(const n of e)this.columnModel.getSecondaryColumn(n.colId)&&r.push(n);this.columnModel.applyColumnState({state:r,applyOrder:t},"gridInitializing")}i&&this.columnModel.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const t=this.columnModel.getColumnGroupState(),e=[];return t.forEach(({groupId:i,open:r})=>{r&&e.push(i)}),e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){var e;if(!t.hasOwnProperty("columnGroup"))return;const i=new Set((e=t.columnGroup)==null?void 0:e.openColumnGroupIds),n=this.columnModel.getColumnGroupState().map(({groupId:s})=>{const o=i.has(s);return o&&i.delete(s),{groupId:s,open:o}});i.forEach(s=>{n.push({groupId:s,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnModel.setColumnGroupState(n,"gridInitializing")}getFilterState(){var t;let e=this.filterManager.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const i=(t=this.filterManager.getAdvancedFilterModel())!=null?t:void 0;return e||i?{filterModel:e,advancedFilterModel:i}:void 0}setFilterState(t,e){const{filterModel:i,advancedFilterModel:r}=t??{advancedFilterModel:e};i&&this.filterManager.setFilterModel(i,"columnFilter"),r&&this.filterManager.setAdvancedFilterModel(r)}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(i=>{const{id:r,type:n,startRow:s,endRow:o,columns:a,startColumn:l}=i;return{id:r,type:n,startRow:s,endRow:o,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setRangeSelectionState(t){var e;if(!this.gridOptionsService.get("enableRangeSelection"))return;const i=t.cellRanges.map(r=>Ui(it({},r),{columns:r.colIds.map(n=>this.columnModel.getGridColumn(n)),startColumn:this.columnModel.getGridColumn(r.startColId)}));(e=this.rangeService)==null||e.setCellRanges(i)}getScrollState(){var t,e,i;if(!this.isClientSideRowModel)return;const r=(t=this.ctrlsService.getGridBodyCtrl())==null?void 0:t.getScrollFeature(),{left:n}=(e=r==null?void 0:r.getHScrollPosition())!=null?e:{left:0},{top:s}=(i=r==null?void 0:r.getVScrollPosition())!=null?i:{top:0};return s||n?{top:s,left:n}:void 0}setScrollState(t){var e;if(!this.isClientSideRowModel)return;const{top:i,left:r}=t;(e=this.ctrlsService.getGridBodyCtrl())==null||e.getScrollFeature().setScrollPosition(i,r)}getSideBarState(){var t,e;return(e=(t=this.sideBarService)==null?void 0:t.getSideBarComp())==null?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const t=this.focusService.getFocusedCell();if(t){const{column:e,rowIndex:i,rowPinned:r}=t;return{colId:e.getColId(),rowIndex:i,rowPinned:r}}}setFocusedCellState(t){if(!this.isClientSideRowModel)return;const{colId:e,rowIndex:i,rowPinned:r}=t;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e),rowIndex:i,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const t=this.paginationProxy.getCurrentPage(),e=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!t&&!e))return{page:t,pageSize:e}}setPaginationState(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationProxy.setPage(t.page)}getRowSelectionState(){var t;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((t=e==null?void 0:e.toggledNodes)!=null&&t.length)?void 0:e}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){const t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){const e=this.getColumnState();let i=!1;Object.entries(e).forEach(([r,n])=>{r1(n,this.cachedState[r])||(i=!0)}),this.cachedState=it(it({},this.cachedState),e),i&&this.dispatchStateUpdateEvent(t)}updateCachedState(t,e){const i=this.cachedState[t];this.setCachedStateValue(t,e),r1(e,i)||this.dispatchStateUpdateEvent([t])}setCachedStateValue(t,e){this.cachedState=Ui(it({},this.cachedState),{[t]:e})}refreshStaleState(){this.staleStateKeys.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){this.suppressEvents||(t.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const e={type:F.EVENT_STATE_UPDATED,sources:t,state:this.cachedState};this.eventService.dispatchEvent(e)}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};x([V("filterManager")],Es.prototype,"filterManager",2);x([jt("rangeService")],Es.prototype,"rangeService",2);x([V("ctrlsService")],Es.prototype,"ctrlsService",2);x([jt("sideBarService")],Es.prototype,"sideBarService",2);x([V("focusService")],Es.prototype,"focusService",2);x([V("columnModel")],Es.prototype,"columnModel",2);x([V("paginationProxy")],Es.prototype,"paginationProxy",2);x([V("rowModel")],Es.prototype,"rowModel",2);x([V("selectionService")],Es.prototype,"selectionService",2);x([V("expansionService")],Es.prototype,"expansionService",2);x([V("columnAnimationService")],Es.prototype,"columnAnimationService",2);x([Me],Es.prototype,"postConstruct",1);Es=x([We("stateService")],Es);var Ow=class extends Pe{init(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,aIe)}processColumnDefs(t){this.processOptions(t,tm)}processOptions(t,e){const{validations:i,deprecations:r,allProperties:n,propertyExceptions:s,objectName:o,docsUrl:a}=e;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,[...s??[],...Object.keys(r)],n,o,a);const l=new Set;Object.keys(t).forEach(c=>{var d;const h=r[c];if(h)if("renamed"in h){const{renamed:w,version:E}=h;l.add(`As of v${E}, ${String(c)} is deprecated. Please use ${String(w)} instead.`),t[w]=t[c]}else{const{message:w,version:E}=h;l.add(`As of v${E}, ${String(c)} is deprecated. ${w??""}`)}const f=t[c];if(f==null||f===!1)return;const g=i[c];let v;if(g)if(typeof g=="function"){const w=g(t,this.gridOptions);if(!w)return;if("objectName"in w){const E=t[c];if(Array.isArray(E)){E.forEach(b=>{this.processOptions(b,w)});return}this.processOptions(t[c],w);return}v=w}else v=g;else return;const{module:C,dependencies:S,supportedRowModels:y}=v;if(y){const w=(d=this.gridOptions.rowModelType)!=null?d:"clientSide";if(!y.includes(w)){l.add(`${String(c)} is not supported with the '${w}' row model.`);return}}if(C){const w=Array.isArray(C)?C:[C];let E=!0;if(w.forEach(b=>{Jt.__assertRegistered(b,String(c),this.context.getGridId())||(E=!1,l.add(`${String(c)} is only available when ${b} is loaded.`))}),!E)return}if(S){const w=this.checkForWarning(c,S,t);if(w){l.add(w);return}}}),l.size>0&&l.forEach(c=>{ct(c)})}checkForWarning(t,e,i){if(typeof e=="function")return e(i,this.gridOptions);const n=Object.entries(e).find(([a,l])=>{const u=i[a];return!l.includes(u)});if(!n)return null;const[s,o]=n;return o.length>1?`'${String(t)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(t)}' requires '${s}' to be ${o[0]}.`}checkProperties(t,e,i,r,n){const s=["__ob__","__v_skip","__metadata__"],o=Ote(Object.getOwnPropertyNames(t),[...s,...e,...i],i);if(Zn(o,(a,l)=>{ct(`invalid ${r} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&n){const a=this.getFrameworkOverrides().getDocLink(n);ct(`to see all the valid ${r} properties please check: ${a}`)}}};x([V("gridOptions")],Ow.prototype,"gridOptions",2);x([Me],Ow.prototype,"init",1);Ow=x([We("validationService")],Ow);var Sx=class extends Pe{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new e$(this.getFrameworkOverrides())}addEventListener(t,e){const i=this.frameworkEventWrappingService.wrap(e),r=this.gridOptionsService.useAsyncEvents()&&!TD.has(t),n=r?this.asyncEventListeners:this.syncEventListeners;n.has(t)||n.set(t,new Set),n.get(t).add(i),this.eventService.addEventListener(t,i,r)}removeEventListener(t,e){var i;const r=this.frameworkEventWrappingService.unwrap(e),n=this.asyncEventListeners.get(t),s=!!(n!=null&&n.delete(r));s||(i=this.syncEventListeners.get(t))==null||i.delete(r),this.eventService.removeEventListener(t,r,s)}addGlobalListener(t){const e=this.frameworkEventWrappingService.wrapGlobal(t);if(this.gridOptionsService.useAsyncEvents()){const r=(s,o)=>{TD.has(s)&&e(s,o)},n=(s,o)=>{TD.has(s)||e(s,o)};this.globalEventListenerPairs.set(t,{syncListener:r,asyncListener:n}),this.eventService.addGlobalListener(r,!1),this.eventService.addGlobalListener(n,!0)}else this.syncGlobalEventListeners.add(e),this.eventService.addGlobalListener(e,!1)}removeGlobalListener(t){const e=this.frameworkEventWrappingService.unwrapGlobal(t);if(this.globalEventListenerPairs.has(e)){const{syncListener:r,asyncListener:n}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(r,!1),this.eventService.removeGlobalListener(n,!0),this.globalEventListenerPairs.delete(t)}else this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,!1)}destroyEventListeners(t,e){t.forEach((i,r)=>{i.forEach(n=>this.eventService.removeEventListener(r,n,e)),i.clear()}),t.clear()}destroyGlobalListeners(t,e){t.forEach(i=>this.eventService.removeGlobalListener(i,e)),t.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(e,!0)}),this.globalEventListenerPairs.clear()}};x([Me],Sx.prototype,"postConstruct",1);Sx=x([We("apiEventService")],Sx);var Hb=class extends Et{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const t=this.selectPageSizeComp.getValue();if(!t)return;const e=Number(t);isNaN(e)||e<1||e===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(e,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,t=>this.handlePaginationChanged(t))}handlePaginationChanged(t){if(!this.selectPageSizeComp||!(t!=null&&t.newPageSize))return;const e=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Lr(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const t=this.getPageSizeSelectorValues(),e=this.paginationProxy.getPageSize(),i=!e||!t.includes(e);i&&(t.unshift(""),ct(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const r=this.localeService.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),s=t.map(a=>({value:String(a),text:String(a)})),o=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new RO).addOptions(s).setValue(String(i?"":e)).setAriaLabel(o).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){const t=[20,50,100],e=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(e)||!this.validateValues(e)?t:[...e].sort((i,r)=>i-r)}validateValues(t){if(!t.length)return ct(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let e=0;e<t.length;e++){const i=t[e],r=typeof i=="number",n=i>0;if(!r)return ct(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!n)return ct(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};x([V("localeService")],Hb.prototype,"localeService",2);x([V("gridOptionsService")],Hb.prototype,"gridOptionsService",2);x([V("paginationProxy")],Hb.prototype,"paginationProxy",2);x([Me],Hb.prototype,"init",1);var Mw=class extends Pe{constructor(){super(),this.descriptionContainer=null,this.announceValue=vs(this.announceValue.bind(this),200)}postConstruct(){const t=this.gridOptionsService.getDocument(),e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container"),n$(e,"polite"),rte(e,"additions text"),ite(e,!0),this.eGridDiv.appendChild(e)}announceValue(t){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=t)},50))}destroy(){super.destroy();const{descriptionContainer:t}=this;t&&(Lr(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null}};x([V("eGridDiv")],Mw.prototype,"eGridDiv",2);x([Me],Mw.prototype,"postConstruct",1);Mw=x([We("ariaAnnouncementService")],Mw);var uIe=1,cIe=class{create(t,e,i,r,n){var s;const o=!!e.debug,a=(s=e.gridId)!=null?s:String(uIe++),l=this.getRegisteredModules(n,a),u=this.createBeansList(e.rowModelType,l,a),c=this.createProvidedBeans(t,e,n);if(!u){sp("Failed to create grid.");return}const d={providedBeanInstances:c,beanClasses:u,debug:o,gridId:a},h=new q$("Context",()=>d.debug),f=new bOe(d,h),g=f.getBean("beans");return this.registerModuleUserComponents(g,l),this.registerStackComponents(g,l),this.registerControllers(g,l),i(f),g.syncService.start(),r&&r(f),g.gridApi}registerControllers(t,e){e.forEach(i=>{i.controllers&&i.controllers.forEach(r=>t.ctrlsFactory.register(r))})}registerStackComponents(t,e){const i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(t,e){const i=t?t.modules:null,r=Jt.__getRegisteredModules(e),n=[],s={},o=(a,l,u)=>{(d=>{s[d.moduleName]||(s[d.moduleName]=!0,n.push(d),Jt.__register(d,a,u))})(l),l.dependantModules&&l.dependantModules.forEach(d=>o(a,d,u))};return i&&i.forEach(a=>o(!0,a,e)),r&&r.forEach(a=>o(!Jt.__isPackageBased(),a,void 0)),n}registerModuleUserComponents(t,e){this.extractModuleEntity(e,r=>r.userComponents?r.userComponents:[]).forEach(r=>{t.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})}createProvidedBeans(t,e,i){let r=i?i.frameworkOverrides:null;ht(r)&&(r=new qie);const n={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:r};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createAgStackComponentsList(t){let e=[{componentName:"AgCheckbox",componentClass:TO},{componentName:"AgRadioButton",componentClass:Yte},{componentName:"AgToggleButton",componentClass:Wie},{componentName:"AgInputTextField",componentClass:Vf},{componentName:"AgInputTextArea",componentClass:_Fe},{componentName:"AgInputNumberField",componentClass:F$},{componentName:"AgInputDateField",componentClass:NFe},{componentName:"AgInputRange",componentClass:GFe},{componentName:"AgRichSelect",componentClass:K$},{componentName:"AgSelect",componentClass:RO},{componentName:"AgSlider",componentClass:VFe},{componentName:"AgGridBody",componentClass:ku},{componentName:"AgHeaderRoot",componentClass:FFe},{componentName:"AgSortIndicator",componentClass:L$},{componentName:"AgPagination",componentClass:lo},{componentName:"AgPageSizeSelector",componentClass:Hb},{componentName:"AgOverlayWrapper",componentClass:eIe},{componentName:"AgGroupComponent",componentClass:HFe},{componentName:"AgRowContainer",componentClass:eC},{componentName:"AgFakeHorizontalScroll",componentClass:tIe},{componentName:"AgFakeVerticalScroll",componentClass:lIe},{componentName:"AgAutocomplete",componentClass:jFe}];const i=this.extractModuleEntity(t,r=>r.agStackComponents?r.agStackComponents:[]);return e=e.concat(i),e}createBeansList(t="clientSide",e,i){const r=e.filter(l=>!l.rowModel||l.rowModel===t),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[t]){sp("Could not find row model for rowModelType = "+t);return}if(!Jt.__assertRegistered(n[t],`rowModelType = '${t}'`,i))return;const s=[Ct,sv,x1,Pw,tv,It,Cw,Cx,Tw,E1,qd,rv,Sw,M1,Ow,Ew,yw,c1,Il,si,Ec,tf,Ga,ln,Zp,bw,Wo,gx,Km,D1,ef,ts,vx,Zd,mx,u1,Jp,Xd,Rt,ev,mi,lc,Dw,Qd,px,fx,Zm,rf,P1,Rw,nv,hw,iv,Jm,ka,d1,A1,xw,Au,ov,Ap,Aw,av,O1,bc,yx,Xs,nf,sf,Es,ww,Sx,Mw,Nl],o=this.extractModuleEntity(r,l=>l.beans?l.beans:[]);s.push(...o);const a=[];return s.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(t,e){return[].concat(...t.map(e))}},dIe=class{wrap(t,e,i=[],r){const n=this.createWrapper(t,r);return e.forEach(s=>{this.createMethod(n,s,!0)}),i.forEach(s=>{this.createMethod(n,s,!1)}),n}unwrap(t){return t}createMethod(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))}createMethodProxy(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}},lC=typeof global>"u"?{}:global;lC.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;lC.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;lC.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;lC.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;lC.Node=typeof Node>"u"?{}:Node;lC.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Q$=class Uy{constructor(e,i,r,n,s,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=i,this.eventService=r,this.columnModel=n,this.beans=o,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Uy.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return ft.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const i=this.rootNode,r=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map(n=>this.createNode(n,this.rootNode,Uy.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=i.childrenAfterFilter,r.childrenAfterGroup=i.childrenAfterGroup,r.childrenAfterAggFilter=i.childrenAfterAggFilter,r.childrenAfterSort=i.childrenAfterSort,r.childrenMapped=i.childrenMapped,r.allLeafChildren=i.allLeafChildren)}updateRowData(e,i){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const r={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,r,n),this.executeUpdate(e,r,n),this.executeAdd(e,r),this.updateSelection(n,"rowDataChanged"),i&&ft.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),r}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){const i={type:F.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(i)}updateSelection(e,i){const r=e.length>0;if(r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),r){const n={type:F.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(n)}}executeAdd(e,i){var r;const{add:n,addIndex:s}=e;if(ft.missingOrEmpty(n))return;const o=n.map(a=>this.createNode(a,this.rootNode,Uy.TOP_LEVEL));if(typeof s=="number"&&s>=0){const{allLeafChildren:a}=this.rootNode,l=a.length;let u=s;if(this.gridOptionsService.get("treeData")&&s>0&&l>0){for(let f=0;f<l;f++)if(((r=a[f])==null?void 0:r.rowIndex)==s-1){u=f+1;break}}const d=a.slice(0,u),h=a.slice(u,a.length);this.rootNode.allLeafChildren=[...d,...o,...h]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=o}executeRemove(e,i,r){const{remove:n}=e;if(ft.missingOrEmpty(n))return;const s={};n.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.isSelected()&&r.push(a),a.clearRowTopAndRowIndex(),s[a.id]=!0,delete this.allNodesMap[a.id],i.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(o=>!s[o.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,i,r){const{update:n}=e;ft.missingOrEmpty(n)||n.forEach(s=>{const o=this.lookupRowNode(s);o&&(o.updateData(s),!o.selectable&&o.isSelected()&&r.push(o),this.setMasterForRow(o,s,Uy.TOP_LEVEL,!1),i.update.push(o))})}lookupRowNode(e){const i=this.gridOptionsService.getCallback("getRowId");let r;if(i){const n=i({data:e,level:0});if(r=this.allNodesMap[n],!r)return console.error(`AG Grid: could not find row id=${n}, data item was not found for this id`),null}else if(r=this.rootNode.allLeafChildren.find(n=>n.data===e),!r)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null}createNode(e,i,r){const n=new Ot(this.beans);n.group=!1,this.setMasterForRow(n,e,r,!0);const s=this.gridOptionsService.get("suppressParentsInRowNodes");return i&&!s&&(n.parent=i),n.level=r,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn(`AG Grid: duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,i,r,n){if(this.gridOptionsService.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){const a=this.gridOptionsService.get("isRowMaster");a?e.setMaster(a(i)):e.setMaster(!0)}else e.setMaster(!1);if(n){const a=this.columnModel.getRowGroupColumns(),l=a?a.length:0,u=r+l;e.expanded=e.master?this.isExpanded(u):!1}}}isExpanded(e){const i=this.gridOptionsService.get("groupDefaultExpanded");return i===-1?!0:e<i}};Q$.TOP_LEVEL=0;Q$.ROOT_NODE_ID="ROOT_NODE_ID";var hIe=Q$,is=class extends Pe{constructor(){super(...arguments),this.onRowHeightChanged_debounced=ft.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const t=this.refreshModel.bind(this,{step:"group"}),e=!this.gridOptionsService.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,F.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,F.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new Ot(this.beans),this.nodeManager=new hIe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const t=new Set(["treeData","masterDetail"]),e=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),r=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),n=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),l=[...t,...e,...i,...r,...r,...n,...s,...o,...a];this.addManagedPropertyListeners(l,u=>{var c;const d=(c=u.changeSet)==null?void 0:c.properties;if(!d)return;const h=f=>d.some(g=>f.has(g));if(h(t)){this.setRowData(this.rootNode.allLeafChildren.map(f=>f.data));return}if(h(e)){this.refreshModel({step:"group"});return}if(h(i)){this.refreshModel({step:"filter"});return}if(h(r)){this.refreshModel({step:"pivot"});return}if(h(n)){this.refreshModel({step:"aggregate"});return}if(h(s)){this.refreshModel({step:"sort"});return}if(h(o)){this.refreshModel({step:"filter_aggregates"});return}h(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))}ensureRowHeightsValid(t,e,i,r){let n,s=!1;do{n=!1;const o=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(o,i),u=Math.min(a,r);for(let c=l;c<=u;c++){const d=this.getRow(c);if(d.rowHeightEstimated){const h=this.gridOptionsService.getRowHeightForNode(d);d.setRowHeight(h.height),n=!0,s=!0}}n&&this.setRowTopAndRowIndex()}while(n);return s}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const i=new Set,r=this.gridOptionsService.isDomLayout("normal");for(let n=0;n<this.rowsToDisplay.length;n++){const s=this.rowsToDisplay[n];if(s.id!=null&&i.add(s.id),s.rowHeight==null){const o=this.gridOptionsService.getRowHeightForNode(s,r,t);s.setRowHeight(o.height,o.estimated)}s.setRowTop(e),s.setRowIndex(n),e+=s.rowHeight}return i}clearRowTopAndRowIndex(t,e){const i=t.isActive(),r=s=>{s&&s.id!=null&&!e.has(s.id)&&s.clearRowTopAndRowIndex()},n=s=>{if(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup){const o=s.level==-1;i&&!o&&!s.expanded||s.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(t,e,i=0){const r=this.getRowIndexAtPixel(e),n=this.getRow(r),s=!this.gridOptionsService.get("suppressAnimationFrame");return n===t[0]?!1:(t.forEach(o=>{ft.removeFromArray(this.rootNode.allLeafChildren,o)}),t.forEach((o,a)=>{ft.insertIntoArray(this.rootNode.allLeafChildren,o,Math.max(r+i,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(t,e){const i=e!=null?this.getRowIndexAtPixel(e):null,r=i!=null?this.getRow(i):null;if(!r||!t||r===t||e==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const n=this.getHighlightPosition(e,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(n),this.lastHighlightedRow=r}getHighlightPosition(t,e){if(!e){const n=this.getRowIndexAtPixel(t);if(e=this.getRow(n||0),!e)return 1}const{rowTop:i,rowHeight:r}=e;return t-i<r/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter;return e?e.length:0}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let i=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(t){if(ft.missing(this.rowsToDisplay))return null;const e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;const e=this.gridOptionsService.isAnimateRows(),r=t.columns.length===0||t.columns.some(n=>n.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:e})}onSortChanged(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(t){const e=ft.missingOrEmpty(t),i=new kO(!1,this.rootNode);return(e||this.gridOptionsService.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;const e=t.rowNodeTransactions.filter(r=>r.add!=null&&r.add.length>0||r.remove!=null&&r.remove.length>0);return e==null||e.length==0}buildRefreshModelParams(t){let e="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(ft.exists(t)&&(e=i[t]),ft.missing(e)){console.error(`AG Grid: invalid step ${t}, available steps are ${Object.keys(i).join(", ")}`);return}const r=!this.gridOptionsService.get("suppressAnimationFrame");return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:r}}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let e=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;const i=this.createChangePath(e.rowNodeTransactions);switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.rowNodeOrder,i,!!e.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const r=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,r),this.isRefreshingModel=!1;const n={type:F.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack};this.eventService.dispatchEvent(n)}isEmpty(){const t=ft.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return ft.missing(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return ft.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let i=!e,r=!1;const n=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(i&&(o===e||o===t)&&(r=!0,o.group&&s)){n.push(...o.allLeafChildren);return}if(!i){if(o!==e&&o!==t)return;i=!0}if(!o.group||!s){n.push(o);return}}),n}setDatasource(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let e=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;if(ft.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let n=-1,s=-1;for(;;){const o=Math.floor((e+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,t)||(a.rowTop<t?e=o+1:a.rowTop>t&&(i=o-1),n===e&&s===i))return o;n=e,s=i}}isRowInPixel(t,e){const i=t.rowTop,r=t.rowTop+t.rowHeight;return i<=e&&r>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,i)=>t(e,i))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){var e;const{nodes:i,callback:r,recursionType:n,includeFooterNodes:s}=t;let{index:o}=t;for(let u=0;u<i.length;u++){const c=i[u];if(r(c,o++),c.hasChildren()&&!c.footer){let d=null;switch(n){case 0:d=c.childrenAfterGroup;break;case 1:d=c.childrenAfterAggFilter;break;case 2:d=c.childrenAfterSort;break;case 3:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...d],callback:r,recursionType:n,index:o,includeFooterNodes:s}))}}const a=(e=i[0])==null?void 0:e.parent;if(!s||!a)return o;if(a===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return o}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:a}))return o;return a.createFooter(),r(a.sibling,o++),o}doAggregate(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){const e=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),r=o=>{o&&o.forEach(a=>{const l=()=>{a.expanded=t,r(a.childrenAfterGroup)};if(e){ft.exists(a.childrenAfterGroup)&&l();return}if(i){!a.leafGroup&&l();return}a.group&&l()})};this.rootNode&&r(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const n=t?"expandAll":"collapseAll",s={type:F.EVENT_EXPAND_COLLAPSE_ALL,source:n};this.eventService.dispatchEvent(s)}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,i,r){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:e,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:r}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){const s={type:F.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:F.EVENT_ROW_COUNT_READY}))}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(t){if(typeof t=="string"&&t.indexOf(Ot.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(r=>{r.id===t&&(i=r)}),i}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){const t={type:F.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(t,e){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const t=[],e=[];let i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(r=>{const n=this.nodeManager.updateRowData(r.rowDataTransaction,void 0);e.push(n),r.callback&&t.push(r.callback.bind(null,n)),typeof r.rowDataTransaction.addIndex=="number"&&(i=!0)}),this.commonUpdateRowData(e,void 0,i),t.length>0&&window.setTimeout(()=>{t.forEach(r=>r())},0),e.length>0){const r={type:F.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:e};this.eventService.dispatchEvent(r)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t,e){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(t,e),r=typeof t.addIndex=="number";return this.commonUpdateRowData([i],e,r),i}createRowNodeOrder(){if(this.gridOptionsService.get("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++){const r=this.rootNode.allLeafChildren[i];e[r.id]=i}return e}commonUpdateRowData(t,e,i){if(!this.hasStarted)return;const r=!this.gridOptionsService.get("suppressAnimationFrame");i&&(e=this.createRowNodeOrder());const n={type:F.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:"group",rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:r})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);const i=e.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0}),t}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};x([V("columnModel")],is.prototype,"columnModel",2);x([V("selectionService")],is.prototype,"selectionService",2);x([V("filterManager")],is.prototype,"filterManager",2);x([V("valueCache")],is.prototype,"valueCache",2);x([V("beans")],is.prototype,"beans",2);x([V("filterStage")],is.prototype,"filterStage",2);x([V("sortStage")],is.prototype,"sortStage",2);x([V("flattenStage")],is.prototype,"flattenStage",2);x([jt("groupStage")],is.prototype,"groupStage",2);x([jt("aggregationStage")],is.prototype,"aggregationStage",2);x([jt("pivotStage")],is.prototype,"pivotStage",2);x([jt("filterAggregatesStage")],is.prototype,"filterAggregatesStage",2);x([Me],is.prototype,"init",1);is=x([We("rowModel")],is);var wx=class extends Pe{execute(t){const{changedPath:e}=t;this.filterService.filter(e)}};x([V("filterService")],wx.prototype,"filterService",2);wx=x([We("filterStage")],wx);var Fw=class extends Pe{execute(t){const e=this.sortController.getSortOptions(),i=ft.exists(e)&&e.length>0,r=i&&ft.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),n=e.some(s=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(e,i,r,t.rowNodeTransactions,t.changedPath,n)}};x([V("sortService")],Fw.prototype,"sortService",2);x([V("sortController")],Fw.prototype,"sortController",2);Fw=x([We("sortStage")],Fw);var Iw=class extends Pe{execute(t){const e=t.rowNode,i=[],r=this.columnModel.isPivotMode(),n=r&&e.leafGroup,s=n?[e]:e.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,s,i,r,0);const a=i.length>0;return!n&&a&&o.groupIncludeTotalFooter&&(e.createFooter(),this.addRowNodeToRowsToDisplay(o,e.sibling,i,0)),i}getFlattenDetails(){const t=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(t,e,i,r,n){if(!ft.missingOrEmpty(e))for(let s=0;s<e.length;s++){const o=e[s],a=o.hasChildren(),l=r&&!a,u=t.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,c=t.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,d=r&&o.leafGroup,h=t.hideOpenParents&&o.expanded&&!o.master&&!d;if(!l&&!h&&!u&&!c&&this.addRowNodeToRowsToDisplay(t,o,i,n),!(r&&o.leafGroup)){if(a){const g=u||c;if(o.expanded||g){const v=g?n:n+1;this.recursivelyAddToRowsToDisplay(t,o.childrenAfterSort,i,r,v),t.getGroupIncludeFooter({node:o})?(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,i,v)):o.destroyFooter()}}else if(o.master&&o.expanded){const g=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(t,g,i,n)}}}}addRowNodeToRowsToDisplay(t,e,i,r){i.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:r)}createDetailNode(t){if(ft.exists(t.detailNode))return t.detailNode;const e=new Ot(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,ft.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}};x([V("columnModel")],Iw.prototype,"columnModel",2);x([V("beans")],Iw.prototype,"beans",2);Iw=x([We("flattenStage")],Iw);var Lw=class extends Pe{sort(t,e,i,r,n,s){const o=this.gridOptionsService.get("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some(h=>h.isRowGroupActive());let l={};i&&r&&(l=this.calculateDirtyNodes(r));const u=this.columnModel.isPivotMode(),c=this.gridOptionsService.getCallback("postSortRows"),d=h=>{var f;this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const g=u&&h.leafGroup;if(o&&a&&!h.leafGroup&&!s){const C=(f=this.columnModel.getRowGroupColumns())==null?void 0:f[h.level+1],S=(C==null?void 0:C.getSort())===null,y=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort&&!S){const w={};h.childrenAfterSort.forEach((E,b)=>{w[E.id]=b}),y.sort((E,b)=>{var D,P;return((D=w[E.id])!=null?D:0)-((P=w[b.id])!=null?P:0)})}h.childrenAfterSort=y}else!e||g?h.childrenAfterSort=h.childrenAfterAggFilter.slice(0):i?h.childrenAfterSort=this.doDeltaSort(h,l,n,t):h.childrenAfterSort=this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,t);if(h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),c){const C={nodes:h.childrenAfterSort};c(C)}};n&&n.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(n)}calculateDirtyNodes(t){const e={},i=r=>{r&&r.forEach(n=>e[n.id]=!0)};return t&&t.forEach(r=>{i(r.add),i(r.update),i(r.remove)}),e}doDeltaSort(t,e,i,r){const n=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(n,r);const o={},a=[];n.forEach(d=>{e[d.id]||!i.canSkip(d)?a.push(d):o[d.id]=!0});const l=s.filter(d=>o[d.id]),u=(d,h)=>({currentPos:h,rowNode:d}),c=a.map(u).sort((d,h)=>this.rowNodeSorter.compareRowNodes(r,d,h));return this.mergeSortedArrays(r,c,l.map(u)).map(({rowNode:d})=>d)}mergeSortedArrays(t,e,i){const r=[];let n=0,s=0;for(;n<e.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(t,e[n],i[s])<0?r.push(e[n++]):r.push(i[s++]);for(;n<e.length;)r.push(e[n++]);for(;s<i.length;)r.push(i[s++]);return r}updateChildIndexes(t){if(ft.missing(t.childrenAfterSort))return;const e=t.childrenAfterSort;for(let i=0;i<e.length;i++){const r=e[i],n=i===0,s=i===t.childrenAfterSort.length-1;r.setFirstChild(n),r.setLastChild(s),r.setChildIndex(i)}}updateGroupDataForHideOpenParents(t){if(!this.gridOptionsService.get("groupHideOpenParents"))return;if(this.gridOptionsService.get("treeData"))return ft.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const e=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(r=>{r.hasChildren()&&e(r)})};t&&t.executeFromRootNode(i=>e(i))}pullDownGroupDataForHideOpenParents(t,e){!this.gridOptionsService.get("groupHideOpenParents")||ft.missing(t)||t.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(n=>{const s=n.getColDef().showRowGroup;if(typeof s!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const o=s,a=this.columnModel.getPrimaryColumn(o);if(a!==i.rowGroupColumn)if(e)i.setGroupValue(n.getId(),void 0);else{const u=i.getFirstChildOfFirstChild(a);u&&i.setGroupValue(n.getId(),u.key)}})})}};x([V("columnModel")],Lw.prototype,"columnModel",2);x([V("rowNodeSorter")],Lw.prototype,"rowNodeSorter",2);Lw=x([We("sortService")],Lw);var Ex=class extends Pe{filter(t){const e=this.filterManager.isChildFilterPresent();this.filterNodes(e,t)}filterNodes(t,e){const i=(r,n)=>{r.hasChildren()&&t&&!n?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,r.sibling&&(r.sibling.childrenAfterFilter=r.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],u):i(l,u)}i(s,o)},n=s=>r(s,!1);e.executeFromRootNode(n)}else{const r=n=>i(n,!1);e.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")}};x([V("filterManager")],Ex.prototype,"filterManager",2);Ex=x([We("filterService")],Ex);var of=class extends Pe{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const t=this.gridOptionsService.exists("getRowId");return this.gridOptionsService.get("resetRowDataOnUpdate")?!1:t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e)return;const[i,r]=e;this.clientSideRowModel.updateRowData(i,r)}createTransactionForRowData(t){if(ft.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const e=this.gridOptionsService.getCallback("getRowId");if(e==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const i={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return ft.exists(t)&&t.forEach((o,a)=>{const l=e({data:o,level:0}),u=r[l];s&&(s[l]=a),u?(u.data!==o&&i.update.push(o),r[l]=void 0):i.add.push(o)}),ft.iterateObject(r,(o,a)=>{a&&i.remove.push(a.data)}),[i,s]}onRowDataUpdated(){const t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))}};x([V("rowModel")],of.prototype,"rowModel",2);x([V("rowRenderer")],of.prototype,"rowRenderer",2);x([V("selectionService")],of.prototype,"selectionService",2);x([Me],of.prototype,"postConstruct",1);of=x([We("immutableService")],of);var pIe="31.2.1",fIe={version:pIe,moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[is,wx,Fw,Iw,Lw,Ex,of]},gIe=Object.defineProperty,mIe=Object.getOwnPropertyDescriptor,Os=(t,e,i,r)=>{for(var n=r>1?void 0:r?mIe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&gIe(e,i,n),n},vIe=(t,e)=>(i,r)=>e(i,r,t),_w=class extends b1{constructor(t,e,i){super(t),this.parentCache=e,this.params=i,this.startRow=t*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,i){ft.exists(e)?t.setDataAndId(e,i.toString()):t.setDataAndId(void 0,void 0)}loadFromDatasource(){const t=this.createLoadParams();if(ft.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(t)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}}forEachNode(t,e,i){this.rowNodes.forEach((r,n)=>{this.startRow+n<i&&t(r,e.next())})}getLastAccessed(){return this.lastAccessed}getRow(t,e=!1){e||(this.lastAccessed=this.params.lastAccessedSequence.next());const i=t-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){const e=this.startRow+t,i=new Ot(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(e),i.setRowTop(this.params.rowHeight*e),this.rowNodes.push(i)}}processServerResult(t){this.rowNodes.forEach((i,r)=>{const n=t.rowData?t.rowData[r]:void 0;!i.id&&i.alreadyRendered&&n&&(this.rowNodes[r]=new Ot(this.beans),this.rowNodes[r].setRowIndex(i.rowIndex),this.rowNodes[r].setRowTop(i.rowTop),this.rowNodes[r].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[r],n,this.startRow+r)});const e=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,e)}destroyRowNodes(){this.rowNodes.forEach(t=>{t.clearRowTopAndRowIndex()})}};Os([V("beans")],_w.prototype,"beans",2);Os([Me],_w.prototype,"postConstruct",1);Os([xs],_w.prototype,"destroyRowNodes",1);var uC=class tre extends Pe{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}setBeans(e){this.logger=e.create("InfiniteCache")}getRow(e,i=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(i)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const i=this.createBean(new _w(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroyAllBlocks(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,i){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${e.getId()}, lastRow = ${i}`),this.checkRowCount(e,i),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const i=this.getBlocksInOrder().filter(a=>a!=e),r=(a,l)=>l.getLastAccessed()-a.getLastAccessed();i.sort(r);const n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,o=tre.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((a,l)=>{const u=a.getState()===_w.STATE_WAITING_TO_LOAD&&l>=o,c=n?l>=s:!1;if(u||c){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(e){const i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||i.rowPinned!=null)return!1;const r=e.getStartRow(),n=e.getEndRow();return i.rowIndex>=r&&i.rowIndex<n}isBlockCurrentlyDisplayed(e){const i=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,r)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,i){if(typeof i=="number"&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,i){this.rowCount=e,ft.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const i=new Qm;this.getBlocksInOrder().forEach(r=>r.forEachNode(e,i,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.getId()-n.getId();return ft.getAllValuesInObject(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const e={type:F.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&e.push(i)}),e.length>0&&e.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,i){const r=[];let n=-1,s=!1;const o=new Qm;ft.missing(e)&&(s=!0);let a=!1;return this.getBlocksInOrder().forEach(u=>{if(!a){if(s&&n+1!==u.getId()){a=!0;return}n=u.getId(),u.forEachNode(c=>{const d=c===e||c===i;(s||d)&&r.push(c),d&&(s=!s)},o,this.rowCount)}}),a||s?[]:r}};uC.MAX_EMPTY_BLOCKS_TO_KEEP=2;Os([V("rowRenderer")],uC.prototype,"rowRenderer",2);Os([V("focusService")],uC.prototype,"focusService",2);Os([vIe(0,ba("loggerFactory"))],uC.prototype,"setBeans",1);Os([xs],uC.prototype,"destroyAllBlocks",1);var CIe=uC,Ou=class extends Pe{getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(t,e,i,r){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gridOptionsService.exists("initialGroupOrderComparator")&&ft.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,F.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,F.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gridOptionsService.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()}isSortModelDifferent(){return!ft.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){if(!this.datasource)return;this.gridOptionsService.getCallback("getRowId")!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:F.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Qm},this.infiniteCache=this.createBean(new CIe(this.cacheParams)),this.eventService.dispatchEventOnce({type:F.EVENT_ROW_COUNT_READY});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}getRow(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)}getRowNode(t){let e;return this.forEachNode(i=>{i.id===t&&(e=i)}),e}forEachNode(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(this.rowHeight!==0){const e=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return e>i?i:e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){return!!this.getRowNode(t.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)}};Os([V("filterManager")],Ou.prototype,"filterManager",2);Os([V("sortController")],Ou.prototype,"sortController",2);Os([V("selectionService")],Ou.prototype,"selectionService",2);Os([V("rowRenderer")],Ou.prototype,"rowRenderer",2);Os([V("rowNodeBlockLoader")],Ou.prototype,"rowNodeBlockLoader",2);Os([Me],Ou.prototype,"init",1);Os([xs],Ou.prototype,"destroyDatasource",1);Ou=Os([We("rowModel")],Ou);var yIe="31.2.1",SIe={version:yIe,moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[Ou]},wIe=Object.defineProperty,EIe=Object.getOwnPropertyDescriptor,as=(t,e,i,r)=>{for(var n=r>1?void 0:r?EIe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&wIe(e,i,n),n},bIe=class{setBeans(t){this.beans=t}getFileName(t){const e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?`${t}.${e}`:t}getData(t){const e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},RIe=class{constructor(t){this.groupColumns=[];const{columnModel:e,valueService:i,gridOptionsService:r,valueFormatterService:n,valueParserService:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=t;this.columnModel=e,this.valueService=i,this.gridOptionsService=r,this.valueFormatterService=n,this.valueParserService=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(t){this.groupColumns=t.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(t){const e=this.getHeaderName(this.processHeaderCallback,t);return e??""}extractRowCellValue(t,e,i,r,n){const o=(!this.gridOptionsService.get("groupHideOpenParents")||n.footer)&&this.shouldRenderGroupSummaryCell(n,t,e)?this.createValueForGroupNode(t,n):this.valueService.getValue(t,n);return this.processCell({accumulatedRowIndex:i,rowNode:n,column:t,value:o,processCellCallback:this.processCellCallback,type:r})}shouldRenderGroupSummaryCell(t,e,i){var r;if(!(t&&t.group))return!1;if(this.groupColumns.indexOf(e)!==-1){if(((r=t.groupData)==null?void 0:r[e.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){const a=e.getColDef();return a==null||a.showRowGroup===!0||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return i===0&&o}getHeaderName(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)}createValueForGroupNode(t,e){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));const i=this.gridOptionsService.get("treeData"),r=this.gridOptionsService.get("suppressGroupMaintainValueType"),n=l=>{var u,c;if(i||r)return l.key;const d=(u=l.groupData)==null?void 0:u[t.getId()];return!d||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?d:(c=this.valueFormatterService.formatValue(l.rowGroupColumn,l,d))!=null?c:d},s=e.footer,o=[n(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,o.push(n(e));const a=o.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(t){var e;const{accumulatedRowIndex:i,rowNode:r,column:n,value:s,processCellCallback:o,type:a}=t;return o?{value:(e=o(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:i,column:n,node:r,value:s,type:a,parseValue:l=>this.valueParserService.parseValue(n,r,l,this.valueService.getValue(n,r)),formatValue:l=>{var u;return(u=this.valueFormatterService.formatValue(n,r,l))!=null?u:l}})))!=null?e:""}:n.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(n,r,s)}:{value:s??""}}},TIe=class{static download(t,e){const i=document.defaultView||window;if(!i){console.warn("AG Grid: There is no `window` associated with the current `document`");return}const r=document.createElement("a"),n=i.URL.createObjectURL(e);r.setAttribute("href",n),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(r),i.setTimeout(()=>{i.URL.revokeObjectURL(n)},0)}},NK=`\r
`,DIe=class extends RIe{constructor(t){super(t),this.isFirstLine=!0,this.result="";const{suppressQuotes:e,columnSeparator:i}=t;this.suppressQuotes=e,this.columnSeparator=i}addCustomContent(t){t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,NK),this.result+=t):t.forEach(e=>{this.beginNewLine(),e.forEach((i,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,i,r){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(r)}appendEmptyCells(t){for(let e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){e!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,i){var r;e!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(t,e,e,"csv",i);this.result+=this.putInQuotes((r=n.valueFormatted)!=null?r:n.value)}putInQuotes(t){if(this.suppressQuotes)return t;if(t==null)return'""';let e;return typeof t=="string"?e=t:typeof t.toString=="function"?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=NK),this.isFirstLine=!1}},Mu=class extends bIe{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(t){const e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}const e=this.getMergedParams(t),i=this.getData(e),r=new Blob(["\uFEFF",i],{type:"text/plain"}),n=typeof e.fileName=="function"?e.fileName(this.gridOptionsService.getGridCommonParams()):e.fileName;TIe.download(this.getFileName(n),r)}exportDataAsCsv(t){this.export(t)}getDataAsCsv(t,e=!1){const i=e?Object.assign({},t):this.getMergedParams(t);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(t){const{columnModel:e,valueService:i,gridOptionsService:r,valueFormatterService:n,valueParserService:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:c,columnSeparator:d}=t;return new DIe({columnModel:e,valueService:i,gridOptionsService:r,valueFormatterService:n,valueParserService:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};as([V("columnModel")],Mu.prototype,"columnModel",2);as([V("valueService")],Mu.prototype,"valueService",2);as([V("gridSerializer")],Mu.prototype,"gridSerializer",2);as([V("gridOptionsService")],Mu.prototype,"gridOptionsService",2);as([V("valueFormatterService")],Mu.prototype,"valueFormatterService",2);as([V("valueParserService")],Mu.prototype,"valueParserService",2);as([Me],Mu.prototype,"postConstruct",1);Mu=as([We("csvCreator")],Mu);var Fu=class extends Pe{serialize(t,e={}){const{allColumns:i,columnKeys:r,skipRowGroups:n}=e,s=this.getColumnsToExport(i,n,r);return ft.compose(this.prepareSession(s),this.prependContent(e),this.exportColumnGroups(e,s),this.exportHeaders(e,s),this.processPinnedTopRows(e,s),this.processRows(e,s),this.processPinnedBottomRows(e,s),this.appendContent(e))(t).parse()}processRow(t,e,i,r){const n=e.shouldRowBeSkipped||(()=>!1),s=this.gridOptionsService.get("groupRemoveSingleChildren"),o=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),l=e.rowPositions!=null||!!e.onlySelected,u=this.gridOptionsService.get("groupHideOpenParents")&&!l,c=this.columnModel.isPivotMode()?r.leafGroup:!r.group,d=!!r.footer;e.skipRowGroups;const h=o&&r.leafGroup,f=r.allChildrenCount===1&&(s||h);if(!c&&!d&&(e.skipRowGroups||f||u)||e.onlySelected&&!r.isSelected()||e.skipPinnedTop&&r.rowPinned==="top"||e.skipPinnedBottom&&r.rowPinned==="bottom"||r.level===-1&&!c&&!d||n(this.gridOptionsService.addGridCommonParams({node:r})))return;const C=t.onNewBodyRow(r);if(i.forEach((S,y)=>{C.onColumn(S,y,r)}),e.getCustomContentBelowRow){const S=e.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:r}));S&&t.addCustomContent(S)}}appendContent(t){return e=>{const i=t.appendContent;return i&&e.addCustomContent(i),e}}prependContent(t){return e=>{const i=t.prependContent;return i&&e.addCustomContent(i),e}}prepareSession(t){return e=>(e.prepare(t),e)}exportColumnGroups(t,e){return i=>{if(!t.skipColumnGroupHeaders){const r=new jee,n=this.displayedGroupCreator.createDisplayedGroups(e,r,null);this.recursivelyAddHeaderGroups(n,i,t.processGroupHeaderCallback)}return i}}exportHeaders(t,e){return i=>{if(!t.skipColumnHeaders){const r=i.onNewHeaderRow();e.forEach((n,s)=>{r.onColumn(n,s,void 0)})}return i}}processPinnedTopRows(t,e){return i=>{const r=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(n=>n.rowPinned==="top").sort((n,s)=>n.rowIndex-s.rowIndex).map(n=>this.pinnedRowModel.getPinnedTopRow(n.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedTopRow(r),i}}processRows(t,e){return i=>{const r=this.rowModel,n=r.getType(),s=n==="clientSide",o=n==="serverSide",a=!s&&t.onlySelected,l=this.processRow.bind(this,i,t,e),{exportedRows:u="filteredAndSorted"}=t;if(t.rowPositions)t.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())s?r.forEachPivotNode(l,!0):o?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l);else if(t.onlySelectedAllPages||a){const c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(l)}else u==="all"?r.forEachNode(l):s||o?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l);return i}}replicateSortedOrder(t){const e=this.sortController.getSortOptions(),i=(r,n)=>{var s,o,a,l;return r.rowIndex!=null&&n.rowIndex!=null?r.rowIndex-n.rowIndex:r.level===n.level?((s=r.parent)==null?void 0:s.id)===((o=n.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(e,{rowNode:r,currentPos:(a=r.rowIndex)!=null?a:-1},{rowNode:n,currentPos:(l=n.rowIndex)!=null?l:-1}):i(r.parent,n.parent):r.level>n.level?i(r.parent,n):i(r,n.parent)};t.sort(i)}processPinnedBottomRows(t,e){return i=>{const r=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(n=>n.rowPinned==="bottom").sort((n,s)=>n.rowIndex-s.rowIndex).map(n=>this.pinnedRowModel.getPinnedBottomRow(n.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedBottomRow(r),i}}getColumnsToExport(t=!1,e=!1,i){const r=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);const n=this.gridOptionsService.get("treeData");let s=[];return t&&!r?s=this.columnModel.getAllGridColumns():s=this.columnModel.getAllDisplayedColumns(),e&&!n&&(s=s.filter(o=>o.getColId()!==Ym)),s}recursivelyAddHeaderGroups(t,e,i){const r=[];t.forEach(n=>{const s=n;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),t.length>0&&t[0]instanceof Br&&this.doAddHeaderHeader(e,t,i),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,e,i)}doAddHeaderHeader(t,e,i){const r=t.onNewHeaderGroupingRow();let n=0;e.forEach(s=>{const o=s;let a;i?a=i(this.gridOptionsService.addGridCommonParams({columnGroup:o})):a=this.columnModel.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,c,d,h)=>{let f=ft.last(u);return c.getColumnGroupShow()==="open"?(!f||f[1]!=null)&&(f=[d],u.push(f)):f&&f[1]==null&&(f[1]=d-1),d===h.length-1&&f&&f[1]==null&&(f[1]=d),u},[]);r.onColumn(o,a||"",n++,o.getLeafColumns().length-1,l)})}};as([V("displayedGroupCreator")],Fu.prototype,"displayedGroupCreator",2);as([V("columnModel")],Fu.prototype,"columnModel",2);as([V("rowModel")],Fu.prototype,"rowModel",2);as([V("pinnedRowModel")],Fu.prototype,"pinnedRowModel",2);as([V("selectionService")],Fu.prototype,"selectionService",2);as([V("rowNodeSorter")],Fu.prototype,"rowNodeSorter",2);as([V("sortController")],Fu.prototype,"sortController",2);Fu=as([We("gridSerializer")],Fu);var PIe="31.2.1",xIe={version:PIe,moduleName:"@ag-grid-community/csv-export",beans:[Mu,Fu]};Jt.__registerModules([fIe,SIe,xIe],!1,void 0);var cC={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ire=T;function Mt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $s=Object.prototype.hasOwnProperty,AIe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GK={},kK={};function rre(t){return $s.call(kK,t)?!0:$s.call(GK,t)?!1:AIe.test(t)?kK[t]=!0:(GK[t]=!0,!1)}function Ms(t,e,i,r,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new Ms(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new Ms(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new Ms(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new Ms(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new Ms(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new Ms(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new Ms(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new Ms(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new Ms(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z$=/[\-:]([a-z])/g;function J$(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z$,J$);Vn[e]=new Ms(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z$,J$);Vn[e]=new Ms(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z$,J$);Vn[e]=new Ms(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new Ms(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new Ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new Ms(t,1,!1,t.toLowerCase(),null,!0,!0)});var FD={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OIe=["Webkit","ms","Moz","O"];Object.keys(FD).forEach(function(t){OIe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),FD[e]=FD[t]})});var MIe=/["'&<>]/;function gs(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=MIe.exec(t);if(e){var i="",r,n=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}n!==r&&(i+=t.substring(n,r)),n=r+1,i+=e}t=n!==r?i+t.substring(n,r):i}return t}var FIe=/([A-Z])/g,IIe=/^ms-/,F1=Array.isArray;function Yu(t,e){return{insertionMode:t,selectedValue:e}}function LIe(t,e,i){switch(e){case"select":return Yu(1,i.value!=null?i.value:i.defaultValue);case"svg":return Yu(2,null);case"math":return Yu(3,null);case"foreignObject":return Yu(1,null);case"table":return Yu(4,null);case"thead":case"tbody":case"tfoot":return Yu(5,null);case"colgroup":return Yu(7,null);case"tr":return Yu(6,null)}return 4<=t.insertionMode||t.insertionMode===0?Yu(1,null):t}var VK=new Map;function nre(t,e,i){if(typeof i!="object")throw Error(Mt(62));e=!0;for(var r in i)if($s.call(i,r)){var n=i[r];if(n!=null&&typeof n!="boolean"&&n!==""){if(r.indexOf("--")===0){var s=gs(r);n=gs((""+n).trim())}else{s=r;var o=VK.get(s);o!==void 0||(o=gs(s.replace(FIe,"-$1").toLowerCase().replace(IIe,"-ms-")),VK.set(s,o)),s=o,n=typeof n=="number"?n===0||$s.call(FD,r)?""+n:n+"px":gs((""+n).trim())}e?(e=!1,t.push(' style="',s,":",n)):t.push(";",s,":",n)}}e||t.push('"')}function vo(t,e,i,r){switch(i){case"style":nre(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N"){if(e=Vn.hasOwnProperty(i)?Vn[i]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(i=e.attributeName,e.type){case 3:r&&t.push(" ",i,'=""');break;case 4:r===!0?t.push(" ",i,'=""'):r!==!1&&t.push(" ",i,'="',gs(r),'"');break;case 5:isNaN(r)||t.push(" ",i,'="',gs(r),'"');break;case 6:!isNaN(r)&&1<=r&&t.push(" ",i,'="',gs(r),'"');break;default:e.sanitizeURL&&(r=""+r),t.push(" ",i,'="',gs(r),'"')}}else if(rre(i)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=i.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(" ",i,'="',gs(r),'"')}}}function ID(t,e,i){if(e!=null){if(i!=null)throw Error(Mt(60));if(typeof e!="object"||!("__html"in e))throw Error(Mt(61));e=e.__html,e!=null&&t.push(""+e)}}function _Ie(t){var e="";return ire.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function ML(t,e,i,r){t.push(Ql(i));var n=i=null,s;for(s in e)if($s.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":i=o;break;case"dangerouslySetInnerHTML":n=o;break;default:vo(t,r,s,o)}}return t.push(">"),ID(t,n,i),typeof i=="string"?(t.push(gs(i)),null):i}var NIe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,HK=new Map;function Ql(t){var e=HK.get(t);if(e===void 0){if(!NIe.test(t))throw Error(Mt(65,t));e="<"+t,HK.set(t,e)}return e}function GIe(t,e,i,r,n){switch(e){case"select":t.push(Ql("select"));var s=null,o=null;for(c in i)if($s.call(i,c)){var a=i[c];if(a!=null)switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:vo(t,r,c,a)}}return t.push(">"),ID(t,o,s),s;case"option":o=n.selectedValue,t.push(Ql("option"));var l=a=null,u=null,c=null;for(s in i)if($s.call(i,s)){var d=i[s];if(d!=null)switch(s){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:vo(t,r,s,d)}}if(o!=null)if(i=l!==null?""+l:_Ie(a),F1(o)){for(r=0;r<o.length;r++)if(""+o[r]===i){t.push(' selected=""');break}}else""+o===i&&t.push(' selected=""');else u&&t.push(' selected=""');return t.push(">"),ID(t,c,a),a;case"textarea":t.push(Ql("textarea")),c=o=s=null;for(a in i)if($s.call(i,a)&&(l=i[a],l!=null))switch(a){case"children":c=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Mt(91));default:vo(t,r,a,l)}if(s===null&&o!==null&&(s=o),t.push(">"),c!=null){if(s!=null)throw Error(Mt(92));if(F1(c)&&1<c.length)throw Error(Mt(93));s=""+c}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s!==null&&t.push(gs(""+s)),null;case"input":t.push(Ql("input")),l=c=a=s=null;for(o in i)if($s.call(i,o)&&(u=i[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Mt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":s=u;break;default:vo(t,r,o,u)}return c!==null?vo(t,r,"checked",c):l!==null&&vo(t,r,"checked",l),s!==null?vo(t,r,"value",s):a!==null&&vo(t,r,"value",a),t.push("/>"),null;case"menuitem":t.push(Ql("menuitem"));for(var h in i)if($s.call(i,h)&&(s=i[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Mt(400));default:vo(t,r,h,s)}return t.push(">"),null;case"title":t.push(Ql("title")),s=null;for(d in i)if($s.call(i,d)&&(o=i[d],o!=null))switch(d){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Mt(434));default:vo(t,r,d,o)}return t.push(">"),s;case"listing":case"pre":t.push(Ql(e)),o=s=null;for(l in i)if($s.call(i,l)&&(a=i[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:vo(t,r,l,a)}if(t.push(">"),o!=null){if(s!=null)throw Error(Mt(60));if(typeof o!="object"||!("__html"in o))throw Error(Mt(61));i=o.__html,i!=null&&(typeof i=="string"&&0<i.length&&i[0]===`
`?t.push(`
`,i):t.push(""+i))}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Ql(e));for(var f in i)if($s.call(i,f)&&(s=i[f],s!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Mt(399,e));default:vo(t,r,f,s)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ML(t,i,e,r);case"html":return n.insertionMode===0&&t.push("<!DOCTYPE html>"),ML(t,i,e,r);default:if(e.indexOf("-")===-1&&typeof i.is!="string")return ML(t,i,e,r);t.push(Ql(e)),o=s=null;for(u in i)if($s.call(i,u)&&(a=i[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":nre(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:rre(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(" ",u,'="',gs(a),'"')}return t.push(">"),ID(t,o,s),s}}function $K(t,e,i){if(t.push('<!--$?--><template id="'),i===null)throw Error(Mt(395));return t.push(i),t.push('"></template>')}function kIe(t,e,i,r){switch(i.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');default:throw Error(Mt(397))}}function VIe(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(Mt(397))}}var HIe=/[<\u2028\u2029]/g;function FL(t){return JSON.stringify(t).replace(HIe,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function $Ie(t,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}function BK(t,e,i,r){return i.generateStaticMarkup?(t.push(gs(e)),!1):(e===""?t=r:(r&&t.push("<!-- -->"),t.push(gs(e)),t=!0),t)}var hS=Object.assign,BIe=Symbol.for("react.element"),sre=Symbol.for("react.portal"),ore=Symbol.for("react.fragment"),are=Symbol.for("react.strict_mode"),lre=Symbol.for("react.profiler"),ure=Symbol.for("react.provider"),cre=Symbol.for("react.context"),dre=Symbol.for("react.forward_ref"),hre=Symbol.for("react.suspense"),pre=Symbol.for("react.suspense_list"),fre=Symbol.for("react.memo"),eB=Symbol.for("react.lazy"),WIe=Symbol.for("react.scope"),UIe=Symbol.for("react.debug_trace_mode"),zIe=Symbol.for("react.legacy_hidden"),jIe=Symbol.for("react.default_value"),WK=Symbol.iterator;function I1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ore:return"Fragment";case sre:return"Portal";case lre:return"Profiler";case are:return"StrictMode";case hre:return"Suspense";case pre:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cre:return(t.displayName||"Context")+".Consumer";case ure:return(t._context.displayName||"Context")+".Provider";case dre:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fre:return e=t.displayName||null,e!==null?e:I1(t.type)||"Memo";case eB:e=t._payload,t=t._init;try{return I1(t(e))}catch{}}return null}var gre={};function UK(t,e){if(t=t.contextTypes,!t)return gre;var i={},r;for(r in t)i[r]=e[r];return i}var ap=null;function HO(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var i=e.parent;if(t===null){if(i!==null)throw Error(Mt(401))}else{if(i===null)throw Error(Mt(401));HO(t,i)}e.context._currentValue2=e.value}}function mre(t){t.context._currentValue2=t.parentValue,t=t.parent,t!==null&&mre(t)}function vre(t){var e=t.parent;e!==null&&vre(e),t.context._currentValue2=t.value}function Cre(t,e){if(t.context._currentValue2=t.parentValue,t=t.parent,t===null)throw Error(Mt(402));t.depth===e.depth?HO(t,e):Cre(t,e)}function yre(t,e){var i=e.parent;if(i===null)throw Error(Mt(402));t.depth===i.depth?HO(t,i):yre(t,i),e.context._currentValue2=e.value}function bx(t){var e=ap;e!==t&&(e===null?vre(t):t===null?mre(e):e.depth===t.depth?HO(e,t):e.depth>t.depth?Cre(e,t):yre(e,t),ap=t)}var zK={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function jK(t,e,i,r){var n=t.state!==void 0?t.state:null;t.updater=zK,t.props=i,t.state=n;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(i,n),n=o==null?n:hS({},n,o),t.state=n),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&zK.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,n=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,i,r):a,a!=null&&(n?(n=!1,s=hS({},s,a)):hS(s,a))}t.state=s}else s.queue=null}var KIe={id:1,overflow:""};function L1(t,e,i){var r=t.id;t=t.overflow;var n=32-LD(r)-1;r&=~(1<<n),i+=1;var s=32-LD(e)+n;if(30<s){var o=n-n%5;return s=(r&(1<<o)-1).toString(32),r>>=o,n-=o,{id:1<<32-LD(e)+n|i<<n|r,overflow:s+t}}return{id:1<<s|i<<n|r,overflow:t}}var LD=Math.clz32?Math.clz32:XIe,YIe=Math.log,qIe=Math.LN2;function XIe(t){return t>>>=0,t===0?32:31-(YIe(t)/qIe|0)|0}function QIe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZIe=typeof Object.is=="function"?Object.is:QIe,Rc=null,tB=null,_D=null,Hi=null,zy=!1,Rx=!1,Nw=0,Td=null,$O=0;function qh(){if(Rc===null)throw Error(Mt(321));return Rc}function KK(){if(0<$O)throw Error(Mt(312));return{memoizedState:null,queue:null,next:null}}function iB(){return Hi===null?_D===null?(zy=!1,_D=Hi=KK()):(zy=!0,Hi=_D):Hi.next===null?(zy=!1,Hi=Hi.next=KK()):(zy=!0,Hi=Hi.next),Hi}function rB(){tB=Rc=null,Rx=!1,_D=null,$O=0,Hi=Td=null}function Sre(t,e){return typeof e=="function"?e(t):e}function YK(t,e,i){if(Rc=qh(),Hi=iB(),zy){var r=Hi.queue;if(e=r.dispatch,Td!==null&&(i=Td.get(r),i!==void 0)){Td.delete(r),r=Hi.memoizedState;do r=t(r,i.action),i=i.next;while(i!==null);return Hi.memoizedState=r,[r,e]}return[Hi.memoizedState,e]}return t=t===Sre?typeof e=="function"?e():e:i!==void 0?i(e):e,Hi.memoizedState=t,t=Hi.queue={last:null,dispatch:null},t=t.dispatch=JIe.bind(null,Rc,t),[Hi.memoizedState,t]}function qK(t,e){if(Rc=qh(),Hi=iB(),e=e===void 0?null:e,Hi!==null){var i=Hi.memoizedState;if(i!==null&&e!==null){var r=i[1];e:if(r===null)r=!1;else{for(var n=0;n<r.length&&n<e.length;n++)if(!ZIe(e[n],r[n])){r=!1;break e}r=!0}if(r)return i[0]}}return t=t(),Hi.memoizedState=[t,e],t}function JIe(t,e,i){if(25<=$O)throw Error(Mt(301));if(t===Rc)if(Rx=!0,t={action:i,next:null},Td===null&&(Td=new Map),i=Td.get(e),i===void 0)Td.set(e,t);else{for(e=i;e.next!==null;)e=e.next;e.next=t}}function eLe(){throw Error(Mt(394))}function xT(){}var XK={readContext:function(t){return t._currentValue2},useContext:function(t){return qh(),t._currentValue2},useMemo:qK,useReducer:YK,useRef:function(t){Rc=qh(),Hi=iB();var e=Hi.memoizedState;return e===null?(t={current:t},Hi.memoizedState=t):e},useState:function(t){return YK(Sre,t)},useInsertionEffect:xT,useLayoutEffect:function(){},useCallback:function(t,e){return qK(function(){return t},e)},useImperativeHandle:xT,useEffect:xT,useDebugValue:xT,useDeferredValue:function(t){return qh(),t},useTransition:function(){return qh(),[!1,eLe]},useId:function(){var t=tB.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-LD(t)-1)).toString(32)+e;var i=ND;if(i===null)throw Error(Mt(404));return e=Nw++,t=":"+i.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return qh(),e(t._source)},useSyncExternalStore:function(t,e,i){if(i===void 0)throw Error(Mt(407));return i()}},ND=null,IL=ire.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function tLe(t){return console.error(t),null}function jy(){}function iLe(t,e,i,r,n,s,o,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:n===void 0?tLe:n,onAllReady:s===void 0?jy:s,onShellReady:o===void 0?jy:o,onShellError:a===void 0?jy:a,onFatalError:l===void 0?jy:l},i=Tx(e,0,null,i,!1,!1),i.parentFlushed=!0,t=nB(e,t,null,i,c,gre,null,KIe),u.push(t),e}function nB(t,e,i,r,n,s,o,a){t.allPendingTasks++,i===null?t.pendingRootTasks++:i.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&bre(t)},blockedBoundary:i,blockedSegment:r,abortSet:n,legacyContext:s,context:o,treeContext:a};return n.add(l),l}function Tx(t,e,i,r,n,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:i,lastPushedText:n,textEmbedded:s}}function Gw(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function Dx(t,e){var i=t.onShellError;i(e),i=t.onFatalError,i(e),t.destination!==null?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function QK(t,e,i,r,n){for(Rc={},tB=e,Nw=0,t=i(r,n);Rx;)Rx=!1,Nw=0,$O+=1,Hi=null,t=i(r,n);return rB(),t}function ZK(t,e,i,r){var n=i.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof i.getChildContext!="function")r=o;else{i=i.getChildContext();for(var a in i)if(!(a in s))throw Error(Mt(108,I1(r)||"Unknown",a));r=hS({},o,i)}e.legacyContext=r,wo(t,e,n),e.legacyContext=o}else wo(t,e,n)}function JK(t,e){if(t&&t.defaultProps){e=hS({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function _1(t,e,i,r,n){if(typeof i=="function")if(i.prototype&&i.prototype.isReactComponent){n=UK(i,e.legacyContext);var s=i.contextType;s=new i(r,typeof s=="object"&&s!==null?s._currentValue2:n),jK(s,i,r,n),ZK(t,e,s,i)}else{s=UK(i,e.legacyContext),n=QK(t,e,i,r,s);var o=Nw!==0;if(typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0)jK(n,i,r,s),ZK(t,e,n,i);else if(o){r=e.treeContext,e.treeContext=L1(r,1,0);try{wo(t,e,n)}finally{e.treeContext=r}}else wo(t,e,n)}else if(typeof i=="string"){switch(n=e.blockedSegment,s=GIe(n.chunks,i,r,t.responseState,n.formatContext),n.lastPushedText=!1,o=n.formatContext,n.formatContext=LIe(o,i,r),N1(t,e,s),n.formatContext=o,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:n.chunks.push("</",i,">")}n.lastPushedText=!1}else{switch(i){case zIe:case UIe:case are:case lre:case ore:wo(t,e,r.children);return;case pre:wo(t,e,r.children);return;case WIe:throw Error(Mt(343));case hre:e:{i=e.blockedBoundary,n=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=Tx(t,n.chunks.length,a,n.formatContext,!1,!1);n.children.push(l),n.lastPushedText=!1;var u=Tx(t,0,null,n.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(N1(t,e,r),t.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Px(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=Gw(t,c)}finally{e.blockedBoundary=i,e.blockedSegment=n}e=nB(t,s,i,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof i=="object"&&i!==null)switch(i.$$typeof){case dre:if(r=QK(t,e,i.render,r,n),Nw!==0){i=e.treeContext,e.treeContext=L1(i,1,0);try{wo(t,e,r)}finally{e.treeContext=i}}else wo(t,e,r);return;case fre:i=i.type,r=JK(i,r),_1(t,e,i,r,n);return;case ure:if(n=r.children,i=i._context,r=r.value,s=i._currentValue2,i._currentValue2=r,o=ap,ap=r={parent:o,depth:o===null?0:o.depth+1,context:i,parentValue:s,value:r},e.context=r,wo(t,e,n),t=ap,t===null)throw Error(Mt(403));r=t.parentValue,t.context._currentValue2=r===jIe?t.context._defaultValue:r,t=ap=t.parent,e.context=t;return;case cre:r=r.children,r=r(i._currentValue2),wo(t,e,r);return;case eB:n=i._init,i=n(i._payload),r=JK(i,r),_1(t,e,i,r,void 0);return}throw Error(Mt(130,i==null?i:typeof i,""))}}function wo(t,e,i){if(e.node=i,typeof i=="object"&&i!==null){switch(i.$$typeof){case BIe:_1(t,e,i.type,i.props,i.ref);return;case sre:throw Error(Mt(257));case eB:var r=i._init;i=r(i._payload),wo(t,e,i);return}if(F1(i)){e5(t,e,i);return}if(i===null||typeof i!="object"?r=null:(r=WK&&i[WK]||i["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(i))){if(i=r.next(),!i.done){var n=[];do n.push(i.value),i=r.next();while(!i.done);e5(t,e,n)}return}throw t=Object.prototype.toString.call(i),Error(Mt(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}typeof i=="string"?(r=e.blockedSegment,r.lastPushedText=BK(e.blockedSegment.chunks,i,t.responseState,r.lastPushedText)):typeof i=="number"&&(r=e.blockedSegment,r.lastPushedText=BK(e.blockedSegment.chunks,""+i,t.responseState,r.lastPushedText))}function e5(t,e,i){for(var r=i.length,n=0;n<r;n++){var s=e.treeContext;e.treeContext=L1(s,r,n);try{N1(t,e,i[n])}finally{e.treeContext=s}}}function N1(t,e,i){var r=e.blockedSegment.formatContext,n=e.legacyContext,s=e.context;try{return wo(t,e,i)}catch(l){if(rB(),typeof l=="object"&&l!==null&&typeof l.then=="function"){i=l;var o=e.blockedSegment,a=Tx(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=nB(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,i.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,bx(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,bx(s),l}}function rLe(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,Ere(this,e,t)}function wre(t,e,i){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=i===void 0?Error(Mt(432)):i,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(n){return wre(n,e,i)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function Px(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var i=e.children[0];i.id=e.id,i.parentFlushed=!0,i.status===1&&Px(t,i)}else t.completedSegments.push(e)}function Ere(t,e,i){if(e===null){if(i.parentFlushed){if(t.completedRootSegment!==null)throw Error(Mt(389));t.completedRootSegment=i}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=jy,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(i.parentFlushed&&i.status===1&&Px(e,i),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(rLe,t),e.fallbackAbortableTasks.clear()):i.parentFlushed&&i.status===1&&(Px(e,i),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function bre(t){if(t.status!==2){var e=ap,i=IL.current;IL.current=XK;var r=ND;ND=t.responseState;try{var n=t.pingedTasks,s;for(s=0;s<n.length;s++){var o=n[s],a=t,l=o.blockedSegment;if(l.status===0){bx(o.context);try{wo(a,o,o.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,Ere(a,o.blockedBoundary,l)}catch(g){if(rB(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=o.ping;g.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=g,h=Gw(a,d);if(c===null?Dx(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var f=a.onAllReady;f()}}}finally{}}}n.splice(0,s),t.destination!==null&&sB(t,t.destination)}catch(g){Gw(t,g),Dx(t,g)}finally{ND=r,IL.current=i,i===XK&&bx(e)}}}function AT(t,e,i){switch(i.parentFlushed=!0,i.status){case 0:var r=i.id=t.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=r.toString(16),e.push(t),e.push('"></template>');case 1:i.status=2;var n=!0;r=i.chunks;var s=0;i=i.children;for(var o=0;o<i.length;o++){for(n=i[o];s<n.index;s++)e.push(r[s]);n=BO(t,e,n)}for(;s<r.length-1;s++)e.push(r[s]);return s<r.length&&(n=e.push(r[s])),n;default:throw Error(Mt(390))}}function BO(t,e,i){var r=i.boundary;if(r===null)return AT(t,e,i);if(r.parentFlushed=!0,r.forceClientRender)return t.responseState.generateStaticMarkup||(r=r.errorDigest,e.push("<!--$!-->"),e.push("<template"),r&&(e.push(' data-dgst="'),r=gs(r),e.push(r),e.push('"')),e.push("></template>")),AT(t,e,i),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t;if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var n=t.responseState,s=n.nextSuspenseID++;return n=n.boundaryPrefix+s.toString(16),r=r.id=n,$K(e,t.responseState,r),AT(t,e,i),e.push("<!--/$-->")}if(r.byteSize>t.progressiveChunkSize)return r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),$K(e,t.responseState,r.id),AT(t,e,i),e.push("<!--/$-->");if(t.responseState.generateStaticMarkup||e.push("<!--$-->"),i=r.completedSegments,i.length!==1)throw Error(Mt(391));return BO(t,e,i[0]),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t}function t5(t,e,i){return kIe(e,t.responseState,i.formatContext,i.id),BO(t,e,i),VIe(e,i.formatContext)}function i5(t,e,i){for(var r=i.completedSegments,n=0;n<r.length;n++)Rre(t,e,i,r[n]);if(r.length=0,t=t.responseState,r=i.id,i=i.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Mt(395));return i=i.toString(16),e.push(r),e.push('","'),e.push(t.segmentPrefix),e.push(i),e.push('")<\/script>')}function Rre(t,e,i,r){if(r.status===2)return!0;var n=r.id;if(n===-1){if((r.id=i.rootSegmentID)===-1)throw Error(Mt(392));return t5(t,e,r)}return t5(t,e,r),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),n=n.toString(16),e.push(n),e.push('","'),e.push(t.placeholderPrefix),e.push(n),e.push('")<\/script>')}function sB(t,e){try{var i=t.completedRootSegment;if(i!==null&&t.pendingRootTasks===0){BO(t,e,i),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(i=0;i<r.length-1;i++)e.push(r[i]);i<r.length&&e.push(r[i])}var n=t.clientRenderedBoundaries,s;for(s=0;s<n.length;s++){var o=n[s];r=e;var a=t.responseState,l=o.id,u=o.errorDigest,c=o.errorMessage,d=o.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Mt(395));if(r.push(l),r.push('"'),u||c||d){r.push(",");var h=FL(u||"");r.push(h)}if(c||d){r.push(",");var f=FL(c||"");r.push(f)}if(d){r.push(",");var g=FL(d);r.push(g)}if(!r.push(")<\/script>")){t.destination=null,s++,n.splice(0,s);return}}n.splice(0,s);var v=t.completedBoundaries;for(s=0;s<v.length;s++)if(!i5(t,e,v[s])){t.destination=null,s++,v.splice(0,s);return}v.splice(0,s);var C=t.partialBoundaries;for(s=0;s<C.length;s++){var S=C[s];e:{n=t,o=e;var y=S.completedSegments;for(a=0;a<y.length;a++)if(!Rre(n,o,S,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){t.destination=null,s++,C.splice(0,s);return}}C.splice(0,s);var E=t.completedBoundaries;for(s=0;s<E.length;s++)if(!i5(t,e,E[s])){t.destination=null,s++,E.splice(0,s);return}E.splice(0,s)}finally{t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.push(null)}}function nLe(t,e){try{var i=t.abortableTasks;i.forEach(function(r){return wre(r,t,e)}),i.clear(),t.destination!==null&&sB(t,t.destination)}catch(r){Gw(t,r),Dx(t,r)}}function sLe(){}function Tre(t,e,i,r){var n=!1,s=null,o="",a={push:function(u){return u!==null&&(o+=u),!0},destroy:function(u){n=!0,s=u}},l=!1;if(t=iLe(t,$Ie(i,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,sLe,void 0,function(){l=!0},void 0,void 0),bre(t),nLe(t,r),t.status===1)t.status=2,a.destroy(t.fatalError);else if(t.status!==2&&t.destination===null){t.destination=a;try{sB(t,a)}catch(u){Gw(t,u),Dx(t,u)}}if(n)throw s;if(!l)throw Error(Mt(426));return o}cC.renderToNodeStream=function(){throw Error(Mt(207))};cC.renderToStaticMarkup=function(t,e){return Tre(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};cC.renderToStaticNodeStream=function(){throw Error(Mt(208))};cC.renderToString=function(t,e){return Tre(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};cC.version="18.2.0";var oB={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dre=T;function Gt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eo=null,bo=0;function st(t,e){if(e.length!==0)if(512<e.length)0<bo&&(t.enqueue(new Uint8Array(Eo.buffer,0,bo)),Eo=new Uint8Array(512),bo=0),t.enqueue(e);else{var i=Eo.length-bo;i<e.length&&(i===0?t.enqueue(Eo):(Eo.set(e.subarray(0,i),bo),t.enqueue(Eo),e=e.subarray(i)),Eo=new Uint8Array(512),bo=0),Eo.set(e,bo),bo+=e.length}}function Ji(t,e){return st(t,e),!0}function r5(t){Eo&&0<bo&&(t.enqueue(new Uint8Array(Eo.buffer,0,bo)),Eo=null,bo=0)}var Pre=new TextEncoder;function $t(t){return Pre.encode(t)}function Ke(t){return Pre.encode(t)}function xre(t,e){typeof t.error=="function"?t.error(e):t.close()}var Bs=Object.prototype.hasOwnProperty,oLe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n5={},s5={};function Are(t){return Bs.call(s5,t)?!0:Bs.call(n5,t)?!1:oLe.test(t)?s5[t]=!0:(n5[t]=!0,!1)}function Fs(t,e,i,r,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new Fs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new Fs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new Fs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new Fs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new Fs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new Fs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new Fs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new Fs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new Fs(t,5,!1,t.toLowerCase(),null,!1,!1)});var aB=/[\-:]([a-z])/g;function lB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aB,lB);Hn[e]=new Fs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aB,lB);Hn[e]=new Fs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aB,lB);Hn[e]=new Fs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new Fs(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new Fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new Fs(t,1,!1,t.toLowerCase(),null,!0,!0)});var GD={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aLe=["Webkit","ms","Moz","O"];Object.keys(GD).forEach(function(t){aLe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),GD[e]=GD[t]})});var lLe=/["'&<>]/;function _n(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=lLe.exec(t);if(e){var i="",r,n=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}n!==r&&(i+=t.substring(n,r)),n=r+1,i+=e}t=n!==r?i+t.substring(n,r):i}return t}var uLe=/([A-Z])/g,cLe=/^ms-/,G1=Array.isArray,dLe=Ke("<script>"),hLe=Ke("<\/script>"),pLe=Ke('<script src="'),fLe=Ke('<script type="module" src="'),o5=Ke('" async=""><\/script>'),gLe=/(<\/|<)(s)(cript)/gi;function mLe(t,e,i,r){return""+e+(i==="s"?"\\u0073":"\\u0053")+r}function vLe(t,e,i,r,n){t=t===void 0?"":t,e=e===void 0?dLe:Ke('<script nonce="'+_n(e)+'">');var s=[];if(i!==void 0&&s.push(e,$t((""+i).replace(gLe,mLe)),hLe),r!==void 0)for(i=0;i<r.length;i++)s.push(pLe,$t(_n(r[i])),o5);if(n!==void 0)for(r=0;r<n.length;r++)s.push(fLe,$t(_n(n[r])),o5);return{bootstrapChunks:s,startInlineScript:e,placeholderPrefix:Ke(t+"P:"),segmentPrefix:Ke(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Zl(t,e){return{insertionMode:t,selectedValue:e}}function CLe(t){return Zl(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function yLe(t,e,i){switch(e){case"select":return Zl(1,i.value!=null?i.value:i.defaultValue);case"svg":return Zl(2,null);case"math":return Zl(3,null);case"foreignObject":return Zl(1,null);case"table":return Zl(4,null);case"thead":case"tbody":case"tfoot":return Zl(5,null);case"colgroup":return Zl(7,null);case"tr":return Zl(6,null)}return 4<=t.insertionMode||t.insertionMode===0?Zl(1,null):t}var uB=Ke("<!-- -->");function a5(t,e,i,r){return e===""?r:(r&&t.push(uB),t.push($t(_n(e))),!0)}var l5=new Map,SLe=Ke(' style="'),u5=Ke(":"),wLe=Ke(";");function Ore(t,e,i){if(typeof i!="object")throw Error(Gt(62));e=!0;for(var r in i)if(Bs.call(i,r)){var n=i[r];if(n!=null&&typeof n!="boolean"&&n!==""){if(r.indexOf("--")===0){var s=$t(_n(r));n=$t(_n((""+n).trim()))}else{s=r;var o=l5.get(s);o!==void 0||(o=Ke(_n(s.replace(uLe,"-$1").toLowerCase().replace(cLe,"-ms-"))),l5.set(s,o)),s=o,n=typeof n=="number"?n===0||Bs.call(GD,r)?$t(""+n):$t(n+"px"):$t(_n((""+n).trim()))}e?(e=!1,t.push(SLe,s,u5,n)):t.push(wLe,s,u5,n)}}e||t.push(Xh)}var pd=Ke(" "),Ng=Ke('="'),Xh=Ke('"'),c5=Ke('=""');function Co(t,e,i,r){switch(i){case"style":Ore(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N"){if(e=Hn.hasOwnProperty(i)?Hn[i]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(i=$t(e.attributeName),e.type){case 3:r&&t.push(pd,i,c5);break;case 4:r===!0?t.push(pd,i,c5):r!==!1&&t.push(pd,i,Ng,$t(_n(r)),Xh);break;case 5:isNaN(r)||t.push(pd,i,Ng,$t(_n(r)),Xh);break;case 6:!isNaN(r)&&1<=r&&t.push(pd,i,Ng,$t(_n(r)),Xh);break;default:e.sanitizeURL&&(r=""+r),t.push(pd,i,Ng,$t(_n(r)),Xh)}}else if(Are(i)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=i.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(pd,$t(i),Ng,$t(_n(r)),Xh)}}}var fd=Ke(">"),d5=Ke("/>");function kD(t,e,i){if(e!=null){if(i!=null)throw Error(Gt(60));if(typeof e!="object"||!("__html"in e))throw Error(Gt(61));e=e.__html,e!=null&&t.push($t(""+e))}}function ELe(t){var e="";return Dre.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}var LL=Ke(' selected=""');function _L(t,e,i,r){t.push(Jl(i));var n=i=null,s;for(s in e)if(Bs.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":i=o;break;case"dangerouslySetInnerHTML":n=o;break;default:Co(t,r,s,o)}}return t.push(fd),kD(t,n,i),typeof i=="string"?(t.push($t(_n(i))),null):i}var NL=Ke(`
`),bLe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,h5=new Map;function Jl(t){var e=h5.get(t);if(e===void 0){if(!bLe.test(t))throw Error(Gt(65,t));e=Ke("<"+t),h5.set(t,e)}return e}var RLe=Ke("<!DOCTYPE html>");function TLe(t,e,i,r,n){switch(e){case"select":t.push(Jl("select"));var s=null,o=null;for(c in i)if(Bs.call(i,c)){var a=i[c];if(a!=null)switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Co(t,r,c,a)}}return t.push(fd),kD(t,o,s),s;case"option":o=n.selectedValue,t.push(Jl("option"));var l=a=null,u=null,c=null;for(s in i)if(Bs.call(i,s)){var d=i[s];if(d!=null)switch(s){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Co(t,r,s,d)}}if(o!=null)if(i=l!==null?""+l:ELe(a),G1(o)){for(r=0;r<o.length;r++)if(""+o[r]===i){t.push(LL);break}}else""+o===i&&t.push(LL);else u&&t.push(LL);return t.push(fd),kD(t,c,a),a;case"textarea":t.push(Jl("textarea")),c=o=s=null;for(a in i)if(Bs.call(i,a)&&(l=i[a],l!=null))switch(a){case"children":c=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Gt(91));default:Co(t,r,a,l)}if(s===null&&o!==null&&(s=o),t.push(fd),c!=null){if(s!=null)throw Error(Gt(92));if(G1(c)&&1<c.length)throw Error(Gt(93));s=""+c}return typeof s=="string"&&s[0]===`
`&&t.push(NL),s!==null&&t.push($t(_n(""+s))),null;case"input":t.push(Jl("input")),l=c=a=s=null;for(o in i)if(Bs.call(i,o)&&(u=i[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Gt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":s=u;break;default:Co(t,r,o,u)}return c!==null?Co(t,r,"checked",c):l!==null&&Co(t,r,"checked",l),s!==null?Co(t,r,"value",s):a!==null&&Co(t,r,"value",a),t.push(d5),null;case"menuitem":t.push(Jl("menuitem"));for(var h in i)if(Bs.call(i,h)&&(s=i[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Gt(400));default:Co(t,r,h,s)}return t.push(fd),null;case"title":t.push(Jl("title")),s=null;for(d in i)if(Bs.call(i,d)&&(o=i[d],o!=null))switch(d){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Gt(434));default:Co(t,r,d,o)}return t.push(fd),s;case"listing":case"pre":t.push(Jl(e)),o=s=null;for(l in i)if(Bs.call(i,l)&&(a=i[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Co(t,r,l,a)}if(t.push(fd),o!=null){if(s!=null)throw Error(Gt(60));if(typeof o!="object"||!("__html"in o))throw Error(Gt(61));i=o.__html,i!=null&&(typeof i=="string"&&0<i.length&&i[0]===`
`?t.push(NL,$t(i)):t.push($t(""+i)))}return typeof s=="string"&&s[0]===`
`&&t.push(NL),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Jl(e));for(var f in i)if(Bs.call(i,f)&&(s=i[f],s!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Gt(399,e));default:Co(t,r,f,s)}return t.push(d5),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return _L(t,i,e,r);case"html":return n.insertionMode===0&&t.push(RLe),_L(t,i,e,r);default:if(e.indexOf("-")===-1&&typeof i.is!="string")return _L(t,i,e,r);t.push(Jl(e)),o=s=null;for(u in i)if(Bs.call(i,u)&&(a=i[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":Ore(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Are(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(pd,$t(u),Ng,$t(_n(a)),Xh)}return t.push(fd),kD(t,o,s),s}}var DLe=Ke("</"),PLe=Ke(">"),xLe=Ke('<template id="'),ALe=Ke('"></template>'),OLe=Ke("<!--$-->"),MLe=Ke('<!--$?--><template id="'),FLe=Ke('"></template>'),ILe=Ke("<!--$!-->"),LLe=Ke("<!--/$-->"),_Le=Ke("<template"),NLe=Ke('"'),GLe=Ke(' data-dgst="');Ke(' data-msg="');Ke(' data-stck="');var kLe=Ke("></template>");function p5(t,e,i){if(st(t,MLe),i===null)throw Error(Gt(395));return st(t,i),Ji(t,FLe)}var VLe=Ke('<div hidden id="'),HLe=Ke('">'),$Le=Ke("</div>"),BLe=Ke('<svg aria-hidden="true" style="display:none" id="'),WLe=Ke('">'),ULe=Ke("</svg>"),zLe=Ke('<math aria-hidden="true" style="display:none" id="'),jLe=Ke('">'),KLe=Ke("</math>"),YLe=Ke('<table hidden id="'),qLe=Ke('">'),XLe=Ke("</table>"),QLe=Ke('<table hidden><tbody id="'),ZLe=Ke('">'),JLe=Ke("</tbody></table>"),e_e=Ke('<table hidden><tr id="'),t_e=Ke('">'),i_e=Ke("</tr></table>"),r_e=Ke('<table hidden><colgroup id="'),n_e=Ke('">'),s_e=Ke("</colgroup></table>");function o_e(t,e,i,r){switch(i.insertionMode){case 0:case 1:return st(t,VLe),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,HLe);case 2:return st(t,BLe),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,WLe);case 3:return st(t,zLe),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,jLe);case 4:return st(t,YLe),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,qLe);case 5:return st(t,QLe),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,ZLe);case 6:return st(t,e_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,t_e);case 7:return st(t,r_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,n_e);default:throw Error(Gt(397))}}function a_e(t,e){switch(e.insertionMode){case 0:case 1:return Ji(t,$Le);case 2:return Ji(t,ULe);case 3:return Ji(t,KLe);case 4:return Ji(t,XLe);case 5:return Ji(t,JLe);case 6:return Ji(t,i_e);case 7:return Ji(t,s_e);default:throw Error(Gt(397))}}var l_e=Ke('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),u_e=Ke('$RS("'),c_e=Ke('","'),d_e=Ke('")<\/script>'),h_e=Ke('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),p_e=Ke('$RC("'),f_e=Ke('","'),g_e=Ke('")<\/script>'),m_e=Ke('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),v_e=Ke('$RX("'),C_e=Ke('"'),y_e=Ke(")<\/script>"),GL=Ke(","),S_e=/[<\u2028\u2029]/g;function kL(t){return JSON.stringify(t).replace(S_e,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var pS=Object.assign,w_e=Symbol.for("react.element"),Mre=Symbol.for("react.portal"),Fre=Symbol.for("react.fragment"),Ire=Symbol.for("react.strict_mode"),Lre=Symbol.for("react.profiler"),_re=Symbol.for("react.provider"),Nre=Symbol.for("react.context"),Gre=Symbol.for("react.forward_ref"),kre=Symbol.for("react.suspense"),Vre=Symbol.for("react.suspense_list"),Hre=Symbol.for("react.memo"),cB=Symbol.for("react.lazy"),E_e=Symbol.for("react.scope"),b_e=Symbol.for("react.debug_trace_mode"),R_e=Symbol.for("react.legacy_hidden"),T_e=Symbol.for("react.default_value"),f5=Symbol.iterator;function k1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fre:return"Fragment";case Mre:return"Portal";case Lre:return"Profiler";case Ire:return"StrictMode";case kre:return"Suspense";case Vre:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nre:return(t.displayName||"Context")+".Consumer";case _re:return(t._context.displayName||"Context")+".Provider";case Gre:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hre:return e=t.displayName||null,e!==null?e:k1(t.type)||"Memo";case cB:e=t._payload,t=t._init;try{return k1(t(e))}catch{}}return null}var $re={};function g5(t,e){if(t=t.contextTypes,!t)return $re;var i={},r;for(r in t)i[r]=e[r];return i}var lp=null;function WO(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var i=e.parent;if(t===null){if(i!==null)throw Error(Gt(401))}else{if(i===null)throw Error(Gt(401));WO(t,i)}e.context._currentValue=e.value}}function Bre(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&Bre(t)}function Wre(t){var e=t.parent;e!==null&&Wre(e),t.context._currentValue=t.value}function Ure(t,e){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(Gt(402));t.depth===e.depth?WO(t,e):Ure(t,e)}function zre(t,e){var i=e.parent;if(i===null)throw Error(Gt(402));t.depth===i.depth?WO(t,i):zre(t,i),e.context._currentValue=e.value}function xx(t){var e=lp;e!==t&&(e===null?Wre(t):t===null?Bre(e):e.depth===t.depth?WO(e,t):e.depth>t.depth?Ure(e,t):zre(e,t),lp=t)}var m5={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function v5(t,e,i,r){var n=t.state!==void 0?t.state:null;t.updater=m5,t.props=i,t.state=n;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(i,n),n=o==null?n:pS({},n,o),t.state=n),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&m5.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,n=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,i,r):a,a!=null&&(n?(n=!1,s=pS({},s,a)):pS(s,a))}t.state=s}else s.queue=null}var D_e={id:1,overflow:""};function V1(t,e,i){var r=t.id;t=t.overflow;var n=32-VD(r)-1;r&=~(1<<n),i+=1;var s=32-VD(e)+n;if(30<s){var o=n-n%5;return s=(r&(1<<o)-1).toString(32),r>>=o,n-=o,{id:1<<32-VD(e)+n|i<<n|r,overflow:s+t}}return{id:1<<s|i<<n|r,overflow:t}}var VD=Math.clz32?Math.clz32:A_e,P_e=Math.log,x_e=Math.LN2;function A_e(t){return t>>>=0,t===0?32:31-(P_e(t)/x_e|0)|0}function O_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M_e=typeof Object.is=="function"?Object.is:O_e,Tc=null,dB=null,HD=null,$i=null,Ky=!1,Ax=!1,kw=0,Dd=null,UO=0;function Qh(){if(Tc===null)throw Error(Gt(321));return Tc}function C5(){if(0<UO)throw Error(Gt(312));return{memoizedState:null,queue:null,next:null}}function hB(){return $i===null?HD===null?(Ky=!1,HD=$i=C5()):(Ky=!0,$i=HD):$i.next===null?(Ky=!1,$i=$i.next=C5()):(Ky=!0,$i=$i.next),$i}function pB(){dB=Tc=null,Ax=!1,HD=null,UO=0,$i=Dd=null}function jre(t,e){return typeof e=="function"?e(t):e}function y5(t,e,i){if(Tc=Qh(),$i=hB(),Ky){var r=$i.queue;if(e=r.dispatch,Dd!==null&&(i=Dd.get(r),i!==void 0)){Dd.delete(r),r=$i.memoizedState;do r=t(r,i.action),i=i.next;while(i!==null);return $i.memoizedState=r,[r,e]}return[$i.memoizedState,e]}return t=t===jre?typeof e=="function"?e():e:i!==void 0?i(e):e,$i.memoizedState=t,t=$i.queue={last:null,dispatch:null},t=t.dispatch=F_e.bind(null,Tc,t),[$i.memoizedState,t]}function S5(t,e){if(Tc=Qh(),$i=hB(),e=e===void 0?null:e,$i!==null){var i=$i.memoizedState;if(i!==null&&e!==null){var r=i[1];e:if(r===null)r=!1;else{for(var n=0;n<r.length&&n<e.length;n++)if(!M_e(e[n],r[n])){r=!1;break e}r=!0}if(r)return i[0]}}return t=t(),$i.memoizedState=[t,e],t}function F_e(t,e,i){if(25<=UO)throw Error(Gt(301));if(t===Tc)if(Ax=!0,t={action:i,next:null},Dd===null&&(Dd=new Map),i=Dd.get(e),i===void 0)Dd.set(e,t);else{for(e=i;e.next!==null;)e=e.next;e.next=t}}function I_e(){throw Error(Gt(394))}function OT(){}var w5={readContext:function(t){return t._currentValue},useContext:function(t){return Qh(),t._currentValue},useMemo:S5,useReducer:y5,useRef:function(t){Tc=Qh(),$i=hB();var e=$i.memoizedState;return e===null?(t={current:t},$i.memoizedState=t):e},useState:function(t){return y5(jre,t)},useInsertionEffect:OT,useLayoutEffect:function(){},useCallback:function(t,e){return S5(function(){return t},e)},useImperativeHandle:OT,useEffect:OT,useDebugValue:OT,useDeferredValue:function(t){return Qh(),t},useTransition:function(){return Qh(),[!1,I_e]},useId:function(){var t=dB.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-VD(t)-1)).toString(32)+e;var i=$D;if(i===null)throw Error(Gt(404));return e=kw++,t=":"+i.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Qh(),e(t._source)},useSyncExternalStore:function(t,e,i){if(i===void 0)throw Error(Gt(407));return i()}},$D=null,VL=Dre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function L_e(t){return console.error(t),null}function Yy(){}function __e(t,e,i,r,n,s,o,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:n===void 0?L_e:n,onAllReady:s===void 0?Yy:s,onShellReady:o===void 0?Yy:o,onShellError:a===void 0?Yy:a,onFatalError:l===void 0?Yy:l},i=Ox(e,0,null,i,!1,!1),i.parentFlushed=!0,t=fB(e,t,null,i,c,$re,null,D_e),u.push(t),e}function fB(t,e,i,r,n,s,o,a){t.allPendingTasks++,i===null?t.pendingRootTasks++:i.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&qre(t)},blockedBoundary:i,blockedSegment:r,abortSet:n,legacyContext:s,context:o,treeContext:a};return n.add(l),l}function Ox(t,e,i,r,n,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:i,lastPushedText:n,textEmbedded:s}}function Vw(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function Mx(t,e){var i=t.onShellError;i(e),i=t.onFatalError,i(e),t.destination!==null?(t.status=2,xre(t.destination,e)):(t.status=1,t.fatalError=e)}function E5(t,e,i,r,n){for(Tc={},dB=e,kw=0,t=i(r,n);Ax;)Ax=!1,kw=0,UO+=1,$i=null,t=i(r,n);return pB(),t}function b5(t,e,i,r){var n=i.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof i.getChildContext!="function")r=o;else{i=i.getChildContext();for(var a in i)if(!(a in s))throw Error(Gt(108,k1(r)||"Unknown",a));r=pS({},o,i)}e.legacyContext=r,Ro(t,e,n),e.legacyContext=o}else Ro(t,e,n)}function R5(t,e){if(t&&t.defaultProps){e=pS({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function H1(t,e,i,r,n){if(typeof i=="function")if(i.prototype&&i.prototype.isReactComponent){n=g5(i,e.legacyContext);var s=i.contextType;s=new i(r,typeof s=="object"&&s!==null?s._currentValue:n),v5(s,i,r,n),b5(t,e,s,i)}else{s=g5(i,e.legacyContext),n=E5(t,e,i,r,s);var o=kw!==0;if(typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0)v5(n,i,r,s),b5(t,e,n,i);else if(o){r=e.treeContext,e.treeContext=V1(r,1,0);try{Ro(t,e,n)}finally{e.treeContext=r}}else Ro(t,e,n)}else if(typeof i=="string"){switch(n=e.blockedSegment,s=TLe(n.chunks,i,r,t.responseState,n.formatContext),n.lastPushedText=!1,o=n.formatContext,n.formatContext=yLe(o,i,r),$1(t,e,s),n.formatContext=o,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:n.chunks.push(DLe,$t(i),PLe)}n.lastPushedText=!1}else{switch(i){case R_e:case b_e:case Ire:case Lre:case Fre:Ro(t,e,r.children);return;case Vre:Ro(t,e,r.children);return;case E_e:throw Error(Gt(343));case kre:e:{i=e.blockedBoundary,n=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=Ox(t,n.chunks.length,a,n.formatContext,!1,!1);n.children.push(l),n.lastPushedText=!1;var u=Ox(t,0,null,n.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if($1(t,e,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(uB),u.status=1,Fx(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=Vw(t,c)}finally{e.blockedBoundary=i,e.blockedSegment=n}e=fB(t,s,i,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Gre:if(r=E5(t,e,i.render,r,n),kw!==0){i=e.treeContext,e.treeContext=V1(i,1,0);try{Ro(t,e,r)}finally{e.treeContext=i}}else Ro(t,e,r);return;case Hre:i=i.type,r=R5(i,r),H1(t,e,i,r,n);return;case _re:if(n=r.children,i=i._context,r=r.value,s=i._currentValue,i._currentValue=r,o=lp,lp=r={parent:o,depth:o===null?0:o.depth+1,context:i,parentValue:s,value:r},e.context=r,Ro(t,e,n),t=lp,t===null)throw Error(Gt(403));r=t.parentValue,t.context._currentValue=r===T_e?t.context._defaultValue:r,t=lp=t.parent,e.context=t;return;case Nre:r=r.children,r=r(i._currentValue),Ro(t,e,r);return;case cB:n=i._init,i=n(i._payload),r=R5(i,r),H1(t,e,i,r,void 0);return}throw Error(Gt(130,i==null?i:typeof i,""))}}function Ro(t,e,i){if(e.node=i,typeof i=="object"&&i!==null){switch(i.$$typeof){case w_e:H1(t,e,i.type,i.props,i.ref);return;case Mre:throw Error(Gt(257));case cB:var r=i._init;i=r(i._payload),Ro(t,e,i);return}if(G1(i)){T5(t,e,i);return}if(i===null||typeof i!="object"?r=null:(r=f5&&i[f5]||i["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(i))){if(i=r.next(),!i.done){var n=[];do n.push(i.value),i=r.next();while(!i.done);T5(t,e,n)}return}throw t=Object.prototype.toString.call(i),Error(Gt(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}typeof i=="string"?(r=e.blockedSegment,r.lastPushedText=a5(e.blockedSegment.chunks,i,t.responseState,r.lastPushedText)):typeof i=="number"&&(r=e.blockedSegment,r.lastPushedText=a5(e.blockedSegment.chunks,""+i,t.responseState,r.lastPushedText))}function T5(t,e,i){for(var r=i.length,n=0;n<r;n++){var s=e.treeContext;e.treeContext=V1(s,r,n);try{$1(t,e,i[n])}finally{e.treeContext=s}}}function $1(t,e,i){var r=e.blockedSegment.formatContext,n=e.legacyContext,s=e.context;try{return Ro(t,e,i)}catch(l){if(pB(),typeof l=="object"&&l!==null&&typeof l.then=="function"){i=l;var o=e.blockedSegment,a=Ox(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=fB(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,i.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,xx(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,xx(s),l}}function N_e(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,Yre(this,e,t)}function Kre(t,e,i){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=i===void 0?Error(Gt(432)):i,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(n){return Kre(n,e,i)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function Fx(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var i=e.children[0];i.id=e.id,i.parentFlushed=!0,i.status===1&&Fx(t,i)}else t.completedSegments.push(e)}function Yre(t,e,i){if(e===null){if(i.parentFlushed){if(t.completedRootSegment!==null)throw Error(Gt(389));t.completedRootSegment=i}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=Yy,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(i.parentFlushed&&i.status===1&&Fx(e,i),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(N_e,t),e.fallbackAbortableTasks.clear()):i.parentFlushed&&i.status===1&&(Fx(e,i),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function qre(t){if(t.status!==2){var e=lp,i=VL.current;VL.current=w5;var r=$D;$D=t.responseState;try{var n=t.pingedTasks,s;for(s=0;s<n.length;s++){var o=n[s],a=t,l=o.blockedSegment;if(l.status===0){xx(o.context);try{Ro(a,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(uB),o.abortSet.delete(o),l.status=1,Yre(a,o.blockedBoundary,l)}catch(g){if(pB(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=o.ping;g.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=g,h=Vw(a,d);if(c===null?Mx(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var f=a.onAllReady;f()}}}finally{}}}n.splice(0,s),t.destination!==null&&gB(t,t.destination)}catch(g){Vw(t,g),Mx(t,g)}finally{$D=r,VL.current=i,i===w5&&xx(e)}}}function MT(t,e,i){switch(i.parentFlushed=!0,i.status){case 0:var r=i.id=t.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,t=t.responseState,st(e,xLe),st(e,t.placeholderPrefix),t=$t(r.toString(16)),st(e,t),Ji(e,ALe);case 1:i.status=2;var n=!0;r=i.chunks;var s=0;i=i.children;for(var o=0;o<i.length;o++){for(n=i[o];s<n.index;s++)st(e,r[s]);n=zO(t,e,n)}for(;s<r.length-1;s++)st(e,r[s]);return s<r.length&&(n=Ji(e,r[s])),n;default:throw Error(Gt(390))}}function zO(t,e,i){var r=i.boundary;if(r===null)return MT(t,e,i);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Ji(e,ILe),st(e,_Le),r&&(st(e,GLe),st(e,$t(_n(r))),st(e,NLe)),Ji(e,kLe),MT(t,e,i);else if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var n=t.responseState,s=n.nextSuspenseID++;n=Ke(n.boundaryPrefix+s.toString(16)),r=r.id=n,p5(e,t.responseState,r),MT(t,e,i)}else if(r.byteSize>t.progressiveChunkSize)r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),p5(e,t.responseState,r.id),MT(t,e,i);else{if(Ji(e,OLe),i=r.completedSegments,i.length!==1)throw Error(Gt(391));zO(t,e,i[0])}return Ji(e,LLe)}function D5(t,e,i){return o_e(e,t.responseState,i.formatContext,i.id),zO(t,e,i),a_e(e,i.formatContext)}function P5(t,e,i){for(var r=i.completedSegments,n=0;n<r.length;n++)Xre(t,e,i,r[n]);if(r.length=0,t=t.responseState,r=i.id,i=i.rootSegmentID,st(e,t.startInlineScript),t.sentCompleteBoundaryFunction?st(e,p_e):(t.sentCompleteBoundaryFunction=!0,st(e,h_e)),r===null)throw Error(Gt(395));return i=$t(i.toString(16)),st(e,r),st(e,f_e),st(e,t.segmentPrefix),st(e,i),Ji(e,g_e)}function Xre(t,e,i,r){if(r.status===2)return!0;var n=r.id;if(n===-1){if((r.id=i.rootSegmentID)===-1)throw Error(Gt(392));return D5(t,e,r)}return D5(t,e,r),t=t.responseState,st(e,t.startInlineScript),t.sentCompleteSegmentFunction?st(e,u_e):(t.sentCompleteSegmentFunction=!0,st(e,l_e)),st(e,t.segmentPrefix),n=$t(n.toString(16)),st(e,n),st(e,c_e),st(e,t.placeholderPrefix),st(e,n),Ji(e,d_e)}function gB(t,e){Eo=new Uint8Array(512),bo=0;try{var i=t.completedRootSegment;if(i!==null&&t.pendingRootTasks===0){zO(t,e,i),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(i=0;i<r.length-1;i++)st(e,r[i]);i<r.length&&Ji(e,r[i])}var n=t.clientRenderedBoundaries,s;for(s=0;s<n.length;s++){var o=n[s];r=e;var a=t.responseState,l=o.id,u=o.errorDigest,c=o.errorMessage,d=o.errorComponentStack;if(st(r,a.startInlineScript),a.sentClientRenderFunction?st(r,v_e):(a.sentClientRenderFunction=!0,st(r,m_e)),l===null)throw Error(Gt(395));st(r,l),st(r,C_e),(u||c||d)&&(st(r,GL),st(r,$t(kL(u||"")))),(c||d)&&(st(r,GL),st(r,$t(kL(c||"")))),d&&(st(r,GL),st(r,$t(kL(d)))),Ji(r,y_e)}n.splice(0,s);var h=t.completedBoundaries;for(s=0;s<h.length;s++)P5(t,e,h[s]);h.splice(0,s),r5(e),Eo=new Uint8Array(512),bo=0;var f=t.partialBoundaries;for(s=0;s<f.length;s++){var g=f[s];e:{n=t,o=e;var v=g.completedSegments;for(a=0;a<v.length;a++)if(!Xre(n,o,g,v[a])){a++,v.splice(0,a);var C=!1;break e}v.splice(0,a),C=!0}if(!C){t.destination=null,s++,f.splice(0,s);return}}f.splice(0,s);var S=t.completedBoundaries;for(s=0;s<S.length;s++)P5(t,e,S[s]);S.splice(0,s)}finally{r5(e),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.close()}}function x5(t,e){try{var i=t.abortableTasks;i.forEach(function(r){return Kre(r,t,e)}),i.clear(),t.destination!==null&&gB(t,t.destination)}catch(r){Vw(t,r),Mx(t,r)}}oB.renderToReadableStream=function(t,e){return new Promise(function(i,r){var n,s,o=new Promise(function(c,d){s=c,n=d}),a=__e(t,vLe(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),CLe(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,s,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(a.status===1)a.status=2,xre(d,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=d;try{gB(a,d)}catch(h){Vw(a,h),Mx(a,h)}}},cancel:function(){x5(a)}},{highWaterMark:0});c.allReady=o,i(c)},function(c){o.catch(function(){}),r(c)},n);if(e&&e.signal){var l=e.signal,u=function(){x5(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}qre(a)})};oB.version="18.2.0";var dC,Qre;dC=cC,Qre=oB;dC.version;dC.renderToString;var G_e=dC.renderToStaticMarkup;dC.renderToNodeStream;dC.renderToStaticNodeStream;Qre.renderToReadableStream;var k_e=Object.defineProperty,V_e=Object.defineProperties,H_e=Object.getOwnPropertyDescriptors,A5=Object.getOwnPropertySymbols,$_e=Object.prototype.hasOwnProperty,B_e=Object.prototype.propertyIsEnumerable,O5=(t,e,i)=>e in t?k_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,rr=(t,e)=>{for(var i in e||(e={}))$_e.call(e,i)&&O5(t,i,e[i]);if(A5)for(var i of A5(e))B_e.call(e,i)&&O5(t,i,e[i]);return t},bs=(t,e)=>V_e(t,H_e(e)),mB=T.createContext({setMethods:()=>{}}),W_e=t=>{const{initialProps:e,addUpdateCallback:i,CustomComponentClass:r,setMethods:n}=t,[s,o]=T.useState(e);return T.useEffect(()=>{i(a=>o(a))},[]),W.createElement(mB.Provider,{value:{setMethods:n}},W.createElement(r,rr({},s)))},U_e=T.memo(W_e),z_e=0;function M5(){return`agPortalKey_${++z_e}`}var Zre=class{constructor(t,e,i,r){this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=e,this.componentType=i,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=M5(),this.portalKey=M5(),this.instanceCreated=this.isStatelessComponent()?Tr.resolve(!1):new Tr(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(t){const e=this.portalManager.getComponentWrappingElement(),i=document.createElement(e||"div");return i.classList.add("ag-react-container"),t.reactContainer=i,i}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(ft.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(ft.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()}hasMethod(t){const e=this.getFrameworkComponentInstance();return!!e&&e[t]!=null||this.fallbackMethodAvailable(t)}callMethod(t,e){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(!i){setTimeout(()=>this.callMethod(t,e));return}const r=i[t];if(r)return r.apply(i,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,e&&e[0]?e[0]:{})}addMethod(t,e){this[t]=e}init(t){return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new Tr(e=>this.createReactComponent(e))}createOrUpdatePortal(t){this.isStatelessComponent()||(t.ref=e=>{var i;this.componentInstance=e,this.addParentContainerStyleAndClasses(),(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0}),this.reactElement=this.createElement(this.reactComponent,bs(rr({},t),{key:this.key})),this.portal=zE.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(t,e){return T.createElement(t,e)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(t){if(!this.componentType.cellRenderer)return!1;const e=console.error;try{return console.error=()=>{},G_e(T.createElement(this.reactComponent,t))===""}catch{}finally{console.error=e}return!1}refreshComponent(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(t,e){const i=this[`${t}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(e)}fallbackMethodAvailable(t){return this.suppressFallbackMethods?!1:!!this[`${t}Component`]}};function vB(t,e,i){t.forEach(r=>{const n=e[r];n&&(i[r]=n)})}var vh=class extends Zre{constructor(){super(...arguments),this.awaitUpdateCallback=new Tr(t=>{this.resolveUpdateCallback=t}),this.wrapperComponent=U_e}init(t){return this.sourceParams=t,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(t,e){return super.createElement(this.wrapperComponent,{initialProps:e,CustomComponentClass:t,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new Tr(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(t){this.providedMethods=t,vB(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return bs(rr({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new Tr(t=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>t())}))}},j_e=class extends vh{constructor(){super(...arguments),this.date=null,this.onDateChange=t=>this.updateDate(t)}getDate(){return this.date}setDate(t){this.date=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(t){this.setDate(t),this.sourceParams.onDateChanged()}getProps(){const t=super.getProps();return t.date=this.date,t.onDateChange=this.onDateChange,delete t.onDateChanged,t}},K_e=class extends vh{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(t){return this.providedMethods.doesFilterPass(t)}getModel(){return this.model}setModel(t){return this.model=t,this.refreshProps()}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(t){this.setModel(t).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t.onUiChange=this.onUiChange,delete t.filterChangedCallback,delete t.filterModifiedCallback,delete t.valueGetter,t}};function Jre(t,e){t.parentFilterInstance(i=>{(i.setModel(e)||Tr.resolve()).then(()=>{t.filterParams.filterChangedCallback()})})}var Y_e=class{constructor(t,e){this.floatingFilterParams=t,this.refreshProps=e,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return bs(rr({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.floatingFilterParams=t,this.refreshProps()}setMethods(t){vB(this.getOptionalMethods(),t,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),Jre(this.floatingFilterParams,t)}},q_e=class extends vh{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t)}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),Jre(this.sourceParams,t)}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t}},X_e=class extends vh{refresh(t){this.sourceParams=t,this.refreshProps()}},Q_e=class extends vh{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=t=>this.updateActive(t)}setActive(t){this.awaitSetActive(t)}setExpanded(t){this.expanded=t,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(t){return this.active=t,this.refreshProps()}updateActive(t){const e=this.awaitSetActive(t);t&&e.then(()=>this.sourceParams.onItemActivated())}getProps(){const t=super.getProps();return t.active=this.active,t.expanded=this.expanded,t.onActiveChange=this.onActiveChange,delete t.onItemActivated,t}},Z_e=class extends vh{refresh(t){this.sourceParams=t,this.refreshProps()}},J_e=class extends vh{refresh(t){return this.sourceParams=t,this.refreshProps(),!0}},eNe=class extends vh{constructor(){super(...arguments),this.onStateChange=t=>this.updateState(t)}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getState(){return this.state}updateState(t){this.state=t,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const t=super.getProps();return t.state=this.state,t.onStateChange=this.onStateChange,t}},ene=class tne{constructor(e,i,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=i||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||tne.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(i=>i!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,i,r){this.portals=[...this.portals,e],this.waitForInstance(i,r),this.batchUpdate()}updateReactPortal(e,i){this.portals[this.portals.indexOf(e)]=i,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,i,r=Date.now()){if(this.destroyed){i(null);return}if(e.rendered())i(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){i(e);return}console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(e,i,r)})}}};ene.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var tNe=ene,Is=W.createContext({}),nu=(...t)=>t.filter(i=>i!=null&&i!=="").join(" "),Ra=class ine{constructor(...e){this.classesMap={},e.forEach(i=>{this.classesMap[i]=!0})}setClass(e,i){if(!!this.classesMap[e]==i)return this;const n=new ine;return n.classesMap=rr({},this.classesMap),n.classesMap[e]=i,n}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},hC=t=>{const e=()=>typeof Symbol=="function"&&Symbol.for,i=()=>e()?Symbol.for("react.memo"):60115;return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===i()},iNe=rc.createRoot!=null&&rc.flushSync!=null,BD=!1;function rNe(t){return BD||setTimeout(()=>BD=!1,0),BD=!0,t()}var CB=(t,e)=>{iNe&&t&&!BD?rc.flushSync(e):e()};function yB(t,e,i){if(e==null||t==null)return e;if(t===e||e.length===0&&t.length===0)return t;if(i||t.length===0&&e.length>0||t.length>0&&e.length===0)return e;const r=[],n=[],s=new Map,o=new Map;for(let a=0;a<e.length;a++){const l=e[a];o.set(l.getInstanceId(),l)}for(let a=0;a<t.length;a++){const l=t[a];s.set(l.getInstanceId(),l),o.has(l.getInstanceId())&&r.push(l)}for(let a=0;a<e.length;a++){const l=e[a],u=l.getInstanceId();s.has(u)||n.push(l)}return r.length===t.length&&n.length===0?t:r.length===0&&n.length===e.length?e:[...r,...n]}var $b=(t,e,i,r)=>{if(!t||t.componentFromFramework||e.isDestroyed())return;const s=t.newAgStackInstance();if(!s)return;let o,a,l=!1;return s.then(u=>{if(l){e.destroyBean(u);return}o=u,a=o.getGui(),i.appendChild(a),F5(r,o)}),()=>{l=!0,o&&(a&&a.parentElement&&a.parentElement.removeChild(a),e.destroyBean(o),r&&F5(r,void 0))}},F5=(t,e)=>{if(t)if(t instanceof Function)t(e);else{const i=t;i.current=e}},nNe=t=>{const e=t.newAgStackInstance();if(e)return e.resolveNow(null,i=>i)},rne=T.forwardRef((t,e)=>{var i;const r=T.useContext(Is).context,n=T.useRef(null),s=T.useRef(null),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),u=T.useRef(),[c,d]=T.useState(),[h,f]=T.useState(),[g,v]=T.useState(),[C,S]=T.useState(()=>new Ra),[y,w]=T.useState(()=>new Ra("ag-hidden")),[E,b]=T.useState(()=>new Ra("ag-hidden")),[D,P]=T.useState(()=>new Ra("ag-invisible"));T.useImperativeHandle(e,()=>({refresh(){return!1}})),T.useLayoutEffect(()=>$b(c,r,s.current),[c]);const O=T.useCallback(Q=>{if(n.current=Q,!n.current){r.destroyBean(u.current),u.current=null;return}const H={setInnerRenderer:(X,te)=>{d(X),v(te)},setChildCount:X=>f(X),addOrRemoveCssClass:(X,te)=>S(le=>le.setClass(X,te)),setContractedDisplayed:X=>b(te=>te.setClass("ag-hidden",!X)),setExpandedDisplayed:X=>w(te=>te.setClass("ag-hidden",!X)),setCheckboxVisible:X=>P(te=>te.setClass("ag-invisible",!X))};u.current=r.createBean(new $f),u.current.init(H,n.current,o.current,a.current,l.current,rne,t)},[]),N=T.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),_=T.useMemo(()=>`ag-group-expanded ${y.toString()}`,[y]),L=T.useMemo(()=>`ag-group-contracted ${E.toString()}`,[E]),k=T.useMemo(()=>`ag-group-checkbox ${D.toString()}`,[D]),$=c&&c.componentFromFramework,U=$?c.componentClass:void 0,K=c==null&&g!=null,j=ft.escapeString(g,!0);return W.createElement("span",rr({className:N,ref:O},t.colDef?{}:{role:(i=u.current)==null?void 0:i.getCellAriaRole()}),W.createElement("span",{className:_,ref:a}),W.createElement("span",{className:L,ref:l}),W.createElement("span",{className:k,ref:o}),W.createElement("span",{className:"ag-group-value",ref:s},K&&W.createElement(W.Fragment,null,j),$&&W.createElement(U,rr({},c.params))),W.createElement("span",{className:"ag-group-child-count"},h))}),I5=rne,sNe=t=>{const{ctrl:e}=t,i=e.isAlive(),{context:r}=T.useContext(Is),n=i?e.getColId():void 0,[s,o]=T.useState(),a=T.useRef(null),l=T.useRef(null),u=T.useRef(null),c=T.useRef();let d=T.useRef();i&&!d.current&&(d.current=new Tb(()=>a.current));const h=T.useCallback(C=>{var S;if(a.current=C,!a.current||!i)return;const y={setWidth:E=>{a.current&&(a.current.style.width=E)},addOrRemoveCssClass:(E,b)=>d.current.addOrRemoveCssClass(E,b),setAriaSort:E=>{a.current&&(E?ft.setAriaSort(a.current,E):ft.removeAriaSort(a.current))},setUserCompDetails:E=>o(E),getUserCompInstance:()=>c.current||void 0};e.setComp(y,a.current,l.current,u.current);const w=e.getSelectAllGui();(S=l.current)==null||S.insertAdjacentElement("afterend",w)},[]);T.useLayoutEffect(()=>$b(s,r,u.current,c),[s]),T.useEffect(()=>{e.setDragSource(a.current)},[s]);const f=T.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&hC(s.componentClass)),[s]),g=s&&s.componentFromFramework,v=s&&s.componentClass;return W.createElement("div",{ref:h,className:"ag-header-cell","col-id":n,role:"columnheader"},W.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),W.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},g&&f&&W.createElement(v,rr({},s.params)),g&&!f&&W.createElement(v,bs(rr({},s.params),{ref:c}))))},oNe=T.memo(sNe),aNe=t=>{const{context:e}=T.useContext(Is),{ctrl:i}=t,[r,n]=T.useState(()=>new Ra),[s,o]=T.useState(()=>new Ra),[a,l]=T.useState("false"),[u,c]=T.useState(),[d,h]=T.useState(),f=T.useMemo(()=>i.getColId(),[]),g=T.useRef(null),v=T.useRef(null),C=T.useRef(),S=T.useCallback(P=>{if(g.current=P,!g.current)return;const O={setWidth:N=>{g.current&&(g.current.style.width=N)},addOrRemoveCssClass:(N,_)=>n(L=>L.setClass(N,_)),setUserCompDetails:N=>h(N),setResizableDisplayed:N=>{o(_=>_.setClass("ag-hidden",!N)),l(N?"false":"true")},setAriaExpanded:N=>c(N),getUserCompInstance:()=>C.current||void 0};i.setComp(O,g.current,v.current)},[]);T.useLayoutEffect(()=>$b(d,e,g.current),[d]),T.useEffect(()=>{g.current&&i.setDragSource(g.current)},[d]);const y=T.useMemo(()=>!!((d==null?void 0:d.componentFromFramework)&&hC(d.componentClass)),[d]),w=T.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),E=T.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),b=d&&d.componentFromFramework,D=d&&d.componentClass;return W.createElement("div",{ref:S,className:w,"col-id":f,role:"columnheader","aria-expanded":u},b&&y&&W.createElement(D,rr({},d.params)),b&&!y&&W.createElement(D,bs(rr({},d.params),{ref:C})),W.createElement("div",{ref:v,"aria-hidden":a,className:E}))},lNe=T.memo(aNe);function SB(){ft.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var uNe=t=>{const{context:e,gridOptionsService:i}=T.useContext(Is),[r,n]=T.useState(()=>new Ra("ag-header-cell","ag-floating-filter")),[s,o]=T.useState(()=>new Ra),[a,l]=T.useState(()=>new Ra("ag-floating-filter-button","ag-hidden")),[u,c]=T.useState("false"),[d,h]=T.useState(),[f,g]=T.useState(1),v=T.useRef(null),C=T.useRef(null),S=T.useRef(null),y=T.useRef(null),w=T.useRef(),E=T.useRef(),b=Q=>{Q!=null&&w.current&&w.current(Q)},{ctrl:D}=t,P=T.useCallback(Q=>{if(v.current=Q,!v.current)return;E.current=new Tr(X=>{w.current=X});const H={addOrRemoveCssClass:(X,te)=>n(le=>le.setClass(X,te)),addOrRemoveBodyCssClass:(X,te)=>o(le=>le.setClass(X,te)),setButtonWrapperDisplayed:X=>{l(te=>te.setClass("ag-hidden",!X)),c(X?"false":"true")},setWidth:X=>{v.current&&(v.current.style.width=X)},setCompDetails:X=>h(X),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:X=>{var te;return(te=y.current)==null?void 0:te.appendChild(X)}};D.setComp(H,v.current,y.current,C.current)},[]);T.useLayoutEffect(()=>$b(d,e,C.current,b),[d]);const O=T.useMemo(()=>r.toString(),[r]),N=T.useMemo(()=>s.toString(),[s]),_=T.useMemo(()=>a.toString(),[a]),L=T.useMemo(()=>!!(d&&d.componentFromFramework&&hC(d.componentClass)),[d]),k=T.useMemo(()=>i.get("reactiveCustomComponents"),[]),$=T.useMemo(()=>{if(d)if(k){const Q=new Y_e(d.params,()=>g(H=>H+1));return b(Q),Q}else d.componentFromFramework&&SB()},[d]),U=$==null?void 0:$.getProps(),K=d&&d.componentFromFramework,j=d&&d.componentClass;return W.createElement("div",{ref:P,className:O,role:"gridcell"},W.createElement("div",{ref:C,className:N,role:"presentation"},K&&!k&&W.createElement(j,bs(rr({},d.params),{ref:L?()=>{}:b})),K&&k&&W.createElement(mB.Provider,{value:{setMethods:Q=>$.setMethods(Q)}},W.createElement(j,rr({},U)))),W.createElement("div",{ref:S,"aria-hidden":u,className:_,role:"presentation"},W.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},cNe=T.memo(uNe),dNe=t=>{const{ctrl:e}=t,{topOffset:i,rowHeight:r}=T.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),s=e.getHeaderRowClass(),[o,a]=T.useState(()=>r+"px"),[l,u]=T.useState(()=>i+"px"),[c,d]=T.useState(()=>e.getHeaderCtrls()),h=T.useRef(null),f=T.useCallback(C=>{if(h.current=C,!C)return;const S={setHeight:y=>a(y),setTop:y=>u(y),setHeaderCtrls:(y,w,E)=>{CB(E,()=>{d(b=>yB(b,y,w))})},setWidth:y=>{h.current&&(h.current.style.width=y)}};e.setComp(S,!1)},[]),g=T.useMemo(()=>({height:o,top:l}),[o,l]),v=T.useCallback(C=>{switch(e.getType()){case w1.COLUMN_GROUP:return W.createElement(lNe,{ctrl:C,key:C.getInstanceId()});case w1.FLOATING_FILTER:return W.createElement(cNe,{ctrl:C,key:C.getInstanceId()});default:return W.createElement(oNe,{ctrl:C,key:C.getInstanceId()})}},[]);return W.createElement("div",{ref:f,className:s,role:"row",style:g,"aria-rowindex":n},c.map(v))},hNe=T.memo(dNe),pNe=t=>{const[e,i]=T.useState(!0),[r,n]=T.useState([]),{context:s}=T.useContext(Is),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),u=t.pinned==="left",c=t.pinned==="right",d=!u&&!c,h=T.useCallback(v=>{if(o.current=v,!o.current){s.destroyBean(l.current),l.current=null;return}const C={setDisplayed:i,setCtrls:S=>n(S),setCenterWidth:S=>{a.current&&(a.current.style.width=S)},setViewportScrollLeft:S=>{o.current&&(o.current.scrollLeft=S)},setPinnedContainerWidth:S=>{o.current&&(o.current.style.width=S,o.current.style.minWidth=S,o.current.style.maxWidth=S)}};l.current=s.createBean(new dh(t.pinned)),l.current.setComp(C,o.current)},[]),f=e?"":"ag-hidden",g=()=>r.map(v=>W.createElement(hNe,{ctrl:v,key:v.getInstanceId()}));return W.createElement(W.Fragment,null,u&&W.createElement("div",{ref:h,className:"ag-pinned-left-header "+f,"aria-hidden":!e,role:"rowgroup"},g()),c&&W.createElement("div",{ref:h,className:"ag-pinned-right-header "+f,"aria-hidden":!e,role:"rowgroup"},g()),d&&W.createElement("div",{ref:h,className:"ag-header-viewport "+f,role:"presentation"},W.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},g())))},HL=T.memo(pNe),fNe=()=>{const[t,e]=T.useState(()=>new Ra),[i,r]=T.useState(),{context:n}=T.useContext(Is),s=T.useRef(null),o=T.useRef(null),a=T.useCallback(c=>{if(s.current=c,!c){n.destroyBean(o.current),o.current=null;return}const d={addOrRemoveCssClass:(h,f)=>e(g=>g.setClass(h,f)),setHeightAndMinHeight:h=>r(h)};o.current=n.createBean(new hh),o.current.setComp(d,s.current,s.current)},[]),l=T.useMemo(()=>"ag-header "+t.toString(),[t]),u=T.useMemo(()=>({height:i,minHeight:i}),[i]);return W.createElement("div",{ref:a,className:l,style:u,role:"presentation"},W.createElement(HL,{pinned:"left"}),W.createElement(HL,{pinned:null}),W.createElement(HL,{pinned:"right"}))},gNe=T.memo(fNe),mNe=(t,e)=>{T.useEffect(()=>{const i=e.current;if(i){const r=i.parentElement;if(r){const n=document.createComment(t);return r.insertBefore(n,i),()=>{r.removeChild(n)}}}},[t])},Zh=mNe,vNe=t=>{const e=T.useRef(t),i=T.useRef(),r=T.useRef(!1),n=T.useRef(!1),[,s]=T.useState(0);r.current&&(n.current=!0),T.useEffect(()=>(r.current||(i.current=e.current(),r.current=!0),s(o=>o+1),()=>{n.current&&i.current&&i.current()}),[])},CNe=t=>{const[e,i]=T.useState(),{context:r,popupService:n,localeService:s,gridOptionsService:o}=T.useContext(Is);return vNe(()=>{const{editDetails:a,cellCtrl:l,eParentCell:u}=t,{compDetails:c}=a,d=o.get("stopEditingWhenCellsLoseFocus"),h=r.createBean(new Nie(c.params)),f=h.getGui();if(t.jsChildComp){const w=t.jsChildComp.getGui();w&&f.appendChild(w)}const g={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:u,ePopup:f,position:a.popupPosition,keepWithinBounds:!0},v=n.positionPopupByComponent.bind(n,g),C=s.getLocaleTextFunc(),S=n.addPopup({modal:d,eChild:f,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:u,positionCallback:v,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),y=S?S.hideFunc:void 0;return i(h),t.jsChildComp&&t.jsChildComp.afterGuiAttached&&t.jsChildComp.afterGuiAttached(),()=>{y!=null&&y(),r.destroyBean(h)}}),W.createElement(W.Fragment,null,e&&t.wrappedContent&&zE.createPortal(t.wrappedContent,e.getGui()))},L5=T.memo(CNe),yNe=(t,e,i,r,n,s)=>{const{context:o}=T.useContext(Is),a=T.useCallback(()=>{const l=n.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),n.current=void 0},[]);T.useEffect(()=>{const l=t!=null,u=t&&t.compDetails&&!t.compDetails.componentFromFramework,c=e&&i==null;if(!(l&&u&&!c)){a();return}const h=t.compDetails;if(n.current){const S=n.current,w=S.refresh!=null&&t.force==!1?S.refresh(h.params):!1;if(w===!0||w===void 0)return;a()}const f=h.newAgStackInstance();if(!f)return;const g=f.resolveNow(null,S=>S);if(!g)return;const v=g.getGui();if(!v)return;(e?i:s.current).appendChild(v),n.current=g},[t,e,r]),T.useEffect(()=>a,[])},SNe=yNe,wNe=class{constructor(t,e){this.cellEditorParams=t,this.refreshProps=e,this.instanceCreated=new Tr(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=t.value}getProps(){return bs(rr({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(t){this.cellEditorParams=t,this.refreshProps()}setMethods(t){vB(this.getOptionalMethods(),t,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(t){var e;this.componentInstance=t,(e=this.resolveInstanceCreated)==null||e.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(t){this.value=t,this.refreshProps()}},ENe=(t,e,i)=>{const r=i.getColumn();if(!t&&e.isPopup&&e.isPopup()){const n=`AG Grid: Found an issue in column ${r.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;ft.doOnce(()=>console.warn(n),"jsEditorComp-isPopup-"+i.getColumn().getColId())}if(t&&e.getPopupPosition&&e.getPopupPosition()!=null){const n=`AG Grid: Found an issue in column ${r.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;ft.doOnce(()=>console.warn(n),"jsEditorComp-getPopupPosition-"+i.getColumn().getColId())}},bNe=(t,e,i)=>{const{compProxy:r}=t;i(r);const n=r.getProps(),s=hC(e);return W.createElement(mB.Provider,{value:{setMethods:o=>r.setMethods(o)}},s&&W.createElement(e,rr({},n)),!s&&W.createElement(e,bs(rr({},n),{ref:o=>r.setRef(o)})))},_5=(t,e,i)=>{const r=t.compProxy;return W.createElement(W.Fragment,null,!r&&W.createElement(e,bs(rr({},t.compDetails.params),{ref:i})),r&&bNe(t,e,i))},RNe=(t,e,i,r,n,s)=>{const o=t.compDetails,a=o.componentClass,l=o.componentFromFramework&&!t.popup,u=o.componentFromFramework&&t.popup,c=!o.componentFromFramework&&t.popup;return W.createElement(W.Fragment,null,l&&_5(t,a,e),u&&W.createElement(L5,{editDetails:t,cellCtrl:n,eParentCell:r,wrappedContent:_5(t,a,i)}),c&&s&&W.createElement(L5,{editDetails:t,cellCtrl:n,eParentCell:r,jsChildComp:s}))},TNe=(t,e,i,r,n,s,o)=>{const{compDetails:a,value:l}=t,u=!a,c=a&&a.componentFromFramework,d=a&&a.componentClass,h=l!=null&&l.toString?l.toString():l,f=()=>W.createElement(W.Fragment,null,u&&W.createElement(W.Fragment,null,h),c&&!s&&W.createElement(d,bs(rr({},a.params),{key:e,ref:r})),c&&s&&W.createElement(d,bs(rr({},a.params),{key:e})));return W.createElement(W.Fragment,null,n?W.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:o},f()):f())},DNe=t=>{const{context:e}=T.useContext(Is),{cellCtrl:i,printLayout:r,editingRow:n}=t,s=i.getTabIndex(),o=i.getColumnIdSanitised(),a=i.getInstanceId(),[l,u]=T.useState(()=>i.isCellRenderer()?void 0:{compDetails:void 0,value:i.getValueToDisplay(),force:!1}),[c,d]=T.useState(),[h,f]=T.useState(1),[g,v]=T.useState(),[C,S]=T.useState(!1),[y,w]=T.useState(!1),[E,b]=T.useState(!1),[D,P]=T.useState(),O=T.useMemo(()=>i.isForceWrapper(),[i]),N=T.useMemo(()=>i.getCellAriaRole(),[i]),_=T.useRef(null),L=T.useRef(null),k=T.useRef(),$=T.useRef(),U=T.useRef(),K=T.useRef([]),j=T.useRef(),[Q,H]=T.useState(0),X=T.useCallback(Ce=>{j.current=Ce,H(re=>re+1)},[]),te=l!=null&&(C||E||y),le=O||te,J=T.useCallback((Ce,re)=>{$.current=re,re&&(ENe(Ce,re,i),re.isCancelBeforeStart&&re.isCancelBeforeStart()&&setTimeout(()=>{i.stopEditing(!0),i.focusCell(!0)}))},[i]),ie=T.useCallback(Ce=>J(!0,Ce),[J]),ue=T.useCallback(Ce=>J(!1,Ce),[J]);let me=T.useRef();me.current||(me.current=new Tb(()=>_.current)),SNe(l,le,j.current,Q,k,_);const se=T.useRef();T.useLayoutEffect(()=>{const Ce=se.current,re=l;if(se.current=l,Ce==null||Ce.compDetails==null||re==null||re.compDetails==null)return;const oe=Ce.compDetails,fe=re.compDetails;if(oe.componentClass!=fe.componentClass||L.current==null||L.current.refresh==null)return;L.current.refresh(fe.params)!=!0&&f(Ue=>Ue+1)},[l]),T.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const re=c.compDetails,oe=c.popup===!0,fe=nNe(re);if(!fe)return;const we=fe.getGui();if(J(oe,fe),!oe){const Ue=(O?U:_).current;Ue==null||Ue.appendChild(we),fe.afterGuiAttached&&fe.afterGuiAttached()}return P(fe),()=>{e.destroyBean(fe),J(oe,void 0),P(void 0),we&&we.parentElement&&we.parentElement.removeChild(we)}},[c]);const he=T.useCallback(Ce=>{if(U.current=Ce,!U.current){K.current.forEach(oe=>oe()),K.current=[];return}const re=oe=>{var fe;if(oe){const we=oe.getGui();(fe=U.current)==null||fe.insertAdjacentElement("afterbegin",we),K.current.push(()=>{e.destroyBean(oe),ft.removeFromParent(we)})}return oe};if(C){const oe=i.createSelectionCheckbox();re(oe)}E&&re(i.createDndSource()),y&&re(i.createRowDragComp())},[i,e,E,y,C]),Ee=T.useCallback(Ce=>{if(_.current=Ce,!_.current||!i)return;const re={addOrRemoveCssClass:(fe,we)=>me.current.addOrRemoveCssClass(fe,we),setUserStyles:fe=>v(fe),getFocusableElement:()=>_.current,setIncludeSelection:fe=>S(fe),setIncludeRowDrag:fe=>w(fe),setIncludeDndSource:fe=>b(fe),getCellEditor:()=>$.current||null,getCellRenderer:()=>L.current?L.current:k.current,getParentOfValue:()=>j.current?j.current:U.current?U.current:_.current,setRenderDetails:(fe,we,Ue)=>{u(Be=>(Be==null?void 0:Be.compDetails)!==fe||(Be==null?void 0:Be.value)!==we||(Be==null?void 0:Be.force)!==Ue?{value:we,compDetails:fe,force:Ue}:Be)},setEditDetails:(fe,we,Ue,Be)=>{if(fe){let Ve;Be?Ve=new wNe(fe.params,()=>f(qe=>qe+1)):fe.componentFromFramework&&SB(),d({compDetails:fe,popup:we,popupPosition:Ue,compProxy:Ve}),we||u(void 0)}else d(Ve=>{Ve!=null&&Ve.compProxy&&($.current=void 0)})}},oe=U.current||void 0;i.setComp(re,_.current,oe,r,n)},[]),pe=T.useMemo(()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&hC(l.compDetails.componentClass)),[l]);T.useLayoutEffect(()=>{var Ce;_.current&&(me.current.addOrRemoveCssClass("ag-cell-value",!le),me.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),me.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),me.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),(Ce=i.getRowCtrl())==null||Ce.setInlineEditingCss(!!c),i.shouldRestoreFocus()&&!i.isEditing()&&_.current.focus({preventScroll:!0}))});const ye=()=>W.createElement(W.Fragment,null,l!=null&&TNe(l,h,a,L,le,pe,X),c!=null&&RNe(c,ue,ie,_.current,i,D));return W.createElement("div",{ref:Ee,style:g,tabIndex:s,role:N,"col-id":o},le?W.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:he},ye()):ye())},PNe=T.memo(DNe),xNe=t=>{const{context:e,gridOptionsService:i}=T.useContext(Is),{rowCtrl:r,containerType:n}=t,s=r.getTabIndex(),o=T.useRef(r.getDomOrder()),a=r.isFullWidth(),l=r.getRowNode().displayed,[u,c]=T.useState(()=>l?r.getRowIndex():null),[d,h]=T.useState(()=>r.getRowId()),[f,g]=T.useState(()=>r.getBusinessKey()),[v,C]=T.useState(()=>r.getRowStyles()),[S,y]=T.useState(()=>null),[w,E]=T.useState(),[b,D]=T.useState(()=>l?r.getInitialRowTop(n):void 0),[P,O]=T.useState(()=>l?r.getInitialTransform(n):void 0),N=T.useRef(null),_=T.useRef(),L=T.useRef(!1),[k,$]=T.useState(0);T.useEffect(()=>{var ie;if(L.current||!w||k>10)return;const ue=(ie=N.current)==null?void 0:ie.firstChild;ue?(r.setupDetailRowAutoHeight(ue),L.current=!0):$(me=>me+1)},[w,k]);let U=T.useRef();U.current||(U.current=new Tb(()=>N.current));const K=T.useCallback(ie=>{if(N.current=ie,!N.current){r.unsetComp(n);return}if(!r.isAlive())return;const ue={setTop:D,setTransform:O,addOrRemoveCssClass:(me,se)=>U.current.addOrRemoveCssClass(me,se),setDomOrder:me=>o.current=me,setRowIndex:c,setRowId:h,setRowBusinessKey:g,setUserStyles:C,setCellCtrls:(me,se)=>{CB(se,()=>{y(he=>yB(he,me,o.current))})},showFullWidth:me=>E(me),getFullWidthCellRenderer:()=>_.current,refreshFullWidth:me=>te.current?(E(se=>bs(rr({},se),{params:me()})),!0):!_.current||!_.current.refresh?!1:_.current.refresh(me())};r.setComp(ue,N.current,n)},[]);T.useLayoutEffect(()=>$b(w,e,N.current,_),[w]);const j=T.useMemo(()=>{const ie={top:b,transform:P};return Object.assign(ie,v),ie},[b,P,v]),Q=a&&w&&w.componentFromFramework,H=!a&&S!=null,X=T.useMemo(()=>!!((w==null?void 0:w.componentFromFramework)&&hC(w.componentClass)),[w]),te=T.useRef(!1);T.useEffect(()=>{te.current=X&&!!w&&!!i.get("reactiveCustomComponents")},[X,w]);const le=()=>S==null?void 0:S.map(ie=>W.createElement(PNe,{cellCtrl:ie,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:ie.getInstanceId()})),J=()=>{const ie=w.componentClass;return W.createElement(W.Fragment,null,X&&W.createElement(ie,rr({},w.params)),!X&&W.createElement(ie,bs(rr({},w.params),{ref:_})))};return W.createElement("div",{ref:K,role:"row",style:j,"row-index":u,"row-id":d,"row-business-key":f,tabIndex:s},H&&le(),Q&&J())},ANe=T.memo(xNe),ONe=t=>{const{context:e}=T.useContext(Is),{name:i}=t,r=T.useMemo(()=>Iie(i),[i]),n=T.useRef(null),s=T.useRef(null),o=T.useRef([]),[a,l]=T.useState(()=>[]),u=T.useRef(!1),c=T.useRef(),d=T.useMemo(()=>hx.getRowContainerCssClasses(i),[i]),h=T.useMemo(()=>nu(d.viewport),[d]),f=T.useMemo(()=>nu(d.container),[d]),g=i===Mr.CENTER||i===Mr.TOP_CENTER||i===Mr.BOTTOM_CENTER||i===Mr.STICKY_TOP_CENTER,v=g?n:s;Zh(" AG Row Container "+i+" ",v);const C=T.useCallback(()=>g?n.current!=null&&s.current!=null:s.current!=null,[]),S=T.useCallback(()=>g?n.current==null&&s.current==null:s.current==null,[]),y=T.useCallback(()=>{if(S()&&(e.destroyBean(c.current),c.current=null),C()){const D=O=>{CB(O,()=>{l(N=>yB(N,o.current,u.current))})},P={setViewportHeight:O=>{n.current&&(n.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:N})=>{const _=!!N&&o.current.length>0&&O.length>0;o.current=O,D(_)},setDomOrder:O=>{u.current!=O&&(u.current=O,D(!1))},setContainerWidth:O=>{s.current&&(s.current.style.width=O)}};c.current=e.createBean(new hx(i)),c.current.setComp(P,s.current,n.current)}},[C,S]),w=T.useCallback(D=>{s.current=D,y()},[y]),E=T.useCallback(D=>{n.current=D,y()},[y]),b=()=>W.createElement("div",{className:f,ref:w,role:"rowgroup"},a.map(D=>W.createElement(ANe,{rowCtrl:D,containerType:r,key:D.getInstanceId()})));return W.createElement(W.Fragment,null,g?W.createElement("div",{className:h,ref:E,role:"presentation"},b()):b())},MNe=T.memo(ONe),FNe=()=>{const{context:t,agStackComponentsRegistry:e,resizeObserverService:i}=T.useContext(Is),[r,n]=T.useState(""),[s,o]=T.useState(0),[a,l]=T.useState(0),[u,c]=T.useState("0px"),[d,h]=T.useState("0px"),[f,g]=T.useState("100%"),[v,C]=T.useState(""),[S,y]=T.useState(""),[w,E]=T.useState(null),[b,D]=T.useState(""),[P,O]=T.useState(null),[N,_]=T.useState("ag-layout-normal");let L=T.useRef();L.current||(L.current=new Tb(()=>k.current));const k=T.useRef(null),$=T.useRef(null),U=T.useRef(null),K=T.useRef(null),j=T.useRef(null),Q=T.useRef(null),H=T.useRef([]),X=T.useRef([]);Zh(" AG Grid Body ",k),Zh(" AG Pinned Top ",$),Zh(" AG Sticky Top ",U),Zh(" AG Middle ",j),Zh(" AG Pinned Bottom ",Q);const te=T.useCallback(re=>{if(k.current=re,!k.current){t.destroyBeans(H.current),X.current.forEach(Be=>Be()),H.current=[],X.current=[];return}if(!t)return;const oe=Be=>{const Ve=e.getComponentClass(Be),qe=t.createBean(new Ve);return H.current.push(qe),qe},fe=(Be,Ve)=>{Be.appendChild(Ve),X.current.push(()=>Be.removeChild(Ve))};fe(k.current,document.createComment(" AG Fake Horizontal Scroll ")),fe(k.current,oe("AG-FAKE-HORIZONTAL-SCROLL").getGui()),fe(k.current,document.createComment(" AG Overlay Wrapper ")),fe(k.current,oe("AG-OVERLAY-WRAPPER").getGui()),K.current&&(fe(K.current,document.createComment(" AG Fake Vertical Scroll ")),fe(K.current,oe("AG-FAKE-VERTICAL-SCROLL").getGui()));const we={setRowAnimationCssOnBodyViewport:n,setColumnCount:Be=>{k.current&&ft.setAriaColCount(k.current,Be)},setRowCount:Be=>{k.current&&ft.setAriaRowCount(k.current,Be)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:c,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:C,setBottomDisplay:y,setColumnMovingCss:(Be,Ve)=>L.current.addOrRemoveCssClass(Be,Ve),updateLayoutClasses:_,setAlwaysVerticalScrollClass:E,setPinnedTopBottomOverflowY:D,setCellSelectableCss:(Be,Ve)=>O(Ve?Be:null),setBodyViewportWidth:Be=>{j.current&&(j.current.style.width=Be)},registerBodyViewportResizeListener:Be=>{if(j.current){const Ve=i.observeResize(j.current,Be);X.current.push(()=>Ve())}}},Ue=t.createBean(new os);H.current.push(Ue),Ue.setComp(we,k.current,j.current,$.current,Q.current,U.current)},[]),le=T.useMemo(()=>nu("ag-root","ag-unselectable",N),[N]),J=T.useMemo(()=>nu("ag-body-viewport",r,N,w,P),[r,N,w,P]),ie=T.useMemo(()=>nu("ag-body",N),[N]),ue=T.useMemo(()=>nu("ag-floating-top",P),[P]),me=T.useMemo(()=>nu("ag-sticky-top",P),[P]),se=T.useMemo(()=>nu("ag-floating-bottom",P),[P]),he=T.useMemo(()=>({height:s,minHeight:s,display:v,overflowY:b}),[s,v,b]),Ee=T.useMemo(()=>({height:u,top:d,width:f}),[u,d,f]),pe=T.useMemo(()=>({height:a,minHeight:a,display:S,overflowY:b}),[a,S,b]),ye=re=>W.createElement(MNe,{name:re,key:`${re}-container`}),Ce=({section:re,children:oe,className:fe,style:we})=>W.createElement("div",{ref:re,className:fe,role:"presentation",style:we},oe.map(ye));return W.createElement("div",{ref:te,className:le,role:"treegrid"},W.createElement(gNe,null),Ce({section:$,className:ue,style:he,children:[Mr.TOP_LEFT,Mr.TOP_CENTER,Mr.TOP_RIGHT,Mr.TOP_FULL_WIDTH]}),W.createElement("div",{className:ie,ref:K,role:"presentation"},Ce({section:j,className:J,children:[Mr.LEFT,Mr.CENTER,Mr.RIGHT,Mr.FULL_WIDTH]})),Ce({section:U,className:me,style:Ee,children:[Mr.STICKY_TOP_LEFT,Mr.STICKY_TOP_CENTER,Mr.STICKY_TOP_RIGHT,Mr.STICKY_TOP_FULL_WIDTH]}),Ce({section:Q,className:se,style:pe,children:[Mr.BOTTOM_LEFT,Mr.BOTTOM_CENTER,Mr.BOTTOM_RIGHT,Mr.BOTTOM_FULL_WIDTH]}))},INe=T.memo(FNe),LNe=(t,e)=>{const{children:i,eFocusableElement:r,onTabKeyDown:n,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o}=t,{context:a}=T.useContext(Is),l=T.useRef(null),u=T.useRef(null),c=T.useRef(),d=C=>{const S=C==null?void 0:parseInt(C,10).toString();[l,u].forEach(y=>{var w,E;S===void 0?(w=y.current)==null||w.removeAttribute("tabindex"):(E=y.current)==null||E.setAttribute("tabindex",S)})};T.useImperativeHandle(e,()=>({forceFocusOutOfContainer(C){var S;(S=c.current)==null||S.forceFocusOutOfContainer(C)}}));const h=T.useCallback(()=>{if(!l.current&&!u.current){a.destroyBean(c.current),c.current=null;return}if(l.current&&u.current){const C={setTabIndex:d};c.current=a.createBean(new NO({comp:C,eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:r,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:S=>s.focusInnerElement(S)}))}},[]),f=T.useCallback(C=>{l.current=C,h()},[h]),g=T.useCallback(C=>{u.current=C,h()},[h]),v=C=>{const S=C==="top"?OD.TAB_GUARD_TOP:OD.TAB_GUARD_BOTTOM;return W.createElement("div",{className:`${OD.TAB_GUARD} ${S}`,role:"presentation",ref:C==="top"?f:g})};return W.createElement(W.Fragment,null,v("top"),i,v("bottom"))},_Ne=T.forwardRef(LNe),NNe=T.memo(_Ne),GNe=({context:t})=>{const[e,i]=T.useState(""),[r,n]=T.useState(""),[s,o]=T.useState(""),[a,l]=T.useState(null),[u,c]=T.useState(null),[d,h]=T.useState(!1),[f,g]=T.useState(),v=T.useRef(null),C=T.useRef(null),S=T.useRef(),[y,w]=T.useState(null),E=T.useRef(()=>{}),b=T.useCallback(()=>{},[]),D=T.useMemo(()=>t.isDestroyed()?null:t.getBean("beans"),[t]);Zh(" AG Grid ",C);const P=T.useCallback(k=>{if(C.current=k,!C.current){t.destroyBean(v.current),v.current=null;return}if(t.isDestroyed())return;v.current=t.createBean(new mh);const $=v.current;E.current=$.focusInnerElement.bind($);const U={destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:K=>{var j;(j=S.current)==null||j.forceFocusOutOfContainer(K)},updateLayoutClasses:o,getFocusableContainers:()=>{var K,j;const Q=[],H=(K=C.current)==null?void 0:K.querySelector(".ag-root"),X=(j=C.current)==null?void 0:j.querySelector(".ag-side-bar:not(.ag-hidden)");return H&&Q.push(H),X&&Q.push(X),Q},setCursor:l,setUserSelect:c};$.setComp(U,C.current,C.current),h(!0)},[]);T.useEffect(()=>{if(!f||!D||!v.current||!y||!C.current)return;const k=v.current,$=[],{agStackComponentsRegistry:U}=D,K=U.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),j=U.getComponentClass("AG-SIDE-BAR"),Q=U.getComponentClass("AG-STATUS-BAR"),H=U.getComponentClass("AG-WATERMARK"),X=U.getComponentClass("AG-PAGINATION"),te=[],le=C.current;if(k.showDropZones()&&K){const J=t.createBean(new K),ie=J.getGui();le.insertAdjacentElement("afterbegin",ie),te.push(ie),$.push(J)}if(k.showSideBar()&&j){const J=t.createBean(new j),ie=J.getGui(),ue=y.querySelector(".ag-tab-guard-bottom");ue&&(ue.insertAdjacentElement("beforebegin",ie),te.push(ie)),$.push(J)}if(k.showStatusBar()&&Q){const J=t.createBean(new Q),ie=J.getGui();le.insertAdjacentElement("beforeend",ie),te.push(ie),$.push(J)}if(X){const J=t.createBean(new X),ie=J.getGui();le.insertAdjacentElement("beforeend",ie),te.push(ie),$.push(J)}if(k.showWatermark()&&H){const J=t.createBean(new H),ie=J.getGui();le.insertAdjacentElement("beforeend",ie),te.push(ie),$.push(J)}return()=>{t.destroyBeans($),te.forEach(J=>{J.parentElement&&J.parentElement.removeChild(J)})}},[f,y,D]);const O=T.useMemo(()=>nu("ag-root-wrapper",e,r,s),[e,r,s]),N=T.useMemo(()=>nu("ag-root-wrapper-body","ag-focus-managed",s),[s]),_=T.useMemo(()=>({userSelect:u??"",WebkitUserSelect:u??"",cursor:a??""}),[u,a]),L=T.useCallback(k=>{S.current=k,g(k!==null)},[]);return W.createElement("div",{ref:P,className:O,style:_,role:"presentation"},W.createElement("div",{className:N,ref:w,role:"presentation"},d&&y&&D&&W.createElement(Is.Provider,{value:D},W.createElement(NNe,{ref:L,eFocusableElement:y,onTabKeyDown:b,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},W.createElement(INe,null)))))},kNe=T.memo(GNe),nne=t=>{var e,i;const r=T.useRef(),n=T.useRef(null),s=T.useRef(null),o=T.useRef([]),a=T.useRef([]),l=T.useRef(t),u=T.useRef(!1),[c,d]=T.useState(void 0),[,h]=T.useState(0),f=T.useCallback(C=>{if(n.current=C,!n.current){o.current.forEach(P=>P()),o.current.length=0;return}const S=t.modules||[];s.current||(s.current=new tNe(()=>h(P=>P+1),t.componentWrappingElement,t.maxComponentCreationTimeMs),o.current.push(()=>{var P;(P=s.current)==null||P.destroy(),s.current=null}));const y=ox.combineAttributesAndGridOptions(t.gridOptions,t),w={providedBeanInstances:{frameworkComponentWrapper:new HNe(s.current,!!y.reactiveCustomComponents)},modules:S,frameworkOverrides:new BNe},E=P=>{d(P),o.current.push(()=>{P.destroy()}),P.getBean(Ap.NAME).whenReady(()=>{if(P.isDestroyed())return;const N=r.current;N&&t.setGridApi&&t.setGridApi(N,new ev(N))})},b=P=>{P.getBean(Ap.NAME).whenReady(()=>{a.current.forEach(N=>N()),a.current.length=0,u.current=!0})},D=new cIe;r.current=D.create(n.current,y,E,b,w)},[]),g=T.useMemo(()=>rr({height:"100%"},t.containerStyle||{}),[t.containerStyle]),v=T.useCallback(C=>{u.current?C():a.current.push(C)},[]);return T.useEffect(()=>{const C=VNe(l.current,t);l.current=t,v(()=>{r.current&&ox.processOnChange(C,r.current)})},[t]),W.createElement("div",{style:g,className:t.className,ref:f},c&&!c.isDestroyed()?W.createElement(kNe,{context:c}):null,(i=(e=s.current)==null?void 0:e.getPortals())!=null?i:null)};function VNe(t,e){const i={};return Object.keys(e).forEach(r=>{const n=e[r];t[r]!==n&&(i[r]=n)}),i}var HNe=class extends dIe{constructor(t,e){super(),this.parent=t,this.reactiveCustomComponents=e}createWrapper(t,e){if(this.reactiveCustomComponents){const n=(s=>{switch(s){case"filter":return K_e;case"floatingFilterComponent":return q_e;case"dateComponent":return j_e;case"loadingOverlayComponent":return X_e;case"noRowsOverlayComponent":return Z_e;case"statusPanel":return J_e;case"toolPanel":return eNe;case"menuItem":return Q_e}})(e.propertyName);if(n)return new n(t,this.parent,e)}else switch(e.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":SB();break}const i=!e.cellRenderer&&e.propertyName!=="toolPanel";return new Zre(t,this.parent,e,i)}},$Ne=T.forwardRef((t,e)=>{const{ctrlsFactory:i,context:r,gridOptionsService:n,resizeObserverService:s,clientSideRowModel:o,serverSideRowModel:a}=T.useContext(Is),[l,u]=T.useState(()=>new Ra),[c,d]=T.useState(()=>new Ra),[h,f]=T.useState(),[g,v]=T.useState(),C=T.useRef(),S=T.useRef(null),y=T.useRef(),w=T.useMemo(()=>Jt.__getGridRegisteredModules(t.api.getGridId()),[t]),E=T.useMemo(()=>l.toString()+" ag-details-row",[l]),b=T.useMemo(()=>c.toString()+" ag-details-grid",[c]);e&&T.useImperativeHandle(e,()=>({refresh(){var O,N;return(N=(O=C.current)==null?void 0:O.refresh())!=null?N:!1}})),t.template&&ft.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const D=T.useCallback(O=>{if(S.current=O,!S.current){r.destroyBean(C.current),y.current&&y.current();return}const N={addOrRemoveCssClass:(L,k)=>u($=>$.setClass(L,k)),addOrRemoveDetailGridCssClass:(L,k)=>d($=>$.setClass(L,k)),setDetailGrid:L=>f(L),setRowData:L=>v(L),getGui:()=>S.current},_=i.getInstance("detailCellRenderer");if(_&&(r.createBean(_),_.init(N,t),C.current=_,n.get("detailRowAutoHeight"))){const L=()=>{if(S.current==null)return;const k=S.current.clientHeight;k!=null&&k>0&&setTimeout(()=>{t.node.setRowHeight(k),o?o.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};y.current=s.observeResize(S.current,L),L()}},[]),P=T.useCallback((O,N)=>{var _;(_=C.current)==null||_.registerDetailWithMaster(O,N)},[]);return W.createElement("div",{className:E,ref:D},h&&W.createElement(nne,bs(rr({className:b},h),{modules:w,rowData:g,setGridApi:P})))}),BNe=class extends qie{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:I5,agGroupRowRenderer:I5,agDetailCellRenderer:$Ne},this.wrapIncoming=(t,e)=>e==="ensureVisible"?rNe(t):t(),this.renderingEngine="react"}frameworkComponent(t){return this.frameworkComponents[t]}isFrameworkComponent(t){if(!t)return!1;const e=t.prototype;return!(e&&"getGui"in e)}},sne=class extends T.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(t,e)=>{this.api=t,this.columnApi=e,this.apiListeners.forEach(i=>i(t))}}registerApiListener(t){this.apiListeners.push(t)}componentWillUnmount(){this.apiListeners.length=0}render(){return W.createElement(nne,bs(rr({},this.props),{setGridApi:this.setGridApi}))}},wB={},WNe=Gu;Object.defineProperty(wB,"__esModule",{value:!0});var EB=wB.default=void 0,UNe=WNe(sh()),zNe=Y;EB=wB.default=(0,UNe.default)((0,zNe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var bB={},jNe=Gu;Object.defineProperty(bB,"__esModule",{value:!0});var one=bB.default=void 0,KNe=jNe(sh()),YNe=Y;one=bB.default=(0,KNe.default)((0,YNe.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp");const ane="base";function qNe(t){return`${ane}--${t}`}function XNe(t,e){return`${ane}-${t}-${e}`}function lne(t,e){const i=nQ[e];return i?qNe(i):XNe(t,e)}function QNe(t,e){const i={};return e.forEach(r=>{i[r]=lne(t,r)}),i}var to="top",Va="bottom",Ha="right",io="left",RB="auto",Bb=[to,Va,Ha,io],lv="start",Hw="end",ZNe="clippingParents",une="viewport",ny="popper",JNe="reference",N5=Bb.reduce(function(t,e){return t.concat([e+"-"+lv,e+"-"+Hw])},[]),TB=[].concat(Bb,[RB]).reduce(function(t,e){return t.concat([e,e+"-"+lv,e+"-"+Hw])},[]),e1e="beforeRead",t1e="read",i1e="afterRead",r1e="beforeMain",n1e="main",s1e="afterMain",o1e="beforeWrite",a1e="write",l1e="afterWrite",u1e=[e1e,t1e,i1e,r1e,n1e,s1e,o1e,a1e,l1e];function Iu(t){return t?(t.nodeName||"").toLowerCase():null}function Uo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function af(t){var e=Uo(t).Element;return t instanceof e||t instanceof Element}function Ma(t){var e=Uo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function DB(t){if(typeof ShadowRoot>"u")return!1;var e=Uo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function c1e(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var r=e.styles[i]||{},n=e.attributes[i]||{},s=e.elements[i];!Ma(s)||!Iu(s)||(Object.assign(s.style,r),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function d1e(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(r){var n=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:i[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Ma(n)||!Iu(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}const h1e={name:"applyStyles",enabled:!0,phase:"write",fn:c1e,effect:d1e,requires:["computeStyles"]};function vu(t){return t.split("-")[0]}var Op=Math.max,Ix=Math.min,uv=Math.round;function B1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cne(){return!/^((?!chrome|android).)*safari/i.test(B1())}function cv(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var r=t.getBoundingClientRect(),n=1,s=1;e&&Ma(t)&&(n=t.offsetWidth>0&&uv(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&uv(r.height)/t.offsetHeight||1);var o=af(t)?Uo(t):window,a=o.visualViewport,l=!cne()&&i,u=(r.left+(l&&a?a.offsetLeft:0))/n,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/n,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function PB(t){var e=cv(t),i=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:r}}function dne(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&DB(i)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dc(t){return Uo(t).getComputedStyle(t)}function p1e(t){return["table","td","th"].indexOf(Iu(t))>=0}function Ch(t){return((af(t)?t.ownerDocument:t.document)||window.document).documentElement}function jO(t){return Iu(t)==="html"?t:t.assignedSlot||t.parentNode||(DB(t)?t.host:null)||Ch(t)}function G5(t){return!Ma(t)||Dc(t).position==="fixed"?null:t.offsetParent}function f1e(t){var e=/firefox/i.test(B1()),i=/Trident/i.test(B1());if(i&&Ma(t)){var r=Dc(t);if(r.position==="fixed")return null}var n=jO(t);for(DB(n)&&(n=n.host);Ma(n)&&["html","body"].indexOf(Iu(n))<0;){var s=Dc(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Wb(t){for(var e=Uo(t),i=G5(t);i&&p1e(i)&&Dc(i).position==="static";)i=G5(i);return i&&(Iu(i)==="html"||Iu(i)==="body"&&Dc(i).position==="static")?e:i||f1e(t)||e}function xB(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fS(t,e,i){return Op(t,Ix(e,i))}function g1e(t,e,i){var r=fS(t,e,i);return r>i?i:r}function hne(){return{top:0,right:0,bottom:0,left:0}}function pne(t){return Object.assign({},hne(),t)}function fne(t,e){return e.reduce(function(i,r){return i[r]=t,i},{})}var m1e=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,pne(typeof e!="number"?e:fne(e,Bb))};function v1e(t){var e,i=t.state,r=t.name,n=t.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=vu(i.placement),l=xB(a),u=[io,Ha].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=m1e(n.padding,i),h=PB(s),f=l==="y"?to:io,g=l==="y"?Va:Ha,v=i.rects.reference[c]+i.rects.reference[l]-o[l]-i.rects.popper[c],C=o[l]-i.rects.reference[l],S=Wb(s),y=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=v/2-C/2,E=d[f],b=y-h[c]-d[g],D=y/2-h[c]/2+w,P=fS(E,D,b),O=l;i.modifiersData[r]=(e={},e[O]=P,e.centerOffset=P-D,e)}}function C1e(t){var e=t.state,i=t.options,r=i.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||dne(e.elements.popper,n)&&(e.elements.arrow=n))}const gne={name:"arrow",enabled:!0,phase:"main",fn:v1e,effect:C1e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dv(t){return t.split("-")[1]}var y1e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function S1e(t,e){var i=t.x,r=t.y,n=e.devicePixelRatio||1;return{x:uv(i*n)/n||0,y:uv(r*n)/n||0}}function k5(t){var e,i=t.popper,r=t.popperRect,n=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,g=o.y,v=g===void 0?0:g,C=typeof c=="function"?c({x:f,y:v}):{x:f,y:v};f=C.x,v=C.y;var S=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),w=io,E=to,b=window;if(u){var D=Wb(i),P="clientHeight",O="clientWidth";if(D===Uo(i)&&(D=Ch(i),Dc(D).position!=="static"&&a==="absolute"&&(P="scrollHeight",O="scrollWidth")),D=D,n===to||(n===io||n===Ha)&&s===Hw){E=Va;var N=d&&D===b&&b.visualViewport?b.visualViewport.height:D[P];v-=N-r.height,v*=l?1:-1}if(n===io||(n===to||n===Va)&&s===Hw){w=Ha;var _=d&&D===b&&b.visualViewport?b.visualViewport.width:D[O];f-=_-r.width,f*=l?1:-1}}var L=Object.assign({position:a},u&&y1e),k=c===!0?S1e({x:f,y:v},Uo(i)):{x:f,y:v};if(f=k.x,v=k.y,l){var $;return Object.assign({},L,($={},$[E]=y?"0":"",$[w]=S?"0":"",$.transform=(b.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",$))}return Object.assign({},L,(e={},e[E]=y?v+"px":"",e[w]=S?f+"px":"",e.transform="",e))}function w1e(t){var e=t.state,i=t.options,r=i.gpuAcceleration,n=r===void 0?!0:r,s=i.adaptive,o=s===void 0?!0:s,a=i.roundOffsets,l=a===void 0?!0:a,u={placement:vu(e.placement),variation:dv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,k5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,k5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const mne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:w1e,data:{}};var FT={passive:!0};function E1e(t){var e=t.state,i=t.instance,r=t.options,n=r.scroll,s=n===void 0?!0:n,o=r.resize,a=o===void 0?!0:o,l=Uo(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",i.update,FT)}),a&&l.addEventListener("resize",i.update,FT),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",i.update,FT)}),a&&l.removeEventListener("resize",i.update,FT)}}const vne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:E1e,data:{}};var b1e={left:"right",right:"left",bottom:"top",top:"bottom"};function WD(t){return t.replace(/left|right|bottom|top/g,function(e){return b1e[e]})}var R1e={start:"end",end:"start"};function V5(t){return t.replace(/start|end/g,function(e){return R1e[e]})}function AB(t){var e=Uo(t),i=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:i,scrollTop:r}}function OB(t){return cv(Ch(t)).left+AB(t).scrollLeft}function T1e(t,e){var i=Uo(t),r=Ch(t),n=i.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;var u=cne();(u||!u&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a+OB(t),y:l}}function D1e(t){var e,i=Ch(t),r=AB(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=Op(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Op(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+OB(t),l=-r.scrollTop;return Dc(n||i).direction==="rtl"&&(a+=Op(i.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function MB(t){var e=Dc(t),i=e.overflow,r=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function Cne(t){return["html","body","#document"].indexOf(Iu(t))>=0?t.ownerDocument.body:Ma(t)&&MB(t)?t:Cne(jO(t))}function gS(t,e){var i;e===void 0&&(e=[]);var r=Cne(t),n=r===((i=t.ownerDocument)==null?void 0:i.body),s=Uo(r),o=n?[s].concat(s.visualViewport||[],MB(r)?r:[]):r,a=e.concat(o);return n?a:a.concat(gS(jO(o)))}function W1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function P1e(t,e){var i=cv(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function H5(t,e,i){return e===une?W1(T1e(t,i)):af(e)?P1e(e,i):W1(D1e(Ch(t)))}function x1e(t){var e=gS(jO(t)),i=["absolute","fixed"].indexOf(Dc(t).position)>=0,r=i&&Ma(t)?Wb(t):t;return af(r)?e.filter(function(n){return af(n)&&dne(n,r)&&Iu(n)!=="body"}):[]}function A1e(t,e,i,r){var n=e==="clippingParents"?x1e(t):[].concat(e),s=[].concat(n,[i]),o=s[0],a=s.reduce(function(l,u){var c=H5(t,u,r);return l.top=Op(c.top,l.top),l.right=Ix(c.right,l.right),l.bottom=Ix(c.bottom,l.bottom),l.left=Op(c.left,l.left),l},H5(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function yne(t){var e=t.reference,i=t.element,r=t.placement,n=r?vu(r):null,s=r?dv(r):null,o=e.x+e.width/2-i.width/2,a=e.y+e.height/2-i.height/2,l;switch(n){case to:l={x:o,y:e.y-i.height};break;case Va:l={x:o,y:e.y+e.height};break;case Ha:l={x:e.x+e.width,y:a};break;case io:l={x:e.x-i.width,y:a};break;default:l={x:e.x,y:e.y}}var u=n?xB(n):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case lv:l[u]=l[u]-(e[c]/2-i[c]/2);break;case Hw:l[u]=l[u]+(e[c]/2-i[c]/2);break}}return l}function $w(t,e){e===void 0&&(e={});var i=e,r=i.placement,n=r===void 0?t.placement:r,s=i.strategy,o=s===void 0?t.strategy:s,a=i.boundary,l=a===void 0?ZNe:a,u=i.rootBoundary,c=u===void 0?une:u,d=i.elementContext,h=d===void 0?ny:d,f=i.altBoundary,g=f===void 0?!1:f,v=i.padding,C=v===void 0?0:v,S=pne(typeof C!="number"?C:fne(C,Bb)),y=h===ny?JNe:ny,w=t.rects.popper,E=t.elements[g?y:h],b=A1e(af(E)?E:E.contextElement||Ch(t.elements.popper),l,c,o),D=cv(t.elements.reference),P=yne({reference:D,element:w,strategy:"absolute",placement:n}),O=W1(Object.assign({},w,P)),N=h===ny?O:D,_={top:b.top-N.top+S.top,bottom:N.bottom-b.bottom+S.bottom,left:b.left-N.left+S.left,right:N.right-b.right+S.right},L=t.modifiersData.offset;if(h===ny&&L){var k=L[n];Object.keys(_).forEach(function($){var U=[Ha,Va].indexOf($)>=0?1:-1,K=[to,Va].indexOf($)>=0?"y":"x";_[$]+=k[K]*U})}return _}function O1e(t,e){e===void 0&&(e={});var i=e,r=i.placement,n=i.boundary,s=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,u=l===void 0?TB:l,c=dv(r),d=c?a?N5:N5.filter(function(g){return dv(g)===c}):Bb,h=d.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=d);var f=h.reduce(function(g,v){return g[v]=$w(t,{placement:v,boundary:n,rootBoundary:s,padding:o})[vu(v)],g},{});return Object.keys(f).sort(function(g,v){return f[g]-f[v]})}function M1e(t){if(vu(t)===RB)return[];var e=WD(t);return[V5(t),e,V5(e)]}function F1e(t){var e=t.state,i=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,u=i.padding,c=i.boundary,d=i.rootBoundary,h=i.altBoundary,f=i.flipVariations,g=f===void 0?!0:f,v=i.allowedAutoPlacements,C=e.options.placement,S=vu(C),y=S===C,w=l||(y||!g?[WD(C)]:M1e(C)),E=[C].concat(w).reduce(function(ue,me){return ue.concat(vu(me)===RB?O1e(e,{placement:me,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:v}):me)},[]),b=e.rects.reference,D=e.rects.popper,P=new Map,O=!0,N=E[0],_=0;_<E.length;_++){var L=E[_],k=vu(L),$=dv(L)===lv,U=[to,Va].indexOf(k)>=0,K=U?"width":"height",j=$w(e,{placement:L,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),Q=U?$?Ha:io:$?Va:to;b[K]>D[K]&&(Q=WD(Q));var H=WD(Q),X=[];if(s&&X.push(j[k]<=0),a&&X.push(j[Q]<=0,j[H]<=0),X.every(function(ue){return ue})){N=L,O=!1;break}P.set(L,X)}if(O)for(var te=g?3:1,le=function(me){var se=E.find(function(he){var Ee=P.get(he);if(Ee)return Ee.slice(0,me).every(function(pe){return pe})});if(se)return N=se,"break"},J=te;J>0;J--){var ie=le(J);if(ie==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const Sne={name:"flip",enabled:!0,phase:"main",fn:F1e,requiresIfExists:["offset"],data:{_skip:!1}};function $5(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function B5(t){return[to,Ha,Va,io].some(function(e){return t[e]>=0})}function I1e(t){var e=t.state,i=t.name,r=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,o=$w(e,{elementContext:"reference"}),a=$w(e,{altBoundary:!0}),l=$5(o,r),u=$5(a,n,s),c=B5(l),d=B5(u);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const wne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:I1e};function L1e(t,e,i){var r=vu(t),n=[io,to].indexOf(r)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[io,Ha].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function _1e(t){var e=t.state,i=t.options,r=t.name,n=i.offset,s=n===void 0?[0,0]:n,o=TB.reduce(function(c,d){return c[d]=L1e(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const Ene={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_1e};function N1e(t){var e=t.state,i=t.name;e.modifiersData[i]=yne({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const bne={name:"popperOffsets",enabled:!0,phase:"read",fn:N1e,data:{}};function G1e(t){return t==="x"?"y":"x"}function k1e(t){var e=t.state,i=t.options,r=t.name,n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,u=i.rootBoundary,c=i.altBoundary,d=i.padding,h=i.tether,f=h===void 0?!0:h,g=i.tetherOffset,v=g===void 0?0:g,C=$w(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),S=vu(e.placement),y=dv(e.placement),w=!y,E=xB(S),b=G1e(E),D=e.modifiersData.popperOffsets,P=e.rects.reference,O=e.rects.popper,N=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,_=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(D){if(s){var $,U=E==="y"?to:io,K=E==="y"?Va:Ha,j=E==="y"?"height":"width",Q=D[E],H=Q+C[U],X=Q-C[K],te=f?-O[j]/2:0,le=y===lv?P[j]:O[j],J=y===lv?-O[j]:-P[j],ie=e.elements.arrow,ue=f&&ie?PB(ie):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hne(),se=me[U],he=me[K],Ee=fS(0,P[j],ue[j]),pe=w?P[j]/2-te-Ee-se-_.mainAxis:le-Ee-se-_.mainAxis,ye=w?-P[j]/2+te+Ee+he+_.mainAxis:J+Ee+he+_.mainAxis,Ce=e.elements.arrow&&Wb(e.elements.arrow),re=Ce?E==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,oe=($=L==null?void 0:L[E])!=null?$:0,fe=Q+pe-oe-re,we=Q+ye-oe,Ue=fS(f?Ix(H,fe):H,Q,f?Op(X,we):X);D[E]=Ue,k[E]=Ue-Q}if(a){var Be,Ve=E==="x"?to:io,qe=E==="x"?Va:Ha,mt=D[b],et=b==="y"?"height":"width",fi=mt+C[Ve],wi=mt-C[qe],Kt=[to,io].indexOf(S)!==-1,Cr=(Be=L==null?void 0:L[b])!=null?Be:0,xn=Kt?fi:mt-P[et]-O[et]-Cr+_.altAxis,xr=Kt?mt+P[et]+O[et]-Cr-_.altAxis:wi,Ht=f&&Kt?g1e(xn,mt,xr):fS(f?xn:fi,mt,f?xr:wi);D[b]=Ht,k[b]=Ht-mt}e.modifiersData[r]=k}}const Rne={name:"preventOverflow",enabled:!0,phase:"main",fn:k1e,requiresIfExists:["offset"]};function V1e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function H1e(t){return t===Uo(t)||!Ma(t)?AB(t):V1e(t)}function $1e(t){var e=t.getBoundingClientRect(),i=uv(e.width)/t.offsetWidth||1,r=uv(e.height)/t.offsetHeight||1;return i!==1||r!==1}function B1e(t,e,i){i===void 0&&(i=!1);var r=Ma(e),n=Ma(e)&&$1e(e),s=Ch(e),o=cv(t,n,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((Iu(e)!=="body"||MB(s))&&(a=H1e(e)),Ma(e)?(l=cv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=OB(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function W1e(t){var e=new Map,i=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function n(s){i.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=e.get(a);l&&n(l)}}),r.push(s)}return t.forEach(function(s){i.has(s.name)||n(s)}),r}function U1e(t){var e=W1e(t);return u1e.reduce(function(i,r){return i.concat(e.filter(function(n){return n.phase===r}))},[])}function z1e(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function j1e(t){var e=t.reduce(function(i,r){var n=i[r.name];return i[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,i},{});return Object.keys(e).map(function(i){return e[i]})}var W5={placement:"bottom",modifiers:[],strategy:"absolute"};function U5(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Tne(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,r=i===void 0?[]:i,n=e.defaultOptions,s=n===void 0?W5:n;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},W5,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(S){var y=typeof S=="function"?S(c.options):S;v(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:af(a)?gS(a):a.contextElement?gS(a.contextElement):[],popper:gS(l)};var w=U1e(j1e([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(E){return E.enabled}),g(),f.update()},forceUpdate:function(){if(!h){var S=c.elements,y=S.reference,w=S.popper;if(U5(y,w)){c.rects={reference:B1e(y,Wb(w),c.options.strategy==="fixed"),popper:PB(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(_){return c.modifiersData[_.name]=Object.assign({},_.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var b=c.orderedModifiers[E],D=b.fn,P=b.options,O=P===void 0?{}:P,N=b.name;typeof D=="function"&&(c=D({state:c,options:O,name:N,instance:f})||c)}}}},update:z1e(function(){return new Promise(function(C){f.forceUpdate(),C(c)})}),destroy:function(){v(),h=!0}};if(!U5(a,l))return f;f.setOptions(u).then(function(C){!h&&u.onFirstUpdate&&u.onFirstUpdate(C)});function g(){c.orderedModifiers.forEach(function(C){var S=C.name,y=C.options,w=y===void 0?{}:y,E=C.effect;if(typeof E=="function"){var b=E({state:c,name:S,instance:f,options:w}),D=function(){};d.push(b||D)}})}function v(){d.forEach(function(C){return C()}),d=[]}return f}}var K1e=[vne,bne,mne,h1e,Ene,Sne,Rne,gne,wne],Y1e=Tne({defaultModifiers:K1e});const Dne="Popper";function q1e(t){return lne(Dne,t)}QNe(Dne,["root"]);const X1e=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Q1e=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Z1e(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function U1(t){return typeof t=="function"?t():t}function J1e(t){return t.nodeType!==void 0}const eGe=()=>ot({root:["root"]},jTe(q1e)),tGe={},iGe=T.forwardRef(function(e,i){var r;const{anchorEl:n,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:g={},TransitionProps:v}=e,C=Oe(e,X1e),S=T.useRef(null),y=ri(S,i),w=T.useRef(null),E=ri(w,h),b=T.useRef(E);Xr(()=>{b.current=E},[E]),T.useImperativeHandle(h,()=>w.current,[]);const D=Z1e(c,o),[P,O]=T.useState(D),[N,_]=T.useState(U1(n));T.useEffect(()=>{w.current&&w.current.forceUpdate()}),T.useEffect(()=>{n&&_(U1(n))},[n]),Xr(()=>{if(!N||!u)return;const K=H=>{O(H.placement)};let j=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{K(H)}}];l!=null&&(j=j.concat(l)),d&&d.modifiers!=null&&(j=j.concat(d.modifiers));const Q=Y1e(N,S.current,G({placement:D},d,{modifiers:j}));return b.current(Q),()=>{Q.destroy(),b.current(null)}},[N,a,l,u,d,D]);const L={placement:P};v!==null&&(L.TransitionProps=v);const k=eGe(),$=(r=g.root)!=null?r:"div",U=ii({elementType:$,externalSlotProps:f.root,externalForwardedProps:C,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:k.root});return Y.jsx($,G({},U,{children:typeof s=="function"?s(L):s}))}),rGe=T.forwardRef(function(e,i){const{anchorEl:r,children:n,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=tGe,popperRef:f,style:g,transition:v=!1,slotProps:C={},slots:S={}}=e,y=Oe(e,Q1e),[w,E]=T.useState(!0),b=()=>{E(!1)},D=()=>{E(!0)};if(!l&&!c&&(!v||w))return null;let P;if(s)P=s;else if(r){const _=U1(r);P=_&&J1e(_)?on(_).body:on(null).body}const O=!c&&l&&(!v||w)?"none":void 0,N=v?{in:c,onEnter:b,onExited:D}:void 0;return Y.jsx(PQ,{disablePortal:a,container:P,children:Y.jsx(iGe,G({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:i,open:v?!w:c,placement:d,popperOptions:h,popperRef:f,slotProps:C,slots:S},y,{style:G({position:"fixed",top:0,left:0,display:O},g),TransitionProps:N,children:n}))})}),nGe=["onChange","maxRows","minRows","style","value"];function IT(t){return parseInt(t,10)||0}const sGe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function oGe(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const aGe=T.forwardRef(function(e,i){const{onChange:r,maxRows:n,minRows:s=1,style:o,value:a}=e,l=Oe(e,nGe),{current:u}=T.useRef(a!=null),c=T.useRef(null),d=ri(i,c),h=T.useRef(null),f=T.useCallback(()=>{const C=c.current,y=Su(C).getComputedStyle(C);if(y.width==="0px")return{outerHeightStyle:0,overflowing:!1};const w=h.current;w.style.width=y.width,w.value=C.value||e.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const E=y.boxSizing,b=IT(y.paddingBottom)+IT(y.paddingTop),D=IT(y.borderBottomWidth)+IT(y.borderTopWidth),P=w.scrollHeight;w.value="x";const O=w.scrollHeight;let N=P;s&&(N=Math.max(Number(s)*O,N)),n&&(N=Math.min(Number(n)*O,N)),N=Math.max(N,O);const _=N+(E==="border-box"?b+D:0),L=Math.abs(N-P)<=1;return{outerHeightStyle:_,overflowing:L}},[n,s,e.placeholder]),g=T.useCallback(()=>{const C=f();if(oGe(C))return;const S=c.current;S.style.height=`${C.outerHeightStyle}px`,S.style.overflow=C.overflowing?"hidden":""},[f]);Xr(()=>{const C=()=>{g()};let S;const y=M0(C),w=c.current,E=Su(w);E.addEventListener("resize",y);let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(C),b.observe(w)),()=>{y.clear(),cancelAnimationFrame(S),E.removeEventListener("resize",y),b&&b.disconnect()}},[f,g]),Xr(()=>{g()});const v=C=>{u||g(),r&&r(C)};return Y.jsxs(T.Fragment,{children:[Y.jsx("textarea",G({value:a,onChange:v,ref:d,rows:s,style:o},l)),Y.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:G({},sGe.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function pC({props:t,states:e,muiFormControl:i}){return e.reduce((r,n)=>(r[n]=t[n],i&&typeof t[n]>"u"&&(r[n]=i[n]),r),{})}const lGe=T.createContext(void 0),KO=lGe;function Vl(){return T.useContext(KO)}function uGe(t){return Y.jsx(GRe,G({},t,{defaultTheme:A0,themeId:O0}))}function z5(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Lx(t,e=!1){return t&&(z5(t.value)&&t.value!==""||e&&z5(t.defaultValue)&&t.defaultValue!=="")}function cGe(t){return t.startAdornment}function dGe(t){return at("MuiInputBase",t)}const hGe=lt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),hv=hGe,pGe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],YO=(t,e)=>{const{ownerState:i}=t;return[e.root,i.formControl&&e.formControl,i.startAdornment&&e.adornedStart,i.endAdornment&&e.adornedEnd,i.error&&e.error,i.size==="small"&&e.sizeSmall,i.multiline&&e.multiline,i.color&&e[`color${$e(i.color)}`],i.fullWidth&&e.fullWidth,i.hiddenLabel&&e.hiddenLabel]},qO=(t,e)=>{const{ownerState:i}=t;return[e.input,i.size==="small"&&e.inputSizeSmall,i.multiline&&e.inputMultiline,i.type==="search"&&e.inputTypeSearch,i.startAdornment&&e.inputAdornedStart,i.endAdornment&&e.inputAdornedEnd,i.hiddenLabel&&e.inputHiddenLabel]},fGe=t=>{const{classes:e,color:i,disabled:r,error:n,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:g}=t,v={root:["root",`color${$e(i)}`,r&&"disabled",n&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${$e(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return ot(v,dGe,e)},XO=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:YO})(({theme:t,ownerState:e})=>G({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${hv.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&G({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),QO=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:qO})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light",r=G({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),n={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return G({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${hv.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${hv.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),gGe=Y.jsx(uGe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),mGe=T.forwardRef(function(e,i){var r;const n=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:g,fullWidth:v=!1,id:C,inputComponent:S="input",inputProps:y={},inputRef:w,maxRows:E,minRows:b,multiline:D=!1,name:P,onBlur:O,onChange:N,onClick:_,onFocus:L,onKeyDown:k,onKeyUp:$,placeholder:U,readOnly:K,renderSuffix:j,rows:Q,slotProps:H={},slots:X={},startAdornment:te,type:le="text",value:J}=n,ie=Oe(n,pGe),ue=y.value!=null?y.value:J,{current:me}=T.useRef(ue!=null),se=T.useRef(),he=T.useCallback(Ht=>{},[]),Ee=ri(se,w,y.ref,he),[pe,ye]=T.useState(!1),Ce=Vl(),re=pC({props:n,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=Ce?Ce.focused:pe,T.useEffect(()=>{!Ce&&h&&pe&&(ye(!1),O&&O())},[Ce,h,pe,O]);const oe=Ce&&Ce.onFilled,fe=Ce&&Ce.onEmpty,we=T.useCallback(Ht=>{Lx(Ht)?oe&&oe():fe&&fe()},[oe,fe]);Xr(()=>{me&&we({value:ue})},[ue,we,me]);const Ue=Ht=>{if(re.disabled){Ht.stopPropagation();return}L&&L(Ht),y.onFocus&&y.onFocus(Ht),Ce&&Ce.onFocus?Ce.onFocus(Ht):ye(!0)},Be=Ht=>{O&&O(Ht),y.onBlur&&y.onBlur(Ht),Ce&&Ce.onBlur?Ce.onBlur(Ht):ye(!1)},Ve=(Ht,...pt)=>{if(!me){const us=Ht.target||se.current;if(us==null)throw new Error(gc(1));we({value:us.value})}y.onChange&&y.onChange(Ht,...pt),N&&N(Ht,...pt)};T.useEffect(()=>{we(se.current)},[]);const qe=Ht=>{se.current&&Ht.currentTarget===Ht.target&&se.current.focus(),_&&_(Ht)};let mt=S,et=y;D&&mt==="input"&&(Q?et=G({type:void 0,minRows:Q,maxRows:Q},et):et=G({type:void 0,maxRows:E,minRows:b},et),mt=aGe);const fi=Ht=>{we(Ht.animationName==="mui-auto-fill-cancel"?se.current:{value:"x"})};T.useEffect(()=>{Ce&&Ce.setAdornedStart(!!te)},[Ce,te]);const wi=G({},n,{color:re.color||"primary",disabled:re.disabled,endAdornment:g,error:re.error,focused:re.focused,formControl:Ce,fullWidth:v,hiddenLabel:re.hiddenLabel,multiline:D,size:re.size,startAdornment:te,type:le}),Kt=fGe(wi),Cr=X.root||u.Root||XO,xn=H.root||c.root||{},xr=X.input||u.Input||QO;return et=G({},et,(r=H.input)!=null?r:c.input),Y.jsxs(T.Fragment,{children:[!f&&gGe,Y.jsxs(Cr,G({},xn,!_m(Cr)&&{ownerState:G({},wi,xn.ownerState)},{ref:i,onClick:qe},ie,{className:Le(Kt.root,xn.className,l,K&&"MuiInputBase-readOnly"),children:[te,Y.jsx(KO.Provider,{value:null,children:Y.jsx(xr,G({ownerState:wi,"aria-invalid":re.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:re.disabled,id:C,onAnimationStart:fi,name:P,placeholder:U,readOnly:K,required:re.required,rows:Q,value:ue,onKeyDown:k,onKeyUp:$,type:le},et,!_m(xr)&&{as:mt,ownerState:G({},wi,et.ownerState)},{ref:Ee,className:Le(Kt.input,et.className,K&&"MuiInputBase-readOnly"),onBlur:Be,onChange:Ve,onFocus:Ue}))}),g,j?j(G({},re,{startAdornment:te})):null]}))]})}),FB=mGe;function vGe(t){return at("MuiInput",t)}const CGe=G({},hv,lt("MuiInput",["root","underline","input"])),sy=CGe,yGe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],SGe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},vGe,e);return G({},e,n)},wGe=be(XO,{shouldForwardProp:t=>Yo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[...YO(t,e),!i.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),G({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${sy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${sy.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${sy.disabled}, .${sy.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${sy.disabled}:before`]:{borderBottomStyle:"dotted"}})}),EGe=be(QO,{name:"MuiInput",slot:"Input",overridesResolver:qO})({}),Pne=T.forwardRef(function(e,i){var r,n,s,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:g,slots:v={},type:C="text"}=a,S=Oe(a,yGe),y=SGe(a),E={root:{ownerState:{disableUnderline:l}}},b=g??c?Ss(g??c,E):E,D=(r=(n=v.root)!=null?n:u.Root)!=null?r:wGe,P=(s=(o=v.input)!=null?o:u.Input)!=null?s:EGe;return Y.jsx(FB,G({slots:{root:D,input:P},slotProps:b,fullWidth:d,inputComponent:h,multiline:f,ref:i,type:C},S,{classes:y}))});Pne.muiName="Input";const xne=Pne;function bGe(t){return at("MuiFilledInput",t)}const RGe=G({},hv,lt("MuiFilledInput",["root","underline","input"])),Lh=RGe,TGe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],DGe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},bGe,e);return G({},e,n)},PGe=be(XO,{shouldForwardProp:t=>Yo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[...YO(t,e),!i.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var i;const r=t.palette.mode==="light",n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return G({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Lh.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Lh.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(i=(t.vars||t).palette[e.color||"primary"])==null?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Lh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Lh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Lh.disabled}, .${Lh.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Lh.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&G({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),xGe=be(QO,{name:"MuiFilledInput",slot:"Input",overridesResolver:qO})(({theme:t,ownerState:e})=>G({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Ane=T.forwardRef(function(e,i){var r,n,s,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:g={},type:v="text"}=a,C=Oe(a,TGe),S=G({},a,{fullWidth:c,inputComponent:d,multiline:h,type:v}),y=DGe(a),w={root:{ownerState:S},input:{ownerState:S}},E=f??u?Ss(w,f??u):w,b=(r=(n=g.root)!=null?n:l.Root)!=null?r:PGe,D=(s=(o=g.input)!=null?o:l.Input)!=null?s:xGe;return Y.jsx(FB,G({slots:{root:b,input:D},componentsProps:E,fullWidth:c,inputComponent:d,multiline:h,ref:i,type:v},C,{classes:y}))});Ane.muiName="Input";const One=Ane;var j5;const AGe=["children","classes","className","label","notched"],OGe=be("fieldset",{shouldForwardProp:Yo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),MGe=be("legend",{shouldForwardProp:Yo})(({ownerState:t,theme:e})=>G({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&G({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function FGe(t){const{className:e,label:i,notched:r}=t,n=Oe(t,AGe),s=i!=null&&i!=="",o=G({},t,{notched:r,withLabel:s});return Y.jsx(OGe,G({"aria-hidden":!0,className:e,ownerState:o},n,{children:Y.jsx(MGe,{ownerState:o,children:s?Y.jsx("span",{children:i}):j5||(j5=Y.jsx("span",{className:"notranslate",children:""}))})}))}function IGe(t){return at("MuiOutlinedInput",t)}const LGe=G({},hv,lt("MuiOutlinedInput",["root","notchedOutline","input"])),cd=LGe,_Ge=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],NGe=t=>{const{classes:e}=t,r=ot({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},IGe,e);return G({},e,r)},GGe=be(XO,{shouldForwardProp:t=>Yo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:YO})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return G({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${cd.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${cd.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${cd.focused} .${cd.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${cd.error} .${cd.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${cd.disabled} .${cd.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&G({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),kGe=be(FGe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),VGe=be(QO,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:qO})(({theme:t,ownerState:e})=>G({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Mne=T.forwardRef(function(e,i){var r,n,s,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:g,slots:v={},type:C="text"}=l,S=Oe(l,_Ge),y=NGe(l),w=Vl(),E=pC({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=G({},l,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:w,fullWidth:c,hiddenLabel:E.hiddenLabel,multiline:f,size:E.size,type:C}),D=(r=(n=v.root)!=null?n:u.Root)!=null?r:GGe,P=(s=(o=v.input)!=null?o:u.Input)!=null?s:VGe;return Y.jsx(FB,G({slots:{root:D,input:P},renderSuffix:O=>Y.jsx(kGe,{ownerState:b,className:y.notchedOutline,label:h!=null&&h!==""&&E.required?a||(a=Y.jsxs(T.Fragment,{children:[h,"","*"]})):h,notched:typeof g<"u"?g:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:i,type:C},S,{classes:G({},y,{notchedOutline:null})}))});Mne.muiName="Input";const Fne=Mne;function HGe(t){return at("MuiFormLabel",t)}const $Ge=lt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),mS=$Ge,BGe=["children","className","color","component","disabled","error","filled","focused","required"],WGe=t=>{const{classes:e,color:i,focused:r,disabled:n,error:s,filled:o,required:a}=t,l={root:["root",`color${$e(i)}`,n&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return ot(l,HGe,e)},UGe=be("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>G({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>G({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${mS.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${mS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${mS.error}`]:{color:(t.vars||t).palette.error.main}})),zGe=be("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${mS.error}`]:{color:(t.vars||t).palette.error.main}})),jGe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiFormLabel"}),{children:n,className:s,component:o="label"}=r,a=Oe(r,BGe),l=Vl(),u=pC({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=G({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=WGe(c);return Y.jsxs(UGe,G({as:o,ownerState:c,className:Le(d.root,s),ref:i},a,{children:[n,u.required&&Y.jsxs(zGe,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),KGe=jGe;function YGe(t){return at("MuiInputLabel",t)}lt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const qGe=["disableAnimation","margin","shrink","variant","className"],XGe=t=>{const{classes:e,formControl:i,size:r,shrink:n,disableAnimation:s,variant:o,required:a}=t,l={root:["root",i&&"formControl",!s&&"animated",n&&"shrink",r&&r!=="normal"&&`size${$e(r)}`,o],asterisk:[a&&"asterisk"]},u=ot(l,YGe,e);return G({},e,u)},QGe=be(KGe,{shouldForwardProp:t=>Yo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${mS.asterisk}`]:e.asterisk},e.root,i.formControl&&e.formControl,i.size==="small"&&e.sizeSmall,i.shrink&&e.shrink,!i.disableAnimation&&e.animated,i.focused&&e.focused,e[i.variant]]}})(({theme:t,ownerState:e})=>G({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&G({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&G({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&G({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),ZGe=T.forwardRef(function(e,i){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,shrink:s,className:o}=r,a=Oe(r,qGe),l=Vl();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=pC({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=G({},r,{disableAnimation:n,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=XGe(d);return Y.jsx(QGe,G({"data-shrink":u,ownerState:d,ref:i,className:Le(h.root,o)},a,{classes:h}))}),Ine=ZGe;function JGe(t){return at("MuiFormControl",t)}lt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const eke=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],tke=t=>{const{classes:e,margin:i,fullWidth:r}=t,n={root:["root",i!=="none"&&`margin${$e(i)}`,r&&"fullWidth"]};return ot(n,JGe,e)},ike=be("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>G({},e.root,e[`margin${$e(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>G({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),rke=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiFormControl"}),{children:n,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:g=!1,size:v="medium",variant:C="outlined"}=r,S=Oe(r,eke),y=G({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:g,size:v,variant:C}),w=tke(y),[E,b]=T.useState(()=>{let $=!1;return n&&T.Children.forEach(n,U=>{if(!lS(U,["Input","Select"]))return;const K=lS(U,["Select"])?U.props.input:U;K&&cGe(K.props)&&($=!0)}),$}),[D,P]=T.useState(()=>{let $=!1;return n&&T.Children.forEach(n,U=>{lS(U,["Input","Select"])&&(Lx(U.props,!0)||Lx(U.props.inputProps,!0))&&($=!0)}),$}),[O,N]=T.useState(!1);l&&O&&N(!1);const _=c!==void 0&&!l?c:O;let L;const k=T.useMemo(()=>({adornedStart:E,setAdornedStart:b,color:o,disabled:l,error:u,filled:D,focused:_,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{N(!1)},onEmpty:()=>{P(!1)},onFilled:()=>{P(!0)},onFocus:()=>{N(!0)},registerEffect:L,required:g,variant:C}),[E,o,l,u,D,_,d,h,L,g,v,C]);return Y.jsx(KO.Provider,{value:k,children:Y.jsx(ike,G({as:a,ownerState:y,className:Le(w.root,s),ref:i},S,{children:n}))})}),Lne=rke;function nke(t){return at("MuiFormHelperText",t)}const ske=lt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),K5=ske;var Y5;const oke=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ake=t=>{const{classes:e,contained:i,size:r,disabled:n,error:s,filled:o,focused:a,required:l}=t,u={root:["root",n&&"disabled",s&&"error",r&&`size${$e(r)}`,i&&"contained",a&&"focused",o&&"filled",l&&"required"]};return ot(u,nke,e)},lke=be("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.size&&e[`size${$e(i.size)}`],i.contained&&e.contained,i.filled&&e.filled]}})(({theme:t,ownerState:e})=>G({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${K5.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${K5.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),uke=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiFormHelperText"}),{children:n,className:s,component:o="p"}=r,a=Oe(r,oke),l=Vl(),u=pC({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=G({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=ake(c);return Y.jsx(lke,G({as:o,ownerState:c,className:Le(d.root,s),ref:i},a,{children:n===" "?Y5||(Y5=Y.jsx("span",{className:"notranslate",children:""})):n}))}),_ne=uke,cke=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function $L(t,e,i){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:i?null:t.firstChild}function q5(t,e,i){return t===e?i?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:i?null:t.lastChild}function Nne(t,e){if(e===void 0)return!0;let i=t.innerText;return i===void 0&&(i=t.textContent),i=i.trim().toLowerCase(),i.length===0?!1:e.repeating?i[0]===e.keys[0]:i.indexOf(e.keys.join(""))===0}function oy(t,e,i,r,n,s){let o=!1,a=n(t,e,e?i:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Nne(a,s)||l)a=n(t,a,i);else return a.focus(),!0}return!1}const dke=T.forwardRef(function(e,i){const{actions:r,autoFocus:n=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=Oe(e,cke),f=T.useRef(null),g=T.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Xr(()=>{n&&f.current.focus()},[n]),T.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:E})=>{const b=!f.current.style.width;if(w.clientHeight<f.current.clientHeight&&b){const D=`${EQ(on(w))}px`;f.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=D,f.current.style.width=`calc(100% + ${D})`}return f.current}}),[]);const v=w=>{const E=f.current,b=w.key,D=on(E).activeElement;if(b==="ArrowDown")w.preventDefault(),oy(E,D,u,l,$L);else if(b==="ArrowUp")w.preventDefault(),oy(E,D,u,l,q5);else if(b==="Home")w.preventDefault(),oy(E,null,u,l,$L);else if(b==="End")w.preventDefault(),oy(E,null,u,l,q5);else if(b.length===1){const P=g.current,O=b.toLowerCase(),N=performance.now();P.keys.length>0&&(N-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&O!==P.keys[0]&&(P.repeating=!1)),P.lastTime=N,P.keys.push(O);const _=D&&!P.repeating&&Nne(D,P);P.previousKeyMatched&&(_||oy(E,D,!1,l,$L,P))?w.preventDefault():P.previousKeyMatched=!1}c&&c(w)},C=ri(f,i);let S=-1;T.Children.forEach(o,(w,E)=>{if(!T.isValidElement(w)){S===E&&(S+=1,S>=o.length&&(S=-1));return}w.props.disabled||(d==="selectedMenu"&&w.props.selected||S===-1)&&(S=E),S===E&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(S+=1,S>=o.length&&(S=-1))});const y=T.Children.map(o,(w,E)=>{if(E===S){const b={};return s&&(b.autoFocus=!0),w.props.tabIndex===void 0&&d==="selectedMenu"&&(b.tabIndex=0),T.cloneElement(w,b)}return w});return Y.jsx(zV,G({role:"menu",ref:C,className:a,onKeyDown:v,tabIndex:n?0:-1},h,{children:y}))}),hke=dke,pke=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function z1(t){return`scale(${t}, ${t**2})`}const fke={entering:{opacity:1,transform:z1(1)},entered:{opacity:1,transform:"none"}},BL=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Gne=T.forwardRef(function(e,i){const{addEndListener:r,appear:n=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:g,timeout:v="auto",TransitionComponent:C=_0}=e,S=Oe(e,pke),y=SQ(),w=T.useRef(),E=za(),b=T.useRef(null),D=ri(b,s.ref,i),P=K=>j=>{if(K){const Q=b.current;j===void 0?K(Q):K(Q,j)}},O=P(c),N=P((K,j)=>{WV(K);const{duration:Q,delay:H,easing:X}=Nm({style:g,timeout:v,easing:o},{mode:"enter"});let te;v==="auto"?(te=E.transitions.getAutoHeightDuration(K.clientHeight),w.current=te):te=Q,K.style.transition=[E.transitions.create("opacity",{duration:te,delay:H}),E.transitions.create("transform",{duration:BL?te:te*.666,delay:H,easing:X})].join(","),l&&l(K,j)}),_=P(u),L=P(f),k=P(K=>{const{duration:j,delay:Q,easing:H}=Nm({style:g,timeout:v,easing:o},{mode:"exit"});let X;v==="auto"?(X=E.transitions.getAutoHeightDuration(K.clientHeight),w.current=X):X=j,K.style.transition=[E.transitions.create("opacity",{duration:X,delay:Q}),E.transitions.create("transform",{duration:BL?X:X*.666,delay:BL?Q:Q||X*.333,easing:H})].join(","),K.style.opacity=0,K.style.transform=z1(.75),d&&d(K)}),$=P(h),U=K=>{v==="auto"&&y.start(w.current||0,K),r&&r(b.current,K)};return Y.jsx(C,G({appear:n,in:a,nodeRef:b,onEnter:N,onEntered:_,onEntering:O,onExit:k,onExited:$,onExiting:L,addEndListener:U,timeout:v==="auto"?null:v},S,{children:(K,j)=>T.cloneElement(s,G({style:G({opacity:0,transform:z1(.75),visibility:K==="exited"&&!a?"hidden":void 0},fke[K],g,s.props.style),ref:D},j))}))});Gne.muiSupportAuto=!0;const kne=Gne;function gke(t){return at("MuiPopover",t)}lt("MuiPopover",["root","paper"]);const mke=["onEntering"],vke=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Cke=["slotProps"];function X5(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.height/2:e==="bottom"&&(i=t.height),i}function Q5(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.width/2:e==="right"&&(i=t.width),i}function Z5(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function WL(t){return typeof t=="function"?t():t}const yke=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"]},gke,e)},Ske=be(UV,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vne=be(Gv,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),wke=T.forwardRef(function(e,i){var r,n,s;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:g,elevation:v=8,marginThreshold:C=16,open:S,PaperProps:y={},slots:w,slotProps:E,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:D=kne,transitionDuration:P="auto",TransitionProps:{onEntering:O}={},disableScrollLock:N=!1}=o,_=Oe(o.TransitionProps,mke),L=Oe(o,vke),k=(r=E==null?void 0:E.paper)!=null?r:y,$=T.useRef(),U=ri($,k.ref),K=G({},o,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:C,externalPaperSlotProps:k,transformOrigin:b,TransitionComponent:D,transitionDuration:P,TransitionProps:_}),j=yke(K),Q=T.useCallback(()=>{if(d==="anchorPosition")return c;const oe=WL(l),we=(oe&&oe.nodeType===1?oe:on($.current).body).getBoundingClientRect();return{top:we.top+X5(we,u.vertical),left:we.left+Q5(we,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),H=T.useCallback(oe=>({vertical:X5(oe,b.vertical),horizontal:Q5(oe,b.horizontal)}),[b.horizontal,b.vertical]),X=T.useCallback(oe=>{const fe={width:oe.offsetWidth,height:oe.offsetHeight},we=H(fe);if(d==="none")return{top:null,left:null,transformOrigin:Z5(we)};const Ue=Q();let Be=Ue.top-we.vertical,Ve=Ue.left-we.horizontal;const qe=Be+fe.height,mt=Ve+fe.width,et=Su(WL(l)),fi=et.innerHeight-C,wi=et.innerWidth-C;if(C!==null&&Be<C){const Kt=Be-C;Be-=Kt,we.vertical+=Kt}else if(C!==null&&qe>fi){const Kt=qe-fi;Be-=Kt,we.vertical+=Kt}if(C!==null&&Ve<C){const Kt=Ve-C;Ve-=Kt,we.horizontal+=Kt}else if(mt>wi){const Kt=mt-wi;Ve-=Kt,we.horizontal+=Kt}return{top:`${Math.round(Be)}px`,left:`${Math.round(Ve)}px`,transformOrigin:Z5(we)}},[l,d,Q,H,C]),[te,le]=T.useState(S),J=T.useCallback(()=>{const oe=$.current;if(!oe)return;const fe=X(oe);fe.top!==null&&(oe.style.top=fe.top),fe.left!==null&&(oe.style.left=fe.left),oe.style.transformOrigin=fe.transformOrigin,le(!0)},[X]);T.useEffect(()=>(N&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[l,N,J]);const ie=(oe,fe)=>{O&&O(oe,fe),J()},ue=()=>{le(!1)};T.useEffect(()=>{S&&J()}),T.useImperativeHandle(a,()=>S?{updatePosition:()=>{J()}}:null,[S,J]),T.useEffect(()=>{if(!S)return;const oe=M0(()=>{J()}),fe=Su(l);return fe.addEventListener("resize",oe),()=>{oe.clear(),fe.removeEventListener("resize",oe)}},[l,S,J]);let me=P;P==="auto"&&!D.muiSupportAuto&&(me=void 0);const se=g||(l?on(WL(l)).body:void 0),he=(n=w==null?void 0:w.root)!=null?n:Ske,Ee=(s=w==null?void 0:w.paper)!=null?s:Vne,pe=ii({elementType:Ee,externalSlotProps:G({},k,{style:te?k.style:G({},k.style,{opacity:0})}),additionalProps:{elevation:v,ref:U},ownerState:K,className:Le(j.paper,k==null?void 0:k.className)}),ye=ii({elementType:he,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:L,additionalProps:{ref:i,slotProps:{backdrop:{invisible:!0}},container:se,open:S},ownerState:K,className:Le(j.root,f)}),{slotProps:Ce}=ye,re=Oe(ye,Cke);return Y.jsx(he,G({},re,!_m(he)&&{slotProps:Ce,disableScrollLock:N},{children:Y.jsx(D,G({appear:!0,in:S,onEntering:ie,onExited:ue,timeout:me},_,{children:Y.jsx(Ee,G({},pe,{children:h}))}))}))}),Eke=wke;function bke(t){return at("MuiMenu",t)}lt("MuiMenu",["root","paper","list"]);const Rke=["onEntering"],Tke=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Dke={vertical:"top",horizontal:"right"},Pke={vertical:"top",horizontal:"left"},xke=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"],list:["list"]},bke,e)},Ake=be(Eke,{shouldForwardProp:t=>Yo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Oke=be(Vne,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Mke=be(hke,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Fke=T.forwardRef(function(e,i){var r,n;const s=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:C}={},variant:S="selectedMenu",slots:y={},slotProps:w={}}=s,E=Oe(s.TransitionProps,Rke),b=Oe(s,Tke),D=bQ(),P=G({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:C,PaperProps:f,transitionDuration:v,TransitionProps:E,variant:S}),O=xke(P),N=o&&!u&&h,_=T.useRef(null),L=(H,X)=>{_.current&&_.current.adjustStyleForScrollbar(H,{direction:D?"rtl":"ltr"}),C&&C(H,X)},k=H=>{H.key==="Tab"&&(H.preventDefault(),d&&d(H,"tabKeyDown"))};let $=-1;T.Children.map(a,(H,X)=>{T.isValidElement(H)&&(H.props.disabled||(S==="selectedMenu"&&H.props.selected||$===-1)&&($=X))});const U=(r=y.paper)!=null?r:Oke,K=(n=w.paper)!=null?n:f,j=ii({elementType:y.root,externalSlotProps:w.root,ownerState:P,className:[O.root,l]}),Q=ii({elementType:U,externalSlotProps:K,ownerState:P,className:O.paper});return Y.jsx(Ake,G({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?Dke:Pke,slots:{paper:U,root:y.root},slotProps:{root:j,paper:Q},open:h,ref:i,transitionDuration:v,TransitionProps:G({onEntering:L},E),ownerState:P},b,{classes:g,children:Y.jsx(Mke,G({onKeyDown:k,actions:_,autoFocus:o&&($===-1||u),autoFocusItem:N,variant:S},c,{className:Le(O.list,c.className),children:a}))}))}),Ike=Fke;function Lke(t){return at("MuiNativeSelect",t)}const _ke=lt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),IB=_ke,Nke=["className","disabled","error","IconComponent","inputRef","variant"],Gke=t=>{const{classes:e,variant:i,disabled:r,multiple:n,open:s,error:o}=t,a={select:["select",i,r&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${$e(i)}`,s&&"iconOpen",r&&"disabled"]};return ot(a,Lke,e)},Hne=({ownerState:t,theme:e})=>G({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":G({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${IB.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),kke=be("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Yo,overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.select,e[i.variant],i.error&&e.error,{[`&.${IB.multiple}`]:e.multiple}]}})(Hne),$ne=({ownerState:t,theme:e})=>G({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${IB.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Vke=be("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.icon,i.variant&&e[`icon${$e(i.variant)}`],i.open&&e.iconOpen]}})($ne),Hke=T.forwardRef(function(e,i){const{className:r,disabled:n,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=Oe(e,Nke),c=G({},e,{disabled:n,variant:l,error:s}),d=Gke(c);return Y.jsxs(T.Fragment,{children:[Y.jsx(kke,G({ownerState:c,className:Le(d.select,r),disabled:n,ref:a||i},u)),e.multiple?null:Y.jsx(Vke,{as:o,ownerState:c,className:d.icon})]})}),$ke=Hke;function Bke(t){return at("MuiSelect",t)}const ay=lt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var J5;const Wke=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Uke=be("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`&.${ay.select}`]:e.select},{[`&.${ay.select}`]:e[i.variant]},{[`&.${ay.error}`]:e.error},{[`&.${ay.multiple}`]:e.multiple}]}})(Hne,{[`&.${ay.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),zke=be("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.icon,i.variant&&e[`icon${$e(i.variant)}`],i.open&&e.iconOpen]}})($ne),jke=be("input",{shouldForwardProp:t=>hQ(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function e4(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Kke(t){return t==null||typeof t=="string"&&!t.trim()}const Yke=t=>{const{classes:e,variant:i,disabled:r,multiple:n,open:s,error:o}=t,a={select:["select",i,r&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${$e(i)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ot(a,Bke,e)},qke=T.forwardRef(function(e,i){var r;const{"aria-describedby":n,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:g=!1,IconComponent:v,inputRef:C,labelId:S,MenuProps:y={},multiple:w,name:E,onBlur:b,onChange:D,onClose:P,onFocus:O,onOpen:N,open:_,readOnly:L,renderValue:k,SelectDisplayProps:$={},tabIndex:U,value:K,variant:j="standard"}=e,Q=Oe(e,Wke),[H,X]=wu({controlled:K,default:d,name:"Select"}),[te,le]=wu({controlled:_,default:c,name:"Select"}),J=T.useRef(null),ie=T.useRef(null),[ue,me]=T.useState(null),{current:se}=T.useRef(_!=null),[he,Ee]=T.useState(),pe=ri(i,C),ye=T.useCallback(dt=>{ie.current=dt,dt&&me(dt)},[]),Ce=ue==null?void 0:ue.parentNode;T.useImperativeHandle(pe,()=>({focus:()=>{ie.current.focus()},node:J.current,value:H}),[H]),T.useEffect(()=>{c&&te&&ue&&!se&&(Ee(a?null:Ce.clientWidth),ie.current.focus())},[ue,a]),T.useEffect(()=>{o&&ie.current.focus()},[o]),T.useEffect(()=>{if(!S)return;const dt=on(ie.current).getElementById(S);if(dt){const Qt=()=>{getSelection().isCollapsed&&ie.current.focus()};return dt.addEventListener("click",Qt),()=>{dt.removeEventListener("click",Qt)}}},[S]);const re=(dt,Qt)=>{dt?N&&N(Qt):P&&P(Qt),se||(Ee(a?null:Ce.clientWidth),le(dt))},oe=dt=>{dt.button===0&&(dt.preventDefault(),ie.current.focus(),re(!0,dt))},fe=dt=>{re(!1,dt)},we=T.Children.toArray(l),Ue=dt=>{const Qt=we.find(Ki=>Ki.props.value===dt.target.value);Qt!==void 0&&(X(Qt.props.value),D&&D(dt,Qt))},Be=dt=>Qt=>{let Ki;if(Qt.currentTarget.hasAttribute("tabindex")){if(w){Ki=Array.isArray(H)?H.slice():[];const Ns=H.indexOf(dt.props.value);Ns===-1?Ki.push(dt.props.value):Ki.splice(Ns,1)}else Ki=dt.props.value;if(dt.props.onClick&&dt.props.onClick(Qt),H!==Ki&&(X(Ki),D)){const Ns=Qt.nativeEvent||Qt,Qc=new Ns.constructor(Ns.type,Ns);Object.defineProperty(Qc,"target",{writable:!0,value:{value:Ki,name:E}}),D(Qc,dt)}w||re(!1,Qt)}},Ve=dt=>{L||[" ","ArrowUp","ArrowDown","Enter"].indexOf(dt.key)!==-1&&(dt.preventDefault(),re(!0,dt))},qe=ue!==null&&te,mt=dt=>{!qe&&b&&(Object.defineProperty(dt,"target",{writable:!0,value:{value:H,name:E}}),b(dt))};delete Q["aria-invalid"];let et,fi;const wi=[];let Kt=!1;(Lx({value:H})||f)&&(k?et=k(H):Kt=!0);const Cr=we.map(dt=>{if(!T.isValidElement(dt))return null;let Qt;if(w){if(!Array.isArray(H))throw new Error(gc(2));Qt=H.some(Ki=>e4(Ki,dt.props.value)),Qt&&Kt&&wi.push(dt.props.children)}else Qt=e4(H,dt.props.value),Qt&&Kt&&(fi=dt.props.children);return T.cloneElement(dt,{"aria-selected":Qt?"true":"false",onClick:Be(dt),onKeyUp:Ki=>{Ki.key===" "&&Ki.preventDefault(),dt.props.onKeyUp&&dt.props.onKeyUp(Ki)},role:"option",selected:Qt,value:void 0,"data-value":dt.props.value})});Kt&&(w?wi.length===0?et=null:et=wi.reduce((dt,Qt,Ki)=>(dt.push(Qt),Ki<wi.length-1&&dt.push(", "),dt),[]):et=fi);let xn=he;!a&&se&&ue&&(xn=Ce.clientWidth);let xr;typeof U<"u"?xr=U:xr=h?null:0;const Ht=$.id||(E?`mui-component-select-${E}`:void 0),pt=G({},e,{variant:j,value:H,open:qe,error:g}),us=Yke(pt),Ja=G({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),uo=Ic();return Y.jsxs(T.Fragment,{children:[Y.jsx(Uke,G({ref:ye,tabIndex:xr,role:"combobox","aria-controls":uo,"aria-disabled":h?"true":void 0,"aria-expanded":qe?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[S,Ht].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:Ve,onMouseDown:h||L?null:oe,onBlur:mt,onFocus:O},$,{ownerState:pt,className:Le($.className,us.select,u),id:Ht,children:Kke(et)?J5||(J5=Y.jsx("span",{className:"notranslate",children:""})):et})),Y.jsx(jke,G({"aria-invalid":g,value:Array.isArray(H)?H.join(","):H,name:E,ref:J,"aria-hidden":!0,onChange:Ue,tabIndex:-1,disabled:h,className:us.nativeInput,autoFocus:o,ownerState:pt},Q)),Y.jsx(zke,{as:v,className:us.icon,ownerState:pt}),Y.jsx(Ike,G({id:`menu-${E||""}`,anchorEl:Ce,open:qe,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:G({"aria-labelledby":S,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:uo},y.MenuListProps),slotProps:G({},y.slotProps,{paper:G({},Ja,{style:G({minWidth:xn},Ja!=null?Ja.style:null)})}),children:Cr}))]})}),Xke=qke,Qke=kl(Y.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Zke=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Jke=["root"],eVe=t=>{const{classes:e}=t;return e},LB={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Yo(t)&&t!=="variant",slot:"Root"},tVe=be(xne,LB)(""),iVe=be(Fne,LB)(""),rVe=be(One,LB)(""),Bne=T.forwardRef(function(e,i){const r=rt({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=Qke,id:d,input:h,inputProps:f,label:g,labelId:v,MenuProps:C,multiple:S=!1,native:y=!1,onClose:w,onOpen:E,open:b,renderValue:D,SelectDisplayProps:P,variant:O="outlined"}=r,N=Oe(r,Zke),_=y?$ke:Xke,L=Vl(),k=pC({props:r,muiFormControl:L,states:["variant","error"]}),$=k.variant||O,U=G({},r,{variant:$,classes:o}),K=eVe(U),j=Oe(K,Jke),Q=h||{standard:Y.jsx(tVe,{ownerState:U}),outlined:Y.jsx(iVe,{label:g,ownerState:U}),filled:Y.jsx(rVe,{ownerState:U})}[$],H=ri(i,Q.ref);return Y.jsx(T.Fragment,{children:T.cloneElement(Q,G({inputComponent:_,inputProps:G({children:s,error:k.error,IconComponent:c,variant:$,type:void 0,multiple:S},y?{id:d}:{autoWidth:n,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:C,onClose:w,onOpen:E,open:b,renderValue:D,SelectDisplayProps:G({id:d},P)},f,{classes:f?Ss(j,f.classes):j},h?h.props.inputProps:{})},(S&&y||u)&&$==="outlined"?{notched:!0}:{},{ref:H,className:Le(Q.props.className,a,K.root)},!h&&{variant:$},N))})});Bne.muiName="Select";const nVe=Bne;function sVe(t){return at("MuiTextField",t)}const ly=lt("MuiTextField",["root"]),oVe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],aVe={standard:xne,filled:One,outlined:Fne},lVe=t=>{const{classes:e}=t;return ot({root:["root"]},sVe,e)},uVe=be(Lne,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:g,id:v,InputLabelProps:C,inputProps:S,InputProps:y,inputRef:w,label:E,maxRows:b,minRows:D,multiline:P=!1,name:O,onBlur:N,onChange:_,onFocus:L,placeholder:k,required:$=!1,rows:U,select:K=!1,SelectProps:j,type:Q,value:H,variant:X="outlined"}=r,te=Oe(r,oVe),le=G({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:P,required:$,select:K,variant:X}),J=lVe(le),ie={};X==="outlined"&&(C&&typeof C.shrink<"u"&&(ie.notched=C.shrink),ie.label=E),K&&((!j||!j.native)&&(ie.id=void 0),ie["aria-describedby"]=void 0);const ue=Ic(v),me=g&&ue?`${ue}-helper-text`:void 0,se=E&&ue?`${ue}-label`:void 0,he=aVe[X],Ee=Y.jsx(he,G({"aria-describedby":me,autoComplete:n,autoFocus:s,defaultValue:u,fullWidth:f,multiline:P,name:O,rows:U,maxRows:b,minRows:D,type:Q,value:H,id:ue,inputRef:w,onBlur:N,onChange:_,onFocus:L,placeholder:k,inputProps:S},ie,y));return Y.jsxs(uVe,G({className:Le(J.root,a),disabled:c,error:d,fullWidth:f,ref:i,required:$,color:l,variant:X,ownerState:le},te,{children:[E!=null&&E!==""&&Y.jsx(Ine,G({htmlFor:ue,id:se},C,{children:E})),K?Y.jsx(nVe,G({"aria-describedby":me,id:ue,labelId:se,value:H,input:Ee},j,{children:o})):Ee,g&&Y.jsx(_ne,G({id:me},h,{children:g}))]}))}),Ln=cVe;function dVe(t){return at("MuiDialog",t)}const hVe=lt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),vS=hVe,pVe=T.createContext({}),Wne=pVe,fVe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],gVe=be(MQ,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),mVe=t=>{const{classes:e,scroll:i,maxWidth:r,fullWidth:n,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${$e(i)}`],paper:["paper",`paperScroll${$e(i)}`,`paperWidth${$e(String(r))}`,n&&"paperFullWidth",s&&"paperFullScreen"]};return ot(o,dVe,e)},vVe=be(UV,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),CVe=be("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.container,e[`scroll${$e(i.scroll)}`]]}})(({ownerState:t})=>G({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),yVe=be(Gv,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.paper,e[`scrollPaper${$e(i.scroll)}`],e[`paperWidth${$e(String(i.maxWidth))}`],i.fullWidth&&e.paperFullWidth,i.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>G({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${vS.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${vS.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${vS.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),SVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialog"}),n=za(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:C,onClose:S,open:y,PaperComponent:w=Gv,PaperProps:E={},scroll:b="paper",TransitionComponent:D=kv,transitionDuration:P=s,TransitionProps:O}=r,N=Oe(r,fVe),_=G({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:g,maxWidth:v,scroll:b}),L=mVe(_),k=T.useRef(),$=Q=>{k.current=Q.target===Q.currentTarget},U=Q=>{k.current&&(k.current=null,C&&C(Q),S&&S(Q,"backdropClick"))},K=Ic(a),j=T.useMemo(()=>({titleId:K}),[K]);return Y.jsx(vVe,G({className:Le(L.root,d),closeAfterTransition:!0,components:{Backdrop:gVe},componentsProps:{backdrop:G({transitionDuration:P,as:l},u)},disableEscapeKeyDown:h,onClose:S,open:y,ref:i,onClick:U,ownerState:_},N,{children:Y.jsx(D,G({appear:!0,in:y,timeout:P,role:"presentation"},O,{children:Y.jsx(CVe,{className:Le(L.container),onMouseDown:$,ownerState:_,children:Y.jsx(yVe,G({as:w,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":K},E,{className:Le(L.paper,E.className),ownerState:_,children:Y.jsx(Wne.Provider,{value:j,children:c})}))})}))}))}),ZO=SVe;function wVe(t){return at("MuiDialogActions",t)}lt("MuiDialogActions",["root","spacing"]);const EVe=["className","disableSpacing"],bVe=t=>{const{classes:e,disableSpacing:i}=t;return ot({root:["root",!i&&"spacing"]},wVe,e)},RVe=be("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disableSpacing&&e.spacing]}})(({ownerState:t})=>G({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),TVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:s=!1}=r,o=Oe(r,EVe),a=G({},r,{disableSpacing:s}),l=bVe(a);return Y.jsx(RVe,G({className:Le(l.root,n),ownerState:a,ref:i},o))}),JO=TVe;function DVe(t){return at("MuiDialogContent",t)}lt("MuiDialogContent",["root","dividers"]);function PVe(t){return at("MuiDialogTitle",t)}const xVe=lt("MuiDialogTitle",["root"]),AVe=xVe,OVe=["className","dividers"],MVe=t=>{const{classes:e,dividers:i}=t;return ot({root:["root",i&&"dividers"]},DVe,e)},FVe=be("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>G({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${AVe.root} + &`]:{paddingTop:0}})),IVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialogContent"}),{className:n,dividers:s=!1}=r,o=Oe(r,OVe),a=G({},r,{dividers:s}),l=MVe(a);return Y.jsx(FVe,G({className:Le(l.root,n),ownerState:a,ref:i},o))}),eM=IVe,LVe=["className","id"],_Ve=t=>{const{classes:e}=t;return ot({root:["root"]},PVe,e)},NVe=be(Fo,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),GVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialogTitle"}),{className:n,id:s}=r,o=Oe(r,LVe),a=r,l=_Ve(a),{titleId:u=s}=T.useContext(Wne);return Y.jsx(NVe,G({component:"h2",className:Le(l.root,n),ownerState:a,ref:i,variant:"h6",id:s??u},o))}),_B=GVe;var NB={},kVe=Gu;Object.defineProperty(NB,"__esModule",{value:!0});var Une=NB.default=void 0,VVe=kVe(sh()),HVe=Y;Une=NB.default=(0,VVe.default)((0,HVe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function $Ve(t){const[e,i]=W.useState(!1),[r,n]=W.useState({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),s=()=>{i(!0)},o=()=>{i(!1)},a=u=>{n({...r,[u.target.name]:u.target.value})},l=()=>{t.saveCustomer(r),o()};return Y.jsxs(W.Fragment,{children:[Y.jsxs(Jn,{variant:"contained",onClick:s,children:[Y.jsx(Une,{})," Add Customer"]}),Y.jsxs(ZO,{open:e,onClose:o,PaperProps:{component:"form",onSubmit:u=>{u.preventDefault();const c=new FormData(u.currentTarget),h=Object.fromEntries(c.entries()).email;console.log(h),o()}},children:[Y.jsx(_B,{children:"New Customer"}),Y.jsxs(eM,{children:[Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"firstname",value:r.firstname,onChange:u=>a(u),label:"Firstname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"lastname",value:r.lastname,onChange:u=>a(u),label:"Lastname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"streetaddress",value:r.streetaddress,onChange:u=>a(u),label:"Streetaddress",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"postcode",value:r.postcode,onChange:u=>a(u),label:"Postcode",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"city",value:r.city,onChange:u=>a(u),label:"City",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"email",value:r.email,onChange:u=>a(u),label:"Email",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"phone",value:r.phone,onChange:u=>a(u),label:"Phone",fullWidth:!0,variant:"standard"})]}),Y.jsxs(JO,{children:[Y.jsx(Jn,{onClick:o,children:"Cancel"}),Y.jsx(Jn,{onClick:l,children:"Save"})]})]})]})}var GB={},BVe=Gu;Object.defineProperty(GB,"__esModule",{value:!0});var zne=GB.default=void 0,WVe=BVe(sh()),UVe=Y;zne=GB.default=(0,WVe.default)((0,UVe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");function zVe(t){const[e,i]=W.useState(!1),[r,n]=W.useState({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),s=()=>{n({firstname:t.customer.firstname,lastname:t.customer.lastname,streetaddress:t.customer.streetaddress,postcode:t.customer.postcode,city:t.customer.city,email:t.customer.email,phone:t.customer.phone}),i(!0)},o=()=>{i(!1)},a=u=>{n({...r,[u.target.name]:u.target.value})},l=()=>{t.updateCustomer(r,t.customer._links.customer.href),o()};return Y.jsxs(W.Fragment,{children:[Y.jsxs(Jn,{onClick:s,color:"secondary",children:[Y.jsx(zne,{})," "]}),Y.jsxs(ZO,{open:e,onClose:o,PaperProps:{component:"form",onSubmit:u=>{u.preventDefault();const c=new FormData(u.currentTarget),h=Object.fromEntries(c.entries()).email;console.log(h),o()}},children:[Y.jsx(_B,{children:"Edit Customer"}),Y.jsxs(eM,{children:[Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"firstname",value:r.firstname,onChange:u=>a(u),label:"Firstname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"lastname",value:r.lastname,onChange:u=>a(u),label:"Lastname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"streetaddress",value:r.streetaddress,onChange:u=>a(u),label:"Streetaddress",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"postcode",value:r.postcode,onChange:u=>a(u),label:"Postcode",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"city",value:r.city,onChange:u=>a(u),label:"City",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"email",value:r.email,onChange:u=>a(u),label:"Email",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"phone",value:r.phone,onChange:u=>a(u),label:"Phone",fullWidth:!0,variant:"standard"})]}),Y.jsxs(JO,{children:[Y.jsx(Jn,{onClick:o,children:"Cancel"}),Y.jsx(Jn,{onClick:l,children:"Save"})]})]})]})}const jVe=TTe({createStyledComponent:be("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>rt({props:t,name:"MuiStack"})}),KVe=jVe,t4=lt("MuiStack",["root"]);function YVe(t){return at("MuiPickersTextField",t)}const uy=lt("MuiPickersTextField",["root","focused","disabled","error","required"]);function qVe(t){return at("MuiPickersInputBase",t)}const Sm=lt("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function XVe(t){return at("MuiPickersSectionList",t)}const cy=lt("MuiPickersSectionList",["root","section","sectionContent"]),QVe=["slots","slotProps","elements","sectionListRef"],jne=be("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),Kne=be("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),Yne=be("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),qne=be("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),ZVe=t=>{const{classes:e}=t;return ot({root:["root"],section:["section"],sectionContent:["sectionContent"]},XVe,e)};function JVe(t){const{slots:e,slotProps:i,element:r,classes:n}=t,s=(e==null?void 0:e.section)??Kne,o=ii({elementType:s,externalSlotProps:i==null?void 0:i.section,externalForwardedProps:r.container,className:n.section,ownerState:{}}),a=(e==null?void 0:e.sectionContent)??qne,l=ii({elementType:a,externalSlotProps:i==null?void 0:i.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:n.sectionContent,ownerState:{}}),u=(e==null?void 0:e.sectionSeparator)??Yne,c=ii({elementType:u,externalSlotProps:i==null?void 0:i.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=ii({elementType:u,externalSlotProps:i==null?void 0:i.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return Y.jsxs(s,G({},o,{children:[Y.jsx(u,G({},c)),Y.jsx(a,G({},l)),Y.jsx(u,G({},d))]}))}const eHe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersSectionList"}),{slots:n,slotProps:s,elements:o,sectionListRef:a}=r,l=Oe(r,QVe),u=ZVe(r),c=T.useRef(null),d=ri(i,c),h=v=>{if(!c.current)throw new Error(`MUI X: Cannot call sectionListRef.${v} before the mount of the component.`);return c.current};T.useImperativeHandle(a,()=>({getRoot(){return h("getRoot")},getSectionContainer(v){return h("getSectionContainer").querySelector(`.${cy.section}[data-sectionindex="${v}"]`)},getSectionContent(v){return h("getSectionContent").querySelector(`.${cy.section}[data-sectionindex="${v}"] .${cy.sectionContent}`)},getSectionIndexFromDOMElement(v){const C=h("getSectionIndexFromDOMElement");if(v==null||!C.contains(v))return null;let S=null;return v.classList.contains(cy.section)?S=v:v.classList.contains(cy.sectionContent)&&(S=v.parentElement),S==null?null:Number(S.dataset.sectionindex)}}));const f=(n==null?void 0:n.root)??jne,g=ii({elementType:f,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:u.root,ownerState:{}});return Y.jsx(f,G({},g,{children:g.contentEditable?o.map(({content:v,before:C,after:S})=>`${C.children}${v.children}${S.children}`).join(""):Y.jsx(T.Fragment,{children:o.map((v,C)=>Y.jsx(JVe,{slots:n,slotProps:s,element:v,classes:u},C))})}))}),tHe=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],iHe=t=>Math.round(t*1e5)/1e5,tM=be("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>G({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${iHe(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),kB=be(jne,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>G({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px"},t.direction==="rtl"&&{textAlign:"right /*! @noflip */"},{variants:[{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:i,filled:r,label:n})=>!e&&!i&&!r&&n==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),rHe=be(Kne,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),nHe=be(qne,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),sHe=be(Yne,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),oHe=be("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(G({},gTe)),aHe=t=>{const{focused:e,disabled:i,error:r,classes:n,fullWidth:s,readOnly:o,color:a,size:l,endAdornment:u,startAdornment:c}=t,d={root:["root",e&&!i&&"focused",i&&"disabled",o&&"readOnly",r&&"error",s&&"fullWidth",`color${$e(a)}`,l==="small"&&"inputSizeSmall",!!c&&"adornedStart",!!u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return ot(d,qVe,n)},VB=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersInputBase"}),{elements:n,areAllSectionsEmpty:s,value:o,onChange:a,id:l,endAdornment:u,startAdornment:c,renderSuffix:d,slots:h,slotProps:f,contentEditable:g,tabIndex:v,onInput:C,onPaste:S,onKeyDown:y,name:w,readOnly:E,inputProps:b,inputRef:D,sectionListRef:P}=r,O=Oe(r,tHe),N=T.useRef(null),_=ri(i,N),L=ri(b==null?void 0:b.ref,D),k=Vl();if(!k)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const $=X=>{var te;if(k.disabled){X.stopPropagation();return}(te=k.onFocus)==null||te.call(k,X)};T.useEffect(()=>{k&&k.setAdornedStart(!!c)},[k,c]),T.useEffect(()=>{k&&(s?k.onEmpty():k.onFilled())},[k,s]);const U=G({},r,k),K=aHe(U),j=(h==null?void 0:h.root)||tM,Q=ii({elementType:j,externalSlotProps:f==null?void 0:f.root,externalForwardedProps:O,additionalProps:{"aria-invalid":k.error,ref:_},className:K.root,ownerState:U}),H=(h==null?void 0:h.input)||kB;return Y.jsxs(j,G({},Q,{children:[c,Y.jsx(eHe,{sectionListRef:P,elements:n,contentEditable:g,tabIndex:v,className:K.sectionsContainer,onFocus:$,onBlur:k.onBlur,onInput:C,onPaste:S,onKeyDown:y,slots:{root:H,section:rHe,sectionContent:nHe,sectionSeparator:sHe},slotProps:{root:{ownerState:U},sectionContent:{className:Sm.sectionContent},sectionSeparator:({position:X})=>({className:X==="before"?Sm.sectionBefore:Sm.sectionAfter})}}),u,d?d(G({},k)):null,Y.jsx(oHe,G({name:w,className:K.input,value:o,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:E,required:k.required,disabled:k.disabled},b,{ref:L}))]}))});function lHe(t){return at("MuiPickersOutlinedInput",t)}const ol=G({},Sm,lt("MuiPickersOutlinedInput",["root","notchedOutline","input"])),uHe=["children","className","label","notched","shrink"],cHe=be("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),i4=be("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),dHe=be("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function hHe(t){const{className:e,label:i}=t,r=Oe(t,uHe),n=i!=null&&i!=="",s=G({},t,{withLabel:n});return Y.jsx(cHe,G({"aria-hidden":!0,className:e},r,{ownerState:s,children:Y.jsx(dHe,{ownerState:s,children:n?Y.jsx(i4,{children:i}):Y.jsx(i4,{className:"notranslate",children:""})})}))}const pHe=["label","autoFocus","ownerState","notched"],fHe=be(tM,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ol.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ol.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ol.focused} .${ol.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ol.disabled}`]:{[`& .${ol.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${ol.error} .${ol.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(i=>(t.vars??t).palette[i].main).map(i=>({props:{color:i},style:{[`&.${ol.focused}:not(.${ol.error}) .${ol.notchedOutline}`]:{borderColor:(t.vars||t).palette[i].main}}}))}}),gHe=be(kB,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),mHe=t=>{const{classes:e}=t,r=ot({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},lHe,e);return G({},e,r)},Xne=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersOutlinedInput"}),{label:n,ownerState:s,notched:o}=r,a=Oe(r,pHe),l=Vl(),u=G({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),c=mHe(u);return Y.jsx(VB,G({slots:{root:fHe,input:gHe},renderSuffix:d=>Y.jsx(hHe,{shrink:!!(o||d.adornedStart||d.focused||d.filled),notched:!!(o||d.adornedStart||d.focused||d.filled),className:c.notchedOutline,label:n!=null&&n!==""&&(l!=null&&l.required)?Y.jsxs(T.Fragment,{children:[n,"","*"]}):n,ownerState:u})},a,{label:n,classes:c,ref:i}))});Xne.muiName="Input";function vHe(t){return at("MuiPickersFilledInput",t)}const _h=G({},Sm,lt("MuiPickersFilledInput",["root","underline","input"])),CHe=["label","autoFocus","disableUnderline","ownerState"],yHe=be(tM,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>mD(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",i=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${_h.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${_h.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(o=>(t.vars??t).palette[o].main).map(o=>{var a;return{props:{color:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_h.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_h.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_h.disabled}, .${_h.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${_h.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:o})=>!!o,style:{paddingLeft:12}},{props:({endAdornment:o})=>!!o,style:{paddingRight:12}}]}}),SHe=be(kB,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),wHe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},vHe,e);return G({},e,n)},Qne=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersFilledInput"}),{label:n,disableUnderline:s=!1,ownerState:o}=r,a=Oe(r,CHe),l=Vl(),u=G({},r,o,l,{color:(l==null?void 0:l.color)||"primary"}),c=wHe(u);return Y.jsx(VB,G({slots:{root:yHe,input:SHe},slotProps:{root:{disableUnderline:s}}},a,{label:n,classes:c,ref:i}))});Qne.muiName="Input";function EHe(t){return at("MuiPickersFilledInput",t)}const dy=G({},Sm,lt("MuiPickersInput",["root","input"])),bHe=["label","autoFocus","disableUnderline","ownerState"],RHe=be(tM,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let i=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(i=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dy.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dy.disabled}, .${dy.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${dy.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),THe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},EHe,e);return G({},e,n)},Zne=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersInput"}),{label:n,disableUnderline:s=!1,ownerState:o}=r,a=Oe(r,bHe),l=Vl(),u=G({},r,o,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),c=THe(u);return Y.jsx(VB,G({slots:{root:RHe}},a,{label:n,classes:c,ref:i}))});Zne.muiName="Input";const DHe=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],PHe={standard:Zne,filled:Qne,outlined:Xne},xHe=be(Lne,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),AHe=t=>{const{focused:e,disabled:i,classes:r,required:n}=t;return ot({root:["root",e&&!i&&"focused",i&&"disabled",n&&"required"]},YVe,r)},OHe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersTextField"}),{onFocus:n,onBlur:s,className:o,color:a="primary",disabled:l=!1,error:u=!1,variant:c="outlined",required:d=!1,InputProps:h,inputProps:f,inputRef:g,sectionListRef:v,elements:C,areAllSectionsEmpty:S,onClick:y,onKeyDown:w,onPaste:E,onInput:b,endAdornment:D,startAdornment:P,tabIndex:O,contentEditable:N,focused:_,value:L,onChange:k,fullWidth:$,id:U,name:K,helperText:j,FormHelperTextProps:Q,label:H,InputLabelProps:X}=r,te=Oe(r,DHe),le=T.useRef(null),J=ri(i,le),ie=Ic(U),ue=j&&ie?`${ie}-helper-text`:void 0,me=H&&ie?`${ie}-label`:void 0,se=G({},r,{color:a,disabled:l,error:u,focused:_,required:d,variant:c}),he=AHe(se),Ee=PHe[c];return Y.jsxs(xHe,G({className:Le(he.root,o),ref:J,focused:_,onFocus:n,onBlur:s,disabled:l,variant:c,error:u,color:a,fullWidth:$,required:d,ownerState:se},te,{children:[Y.jsx(Ine,G({htmlFor:ie,id:me},X,{children:H})),Y.jsx(Ee,G({elements:C,areAllSectionsEmpty:S,onClick:y,onKeyDown:w,onInput:b,onPaste:E,endAdornment:D,startAdornment:P,tabIndex:O,contentEditable:N,value:L,onChange:k,id:ie,fullWidth:$,inputProps:f,inputRef:g,sectionListRef:v,label:H,name:K,role:"group","aria-labelledby":me},h)),j&&Y.jsx(_ne,G({id:ue},Q,{children:j}))]}))}),MHe=t=>t.match(/^([A-Za-z]+)Range(Calendar|Clock)$/)?"multi-panel-UI-view":t.match(/^([A-Za-z]*)(DigitalClock)$/)?"Tall-UI-view":t.match(/^Static([A-Za-z]+)/)||t.match(/^([A-Za-z]+)(Calendar|Clock)$/)?"UI-view":t.match(/^MultiInput([A-Za-z]+)RangeField$/)||t.match(/^([A-Za-z]+)RangePicker$/)?"multi-input-range-field":t.match(/^SingleInput([A-Za-z]+)RangeField$/)?"single-input-range-field":"single-input-field",FHe=t=>t.includes("DateTime")?"date-time":t.includes("Date")?"date":"time",IHe=t=>T.isValidElement(t)&&typeof t.type!="string"?t.type.displayName==="DemoItem":!1;function LHe(t){const{children:e,components:i,sx:r}=t,n=new Set,s=new Set;i.forEach(f=>{n.add(MHe(f)),s.add(FHe(f))});const o=f=>f==="row"?n.has("UI-view")||n.has("Tall-UI-view")?3:2:n.has("UI-view")?4:3;let a,l,u={},c={};const d=G({overflow:"auto",pt:1},r);i.length>2||n.has("multi-input-range-field")||n.has("single-input-range-field")||n.has("multi-panel-UI-view")||n.has("UI-view")||s.has("date-time")?(a="column",l=o("column")):(a={xs:"column",lg:"row"},l={xs:o("column"),lg:o("row")}),n.has("UI-view")||(n.has("single-input-range-field")?s.has("date-time")?u={[`& > .${ly.root}, & > .${uy.root}`]:{minWidth:{xs:300,md:n.has("multi-input-range-field")?460:400}}}:u={[`& > .${ly.root}, & > .${uy.root}`]:{minWidth:300}}:s.has("date-time")?(u={[`& > .${ly.root}, & > .${uy.root}`]:{minWidth:270}},n.has("multi-input-range-field")&&(c={[`& > .${t4.root} > .${ly.root}, & > .${t4.root} > .${uy.root}`]:{minWidth:210}})):u={[`& > .${ly.root}, & > .${uy.root}`]:{minWidth:200}});const h=G({},d,u);return Y.jsx(KVe,{direction:a,spacing:l,sx:h,children:T.Children.map(e,f=>T.isValidElement(f)&&IHe(f)?T.cloneElement(f,{sx:G({},u,c)}):f)})}var Jne={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i=1e3,r=6e4,n=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",g="date",v="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var K=["th","st","nd","rd"],j=U%100;return"["+U+(K[(j-20)%10]||K[j]||K[0])+"]"}},w=function(U,K,j){var Q=String(U);return!Q||Q.length>=K?U:""+Array(K+1-Q.length).join(j)+U},E={s:w,z:function(U){var K=-U.utcOffset(),j=Math.abs(K),Q=Math.floor(j/60),H=j%60;return(K<=0?"+":"-")+w(Q,2,"0")+":"+w(H,2,"0")},m:function U(K,j){if(K.date()<j.date())return-U(j,K);var Q=12*(j.year()-K.year())+(j.month()-K.month()),H=K.clone().add(Q,d),X=j-H<0,te=K.clone().add(Q+(X?-1:1),d);return+(-(Q+(j-H)/(X?H-te:te-H))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:f,w:c,d:u,D:g,h:l,m:a,s:o,ms:s,Q:h}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},b="en",D={};D[b]=y;var P="$isDayjsObject",O=function(U){return U instanceof k||!(!U||!U[P])},N=function U(K,j,Q){var H;if(!K)return b;if(typeof K=="string"){var X=K.toLowerCase();D[X]&&(H=X),j&&(D[X]=j,H=X);var te=K.split("-");if(!H&&te.length>1)return U(te[0])}else{var le=K.name;D[le]=K,H=le}return!Q&&H&&(b=H),H||!Q&&b},_=function(U,K){if(O(U))return U.clone();var j=typeof K=="object"?K:{};return j.date=U,j.args=arguments,new k(j)},L=E;L.l=N,L.i=O,L.w=function(U,K){return _(U,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var k=function(){function U(j){this.$L=N(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[P]=!0}var K=U.prototype;return K.parse=function(j){this.$d=function(Q){var H=Q.date,X=Q.utc;if(H===null)return new Date(NaN);if(L.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var te=H.match(C);if(te){var le=te[2]-1||0,J=(te[7]||"0").substring(0,3);return X?new Date(Date.UTC(te[1],le,te[3]||1,te[4]||0,te[5]||0,te[6]||0,J)):new Date(te[1],le,te[3]||1,te[4]||0,te[5]||0,te[6]||0,J)}}return new Date(H)}(j),this.init()},K.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},K.$utils=function(){return L},K.isValid=function(){return this.$d.toString()!==v},K.isSame=function(j,Q){var H=_(j);return this.startOf(Q)<=H&&H<=this.endOf(Q)},K.isAfter=function(j,Q){return _(j)<this.startOf(Q)},K.isBefore=function(j,Q){return this.endOf(Q)<_(j)},K.$g=function(j,Q,H){return L.u(j)?this[Q]:this.set(H,j)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(j,Q){var H=this,X=!!L.u(Q)||Q,te=L.p(j),le=function(pe,ye){var Ce=L.w(H.$u?Date.UTC(H.$y,ye,pe):new Date(H.$y,ye,pe),H);return X?Ce:Ce.endOf(u)},J=function(pe,ye){return L.w(H.toDate()[pe].apply(H.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(ye)),H)},ie=this.$W,ue=this.$M,me=this.$D,se="set"+(this.$u?"UTC":"");switch(te){case f:return X?le(1,0):le(31,11);case d:return X?le(1,ue):le(0,ue+1);case c:var he=this.$locale().weekStart||0,Ee=(ie<he?ie+7:ie)-he;return le(X?me-Ee:me+(6-Ee),ue);case u:case g:return J(se+"Hours",0);case l:return J(se+"Minutes",1);case a:return J(se+"Seconds",2);case o:return J(se+"Milliseconds",3);default:return this.clone()}},K.endOf=function(j){return this.startOf(j,!1)},K.$set=function(j,Q){var H,X=L.p(j),te="set"+(this.$u?"UTC":""),le=(H={},H[u]=te+"Date",H[g]=te+"Date",H[d]=te+"Month",H[f]=te+"FullYear",H[l]=te+"Hours",H[a]=te+"Minutes",H[o]=te+"Seconds",H[s]=te+"Milliseconds",H)[X],J=X===u?this.$D+(Q-this.$W):Q;if(X===d||X===f){var ie=this.clone().set(g,1);ie.$d[le](J),ie.init(),this.$d=ie.set(g,Math.min(this.$D,ie.daysInMonth())).$d}else le&&this.$d[le](J);return this.init(),this},K.set=function(j,Q){return this.clone().$set(j,Q)},K.get=function(j){return this[L.p(j)]()},K.add=function(j,Q){var H,X=this;j=Number(j);var te=L.p(Q),le=function(ue){var me=_(X);return L.w(me.date(me.date()+Math.round(ue*j)),X)};if(te===d)return this.set(d,this.$M+j);if(te===f)return this.set(f,this.$y+j);if(te===u)return le(1);if(te===c)return le(7);var J=(H={},H[a]=r,H[l]=n,H[o]=i,H)[te]||1,ie=this.$d.getTime()+j*J;return L.w(ie,this)},K.subtract=function(j,Q){return this.add(-1*j,Q)},K.format=function(j){var Q=this,H=this.$locale();if(!this.isValid())return H.invalidDate||v;var X=j||"YYYY-MM-DDTHH:mm:ssZ",te=L.z(this),le=this.$H,J=this.$m,ie=this.$M,ue=H.weekdays,me=H.months,se=H.meridiem,he=function(ye,Ce,re,oe){return ye&&(ye[Ce]||ye(Q,X))||re[Ce].slice(0,oe)},Ee=function(ye){return L.s(le%12||12,ye,"0")},pe=se||function(ye,Ce,re){var oe=ye<12?"AM":"PM";return re?oe.toLowerCase():oe};return X.replace(S,function(ye,Ce){return Ce||function(re){switch(re){case"YY":return String(Q.$y).slice(-2);case"YYYY":return L.s(Q.$y,4,"0");case"M":return ie+1;case"MM":return L.s(ie+1,2,"0");case"MMM":return he(H.monthsShort,ie,me,3);case"MMMM":return he(me,ie);case"D":return Q.$D;case"DD":return L.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return he(H.weekdaysMin,Q.$W,ue,2);case"ddd":return he(H.weekdaysShort,Q.$W,ue,3);case"dddd":return ue[Q.$W];case"H":return String(le);case"HH":return L.s(le,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return pe(le,J,!0);case"A":return pe(le,J,!1);case"m":return String(J);case"mm":return L.s(J,2,"0");case"s":return String(Q.$s);case"ss":return L.s(Q.$s,2,"0");case"SSS":return L.s(Q.$ms,3,"0");case"Z":return te}return null}(ye)||te.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(j,Q,H){var X,te=this,le=L.p(Q),J=_(j),ie=(J.utcOffset()-this.utcOffset())*r,ue=this-J,me=function(){return L.m(te,J)};switch(le){case f:X=me()/12;break;case d:X=me();break;case h:X=me()/3;break;case c:X=(ue-ie)/6048e5;break;case u:X=(ue-ie)/864e5;break;case l:X=ue/n;break;case a:X=ue/r;break;case o:X=ue/i;break;default:X=ue}return H?X:L.a(X)},K.daysInMonth=function(){return this.endOf(d).$D},K.$locale=function(){return D[this.$L]},K.locale=function(j,Q){if(!j)return this.$L;var H=this.clone(),X=N(j,Q,!0);return X&&(H.$L=X),H},K.clone=function(){return L.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},U}(),$=k.prototype;return _.prototype=$,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",g]].forEach(function(U){$[U[1]]=function(K){return this.$g(K,U[0],U[1])}}),_.extend=function(U,K){return U.$i||(U(K,k,_),U.$i=!0),_},_.locale=N,_.isDayjs=O,_.unix=function(U){return _(1e3*U)},_.en=D[b],_.Ls=D,_.p={},_})})(Jne);var _He=Jne.exports;const or=Pt(_He);var ese={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i="week",r="year";return function(n,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(r).add(1,r).date(u),d=o(this).endOf(i);if(c.isBefore(d))return 1}var h=o(this).startOf(r).date(u).startOf(i).subtract(1,"millisecond"),f=this.diff(h,i,!0);return f<0?o(this).startOf("week").week():Math.ceil(f)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(ese);var NHe=ese.exports;const GHe=Pt(NHe);var tse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(v){return(v=+v)+(v>68?1900:2e3)},u=function(v){return function(C){this[v]=+C}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(C){if(!C||C==="Z")return 0;var S=C.match(/([+-]|\d\d)/g),y=60*S[1]+(+S[2]||0);return y===0?0:S[0]==="+"?-y:y}(v)}],d=function(v){var C=a[v];return C&&(C.indexOf?C:C.s.concat(C.f))},h=function(v,C){var S,y=a.meridiem;if(y){for(var w=1;w<=24;w+=1)if(v.indexOf(y(w,0,C))>-1){S=w>12;break}}else S=v===(C?"pm":"PM");return S},f={A:[o,function(v){this.afternoon=h(v,!1)}],a:[o,function(v){this.afternoon=h(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[n,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[n,u("day")],Do:[o,function(v){var C=a.ordinal,S=v.match(/\d+/);if(this.day=S[0],C)for(var y=1;y<=31;y+=1)C(y).replace(/\[|\]/g,"")===v&&(this.day=y)}],M:[s,u("month")],MM:[n,u("month")],MMM:[o,function(v){var C=d("months"),S=(d("monthsShort")||C.map(function(y){return y.slice(0,3)})).indexOf(v)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[o,function(v){var C=d("months").indexOf(v)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,u("year")],YY:[n,function(v){this.year=l(v)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function g(v){var C,S;C=v,S=a&&a.formats;for(var y=(v=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,_,L){var k=L&&L.toUpperCase();return _||S[L]||i[L]||S[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function($,U,K){return U||K.slice(1)})})).match(r),w=y.length,E=0;E<w;E+=1){var b=y[E],D=f[b],P=D&&D[0],O=D&&D[1];y[E]=O?{regex:P,parser:O}:b.replace(/^\[|\]$/g,"")}return function(N){for(var _={},L=0,k=0;L<w;L+=1){var $=y[L];if(typeof $=="string")k+=$.length;else{var U=$.regex,K=$.parser,j=N.slice(k),Q=U.exec(j)[0];K.call(_,Q),N=N.replace(Q,"")}}return function(H){var X=H.afternoon;if(X!==void 0){var te=H.hours;X?te<12&&(H.hours+=12):te===12&&(H.hours=0),delete H.afternoon}}(_),_}}return function(v,C,S){S.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(l=v.parseTwoDigitYear);var y=C.prototype,w=y.parse;y.parse=function(E){var b=E.date,D=E.utc,P=E.args;this.$u=D;var O=P[1];if(typeof O=="string"){var N=P[2]===!0,_=P[3]===!0,L=N||_,k=P[2];_&&(k=P[2]),a=this.$locale(),!N&&k&&(a=S.Ls[k]),this.$d=function(j,Q,H){try{if(["x","X"].indexOf(Q)>-1)return new Date((Q==="X"?1e3:1)*j);var X=g(Q)(j),te=X.year,le=X.month,J=X.day,ie=X.hours,ue=X.minutes,me=X.seconds,se=X.milliseconds,he=X.zone,Ee=new Date,pe=J||(te||le?1:Ee.getDate()),ye=te||Ee.getFullYear(),Ce=0;te&&!le||(Ce=le>0?le-1:Ee.getMonth());var re=ie||0,oe=ue||0,fe=me||0,we=se||0;return he?new Date(Date.UTC(ye,Ce,pe,re,oe,fe,we+60*he.offset*1e3)):H?new Date(Date.UTC(ye,Ce,pe,re,oe,fe,we)):new Date(ye,Ce,pe,re,oe,fe,we)}catch{return new Date("")}}(b,O,D),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),L&&b!=this.format(O)&&(this.$d=new Date("")),a={}}else if(O instanceof Array)for(var $=O.length,U=1;U<=$;U+=1){P[1]=O[U-1];var K=S.apply(this,P);if(K.isValid()){this.$d=K.$d,this.$L=K.$L,this.init();break}U===$&&(this.$d=new Date(""))}else w.call(this,E)}}})})(tse);var kHe=tse.exports;const VHe=Pt(kHe);var ise={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,n,s){var o=n.prototype,a=o.format;s.en.formats=i,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,g,v){var C=v&&v.toUpperCase();return g||h[v]||i[v]||h[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,y,w){return y||w.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(ise);var HHe=ise.exports;const rse=Pt(HHe);var nse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r,n){r.prototype.isBetween=function(s,o,a,l){var u=n(s),c=n(o),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(u,a):!this.isBefore(u,a))&&(h?this.isBefore(c,a):!this.isAfter(c,a))||(d?this.isBefore(u,a):!this.isAfter(u,a))&&(h?this.isAfter(c,a):!this.isBefore(c,a))}}})})(nse);var $He=nse.exports;const sse=Pt($He);var ose={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r){var n=r.prototype,s=n.format;n.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var u=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return u.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(c)}}})})(ose);var BHe=ose.exports;const WHe=Pt(BHe),ase=(t,e="warning")=>{let i=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{i||(i=!0,e==="error"?console.error(r):console.warn(r))}};or.extend(rse);or.extend(GHe);or.extend(sse);or.extend(WHe);const UHe=ase(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),zHe={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},jHe={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},UL=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),r4=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),KHe=(t,e)=>e?(...i)=>t(...i).locale(e):t;class YHe{constructor({locale:e,formats:i}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=zHe,this.setLocaleToValue=r=>{const n=this.getCurrentLocaleCode();return n===r.locale()?r:r.locale(n)},this.hasUTCPlugin=()=>typeof or.utc<"u",this.hasTimezonePlugin=()=>typeof or.tz<"u",this.isSame=(r,n,s)=>{const o=this.setTimezone(n,this.getTimezone(r));return r.format(s)===o.format(s)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return or.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const n=or.tz.guess();return n!=="UTC"?or.tz(r,n):or(r)}return or(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(UL);return or.utc(r)},this.createTZDate=(r,n)=>{if(!this.hasUTCPlugin())throw new Error(UL);if(!this.hasTimezonePlugin())throw new Error(r4);const s=r!==void 0&&!r.endsWith("Z");return or(r).tz(this.cleanTimezone(n),s)},this.getLocaleFormats=()=>{const r=or.Ls,n=this.locale||"en";let s=r[n];return s===void 0&&(UHe(),s=r.en),s.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const n=this.getTimezone(r);if(n!=="UTC"){const s=r.tz(this.cleanTimezone(n),!0);return(s.$offset??0)===(r.$offset??0)?r:s}return r},this.date=(r,n="default")=>{if(r===null)return null;let s;return n==="UTC"?s=this.createUTCDate(r):n==="system"||n==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(r):s=this.createTZDate(r,n),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>or(new Date("Invalid date")),this.getTimezone=r=>{var n;if(this.hasTimezonePlugin()){const s=(n=r.$x)==null?void 0:n.$timezone;if(s)return s}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,n)=>{if(this.getTimezone(r)===n)return r;if(n==="UTC"){if(!this.hasUTCPlugin())throw new Error(UL);return r.utc()}if(n==="system")return r.local();if(!this.hasTimezonePlugin()){if(n==="default")return r;throw new Error(r4)}return or.tz(r,this.cleanTimezone(n))},this.toJsDate=r=>r.toDate(),this.parse=(r,n)=>r===""?null:this.dayjs(r,n,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const n=this.getLocaleFormats(),s=o=>o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(a,l,u)=>l||u.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(o,a,l)=>{const u=l&&l.toUpperCase();return a||n[l]||s(n[u])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,n)=>this.formatByString(r,this.formats[n]),this.formatByString=(r,n)=>this.dayjs(r).format(n),this.formatNumber=r=>r,this.isEqual=(r,n)=>r===null&&n===null?!0:r===null||n===null?!1:r.toDate().getTime()===n.toDate().getTime(),this.isSameYear=(r,n)=>this.isSame(r,n,"YYYY"),this.isSameMonth=(r,n)=>this.isSame(r,n,"YYYY-MM"),this.isSameDay=(r,n)=>this.isSame(r,n,"YYYY-MM-DD"),this.isSameHour=(r,n)=>r.isSame(n,"hour"),this.isAfter=(r,n)=>r>n,this.isAfterYear=(r,n)=>this.hasUTCPlugin()?!this.isSameYear(r,n)&&r.utc()>n.utc():r.isAfter(n,"year"),this.isAfterDay=(r,n)=>this.hasUTCPlugin()?!this.isSameDay(r,n)&&r.utc()>n.utc():r.isAfter(n,"day"),this.isBefore=(r,n)=>r<n,this.isBeforeYear=(r,n)=>this.hasUTCPlugin()?!this.isSameYear(r,n)&&r.utc()<n.utc():r.isBefore(n,"year"),this.isBeforeDay=(r,n)=>this.hasUTCPlugin()?!this.isSameDay(r,n)&&r.utc()<n.utc():r.isBefore(n,"day"),this.isWithinRange=(r,[n,s])=>r>=n&&r<=s,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(r.startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(r.endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"year"):r.add(n,"year")),this.addMonths=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"month"):r.add(n,"month")),this.addWeeks=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"week"):r.add(n,"week")),this.addDays=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"day"):r.add(n,"day")),this.addHours=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"hour"):r.add(n,"hour")),this.addMinutes=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"minute"):r.add(n,"minute")),this.addSeconds=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"second"):r.add(n,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,n)=>this.adjustOffset(r.set("year",n)),this.setMonth=(r,n)=>this.adjustOffset(r.set("month",n)),this.setDate=(r,n)=>this.adjustOffset(r.set("date",n)),this.setHours=(r,n)=>this.adjustOffset(r.set("hour",n)),this.setMinutes=(r,n)=>this.adjustOffset(r.set("minute",n)),this.setSeconds=(r,n)=>this.adjustOffset(r.set("second",n)),this.setMilliseconds=(r,n)=>this.adjustOffset(r.set("millisecond",n)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const n=this.setLocaleToValue(r),s=this.startOfWeek(this.startOfMonth(n)),o=this.endOfWeek(this.endOfMonth(n));let a=0,l=s;const u=[];for(;l<o;){const c=Math.floor(a/7);u[c]=u[c]||[],u[c].push(l),l=this.addDays(l,1),a+=1}return u},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,n])=>{const s=this.startOfYear(r),o=this.endOfYear(n),a=[];let l=s;for(;this.isBefore(l,o);)a.push(l),l=this.addYears(l,1);return a},this.dayjs=KHe(or,e),this.locale=e,this.formats=G({},jHe,i),or.extend(VHe)}getDayOfWeek(e){return e.day()+1}}const qHe=["localeText"],j1=T.createContext(null),HB=function(e){const{localeText:i}=e,r=Oe(e,qHe),{utils:n,localeText:s}=T.useContext(j1)??{utils:void 0,localeText:void 0},o=rt({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:u,dateLibInstance:c,adapterLocale:d,localeText:h}=o,f=T.useMemo(()=>G({},h,s,i),[h,s,i]),g=T.useMemo(()=>{if(!l)return n||null;const S=new l({locale:d,formats:u,instance:c});if(!S.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return S},[l,d,u,c,n]),v=T.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),C=T.useMemo(()=>({utils:g,defaultDates:v,localeText:f}),[v,g,f]);return Y.jsx(j1.Provider,{value:C,children:a})},hy=(t,e)=>t.length!==e.length?!1:e.every(i=>t.includes(i)),XHe=({openTo:t,defaultOpenTo:e,views:i,defaultViews:r})=>{const n=i??r;let s;if(t!=null)s=t;else if(n.includes(e))s=e;else if(n.length>0)s=n[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:n,openTo:s}},_x=(t,e,i)=>{let r=e;return r=t.setHours(r,t.getHours(i)),r=t.setMinutes(r,t.getMinutes(i)),r=t.setSeconds(r,t.getSeconds(i)),r},CS=({date:t,disableFuture:e,disablePast:i,maxDate:r,minDate:n,isDateDisabled:s,utils:o,timezone:a})=>{const l=_x(o,o.date(void 0,a),t);i&&o.isBefore(n,l)&&(n=l),e&&o.isAfter(r,l)&&(r=l);let u=t,c=t;for(o.isBefore(t,n)&&(u=n,c=null),o.isAfter(t,r)&&(c&&(c=r),u=null);u||c;){if(u&&o.isAfter(u,r)&&(u=null),c&&o.isBefore(c,n)&&(c=null),u){if(!s(u))return u;u=o.addDays(u,1)}if(c){if(!s(c))return c;c=o.addDays(c,-1)}}return null},QHe=(t,e)=>e==null||!t.isValid(e)?null:e,$a=(t,e,i)=>e==null||!t.isValid(e)?i:e,ZHe=(t,e,i)=>!t.isValid(e)&&e!=null&&!t.isValid(i)&&i!=null?!0:t.isEqual(e,i),$B=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const n=r[r.length-1];r.push(t.addMonths(n,1))}return r},lse=(t,e,i)=>i==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),JHe=["year","month","day"],n4=t=>JHe.includes(t),BB=(t,{format:e,views:i},r)=>{if(e!=null)return e;const n=t.formats;return hy(i,["year"])?n.year:hy(i,["month"])?n.month:hy(i,["day"])?n.dayOfMonth:hy(i,["month","year"])?`${n.month} ${n.year}`:hy(i,["day","month"])?`${n.month} ${n.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?n.normalDateWithWeekday:n.normalDate:n.keyboardDate},e$e=(t,e)=>{const i=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(i,r))},t$e=["hours","minutes","seconds"],i$e=t=>t$e.includes(t),s4=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),r$e=(t,e)=>(i,r)=>t?e.isAfter(i,r):s4(i,e)>s4(r,e),su={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},n$e=t=>Math.max(...t.map(e=>su[e.type]??1)),py=(t,e,i)=>{if(e===su.year)return t.startOfYear(i);if(e===su.month)return t.startOfMonth(i);if(e===su.day)return t.startOfDay(i);let r=i;return e<su.minutes&&(r=t.setMinutes(r,0)),e<su.seconds&&(r=t.setSeconds(r,0)),e<su.milliseconds&&(r=t.setMilliseconds(r,0)),r},s$e=({props:t,utils:e,granularity:i,timezone:r,getTodayDate:n})=>{let s=n?n():py(e,i,lse(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=py(e,i,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=py(e,i,t.maxDate));const o=r$e(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&o(t.minTime,s)&&(s=py(e,i,t.disableIgnoringDatePartForTimeValidation?t.minTime:_x(e,s,t.minTime))),t.maxTime!=null&&o(s,t.maxTime)&&(s=py(e,i,t.disableIgnoringDatePartForTimeValidation?t.maxTime:_x(e,s,t.maxTime))),s},use=(t,e)=>{const i=t.formatTokenMap[e];if(i==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof i=="string"?{type:i,contentType:i==="meridiem"?"letter":"digit",maxLength:void 0}:{type:i.sectionType,contentType:i.contentType,maxLength:i.maxLength}},o$e=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},iM=(t,e,i)=>{const r=[],n=t.date(void 0,e),s=t.startOfWeek(n),o=t.endOfWeek(n);let a=s;for(;t.isBefore(a,o);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,i))},cse=(t,e,i,r)=>{switch(i){case"month":return $B(t,t.date(void 0,e)).map(n=>t.formatByString(n,r));case"weekDay":return iM(t,e,r);case"meridiem":{const n=t.date(void 0,e);return[t.startOfDay(n),t.endOfDay(n)].map(s=>t.formatByString(s,r))}default:return[]}},o4="s",a$e=["0","1","2","3","4","5","6","7","8","9"],l$e=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),o4)==="0"?a$e:Array.from({length:10}).map((r,n)=>t.formatByString(t.setSeconds(e,n),o4))},lf=(t,e)=>{if(e[0]==="0")return t;const i=[];let r="";for(let n=0;n<t.length;n+=1){r+=t[n];const s=e.indexOf(r);s>-1&&(i.push(s.toString()),r="")}return i.join("")},WB=(t,e)=>e[0]==="0"?t:t.split("").map(i=>e[Number(i)]).join(""),a4=(t,e)=>{const i=lf(t,e);return!Number.isNaN(Number(i))},dse=(t,e)=>{let i=t;for(i=Number(i).toString();i.length<e;)i=`0${i}`;return i},hse=(t,e,i,r,n)=>{if(n.type==="day"&&n.contentType==="digit-with-letter"){const o=t.setDate(i.longestMonth,e);return t.formatByString(o,n.format)}let s=e.toString();return n.hasLeadingZerosInInput&&(s=dse(s,n.maxLength)),WB(s,r)},u$e=(t,e,i,r,n,s,o,a)=>{const l=o$e(r),u=r==="Home",c=r==="End",d=i.value===""||u||c,h=()=>{const g=n[i.type]({currentDate:o,format:i.format,contentType:i.contentType}),v=w=>hse(t,w,g,s,i),C=i.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let y=parseInt(lf(i.value,s),10)+l*C;if(d){if(i.type==="year"&&!c&&!u)return t.formatByString(t.date(void 0,e),i.format);l>0||u?y=g.minimum:y=g.maximum}return y%C!==0&&((l<0||u)&&(y+=C-(C+y)%C),(l>0||c)&&(y-=y%C)),y>g.maximum?v(g.minimum+(y-g.maximum-1)%(g.maximum-g.minimum+1)):y<g.minimum?v(g.maximum-(g.minimum-y-1)%(g.maximum-g.minimum+1)):v(y)},f=()=>{const g=cse(t,e,i.type,i.format);if(g.length===0)return i.value;if(d)return l>0||u?g[0]:g[g.length-1];const C=(g.indexOf(i.value)+g.length+l)%g.length;return g[C]};return i.contentType==="digit"||i.contentType==="digit-with-letter"?h():f()},UB=(t,e,i)=>{let r=t.value||t.placeholder;const n=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(lf(r,i)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!n&&r.length===1&&(r=`${r}`),e==="input-rtl"&&(r=`${r}`),r},l4=(t,e,i,r)=>t.formatByString(t.parse(e,i),r),pse=(t,e,i)=>t.formatByString(t.date(void 0,e),i).length===4,fse=(t,e,i,r,n)=>{if(i!=="digit")return!1;const s=t.date(void 0,e);switch(r){case"year":return pse(t,e,n)?t.formatByString(t.setYear(s,1),n)==="0001":t.formatByString(t.setYear(s,2001),n)==="01";case"month":return t.formatByString(t.startOfYear(s),n).length>1;case"day":return t.formatByString(t.startOfMonth(s),n).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),n).length>1;case"hours":return t.formatByString(t.setHours(s,1),n).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),n).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),n).length>1;default:throw new Error("Invalid section type")}},c$e=(t,e,i)=>{const r=e.some(l=>l.type==="day"),n=[],s=[];for(let l=0;l<e.length;l+=1){const u=e[l];r&&u.type==="weekDay"||(n.push(u.format),s.push(UB(u,"non-input",i)))}const o=n.join(" "),a=s.join(" ");return t.parse(a,o)},d$e=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),h$e=(t,e,i)=>{const n=t.map(s=>{const o=UB(s,i?"input-rtl":"input-ltr",e);return`${s.startSeparator}${o}${s.endSeparator}`}).join("");return i?`${n}`:n},p$e=(t,e,i)=>{const r=t.date(void 0,i),n=t.endOfYear(r),s=t.endOfDay(r),{maxDaysInMonth:o,longestMonth:a}=$B(t,r).reduce((l,u)=>{const c=t.getDaysInMonth(u);return c>l.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:u}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:pse(t,i,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(n)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):o,longestMonth:a}),weekDay:({format:l,contentType:u})=>{if(u==="digit"){const c=iM(t,i,l).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const u=t.getHours(s);return lf(t.formatByString(t.endOfDay(r),l),e)!==u.toString()?{minimum:1,maximum:Number(lf(t.formatByString(t.startOfDay(r),l),e))}:{minimum:0,maximum:u}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},f$e=(t,e,i,r,n)=>{switch(i.type){case"year":return t.setYear(n,t.getYear(r));case"month":return t.setMonth(n,t.getMonth(r));case"weekDay":{const s=iM(t,e,i.format),o=t.formatByString(r,i.format),a=s.indexOf(o),u=s.indexOf(i.value)-a;return t.addDays(r,u)}case"day":return t.setDate(n,t.getDate(r));case"meridiem":{const s=t.getHours(r)<12,o=t.getHours(n);return s&&o>=12?t.addHours(n,-12):!s&&o<12?t.addHours(n,12):n}case"hours":return t.setHours(n,t.getHours(r));case"minutes":return t.setMinutes(n,t.getMinutes(r));case"seconds":return t.setSeconds(n,t.getSeconds(r));default:return n}},u4={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},c4=(t,e,i,r,n,s)=>[...r].sort((o,a)=>u4[o.type]-u4[a.type]).reduce((o,a)=>!s||a.modified?f$e(t,e,a,i,o):o,n),g$e=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,m$e=(t,e)=>{const i={};if(!e)return t.forEach((l,u)=>{const c=u===0?null:u-1,d=u===t.length-1?null:u+1;i[u]={leftIndex:c,rightIndex:d}}),{neighbors:i,startIndex:0,endIndex:t.length-1};const r={},n={};let s=0,o=0,a=t.length-1;for(;a>=0;){o=t.findIndex((l,u)=>{var c;return u>=s&&((c=l.endSeparator)==null?void 0:c.includes(" "))&&l.endSeparator!==" / "}),o===-1&&(o=t.length-1);for(let l=o;l>=s;l-=1)n[l]=a,r[a]=l,a-=1;s=o+1}return t.forEach((l,u)=>{const c=n[u],d=c===0?null:r[c-1],h=c===t.length-1?null:r[c+1];i[u]={leftIndex:d,rightIndex:h}}),{neighbors:i,startIndex:r[0],endIndex:r[t.length-1]}},K1=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(i=>i.type===t):t,v$e=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const i=e.parse(t.value,t.format);return i?e.format(i,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},C$e=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const i=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return i?e.getHours(i)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const i=e.parse(t.value,t.format);return i?e.getMonth(i)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},y$e=["value","referenceDate"],Pc={emptyValue:null,getTodayValue:lse,getInitialReferenceValue:t=>{let{value:e,referenceDate:i}=t,r=Oe(t,y$e);return e!=null&&r.utils.isValid(e)?e:i??s$e(r)},cleanValue:QHe,areValuesEqual:ZHe,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,i)=>i==null?null:t.setTimezone(i,e)},S$e={updateReferenceValue:(t,e,i)=>e==null||!t.isValid(e)?i:e,getSectionsFromValue:(t,e,i,r)=>!t.isValid(e)&&!!i?i:r(e),getV7HiddenInputValueFromSections:d$e,getV6InputValueFromSections:h$e,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:i=>i,getNewValuesFromNewActiveDate:i=>({value:i,referenceValue:i==null||!t.isValid(i)?e.referenceValue:i})}),parseValueStr:(t,e,i)=>i(t.trim(),e)},w$e=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:G({},t)}}}}),gse={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,i)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${i.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},E$e=gse;w$e(gse);const Xf=()=>{const t=T.useContext(j1);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=T.useMemo(()=>G({},E$e,t.localeText),[t.localeText]);return T.useMemo(()=>G({},t,{localeText:e}),[t,e])},Li=()=>Xf().utils,Ub=()=>Xf().defaultDates,Yc=()=>Xf().localeText,rM=t=>{const e=Li(),i=T.useRef();return i.current===void 0&&(i.current=e.date(void 0,t)),i.current};function b$e(t){return at("MuiPickersToolbar",t)}lt("MuiPickersToolbar",["root","content"]);const R$e=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],T$e=t=>{const{classes:e,isLandscape:i}=t;return ot({root:["root"],content:["content"],penIconButton:["penIconButton",i&&"penIconButtonLandscape"]},b$e,e)},D$e=be("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),P$e=be("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),x$e=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersToolbar"}),{children:n,className:s,toolbarTitle:o,hidden:a,titleId:l}=r,u=Oe(r,R$e),c=r,d=T$e(c);return a?null:Y.jsxs(D$e,G({ref:i,className:Le(d.root,s),ownerState:c},u,{children:[Y.jsx(Fo,{color:"text.secondary",variant:"overline",id:l,children:o}),Y.jsx(P$e,{className:d.content,ownerState:c,children:n})]}))});function A$e(t){return at("MuiDatePickerToolbar",t)}lt("MuiDatePickerToolbar",["root","title"]);const O$e=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],M$e=t=>{const{classes:e}=t;return ot({root:["root"],title:["title"]},A$e,e)},F$e=be(x$e,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),I$e=be(Fo,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),L$e=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDatePickerToolbar"}),{value:n,isLandscape:s,toolbarFormat:o,toolbarPlaceholder:a="",views:l,className:u}=r,c=Oe(r,O$e),d=Li(),h=Yc(),f=M$e(r),g=T.useMemo(()=>{if(!n)return a;const C=BB(d,{format:o,views:l},!0);return d.formatByString(n,C)},[n,o,a,d,l]),v=r;return Y.jsx(F$e,G({ref:i,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:Le(f.root,u)},c,{children:Y.jsx(I$e,{variant:"h4",align:s?"left":"center",ownerState:v,className:f.title,children:g})}))});function mse(t,e){const i=Li(),r=Ub(),n=rt({props:t,name:e}),s=T.useMemo(()=>{var o;return((o=n.localeText)==null?void 0:o.toolbarTitle)==null?n.localeText:G({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return G({},n,{localeText:s},XHe({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:n.disableFuture??!1,disablePast:n.disablePast??!1,minDate:$a(i,n.minDate,r.minDate),maxDate:$a(i,n.maxDate,r.maxDate),slots:G({toolbar:L$e},n.slots)})}const nM=({props:t,value:e,adapter:i})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:n,shouldDisableYear:s,disablePast:o,disableFuture:a,timezone:l}=t,u=i.utils.date(void 0,l),c=$a(i.utils,t.minDate,i.defaultDates.minDate),d=$a(i.utils,t.maxDate,i.defaultDates.maxDate);switch(!0){case!i.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(n&&n(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(a&&i.utils.isAfterDay(e,u)):return"disableFuture";case!!(o&&i.utils.isBeforeDay(e,u)):return"disablePast";case!!(c&&i.utils.isBeforeDay(e,c)):return"minDate";case!!(d&&i.utils.isAfterDay(e,d)):return"maxDate";default:return null}};function _$e(t){return at("MuiInputAdornment",t)}const N$e=lt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),d4=N$e;var h4;const G$e=["children","className","component","disablePointerEvents","disableTypography","position","variant"],k$e=(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${$e(i.position)}`],i.disablePointerEvents===!0&&e.disablePointerEvents,e[i.variant]]},V$e=t=>{const{classes:e,disablePointerEvents:i,hiddenLabel:r,position:n,size:s,variant:o}=t,a={root:["root",i&&"disablePointerEvents",n&&`position${$e(n)}`,o,r&&"hiddenLabel",s&&`size${$e(s)}`]};return ot(a,_$e,e)},H$e=be("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:k$e})(({theme:t,ownerState:e})=>G({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${d4.positionStart}&:not(.${d4.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),$$e=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiInputAdornment"}),{children:n,className:s,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c}=r,d=Oe(r,G$e),h=Vl()||{};let f=c;c&&h.variant,h&&!f&&(f=h.variant);const g=G({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:u,variant:f}),v=V$e(g);return Y.jsx(KO.Provider,{value:null,children:Y.jsx(H$e,G({as:o,ownerState:g,className:Le(v.root,s),ref:i},d,{children:typeof n=="string"&&!l?Y.jsx(Fo,{color:"text.secondary",children:n}):Y.jsxs(T.Fragment,{children:[u==="start"?h4||(h4=Y.jsx("span",{className:"notranslate",children:""})):null,n]})}))})}),vse=$$e;var zB={};Object.defineProperty(zB,"__esModule",{value:!0});var Cse=zB.default=void 0,B$e=U$e(T),W$e=UX;function yse(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,i=new WeakMap;return(yse=function(r){return r?i:e})(t)}function U$e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var i=yse(e);if(i&&i.has(t))return i.get(t);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,i&&i.set(t,r),r}function z$e(t){return Object.keys(t).length===0}function j$e(t=null){const e=B$e.useContext(W$e.ThemeContext);return!e||z$e(e)?t:e}Cse=zB.default=j$e;const K$e=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Y$e=be(rGe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),q$e=T.forwardRef(function(e,i){var r;const n=Cse(),s=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:g,placement:v,popperOptions:C,popperRef:S,transition:y,slots:w,slotProps:E}=s,b=Oe(s,K$e),D=(r=w==null?void 0:w.root)!=null?r:l==null?void 0:l.Root,P=G({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:g,placement:v,popperOptions:C,popperRef:S,transition:y},b);return Y.jsx(Y$e,G({as:a,direction:n==null?void 0:n.direction,slots:{root:D},slotProps:E??u},P,{ref:i}))}),X$e=q$e;function Q$e(t){return at("MuiPickersPopper",t)}lt("MuiPickersPopper",["root","paper"]);function Z$e(t,e){return Array.isArray(e)?e.every(i=>t.indexOf(i)!==-1):t.indexOf(e)!==-1}const J$e=(t,e)=>i=>{(i.key==="Enter"||i.key===" ")&&(t(i),i.preventDefault(),i.stopPropagation()),e&&e(i)},wa=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?wa(e.shadowRoot):e:null},eBe="@media (pointer: fine)",tBe="@media (prefers-reduced-motion: reduce)",wm=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),p4=wm&&wm[1]?parseInt(wm[1],10):null,f4=wm&&wm[2]?parseInt(wm[2],10):null,iBe=p4&&p4<10||f4&&f4<13||!1,Sse=()=>vQ(tBe,{defaultMatches:!1})||iBe,rBe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],nBe=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"]},Q$e,e)},sBe=be(X$e,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),oBe=be(Gv,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function aBe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function lBe(t,e){const i=T.useRef(!1),r=T.useRef(!1),n=T.useRef(null),s=T.useRef(!1);T.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const o=Xe(l=>{if(!s.current)return;const u=r.current;r.current=!1;const c=on(n.current);if(!n.current||"clientX"in l&&aBe(l,c))return;if(i.current){i.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(n.current)>-1:d=!c.documentElement.contains(l.target)||n.current.contains(l.target),!d&&!u&&e(l)}),a=()=>{r.current=!0};return T.useEffect(()=>{if(t){const l=on(n.current),u=()=>{i.current=!0};return l.addEventListener("touchstart",o),l.addEventListener("touchmove",u),()=>{l.removeEventListener("touchstart",o),l.removeEventListener("touchmove",u)}}},[t,o]),T.useEffect(()=>{if(t){const l=on(n.current);return l.addEventListener("click",o),()=>{l.removeEventListener("click",o),r.current=!1}}},[t,o]),[n,a,a]}const uBe=T.forwardRef((t,e)=>{const{PaperComponent:i,popperPlacement:r,ownerState:n,children:s,paperSlotProps:o,paperClasses:a,onPaperClick:l,onPaperTouchStart:u}=t,c=Oe(t,rBe),d=G({},n,{placement:r}),h=ii({elementType:i,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return Y.jsx(i,G({},c,h,{onClick:f=>{var g;l(f),(g=h.onClick)==null||g.call(h,f)},onTouchStart:f=>{var g;u(f),(g=h.onTouchStart)==null||g.call(h,f)},ownerState:d,children:s}))});function cBe(t){const e=rt({props:t,name:"MuiPickersPopper"}),{anchorEl:i,children:r,containerRef:n=null,shouldRestoreFocus:s,onBlur:o,onDismiss:a,open:l,role:u,placement:c,slots:d,slotProps:h,reduceAnimations:f}=e;T.useEffect(()=>{function K(j){l&&j.key==="Escape"&&a()}return document.addEventListener("keydown",K),()=>{document.removeEventListener("keydown",K)}},[a,l]);const g=T.useRef(null);T.useEffect(()=>{u==="tooltip"||s&&!s()||(l?g.current=wa(document):g.current&&g.current instanceof HTMLElement&&setTimeout(()=>{g.current instanceof HTMLElement&&g.current.focus()}))},[l,u,s]);const[v,C,S]=lBe(l,o??a),y=T.useRef(null),w=ri(y,n),E=ri(w,v),b=e,D=nBe(b),P=Sse(),O=f??P,N=K=>{K.key==="Escape"&&(K.stopPropagation(),a())},_=(d==null?void 0:d.desktopTransition)??O?kv:kne,L=(d==null?void 0:d.desktopTrapFocus)??DQ,k=(d==null?void 0:d.desktopPaper)??oBe,$=(d==null?void 0:d.popper)??sBe,U=ii({elementType:$,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:u,open:l,anchorEl:i,placement:c,onKeyDown:N},className:D.root,ownerState:e});return Y.jsx($,G({},U,{children:({TransitionProps:K,placement:j})=>Y.jsx(L,G({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:u==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:Y.jsx(_,G({},K,h==null?void 0:h.desktopTransition,{children:Y.jsx(uBe,{PaperComponent:k,ownerState:b,popperPlacement:j,ref:E,onPaperClick:C,onPaperTouchStart:S,paperClasses:D.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:r})}))}))}))}const dBe=({open:t,onOpen:e,onClose:i})=>{const r=T.useRef(typeof t=="boolean").current,[n,s]=T.useState(!1);T.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[r,t]);const o=T.useCallback(a=>{r||s(a),a&&e&&e(),!a&&i&&i()},[r,e,i]);return{isOpen:n,setIsOpen:o}};function wse(t,e,i,r){const{value:n,onError:s}=t,o=Xf(),a=T.useRef(r),l=e({adapter:o,value:n,props:t});return T.useEffect(()=>{s&&!i(l,a.current)&&s(l,n),a.current=l},[i,s,a,l,n]),l}const jB=({timezone:t,value:e,defaultValue:i,onChange:r,valueManager:n})=>{const s=Li(),o=T.useRef(i),a=e??o.current??n.emptyValue,l=T.useMemo(()=>n.getTimezone(s,a),[s,n,a]),u=Xe(f=>l==null?f:n.setTimezone(s,l,f)),c=t??l??"default",d=T.useMemo(()=>n.setTimezone(s,c,a),[n,s,c,a]),h=Xe((f,...g)=>{const v=u(f);r==null||r(v,...g)});return{value:d,handleValueChange:h,timezone:c}},KB=({name:t,timezone:e,value:i,defaultValue:r,onChange:n,valueManager:s})=>{const[o,a]=wu({name:t,state:"value",controlled:i,default:r??s.emptyValue}),l=Xe((u,...c)=>{a(u),n==null||n(u,...c)});return jB({timezone:e,value:o,defaultValue:void 0,onChange:l,valueManager:s})},hBe=t=>{const{action:e,hasChanged:i,dateState:r,isControlled:n}=t,s=!n&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:i(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:i(r.lastPublishedValue):!1},pBe=t=>{const{action:e,hasChanged:i,dateState:r,isControlled:n,closeOnSelect:s}=t,o=!n&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:i(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?o?!0:i(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&i(r.lastCommittedValue):!1},fBe=t=>{const{action:e,closeOnSelect:i}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&i:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},gBe=({props:t,valueManager:e,valueType:i,wrapperVariant:r,validator:n})=>{const{onAccept:s,onChange:o,value:a,defaultValue:l,closeOnSelect:u=r==="desktop",timezone:c}=t,{current:d}=T.useRef(l),{current:h}=T.useRef(a!==void 0),f=Li(),g=Xf(),{isOpen:v,setIsOpen:C}=dBe(t),[S,y]=T.useState(()=>{let J;return a!==void 0?J=a:d!==void 0?J=d:J=e.emptyValue,{draft:J,lastPublishedValue:J,lastCommittedValue:J,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:w,handleValueChange:E}=jB({timezone:c,value:a,defaultValue:d,onChange:o,valueManager:e});wse(G({},t,{value:S.draft,timezone:w}),n,e.isSameError,e.defaultErrorState);const b=Xe(J=>{const ie={action:J,dateState:S,hasChanged:he=>!e.areValuesEqual(f,J.value,he),isControlled:h,closeOnSelect:u},ue=hBe(ie),me=pBe(ie),se=fBe(ie);if(y(he=>G({},he,{draft:J.value,lastPublishedValue:ue?J.value:he.lastPublishedValue,lastCommittedValue:me?J.value:he.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ue){const Ee={validationError:J.name==="setValueFromField"?J.context.validationError:n({adapter:g,value:J.value,props:G({},t,{value:J.value,timezone:w})})};J.name==="setValueFromShortcut"&&(Ee.shortcut=J.shortcut),E(J.value,Ee)}me&&s&&s(J.value),se&&C(!1)});if(a!==void 0&&(S.lastControlledValue===void 0||!e.areValuesEqual(f,S.lastControlledValue,a))){const J=e.areValuesEqual(f,S.draft,a);y(ie=>G({},ie,{lastControlledValue:a},J?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const D=Xe(()=>{b({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),P=Xe(()=>{b({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),O=Xe(()=>{b({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),N=Xe(()=>{b({value:S.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),_=Xe(()=>{b({value:e.getTodayValue(f,w,i),name:"setValueFromAction",pickerAction:"today"})}),L=Xe(J=>{J.preventDefault(),C(!0)}),k=Xe(J=>{J==null||J.preventDefault(),C(!1)}),$=Xe((J,ie="partial")=>b({name:"setValueFromView",value:J,selectionState:ie})),U=Xe((J,ie,ue)=>b({name:"setValueFromShortcut",value:J,changeImportance:ie,shortcut:ue})),K=Xe((J,ie)=>b({name:"setValueFromField",value:J,context:ie})),j={onClear:D,onAccept:P,onDismiss:O,onCancel:N,onSetToday:_,onOpen:L,onClose:k},Q={value:S.draft,onChange:K},H=T.useMemo(()=>e.cleanValue(f,S.draft),[f,e,S.draft]),X={value:H,onChange:$,onClose:k,open:v},le=G({},j,{value:H,onChange:$,onSelectShortcut:U,isValid:J=>{const ie=n({adapter:g,value:J,props:G({},t,{value:J,timezone:w})});return!e.hasError(ie)}});return{open:v,fieldProps:Q,viewProps:X,layoutProps:le,actions:j}};function Ese({onChange:t,onViewChange:e,openTo:i,view:r,views:n,autoFocus:s,focusedView:o,onFocusedViewChange:a}){const l=T.useRef(i),u=T.useRef(n),c=T.useRef(n.includes(i)?i:n[0]),[d,h]=wu({name:"useViews",state:"view",controlled:r,default:c.current}),f=T.useRef(s?d:null),[g,v]=wu({name:"useViews",state:"focusedView",controlled:o,default:f.current});T.useEffect(()=>{(l.current&&l.current!==i||u.current&&u.current.some(P=>!n.includes(P)))&&(h(n.includes(i)?i:n[0]),u.current=n,l.current=i)},[i,h,d,n]);const C=n.indexOf(d),S=n[C-1]??null,y=n[C+1]??null,w=Xe((P,O)=>{v(O?P:N=>P===N?null:N),a==null||a(P,O)}),E=Xe(P=>{w(P,!0),P!==d&&(h(P),e&&e(P))}),b=Xe(()=>{y&&E(y)}),D=Xe((P,O,N)=>{const _=O==="finish",L=N?n.indexOf(N)<n.length-1:!!y;if(t(P,_&&L?"partial":O,N),N&&N!==d){const $=n[n.indexOf(N)+1];$&&E($)}else _&&b()});return{view:d,setView:E,focusedView:g,setFocusedView:w,nextView:y,previousView:S,defaultView:n.includes(i)?i:n[0],goToNextView:b,setValueAndGoToNextView:D}}const mBe=["className","sx"],vBe=({props:t,propsFromPickerValue:e,additionalViewProps:i,autoFocusView:r,rendererInterceptor:n,fieldRef:s})=>{const{onChange:o,open:a,onClose:l}=e,{views:u,openTo:c,onViewChange:d,disableOpenPicker:h,viewRenderers:f,timezone:g}=t,v=Oe(t,mBe),{view:C,setView:S,defaultView:y,focusedView:w,setFocusedView:E,setValueAndGoToNextView:b}=Ese({view:void 0,views:u,openTo:c,onChange:o,onViewChange:d,autoFocus:r}),{hasUIView:D,viewModeLookup:P}=T.useMemo(()=>u.reduce((U,K)=>{let j;return h?j="field":f[K]!=null?j="UI":j="field",U.viewModeLookup[K]=j,j==="UI"&&(U.hasUIView=!0),U},{hasUIView:!1,viewModeLookup:{}}),[h,f,u]),O=T.useMemo(()=>u.reduce((U,K)=>f[K]!=null&&i$e(K)?U+1:U,0),[f,u]),N=P[C],_=Xe(()=>N==="UI"),[L,k]=T.useState(N==="UI"?C:null);return L!==C&&P[C]==="UI"&&k(C),Xr(()=>{N==="field"&&a&&(l(),setTimeout(()=>{var U;(U=s==null?void 0:s.current)==null||U.focusField(C)}))},[C]),Xr(()=>{if(!a)return;let U=C;N==="field"&&L!=null&&(U=L),U!==y&&P[U]==="UI"&&P[y]==="UI"&&(U=y),U!==C&&S(U),E(U,!0)},[a]),{hasUIView:D,shouldRestoreFocus:_,layoutProps:{views:u,view:L,onViewChange:S},renderCurrentView:()=>{if(L==null)return null;const U=f[L];if(U==null)return null;const K=G({},v,i,e,{views:u,timezone:g,onChange:b,view:L,onViewChange:S,focusedView:w,onFocusedViewChange:E,showViewSwitcher:O>1,timeViewsCount:O});return n?n(f,L,K):U(K)}}};function g4(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const CBe=(t,e)=>{const[i,r]=T.useState(g4);return Xr(()=>{const s=()=>{r(g4())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),Z$e(t,["hours","minutes","seconds"])?!1:(e||i)==="landscape"},yBe=({props:t,propsFromPickerValue:e,propsFromPickerViews:i,wrapperVariant:r})=>{const{orientation:n}=t,s=CBe(i.views,n);return{layoutProps:G({},i,e,{isLandscape:s,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}};ase(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const bse=({props:t,valueManager:e,valueType:i,wrapperVariant:r,additionalViewProps:n,validator:s,autoFocusView:o,rendererInterceptor:a,fieldRef:l})=>{const u=gBe({props:t,valueManager:e,valueType:i,wrapperVariant:r,validator:s}),c=vBe({props:t,additionalViewProps:n,autoFocusView:o,fieldRef:l,propsFromPickerValue:u.viewProps,rendererInterceptor:a}),d=yBe({props:t,wrapperVariant:r,propsFromPickerValue:u.layoutProps,propsFromPickerViews:c.layoutProps});return{open:u.open,actions:u.actions,fieldProps:u.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:d.layoutProps}};function Rse(t){return at("MuiPickersLayout",t)}const fy=lt("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),SBe=["onAccept","onClear","onCancel","onSetToday","actions"];function wBe(t){const{onAccept:e,onClear:i,onCancel:r,onSetToday:n,actions:s}=t,o=Oe(t,SBe),a=Yc();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(u=>{switch(u){case"clear":return Y.jsx(Jn,{onClick:i,children:a.clearButtonLabel},u);case"cancel":return Y.jsx(Jn,{onClick:r,children:a.cancelButtonLabel},u);case"accept":return Y.jsx(Jn,{onClick:e,children:a.okButtonLabel},u);case"today":return Y.jsx(Jn,{onClick:n,children:a.todayButtonLabel},u);default:return null}});return Y.jsx(JO,G({},o,{children:l}))}function EBe(t){return at("MuiListItem",t)}const bBe=lt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Gg=bBe;function RBe(t){return at("MuiListItemSecondaryAction",t)}lt("MuiListItemSecondaryAction",["root","disableGutters"]);const TBe=["className"],DBe=t=>{const{disableGutters:e,classes:i}=t;return ot({root:["root",e&&"disableGutters"]},RBe,i)},PBe=be("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.disableGutters&&e.disableGutters]}})(({ownerState:t})=>G({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),Tse=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItemSecondaryAction"}),{className:n}=r,s=Oe(r,TBe),o=T.useContext(Gd),a=G({},r,{disableGutters:o.disableGutters}),l=DBe(a);return Y.jsx(PBe,G({className:Le(l.root,n),ownerState:a,ref:i},s))});Tse.muiName="ListItemSecondaryAction";const xBe=Tse,ABe=["className"],OBe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],MBe=(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,i.alignItems==="flex-start"&&e.alignItemsFlexStart,i.divider&&e.divider,!i.disableGutters&&e.gutters,!i.disablePadding&&e.padding,i.button&&e.button,i.hasSecondaryAction&&e.secondaryAction]},FBe=t=>{const{alignItems:e,button:i,classes:r,dense:n,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:u,selected:c}=t;return ot({root:["root",n&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",i&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},EBe,r)},IBe=be("div",{name:"MuiListItem",slot:"Root",overridesResolver:MBe})(({theme:t,ownerState:e})=>G({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&G({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Pg.root}`]:{paddingRight:48}},{[`&.${Gg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Gg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Gg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Gg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Gg.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),LBe=be("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),_Be=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItem"}),{alignItems:n="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:u,components:c={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f}={},dense:g=!1,disabled:v=!1,disableGutters:C=!1,disablePadding:S=!1,divider:y=!1,focusVisibleClassName:w,secondaryAction:E,selected:b=!1,slotProps:D={},slots:P={}}=r,O=Oe(r.ContainerProps,ABe),N=Oe(r,OBe),_=T.useContext(Gd),L=T.useMemo(()=>({dense:g||_.dense||!1,alignItems:n,disableGutters:C}),[n,_.dense,g,C]),k=T.useRef(null);Xr(()=>{s&&k.current&&k.current.focus()},[s]);const $=T.Children.toArray(a),U=$.length&&lS($[$.length-1],["ListItemSecondaryAction"]),K=G({},r,{alignItems:n,autoFocus:s,button:o,dense:L.dense,disabled:v,disableGutters:C,disablePadding:S,divider:y,hasSecondaryAction:U,selected:b}),j=FBe(K),Q=ri(k,i),H=P.root||c.Root||IBe,X=D.root||d.root||{},te=G({className:Le(j.root,X.className,l),disabled:v},N);let le=u||"li";return o&&(te.component=u||"div",te.focusVisibleClassName=Le(Gg.focusVisible,w),le=Bp),U?(le=!te.component&&!u?"div":le,h==="li"&&(le==="li"?le="div":te.component==="li"&&(te.component="div")),Y.jsx(Gd.Provider,{value:L,children:Y.jsxs(LBe,G({as:h,className:Le(j.container,f),ref:Q,ownerState:K},O,{children:[Y.jsx(H,G({},X,!_m(H)&&{as:le,ownerState:G({},K,X.ownerState)},te,{children:$})),$.pop()]}))})):Y.jsx(Gd.Provider,{value:L,children:Y.jsxs(H,G({},X,{as:le,ref:Q},!_m(H)&&{ownerState:G({},K,X.ownerState)},te,{children:[$,E&&Y.jsx(xBe,{children:E})]}))})}),NBe=_Be,GBe=kl(Y.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function kBe(t){return at("MuiChip",t)}const VBe=lt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ni=VBe,HBe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],$Be=t=>{const{classes:e,disabled:i,size:r,color:n,iconColor:s,onDelete:o,clickable:a,variant:l}=t,u={root:["root",l,i&&"disabled",`size${$e(r)}`,`color${$e(n)}`,a&&"clickable",a&&`clickableColor${$e(n)}`,o&&"deletable",o&&`deletableColor${$e(n)}`,`${l}${$e(n)}`],label:["label",`label${$e(r)}`],avatar:["avatar",`avatar${$e(r)}`,`avatarColor${$e(n)}`],icon:["icon",`icon${$e(r)}`,`iconColor${$e(s)}`],deleteIcon:["deleteIcon",`deleteIcon${$e(r)}`,`deleteIconColor${$e(n)}`,`deleteIcon${$e(l)}Color${$e(n)}`]};return ot(u,kBe,e)},BBe=be("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{color:r,iconColor:n,clickable:s,onDelete:o,size:a,variant:l}=i;return[{[`& .${ni.avatar}`]:e.avatar},{[`& .${ni.avatar}`]:e[`avatar${$e(a)}`]},{[`& .${ni.avatar}`]:e[`avatarColor${$e(r)}`]},{[`& .${ni.icon}`]:e.icon},{[`& .${ni.icon}`]:e[`icon${$e(a)}`]},{[`& .${ni.icon}`]:e[`iconColor${$e(n)}`]},{[`& .${ni.deleteIcon}`]:e.deleteIcon},{[`& .${ni.deleteIcon}`]:e[`deleteIcon${$e(a)}`]},{[`& .${ni.deleteIcon}`]:e[`deleteIconColor${$e(r)}`]},{[`& .${ni.deleteIcon}`]:e[`deleteIcon${$e(l)}Color${$e(r)}`]},e.root,e[`size${$e(a)}`],e[`color${$e(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${$e(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${$e(r)}`],e[l],e[`${l}${$e(r)}`]]}})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return G({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ni.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ni.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:i,fontSize:t.typography.pxToRem(12)},[`& .${ni.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ni.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ni.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ni.icon}`]:G({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&G({color:t.vars?t.vars.palette.Chip.defaultIconColor:i},e.color!=="default"&&{color:"inherit"})),[`& .${ni.deleteIcon}`]:G({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Vi(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Vi(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Vi(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${ni.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${ni.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>G({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vi(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${ni.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${ni.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>G({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ni.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ni.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ni.avatar}`]:{marginLeft:4},[`& .${ni.avatarSmall}`]:{marginLeft:2},[`& .${ni.icon}`]:{marginLeft:4},[`& .${ni.iconSmall}`]:{marginLeft:2},[`& .${ni.deleteIcon}`]:{marginRight:5},[`& .${ni.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Vi(t.palette[e.color].main,.7)}`,[`&.${ni.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${ni.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Vi(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${ni.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Vi(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),WBe=be("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:i}=t,{size:r}=i;return[e.label,e[`label${$e(r)}`]]}})(({ownerState:t})=>G({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function m4(t){return t.key==="Backspace"||t.key==="Delete"}const UBe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiChip"}),{avatar:n,className:s,clickable:o,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:f,onDelete:g,onKeyDown:v,onKeyUp:C,size:S="medium",variant:y="filled",tabIndex:w,skipFocusWhenDisabled:E=!1}=r,b=Oe(r,HBe),D=T.useRef(null),P=ri(D,i),O=X=>{X.stopPropagation(),g&&g(X)},N=X=>{X.currentTarget===X.target&&m4(X)&&X.preventDefault(),v&&v(X)},_=X=>{X.currentTarget===X.target&&(g&&m4(X)?g(X):X.key==="Escape"&&D.current&&D.current.blur()),C&&C(X)},L=o!==!1&&f?!0:o,k=L||g?Bp:l||"div",$=G({},r,{component:k,disabled:c,size:S,color:a,iconColor:T.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:L,variant:y}),U=$Be($),K=k===Bp?G({component:l||"div",focusVisibleClassName:U.focusVisible},g&&{disableRipple:!0}):{};let j=null;g&&(j=u&&T.isValidElement(u)?T.cloneElement(u,{className:Le(u.props.className,U.deleteIcon),onClick:O}):Y.jsx(GBe,{className:Le(U.deleteIcon),onClick:O}));let Q=null;n&&T.isValidElement(n)&&(Q=T.cloneElement(n,{className:Le(U.avatar,n.props.className)}));let H=null;return d&&T.isValidElement(d)&&(H=T.cloneElement(d,{className:Le(U.icon,d.props.className)})),Y.jsxs(BBe,G({as:k,className:Le(U.root,s),disabled:L&&c?!0:void 0,onClick:f,onKeyDown:N,onKeyUp:_,ref:P,tabIndex:E&&c?-1:w,ownerState:$},K,b,{children:[Q||H,Y.jsx(WBe,{className:Le(U.label),ownerState:$,children:h}),j]}))}),zBe=UBe,Bw=36,sM=2,oM=320,jBe=280,YB=336,KBe=["items","changeImportance","isLandscape","onChange","isValid"],YBe=["getValue"];function qBe(t){const{items:e,changeImportance:i="accept",onChange:r,isValid:n}=t,s=Oe(t,KBe);if(e==null||e.length===0)return null;const o=e.map(a=>{let{getValue:l}=a,u=Oe(a,YBe);const c=l({isValid:n});return{label:u.label,onClick:()=>{r(c,i,u)},disabled:!n(c)}});return Y.jsx(zV,G({dense:!0,sx:[{maxHeight:YB,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:o.map(a=>Y.jsx(NBe,{children:Y.jsx(zBe,G({},a))},a.label))}))}function XBe(t){return t.view!==null}const QBe=t=>{const{classes:e,isLandscape:i}=t;return ot({root:["root",i&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Rse,e)},ZBe=t=>{const{wrapperVariant:e,onAccept:i,onClear:r,onCancel:n,onSetToday:s,view:o,views:a,onViewChange:l,value:u,onChange:c,onSelectShortcut:d,isValid:h,isLandscape:f,disabled:g,readOnly:v,children:C,slots:S,slotProps:y}=t,w=QBe(t),E=(S==null?void 0:S.actionBar)??wBe,b=ii({elementType:E,externalSlotProps:y==null?void 0:y.actionBar,additionalProps:{onAccept:i,onClear:r,onCancel:n,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"],className:w.actionBar},ownerState:G({},t,{wrapperVariant:e})}),D=Y.jsx(E,G({},b)),P=S==null?void 0:S.toolbar,O=ii({elementType:P,externalSlotProps:y==null?void 0:y.toolbar,additionalProps:{isLandscape:f,onChange:c,value:u,view:o,onViewChange:l,views:a,disabled:g,readOnly:v,className:w.toolbar},ownerState:G({},t,{wrapperVariant:e})}),N=XBe(O)&&P?Y.jsx(P,G({},O)):null,_=C,L=S==null?void 0:S.tabs,k=o&&L?Y.jsx(L,G({view:o,onViewChange:l,className:w.tabs},y==null?void 0:y.tabs)):null,$=(S==null?void 0:S.shortcuts)??qBe,U=ii({elementType:$,externalSlotProps:y==null?void 0:y.shortcuts,additionalProps:{isValid:h,isLandscape:f,onChange:d,className:w.shortcuts},ownerState:{isValid:h,isLandscape:f,onChange:d,className:w.shortcuts,wrapperVariant:e}}),K=o&&$?Y.jsx($,G({},U)):null;return{toolbar:N,content:_,tabs:k,actionBar:D,shortcuts:K}},JBe=t=>{const{isLandscape:e,classes:i}=t;return ot({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},Rse,i)},Dse=be("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${fy.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${fy.toolbar}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`.${fy.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!1},style:{[`& .${fy.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${fy.shortcuts}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}}}]}));Dse.propTypes={as:ee.elementType,ownerState:ee.shape({isLandscape:ee.bool.isRequired}).isRequired,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object])};const eWe=be("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Pse=function(e){const i=rt({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:n,tabs:s,actionBar:o,shortcuts:a}=ZBe(i),{sx:l,className:u,isLandscape:c,ref:d,wrapperVariant:h}=i,f=i,g=JBe(f);return Y.jsxs(Dse,{ref:d,sx:l,className:Le(u,g.root),ownerState:f,children:[c?a:r,c?r:a,Y.jsx(eWe,{className:g.contentWrapper,children:h==="desktop"?Y.jsxs(T.Fragment,{children:[n,s]}):Y.jsxs(T.Fragment,{children:[s,n]})}),o]})},tWe=["props","getOpenDialogAriaText"],iWe=["ownerState"],rWe=["ownerState"],nWe=t=>{var oe;let{props:e,getOpenDialogAriaText:i}=t,r=Oe(t,tWe);const{slots:n,slotProps:s,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:g,label:v,inputRef:C,readOnly:S,disabled:y,autoFocus:w,localeText:E,reduceAnimations:b}=e,D=Li(),P=T.useRef(null),O=T.useRef(null),N=Ic(),_=((oe=s==null?void 0:s.toolbar)==null?void 0:oe.hidden)??!1,{open:L,actions:k,hasUIView:$,layoutProps:U,renderCurrentView:K,shouldRestoreFocus:j,fieldProps:Q}=bse(G({},r,{props:e,fieldRef:O,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),H=n.inputAdornment??vse,X=ii({elementType:H,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),te=Oe(X,iWe),le=n.openPickerButton??eb,J=ii({elementType:le,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:y||S,onClick:L?k.onClose:k.onOpen,"aria-label":i(Q.value,D),edge:te.position},ownerState:e}),ie=Oe(J,rWe),ue=n.openPickerIcon,me=n.field,se=ii({elementType:me,externalSlotProps:s==null?void 0:s.field,additionalProps:G({},Q,_&&{id:N},{readOnly:S,disabled:y,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:v,name:g,autoFocus:w&&!e.open,focused:L?!0:void 0},C?{inputRef:C}:{}),ownerState:e});$&&(se.InputProps=G({},se.InputProps,{ref:P,[`${te.position}Adornment`]:Y.jsx(H,G({},te,{children:Y.jsx(le,G({},ie,{children:Y.jsx(ue,G({},s==null?void 0:s.openPickerIcon))}))}))}));const he=G({textField:n.textField,clearIcon:n.clearIcon,clearButton:n.clearButton},se.slots),Ee=n.layout??Pse;let pe=N;_&&(v?pe=`${N}-label`:pe=void 0);const ye=G({},s,{toolbar:G({},s==null?void 0:s.toolbar,{titleId:N}),popper:G({"aria-labelledby":pe},s==null?void 0:s.popper)}),Ce=ri(O,se.unstableFieldRef);return{renderPicker:()=>Y.jsxs(HB,{localeText:E,children:[Y.jsx(me,G({},se,{slots:he,slotProps:ye,unstableFieldRef:Ce})),Y.jsx(cBe,G({role:"dialog",placement:"bottom-start",anchorEl:P.current},k,{open:L,slots:n,slotProps:ye,shouldRestoreFocus:j,reduceAnimations:b,children:Y.jsx(Ee,G({},U,ye==null?void 0:ye.layout,{slots:n,slotProps:ye,children:K()}))}))]})}},sWe=kl(Y.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),oWe=kl(Y.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),aWe=kl(Y.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),lWe=kl(Y.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");kl(Y.jsxs(T.Fragment,{children:[Y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),Y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");kl(Y.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");kl(Y.jsxs(T.Fragment,{children:[Y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),Y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const uWe=kl(Y.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),cWe=({utils:t,format:e})=>{let i=10,r=e,n=t.expandFormat(e);for(;n!==r;)if(r=n,n=t.expandFormat(r),i-=1,i<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return n},dWe=({utils:t,expandedFormat:e})=>{const i=[],{start:r,end:n}=t.escapedCharacters,s=new RegExp(`(\\${r}[^\\${n}]*\\${n})+`,"g");let o=null;for(;o=s.exec(e);)i.push({start:o.index,end:s.lastIndex-1});return i},hWe=(t,e,i,r,n)=>{switch(r.type){case"year":return i.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),n).length,format:n});case"month":return i.fieldMonthPlaceholder({contentType:r.contentType,format:n});case"day":return i.fieldDayPlaceholder({format:n});case"weekDay":return i.fieldWeekDayPlaceholder({contentType:r.contentType,format:n});case"hours":return i.fieldHoursPlaceholder({format:n});case"minutes":return i.fieldMinutesPlaceholder({format:n});case"seconds":return i.fieldSecondsPlaceholder({format:n});case"meridiem":return i.fieldMeridiemPlaceholder({format:n});default:return n}},pWe=({utils:t,timezone:e,date:i,shouldRespectLeadingZeros:r,localeText:n,localizedDigits:s,now:o,token:a,startSeparator:l})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=use(t,a),c=fse(t,e,u.contentType,u.type,a),d=r?c:u.contentType==="digit",h=i!=null&&t.isValid(i);let f=h?t.formatByString(i,a):"",g=null;if(d)if(c)g=f===""?t.formatByString(o,a).length:f.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);g=u.maxLength,h&&(f=WB(dse(lf(f,s),g),s))}return G({},u,{format:a,maxLength:g,value:f,placeholder:hWe(t,e,n,u,a),hasLeadingZerosInFormat:c,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},fWe=t=>{var f;const{utils:e,expandedFormat:i,escapedParts:r}=t,n=e.date(void 0),s=[];let o="";const a=Object.keys(e.formatTokenMap).sort((g,v)=>v.length-g.length),l=/^([a-zA-Z]+)/,u=new RegExp(`^(${a.join("|")})*$`),c=new RegExp(`^(${a.join("|")})`),d=g=>r.find(v=>v.start<=g&&v.end>=g);let h=0;for(;h<i.length;){const g=d(h),v=g!=null,C=(f=l.exec(i.slice(h)))==null?void 0:f[1];if(!v&&C!=null&&u.test(C)){let S=C;for(;S.length>0;){const y=c.exec(S)[1];S=S.slice(y.length),s.push(pWe(G({},t,{now:n,token:y,startSeparator:o}))),o=""}h+=C.length}else{const S=i[h];v&&(g==null?void 0:g.start)===h||(g==null?void 0:g.end)===h||(s.length===0?o+=S:s[s.length-1].endSeparator+=S),h+=1}}return s.length===0&&o.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:o,endSeparator:"",modified:!1}),s},gWe=({isRTL:t,formatDensity:e,sections:i})=>i.map(r=>{const n=s=>{let o=s;return t&&o!==null&&o.includes(" ")&&(o=`${o}`),e==="spacious"&&["/",".","-"].includes(o)&&(o=` ${o} `),o};return r.startSeparator=n(r.startSeparator),r.endSeparator=n(r.endSeparator),r}),v4=t=>{let e=cWe(t);t.isRTL&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const i=dWe(G({},t,{expandedFormat:e})),r=fWe(G({},t,{expandedFormat:e,escapedParts:i}));return gWe(G({},t,{sections:r}))},mWe=t=>{const e=Li(),i=Yc(),r=Xf(),s=za().direction==="rtl",{valueManager:o,fieldValueManager:a,valueType:l,validator:u,internalProps:c,internalProps:{value:d,defaultValue:h,referenceDate:f,onChange:g,format:v,formatDensity:C="dense",selectedSections:S,onSelectedSectionsChange:y,shouldRespectLeadingZeros:w=!1,timezone:E,enableAccessibleFieldDOMStructure:b=!1}}=t,{timezone:D,value:P,handleValueChange:O}=jB({timezone:E,value:d,defaultValue:h,onChange:g,valueManager:o}),N=T.useMemo(()=>l$e(e),[e]),_=T.useMemo(()=>p$e(e,N,D),[e,N,D]),L=T.useCallback((se,he=null)=>a.getSectionsFromValue(e,se,he,Ee=>v4({utils:e,timezone:D,localeText:i,localizedDigits:N,format:v,date:Ee,formatDensity:C,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:b,isRTL:s})),[a,v,i,N,s,w,e,C,D,b]),[k,$]=T.useState(()=>{const se=L(P),he={sections:se,value:P,referenceValue:o.emptyValue,tempValueStrAndroid:null},Ee=n$e(se),pe=o.getInitialReferenceValue({referenceDate:f,value:P,utils:e,props:c,granularity:Ee,timezone:D});return G({},he,{referenceValue:pe})}),[U,K]=wu({controlled:S,default:null,name:"useField",state:"selectedSections"}),j=se=>{K(se),y==null||y(se)},Q=T.useMemo(()=>K1(U,k.sections),[U,k.sections]),H=Q==="all"?0:Q,X=({value:se,referenceValue:he,sections:Ee})=>{if($(ye=>G({},ye,{sections:Ee,value:se,referenceValue:he,tempValueStrAndroid:null})),o.areValuesEqual(e,k.value,se))return;const pe={validationError:u({adapter:r,value:se,props:G({},c,{value:se,timezone:D})})};O(se,pe)},te=(se,he)=>{const Ee=[...k.sections];return Ee[se]=G({},Ee[se],{value:he,modified:!0}),Ee},le=()=>{X({value:o.emptyValue,referenceValue:k.referenceValue,sections:L(o.emptyValue)})},J=()=>{if(H==null)return;const se=k.sections[H],he=a.getActiveDateManager(e,k,se),pe=he.getSections(k.sections).filter(oe=>oe.value!=="").length===(se.value===""?0:1),ye=te(H,""),Ce=pe?null:e.getInvalidDate(),re=he.getNewValuesFromNewActiveDate(Ce);X(G({},re,{sections:ye}))},ie=se=>{const he=(ye,Ce)=>{const re=e.parse(ye,v);if(re==null||!e.isValid(re))return null;const oe=v4({utils:e,timezone:D,localeText:i,localizedDigits:N,format:v,date:re,formatDensity:C,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:b,isRTL:s});return c4(e,D,re,oe,Ce,!1)},Ee=a.parseValueStr(se,k.referenceValue,he),pe=a.updateReferenceValue(e,Ee,k.referenceValue);X({value:Ee,referenceValue:pe,sections:L(Ee,k.sections)})},ue=({activeSection:se,newSectionValue:he,shouldGoToNextSection:Ee})=>{Ee&&H<k.sections.length-1&&j(H+1);const pe=a.getActiveDateManager(e,k,se),ye=te(H,he),Ce=pe.getSections(ye),re=c$e(e,Ce,N);let oe,fe;if(re!=null&&e.isValid(re)){const we=c4(e,D,re,Ce,pe.referenceDate,!0);oe=pe.getNewValuesFromNewActiveDate(we),fe=!0}else oe=pe.getNewValuesFromNewActiveDate(re),fe=(re!=null&&!e.isValid(re))!=(pe.date!=null&&!e.isValid(pe.date));return fe?X(G({},oe,{sections:ye})):$(we=>G({},we,oe,{sections:ye,tempValueStrAndroid:null}))},me=se=>$(he=>G({},he,{tempValueStrAndroid:se}));return T.useEffect(()=>{const se=L(k.value);$(he=>G({},he,{sections:se}))},[v,e.locale,s]),T.useEffect(()=>{let se;o.areValuesEqual(e,k.value,P)?se=o.getTimezone(e,k.value)!==o.getTimezone(e,P):se=!0,se&&$(he=>G({},he,{value:P,referenceValue:a.updateReferenceValue(e,P,he.referenceValue),sections:L(P)}))},[P]),{state:k,activeSectionIndex:H,parsedSelectedSections:Q,setSelectedSections:j,clearValue:le,clearActiveSection:J,updateSectionValue:ue,updateValueFromValueStr:ie,setTempAndroidValueStr:me,getSectionsFromValue:L,sectionsValueBoundaries:_,localizedDigits:N,timezone:D}},vWe=5e3,Eg=t=>t.saveQuery!=null,CWe=({sections:t,updateSectionValue:e,sectionsValueBoundaries:i,localizedDigits:r,setTempAndroidValueStr:n,timezone:s})=>{const o=Li(),[a,l]=T.useState(null),u=Xe(()=>l(null));T.useEffect(()=>{var g;a!=null&&((g=t[a.sectionIndex])==null?void 0:g.type)!==a.sectionType&&u()},[t,a,u]),T.useEffect(()=>{if(a!=null){const g=setTimeout(()=>u(),vWe);return()=>{clearTimeout(g)}}return()=>{}},[a,u]);const c=({keyPressed:g,sectionIndex:v},C,S)=>{const y=g.toLowerCase(),w=t[v];if(a!=null&&(!S||S(a.value))&&a.sectionIndex===v){const b=`${a.value}${y}`,D=C(b,w);if(!Eg(D))return l({sectionIndex:v,value:b,sectionType:w.type}),D}const E=C(y,w);return Eg(E)&&!E.saveQuery?(u(),null):(l({sectionIndex:v,value:y,sectionType:w.type}),Eg(E)?null:E)},d=g=>{const v=(y,w,E)=>{const b=w.filter(D=>D.toLowerCase().startsWith(E));return b.length===0?{saveQuery:!1}:{sectionValue:b[0],shouldGoToNextSection:b.length===1}},C=(y,w,E,b)=>{const D=P=>cse(o,s,w.type,P);if(w.contentType==="letter")return v(w.format,D(w.format),y);if(E&&b!=null&&use(o,E).contentType==="letter"){const P=D(E),O=v(E,P,y);return Eg(O)?{saveQuery:!1}:G({},O,{sectionValue:b(O.sectionValue,P)})}return{saveQuery:!1}};return c(g,(y,w)=>{switch(w.type){case"month":{const E=b=>l4(o,b,o.formats.month,w.format);return C(y,w,o.formats.month,E)}case"weekDay":{const E=(b,D)=>D.indexOf(b).toString();return C(y,w,o.formats.weekday,E)}case"meridiem":return C(y,w);default:return{saveQuery:!1}}})},h=g=>{const v=(S,y)=>{const w=lf(S,r),E=Number(w),b=i[y.type]({currentDate:null,format:y.format,contentType:y.contentType});if(E>b.maximum)return{saveQuery:!1};if(E<b.minimum)return{saveQuery:!0};const D=E*10>b.maximum||w.length===b.maximum.toString().length;return{sectionValue:hse(o,E,b,r,y),shouldGoToNextSection:D}};return c(g,(S,y)=>{if(y.contentType==="digit"||y.contentType==="digit-with-letter")return v(S,y);if(y.type==="month"){const w=fse(o,s,"digit","month","MM"),E=v(S,{type:y.type,format:"MM",hasLeadingZerosInFormat:w,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Eg(E))return E;const b=l4(o,E.sectionValue,"MM",y.format);return G({},E,{sectionValue:b})}if(y.type==="weekDay"){const w=v(S,y);if(Eg(w))return w;const E=iM(o,s,y.format)[Number(w.sectionValue)-1];return G({},w,{sectionValue:E})}return{saveQuery:!1}},S=>a4(S,r))};return{applyCharacterEditing:Xe(g=>{const v=t[g.sectionIndex],S=a4(g.keyPressed,r)?h(G({},g,{keyPressed:WB(g.keyPressed,r)})):d(g);if(S==null){n(null);return}e({activeSection:v,newSectionValue:S.sectionValue,shouldGoToNextSection:S.shouldGoToNextSection})}),resetCharacterQuery:u}},yWe=t=>{const{internalProps:{disabled:e,readOnly:i=!1},forwardedProps:{sectionListRef:r,onBlur:n,onClick:s,onFocus:o,onInput:a,onPaste:l,focused:u,autoFocus:c=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:f,setSelectedSections:g,parsedSelectedSections:v,state:C,clearActiveSection:S,clearValue:y,updateSectionValue:w,updateValueFromValueStr:E,sectionOrder:b,areAllSectionsEmpty:D,sectionsValueBoundaries:P}=t,O=T.useRef(null),N=ri(r,O),_=Yc(),L=Li(),k=Ic(),[$,U]=T.useState(!1),K=T.useMemo(()=>({syncSelectionToDOM:()=>{if(!O.current)return;const oe=document.getSelection();if(!oe)return;if(v==null){oe.rangeCount>0&&O.current.getRoot().contains(oe.getRangeAt(0).startContainer)&&oe.removeAllRanges(),$&&O.current.getRoot().blur();return}if(!O.current.getRoot().contains(wa(document)))return;const fe=new window.Range;let we;v==="all"?we=O.current.getRoot():C.sections[v].type==="empty"?we=O.current.getSectionContainer(v):we=O.current.getSectionContent(v),fe.selectNodeContents(we),we.focus(),oe.removeAllRanges(),oe.addRange(fe)},getActiveSectionIndexFromDOM:()=>{const oe=wa(document);return!oe||!O.current||!O.current.getRoot().contains(oe)?null:O.current.getSectionIndexFromDOMElement(oe)},focusField:(oe=0)=>{if(!O.current)return;const fe=K1(oe,C.sections);U(!0),O.current.getSectionContent(fe).focus()},setSelectedSections:oe=>{if(!O.current)return;const fe=K1(oe,C.sections);U((fe==="all"?0:fe)!==null),g(oe)},isFieldFocused:()=>{const oe=wa(document);return!!O.current&&O.current.getRoot().contains(oe)}}),[v,g,C.sections,$]),j=Xe(oe=>{if(!O.current)return;const fe=C.sections[oe];O.current.getSectionContent(oe).innerHTML=fe.value||fe.placeholder,K.syncSelectionToDOM()}),Q=Xe((oe,...fe)=>{oe.isDefaultPrevented()||!O.current||(U(!0),s==null||s(oe,...fe),v==="all"?setTimeout(()=>{const we=document.getSelection().getRangeAt(0).startOffset;if(we===0){g(b.startIndex);return}let Ue=0,Be=0;for(;Be<we&&Ue<C.sections.length;){const Ve=C.sections[Ue];Ue+=1,Be+=`${Ve.startSeparator}${Ve.value||Ve.placeholder}${Ve.endSeparator}`.length}g(Ue-1)}):$?O.current.getRoot().contains(oe.target)||g(b.startIndex):(U(!0),g(b.startIndex)))}),H=Xe(oe=>{if(a==null||a(oe),!O.current||v!=="all")return;const we=oe.target.textContent??"";O.current.getRoot().innerHTML=C.sections.map(Ue=>`${Ue.startSeparator}${Ue.value||Ue.placeholder}${Ue.endSeparator}`).join(""),K.syncSelectionToDOM(),we.length===0||we.charCodeAt(0)===10?(f(),y(),g("all")):we.length>1?E(we):h({keyPressed:we,sectionIndex:0})}),X=Xe(oe=>{if(l==null||l(oe),i||v!=="all"){oe.preventDefault();return}const fe=oe.clipboardData.getData("text");oe.preventDefault(),f(),E(fe)}),te=Xe((...oe)=>{if(o==null||o(...oe),$||!O.current)return;U(!0),O.current.getSectionIndexFromDOMElement(wa(document))!=null||g(b.startIndex)}),le=Xe((...oe)=>{n==null||n(...oe),setTimeout(()=>{if(!O.current)return;const fe=wa(document);!O.current.getRoot().contains(fe)&&(U(!1),g(null))})}),J=Xe(oe=>fe=>{fe.isDefaultPrevented()||i||g(oe)}),ie=Xe(oe=>{oe.preventDefault()}),ue=Xe(oe=>()=>{i||g(oe)}),me=Xe(oe=>{if(oe.preventDefault(),i||typeof v!="number")return;const fe=C.sections[v],we=oe.clipboardData.getData("text"),Ue=/^[a-zA-Z]+$/.test(we),Be=/^[0-9]+$/.test(we),Ve=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(we);fe.contentType==="letter"&&Ue||fe.contentType==="digit"&&Be||fe.contentType==="digit-with-letter"&&Ve?(f(),w({activeSection:fe,newSectionValue:we,shouldGoToNextSection:!0})):!Ue&&!Be&&(f(),E(we))}),se=Xe(oe=>{oe.preventDefault(),oe.dataTransfer.dropEffect="none"}),he=Xe(oe=>{if(!O.current)return;const fe=oe.target,we=fe.textContent??"",Ue=O.current.getSectionIndexFromDOMElement(fe),Be=C.sections[Ue];if(i||!O.current){j(Ue);return}if(we.length===0){if(Be.value===""){j(Ue);return}f(),S();return}h({keyPressed:we,sectionIndex:Ue}),j(Ue)});Xr(()=>{if(!(!$||!O.current)){if(v==="all")O.current.getRoot().focus();else if(typeof v=="number"){const oe=O.current.getSectionContent(v);oe&&oe.focus()}}},[v,$]);const Ee=T.useMemo(()=>C.sections.reduce((oe,fe)=>(oe[fe.type]=P[fe.type]({currentDate:null,contentType:fe.contentType,format:fe.format}),oe),{}),[P,C.sections]),pe=v==="all",ye=T.useMemo(()=>C.sections.map((oe,fe)=>{const we=!pe&&!e&&!i;return{container:{"data-sectionindex":fe,onClick:J(fe)},content:{tabIndex:pe||fe>0?-1:0,contentEditable:!pe&&!e&&!i,role:"spinbutton",id:`${k}-${oe.type}`,"aria-labelledby":`${k}-${oe.type}`,"aria-readonly":i,"aria-valuenow":C$e(oe,L),"aria-valuemin":Ee[oe.type].minimum,"aria-valuemax":Ee[oe.type].maximum,"aria-valuetext":oe.value?v$e(oe,L):_.empty,"aria-label":_[oe.type],"aria-disabled":e,spellCheck:we?!1:void 0,autoCapitalize:we?"off":void 0,autoCorrect:we?"off":void 0,[parseInt(T.version,10)>=17?"enterKeyHint":"enterkeyhint"]:we?"next":void 0,children:oe.value||oe.placeholder,onInput:he,onPaste:me,onFocus:ue(fe),onDragOver:se,onMouseUp:ie,inputMode:oe.contentType==="letter"?"text":"numeric"},before:{children:oe.startSeparator},after:{children:oe.endSeparator}}}),[C.sections,ue,me,se,he,J,ie,e,i,pe,_,L,Ee,k]),Ce=Xe(oe=>{E(oe.target.value)}),re=T.useMemo(()=>D?"":d.getV7HiddenInputValueFromSections(C.sections),[D,C.sections,d]);return T.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));c&&O.current&&O.current.getSectionContent(b.startIndex).focus()},[]),{interactions:K,returnedValue:{autoFocus:c,readOnly:i,focused:u??$,sectionListRef:N,onBlur:le,onClick:Q,onFocus:te,onInput:H,onPaste:X,enableAccessibleFieldDOMStructure:!0,elements:ye,tabIndex:v===0?-1:0,contentEditable:pe,value:re,onChange:Ce,areAllSectionsEmpty:D}}},im=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),SWe=(t,e,i)=>{let r=0,n=i?1:0;const s=[];for(let o=0;o<t.length;o+=1){const a=t[o],l=UB(a,i?"input-rtl":"input-ltr",e),u=`${a.startSeparator}${l}${a.endSeparator}`,c=im(u).length,d=u.length,h=im(l),f=n+(h===""?0:l.indexOf(h[0]))+a.startSeparator.length,g=f+h.length;s.push(G({},a,{start:r,end:r+c,startInInput:f,endInInput:g})),r+=c,n+=d}return s},wWe=t=>{const i=za().direction==="rtl",r=T.useRef(),{forwardedProps:{onFocus:n,onClick:s,onPaste:o,onBlur:a,inputRef:l,placeholder:u},internalProps:{readOnly:c=!1},parsedSelectedSections:d,activeSectionIndex:h,state:f,fieldValueManager:g,valueManager:v,applyCharacterEditing:C,resetCharacterQuery:S,updateSectionValue:y,updateValueFromValueStr:w,clearActiveSection:E,clearValue:b,setTempAndroidValueStr:D,setSelectedSections:P,getSectionsFromValue:O,areAllSectionsEmpty:N,localizedDigits:_}=t,L=T.useRef(null),k=ri(l,L),$=T.useMemo(()=>SWe(f.sections,_,i),[f.sections,_,i]),U=T.useMemo(()=>({syncSelectionToDOM:()=>{if(!L.current)return;if(d==null){L.current.scrollLeft&&(L.current.scrollLeft=0);return}if(L.current!==wa(document))return;const se=L.current.scrollTop;if(d==="all")L.current.select();else{const he=$[d],Ee=he.type==="empty"?he.startInInput-he.startSeparator.length:he.startInInput,pe=he.type==="empty"?he.endInInput+he.endSeparator.length:he.endInInput;(Ee!==L.current.selectionStart||pe!==L.current.selectionEnd)&&L.current===wa(document)&&L.current.setSelectionRange(Ee,pe)}L.current.scrollTop=se},getActiveSectionIndexFromDOM:()=>{var ye;const se=L.current.selectionStart??0,he=L.current.selectionEnd??0,Ee=!!((ye=L.current)!=null&&ye.readOnly);if(se===0&&he===0||Ee)return null;const pe=se<=$[0].startInInput?1:$.findIndex(Ce=>Ce.startInInput-Ce.startSeparator.length>se);return pe===-1?$.length-1:pe-1},focusField:(se=0)=>{var he;(he=L.current)==null||he.focus(),P(se)},setSelectedSections:se=>P(se),isFieldFocused:()=>L.current===wa(document)}),[L,d,$,P]),K=()=>{if(c){P(null);return}const se=L.current.selectionStart??0;let he;se<=$[0].startInInput||se>=$[$.length-1].endInInput?he=1:he=$.findIndex(pe=>pe.startInInput-pe.startSeparator.length>se);const Ee=he===-1?$.length-1:he-1;P(Ee)},j=Xe((...se)=>{n==null||n(...se);const he=L.current;clearTimeout(r.current),r.current=setTimeout(()=>{!he||he!==L.current||h!=null||c||(he.value.length&&Number(he.selectionEnd)-Number(he.selectionStart)===he.value.length?P("all"):K())})}),Q=Xe((se,...he)=>{se.isDefaultPrevented()||(s==null||s(se,...he),K())}),H=Xe(se=>{if(o==null||o(se),se.preventDefault(),c)return;const he=se.clipboardData.getData("text");if(typeof d=="number"){const Ee=f.sections[d],pe=/^[a-zA-Z]+$/.test(he),ye=/^[0-9]+$/.test(he),Ce=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(he);if(Ee.contentType==="letter"&&pe||Ee.contentType==="digit"&&ye||Ee.contentType==="digit-with-letter"&&Ce){S(),y({activeSection:Ee,newSectionValue:he,shouldGoToNextSection:!0});return}if(pe||ye)return}S(),w(he)}),X=Xe((...se)=>{a==null||a(...se),P(null)}),te=Xe(se=>{if(c)return;const he=se.target.value;if(he===""){S(),b();return}const Ee=se.nativeEvent.data,pe=Ee&&Ee.length>1,ye=pe?Ee:he,Ce=im(ye);if(h==null||pe){w(pe?Ee:Ce);return}let re;if(d==="all"&&Ce.length===1)re=Ce;else{const oe=im(g.getV6InputValueFromSections($,_,i));let fe=-1,we=-1;for(let qe=0;qe<oe.length;qe+=1)fe===-1&&oe[qe]!==Ce[qe]&&(fe=qe),we===-1&&oe[oe.length-qe-1]!==Ce[Ce.length-qe-1]&&(we=qe);const Ue=$[h];if(fe<Ue.start||oe.length-we-1>Ue.end)return;const Ve=Ce.length-oe.length+Ue.end-im(Ue.endSeparator||"").length;re=Ce.slice(Ue.start+im(Ue.startSeparator||"").length,Ve)}if(re.length===0){g$e()?D(ye):(S(),E());return}C({keyPressed:re,sectionIndex:h})}),le=T.useMemo(()=>u||g.getV6InputValueFromSections(O(v.emptyValue),_,i),[u,g,O,v.emptyValue,_,i]),J=T.useMemo(()=>f.tempValueStrAndroid??g.getV6InputValueFromSections(f.sections,_,i),[f.sections,g,f.tempValueStrAndroid,_,i]);T.useEffect(()=>(L.current&&L.current===wa(document)&&P("all"),()=>{clearTimeout(r.current)}),[]);const ie=T.useMemo(()=>h==null||f.sections[h].contentType==="letter"?"text":"numeric",[h,f.sections]),me=!(L.current&&L.current===wa(document))&&N;return{interactions:U,returnedValue:{readOnly:c,onBlur:X,onClick:Q,onFocus:j,onPaste:H,inputRef:k,enableAccessibleFieldDOMStructure:!1,placeholder:le,inputMode:ie,autoComplete:"off",value:me?"":J,onChange:te}}},EWe=t=>{const e=Li(),{internalProps:i,internalProps:{unstableFieldRef:r,minutesStep:n,enableAccessibleFieldDOMStructure:s=!1,disabled:o=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:u,clearable:c,onClear:d},fieldValueManager:h,valueManager:f,validator:g}=t,C=za().direction==="rtl",S=mWe(t),{state:y,activeSectionIndex:w,parsedSelectedSections:E,setSelectedSections:b,clearValue:D,clearActiveSection:P,updateSectionValue:O,setTempAndroidValueStr:N,sectionsValueBoundaries:_,localizedDigits:L,timezone:k}=S,$=CWe({sections:y.sections,updateSectionValue:O,sectionsValueBoundaries:_,localizedDigits:L,setTempAndroidValueStr:N,timezone:k}),{resetCharacterQuery:U}=$,K=f.areValuesEqual(e,y.value,f.emptyValue),j=s?yWe:wWe,Q=T.useMemo(()=>m$e(y.sections,C&&!s),[y.sections,C,s]),{returnedValue:H,interactions:X}=j(G({},t,S,$,{areAllSectionsEmpty:K,sectionOrder:Q})),te=Xe(se=>{switch(l==null||l(se),!0){case((se.ctrlKey||se.metaKey)&&se.key.toLowerCase()==="a"&&!se.shiftKey&&!se.altKey):{se.preventDefault(),b("all");break}case se.key==="Enter":{se.preventDefault();break}case se.key==="ArrowRight":{if(se.preventDefault(),E==null)b(Q.startIndex);else if(E==="all")b(Q.endIndex);else{const he=Q.neighbors[E].rightIndex;he!==null&&b(he)}break}case se.key==="ArrowLeft":{if(se.preventDefault(),E==null)b(Q.endIndex);else if(E==="all")b(Q.startIndex);else{const he=Q.neighbors[E].leftIndex;he!==null&&b(he)}break}case se.key==="Delete":{if(se.preventDefault(),a)break;E==null||E==="all"?D():P(),U();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(se.key):{if(se.preventDefault(),a||w==null)break;const he=y.sections[w],Ee=h.getActiveDateManager(e,y,he),pe=u$e(e,k,he,se.key,_,L,Ee.date,{minutesStep:n});O({activeSection:he,newSectionValue:pe,shouldGoToNextSection:!1});break}}});Xr(()=>{X.syncSelectionToDOM()});const le=wse(G({},i,{value:y.value,timezone:k}),g,f.isSameError,f.defaultErrorState),J=T.useMemo(()=>u!==void 0?u:f.hasError(le),[f,le,u]);T.useEffect(()=>{!J&&w==null&&U()},[y.referenceValue,w,J]),T.useEffect(()=>{y.tempValueStrAndroid!=null&&w!=null&&(U(),P())},[y.sections]),T.useImperativeHandle(r,()=>({getSections:()=>y.sections,getActiveSectionIndex:X.getActiveSectionIndexFromDOM,setSelectedSections:X.setSelectedSections,focusField:X.focusField,isFieldFocused:X.isFieldFocused}));const ie=Xe((se,...he)=>{se.preventDefault(),d==null||d(se,...he),D(),X.isFieldFocused()?b(Q.startIndex):X.focusField(0)}),ue={onKeyDown:te,onClear:ie,error:J,clearable:!!(c&&!K&&!a&&!o)},me={disabled:o,readOnly:a};return G({},t.forwardedProps,ue,me,H)},Y1=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],q1=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],xse=["minDateTime","maxDateTime"],bWe=[...Y1,...q1,...xse],Ase=t=>bWe.reduce((e,i)=>(t.hasOwnProperty(i)&&(e[i]=t[i]),e),{}),RWe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],TWe=(t,e)=>{const i=G({},t),r={},n=s=>{i.hasOwnProperty(s)&&(r[s]=i[s],delete i[s])};return RWe.forEach(n),e==="date"?Y1.forEach(n):e==="time"?q1.forEach(n):e==="date-time"&&(Y1.forEach(n),q1.forEach(n),xse.forEach(n)),{forwardedProps:i,internalProps:r}},DWe=t=>{const e=Li(),i=Ub();return G({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:$a(e,t.minDate,i.minDate),maxDate:$a(e,t.maxDate,i.maxDate)})},PWe=t=>{const e=DWe(t),{forwardedProps:i,internalProps:r}=TWe(e,"date");return EWe({forwardedProps:i,internalProps:r,valueManager:Pc,fieldValueManager:S$e,validator:nM,valueType:"date"})},xWe=["clearable","onClear","InputProps","sx","slots","slotProps"],AWe=["ownerState"],OWe=t=>{const e=Yc(),{clearable:i,onClear:r,InputProps:n,sx:s,slots:o,slotProps:a}=t,l=Oe(t,xWe),u=(o==null?void 0:o.clearButton)??eb,c=ii({elementType:u,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=Oe(c,AWe),h=(o==null?void 0:o.clearIcon)??uWe,f=ii({elementType:h,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return G({},l,{InputProps:G({},n,{endAdornment:Y.jsxs(T.Fragment,{children:[i&&Y.jsx(vse,{position:"end",sx:{marginRight:n!=null&&n.endAdornment?-1:-1.5},children:Y.jsx(u,G({},d,{onClick:r,children:Y.jsx(h,G({fontSize:"small"},f))}))}),n==null?void 0:n.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})},MWe=["enableAccessibleFieldDOMStructure"],FWe=["InputProps","readOnly"],IWe=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],LWe=t=>{let{enableAccessibleFieldDOMStructure:e}=t,i=Oe(t,MWe);if(e){const{InputProps:d,readOnly:h}=i,f=Oe(i,FWe);return G({},f,{InputProps:G({},d??{},{readOnly:h})})}const{onPaste:r,onKeyDown:n,inputMode:s,readOnly:o,InputProps:a,inputProps:l,inputRef:u}=i,c=Oe(i,IWe);return G({},c,{InputProps:G({},a??{},{readOnly:o}),inputProps:G({},l??{},{inputMode:s,onPaste:r,onKeyDown:n,ref:u})})},_We=["slots","slotProps","InputProps","inputProps"],Ose=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDateField"}),{slots:n,slotProps:s,InputProps:o,inputProps:a}=r,l=Oe(r,_We),u=r,c=(n==null?void 0:n.textField)??(e.enableAccessibleFieldDOMStructure?OHe:Ln),d=ii({elementType:c,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:i},ownerState:u});d.inputProps=G({},a,d.inputProps),d.InputProps=G({},o,d.InputProps);const h=PWe(d),f=LWe(h),g=OWe(G({},f,{slots:n,slotProps:s}));return Y.jsx(c,G({},g))}),Mse=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:i,minDate:r,maxDate:n,disableFuture:s,disablePast:o,timezone:a})=>{const l=Xf();return T.useCallback(u=>nM({adapter:l,value:u,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:i,minDate:r,maxDate:n,disableFuture:s,disablePast:o,timezone:a}})!==null,[l,t,e,i,r,n,s,o,a])},NWe=(t,e,i)=>(r,n)=>{switch(n.type){case"changeMonth":return G({},r,{slideDirection:n.direction,currentMonth:n.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return G({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&n.focusedDay!=null&&i.isSameDay(n.focusedDay,r.focusedDay))return r;const s=n.focusedDay!=null&&!e&&!i.isSameMonth(r.currentMonth,n.focusedDay);return G({},r,{focusedDay:n.focusedDay,isMonthSwitchingAnimating:s&&!t&&!n.withoutMonthSwitchingAnimation,currentMonth:s?i.startOfMonth(n.focusedDay):r.currentMonth,slideDirection:n.focusedDay!=null&&i.isAfterDay(n.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},GWe=t=>{const{value:e,referenceDate:i,disableFuture:r,disablePast:n,disableSwitchToMonthOnDayFocus:s=!1,maxDate:o,minDate:a,onMonthChange:l,reduceAnimations:u,shouldDisableDate:c,timezone:d}=t,h=Li(),f=T.useRef(NWe(!!u,s,h)).current,g=T.useMemo(()=>Pc.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:i,granularity:su.day}),[]),[v,C]=T.useReducer(f,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:h.startOfMonth(g),slideDirection:"left"}),S=T.useCallback(D=>{C(G({type:"changeMonth"},D)),l&&l(D.newMonth)},[l]),y=T.useCallback(D=>{const P=D;h.isSameMonth(P,v.currentMonth)||S({newMonth:h.startOfMonth(P),direction:h.isAfterDay(P,v.currentMonth)?"left":"right"})},[v.currentMonth,S,h]),w=Mse({shouldDisableDate:c,minDate:a,maxDate:o,disableFuture:r,disablePast:n,timezone:d}),E=T.useCallback(()=>{C({type:"finishMonthSwitchingAnimation"})},[]),b=Xe((D,P)=>{w(D)||C({type:"changeFocusedDay",focusedDay:D,withoutMonthSwitchingAnimation:P})});return{referenceDate:g,calendarState:v,changeMonth:y,changeFocusedDay:b,isDateDisabled:w,onMonthSwitchingAnimationEnd:E,handleChangeMonth:S}},kWe=t=>at("MuiPickersFadeTransitionGroup",t);lt("MuiPickersFadeTransitionGroup",["root"]);const VWe=t=>{const{classes:e}=t;return ot({root:["root"]},kWe,e)},HWe=be(BV,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function Fse(t){const e=rt({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:i,className:r,reduceAnimations:n,transKey:s}=e,o=VWe(e),a=za();return n?i:Y.jsx(HWe,{className:Le(o.root,r),children:Y.jsx(kv,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:i},s)})}function $We(t){return at("MuiPickersDay",t)}const Nh=lt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),BWe=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],WWe=t=>{const{selected:e,disableMargin:i,disableHighlightToday:r,today:n,disabled:s,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:a,classes:l}=t,u=o&&!a;return ot({root:["root",e&&!u&&"selected",s&&"disabled",!i&&"dayWithMargin",!r&&n&&"today",o&&a&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},$We,l)},Ise=({theme:t})=>G({},t.typography.caption,{width:Bw,height:Bw,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Lm(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Lm(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Nh.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Nh.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Nh.disabled}:not(.${Nh.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Nh.disabled}&.${Nh.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${sM}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Nh.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),Lse=(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disableMargin&&e.dayWithMargin,!i.disableHighlightToday&&i.today&&e.today,!i.outsideCurrentMonth&&i.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,i.outsideCurrentMonth&&!i.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},UWe=be(Bp,{name:"MuiPickersDay",slot:"Root",overridesResolver:Lse})(Ise),zWe=be("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Lse})(({theme:t})=>G({},Ise({theme:t}),{opacity:0,pointerEvents:"none"})),gy=()=>{},jWe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersDay"}),{autoFocus:n=!1,className:s,day:o,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:u=!1,isAnimating:c,onClick:d,onDaySelect:h,onFocus:f=gy,onBlur:g=gy,onKeyDown:v=gy,onMouseDown:C=gy,onMouseEnter:S=gy,outsideCurrentMonth:y,selected:w=!1,showDaysOutsideCurrentMonth:E=!1,children:b,today:D=!1}=r,P=Oe(r,BWe),O=G({},r,{autoFocus:n,disabled:a,disableHighlightToday:l,disableMargin:u,selected:w,showDaysOutsideCurrentMonth:E,today:D}),N=WWe(O),_=Li(),L=T.useRef(null),k=ri(L,i);Xr(()=>{n&&!a&&!c&&!y&&L.current.focus()},[n,a,c,y]);const $=K=>{C(K),y&&K.preventDefault()},U=K=>{a||h(o),y&&K.currentTarget.focus(),d&&d(K)};return y&&!E?Y.jsx(zWe,{className:Le(N.root,N.hiddenDaySpacingFiller,s),ownerState:O,role:P.role}):Y.jsx(UWe,G({className:Le(N.root,s),ref:k,centerRipple:!0,disabled:a,tabIndex:w?0:-1,onKeyDown:K=>v(K,o),onFocus:K=>f(K,o),onBlur:K=>g(K,o),onMouseEnter:K=>S(K,o),onClick:U,onMouseDown:$},P,{ownerState:O,children:b||_.format(o,"dayOfMonth")}))}),KWe=T.memo(jWe),YWe=t=>at("MuiPickersSlideTransition",t),la=lt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),qWe=["children","className","reduceAnimations","slideDirection","transKey","classes"],XWe=t=>{const{classes:e,slideDirection:i}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${i}`],exitActive:[`slideExitActiveLeft-${i}`]};return ot(r,YWe,e)},QWe=be(BV,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${la["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${la["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${la.slideEnterActive}`]:e.slideEnterActive},{[`.${la.slideExit}`]:e.slideExit},{[`.${la["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${la["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${la["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${la["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${la.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${la.slideExit}`]:{transform:"translate(0%)"},[`& .${la["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${la["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function ZWe(t){const e=rt({props:t,name:"MuiPickersSlideTransition"}),{children:i,className:r,reduceAnimations:n,transKey:s}=e,o=Oe(e,qWe),a=XWe(e),l=za();if(n)return Y.jsx("div",{className:Le(a.root,r),children:i});const u={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return Y.jsx(QWe,{className:Le(a.root,r),childFactory:c=>T.cloneElement(c,{classNames:u}),role:"presentation",children:Y.jsx(pDe,G({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:u},o,{children:i}),s)})}const JWe=t=>at("MuiDayCalendar",t);lt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const e2e=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],t2e=["ownerState"],i2e=t=>{const{classes:e}=t;return ot({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},JWe,e)},_se=(Bw+sM*2)*6,r2e=be("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),n2e=be("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),s2e=be(Fo,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),o2e=be(Fo,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),a2e=be(Fo,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>G({},t.typography.caption,{width:Bw,height:Bw,padding:0,margin:`0 ${sM}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),l2e=be("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:_se}),u2e=be(ZWe,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:_se}),c2e=be("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),d2e=be("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${sM}px 0`,display:"flex",justifyContent:"center"});function h2e(t){let{parentProps:e,day:i,focusableDay:r,selectedDays:n,isDateDisabled:s,currentMonthNumber:o,isViewFocused:a}=t,l=Oe(t,e2e);const{disabled:u,disableHighlightToday:c,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:f,slotProps:g,timezone:v}=e,C=Li(),S=rM(v),y=r!==null&&C.isSameDay(i,r),w=n.some(k=>C.isSameDay(k,i)),E=C.isSameDay(i,S),b=(f==null?void 0:f.day)??KWe,D=ii({elementType:b,externalSlotProps:g==null?void 0:g.day,additionalProps:G({disableHighlightToday:c,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":C.toJsDate(i).valueOf()},l),ownerState:G({},e,{day:i,selected:w})}),P=Oe(D,t2e),O=T.useMemo(()=>u||s(i),[u,s,i]),N=T.useMemo(()=>C.getMonth(i)!==o,[C,i,o]),_=T.useMemo(()=>{const k=C.startOfMonth(C.setMonth(i,o));return h?C.isSameDay(i,C.startOfWeek(k)):C.isSameDay(i,k)},[o,i,h,C]),L=T.useMemo(()=>{const k=C.endOfMonth(C.setMonth(i,o));return h?C.isSameDay(i,C.endOfWeek(k)):C.isSameDay(i,k)},[o,i,h,C]);return Y.jsx(b,G({},P,{day:i,disabled:O,autoFocus:a&&y,today:E,outsideCurrentMonth:N,isFirstVisibleCell:_,isLastVisibleCell:L,selected:w,tabIndex:y?0:-1,"aria-selected":w,"aria-current":E?"date":void 0}))}function p2e(t){const e=rt({props:t,name:"MuiDayCalendar"}),i=Li(),{onFocusedDayChange:r,className:n,currentMonth:s,selectedDays:o,focusedDay:a,loading:l,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:c,readOnly:d,reduceAnimations:h,renderLoading:f=()=>Y.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:v,disablePast:C,disableFuture:S,minDate:y,maxDate:w,shouldDisableDate:E,shouldDisableMonth:b,shouldDisableYear:D,dayOfWeekFormatter:P=Ve=>i.format(Ve,"weekdayShort").charAt(0).toUpperCase(),hasFocus:O,onFocusedViewChange:N,gridLabelId:_,displayWeekNumber:L,fixedWeekNumber:k,autoFocus:$,timezone:U}=e,K=rM(U),j=i2e(e),H=za().direction==="rtl",X=Mse({shouldDisableDate:E,shouldDisableMonth:b,shouldDisableYear:D,minDate:y,maxDate:w,disablePast:C,disableFuture:S,timezone:U}),te=Yc(),[le,J]=wu({name:"DayCalendar",state:"hasFocus",controlled:O,default:$??!1}),[ie,ue]=T.useState(()=>a||K),me=Xe(Ve=>{d||u(Ve)}),se=Ve=>{X(Ve)||(r(Ve),ue(Ve),N==null||N(!0),J(!0))},he=Xe((Ve,qe)=>{switch(Ve.key){case"ArrowUp":se(i.addDays(qe,-7)),Ve.preventDefault();break;case"ArrowDown":se(i.addDays(qe,7)),Ve.preventDefault();break;case"ArrowLeft":{const mt=i.addDays(qe,H?1:-1),et=i.addMonths(qe,H?1:-1),fi=CS({utils:i,date:mt,minDate:H?mt:i.startOfMonth(et),maxDate:H?i.endOfMonth(et):mt,isDateDisabled:X,timezone:U});se(fi||mt),Ve.preventDefault();break}case"ArrowRight":{const mt=i.addDays(qe,H?-1:1),et=i.addMonths(qe,H?-1:1),fi=CS({utils:i,date:mt,minDate:H?i.startOfMonth(et):mt,maxDate:H?mt:i.endOfMonth(et),isDateDisabled:X,timezone:U});se(fi||mt),Ve.preventDefault();break}case"Home":se(i.startOfWeek(qe)),Ve.preventDefault();break;case"End":se(i.endOfWeek(qe)),Ve.preventDefault();break;case"PageUp":se(i.addMonths(qe,1)),Ve.preventDefault();break;case"PageDown":se(i.addMonths(qe,-1)),Ve.preventDefault();break}}),Ee=Xe((Ve,qe)=>se(qe)),pe=Xe((Ve,qe)=>{le&&i.isSameDay(ie,qe)&&(N==null||N(!1))}),ye=i.getMonth(s),Ce=i.getYear(s),re=T.useMemo(()=>o.filter(Ve=>!!Ve).map(Ve=>i.startOfDay(Ve)),[i,o]),oe=`${Ce}-${ye}`,fe=T.useMemo(()=>T.createRef(),[oe]),we=i.startOfWeek(K),Ue=T.useMemo(()=>{const Ve=i.startOfMonth(s),qe=i.endOfMonth(s);return X(ie)||i.isAfterDay(ie,qe)||i.isBeforeDay(ie,Ve)?CS({utils:i,date:ie,minDate:Ve,maxDate:qe,disablePast:C,disableFuture:S,isDateDisabled:X,timezone:U}):ie},[s,S,C,ie,X,i,U]),Be=T.useMemo(()=>{const Ve=i.setTimezone(s,U),qe=i.getWeekArray(Ve);let mt=i.addMonths(Ve,1);for(;k&&qe.length<k;){const et=i.getWeekArray(mt),fi=i.isSameDay(qe[qe.length-1][0],et[0][0]);et.slice(fi?1:0).forEach(wi=>{qe.length<k&&qe.push(wi)}),mt=i.addMonths(mt,1)}return qe},[s,k,i,U]);return Y.jsxs(r2e,{role:"grid","aria-labelledby":_,className:j.root,children:[Y.jsxs(n2e,{role:"row",className:j.header,children:[L&&Y.jsx(o2e,{variant:"caption",role:"columnheader","aria-label":te.calendarWeekNumberHeaderLabel,className:j.weekNumberLabel,children:te.calendarWeekNumberHeaderText}),e$e(i,K).map((Ve,qe)=>Y.jsx(s2e,{variant:"caption",role:"columnheader","aria-label":i.format(i.addDays(we,qe),"weekday"),className:j.weekDayLabel,children:P(Ve)},qe.toString()))]}),l?Y.jsx(l2e,{className:j.loadingContainer,children:f()}):Y.jsx(u2e,G({transKey:oe,onExited:c,reduceAnimations:h,slideDirection:g,className:Le(n,j.slideTransition)},v,{nodeRef:fe,children:Y.jsx(c2e,{ref:fe,role:"rowgroup",className:j.monthContainer,children:Be.map((Ve,qe)=>Y.jsxs(d2e,{role:"row",className:j.weekContainer,"aria-rowindex":qe+1,children:[L&&Y.jsx(a2e,{className:j.weekNumber,role:"rowheader","aria-label":te.calendarWeekNumberAriaLabelText(i.getWeekNumber(Ve[0])),children:te.calendarWeekNumberText(i.getWeekNumber(Ve[0]))}),Ve.map((mt,et)=>Y.jsx(h2e,{parentProps:e,day:mt,selectedDays:re,focusableDay:Ue,onKeyDown:he,onFocus:Ee,onBlur:pe,onDaySelect:me,isDateDisabled:X,currentMonthNumber:ye,isViewFocused:le,"aria-colindex":et+1},mt.toString()))]},`week-${Ve[0]}`))})}))]})}function f2e(t){return at("MuiPickersMonth",t)}const LT=lt("MuiPickersMonth",["root","monthButton","disabled","selected"]),g2e=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],m2e=t=>{const{disabled:e,selected:i,classes:r}=t;return ot({root:["root"],monthButton:["monthButton",e&&"disabled",i&&"selected"]},f2e,r)},v2e=be("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),C2e=be("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${LT.disabled}`]:e.disabled},{[`&.${LT.selected}`]:e.selected}]})(({theme:t})=>G({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Lm(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Lm(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${LT.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${LT.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),y2e=T.memo(function(e){const i=rt({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:n,disabled:s,selected:o,value:a,tabIndex:l,onClick:u,onKeyDown:c,onFocus:d,onBlur:h,"aria-current":f,"aria-label":g}=i,v=Oe(i,g2e),C=T.useRef(null),S=m2e(i);return Xr(()=>{var y;r&&((y=C.current)==null||y.focus())},[r]),Y.jsx(v2e,G({className:S.root,ownerState:i},v,{children:Y.jsx(C2e,{ref:C,disabled:s,type:"button",role:"radio",tabIndex:s?-1:l,"aria-current":f,"aria-checked":o,"aria-label":g,onClick:y=>u(y,a),onKeyDown:y=>c(y,a),onFocus:y=>d(y,a),onBlur:y=>h(y,a),className:S.monthButton,ownerState:i,children:n})}))});function S2e(t){return at("MuiMonthCalendar",t)}lt("MuiMonthCalendar",["root"]);const w2e=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],E2e=t=>{const{classes:e}=t;return ot({root:["root"]},S2e,e)};function b2e(t,e){const i=Li(),r=Ub(),n=rt({props:t,name:e});return G({disableFuture:!1,disablePast:!1},n,{minDate:$a(i,n.minDate,r.minDate),maxDate:$a(i,n.maxDate,r.maxDate)})}const R2e=be("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:oM,boxSizing:"border-box"}),T2e=T.forwardRef(function(e,i){const r=b2e(e,"MuiMonthCalendar"),{className:n,value:s,defaultValue:o,referenceDate:a,disabled:l,disableFuture:u,disablePast:c,maxDate:d,minDate:h,onChange:f,shouldDisableMonth:g,readOnly:v,autoFocus:C=!1,onMonthFocus:S,hasFocus:y,onFocusedViewChange:w,monthsPerRow:E=3,timezone:b,gridLabelId:D}=r,P=Oe(r,w2e),{value:O,handleValueChange:N,timezone:_}=KB({name:"MonthCalendar",timezone:b,value:s,defaultValue:o,onChange:f,valueManager:Pc}),L=rM(_),k=JE(),$=Li(),U=T.useMemo(()=>Pc.getInitialReferenceValue({value:O,utils:$,props:r,timezone:_,referenceDate:a,granularity:su.month}),[]),K=r,j=E2e(K),Q=T.useMemo(()=>$.getMonth(L),[$,L]),H=T.useMemo(()=>O!=null?$.getMonth(O):null,[O,$]),[X,te]=T.useState(()=>H||$.getMonth(U)),[le,J]=wu({name:"MonthCalendar",state:"hasFocus",controlled:y,default:C??!1}),ie=Xe(ye=>{J(ye),w&&w(ye)}),ue=T.useCallback(ye=>{const Ce=$.startOfMonth(c&&$.isAfter(L,h)?L:h),re=$.startOfMonth(u&&$.isBefore(L,d)?L:d),oe=$.startOfMonth(ye);return $.isBefore(oe,Ce)||$.isAfter(oe,re)?!0:g?g(oe):!1},[u,c,d,h,L,g,$]),me=Xe((ye,Ce)=>{if(v)return;const re=$.setMonth(O??U,Ce);N(re)}),se=Xe(ye=>{ue($.setMonth(O??U,ye))||(te(ye),ie(!0),S&&S(ye))});T.useEffect(()=>{te(ye=>H!==null&&ye!==H?H:ye)},[H]);const he=Xe((ye,Ce)=>{switch(ye.key){case"ArrowUp":se((12+Ce-3)%12),ye.preventDefault();break;case"ArrowDown":se((12+Ce+3)%12),ye.preventDefault();break;case"ArrowLeft":se((12+Ce+(k.direction==="ltr"?-1:1))%12),ye.preventDefault();break;case"ArrowRight":se((12+Ce+(k.direction==="ltr"?1:-1))%12),ye.preventDefault();break}}),Ee=Xe((ye,Ce)=>{se(Ce)}),pe=Xe((ye,Ce)=>{X===Ce&&ie(!1)});return Y.jsx(R2e,G({ref:i,className:Le(j.root,n),ownerState:K,role:"radiogroup","aria-labelledby":D},P,{children:$B($,O??U).map(ye=>{const Ce=$.getMonth(ye),re=$.format(ye,"monthShort"),oe=$.format(ye,"month"),fe=Ce===H,we=l||ue(ye);return Y.jsx(y2e,{selected:fe,value:Ce,onClick:me,onKeyDown:he,autoFocus:le&&Ce===X,disabled:we,tabIndex:Ce===X?0:-1,onFocus:Ee,onBlur:pe,"aria-current":Q===Ce?"date":void 0,"aria-label":oe,monthsPerRow:E,children:re},re)})}))});function D2e(t){return at("MuiPickersYear",t)}const _T=lt("MuiPickersYear",["root","yearButton","selected","disabled"]),P2e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],x2e=t=>{const{disabled:e,selected:i,classes:r}=t;return ot({root:["root"],yearButton:["yearButton",e&&"disabled",i&&"selected"]},D2e,r)},A2e=be("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),O2e=be("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${_T.disabled}`]:e.disabled},{[`&.${_T.selected}`]:e.selected}]})(({theme:t})=>G({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:Lm(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Lm(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${_T.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${_T.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),M2e=T.memo(function(e){const i=rt({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:n,children:s,disabled:o,selected:a,value:l,tabIndex:u,onClick:c,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":g}=i,v=Oe(i,P2e),C=T.useRef(null),S=x2e(i);return T.useEffect(()=>{r&&C.current.focus()},[r]),Y.jsx(A2e,G({className:Le(S.root,n),ownerState:i},v,{children:Y.jsx(O2e,{ref:C,disabled:o,type:"button",role:"radio",tabIndex:o?-1:u,"aria-current":g,"aria-checked":a,onClick:y=>c(y,l),onKeyDown:y=>d(y,l),onFocus:y=>h(y,l),onBlur:y=>f(y,l),className:S.yearButton,ownerState:i,children:s})}))});function F2e(t){return at("MuiYearCalendar",t)}lt("MuiYearCalendar",["root"]);const I2e=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],L2e=t=>{const{classes:e}=t;return ot({root:["root"]},F2e,e)};function _2e(t,e){const i=Li(),r=Ub(),n=rt({props:t,name:e});return G({disablePast:!1,disableFuture:!1},n,{yearsPerRow:n.yearsPerRow??3,minDate:$a(i,n.minDate,r.minDate),maxDate:$a(i,n.maxDate,r.maxDate)})}const N2e=be("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:oM,maxHeight:jBe,boxSizing:"border-box",position:"relative"}),G2e=T.forwardRef(function(e,i){const r=_2e(e,"MuiYearCalendar"),{autoFocus:n,className:s,value:o,defaultValue:a,referenceDate:l,disabled:u,disableFuture:c,disablePast:d,maxDate:h,minDate:f,onChange:g,readOnly:v,shouldDisableYear:C,onYearFocus:S,hasFocus:y,onFocusedViewChange:w,yearsPerRow:E,timezone:b,gridLabelId:D}=r,P=Oe(r,I2e),{value:O,handleValueChange:N,timezone:_}=KB({name:"YearCalendar",timezone:b,value:o,defaultValue:a,onChange:g,valueManager:Pc}),L=rM(_),k=JE(),$=Li(),U=T.useMemo(()=>Pc.getInitialReferenceValue({value:O,utils:$,props:r,timezone:_,referenceDate:l,granularity:su.year}),[]),K=r,j=L2e(K),Q=T.useMemo(()=>$.getYear(L),[$,L]),H=T.useMemo(()=>O!=null?$.getYear(O):null,[O,$]),[X,te]=T.useState(()=>H||$.getYear(U)),[le,J]=wu({name:"YearCalendar",state:"hasFocus",controlled:y,default:n??!1}),ie=Xe(re=>{J(re),w&&w(re)}),ue=T.useCallback(re=>{if(d&&$.isBeforeYear(re,L)||c&&$.isAfterYear(re,L)||f&&$.isBeforeYear(re,f)||h&&$.isAfterYear(re,h))return!0;if(!C)return!1;const oe=$.startOfYear(re);return C(oe)},[c,d,h,f,L,C,$]),me=Xe((re,oe)=>{if(v)return;const fe=$.setYear(O??U,oe);N(fe)}),se=Xe(re=>{ue($.setYear(O??U,re))||(te(re),ie(!0),S==null||S(re))});T.useEffect(()=>{te(re=>H!==null&&re!==H?H:re)},[H]);const he=Xe((re,oe)=>{switch(re.key){case"ArrowUp":se(oe-E),re.preventDefault();break;case"ArrowDown":se(oe+E),re.preventDefault();break;case"ArrowLeft":se(oe+(k.direction==="ltr"?-1:1)),re.preventDefault();break;case"ArrowRight":se(oe+(k.direction==="ltr"?1:-1)),re.preventDefault();break}}),Ee=Xe((re,oe)=>{se(oe)}),pe=Xe((re,oe)=>{X===oe&&ie(!1)}),ye=T.useRef(null),Ce=ri(i,ye);return T.useEffect(()=>{if(n||ye.current===null)return;const re=ye.current.querySelector('[tabindex="0"]');if(!re)return;const oe=re.offsetHeight,fe=re.offsetTop,we=ye.current.clientHeight,Ue=ye.current.scrollTop,Be=fe+oe;oe>we||fe<Ue||(ye.current.scrollTop=Be-we/2-oe/2)},[n]),Y.jsx(N2e,G({ref:Ce,className:Le(j.root,s),ownerState:K,role:"radiogroup","aria-labelledby":D},P,{children:$.getYearRange([f,h]).map(re=>{const oe=$.getYear(re),fe=oe===H,we=u||ue(re);return Y.jsx(M2e,{selected:fe,value:oe,onClick:me,onKeyDown:he,autoFocus:le&&oe===X,disabled:we,tabIndex:oe===X?0:-1,onFocus:Ee,onBlur:pe,"aria-current":Q===oe?"date":void 0,yearsPerRow:E,children:$.format(re,"year")},$.format(re,"year"))})}))}),k2e=t=>at("MuiPickersCalendarHeader",t),V2e=lt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function H2e(t){return at("MuiPickersArrowSwitcher",t)}lt("MuiPickersArrowSwitcher",["root","spacer","button"]);const $2e=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],B2e=["ownerState"],W2e=["ownerState"],U2e=be("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),z2e=be("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),C4=be(eb,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),j2e=t=>{const{classes:e}=t;return ot({root:["root"],spacer:["spacer"],button:["button"]},H2e,e)},K2e=T.forwardRef(function(e,i){const n=za().direction==="rtl",s=rt({props:e,name:"MuiPickersArrowSwitcher"}),{children:o,className:a,slots:l,slotProps:u,isNextDisabled:c,isNextHidden:d,onGoToNext:h,nextLabel:f,isPreviousDisabled:g,isPreviousHidden:v,onGoToPrevious:C,previousLabel:S}=s,y=Oe(s,$2e),w=s,E=j2e(w),b={isDisabled:c,isHidden:d,goTo:h,label:f},D={isDisabled:g,isHidden:v,goTo:C,label:S},P=(l==null?void 0:l.previousIconButton)??C4,O=ii({elementType:P,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"end",onClick:D.goTo},ownerState:G({},w,{hidden:D.isHidden}),className:E.button}),N=(l==null?void 0:l.nextIconButton)??C4,_=ii({elementType:N,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:b.label,"aria-label":b.label,disabled:b.isDisabled,edge:"start",onClick:b.goTo},ownerState:G({},w,{hidden:b.isHidden}),className:E.button}),L=(l==null?void 0:l.leftArrowIcon)??oWe,k=ii({elementType:L,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),$=Oe(k,B2e),U=(l==null?void 0:l.rightArrowIcon)??aWe,K=ii({elementType:U,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),j=Oe(K,W2e);return Y.jsxs(U2e,G({ref:i,className:Le(E.root,a),ownerState:w},y,{children:[Y.jsx(P,G({},O,{children:n?Y.jsx(U,G({},j)):Y.jsx(L,G({},$))})),o?Y.jsx(Fo,{variant:"subtitle1",component:"span",children:o}):Y.jsx(z2e,{className:E.spacer,ownerState:w}),Y.jsx(N,G({},_,{children:n?Y.jsx(L,G({},$)):Y.jsx(U,G({},j))}))]}))});function Y2e(t,{disableFuture:e,maxDate:i,timezone:r}){const n=Li();return T.useMemo(()=>{const s=n.date(void 0,r),o=n.startOfMonth(e&&n.isBefore(s,i)?s:i);return!n.isAfter(o,t)},[e,i,t,n,r])}function q2e(t,{disablePast:e,minDate:i,timezone:r}){const n=Li();return T.useMemo(()=>{const s=n.date(void 0,r),o=n.startOfMonth(e&&n.isAfter(s,i)?s:i);return!n.isBefore(o,t)},[e,i,t,n,r])}const X2e=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Q2e=["ownerState"],Z2e=t=>{const{classes:e}=t;return ot({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},k2e,e)},J2e=be("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),eUe=be("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>G({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),tUe=be("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),iUe=be(eb,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${V2e.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),rUe=be(sWe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),nUe=T.forwardRef(function(e,i){const r=Yc(),n=Li(),s=rt({props:e,name:"MuiPickersCalendarHeader"}),{slots:o,slotProps:a,currentMonth:l,disabled:u,disableFuture:c,disablePast:d,maxDate:h,minDate:f,onMonthChange:g,onViewChange:v,view:C,reduceAnimations:S,views:y,labelId:w,className:E,timezone:b,format:D=`${n.formats.month} ${n.formats.year}`}=s,P=Oe(s,X2e),O=s,N=Z2e(s),_=(o==null?void 0:o.switchViewButton)??iUe,L=ii({elementType:_,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(C)},ownerState:O,className:N.switchViewButton}),k=(o==null?void 0:o.switchViewIcon)??rUe,$=ii({elementType:k,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:void 0,className:N.switchViewIcon}),U=Oe($,Q2e),K=()=>g(n.addMonths(l,1),"left"),j=()=>g(n.addMonths(l,-1),"right"),Q=Y2e(l,{disableFuture:c,maxDate:h,timezone:b}),H=q2e(l,{disablePast:d,minDate:f,timezone:b}),X=()=>{if(!(y.length===1||!v||u))if(y.length===2)v(y.find(le=>le!==C)||y[0]);else{const le=y.indexOf(C)!==0?0:1;v(y[le])}};if(y.length===1&&y[0]==="year")return null;const te=n.formatByString(l,D);return Y.jsxs(J2e,G({},P,{ownerState:O,className:Le(E,N.root),ref:i,children:[Y.jsxs(eUe,{role:"presentation",onClick:X,ownerState:O,"aria-live":"polite",className:N.labelContainer,children:[Y.jsx(Fse,{reduceAnimations:S,transKey:te,children:Y.jsx(tUe,{id:w,ownerState:O,className:N.label,children:te})}),y.length>1&&!u&&Y.jsx(_,G({},L,{children:Y.jsx(k,G({},U))}))]}),Y.jsx(kv,{in:C==="day",children:Y.jsx(K2e,{slots:o,slotProps:a,onGoToPrevious:j,isPreviousDisabled:H,previousLabel:r.previousMonth,onGoToNext:K,isNextDisabled:Q,nextLabel:r.nextMonth})})]}))}),sUe=be("div")({overflow:"hidden",width:oM,maxHeight:YB,display:"flex",flexDirection:"column",margin:"0 auto"}),oUe=t=>at("MuiDateCalendar",t);lt("MuiDateCalendar",["root","viewTransitionContainer"]);const aUe=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],lUe=t=>{const{classes:e}=t;return ot({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},oUe,e)};function uUe(t,e){const i=Li(),r=Ub(),n=Sse(),s=rt({props:t,name:e});return G({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??n,renderLoading:s.renderLoading??(()=>Y.jsx("span",{children:"..."})),minDate:$a(i,s.minDate,r.minDate),maxDate:$a(i,s.maxDate,r.maxDate)})}const cUe=be(sUe,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:YB}),dUe=be(Fse,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),hUe=T.forwardRef(function(e,i){const r=Li(),n=Ic(),s=uUe(e,"MuiDateCalendar"),{autoFocus:o,onViewChange:a,value:l,defaultValue:u,referenceDate:c,disableFuture:d,disablePast:h,onChange:f,onYearChange:g,onMonthChange:v,reduceAnimations:C,shouldDisableDate:S,shouldDisableMonth:y,shouldDisableYear:w,view:E,views:b,openTo:D,className:P,disabled:O,readOnly:N,minDate:_,maxDate:L,disableHighlightToday:k,focusedView:$,onFocusedViewChange:U,showDaysOutsideCurrentMonth:K,fixedWeekNumber:j,dayOfWeekFormatter:Q,slots:H,slotProps:X,loading:te,renderLoading:le,displayWeekNumber:J,yearsPerRow:ie,monthsPerRow:ue,timezone:me}=s,se=Oe(s,aUe),{value:he,handleValueChange:Ee,timezone:pe}=KB({name:"DateCalendar",timezone:me,value:l,defaultValue:u,onChange:f,valueManager:Pc}),{view:ye,setView:Ce,focusedView:re,setFocusedView:oe,goToNextView:fe,setValueAndGoToNextView:we}=Ese({view:E,views:b,openTo:D,onChange:Ee,onViewChange:a,autoFocus:o,focusedView:$,onFocusedViewChange:U}),{referenceDate:Ue,calendarState:Be,changeFocusedDay:Ve,changeMonth:qe,handleChangeMonth:mt,isDateDisabled:et,onMonthSwitchingAnimationEnd:fi}=GWe({value:he,referenceDate:c,reduceAnimations:C,onMonthChange:v,minDate:_,maxDate:L,shouldDisableDate:S,disablePast:h,disableFuture:d,timezone:pe}),wi=O&&he||_,Kt=O&&he||L,Cr=`${n}-grid-label`,xn=re!==null,xr=(H==null?void 0:H.calendarHeader)??nUe,Ht=ii({elementType:xr,externalSlotProps:X==null?void 0:X.calendarHeader,additionalProps:{views:b,view:ye,currentMonth:Be.currentMonth,onViewChange:Ce,onMonthChange:(Yi,Jo)=>mt({newMonth:Yi,direction:Jo}),minDate:wi,maxDate:Kt,disabled:O,disablePast:h,disableFuture:d,reduceAnimations:C,timezone:pe,labelId:Cr,slots:H,slotProps:X},ownerState:s}),pt=Xe(Yi=>{const Jo=r.startOfMonth(Yi),Rh=r.endOfMonth(Yi),el=et(Yi)?CS({utils:r,date:Yi,minDate:r.isBefore(_,Jo)?Jo:_,maxDate:r.isAfter(L,Rh)?Rh:L,disablePast:h,disableFuture:d,isDateDisabled:et,timezone:pe}):Yi;el?(we(el,"finish"),v==null||v(Jo)):(fe(),qe(Jo)),Ve(el,!0)}),us=Xe(Yi=>{const Jo=r.startOfYear(Yi),Rh=r.endOfYear(Yi),el=et(Yi)?CS({utils:r,date:Yi,minDate:r.isBefore(_,Jo)?Jo:_,maxDate:r.isAfter(L,Rh)?Rh:L,disablePast:h,disableFuture:d,isDateDisabled:et,timezone:pe}):Yi;el?(we(el,"finish"),g==null||g(el)):(fe(),qe(Jo)),Ve(el,!0)}),Ja=Xe(Yi=>Ee(Yi&&_x(r,Yi,he??Ue),"finish",ye));T.useEffect(()=>{he!=null&&r.isValid(he)&&qe(he)},[he]);const uo=s,dt=lUe(uo),Qt={disablePast:h,disableFuture:d,maxDate:L,minDate:_},Ki={disableHighlightToday:k,readOnly:N,disabled:O,timezone:pe,gridLabelId:Cr},Ns=T.useRef(ye);T.useEffect(()=>{Ns.current!==ye&&(re===Ns.current&&oe(ye,!0),Ns.current=ye)},[re,oe,ye]);const Qc=T.useMemo(()=>[he],[he]);return Y.jsxs(cUe,G({ref:i,className:Le(dt.root,P),ownerState:uo},se,{children:[Y.jsx(xr,G({},Ht)),Y.jsx(dUe,{reduceAnimations:C,className:dt.viewTransitionContainer,transKey:ye,ownerState:uo,children:Y.jsxs("div",{children:[ye==="year"&&Y.jsx(G2e,G({},Qt,Ki,{value:he,onChange:us,shouldDisableYear:w,hasFocus:xn,onFocusedViewChange:Yi=>oe("year",Yi),yearsPerRow:ie,referenceDate:Ue})),ye==="month"&&Y.jsx(T2e,G({},Qt,Ki,{hasFocus:xn,className:P,value:he,onChange:pt,shouldDisableMonth:y,onFocusedViewChange:Yi=>oe("month",Yi),monthsPerRow:ue,referenceDate:Ue})),ye==="day"&&Y.jsx(p2e,G({},Be,Qt,Ki,{onMonthSwitchingAnimationEnd:fi,onFocusedDayChange:Ve,reduceAnimations:C,selectedDays:Qc,onSelectedDaysChange:Ja,shouldDisableDate:S,shouldDisableMonth:y,shouldDisableYear:w,hasFocus:xn,onFocusedViewChange:Yi=>oe("day",Yi),showDaysOutsideCurrentMonth:K,fixedWeekNumber:j,dayOfWeekFormatter:Q,displayWeekNumber:J,slots:H,slotProps:X,loading:te,renderLoading:le}))]})})]}))}),Em=({view:t,onViewChange:e,views:i,focusedView:r,onFocusedViewChange:n,value:s,defaultValue:o,referenceDate:a,onChange:l,className:u,classes:c,disableFuture:d,disablePast:h,minDate:f,maxDate:g,shouldDisableDate:v,shouldDisableMonth:C,shouldDisableYear:S,reduceAnimations:y,onMonthChange:w,monthsPerRow:E,onYearChange:b,yearsPerRow:D,slots:P,slotProps:O,loading:N,renderLoading:_,disableHighlightToday:L,readOnly:k,disabled:$,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:K,sx:j,autoFocus:Q,fixedWeekNumber:H,displayWeekNumber:X,timezone:te})=>Y.jsx(hUe,{view:t,onViewChange:e,views:i.filter(n4),focusedView:r&&n4(r)?r:null,onFocusedViewChange:n,value:s,defaultValue:o,referenceDate:a,onChange:l,className:u,classes:c,disableFuture:d,disablePast:h,minDate:f,maxDate:g,shouldDisableDate:v,shouldDisableMonth:C,shouldDisableYear:S,reduceAnimations:y,onMonthChange:w,monthsPerRow:E,onYearChange:b,yearsPerRow:D,slots:P,slotProps:O,loading:N,renderLoading:_,disableHighlightToday:L,readOnly:k,disabled:$,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:K,sx:j,autoFocus:Q,fixedWeekNumber:H,displayWeekNumber:X,timezone:te}),Nse=T.forwardRef(function(e,i){var u,c;const r=Yc(),n=Li(),s=mse(e,"MuiDesktopDatePicker"),o=G({day:Em,month:Em,year:Em},s.viewRenderers),a=G({},s,{viewRenderers:o,format:BB(n,s,!1),yearsPerRow:s.yearsPerRow??4,slots:G({openPickerIcon:lWe,field:Ose},s.slots),slotProps:G({},s.slotProps,{field:d=>{var h;return G({},GV((h=s.slotProps)==null?void 0:h.field,d),Ase(s),{ref:i})},toolbar:G({hidden:!0},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=nWe({props:a,valueManager:Pc,valueType:"date",getOpenDialogAriaText:((c=a.localeText)==null?void 0:c.openDatePickerDialogue)??r.openDatePickerDialogue,validator:nM});return l()});Nse.propTypes={autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:yQ,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,minDate:ee.object,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","month","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","month","year"]),viewRenderers:ee.shape({day:ee.func,month:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","month","year"]).isRequired),yearsPerRow:ee.oneOf([3,4])};const pUe=be(ZO)({[`& .${vS.container}`]:{outline:0},[`& .${vS.paper}`]:{outline:0,minWidth:oM}}),fUe=be(eM)({"&:first-of-type":{padding:0}});function gUe(t){const{children:e,onDismiss:i,open:r,slots:n,slotProps:s}=t,o=(n==null?void 0:n.dialog)??pUe,a=(n==null?void 0:n.mobileTransition)??kv;return Y.jsx(o,G({open:r,onClose:i},s==null?void 0:s.dialog,{TransitionComponent:a,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:n==null?void 0:n.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:Y.jsx(fUe,{children:e})}))}const mUe=["props","getOpenDialogAriaText"],vUe=t=>{var le;let{props:e,getOpenDialogAriaText:i}=t,r=Oe(t,mUe);const{slots:n,slotProps:s,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:g,label:v,inputRef:C,readOnly:S,disabled:y,localeText:w}=e,E=Li(),b=T.useRef(null),D=Ic(),P=((le=s==null?void 0:s.toolbar)==null?void 0:le.hidden)??!1,{open:O,actions:N,layoutProps:_,renderCurrentView:L,fieldProps:k}=bse(G({},r,{props:e,fieldRef:b,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),$=n.field,U=ii({elementType:$,externalSlotProps:s==null?void 0:s.field,additionalProps:G({},k,P&&{id:D},!(y||S)&&{onClick:N.onOpen,onKeyDown:J$e(N.onOpen)},{readOnly:S??!0,disabled:y,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:v,name:g},C?{inputRef:C}:{}),ownerState:e});U.inputProps=G({},U.inputProps,{"aria-label":i(k.value,E)});const K=G({textField:n.textField},U.slots),j=n.layout??Pse;let Q=D;P&&(v?Q=`${D}-label`:Q=void 0);const H=G({},s,{toolbar:G({},s==null?void 0:s.toolbar,{titleId:D}),mobilePaper:G({"aria-labelledby":Q},s==null?void 0:s.mobilePaper)}),X=ri(b,U.unstableFieldRef);return{renderPicker:()=>Y.jsxs(HB,{localeText:w,children:[Y.jsx($,G({},U,{slots:K,slotProps:H,unstableFieldRef:X})),Y.jsx(gUe,G({},N,{open:O,slots:n,slotProps:H,children:Y.jsx(j,G({},_,H==null?void 0:H.layout,{slots:n,slotProps:H,children:L()}))}))]})}},Gse=T.forwardRef(function(e,i){var u,c;const r=Yc(),n=Li(),s=mse(e,"MuiMobileDatePicker"),o=G({day:Em,month:Em,year:Em},s.viewRenderers),a=G({},s,{viewRenderers:o,format:BB(n,s,!1),slots:G({field:Ose},s.slots),slotProps:G({},s.slotProps,{field:d=>{var h;return G({},GV((h=s.slotProps)==null?void 0:h.field,d),Ase(s),{ref:i})},toolbar:G({hidden:!1},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=vUe({props:a,valueManager:Pc,valueType:"date",getOpenDialogAriaText:((c=a.localeText)==null?void 0:c.openDatePickerDialogue)??r.openDatePickerDialogue,validator:nM});return l()});Gse.propTypes={autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:yQ,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,minDate:ee.object,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","month","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","month","year"]),viewRenderers:ee.shape({day:ee.func,month:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","month","year"]).isRequired),yearsPerRow:ee.oneOf([3,4])};const CUe=["desktopModeMediaQuery"],yUe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:n=eBe}=r,s=Oe(r,CUe);return vQ(n,{defaultMatches:!0})?Y.jsx(Nse,G({ref:i},s)):Y.jsx(Gse,G({ref:i},s))});function SUe(t){let e=t.training._links.customer.href;const[i,r]=W.useState(!1),[n,s]=W.useState({date:"",duration:"",activity:"",customer:""}),o=()=>{s({...n,customer:e}),r(!0)},a=()=>{r(!1)},l=c=>{s({...n,[c.target.name]:c.target.value})},u=()=>{t.saveTraining(n),a()};return Y.jsxs(W.Fragment,{children:[Y.jsx(Jn,{onClick:o,children:"Add Training"}),Y.jsxs(ZO,{open:i,onClose:a,PaperProps:{component:"form",onSubmit:c=>{c.preventDefault();const d=new FormData(c.currentTarget),f=Object.fromEntries(d.entries()).email;console.log(f),a()}},children:[Y.jsx(_B,{children:"New Training"}),Y.jsxs(eM,{children:[Y.jsx(HB,{dateAdapter:YHe,children:Y.jsx(LHe,{components:["DatePicker"],children:Y.jsx(yUe,{autoFocus:!0,required:!0,margin:"dense",name:"date",value:n.date?or(n.date):null,onChange:c=>{s({...n,date:or(c).format("YYYY-MM-DD")})},label:"Date",fullWidth:!0,variant:"standard"})})}),Y.jsx(Ln,{required:!0,margin:"dense",name:"duration",value:n.duration,onChange:c=>l(c),label:"Duration",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{required:!0,margin:"dense",name:"activity",value:n.activity,onChange:c=>l(c),label:"Activity",fullWidth:!0,variant:"standard"})]}),Y.jsxs(JO,{children:[Y.jsx(Jn,{onClick:a,children:"Cancel"}),Y.jsx(Jn,{onClick:u,children:"Save"})]})]})]})}function wUe(){T.useEffect(()=>{o()},[]);const[t,e]=T.useState([]),i=!0,[r,n]=T.useState(null),[s]=T.useState([{cellRenderer:f=>Y.jsx(SUe,{saveTraining:c,training:f.data}),width:150},{cellRenderer:f=>Y.jsx(Jn,{size:"small",color:"error",onClick:()=>a(f.data._links.customer.href),children:Y.jsx(EB,{})}),width:100},{cellRenderer:f=>Y.jsx(zVe,{updateCustomer:u,customer:f.data}),width:100},{field:"firstname",filter:!0},{field:"lastname",filter:!0},{field:"streetaddress",filter:!0},{field:"postcode",filter:!0},{field:"city",filter:!0},{field:"email",filter:!0},{field:"phone",filter:!0}]),o=async()=>{try{const f=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/api/customers");if(!f.ok)throw new Error("Error in fetch: "+f.statusText);const g=await f.json();e(g._embedded.customers)}catch(f){console.error(f)}},a=async f=>{if(window.confirm("Are you sure"))try{const g=await fetch(f,{method:"DELETE"});if(!g.ok)throw new Error("Error in fetch: "+g.statusText);await o()}catch(g){console.error(g)}},l=async f=>{try{const g=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw new Error("Error in fetch: "+g.statusText);await o()}catch(g){console.error(g)}},u=async(f,g)=>{try{const v=await fetch(g,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!v.ok)throw new Error("Error in fetch: "+v.statusText);await o()}catch(v){console.error(v)}},c=async f=>{try{const g=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/api/trainings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw new Error("Error in fetch: "+g.statusText)}catch(g){console.error(g)}},d=f=>{n(f.api)},h=()=>{const f={columnKeys:["firstname","lastname","streetaddress","postcode","city","email","phone"]};r.exportDataAsCsv(f)};return Y.jsxs("div",{className:"ag-theme-quartz",style:{height:"90vh"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[Y.jsx($Ve,{saveCustomer:l}),Y.jsxs(Jn,{variant:"contained",color:"success",onClick:h,children:[Y.jsx(one,{})," Download as CSV"]})]}),Y.jsx(sne,{onGridReady:d,rowData:t,columnDefs:s,pagination:i,modules:[pOe]})]})}function EUe(){T.useEffect(()=>{n()},[]);const[t,e]=T.useState([]),i=!0,[r]=T.useState([{cellRenderer:o=>Y.jsx(Jn,{size:"small",color:"error",onClick:()=>s("https://customerrestservice-personaltraining.rahtiapp.fi/api/trainings/"+o.data.id),children:Y.jsx(EB,{})}),width:100},{headerName:"Date",valueGetter:o=>or(o.data.date).format("DD.MM.YYYY HH:mm"),filter:!0},{field:"duration",filter:!0},{field:"activity",filter:!0},{headerName:"Customer's name",valueGetter:o=>o.data.customer.firstname+" "+o.data.customer.lastname,filter:!0}]),n=async()=>{try{const o=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/gettrainings");if(!o.ok)throw new Error("Error in fetch: "+o.statusText);const a=await o.json();e(a)}catch(o){console.error(o)}},s=async o=>{if(window.confirm("Are you sure"))try{const a=await fetch(o,{method:"DELETE"});if(!a.ok)throw new Error("Error in fetch: "+a.statusText);await n()}catch(a){console.error(a)}};return Y.jsx("div",{className:"ag-theme-quartz",style:{height:"90vh"},children:Y.jsx(sne,{rowData:t,columnDefs:r,pagination:i})})}function Jh(t,e,i){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function y4(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Fi(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(i),!0).forEach(function(r){Jh(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y4(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Lu(t,e){if(t==null)return{};var i=Oe(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S4(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RQ(r.key),r)}}function Tn(t,e,i){return e&&S4(t.prototype,e),i&&S4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Nx(t)}function kse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kse=function(){return!!t})()}function bUe(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VV(t)}function Ls(t,e,i){return e=Nx(e),bUe(t,kse()?Reflect.construct(e,i||[],Nx(t).constructor):e.apply(t,i))}function _s(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}function Vse(t){if(Array.isArray(t))return t}function RUe(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function X1(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function qB(t,e){if(t){if(typeof t=="string")return X1(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return X1(t,e)}}function Hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ec(t,e){return Vse(t)||RUe(t,e)||qB(t,e)||Hse()}var TUe=function(t,e,i,r,n,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,r,n,s,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},DUe=TUe;const Ww=Pt(DUe);var PUe=function(){};function xUe(t,e){var i={};return Object.keys(t).forEach(function(r){i[UD(r)]=PUe}),i}function w4(t,e){return t[e]!==void 0}function UD(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function AUe(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function $se(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Bse(t){function e(i){var r=this.constructor.getDerivedStateFromProps(t,i);return r??null}this.setState(e.bind(this))}function Wse(t,e){try{var i=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,r)}finally{this.props=i,this.state=r}}$se.__suppressDeprecationWarning=!0;Bse.__suppressDeprecationWarning=!0;Wse.__suppressDeprecationWarning=!0;function OUe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var i=null,r=null,n=null;if(typeof e.componentWillMount=="function"?i="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?n="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(n="UNSAFE_componentWillUpdate"),i!==null||r!==null||n!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=$se,e.componentWillReceiveProps=Bse),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Wse;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return t}var MUe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Use(t,e,i){i===void 0&&(i=[]);var r=t.displayName||t.name||"Component",n=AUe(t),s=Object.keys(e),o=s.map(UD);n||!i.length||Ww(!1);var a=function(u){L0(c,u);function c(){for(var h,f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];h=u.call.apply(u,[this].concat(g))||this,h.handlers=Object.create(null),s.forEach(function(S){var y=e[S],w=function(b){if(h.props[y]){var D;h._notifying=!0;for(var P=arguments.length,O=new Array(P>1?P-1:0),N=1;N<P;N++)O[N-1]=arguments[N];(D=h.props)[y].apply(D,[b].concat(O)),h._notifying=!1}h.unmounted||h.setState(function(_){var L,k=_.values;return{values:G(Object.create(null),k,(L={},L[S]=b,L))}})};h.handlers[y]=w}),i.length&&(h.attachRef=function(S){h.inner=S});var C=Object.create(null);return s.forEach(function(S){C[S]=h.props[UD(S)]}),h.state={values:C,prevProps:{}},h}var d=c.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},c.getDerivedStateFromProps=function(f,g){var v=g.values,C=g.prevProps,S={values:G(Object.create(null),v),prevProps:{}};return s.forEach(function(y){S.prevProps[y]=f[y],!w4(f,y)&&w4(C,y)&&(S.values[y]=f[UD(y)])}),S},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var f=this,g=this.props,v=g.innerRef,C=Oe(g,["innerRef"]);o.forEach(function(y){delete C[y]});var S={};return s.forEach(function(y){var w=f.props[y];S[y]=w!==void 0?w:f.state.values[y]}),W.createElement(t,G({},C,S,this.handlers,{ref:v||this.attachRef}))},c}(W.Component);OUe(a),a.displayName="Uncontrolled("+r+")",a.propTypes=G({innerRef:function(){}},xUe(e)),i.forEach(function(u){a.prototype[u]=function(){var d;return(d=this.inner)[u].apply(d,arguments)}});var l=a;return W.forwardRef&&(l=W.forwardRef(function(u,c){return W.createElement(a,G({},u,{innerRef:c,__source:{fileName:MUe,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=t,l.deferControlTo=function(u,c,d){return c===void 0&&(c={}),Use(u,G({},e,c),d)},l}function zse(t){var e,i,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=zse(t[e]))&&(r&&(r+=" "),r+=i);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function an(){for(var t,e,i=0,r="";i<arguments.length;)(t=arguments[i++])&&(e=zse(t))&&(r&&(r+=" "),r+=e);return r}var Gx="milliseconds",Uw="seconds",zw="minutes",jw="hours",uf="day",pv="week",Kw="month",cf="year",df="decade",hf="century",jse={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},FUe={month:1,year:12,decade:10*12,century:100*12};function IUe(t){return[31,LUe(t),31,30,31,30,31,31,30,31,30,31]}function LUe(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Gl(t,e,i){switch(t=new Date(t),i){case Gx:case Uw:case zw:case jw:case uf:case pv:return _Ue(t,e*jse[i]);case Kw:case cf:case df:case hf:return NUe(t,e*FUe[i])}throw new TypeError('Invalid units: "'+i+'"')}function _Ue(t,e){var i=new Date(+t+e);return GUe(t,i)}function NUe(t,e){var i=t.getFullYear(),r=t.getMonth(),n=t.getDate(),s=i*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(n,IUe(o)[a]),u=new Date(t);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function GUe(t,e){var i=t.getTimezoneOffset(),r=e.getTimezoneOffset(),n=r-i;return new Date(+e+n*jse.minutes)}function Yw(t,e,i){return Gl(t,-e,i)}function $n(t,e,i){switch(t=new Date(t),e){case hf:case df:case cf:t=Vx(t,0);case Kw:t=Qse(t,1);case pv:case uf:t=Qw(t,0);case jw:t=fv(t,0);case zw:t=Xw(t,0);case Uw:t=qw(t,0)}return e===df&&(t=Yw(t,pf(t)%10,"year")),e===hf&&(t=Yw(t,pf(t)%100,"year")),e===pv&&(t=Zse(t,0,i)),t}function kx(t,e,i){switch(t=new Date(t),t=$n(t,e,i),e){case hf:case df:case cf:case Kw:case pv:t=Gl(t,1,e),t=Yw(t,1,uf),t.setHours(23,59,59,999);break;case uf:t.setHours(23,59,59,999);break;case jw:case zw:case Uw:t=Gl(t,1,e),t=Yw(t,1,Gx)}return t}var zb=gC(function(t,e){return t===e}),XB=gC(function(t,e){return t!==e}),aM=gC(function(t,e){return t>e}),jb=gC(function(t,e){return t>=e}),QB=gC(function(t,e){return t<e}),fC=gC(function(t,e){return t<=e});function Kse(){return new Date(Math.min.apply(Math,arguments))}function Yse(){return new Date(Math.max.apply(Math,arguments))}function qse(t,e,i,r){return r=r||"day",(!e||jb(t,e,r))&&(!i||fC(t,i,r))}var qw=yh("Milliseconds"),Xw=yh("Seconds"),fv=yh("Minutes"),Qw=yh("Hours"),Xse=yh("Day"),Qse=yh("Date"),Vx=yh("Month"),pf=yh("FullYear");function kUe(t,e){return e===void 0?pf($n(t,df)):Gl(t,e+10,cf)}function VUe(t,e){return e===void 0?pf($n(t,hf)):Gl(t,e+100,cf)}function Zse(t,e,i){var r=(Xse(t)+7-(i||0))%7;return e===void 0?r:Gl(t,e-r,uf)}function HUe(t,e,i,r){var n,s,o;switch(i){case Gx:case Uw:case zw:case jw:case uf:case pv:n=e.getTime()-t.getTime();break;case Kw:case cf:case df:case hf:n=(pf(e)-pf(t))*12+Vx(e)-Vx(t);break;default:throw new TypeError('Invalid units: "'+i+'"')}switch(i){case Gx:s=1;break;case Uw:s=1e3;break;case zw:s=1e3*60;break;case jw:s=1e3*60*60;break;case uf:s=1e3*60*60*24;break;case pv:s=1e3*60*60*24*7;break;case Kw:s=1;break;case cf:s=12;break;case df:s=120;break;case hf:s=1200;break;default:throw new TypeError('Invalid units: "'+i+'"')}return o=n/s,r?o:Math.round(o)}function yh(t){var e=function(i){switch(i){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(i,r){if(r===void 0)return i["get"+t]();var n=new Date(i);return n["set"+t](r),e&&n["get"+t]()!=r&&(t==="Hours"||r>=e&&n.getHours()-i.getHours()<Math.floor(r/e))&&n["set"+t](r+e),n}}function gC(t){return function(e,i,r){return t(+$n(e,r),+$n(i,r))}}const E4=Object.freeze(Object.defineProperty({__proto__:null,add:Gl,century:VUe,date:Qse,day:Xse,decade:kUe,diff:HUe,endOf:kx,eq:zb,gt:aM,gte:jb,hours:Qw,inRange:qse,lt:QB,lte:fC,max:Yse,milliseconds:qw,min:Kse,minutes:fv,month:Vx,neq:XB,seconds:Xw,startOf:$n,subtract:Yw,weekday:Zse,year:pf},Symbol.toStringTag,{value:"Module"}));function $Ue(t){if(Array.isArray(t))return X1(t)}function Jse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zD(t){return $Ue(t)||Jse(t)||qB(t)||BUe()}function WUe(t,e,i){var r=-1,n=t.length;e<0&&(e=-e>n?0:n+e),i=i>n?n:i,i<0&&(i+=n),n=e>i?0:i-e>>>0,e>>>=0;for(var s=Array(n);++r<n;)s[r]=t[r+e];return s}var ZB=WUe;function UUe(t,e){return t===e||t!==t&&e!==e}var Kb=UUe,zUe=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,eoe=zUe,jUe=eoe,KUe=typeof self=="object"&&self&&self.Object===Object&&self,YUe=jUe||KUe||Function("return this")(),Hl=YUe,qUe=Hl,XUe=qUe.Symbol,mC=XUe,b4=mC,toe=Object.prototype,QUe=toe.hasOwnProperty,ZUe=toe.toString,my=b4?b4.toStringTag:void 0;function JUe(t){var e=QUe.call(t,my),i=t[my];try{t[my]=void 0;var r=!0}catch{}var n=ZUe.call(t);return r&&(e?t[my]=i:delete t[my]),n}var eze=JUe,tze=Object.prototype,ize=tze.toString;function rze(t){return ize.call(t)}var nze=rze,R4=mC,sze=eze,oze=nze,aze="[object Null]",lze="[object Undefined]",T4=R4?R4.toStringTag:void 0;function uze(t){return t==null?t===void 0?lze:aze:T4&&T4 in Object(t)?sze(t):oze(t)}var qc=uze;function cze(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Qa=cze;const vC=Pt(Qa);var dze=qc,hze=Qa,pze="[object AsyncFunction]",fze="[object Function]",gze="[object GeneratorFunction]",mze="[object Proxy]";function vze(t){if(!hze(t))return!1;var e=dze(t);return e==fze||e==gze||e==pze||e==mze}var lM=vze;const ei=Pt(lM);var Cze=9007199254740991;function yze(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Cze}var JB=yze,Sze=lM,wze=JB;function Eze(t){return t!=null&&wze(t.length)&&!Sze(t)}var Yb=Eze,bze=9007199254740991,Rze=/^(?:0|[1-9]\d*)$/;function Tze(t,e){var i=typeof t;return e=e??bze,!!e&&(i=="number"||i!="symbol"&&Rze.test(t))&&t>-1&&t%1==0&&t<e}var eW=Tze,Dze=Kb,Pze=Yb,xze=eW,Aze=Qa;function Oze(t,e,i){if(!Aze(i))return!1;var r=typeof e;return(r=="number"?Pze(i)&&xze(e,i.length):r=="string"&&e in i)?Dze(i[e],t):!1}var CC=Oze,Mze=/\s/;function Fze(t){for(var e=t.length;e--&&Mze.test(t.charAt(e)););return e}var Ize=Fze,Lze=Ize,_ze=/^\s+/;function Nze(t){return t&&t.slice(0,Lze(t)+1).replace(_ze,"")}var Gze=Nze;function kze(t){return t!=null&&typeof t=="object"}var $l=kze,Vze=qc,Hze=$l,$ze="[object Symbol]";function Bze(t){return typeof t=="symbol"||Hze(t)&&Vze(t)==$ze}var yC=Bze,Wze=Gze,D4=Qa,Uze=yC,P4=NaN,zze=/^[-+]0x[0-9a-f]+$/i,jze=/^0b[01]+$/i,Kze=/^0o[0-7]+$/i,Yze=parseInt;function qze(t){if(typeof t=="number")return t;if(Uze(t))return P4;if(D4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=D4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wze(t);var i=jze.test(t);return i||Kze.test(t)?Yze(t.slice(2),i?2:8):zze.test(t)?P4:+t}var ioe=qze,Xze=ioe,x4=1/0,Qze=17976931348623157e292;function Zze(t){if(!t)return t===0?t:0;if(t=Xze(t),t===x4||t===-x4){var e=t<0?-1:1;return e*Qze}return t===t?t:0}var roe=Zze,Jze=roe;function eje(t){var e=Jze(t),i=e%1;return e===e?i?e-i:e:0}var noe=eje,tje=ZB,ije=CC,rje=noe,nje=Math.ceil,sje=Math.max;function oje(t,e,i){(i?ije(t,e,i):e===void 0)?e=1:e=sje(rje(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var n=0,s=0,o=Array(nje(r/e));n<r;)o[s++]=tje(t,n,n+=e);return o}var aje=oje;const lje=Pt(aje);function qb(t){return t&&t.ownerDocument||document}function uje(t){var e=qb(t);return e&&e.defaultView||window}function cje(t,e){return uje(t).getComputedStyle(t,e)}var dje=/([A-Z])/g;function hje(t){return t.replace(dje,"-$1").toLowerCase()}var pje=/^ms-/;function NT(t){return hje(t).replace(pje,"-ms-")}var fje=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function gje(t){return!!(t&&fje.test(t))}function kg(t,e){var i="",r="";if(typeof e=="string")return t.style.getPropertyValue(NT(e))||cje(t).getPropertyValue(NT(e));Object.keys(e).forEach(function(n){var s=e[n];!s&&s!==0?t.style.removeProperty(NT(n)):gje(n)?r+=n+"("+s+") ":i+=NT(n)+": "+s+";"}),r&&(i+="transform: "+r+";"),t.style.cssText+=";"+i}function Zw(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function mje(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function tW(t){return"window"in t&&t.window===t?t:mje(t)&&t.defaultView||!1}function soe(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function i(r,n){var s=tW(r);if(n===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],n):r[e]=n}return i}const ooe=soe("pageXOffset"),aoe=soe("pageYOffset");function Mp(t){var e=qb(t),i={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!Zw(r,t)||(t.getBoundingClientRect!==void 0&&(i=t.getBoundingClientRect()),i={top:i.top+aoe(r)-(r.clientTop||0),left:i.left+ooe(r)-(r.clientLeft||0),width:i.width,height:i.height}),i}var vje=function(e){return!!e&&"offsetParent"in e};function Cje(t){for(var e=qb(t),i=t&&t.offsetParent;vje(i)&&i.nodeName!=="HTML"&&kg(i,"position")==="static";)i=i.offsetParent;return i||e.documentElement}var yje=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function loe(t,e){var i={top:0,left:0},r;if(kg(t,"position")==="fixed")r=t.getBoundingClientRect();else{var n=e||Cje(t);r=Mp(t),yje(n)!=="html"&&(i=Mp(n));var s=String(kg(n,"borderTopWidth")||0);i.top+=parseInt(s,10)-aoe(n)||0;var o=String(kg(n,"borderLeftWidth")||0);i.left+=parseInt(o,10)-ooe(n)||0}var a=String(kg(t,"marginTop")||0),l=String(kg(t,"marginLeft")||0);return G({},r,{top:r.top-i.top-(parseInt(a,10)||0),left:r.left-i.left-(parseInt(l,10)||0)})}const iW=!!(typeof window<"u"&&window.document&&window.document.createElement);var A4=new Date().getTime();function Sje(t){var e=new Date().getTime(),i=Math.max(0,16-(e-A4)),r=setTimeout(t,i);return A4=e,r}var wje=["","webkit","moz","o","ms"],Q1="clearTimeout",Z1=Sje,O4=function(e,i){return e+(e?i[0].toUpperCase()+i.substr(1):i)+"AnimationFrame"};iW&&wje.some(function(t){var e=O4(t,"request");return e in window&&(Q1=O4(t,"cancel"),Z1=function(r){return window[e](r)}),!!Z1});var M4=function(e){typeof window[Q1]=="function"&&window[Q1](e)},uoe=Z1,zL;function Eje(t,e){if(!zL){var i=document.body,r=i.matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector;zL=function(s,o){return r.call(s,o)}}return zL(t,e)}var bje=Function.prototype.bind.call(Function.prototype.call,[].slice);function Rje(t,e){return bje(t.querySelectorAll(e))}var J1=!1,eG=!1;try{var jL={get passive(){return J1=!0},get once(){return eG=J1=!0}};iW&&(window.addEventListener("test",jL,jL),window.removeEventListener("test",jL,!0))}catch{}function Tje(t,e,i,r){if(r&&typeof r!="boolean"&&!eG){var n=r.once,s=r.capture,o=i;!eG&&n&&(o=i.__once||function a(l){this.removeEventListener(e,a,s),i.call(this,l)},i.__once=o),t.addEventListener(e,o,J1?r:s)}t.addEventListener(e,i,r)}function Dje(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t},[t]),e}function F4(t){const e=Dje(t);return T.useCallback(function(...i){return e.current&&e.current(...i)},[e])}function I4(){return T.useState(null)}function Pje(){const t=T.useRef(!0),e=T.useRef(()=>t.current);return T.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function xje(t){const e=Pje();return[t[0],T.useCallback(i=>{if(e())return t[1](i)},[e,t[1]])]}var Aje=Tne({defaultModifiers:[wne,bne,mne,vne,Ene,Sne,Rne,gne]}),L4=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Oje={name:"applyStyles",enabled:!1},Mje={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var i=e.state;return function(){var r=i.elements,n=r.reference,s=r.popper;if("removeAttribute"in n){var o=(n.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?n.setAttribute("aria-describedby",o.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var i,r=e.state,n=r.elements,s=n.popper,o=n.reference,a=(i=s.getAttribute("role"))==null?void 0:i.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},Fje=[];function Ije(t,e,i){var r=i===void 0?{}:i,n=r.enabled,s=n===void 0?!0:n,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,u=l===void 0?"absolute":l,c=r.modifiers,d=c===void 0?Fje:c,h=Oe(r,["enabled","placement","strategy","modifiers"]),f=T.useRef(),g=T.useCallback(function(){var E;(E=f.current)==null||E.update()},[]),v=T.useCallback(function(){var E;(E=f.current)==null||E.forceUpdate()},[]),C=xje(T.useState({placement:a,update:g,forceUpdate:v,attributes:{},styles:{popper:L4(u),arrow:{}}})),S=C[0],y=C[1],w=T.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(b){var D=b.state,P={},O={};Object.keys(D.elements).forEach(function(N){P[N]=D.styles[N],O[N]=D.attributes[N]}),y({state:D,styles:P,attributes:O,update:g,forceUpdate:v,placement:D.placement})}}},[g,v,y]);return T.useEffect(function(){!f.current||!s||f.current.setOptions({placement:a,strategy:u,modifiers:[].concat(d,[w,Oje])})},[u,a,w,s]),T.useEffect(function(){if(!(!s||t==null||e==null))return f.current=Aje(t,e,G({},h,{placement:a,strategy:u,modifiers:[].concat(d,[Mje,w])})),function(){f.current!=null&&(f.current.destroy(),f.current=void 0,y(function(E){return G({},E,{attributes:{},styles:{popper:L4(u)}})}))}},[s,t,e]),S}function Lje(t,e,i,r){var n=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,i,n),i.__once&&t.removeEventListener(e,i.__once,n)}function qy(t,e,i,r){return Tje(t,e,i,r),function(){Lje(t,e,i,r)}}var _je=function(){},Nje=_je;const Gje=Pt(Nje);function kje(t){return t&&"setState"in t?rc.findDOMNode(t):t??null}const Vje=function(t){return qb(kje(t))};var Hje=27,_4=function(){};function $je(t){return t.button===0}function Bje(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var N4=function(e){return e&&("current"in e?e.current:e)};function Wje(t,e,i){var r=i===void 0?{}:i,n=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=T.useRef(!1),l=e||_4,u=T.useCallback(function(h){var f,g=N4(t);Gje(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!g||Bje(h)||!$je(h)||!!Zw(g,(f=h.composedPath==null?void 0:h.composedPath()[0])!=null?f:h.target)},[t]),c=F4(function(h){a.current||l(h)}),d=F4(function(h){h.keyCode===Hje&&l(h)});T.useEffect(function(){if(!(n||t==null)){var h=window.event,f=Vje(N4(t)),g=qy(f,o,u,!0),v=qy(f,o,function(y){if(y===h){h=void 0;return}c(y)}),C=qy(f,"keyup",function(y){if(y===h){h=void 0;return}d(y)}),S=[];return"ontouchstart"in f.documentElement&&(S=[].slice.call(f.body.children).map(function(y){return qy(y,"mousemove",_4)})),function(){g(),v(),C(),S.forEach(function(y){return y()})}}},[t,n,o,u,c,d])}function Uje(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(i){e[i.name]=i}),e):t||e}function zje(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function jje(t){var e,i,r,n,s=t.enabled,o=t.enableEvents,a=t.placement,l=t.flip,u=t.offset,c=t.fixed,d=t.containerPadding,h=t.arrowElement,f=t.popperConfig,g=f===void 0?{}:f,v=Uje(g.modifiers);return G({},g,{placement:a,enabled:s,strategy:c?"fixed":g.strategy,modifiers:zje(G({},v,{eventListeners:{enabled:o},preventOverflow:G({},v.preventOverflow,{options:d?G({padding:d},(e=v.preventOverflow)==null?void 0:e.options):(i=v.preventOverflow)==null?void 0:i.options}),offset:{options:G({offset:u},(r=v.offset)==null?void 0:r.options)},arrow:G({},v.arrow,{enabled:!!h,options:G({},(n=v.arrow)==null?void 0:n.options,{element:h})}),flip:G({enabled:!!l},v.flip)}))})}var GT;function coe(t){if((!GT&&GT!==0||t)&&iW){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),GT=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return GT}var KL=function(e){var i;return typeof document>"u"?null:e==null?qb().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(i=e)!=null&&i.nodeType&&e||null)};function G4(t,e){var i=T.useState(function(){return KL(t)}),r=i[0],n=i[1];if(!r){var s=KL(t);s&&n(s)}return T.useEffect(function(){e&&r&&e(r)},[e,r]),T.useEffect(function(){var o=KL(t);o!==r&&n(o)},[t,r]),r}const k4=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Kje(t,e){const i=k4(t),r=k4(e);return n=>{i&&i(n),r&&r(n)}}function Yje(t,e){return T.useMemo(()=>Kje(t,e),[t,e])}var rW=W.forwardRef(function(t,e){var i=t.flip,r=t.offset,n=t.placement,s=t.containerPadding,o=s===void 0?5:s,a=t.popperConfig,l=a===void 0?{}:a,u=t.transition,c=I4(),d=c[0],h=c[1],f=I4(),g=f[0],v=f[1],C=Yje(h,e),S=G4(t.container),y=G4(t.target),w=T.useState(!t.show),E=w[0],b=w[1],D=Ije(y,d,jje({placement:n,enableEvents:!!t.show,containerPadding:o||5,flip:i,offset:r,arrowElement:g,popperConfig:l})),P=D.styles,O=D.attributes,N=Oe(D,["styles","attributes"]);t.show?E&&b(!1):!t.transition&&!E&&b(!0);var _=function(){b(!0),t.onExited&&t.onExited.apply(t,arguments)},L=t.show||u&&!E;if(Wje(d,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!L)return null;var k=t.children(G({},N,{show:!!t.show,props:G({},O.popper,{style:P.popper,ref:C}),arrowProps:G({},O.arrow,{style:P.arrow,ref:v})}));if(u){var $=t.onExit,U=t.onExiting,K=t.onEnter,j=t.onEntering,Q=t.onEntered;k=W.createElement(u,{in:t.show,appear:!0,onExit:$,onExiting:U,onExited:_,onEnter:K,onEntering:j,onEntered:Q},k)}return S?rc.createPortal(k,S):null});rW.displayName="Overlay";rW.propTypes={show:ee.bool,placement:ee.oneOf(TB),target:ee.any,container:ee.any,flip:ee.bool,children:ee.func.isRequired,containerPadding:ee.number,popperConfig:ee.object,rootClose:ee.bool,rootCloseEvent:ee.oneOf(["click","mousedown"]),rootCloseDisabled:ee.bool,onHide:function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if(e.rootClose){var s;return(s=ee.func).isRequired.apply(s,[e].concat(r))}return ee.func.apply(ee,[e].concat(r))},transition:ee.elementType,onEnter:ee.func,onEntering:ee.func,onEntered:ee.func,onExit:ee.func,onExiting:ee.func,onExited:ee.func};const qje=rW;function Xje(){this.__data__=[],this.size=0}var Qje=Xje,Zje=Kb;function Jje(t,e){for(var i=t.length;i--;)if(Zje(t[i][0],e))return i;return-1}var uM=Jje,e3e=uM,t3e=Array.prototype,i3e=t3e.splice;function r3e(t){var e=this.__data__,i=e3e(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():i3e.call(e,i,1),--this.size,!0}var n3e=r3e,s3e=uM;function o3e(t){var e=this.__data__,i=s3e(e,t);return i<0?void 0:e[i][1]}var a3e=o3e,l3e=uM;function u3e(t){return l3e(this.__data__,t)>-1}var c3e=u3e,d3e=uM;function h3e(t,e){var i=this.__data__,r=d3e(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}var p3e=h3e,f3e=Qje,g3e=n3e,m3e=a3e,v3e=c3e,C3e=p3e;function SC(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}SC.prototype.clear=f3e;SC.prototype.delete=g3e;SC.prototype.get=m3e;SC.prototype.has=v3e;SC.prototype.set=C3e;var cM=SC,y3e=cM;function S3e(){this.__data__=new y3e,this.size=0}var w3e=S3e;function E3e(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var b3e=E3e;function R3e(t){return this.__data__.get(t)}var T3e=R3e;function D3e(t){return this.__data__.has(t)}var P3e=D3e,x3e=Hl,A3e=x3e["__core-js_shared__"],O3e=A3e,YL=O3e,V4=function(){var t=/[^.]+$/.exec(YL&&YL.keys&&YL.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function M3e(t){return!!V4&&V4 in t}var F3e=M3e,I3e=Function.prototype,L3e=I3e.toString;function _3e(t){if(t!=null){try{return L3e.call(t)}catch{}try{return t+""}catch{}}return""}var doe=_3e,N3e=lM,G3e=F3e,k3e=Qa,V3e=doe,H3e=/[\\^$.*+?()[\]{}|]/g,$3e=/^\[object .+?Constructor\]$/,B3e=Function.prototype,W3e=Object.prototype,U3e=B3e.toString,z3e=W3e.hasOwnProperty,j3e=RegExp("^"+U3e.call(z3e).replace(H3e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K3e(t){if(!k3e(t)||G3e(t))return!1;var e=N3e(t)?j3e:$3e;return e.test(V3e(t))}var Y3e=K3e;function q3e(t,e){return t==null?void 0:t[e]}var X3e=q3e,Q3e=Y3e,Z3e=X3e;function J3e(t,e){var i=Z3e(t,e);return Q3e(i)?i:void 0}var Qf=J3e,eKe=Qf,tKe=Hl,iKe=eKe(tKe,"Map"),nW=iKe,rKe=Qf,nKe=rKe(Object,"create"),dM=nKe,H4=dM;function sKe(){this.__data__=H4?H4(null):{},this.size=0}var oKe=sKe;function aKe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lKe=aKe,uKe=dM,cKe="__lodash_hash_undefined__",dKe=Object.prototype,hKe=dKe.hasOwnProperty;function pKe(t){var e=this.__data__;if(uKe){var i=e[t];return i===cKe?void 0:i}return hKe.call(e,t)?e[t]:void 0}var fKe=pKe,gKe=dM,mKe=Object.prototype,vKe=mKe.hasOwnProperty;function CKe(t){var e=this.__data__;return gKe?e[t]!==void 0:vKe.call(e,t)}var yKe=CKe,SKe=dM,wKe="__lodash_hash_undefined__";function EKe(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=SKe&&e===void 0?wKe:e,this}var bKe=EKe,RKe=oKe,TKe=lKe,DKe=fKe,PKe=yKe,xKe=bKe;function wC(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}wC.prototype.clear=RKe;wC.prototype.delete=TKe;wC.prototype.get=DKe;wC.prototype.has=PKe;wC.prototype.set=xKe;var AKe=wC,$4=AKe,OKe=cM,MKe=nW;function FKe(){this.size=0,this.__data__={hash:new $4,map:new(MKe||OKe),string:new $4}}var IKe=FKe;function LKe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _Ke=LKe,NKe=_Ke;function GKe(t,e){var i=t.__data__;return NKe(e)?i[typeof e=="string"?"string":"hash"]:i.map}var hM=GKe,kKe=hM;function VKe(t){var e=kKe(this,t).delete(t);return this.size-=e?1:0,e}var HKe=VKe,$Ke=hM;function BKe(t){return $Ke(this,t).get(t)}var WKe=BKe,UKe=hM;function zKe(t){return UKe(this,t).has(t)}var jKe=zKe,KKe=hM;function YKe(t,e){var i=KKe(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}var qKe=YKe,XKe=IKe,QKe=HKe,ZKe=WKe,JKe=jKe,e5e=qKe;function EC(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}EC.prototype.clear=XKe;EC.prototype.delete=QKe;EC.prototype.get=ZKe;EC.prototype.has=JKe;EC.prototype.set=e5e;var sW=EC,t5e=cM,i5e=nW,r5e=sW,n5e=200;function s5e(t,e){var i=this.__data__;if(i instanceof t5e){var r=i.__data__;if(!i5e||r.length<n5e-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new r5e(r)}return i.set(t,e),this.size=i.size,this}var o5e=s5e,a5e=cM,l5e=w3e,u5e=b3e,c5e=T3e,d5e=P3e,h5e=o5e;function bC(t){var e=this.__data__=new a5e(t);this.size=e.size}bC.prototype.clear=l5e;bC.prototype.delete=u5e;bC.prototype.get=c5e;bC.prototype.has=d5e;bC.prototype.set=h5e;var oW=bC,p5e="__lodash_hash_undefined__";function f5e(t){return this.__data__.set(t,p5e),this}var g5e=f5e;function m5e(t){return this.__data__.has(t)}var v5e=m5e,C5e=sW,y5e=g5e,S5e=v5e;function Hx(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new C5e;++e<i;)this.add(t[e])}Hx.prototype.add=Hx.prototype.push=y5e;Hx.prototype.has=S5e;var hoe=Hx;function w5e(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}var poe=w5e;function E5e(t,e){return t.has(e)}var foe=E5e,b5e=hoe,R5e=poe,T5e=foe,D5e=1,P5e=2;function x5e(t,e,i,r,n,s){var o=i&D5e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,f=i&P5e?new b5e:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],v=e[d];if(r)var C=o?r(v,g,d,e,t,s):r(g,v,d,t,e,s);if(C!==void 0){if(C)continue;h=!1;break}if(f){if(!R5e(e,function(S,y){if(!T5e(f,y)&&(g===S||n(g,S,i,r,s)))return f.push(y)})){h=!1;break}}else if(!(g===v||n(g,v,i,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var goe=x5e,A5e=Hl,O5e=A5e.Uint8Array,moe=O5e;function M5e(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}var F5e=M5e;function I5e(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}var aW=I5e,B4=mC,W4=moe,L5e=Kb,_5e=goe,N5e=F5e,G5e=aW,k5e=1,V5e=2,H5e="[object Boolean]",$5e="[object Date]",B5e="[object Error]",W5e="[object Map]",U5e="[object Number]",z5e="[object RegExp]",j5e="[object Set]",K5e="[object String]",Y5e="[object Symbol]",q5e="[object ArrayBuffer]",X5e="[object DataView]",U4=B4?B4.prototype:void 0,qL=U4?U4.valueOf:void 0;function Q5e(t,e,i,r,n,s,o){switch(i){case X5e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case q5e:return!(t.byteLength!=e.byteLength||!s(new W4(t),new W4(e)));case H5e:case $5e:case U5e:return L5e(+t,+e);case B5e:return t.name==e.name&&t.message==e.message;case z5e:case K5e:return t==e+"";case W5e:var a=N5e;case j5e:var l=r&k5e;if(a||(a=G5e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=V5e,o.set(t,e);var c=_5e(a(t),a(e),r,n,s,o);return o.delete(t),c;case Y5e:if(qL)return qL.call(t)==qL.call(e)}return!1}var Z5e=Q5e;function J5e(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var lW=J5e,e4e=Array.isArray,ls=e4e,t4e=lW,i4e=ls;function r4e(t,e,i){var r=e(t);return i4e(t)?r:t4e(r,i(t))}var voe=r4e;function n4e(t,e){for(var i=-1,r=t==null?0:t.length,n=0,s=[];++i<r;){var o=t[i];e(o,i,t)&&(s[n++]=o)}return s}var s4e=n4e;function o4e(){return[]}var Coe=o4e,a4e=s4e,l4e=Coe,u4e=Object.prototype,c4e=u4e.propertyIsEnumerable,z4=Object.getOwnPropertySymbols,d4e=z4?function(t){return t==null?[]:(t=Object(t),a4e(z4(t),function(e){return c4e.call(t,e)}))}:l4e,uW=d4e;function h4e(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var p4e=h4e,f4e=qc,g4e=$l,m4e="[object Arguments]";function v4e(t){return g4e(t)&&f4e(t)==m4e}var C4e=v4e,j4=C4e,y4e=$l,yoe=Object.prototype,S4e=yoe.hasOwnProperty,w4e=yoe.propertyIsEnumerable,E4e=j4(function(){return arguments}())?j4:function(t){return y4e(t)&&S4e.call(t,"callee")&&!w4e.call(t,"callee")},cW=E4e,$x={exports:{}};function b4e(){return!1}var R4e=b4e;$x.exports;(function(t,e){var i=Hl,r=R4e,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,a=o?i.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})($x,$x.exports);var pM=$x.exports,T4e=qc,D4e=JB,P4e=$l,x4e="[object Arguments]",A4e="[object Array]",O4e="[object Boolean]",M4e="[object Date]",F4e="[object Error]",I4e="[object Function]",L4e="[object Map]",_4e="[object Number]",N4e="[object Object]",G4e="[object RegExp]",k4e="[object Set]",V4e="[object String]",H4e="[object WeakMap]",$4e="[object ArrayBuffer]",B4e="[object DataView]",W4e="[object Float32Array]",U4e="[object Float64Array]",z4e="[object Int8Array]",j4e="[object Int16Array]",K4e="[object Int32Array]",Y4e="[object Uint8Array]",q4e="[object Uint8ClampedArray]",X4e="[object Uint16Array]",Q4e="[object Uint32Array]",Qi={};Qi[W4e]=Qi[U4e]=Qi[z4e]=Qi[j4e]=Qi[K4e]=Qi[Y4e]=Qi[q4e]=Qi[X4e]=Qi[Q4e]=!0;Qi[x4e]=Qi[A4e]=Qi[$4e]=Qi[O4e]=Qi[B4e]=Qi[M4e]=Qi[F4e]=Qi[I4e]=Qi[L4e]=Qi[_4e]=Qi[N4e]=Qi[G4e]=Qi[k4e]=Qi[V4e]=Qi[H4e]=!1;function Z4e(t){return P4e(t)&&D4e(t.length)&&!!Qi[T4e(t)]}var J4e=Z4e;function eYe(t){return function(e){return t(e)}}var fM=eYe,Bx={exports:{}};Bx.exports;(function(t,e){var i=eoe,r=e&&!e.nodeType&&e,n=r&&!0&&t&&!t.nodeType&&t,s=n&&n.exports===r,o=s&&i.process,a=function(){try{var l=n&&n.require&&n.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Bx,Bx.exports);var dW=Bx.exports,tYe=J4e,iYe=fM,K4=dW,Y4=K4&&K4.isTypedArray,rYe=Y4?iYe(Y4):tYe,hW=rYe,nYe=p4e,sYe=cW,oYe=ls,aYe=pM,lYe=eW,uYe=hW,cYe=Object.prototype,dYe=cYe.hasOwnProperty;function hYe(t,e){var i=oYe(t),r=!i&&sYe(t),n=!i&&!r&&aYe(t),s=!i&&!r&&!n&&uYe(t),o=i||r||n||s,a=o?nYe(t.length,String):[],l=a.length;for(var u in t)(e||dYe.call(t,u))&&!(o&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lYe(u,l)))&&a.push(u);return a}var Soe=hYe,pYe=Object.prototype;function fYe(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||pYe;return t===i}var pW=fYe;function gYe(t,e){return function(i){return t(e(i))}}var woe=gYe,mYe=woe,vYe=mYe(Object.keys,Object),CYe=vYe,yYe=pW,SYe=CYe,wYe=Object.prototype,EYe=wYe.hasOwnProperty;function bYe(t){if(!yYe(t))return SYe(t);var e=[];for(var i in Object(t))EYe.call(t,i)&&i!="constructor"&&e.push(i);return e}var RYe=bYe,TYe=Soe,DYe=RYe,PYe=Yb;function xYe(t){return PYe(t)?TYe(t):DYe(t)}var Xb=xYe,AYe=voe,OYe=uW,MYe=Xb;function FYe(t){return AYe(t,MYe,OYe)}var Eoe=FYe,q4=Eoe,IYe=1,LYe=Object.prototype,_Ye=LYe.hasOwnProperty;function NYe(t,e,i,r,n,s){var o=i&IYe,a=q4(t),l=a.length,u=q4(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:_Ye.call(e,h)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var C=o;++d<l;){h=a[d];var S=t[h],y=e[h];if(r)var w=o?r(y,S,h,e,t,s):r(S,y,h,t,e,s);if(!(w===void 0?S===y||n(S,y,i,r,s):w)){v=!1;break}C||(C=h=="constructor")}if(v&&!C){var E=t.constructor,b=e.constructor;E!=b&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof b=="function"&&b instanceof b)&&(v=!1)}return s.delete(t),s.delete(e),v}var GYe=NYe,kYe=Qf,VYe=Hl,HYe=kYe(VYe,"DataView"),$Ye=HYe,BYe=Qf,WYe=Hl,UYe=BYe(WYe,"Promise"),zYe=UYe,jYe=Qf,KYe=Hl,YYe=jYe(KYe,"Set"),boe=YYe,qYe=Qf,XYe=Hl,QYe=qYe(XYe,"WeakMap"),ZYe=QYe,tG=$Ye,iG=nW,rG=zYe,nG=boe,sG=ZYe,Roe=qc,RC=doe,X4="[object Map]",JYe="[object Object]",Q4="[object Promise]",Z4="[object Set]",J4="[object WeakMap]",eY="[object DataView]",e6e=RC(tG),t6e=RC(iG),i6e=RC(rG),r6e=RC(nG),n6e=RC(sG),jh=Roe;(tG&&jh(new tG(new ArrayBuffer(1)))!=eY||iG&&jh(new iG)!=X4||rG&&jh(rG.resolve())!=Q4||nG&&jh(new nG)!=Z4||sG&&jh(new sG)!=J4)&&(jh=function(t){var e=Roe(t),i=e==JYe?t.constructor:void 0,r=i?RC(i):"";if(r)switch(r){case e6e:return eY;case t6e:return X4;case i6e:return Q4;case r6e:return Z4;case n6e:return J4}return e});var gM=jh,XL=oW,s6e=goe,o6e=Z5e,a6e=GYe,tY=gM,iY=ls,rY=pM,l6e=hW,u6e=1,nY="[object Arguments]",sY="[object Array]",kT="[object Object]",c6e=Object.prototype,oY=c6e.hasOwnProperty;function d6e(t,e,i,r,n,s){var o=iY(t),a=iY(e),l=o?sY:tY(t),u=a?sY:tY(e);l=l==nY?kT:l,u=u==nY?kT:u;var c=l==kT,d=u==kT,h=l==u;if(h&&rY(t)){if(!rY(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new XL),o||l6e(t)?s6e(t,e,i,r,n,s):o6e(t,e,l,i,r,n,s);if(!(i&u6e)){var f=c&&oY.call(t,"__wrapped__"),g=d&&oY.call(e,"__wrapped__");if(f||g){var v=f?t.value():t,C=g?e.value():e;return s||(s=new XL),n(v,C,i,r,s)}}return h?(s||(s=new XL),a6e(t,e,i,r,n,s)):!1}var h6e=d6e,p6e=h6e,aY=$l;function Toe(t,e,i,r,n){return t===e?!0:t==null||e==null||!aY(t)&&!aY(e)?t!==t&&e!==e:p6e(t,e,i,r,Toe,n)}var fW=Toe,f6e=fW;function g6e(t,e){return f6e(t,e)}var m6e=g6e;const mM=Pt(m6e);function QL(t,e){var i=tW(t);return i?i.innerHeight:e?t.clientHeight:Mp(t).height}function Doe(t,e,i){t.closest&&!i&&t.closest(e);var r=t;do{if(Eje(r,e))return r;r=r.parentElement}while(r&&r!==i&&r.nodeType===document.ELEMENT_NODE);return null}function v6e(t,e,i,r){for(var n=t.length,s=i+(r?1:-1);r?s--:++s<n;)if(e(t[s],s,t))return s;return-1}var Poe=v6e,C6e=oW,y6e=fW,S6e=1,w6e=2;function E6e(t,e,i,r){var n=i.length,s=n,o=!r;if(t==null)return!s;for(t=Object(t);n--;){var a=i[n];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<s;){a=i[n];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new C6e;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?y6e(c,u,S6e|w6e,r,d):h))return!1}}return!0}var b6e=E6e,R6e=Qa;function T6e(t){return t===t&&!R6e(t)}var xoe=T6e,D6e=xoe,P6e=Xb;function x6e(t){for(var e=P6e(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,D6e(n)]}return e}var A6e=x6e;function O6e(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}var Aoe=O6e,M6e=b6e,F6e=A6e,I6e=Aoe;function L6e(t){var e=F6e(t);return e.length==1&&e[0][2]?I6e(e[0][0],e[0][1]):function(i){return i===t||M6e(i,t,e)}}var _6e=L6e,N6e=ls,G6e=yC,k6e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V6e=/^\w*$/;function H6e(t,e){if(N6e(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||G6e(t)?!0:V6e.test(t)||!k6e.test(t)||e!=null&&t in Object(e)}var gW=H6e,Ooe=sW,$6e="Expected a function";function mW(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($6e);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],s=i.cache;if(s.has(n))return s.get(n);var o=t.apply(this,r);return i.cache=s.set(n,o)||s,o};return i.cache=new(mW.Cache||Ooe),i}mW.Cache=Ooe;var Moe=mW;const B6e=Pt(Moe);var W6e=Moe,U6e=500;function z6e(t){var e=W6e(t,function(r){return i.size===U6e&&i.clear(),r}),i=e.cache;return e}var j6e=z6e,K6e=j6e,Y6e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q6e=/\\(\\)?/g,X6e=K6e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Y6e,function(i,r,n,s){e.push(n?s.replace(q6e,"$1"):r||i)}),e}),Q6e=X6e;function Z6e(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var vM=Z6e,lY=mC,J6e=vM,eqe=ls,tqe=yC,iqe=1/0,uY=lY?lY.prototype:void 0,cY=uY?uY.toString:void 0;function Foe(t){if(typeof t=="string")return t;if(eqe(t))return J6e(t,Foe)+"";if(tqe(t))return cY?cY.call(t):"";var e=t+"";return e=="0"&&1/t==-iqe?"-0":e}var rqe=Foe,nqe=rqe;function sqe(t){return t==null?"":nqe(t)}var Ioe=sqe,oqe=ls,aqe=gW,lqe=Q6e,uqe=Ioe;function cqe(t,e){return oqe(t)?t:aqe(t,e)?[t]:lqe(uqe(t))}var CM=cqe,dqe=yC,hqe=1/0;function pqe(t){if(typeof t=="string"||dqe(t))return t;var e=t+"";return e=="0"&&1/t==-hqe?"-0":e}var Qb=pqe,fqe=CM,gqe=Qb;function mqe(t,e){e=fqe(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[gqe(e[i++])];return i&&i==r?t:void 0}var yM=mqe,vqe=yM;function Cqe(t,e,i){var r=t==null?void 0:vqe(t,e);return r===void 0?i:r}var Loe=Cqe;const Fa=Pt(Loe);function yqe(t,e){return t!=null&&e in Object(t)}var Sqe=yqe,wqe=CM,Eqe=cW,bqe=ls,Rqe=eW,Tqe=JB,Dqe=Qb;function Pqe(t,e,i){e=wqe(e,t);for(var r=-1,n=e.length,s=!1;++r<n;){var o=Dqe(e[r]);if(!(s=t!=null&&i(t,o)))break;t=t[o]}return s||++r!=n?s:(n=t==null?0:t.length,!!n&&Tqe(n)&&Rqe(o,n)&&(bqe(t)||Eqe(t)))}var xqe=Pqe,Aqe=Sqe,Oqe=xqe;function Mqe(t,e){return t!=null&&Oqe(t,e,Aqe)}var Fqe=Mqe,Iqe=fW,Lqe=Loe,_qe=Fqe,Nqe=gW,Gqe=xoe,kqe=Aoe,Vqe=Qb,Hqe=1,$qe=2;function Bqe(t,e){return Nqe(t)&&Gqe(e)?kqe(Vqe(t),e):function(i){var r=Lqe(i,t);return r===void 0&&r===e?_qe(i,t):Iqe(e,r,Hqe|$qe)}}var Wqe=Bqe;function Uqe(t){return t}var TC=Uqe;function zqe(t){return function(e){return e==null?void 0:e[t]}}var jqe=zqe,Kqe=yM;function Yqe(t){return function(e){return Kqe(e,t)}}var qqe=Yqe,Xqe=jqe,Qqe=qqe,Zqe=gW,Jqe=Qb;function e8e(t){return Zqe(t)?Xqe(Jqe(t)):Qqe(t)}var t8e=e8e,i8e=_6e,r8e=Wqe,n8e=TC,s8e=ls,o8e=t8e;function a8e(t){return typeof t=="function"?t:t==null?n8e:typeof t=="object"?s8e(t)?r8e(t[0],t[1]):i8e(t):o8e(t)}var Sh=a8e,l8e=Poe,u8e=Sh,c8e=noe,d8e=Math.max;function h8e(t,e,i){var r=t==null?0:t.length;if(!r)return-1;var n=i==null?0:c8e(i);return n<0&&(n=d8e(r+n,0)),l8e(t,u8e(e),n)}var p8e=h8e;const f8e=Pt(p8e);var g8e=Math.ceil,m8e=Math.max;function v8e(t,e,i,r){for(var n=-1,s=m8e(g8e((e-t)/(i||1)),0),o=Array(s);s--;)o[r?s:++n]=t,t+=i;return o}var C8e=v8e,y8e=C8e,S8e=CC,ZL=roe;function w8e(t){return function(e,i,r){return r&&typeof r!="number"&&S8e(e,i,r)&&(i=r=void 0),e=ZL(e),i===void 0?(i=e,e=0):i=ZL(i),r=r===void 0?e<i?1:-1:ZL(r),y8e(e,i,r,t)}}var E8e=w8e,b8e=E8e,R8e=b8e(),T8e=R8e;const Jw=Pt(T8e);var dY=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function D8e(t,e){return!!(t===e||dY(t)&&dY(e))}function P8e(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!D8e(t[i],e[i]))return!1;return!0}function _oe(t,e){e===void 0&&(e=P8e);var i=null;function r(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(i&&i.lastThis===this&&e(n,i.lastArgs))return i.lastResult;var o=t.apply(this,n);return i={lastResult:o,lastArgs:n,lastThis:this},o}return r.clear=function(){i=null},r}var hY=mC,x8e=cW,A8e=ls,pY=hY?hY.isConcatSpreadable:void 0;function O8e(t){return A8e(t)||x8e(t)||!!(pY&&t&&t[pY])}var M8e=O8e,F8e=lW,I8e=M8e;function Noe(t,e,i,r,n){var s=-1,o=t.length;for(i||(i=I8e),n||(n=[]);++s<o;){var a=t[s];e>0&&i(a)?e>1?Noe(a,e-1,i,r,n):F8e(n,a):r||(n[n.length]=a)}return n}var vW=Noe;function L8e(t){return function(e,i,r){for(var n=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++n];if(i(s[l],l,s)===!1)break}return e}}var _8e=L8e,N8e=_8e,G8e=N8e(),k8e=G8e,V8e=k8e,H8e=Xb;function $8e(t,e){return t&&V8e(t,e,H8e)}var CW=$8e,B8e=Yb;function W8e(t,e){return function(i,r){if(i==null)return i;if(!B8e(i))return t(i,r);for(var n=i.length,s=e?n:-1,o=Object(i);(e?s--:++s<n)&&r(o[s],s,o)!==!1;);return i}}var U8e=W8e,z8e=CW,j8e=U8e,K8e=j8e(z8e),yW=K8e,Y8e=yW,q8e=Yb;function X8e(t,e){var i=-1,r=q8e(t)?Array(t.length):[];return Y8e(t,function(n,s,o){r[++i]=e(n,s,o)}),r}var Goe=X8e;function Q8e(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}var Z8e=Q8e,fY=yC;function J8e(t,e){if(t!==e){var i=t!==void 0,r=t===null,n=t===t,s=fY(t),o=e!==void 0,a=e===null,l=e===e,u=fY(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!i&&l||!n)return 1;if(!r&&!s&&!u&&t<e||u&&i&&n&&!r&&!s||a&&i&&n||!o&&n||!l)return-1}return 0}var e9e=J8e,t9e=e9e;function i9e(t,e,i){for(var r=-1,n=t.criteria,s=e.criteria,o=n.length,a=i.length;++r<o;){var l=t9e(n[r],s[r]);if(l){if(r>=a)return l;var u=i[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var r9e=i9e,JL=vM,n9e=yM,s9e=Sh,o9e=Goe,a9e=Z8e,l9e=fM,u9e=r9e,c9e=TC,d9e=ls;function h9e(t,e,i){e.length?e=JL(e,function(s){return d9e(s)?function(o){return n9e(o,s.length===1?s[0]:s)}:s}):e=[c9e];var r=-1;e=JL(e,l9e(s9e));var n=o9e(t,function(s,o,a){var l=JL(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return a9e(n,function(s,o){return u9e(s,o,i)})}var p9e=h9e;function f9e(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var g9e=f9e,m9e=g9e,gY=Math.max;function v9e(t,e,i){return e=gY(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,s=gY(r.length-e,0),o=Array(s);++n<s;)o[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=i(o),m9e(t,this,a)}}var koe=v9e;function C9e(t){return function(){return t}}var y9e=C9e,S9e=Qf,w9e=function(){try{var t=S9e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Voe=w9e,E9e=y9e,mY=Voe,b9e=TC,R9e=mY?function(t,e){return mY(t,"toString",{configurable:!0,enumerable:!1,value:E9e(e),writable:!0})}:b9e,T9e=R9e,D9e=800,P9e=16,x9e=Date.now;function A9e(t){var e=0,i=0;return function(){var r=x9e(),n=P9e-(r-i);if(i=r,n>0){if(++e>=D9e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var O9e=A9e,M9e=T9e,F9e=O9e,I9e=F9e(M9e),Hoe=I9e,L9e=TC,_9e=koe,N9e=Hoe;function G9e(t,e){return N9e(_9e(t,e,L9e),t+"")}var $oe=G9e,k9e=vW,V9e=p9e,H9e=$oe,vY=CC,$9e=H9e(function(t,e){if(t==null)return[];var i=e.length;return i>1&&vY(t,e[0],e[1])?e=[]:i>2&&vY(e[0],e[1],e[2])&&(e=[e[0]]),V9e(t,k9e(e,1),[])}),B9e=$9e;const SM=Pt(B9e);function oG(t,e){var i=tW(t);return i?i.innerWidth:e?t.clientWidth:Mp(t).width}function Boe(t){return Vse(t)||Jse(t)||qB(t)||Hse()}function W9e(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var Woe=W9e,CY=Voe;function U9e(t,e,i){e=="__proto__"&&CY?CY(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var SW=U9e,z9e=SW,j9e=Kb,K9e=Object.prototype,Y9e=K9e.hasOwnProperty;function q9e(t,e,i){var r=t[e];(!(Y9e.call(t,e)&&j9e(r,i))||i===void 0&&!(e in t))&&z9e(t,e,i)}var Uoe=q9e,X9e=Uoe,Q9e=SW;function Z9e(t,e,i,r){var n=!i;i||(i={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(i[a],t[a],a,i,t):void 0;l===void 0&&(l=t[a]),n?Q9e(i,a,l):X9e(i,a,l)}return i}var Zb=Z9e,J9e=Zb,e7e=Xb;function t7e(t,e){return t&&J9e(e,e7e(e),t)}var i7e=t7e;function r7e(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var n7e=r7e,s7e=Qa,o7e=pW,a7e=n7e,l7e=Object.prototype,u7e=l7e.hasOwnProperty;function c7e(t){if(!s7e(t))return a7e(t);var e=o7e(t),i=[];for(var r in t)r=="constructor"&&(e||!u7e.call(t,r))||i.push(r);return i}var d7e=c7e,h7e=Soe,p7e=d7e,f7e=Yb;function g7e(t){return f7e(t)?h7e(t,!0):p7e(t)}var wM=g7e,m7e=Zb,v7e=wM;function C7e(t,e){return t&&m7e(e,v7e(e),t)}var y7e=C7e,Wx={exports:{}};Wx.exports;(function(t,e){var i=Hl,r=e&&!e.nodeType&&e,n=r&&!0&&t&&!t.nodeType&&t,s=n&&n.exports===r,o=s?i.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}t.exports=l})(Wx,Wx.exports);var S7e=Wx.exports;function w7e(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var E7e=w7e,b7e=Zb,R7e=uW;function T7e(t,e){return b7e(t,R7e(t),e)}var D7e=T7e,P7e=woe,x7e=P7e(Object.getPrototypeOf,Object),EM=x7e,A7e=lW,O7e=EM,M7e=uW,F7e=Coe,I7e=Object.getOwnPropertySymbols,L7e=I7e?function(t){for(var e=[];t;)A7e(e,M7e(t)),t=O7e(t);return e}:F7e,zoe=L7e,_7e=Zb,N7e=zoe;function G7e(t,e){return _7e(t,N7e(t),e)}var k7e=G7e,V7e=voe,H7e=zoe,$7e=wM;function B7e(t){return V7e(t,$7e,H7e)}var joe=B7e,W7e=Object.prototype,U7e=W7e.hasOwnProperty;function z7e(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&U7e.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var j7e=z7e,yY=moe;function K7e(t){var e=new t.constructor(t.byteLength);return new yY(e).set(new yY(t)),e}var wW=K7e,Y7e=wW;function q7e(t,e){var i=e?Y7e(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var X7e=q7e,Q7e=/\w*$/;function Z7e(t){var e=new t.constructor(t.source,Q7e.exec(t));return e.lastIndex=t.lastIndex,e}var J7e=Z7e,SY=mC,wY=SY?SY.prototype:void 0,EY=wY?wY.valueOf:void 0;function eXe(t){return EY?Object(EY.call(t)):{}}var tXe=eXe,iXe=wW;function rXe(t,e){var i=e?iXe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var nXe=rXe,sXe=wW,oXe=X7e,aXe=J7e,lXe=tXe,uXe=nXe,cXe="[object Boolean]",dXe="[object Date]",hXe="[object Map]",pXe="[object Number]",fXe="[object RegExp]",gXe="[object Set]",mXe="[object String]",vXe="[object Symbol]",CXe="[object ArrayBuffer]",yXe="[object DataView]",SXe="[object Float32Array]",wXe="[object Float64Array]",EXe="[object Int8Array]",bXe="[object Int16Array]",RXe="[object Int32Array]",TXe="[object Uint8Array]",DXe="[object Uint8ClampedArray]",PXe="[object Uint16Array]",xXe="[object Uint32Array]";function AXe(t,e,i){var r=t.constructor;switch(e){case CXe:return sXe(t);case cXe:case dXe:return new r(+t);case yXe:return oXe(t,i);case SXe:case wXe:case EXe:case bXe:case RXe:case TXe:case DXe:case PXe:case xXe:return uXe(t,i);case hXe:return new r;case pXe:case mXe:return new r(t);case fXe:return aXe(t);case gXe:return new r;case vXe:return lXe(t)}}var OXe=AXe,MXe=Qa,bY=Object.create,FXe=function(){function t(){}return function(e){if(!MXe(e))return{};if(bY)return bY(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),Koe=FXe,IXe=Koe,LXe=EM,_Xe=pW;function NXe(t){return typeof t.constructor=="function"&&!_Xe(t)?IXe(LXe(t)):{}}var GXe=NXe,kXe=gM,VXe=$l,HXe="[object Map]";function $Xe(t){return VXe(t)&&kXe(t)==HXe}var BXe=$Xe,WXe=BXe,UXe=fM,RY=dW,TY=RY&&RY.isMap,zXe=TY?UXe(TY):WXe,jXe=zXe,KXe=gM,YXe=$l,qXe="[object Set]";function XXe(t){return YXe(t)&&KXe(t)==qXe}var QXe=XXe,ZXe=QXe,JXe=fM,DY=dW,PY=DY&&DY.isSet,eQe=PY?JXe(PY):ZXe,tQe=eQe,iQe=oW,rQe=Woe,nQe=Uoe,sQe=i7e,oQe=y7e,aQe=S7e,lQe=E7e,uQe=D7e,cQe=k7e,dQe=Eoe,hQe=joe,pQe=gM,fQe=j7e,gQe=OXe,mQe=GXe,vQe=ls,CQe=pM,yQe=jXe,SQe=Qa,wQe=tQe,EQe=Xb,bQe=wM,RQe=1,TQe=2,DQe=4,Yoe="[object Arguments]",PQe="[object Array]",xQe="[object Boolean]",AQe="[object Date]",OQe="[object Error]",qoe="[object Function]",MQe="[object GeneratorFunction]",FQe="[object Map]",IQe="[object Number]",Xoe="[object Object]",LQe="[object RegExp]",_Qe="[object Set]",NQe="[object String]",GQe="[object Symbol]",kQe="[object WeakMap]",VQe="[object ArrayBuffer]",HQe="[object DataView]",$Qe="[object Float32Array]",BQe="[object Float64Array]",WQe="[object Int8Array]",UQe="[object Int16Array]",zQe="[object Int32Array]",jQe="[object Uint8Array]",KQe="[object Uint8ClampedArray]",YQe="[object Uint16Array]",qQe="[object Uint32Array]",Ni={};Ni[Yoe]=Ni[PQe]=Ni[VQe]=Ni[HQe]=Ni[xQe]=Ni[AQe]=Ni[$Qe]=Ni[BQe]=Ni[WQe]=Ni[UQe]=Ni[zQe]=Ni[FQe]=Ni[IQe]=Ni[Xoe]=Ni[LQe]=Ni[_Qe]=Ni[NQe]=Ni[GQe]=Ni[jQe]=Ni[KQe]=Ni[YQe]=Ni[qQe]=!0;Ni[OQe]=Ni[qoe]=Ni[kQe]=!1;function jD(t,e,i,r,n,s){var o,a=e&RQe,l=e&TQe,u=e&DQe;if(i&&(o=n?i(t,r,n,s):i(t)),o!==void 0)return o;if(!SQe(t))return t;var c=vQe(t);if(c){if(o=fQe(t),!a)return lQe(t,o)}else{var d=pQe(t),h=d==qoe||d==MQe;if(CQe(t))return aQe(t,a);if(d==Xoe||d==Yoe||h&&!n){if(o=l||h?{}:mQe(t),!a)return l?cQe(t,oQe(o,t)):uQe(t,sQe(o,t))}else{if(!Ni[d])return n?t:{};o=gQe(t,d,a)}}s||(s=new iQe);var f=s.get(t);if(f)return f;s.set(t,o),wQe(t)?t.forEach(function(C){o.add(jD(C,e,i,C,t,s))}):yQe(t)&&t.forEach(function(C,S){o.set(S,jD(C,e,i,S,t,s))});var g=u?l?hQe:dQe:l?bQe:EQe,v=c?void 0:g(t);return rQe(v||t,function(C,S){v&&(S=C,C=t[S]),nQe(o,S,jD(C,e,i,S,t,s))}),o}var XQe=jD;function QQe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Qoe=QQe;const ZQe=Pt(Qoe);var JQe=yM,eZe=ZB;function tZe(t,e){return e.length<2?t:JQe(t,eZe(e,0,-1))}var iZe=tZe,rZe=CM,nZe=Qoe,sZe=iZe,oZe=Qb;function aZe(t,e){return e=rZe(e,t),t=sZe(t,e),t==null||delete t[oZe(nZe(e))]}var lZe=aZe,uZe=qc,cZe=EM,dZe=$l,hZe="[object Object]",pZe=Function.prototype,fZe=Object.prototype,Zoe=pZe.toString,gZe=fZe.hasOwnProperty,mZe=Zoe.call(Object);function vZe(t){if(!dZe(t)||uZe(t)!=hZe)return!1;var e=cZe(t);if(e===null)return!0;var i=gZe.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Zoe.call(i)==mZe}var Joe=vZe;const CZe=Pt(Joe);var yZe=Joe;function SZe(t){return yZe(t)?void 0:t}var wZe=SZe,EZe=vW;function bZe(t){var e=t==null?0:t.length;return e?EZe(t,1):[]}var RZe=bZe,TZe=RZe,DZe=koe,PZe=Hoe;function xZe(t){return PZe(DZe(t,void 0,TZe),t+"")}var AZe=xZe,OZe=vM,MZe=XQe,FZe=lZe,IZe=CM,LZe=Zb,_Ze=wZe,NZe=AZe,GZe=joe,kZe=1,VZe=2,HZe=4,$Ze=NZe(function(t,e){var i={};if(t==null)return i;var r=!1;e=OZe(e,function(s){return s=IZe(s,t),r||(r=s.length>1),s}),LZe(t,GZe(t),i),r&&(i=MZe(i,kZe|VZe|HZe,_Ze));for(var n=e.length;n--;)FZe(i,e[n]);return i}),BZe=$Ze;const WZe=Pt(BZe);var UZe=$oe,zZe=Kb,jZe=CC,KZe=wM,eae=Object.prototype,YZe=eae.hasOwnProperty,qZe=UZe(function(t,e){t=Object(t);var i=-1,r=e.length,n=r>2?e[2]:void 0;for(n&&jZe(e[0],e[1],n)&&(r=1);++i<r;)for(var s=e[i],o=KZe(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||zZe(c,eae[u])&&!YZe.call(t,u))&&(t[u]=s[u])}return t}),XZe=qZe;const QZe=Pt(XZe);var ZZe=Woe,JZe=Koe,eJe=CW,tJe=Sh,iJe=EM,rJe=ls,nJe=pM,sJe=lM,oJe=Qa,aJe=hW;function lJe(t,e,i){var r=rJe(t),n=r||nJe(t)||aJe(t);if(e=tJe(e),i==null){var s=t&&t.constructor;n?i=r?new s:[]:oJe(t)?i=sJe(s)?JZe(iJe(t)):{}:i={}}return(n?ZZe:eJe)(t,function(o,a,l){return e(i,o,a,l)}),i}var uJe=lJe;const cJe=Pt(uJe);var dJe=SW,hJe=CW,pJe=Sh;function fJe(t,e){var i={};return e=pJe(e),hJe(t,function(r,n,s){dJe(i,n,e(r,n,s))}),i}var gJe=fJe;const tae=Pt(gJe);var iae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r){r.prototype.isSameOrAfter=function(n,s){return this.isSame(n,s)||this.isAfter(n,s)}}})})(iae);var mJe=iae.exports;const vJe=Pt(mJe);var rae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r){r.prototype.isSameOrBefore=function(n,s){return this.isSame(n,s)||this.isBefore(n,s)}}})})(rae);var CJe=rae.exports;const yJe=Pt(CJe);var nae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r,n){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,h,f,g,v){var C=d.name?d:d.$locale(),S=o(C[h]),y=o(C[f]),w=S||y.map(function(b){return b.slice(0,g)});if(!v)return w;var E=C.weekStart;return w.map(function(b,D){return w[(D+(E||0))%7]})},l=function(){return n.Ls[n.locale()]},u=function(d,h){return d.formats[h]||function(f){return f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,v,C){return v||C.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):a(d,"months")},monthsShort:function(h){return h?h.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},n.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},n.months=function(){return a(l(),"months")},n.monthsShort=function(){return a(l(),"monthsShort","months",3)},n.weekdays=function(d){return a(l(),"weekdays",null,null,d)},n.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},n.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(nae);var SJe=nae.exports;const wJe=Pt(SJe);var sae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r,n){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(c){return c}))[0];for(var u=1;u<a.length;u+=1)a[u].isValid()&&!a[u][o](l)||(l=a[u]);return l};n.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},n.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(sae);var EJe=sae.exports;const bJe=Pt(EJe);var oae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i="minute",r=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(v){var C={date:v,utc:!0,args:arguments};return new o(C)},l.utc=function(v){var C=a(this.toDate(),{locale:this.$L,utc:!0});return v?C.add(this.utcOffset(),i):C},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),u.call(this,v)};var c=l.init;l.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(v,C){var S=this.$utils().u;if(S(v))return this.$u?0:S(this.$offset)?d.call(this):this.$offset;if(typeof v=="string"&&(v=function(b){b===void 0&&(b="");var D=b.match(r);if(!D)return null;var P=(""+D[0]).match(n)||["-",0,0],O=P[0],N=60*+P[1]+ +P[2];return N===0?0:O==="+"?N:-N}(v),v===null))return this;var y=Math.abs(v)<=16?60*v:v,w=this;if(C)return w.$offset=y,w.$u=v===0,w;if(v!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(y+E,i)).$offset=y,w.$x.$localOffset=E}else w=this.utc();return w};var h=l.format;l.format=function(v){var C=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,C)},l.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var f=l.toDate;l.toDate=function(v){return v==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var g=l.diff;l.diff=function(v,C,S){if(v&&this.$u===v.$u)return g.call(this,v,C,S);var y=this.local(),w=a(v).local();return g.call(y,w,C,S)}}})})(oae);var RJe=oae.exports;const TJe=Pt(RJe);function Xu(t){return t.children}var ro={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Xn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},xY=Object.keys(Xn).map(function(t){return Xn[t]});ee.oneOfType([ee.string,ee.func]);ee.any;ee.func;ee.oneOfType([ee.arrayOf(ee.oneOf(xY)),ee.objectOf(function(t,e){var i=xY.indexOf(e)!==-1&&typeof t[e]=="boolean";if(i)return null;for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];return ee.elementType.apply(ee,[t,e].concat(n))})]);ee.oneOfType([ee.oneOf(["overlap","no-overlap"]),ee.func]);function ur(t,e){t&&t.apply(null,[].concat(e))}var AY={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function aae(t,e){var i=$n(t,"month");return $n(i,"week",e.startOfWeek())}function lae(t,e){var i=kx(t,"month");return kx(i,"week",e.startOfWeek())}function DJe(t,e){for(var i=aae(t,e),r=lae(t,e),n=[];fC(i,r,"day");)n.push(i),i=Gl(i,1,"day");return n}function PJe(t,e){var i=$n(t,e);return zb(i,t)?i:Gl(i,1,e)}function xJe(t,e){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,n=[];fC(r,e,i);)n.push(r),r=Gl(r,1,i);return n}function AJe(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=$n(t,"day"),t=Qw(t,Qw(e)),t=fv(t,fv(e)),t=Xw(t,Xw(e)),qw(t,qw(e)))}function OY(t){return Qw(t)===0&&fv(t)===0&&Xw(t)===0&&qw(t)===0}function OJe(t,e,i,r){return i==="day"&&(i="date"),Math.abs(E4[i](t,void 0,r)-E4[i](e,void 0,r))}function EW(t,e,i){return!i||i==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+$n(t,i)/AY[i]-+$n(e,i)/AY[i]))}var MJe=ee.oneOfType([ee.string,ee.func]);function FJe(t,e,i,r,n){var s=typeof r=="function"?r(i,n,t):e.call(t,i,r,n);return Ww(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function IJe(t,e,i){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+i,0,0)}function bW(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function LJe(t,e){return EW(t,e,"minutes")+bW(t,e)}function _Je(t){var e=$n(t,"day");return EW(e,t,"minutes")+bW(e,t)}function NJe(t,e){return QB(t,e,"day")}function GJe(t,e,i){var r=zb(t,e,"minutes");return r?jb(e,i,"minutes"):aM(e,i,"minutes")}function aG(t,e){return OJe(t,e,"day")}function kJe(t){var e=t.evtA,i=e.start,r=e.end,n=e.allDay,s=t.evtB,o=s.start,a=s.end,l=s.allDay,u=+$n(i,"day")-+$n(o,"day"),c=aG(i,r),d=aG(o,a);return u||d-c||!!l-!!n||+i-+o||+r-+a}function VJe(t){var e=t.event,i=e.start,r=e.end,n=t.range,s=n.start,o=n.end,a=$n(i,"day"),l=fC(a,o,"day"),u=XB(a,r,"minutes"),c=u?aM(r,s,"minutes"):jb(r,s,"minutes");return l&&c}function HJe(t,e){return zb(t,e,"day")}function $Je(t,e){return OY(t)&&OY(e)}var BJe=Tn(function t(e){var i=this;Rn(this,t),Ww(typeof e.format=="function","date localizer `format(..)` must be a function"),Ww(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||MJe,this.formats=e.formats,this.format=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return FJe.apply(void 0,[i,e.format].concat(n))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||AJe,this.inRange=e.inRange||qse,this.lt=e.lt||QB,this.lte=e.lte||fC,this.gt=e.gt||aM,this.gte=e.gte||jb,this.eq=e.eq||zb,this.neq=e.neq||XB,this.startOf=e.startOf||$n,this.endOf=e.endOf||kx,this.add=e.add||Gl,this.range=e.range||xJe,this.diff=e.diff||EW,this.ceil=e.ceil||PJe,this.min=e.min||Kse,this.max=e.max||Yse,this.minutes=e.minutes||fv,this.daySpan=e.daySpan||aG,this.firstVisibleDay=e.firstVisibleDay||aae,this.lastVisibleDay=e.lastVisibleDay||lae,this.visibleDays=e.visibleDays||DJe,this.getSlotDate=e.getSlotDate||IJe,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||bW,this.getTotalMin=e.getTotalMin||LJe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||_Je,this.continuesPrior=e.continuesPrior||NJe,this.continuesAfter=e.continuesAfter||GJe,this.sortEvents=e.sortEvents||kJe,this.inEventRange=e.inEventRange||VJe,this.isSameDate=e.isSameDate||HJe,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||$Je,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function WJe(t,e,i,r){var n=Fi(Fi({},t.formats),i);return Fi(Fi({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,a){return t.format(o,n[a]||a,e)}})}var UJe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function zJe(t){return Fi(Fi({},UJe),t)}function jJe(t){var e=t.ref,i=t.callback;T.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&i()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,i])}var KJe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],uae=function(t){_s(e,t);function e(){return Rn(this,e),Ls(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,u=r.onSelect,c=r.onDoubleClick,d=r.onKeyPress,h=r.localizer,f=r.continuesPrior,g=r.continuesAfter,v=r.accessors,C=r.getters,S=r.children,y=r.components,w=y.event,E=y.eventWrapper,b=r.slotStart,D=r.slotEnd,P=Lu(r,KJe);delete P.resizable;var O=v.title(o),N=v.tooltip(o),_=v.end(o),L=v.start(o),k=v.allDay(o),$=l||k||h.diff(L,h.ceil(_,"day"),"day")>1,U=C.eventProp(o,L,_,a),K=W.createElement("div",{className:"rbc-event-content",title:N||void 0},w?W.createElement(w,{event:o,continuesPrior:f,continuesAfter:g,title:O,isAllDay:k,localizer:h,slotStart:b,slotEnd:D}):O);return W.createElement(E,Object.assign({},this.props,{type:"date"}),W.createElement("div",Object.assign({},P,{style:Fi(Fi({},U.style),n),className:an("rbc-event",s,U.className,{"rbc-selected":a,"rbc-event-allday":$,"rbc-event-continues-prior":f,"rbc-event-continues-after":g}),onClick:function(Q){return u&&u(o,Q)},onDoubleClick:function(Q){return c&&c(o,Q)},onKeyDown:function(Q){return d&&d(o,Q)}}),typeof S=="function"?S(K):K))}}]),e}(W.Component);function bM(t,e){return!t||e==null?!1:mM(t,e)}function cae(t,e){var i=t.right-t.left,r=i/e;return r}function dae(t,e,i,r){var n=cae(t,r);return i?r-1-Math.floor((e-t.left)/n):Math.floor((e-t.left)/n)}function YJe(t,e){var i=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&i>=t.left&&i<=t.right}function qJe(t,e,i,r,n){var s=-1,o=-1,a=r-1,l=cae(e,r),u=dae(e,i.x,n,r),c=e.top<i.y&&e.bottom>i.y,d=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,f=e.top>t.y,g=i.top<e.top&&i.bottom>e.bottom;return g&&(s=0,o=a),c&&(f?(s=0,o=u):h&&(s=u,o=a)),d&&(s=o=n?a-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),c?u<s?s=u:o=u:t.y<i.y?o=a:s=0),{startIdx:s,endIdx:o}}function XJe(t){var e=t.target,i=t.offset,r=t.container,n=t.box,s=Mp(e),o=s.top,a=s.left,l=s.width,u=s.height,c=Mp(r),d=c.top,h=c.left,f=c.width,g=c.height,v=Mp(n),C=v.width,S=v.height,y=d+g,w=h+f,E=o+S,b=a+C,D=i.x,P=i.y,O=E>y?o-S-P:o+P+u,N=b>w?a+D-C+l:a+D;return{topOffset:O,leftOffset:N}}function QJe(t){var e=t.containerRef,i=t.accessors,r=t.getters,n=t.selected,s=t.components,o=t.localizer,a=t.position,l=t.show,u=t.events,c=t.slotStart,d=t.slotEnd,h=t.onSelect,f=t.onDoubleClick,g=t.onKeyPress,v=t.handleDragStart,C=t.popperRef,S=t.target,y=t.offset;jJe({ref:C,callback:l}),T.useLayoutEffect(function(){var b=XJe({target:S,offset:y,container:e.current,box:C.current}),D=b.topOffset,P=b.leftOffset;C.current.style.top="".concat(D,"px"),C.current.style.left="".concat(P,"px")},[y.x,y.y,S]);var w=a.width,E={minWidth:w+w/2};return W.createElement("div",{style:E,className:"rbc-overlay",ref:C},W.createElement("div",{className:"rbc-overlay-header"},o.format(c,"dayHeaderFormat")),u.map(function(b,D){return W.createElement(uae,{key:D,type:"popup",localizer:o,event:b,getters:r,onSelect:h,accessors:i,components:s,onDoubleClick:f,onKeyPress:g,continuesPrior:o.lt(i.end(b),c,"day"),continuesAfter:o.gte(i.start(b),d,"day"),slotStart:c,slotEnd:d,selected:bM(b,n),draggable:!0,onDragStart:function(){return v(b)},onDragEnd:function(){return l()}})}))}var hae=W.forwardRef(function(t,e){return W.createElement(QJe,Object.assign({},t,{popperRef:e}))});hae.propTypes={accessors:ee.object.isRequired,getters:ee.object.isRequired,selected:ee.object,components:ee.object.isRequired,localizer:ee.object.isRequired,position:ee.object.isRequired,show:ee.func.isRequired,events:ee.array.isRequired,slotStart:ee.instanceOf(Date).isRequired,slotEnd:ee.instanceOf(Date),onSelect:ee.func,onDoubleClick:ee.func,onKeyPress:ee.func,handleDragStart:ee.func,style:ee.object,offset:ee.shape({x:ee.number,y:ee.number})};function ZJe(t){var e=t.containerRef,i=t.popupOffset,r=i===void 0?5:i,n=t.overlay,s=t.accessors,o=t.localizer,a=t.components,l=t.getters,u=t.selected,c=t.handleSelectEvent,d=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,f=t.handleDragStart,g=t.onHide,v=t.overlayDisplay,C=T.useRef(null);if(!n.position)return null;var S=r;isNaN(r)||(S={x:r,y:r});var y=n.position,w=n.events,E=n.date,b=n.end;return W.createElement(qje,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:n.target},function(D){var P=D.props;return W.createElement(hae,Object.assign({},P,{containerRef:e,ref:C,target:n.target,offset:S,accessors:s,getters:l,selected:u,components:a,localizer:o,position:y,show:v,events:w,slotStart:E,slotEnd:b,onSelect:c,onDoubleClick:d,onKeyPress:h,handleDragStart:f}))})}var RW=W.forwardRef(function(t,e){return W.createElement(ZJe,Object.assign({},t,{containerRef:e}))});RW.propTypes={popupOffset:ee.oneOfType([ee.number,ee.shape({x:ee.number,y:ee.number})]),overlay:ee.shape({position:ee.object,events:ee.array,date:ee.instanceOf(Date),end:ee.instanceOf(Date)}),accessors:ee.object.isRequired,localizer:ee.object.isRequired,components:ee.object.isRequired,getters:ee.object.isRequired,selected:ee.object,handleSelectEvent:ee.func,handleDoubleClickEvent:ee.func,handleKeyPressEvent:ee.func,handleDragStart:ee.func,onHide:ee.func,overlayDisplay:ee.func};function jn(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return qy(i,t,e,{passive:!1})}function JJe(t,e,i){return!t||Zw(t,document.elementFromPoint(e,i))}function eet(t,e){var i=e.clientX,r=e.clientY,n=document.elementFromPoint(i,r);return Doe(n,".rbc-event",t)}function tet(t,e){var i=e.clientX,r=e.clientY,n=document.elementFromPoint(i,r);return Doe(n,".rbc-show-more",t)}function Ux(t,e){return!!eet(t,e)}function iet(t,e){return!!tet(t,e)}function vy(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var MY=5,ret=250,pae=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.global,n=r===void 0?!1:r,s=i.longPressThreshold,o=s===void 0?250:s,a=i.validContainers,l=a===void 0?[]:a;Rn(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||n,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=jn("touchmove",function(){},window),this._removeKeyDownListener=jn("keydown",this._keyListener),this._removeKeyUpListener=jn("keyup",this._keyListener),this._removeDropFromOutsideListener=jn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=jn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Tn(t,[{key:"on",value:function(i,r){var n=this._listeners[i]||(this._listeners[i]=[]);return n.push(r),{remove:function(){var o=n.indexOf(r);o!==-1&&n.splice(o,1)}}}},{key:"emit",value:function(i){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var o,a=this._listeners[i]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,n))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(i){var r=this._selectRect;return!r||!this.selecting?!1:FY(r,ff(i))}},{key:"filter",value:function(i){var r=this._selectRect;return!r||!this.selecting?[]:i.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(i,r){var n=this,s=null,o=null,a=null,l=function(h){s=setTimeout(function(){c(),i(h)},n.longPressThreshold),o=jn("touchmove",function(){return c()}),a=jn("touchend",function(){return c()})},u=jn("touchstart",l),c=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){c(),u()}}},{key:"_addInitialEventListener",value:function(){var i=this,r=jn("mousedown",function(s){i._removeInitialEventListener(),i._handleInitialEvent(s),i._removeInitialEventListener=jn("mousedown",i._handleInitialEvent)}),n=jn("touchstart",function(s){i._removeInitialEventListener(),i._removeInitialEventListener=i._addLongPressListener(i._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),n()}}},{key:"_dropFromOutsideListener",value:function(i){var r=vy(i),n=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:n,y:s,clientX:o,clientY:a}),i.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(i){var r=vy(i),n=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:n,y:s,clientX:o,clientY:a}),i.preventDefault()}},{key:"_handleInitialEvent",value:function(i){if(this._initialEvent=i,!this.isDetached){var r=vy(i),n=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),u,c;if(!(i.which===3||i.button===2||!JJe(l,n,s))){if(!this.globalMouse&&l&&!Zw(l,i.target)){var d=net(0),h=d.top,f=d.left,g=d.bottom,v=d.right;if(c=ff(l),u=FY({top:c.top-h,left:c.left-f,bottom:c.bottom+g,right:c.right+v},{top:a,left:o}),!u)return}var C=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(i.type),x:o,y:a,clientX:n,clientY:s});if(C!==!1)switch(i.type){case"mousedown":this._removeEndListener=jn("mouseup",this._handleTerminatingEvent),this._onEscListener=jn("keydown",this._handleTerminatingEvent),this._removeMoveListener=jn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(i),this._removeEndListener=jn("touchend",this._handleTerminatingEvent),this._removeMoveListener=jn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(i){var r=i.target,n=this.validContainers;return!n||!n.length||!r?!0:n.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(i){var r=this.selecting,n=this._selectRect;if(!r&&i.type.includes("key")&&(i=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,this._lastClickData=null,!!i){var s=!this.container||Zw(this.container(),i.target),o=this._isWithinValidContainer(i);return i.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(i):r?this.emit("select",n):this.emit("reset")}}},{key:"_handleClickEvent",value:function(i){var r=vy(i),n=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<ret?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:n,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(i){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,n=r.x,s=r.y,o=vy(i),a=o.pageX,l=o.pageY,u=Math.abs(n-a),c=Math.abs(s-l),d=Math.min(a,n),h=Math.min(l,s),f=this.selecting,g=this.isClick(a,l);g&&!f&&!(u||c)||(!f&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:h,left:d,x:a,y:l,right:d+u,bottom:h+c},this.emit("selecting",this._selectRect)),i.preventDefault())}}},{key:"_keyListener",value:function(i){this.ctrl=i.metaKey||i.ctrlKey}},{key:"isClick",value:function(i,r){var n=this._initialEventData,s=n.x,o=n.y,a=n.isTouch;return!a&&Math.abs(i-s)<=MY&&Math.abs(r-o)<=MY}}]),t}();function net(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return mc(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function FY(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=ff(t),n=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,u=l===void 0?n:l,c=ff(e),d=c.top,h=c.left,f=c.right,g=f===void 0?h:f,v=c.bottom,C=v===void 0?d:v;return!(u-i<d||n+i>C||a-i<h||s+i>g)}function ff(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),i=e.left+IY("left"),r=e.top+IY("top");return{top:r,left:i,right:(t.offsetWidth||0)+i,bottom:(t.offsetHeight||0)+r}}function IY(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var set=function(t){_s(e,t);function e(i,r){var n;return Rn(this,e),n=Ls(this,e,[i,r]),n.state={selecting:!1},n.containerRef=T.createRef(),n}return Tn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,n=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,u=r.localizer,c=this.state,d=c.selecting,h=c.startIdx,f=c.endIdx,g=s();return W.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},n.map(function(v,C){var S=d&&C>=h&&C<=f,y=o.dayProp(v),w=y.className,E=y.style;return W.createElement(l,{key:C,value:v,range:n},W.createElement("div",{style:E,className:an("rbc-day-bg",w,S&&"rbc-selected-cell",u.isSameDate(v,g)&&"rbc-today",a&&u.neq(a,v,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,n=this.containerRef.current,s=this._selector=new pae(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!Ux(n,l)&&!iet(n,l)){var c=ff(n),d=r.props,h=d.range,f=d.rtl;if(YJe(c,l)){var g=dae(c,l.x,f,h.length);r._selectSlot({startIdx:g,endIdx:g,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,u=l.range,c=l.rtl,d=-1,h=-1;if(r.state.selecting||(ur(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(n)){var f=ff(n),g=qJe(r._initial,f,a,u.length,c);d=g.startIdx,h=g.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:h})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!Ux(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Fi(Fi({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),ur(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var n=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;n!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:n,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}]),e}(W.Component),au={propTypes:{slotMetrics:ee.object.isRequired,selected:ee.object,isAllDay:ee.bool,accessors:ee.object.isRequired,localizer:ee.object.isRequired,components:ee.object.isRequired,getters:ee.object.isRequired,onSelect:ee.func,onDoubleClick:ee.func,onKeyPress:ee.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,i){var r=e.selected;e.isAllDay;var n=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,c=e.slotMetrics,d=e.components,h=e.resizable,f=c.continuesPrior(i),g=c.continuesAfter(i);return W.createElement(uae,{event:i,getters:s,localizer:u,accessors:n,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:f,continuesAfter:g,slotStart:c.first,slotEnd:c.last,selected:bM(i,r),resizable:h})},renderSpan:function(e,i,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(i)/e*100+"%";return W.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},n)}},fae=function(t){_s(e,t);function e(){return Rn(this,e),Ls(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this,n=this.props,s=n.segments,o=n.slotMetrics.slots,a=n.className,l=1;return W.createElement("div",{className:an(a,"rbc-row")},s.reduce(function(u,c,d){var h=c.event,f=c.left,g=c.right,v=c.span,C="_lvl_"+d,S=f-l,y=au.renderEvent(r.props,h);return S&&u.push(au.renderSpan(o,S,"".concat(C,"_gap"))),u.push(au.renderSpan(o,v,C,y)),l=g+1,u},[]))}}]),e}(W.Component);fae.defaultProps=Fi({},au.defaultProps);function gae(t){var e=t.dateRange,i=t.unit,r=i===void 0?"day":i,n=t.localizer;return{first:e[0],last:n.add(e[e.length-1],1,r)}}function oet(t,e,i,r){var n=gae({dateRange:e,localizer:r}),s=n.first,o=n.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(i.start(t),"day"),s),u=r.min(r.ceil(i.end(t),"day"),o),c=f8e(e,function(h){return r.isSameDate(h,l)}),d=r.diff(l,u,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:t,span:d,left:c+1,right:Math.max(c+d,1)}}function mae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,i,r,n,s=[],o=[];for(i=0;i<t.length;i++){for(n=t[i],r=0;r<s.length&&aet(n,s[r]);r++);r>=e?o.push(n):(s[r]||(s[r]=[])).push(n)}for(i=0;i<s.length;i++)s[i].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function eE(t,e,i,r,n){var s={start:r.start(t),end:r.end(t)},o={start:e,end:i};return n.inEventRange({event:s,range:o})}function aet(t,e){return e.some(function(i){return i.left<=t.right&&i.right>=t.left})}function uet(t,e,i){var r=zD(t),n=[],s=[];r.forEach(function(l){var u=e.start(l),c=e.end(l);i.daySpan(u,c)>1?n.push(l):s.push(l)});var o=n.sort(function(l,u){return lG(l,u,e,i)}),a=s.sort(function(l,u){return lG(l,u,e,i)});return[].concat(zD(o),zD(a))}function lG(t,e,i,r){var n={start:i.start(t),end:i.end(t),allDay:i.allDay(t)},s={start:i.start(e),end:i.end(e),allDay:i.allDay(e)};return r.sortEvents({evtA:n,evtB:s})}var vae=function(e,i){return e.left<=i&&e.right>=i},LY=function(e,i){return e.filter(function(r){return vae(r,i)}).map(function(r){return r.event})},Cae=function(t){_s(e,t);function e(){return Rn(this,e),Ls(this,e,arguments)}return Tn(e,[{key:"render",value:function(){for(var r=this.props,n=r.segments,s=r.slotMetrics.slots,o=mae(n).levels[0],a=1,l=1,u=[];a<=s;){var c="_lvl_"+a,d=o.filter(function(y){return vae(y,a)})[0]||{},h=d.event,f=d.left,g=d.right,v=d.span;if(!h){a++;continue}var C=Math.max(0,f-l);if(this.canRenderSlotEvent(f,v)){var S=au.renderEvent(this.props,h);C&&u.push(au.renderSpan(s,C,c+"_gap")),u.push(au.renderSpan(s,v,c,S)),l=a=g+1}else C&&u.push(au.renderSpan(s,C,c+"_gap")),u.push(au.renderSpan(s,1,c,this.renderShowMore(n,a))),l=a=a+1}return W.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,n){var s=this.props.segments;return Jw(r,r+n).every(function(o){var a=LY(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,n){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,u=l.getEventsForSlot(n),c=LY(r,n),d=c.length;return d?W.createElement("button",{type:"button",key:"sm_"+n,className:an("rbc-button-link","rbc-show-more"),onClick:function(f){return s.showMore(n,f)}},a.messages.showMore(d,c,u)):!1}},{key:"showMore",value:function(r,n){n.preventDefault(),n.stopPropagation(),this.props.onShowMore(r,n.target)}}]),e}(W.Component);Cae.defaultProps=Fi({},au.defaultProps);var cet=function(e){var i=e.children;return W.createElement("div",{className:"rbc-row-content-scroll-container"},i)},det=function(e,i){return e.left<=i&&e.right>=i},het=function(e,i){return e[0].range===i[0].range&&e[0].events===i[0].events};function yae(){return _oe(function(t){for(var e=t.range,i=t.events,r=t.maxRows,n=t.minRows,s=t.accessors,o=t.localizer,a=gae({dateRange:e,localizer:o}),l=a.first,u=a.last,c=i.map(function(v){return oet(v,e,s,o)}),d=mae(c,Math.max(r-1,1)),h=d.levels,f=d.extra,g=f.length>0?n-1:n;h.length<g;)h.push([]);return{first:l,last:u,levels:h,extra:f,range:e,slots:e.length,clone:function(C){var S=yae();return S(Fi(Fi({},t),C))},getDateForSlot:function(C){return e[C]},getSlotForDate:function(C){return e.find(function(S){return o.isSameDate(S,C)})},getEventsForSlot:function(C){return c.filter(function(S){return det(S,C)}).map(function(S){return S.event})},continuesPrior:function(C){return o.continuesPrior(s.start(C),l)},continuesAfter:function(C){var S=s.start(C),y=s.end(C);return o.continuesAfter(S,y,u)}}},het)}var zx=function(t){_s(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Ls(this,e,[].concat(n)),i.handleSelectSlot=function(o){var a=i.props,l=a.range,u=a.onSelectSlot;u(l.slice(o.start,o.end+1),o)},i.handleShowMore=function(o,a){var l=i.props,u=l.range,c=l.onShowMore,d=i.slotMetrics(i.props),h=Rje(i.containerRef.current,".rbc-row-bg")[0],f;h&&(f=h.children[o-1]);var g=d.getEventsForSlot(o);c(g,u[o-1],f,o,a)},i.getContainer=function(){var o=i.props.container;return o?o():i.containerRef.current},i.renderHeadingCell=function(o,a){var l=i.props,u=l.renderHeader,c=l.getNow,d=l.localizer;return u({date:o,key:"header_".concat(a),className:an("rbc-date-cell",d.isSameDate(o,c())&&"rbc-now")})},i.renderDummy=function(){var o=i.props,a=o.className,l=o.range,u=o.renderHeader,c=o.showAllEvents;return W.createElement("div",{className:a,ref:i.containerRef},W.createElement("div",{className:an("rbc-row-content",c&&"rbc-row-content-scrollable")},u&&W.createElement("div",{className:"rbc-row",ref:i.headingRowRef},l.map(i.renderHeadingCell)),W.createElement("div",{className:"rbc-row",ref:i.eventRowRef},W.createElement("div",{className:"rbc-row-segment"},W.createElement("div",{className:"rbc-event"},W.createElement("div",{className:"rbc-event-content"},""))))))},i.containerRef=T.createRef(),i.headingRowRef=T.createRef(),i.eventRowRef=T.createRef(),i.slotMetrics=yae(),i}return Tn(e,[{key:"getRowLimit",value:function(){var r,n=QL(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?QL(this.headingRowRef.current):0,o=QL(this.containerRef.current)-s;return Math.max(Math.floor(o/n),1)}},{key:"render",value:function(){var r=this.props,n=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,u=r.selectable,c=r.renderForMeasure,d=r.accessors,h=r.getters,f=r.components,g=r.getNow,v=r.renderHeader,C=r.onSelect,S=r.localizer,y=r.onSelectStart,w=r.onSelectEnd,E=r.onDoubleClick,b=r.onKeyPress,D=r.resourceId,P=r.longPressThreshold,O=r.isAllDay,N=r.resizable,_=r.showAllEvents;if(c)return this.renderDummy();var L=this.slotMetrics(this.props),k=L.levels,$=L.extra,U=_?cet:Xu,K=f.weekWrapper,j={selected:l,accessors:d,getters:h,localizer:S,components:f,onSelect:C,onDoubleClick:E,onKeyPress:b,resourceId:D,slotMetrics:L,resizable:N};return W.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},W.createElement(set,{localizer:S,date:n,getNow:g,rtl:s,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:f,longPressThreshold:P,resourceId:D}),W.createElement("div",{className:an("rbc-row-content",_&&"rbc-row-content-scrollable"),role:"row"},v&&W.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),W.createElement(U,null,W.createElement(K,Object.assign({isAllDay:O},j,{rtl:this.props.rtl}),k.map(function(Q,H){return W.createElement(fae,Object.assign({key:H,segments:Q},j))}),!!$.length&&W.createElement(Cae,Object.assign({segments:$,onShowMore:this.handleShowMore},j))))))}}]),e}(W.Component);zx.defaultProps={minRows:0,maxRows:1/0};var Sae=function(e){var i=e.label;return W.createElement("span",{role:"columnheader","aria-sort":"none"},i)},pet=function(e){var i=e.label,r=e.drilldownView,n=e.onDrillDown;return r?W.createElement("button",{type:"button",className:"rbc-button-link",onClick:n,role:"cell"},i):W.createElement("span",null,i)},fet=["date","className"],get=function(e,i,r,n,s){return e.filter(function(o){return eE(o,i,r,n,s)})},RM=function(t){_s(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Ls(this,e,[].concat(n)),i.getContainer=function(){return i.containerRef.current},i.renderWeek=function(o,a){var l=i.props,u=l.events,c=l.components,d=l.selectable,h=l.getNow,f=l.selected,g=l.date,v=l.localizer,C=l.longPressThreshold,S=l.accessors,y=l.getters,w=l.showAllEvents,E=i.state,b=E.needLimitMeasure,D=E.rowLimit,P=get(zD(u),o[0],o[o.length-1],S,v),O=uet(P,S,v);return W.createElement(zx,{key:a,ref:a===0?i.slotRowRef:void 0,container:i.getContainer,className:"rbc-month-row",getNow:h,date:g,range:o,events:O,maxRows:w?1/0:D,selected:f,selectable:d,components:c,accessors:S,getters:y,localizer:v,renderHeader:i.readerDateHeading,renderForMeasure:b,onShowMore:i.handleShowMore,onSelect:i.handleSelectEvent,onDoubleClick:i.handleDoubleClickEvent,onKeyPress:i.handleKeyPressEvent,onSelectSlot:i.handleSelectSlot,longPressThreshold:C,rtl:i.props.rtl,resizable:i.props.resizable,showAllEvents:w})},i.readerDateHeading=function(o){var a=o.date,l=o.className,u=Lu(o,fet),c=i.props,d=c.date,h=c.getDrilldownView,f=c.localizer,g=f.neq(a,d,"month"),v=f.isSameDate(a,d),C=h(a),S=f.format(a,"dateFormat"),y=i.props.components.dateHeader||pet;return W.createElement("div",Object.assign({},u,{className:an(l,g&&"rbc-off-range",v&&"rbc-current"),role:"cell"}),W.createElement(y,{label:S,date:a,drilldownView:C,isOffRange:g,onDrillDown:function(E){return i.handleHeadingClick(a,C,E)}}))},i.handleSelectSlot=function(o,a){i._pendingSelection=i._pendingSelection.concat(o),clearTimeout(i._selectTimer),i._selectTimer=setTimeout(function(){return i.selectDates(a)})},i.handleHeadingClick=function(o,a,l){l.preventDefault(),i.clearSelection(),ur(i.props.onDrillDown,[o,a])},i.handleSelectEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onSelectEvent,a)},i.handleDoubleClickEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onDoubleClickEvent,a)},i.handleKeyPressEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onKeyPressEvent,a)},i.handleShowMore=function(o,a,l,u,c){var d=i.props,h=d.popup,f=d.onDrillDown,g=d.onShowMore,v=d.getDrilldownView,C=d.doShowMoreDrillDown;if(i.clearSelection(),h){var S=loe(l,i.containerRef.current);i.setState({overlay:{date:a,events:o,position:S,target:c}})}else C&&ur(f,[a,v(a)||Xn.DAY]);ur(g,[o,a,u])},i.overlayDisplay=function(){i.setState({overlay:null})},i.state={rowLimit:5,needLimitMeasure:!0,date:null},i.containerRef=T.createRef(),i.slotRowRef=T.createRef(),i._bgRows=[],i._pendingSelection=[],i}return Tn(e,[{key:"componentDidMount",value:function(){var r=this,n;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){n||uoe(function(){n=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.className,a=s.visibleDays(n,s),l=lje(a,7);return this._weekCount=l.length,W.createElement("div",{className:an("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},W.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var n=this.props,s=n.localizer,o=n.components,a=r[0],l=r[r.length-1],u=o.header||Sae;return s.range(a,l,"day").map(function(c,d){return W.createElement("div",{key:"header_"+d,className:"rbc-header"},W.createElement(u,{date:c,localizer:s,label:s.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,n,s=this,o=(r=(n=this.state)===null||n===void 0?void 0:n.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,g=a.handleDragStart,v=function(){return s.setState({overlay:null})};return W.createElement(RW,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var n=this._pendingSelection.slice();this._pendingSelection=[],n.sort(function(a,l){return+a-+l});var s=new Date(n[0]),o=new Date(n[n.length-1]);o.setDate(n[n.length-1].getDate()+1),ur(this.props.onSelectSlot,{slots:n,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,n){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,n.date,"month")}}}]),e}(W.Component);RM.range=function(t,e){var i=e.localizer,r=i.firstVisibleDay(t,i),n=i.lastVisibleDay(t,i);return{start:r,end:n}};RM.navigate=function(t,e,i){var r=i.localizer;switch(e){case ro.PREVIOUS:return r.add(t,-1,"month");case ro.NEXT:return r.add(t,1,"month");default:return t}};RM.title=function(t,e){var i=e.localizer;return i.format(t,"monthHeaderFormat")};var _Y=function(e){var i=e.min,r=e.max,n=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(i,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(n,"-").concat(s)};function TW(t){for(var e=t.min,i=t.max,r=t.step,n=t.timeslots,s=t.localizer,o=_Y({start:e,end:i,step:r,timeslots:n,localizer:s}),a=1+s.getTotalMin(e,i),l=s.getMinutesFromMidnight(e),u=Math.ceil((a-1)/(r*n)),c=u*n,d=new Array(u),h=new Array(c),f=0;f<u;f++){d[f]=new Array(n);for(var g=0;g<n;g++){var v=f*n+g,C=v*r;h[v]=d[f][g]=s.getSlotDate(e,l,C)}}var S=h.length*r;h.push(s.getSlotDate(e,l,S));function y(w){var E=s.diff(e,w,"minutes")+s.getDstOffset(e,w);return Math.min(E,a)}return{groups:d,update:function(E){return _Y(E)!==o?TW(E):this},dateIsInGroup:function(E,b){var D=d[b+1];return s.inRange(E,d[b][0],D?D[0]:i,"minutes")},nextSlot:function(E){var b=h[Math.min(h.findIndex(function(D){return D===E||s.eq(D,E)})+1,h.length-1)];return s.eq(b,E)&&(b=s.add(E,r,"minutes")),b},closestSlotToPosition:function(E){var b=Math.min(h.length-1,Math.max(0,Math.floor(E*c)));return h[b]},closestSlotFromPoint:function(E,b){var D=Math.abs(b.top-b.bottom);return this.closestSlotToPosition((E.y-b.top)/D)},closestSlotFromDate:function(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(E,e,"minutes"))return h[0];if(s.gt(E,i,"minutes"))return h[h.length-1];var D=s.diff(e,E,"minutes");return h[(D-D%r)/r+b]},startsBeforeDay:function(E){return s.lt(E,e,"day")},startsAfterDay:function(E){return s.gt(E,i,"day")},startsBefore:function(E){return s.lt(s.merge(e,E),e,"minutes")},startsAfter:function(E){return s.gt(s.merge(i,E),i,"minutes")},getRange:function(E,b,D,P){D||(E=s.min(i,s.max(e,E))),P||(b=s.min(i,s.max(e,b)));var O=y(E),N=y(b),_=N>r*c&&!s.eq(i,b)?(O-r)/(r*c)*100:O/(r*c)*100;return{top:_,height:N/(r*c)*100-_,start:y(E),startDate:E,end:y(b),endDate:b}},getCurrentTimePosition:function(E){var b=y(E),D=b/(r*c)*100;return D}}}var met=function(){function t(e,i){var r=i.accessors,n=i.slotMetrics;Rn(this,t);var s=n.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,u=s.endDate,c=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+u,this.top=c,this.height=d,this.data=e}return Tn(t,[{key:"_width",get:function(){if(this.rows){var i=this.rows.reduce(function(n,s){return Math.max(n,s.leaves.length+1)},0)+1;return 100/i}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var i=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:i;var n=this.row.leaves,s=n.indexOf(this);return s===n.length-1?i:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var i=this.row,r=i.leaves,n=i.xOffset,s=i._width,o=r.indexOf(this)+1;return n+o*s}}]),t}();function vet(t,e,i){return Math.abs(e.start-t.start)<i||e.start>t.start&&e.start<t.end}function Cet(t){for(var e=SM(t,["startMs",function(a){return-a.endMs}]),i=[];e.length>0;){var r=e.shift();i.push(r);for(var n=0;n<e.length;n++){var s=e[n];if(!(r.endMs>s.startMs)){if(n>0){var o=e.splice(n,1)[0];i.push(o)}break}}}return i}function wae(t){for(var e=t.events,i=t.minimumStartDifference,r=t.slotMetrics,n=t.accessors,s=e.map(function(c){return new met(c,{slotMetrics:r,accessors:n})}),o=Cet(s),a=[],l=function(){var d=o[u],h=a.find(function(v){return v.end>d.start||Math.abs(d.start-v.start)<i});if(!h)return d.rows=[],a.push(d),1;d.container=h;for(var f=null,g=h.rows.length-1;!f&&g>=0;g--)vet(h.rows[g],d,i)&&(f=h.rows[g]);f?(f.leaves.push(d),d.row=f):(d.leaves=[],h.rows.push(d))},u=0;u<o.length;u++)l();return o.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function Eae(t,e,i){for(var r=0;r<t.friends.length;++r)if(!(i.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,i.push(t.friends[r]);var n=Eae(t.friends[r],e,i);e=e>n?e:n}return e}function yet(t){var e=t.events,i=t.minimumStartDifference,r=t.slotMetrics,n=t.accessors,s=wae({events:e,minimumStartDifference:i,slotMetrics:r,accessors:n});s.sort(function(K,j){return K=K.style,j=j.style,K.top!==j.top?K.top>j.top?1:-1:K.height!==j.height?K.top+K.height<j.top+j.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],u=l.style.top,c=l.style.top+l.style.height,d=a+1;d<s.length;++d){var h=s[d],f=h.style.top,g=h.style.top+h.style.height;(f>=u&&g<=c||g>u&&g<=c||f>=u&&f<c)&&(l.friends.push(h),h.friends.push(l))}for(var v=0;v<s.length;++v){for(var C=s[v],S=[],y=0;y<100;++y)S.push(1);for(var w=0;w<C.friends.length;++w)C.friends[w].idx!==void 0&&(S[C.friends[w].idx]=0);C.idx=S.indexOf(1)}for(var E=0;E<s.length;++E){var b=0;if(!s[E].size){var D=[],P=Eae(s[E],0,D);b=100/(P+1),s[E].size=b;for(var O=0;O<D.length;++O)D[O].size=b}}for(var N=0;N<s.length;++N){var _=s[N];_.style.left=_.idx*_.size;for(var L=0,k=0;k<_.friends.length;++k){var $=_.friends[k].idx;L=L>$?L:$}L<=_.idx&&(_.size=100-_.idx*_.size);var U=_.idx===0?0:3;_.style.width="calc(".concat(_.size,"% - ").concat(U,"px)"),_.style.height="calc(".concat(_.style.height,"% - 2px)"),_.style.xOffset="calc(".concat(_.style.left,"% + ").concat(U,"px)")}return s}var NY={overlap:wae,"no-overlap":yet};function wet(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Eet(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,i=e;return e in NY&&(i=NY[e]),wet(i)?i.apply(this,arguments):[]}var bae=function(t){_s(e,t);function e(){return Rn(this,e),Ls(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,u=l===void 0?{}:l,c=u.timeSlotWrapper,d=c===void 0?Xu:c,h=a?a.slotGroupProp(o):{};return W.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(f,g){var v=a?a.slotProp(f,s):{};return W.createElement(d,{key:g,value:f,resource:s},W.createElement("div",Object.assign({},v,{className:an("rbc-time-slot",v.className)}),n&&n(f,g)))}))}}]),e}(T.Component);function VT(t){return typeof t=="string"?t:t+"%"}function bet(t){var e=t.style,i=t.className,r=t.event,n=t.accessors,s=t.rtl,o=t.selected,a=t.label,l=t.continuesPrior,u=t.continuesAfter,c=t.getters,d=t.onClick,h=t.onDoubleClick,f=t.isBackgroundEvent,g=t.onKeyPress,v=t.components,C=v.event,S=v.eventWrapper,y=n.title(r),w=n.tooltip(r),E=n.end(r),b=n.start(r),D=c.eventProp(r,b,E,o),P=[W.createElement("div",{key:"1",className:"rbc-event-label"},a),W.createElement("div",{key:"2",className:"rbc-event-content"},C?W.createElement(C,{event:r,title:y}):y)],O=e.height,N=e.top,_=e.width,L=e.xOffset,k=Fi(Fi({},D.style),{},Jh({top:VT(N),height:VT(O),width:VT(_)},s?"right":"left",VT(L)));return W.createElement(S,Object.assign({type:"time"},t),W.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:h,style:k,onKeyDown:g,title:w?(typeof a=="string"?a+": ":"")+w:void 0,className:an(f?"rbc-background-event":"rbc-event",i,D.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},P))}var Ret=function(e){var i=e.children,r=e.className,n=e.style,s=e.innerRef;return W.createElement("div",{className:r,style:n,ref:s},i)},Tet=W.forwardRef(function(t,e){return W.createElement(Ret,Object.assign({},t,{innerRef:e}))}),Det=["dayProp"],Pet=["eventContainerWrapper"],Rae=function(t){_s(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Ls(this,e,[].concat(n)),i.state={selecting:!1,timeIndicatorPosition:null},i.intervalTriggered=!1,i.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,u=i.props,c=u.rtl,d=u.selected,h=u.accessors,f=u.localizer,g=u.getters,v=u.components,C=u.step,S=u.timeslots,y=u.dayLayoutAlgorithm,w=u.resizable,E=VV(i),b=E.slotMetrics,D=f.messages,P=Eet({events:a,accessors:h,slotMetrics:b,minimumStartDifference:Math.ceil(C*S/2),dayLayoutAlgorithm:y});return P.map(function(O,N){var _=O.event,L=O.style,k=h.end(_),$=h.start(_),U="eventTimeRangeFormat",K,j=b.startsBeforeDay($),Q=b.startsAfterDay(k);j?U="eventTimeRangeEndFormat":Q&&(U="eventTimeRangeStartFormat"),j&&Q?K=D.allDay:K=f.format({start:$,end:k},U);var H=j||b.startsBefore($),X=Q||b.startsAfter(k);return W.createElement(bet,{style:L,event:_,label:K,key:"evt_"+N,getters:g,rtl:c,components:v,continuesPrior:H,continuesAfter:X,accessors:h,resource:i.props.resource,selected:bM(_,d),onClick:function(le){return i._select(Fi(Fi(Fi({},_),i.props.resource&&{sourceResource:i.props.resource}),l&&{isBackgroundEvent:!0}),le)},onDoubleClick:function(le){return i._doubleClick(_,le)},isBackgroundEvent:l,onKeyPress:function(le){return i._keyPress(_,le)},resizable:w})})},i._selectable=function(){var o=i.containerRef.current,a=i.props,l=a.longPressThreshold,u=a.localizer,c=i._selector=new pae(function(){return o},{longPressThreshold:l}),d=function(v){var C=i.props.onSelecting,S=i.state||{},y=h(v),w=y.startDate,E=y.endDate;C&&(u.eq(S.startDate,w,"minutes")&&u.eq(S.endDate,E,"minutes")||C({start:w,end:E,resourceId:i.props.resource})===!1)||(i.state.start!==y.start||i.state.end!==y.end||i.state.selecting!==y.selecting)&&i.setState(y)},h=function(v){var C=i.slotMetrics.closestSlotFromPoint(v,ff(o));i.state.selecting||(i._initialSlot=C);var S=i._initialSlot;u.lte(S,C)?C=i.slotMetrics.nextSlot(C):u.gt(S,C)&&(S=i.slotMetrics.nextSlot(S));var y=i.slotMetrics.getRange(u.min(S,C),u.max(S,C));return Fi(Fi({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},f=function(v,C){if(!Ux(i.containerRef.current,v)){var S=h(v),y=S.startDate,w=S.endDate;i._selectSlot({startDate:y,endDate:w,action:C,box:v})}i.setState({selecting:!1})};c.on("selecting",d),c.on("selectStart",d),c.on("beforeSelect",function(g){if(i.props.selectable==="ignoreEvents")return!Ux(i.containerRef.current,g)}),c.on("click",function(g){return f(g,"click")}),c.on("doubleClick",function(g){return f(g,"doubleClick")}),c.on("select",function(g){i.state.selecting&&(i._selectSlot(Fi(Fi({},i.state),{},{action:"select",bounds:g})),i.setState({selecting:!1}))}),c.on("reset",function(){i.state.selecting&&i.setState({selecting:!1})})},i._teardownSelectable=function(){i._selector&&(i._selector.teardown(),i._selector=null)},i._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,u=o.action,c=o.bounds,d=o.box,h=a,f=[];i.props.localizer.lte(h,l);)f.push(h),h=new Date(+h+i.props.step*60*1e3);ur(i.props.onSelectSlot,{slots:f,start:a,end:l,resourceId:i.props.resource,action:u,bounds:c,box:d})},i._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onSelectEvent,a)},i._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onDoubleClickEvent,a)},i._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onKeyPressEvent,a)},i.slotMetrics=TW(i.props),i.containerRef=T.createRef(),i}return Tn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,n){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,u=s.date,c=s.min,d=s.max,h=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||h){if(this.clearTimeIndicatorInterval(),a){var f=!h&&l.eq(r.date,u,"minutes")&&n.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(f)}}else a&&(l.neq(r.min,c,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!n&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,n=r.min,s=r.max,o=r.getNow,a=o();if(a>=n&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,n=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,u=r.accessors,c=r.localizer,d=r.getters,h=d.dayProp,f=Lu(d,Det),g=r.components,v=g.eventContainerWrapper,C=Lu(g,Pet);this.slotMetrics=this.slotMetrics.update(this.props);var S=this.slotMetrics,y=this.state,w=y.selecting,E=y.top,b=y.height,D=y.startDate,P=y.endDate,O={start:D,end:P},N=h(s),_=N.className,L=N.style,k=C.dayColumnWrapper||Tet;return W.createElement(k,{ref:this.containerRef,date:n,style:L,className:an(_,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:S},S.groups.map(function($,U){return W.createElement(bae,{key:U,group:$,resource:l,getters:f,components:C})}),W.createElement(v,{localizer:c,resource:l,accessors:u,getters:f,components:C,slotMetrics:S},W.createElement("div",{className:an("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&W.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:b}},W.createElement("span",null,c.format(O,"selectRangeFormat"))),a&&this.intervalTriggered&&W.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),e}(W.Component);Rae.defaultProps={dragThroughEvents:!0,timeslots:2};function xet(t){var e=t.min,i=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(i)?{start:r.add(e,-1,"day"),end:r.add(i,-1,"day")}:{start:e,end:i}}var Aet=function(e){var i=e.min,r=e.max,n=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,u=e.components,c=e.getters,d=e.gutterRef,h=u.timeGutterWrapper,f=T.useMemo(function(){return xet({min:i,max:r,localizer:o})},[i==null?void 0:i.toISOString(),r==null?void 0:r.toISOString(),o]),g=f.start,v=f.end,C=T.useState(TW({min:g,max:v,timeslots:n,step:s,localizer:o})),S=ec(C,2),y=S[0],w=S[1];T.useEffect(function(){y&&w(y.update({min:g,max:v,timeslots:n,step:s,localizer:o}))},[g==null?void 0:g.toISOString(),v==null?void 0:v.toISOString(),n,s]);var E=T.useCallback(function(b,D){if(D)return null;var P=y.dateIsInGroup(a(),D);return W.createElement("span",{className:an("rbc-label",P&&"rbc-now")},o.format(b,"timeGutterFormat"))},[y,o,a]);return W.createElement(h,{slotMetrics:y},W.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},y.groups.map(function(b,D){return W.createElement(bae,{key:D,group:b,resource:l,components:u,renderSlot:E,getters:c})})))},Oet=W.forwardRef(function(t,e){return W.createElement(Aet,Object.assign({gutterRef:e},t))}),Met=function(e){var i=e.label;return W.createElement(W.Fragment,null,i)},Fet=function(t){_s(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Ls(this,e,[].concat(n)),i.handleHeaderClick=function(o,a,l){l.preventDefault(),ur(i.props.onDrillDown,[o,a])},i.renderRow=function(o){var a=i.props,l=a.events,u=a.rtl,c=a.selectable,d=a.getNow,h=a.range,f=a.getters,g=a.localizer,v=a.accessors,C=a.components,S=a.resizable,y=v.resourceId(o),w=o?l.filter(function(E){return v.resource(E)===y}):l;return W.createElement(zx,{isAllDay:!0,rtl:u,getNow:d,minRows:2,maxRows:i.props.allDayMaxRows+1,range:h,events:w,resourceId:y,className:"rbc-allday-cell",selectable:c,selected:i.props.selected,components:C,accessors:v,getters:f,localizer:g,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyPress:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:S})},i}return Tn(e,[{key:"renderHeaderCells",value:function(r){var n=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,c=s.components.header,d=c===void 0?Sae:c,h=l();return r.map(function(f,g){var v=a(f),C=o.format(f,"dayFormat"),S=u(f),y=S.className,w=S.style,E=W.createElement(d,{date:f,label:C,localizer:o});return W.createElement("div",{key:g,style:w,className:an("rbc-header",y,o.isSameDate(f,h)&&"rbc-today")},v?W.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return n.handleHeaderClick(f,v,D)}},E):W.createElement("span",null,E))})}},{key:"render",value:function(){var r=this,n=this.props,s=n.width,o=n.rtl,a=n.resources,l=n.range,u=n.events,c=n.getNow,d=n.accessors,h=n.selectable,f=n.components,g=n.getters,v=n.scrollRef,C=n.localizer,S=n.isOverflowing,y=n.components,w=y.timeGutterHeader,E=y.resourceHeader,b=E===void 0?Met:E,D=n.resizable,P={};S&&(P[o?"marginLeft":"marginRight"]="".concat(coe()-1,"px"));var O=a.groupEvents(u);return W.createElement("div",{style:P,ref:v,className:an("rbc-time-header",S&&"rbc-overflowing")},W.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},w&&W.createElement(w,null)),a.map(function(N,_){var L=ec(N,2),k=L[0],$=L[1];return W.createElement("div",{className:"rbc-time-header-content",key:k||_},$&&W.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(_)},W.createElement("div",{className:"rbc-header"},W.createElement(b,{index:_,label:d.resourceTitle($),resource:$}))),W.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),W.createElement(zx,{isAllDay:!0,rtl:o,getNow:c,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:O.get(k)||[],resourceId:$&&k,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:f,accessors:d,getters:g,localizer:C,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:D}))}))}}]),e}(W.Component),e_={};function Iet(t,e){return{map:function(r){return t?t.map(function(n,s){return r([e.resourceId(n),n],s)}):[r([e_,null],0)]},groupEvents:function(r){var n=new Map;return t?(r.forEach(function(s){var o=e.resource(s)||e_;if(Array.isArray(o))o.forEach(function(l){var u=n.get(l)||[];u.push(s),n.set(l,u)});else{var a=n.get(o)||[];a.push(s),n.set(o,a)}}),n):(n.set(e_,r),n)}}}var DC=function(t){_s(e,t);function e(i){var r;return Rn(this,e),r=Ls(this,e,[i]),r.handleScroll=function(n){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=n.target.scrollLeft)},r.handleResize=function(){M4(r.rafHandle),r.rafHandle=uoe(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];ur(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];ur(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];ur(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(n,s,o,a,l){var u=r.props,c=u.popup,d=u.onDrillDown,h=u.onShowMore,f=u.getDrilldownView,g=u.doShowMoreDrillDown;if(r.clearSelection(),c){var v=loe(o,r.containerRef.current);r.setState({overlay:{date:s,events:n,position:Fi(Fi({},v),{},{width:"200px"}),target:l}})}else g&&ur(d,[s,f(s)||Xn.DAY]);ur(h,[n,s,a])},r.handleSelectAllDaySlot=function(n,s){var o=r.props.onSelectSlot,a=new Date(n[0]),l=new Date(n[n.length-1]);l.setDate(n[n.length-1].getDate()+1),ur(o,{slots:n,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var n=r.contentRef.current;if(n!=null&&n.scrollHeight){var s=n.scrollHeight>n.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=_oe(function(n,s){return Iet(n,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=W.createRef(),r.contentRef=W.createRef(),r.containerRef=W.createRef(),r._scrollRatio=null,r.gutterRef=T.createRef(),r}return Tn(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),M4(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,n,s,o){var a=this,l=this.props,u=l.min,c=l.max,d=l.components,h=l.accessors,f=l.localizer,g=l.dayLayoutAlgorithm,v=this.memoizedResources(this.props.resources,h),C=v.groupEvents(n),S=v.groupEvents(s);return v.map(function(y,w){var E=ec(y,2),b=E[0],D=E[1];return r.map(function(P,O){var N=(C.get(b)||[]).filter(function(L){return f.inRange(P,h.start(L),h.end(L),"day")}),_=(S.get(b)||[]).filter(function(L){return f.inRange(P,h.start(L),h.end(L),"day")});return W.createElement(Rae,Object.assign({},a.props,{localizer:f,min:f.merge(P,u),max:f.merge(P,c),resource:D&&b,components:d,isNow:f.isSameDate(P,o),key:w+"-"+O,date:P,events:N,backgroundEvents:_,dayLayoutAlgorithm:g}))})})}},{key:"render",value:function(){var r,n=this.props,s=n.events,o=n.backgroundEvents,a=n.range,l=n.width,u=n.rtl,c=n.selected,d=n.getNow,h=n.resources,f=n.components,g=n.accessors,v=n.getters,C=n.localizer,S=n.min,y=n.max,w=n.showMultiDayTimes,E=n.longPressThreshold,b=n.resizable;l=l||this.state.gutterWidth;var D=a[0],P=a[a.length-1];this.slots=a.length;var O=[],N=[],_=[];return s.forEach(function(L){if(eE(L,D,P,g,C)){var k=g.start(L),$=g.end(L);g.allDay(L)||C.startAndEndAreDateOnly(k,$)||!w&&!C.isSameDate(k,$)?O.push(L):N.push(L)}}),o.forEach(function(L){eE(L,D,P,g,C)&&_.push(L)}),O.sort(function(L,k){return lG(L,k,g,C)}),W.createElement("div",{className:an("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},W.createElement(Fet,{range:a,events:O,width:l,rtl:u,getNow:d,localizer:C,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,g),selectable:this.props.selectable,accessors:g,getters:v,components:f,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b}),this.props.popup&&this.renderOverlay(),W.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},W.createElement(Oet,{date:D,ref:this.gutterRef,localizer:C,min:C.merge(D,S),max:C.merge(D,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:f,className:"rbc-time-gutter",getters:v}),this.renderEvents(a,N,_,d())))}},{key:"renderOverlay",value:function(){var r,n,s=this,o=(r=(n=this.state)===null||n===void 0?void 0:n.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,g=a.handleDragStart,v=function(){return s.setState({overlay:null})};return W.createElement(RW,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var n,s=(n=r.gutterRef)!==null&&n!==void 0&&n.current?oG(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,n),o,"milliseconds"),u=a.diff(n,s,"milliseconds");this._scrollRatio=l/u}}]),e}(T.Component);DC.defaultProps={step:30,timeslots:2};var Let=["date","localizer","min","max","scrollToTime","enableAutoScroll"],TM=function(t){_s(e,t);function e(){return Rn(this,e),Ls(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,g=Lu(r,Let),v=e.range(n,{localizer:s});return W.createElement(DC,Object.assign({},g,{range:v,eventOffset:10,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),e}(W.Component);TM.range=function(t,e){var i=e.localizer;return[i.startOf(t,"day")]};TM.navigate=function(t,e,i){var r=i.localizer;switch(e){case ro.PREVIOUS:return r.add(t,-1,"day");case ro.NEXT:return r.add(t,1,"day");default:return t}};TM.title=function(t,e){var i=e.localizer;return i.format(t,"dayHeaderFormat")};var _et=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Jd=function(t){_s(e,t);function e(){return Rn(this,e),Ls(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,g=Lu(r,_et),v=e.range(n,this.props);return W.createElement(DC,Object.assign({},g,{range:v,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),e}(W.Component);Jd.defaultProps=DC.defaultProps;Jd.navigate=function(t,e,i){var r=i.localizer;switch(e){case ro.PREVIOUS:return r.add(t,-1,"week");case ro.NEXT:return r.add(t,1,"week");default:return t}};Jd.range=function(t,e){var i=e.localizer,r=i.startOfWeek(),n=i.startOf(t,"week",r),s=i.endOf(t,"week",r);return i.range(n,s)};Jd.title=function(t,e){var i=e.localizer,r=Jd.range(t,{localizer:i}),n=Boe(r),s=n[0],o=n.slice(1);return i.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Net=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function DW(t,e){return Jd.range(t,e).filter(function(i){return[6,0].indexOf(i.getDay())===-1})}var Jb=function(t){_s(e,t);function e(){return Rn(this,e),Ls(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,g=Lu(r,Net),v=DW(n,this.props);return W.createElement(DC,Object.assign({},g,{range:v,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),e}(W.Component);Jb.defaultProps=DC.defaultProps;Jb.range=DW;Jb.navigate=Jd.navigate;Jb.title=function(t,e){var i=e.localizer,r=DW(t,{localizer:i}),n=Boe(r),s=n[0],o=n.slice(1);return i.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};function eh(t){var e=t.accessors,i=t.components,r=t.date,n=t.events,s=t.getters,o=t.length,a=t.localizer,l=t.onDoubleClickEvent,u=t.onSelectEvent,c=t.selected,d=T.useRef(null),h=T.useRef(null),f=T.useRef(null),g=T.useRef(null),v=T.useRef(null);T.useEffect(function(){y()});var C=function(P,O,N){var _=i.event,L=i.date;return O=O.filter(function(k){return eE(k,a.startOf(P,"day"),a.endOf(P,"day"),e,a)}),O.map(function(k,$){var U=e.title(k),K=e.end(k),j=e.start(k),Q=s.eventProp(k,j,K,bM(k,c)),H=$===0&&a.format(P,"agendaDateFormat"),X=$===0?W.createElement("td",{rowSpan:O.length,className:"rbc-agenda-date-cell"},L?W.createElement(L,{day:P,label:H}):H):!1;return W.createElement("tr",{key:N+"_"+$,className:Q.className,style:Q.style},X,W.createElement("td",{className:"rbc-agenda-time-cell"},S(P,k)),W.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(le){return u&&u(k,le)},onDoubleClick:function(le){return l&&l(k,le)}},_?W.createElement(_,{event:k,title:U}):U))},[])},S=function(P,O){var N="",_=i.time,L=a.messages.allDay,k=e.end(O),$=e.start(O);return e.allDay(O)||(a.eq($,k)?L=a.format($,"agendaTimeFormat"):a.isSameDate($,k)?L=a.format({start:$,end:k},"agendaTimeRangeFormat"):a.isSameDate(P,$)?L=a.format($,"agendaTimeFormat"):a.isSameDate(P,k)&&(L=a.format(k,"agendaTimeFormat"))),a.gt(P,$,"day")&&(N="rbc-continues-prior"),a.lt(P,k,"day")&&(N+=" rbc-continues-after"),W.createElement("span",{className:N.trim()},_?W.createElement(_,{event:O,day:P,label:L}):L)},y=function(){if(v.current){var P=d.current,O=v.current.firstChild;if(O){var N=g.current.scrollHeight>g.current.clientHeight,_=[],L=_;_=[oG(O.children[0]),oG(O.children[1])],(L[0]!==_[0]||L[1]!==_[1])&&(h.current.style.width=_[0]+"px",f.current.style.width=_[1]+"px"),N?(xQ(P,"rbc-header-overflowing"),P.style.marginRight=coe()+"px"):AQ(P,"rbc-header-overflowing")}}},w=a.messages,E=a.add(r,o,"day"),b=a.range(r,E,"day");return n=n.filter(function(D){return eE(D,a.startOf(r,"day"),a.endOf(E,"day"),e,a)}),n.sort(function(D,P){return+e.start(D)-+e.start(P)}),W.createElement("div",{className:"rbc-agenda-view"},n.length!==0?W.createElement(W.Fragment,null,W.createElement("table",{ref:d,className:"rbc-agenda-table"},W.createElement("thead",null,W.createElement("tr",null,W.createElement("th",{className:"rbc-header",ref:h},w.date),W.createElement("th",{className:"rbc-header",ref:f},w.time),W.createElement("th",{className:"rbc-header"},w.event)))),W.createElement("div",{className:"rbc-agenda-content",ref:g},W.createElement("table",{className:"rbc-agenda-table"},W.createElement("tbody",{ref:v},b.map(function(D,P){return C(D,n,P)}))))):W.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}eh.defaultProps={length:30};eh.range=function(t,e){var i=e.length,r=i===void 0?eh.defaultProps.length:i,n=e.localizer,s=n.add(t,r,"day");return{start:t,end:s}};eh.navigate=function(t,e,i){var r=i.length,n=r===void 0?eh.defaultProps.length:r,s=i.localizer;switch(e){case ro.PREVIOUS:return s.add(t,-n,"day");case ro.NEXT:return s.add(t,n,"day");default:return t}};eh.title=function(t,e){var i=e.length,r=i===void 0?eh.defaultProps.length:i,n=e.localizer,s=n.add(t,r,"day");return n.format({start:t,end:s},"agendaHeaderFormat")};var KD=Jh(Jh(Jh(Jh(Jh({},Xn.MONTH,RM),Xn.WEEK,Jd),Xn.WORK_WEEK,Jb),Xn.DAY,TM),Xn.AGENDA,eh),Get=["action","date","today"];function ket(t,e){var i=e.action,r=e.date,n=e.today,s=Lu(e,Get);switch(t=typeof t=="string"?KD[t]:t,i){case ro.TODAY:r=n||new Date;break;case ro.DATE:break;default:Ww(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,i,s)}return r}var Vet=function(t){_s(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Ls(this,e,[].concat(n)),i.navigate=function(o){i.props.onNavigate(o)},i.view=function(o){i.props.onView(o)},i}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.localizer.messages,s=r.label;return W.createElement("div",{className:"rbc-toolbar"},W.createElement("span",{className:"rbc-btn-group"},W.createElement("button",{type:"button",onClick:this.navigate.bind(null,ro.TODAY)},n.today),W.createElement("button",{type:"button",onClick:this.navigate.bind(null,ro.PREVIOUS)},n.previous),W.createElement("button",{type:"button",onClick:this.navigate.bind(null,ro.NEXT)},n.next)),W.createElement("span",{className:"rbc-toolbar-label"},s),W.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(n)))}},{key:"viewNamesGroup",value:function(r){var n=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return W.createElement("button",{type:"button",key:a,className:an({"rbc-active":o===a}),onClick:n.view.bind(null,a)},r[a])})}}]),e}(W.Component);function Het(t,e){var i=null;return typeof e=="function"?i=e(t):typeof e=="string"&&mc(t)==="object"&&t!=null&&e in t&&(i=t[e]),i}var dd=function(e){return function(i){return Het(i,e)}},$et=["view","date","getNow","onNavigate"],Bet=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Tae(t){if(Array.isArray(t))return t;for(var e=[],i=0,r=Object.entries(t);i<r.length;i++){var n=ec(r[i],2),s=n[0],o=n[1];o&&e.push(s)}return e}function Wet(t,e){var i=e.views,r=Tae(i);return r.indexOf(t)!==-1}var Dae=function(t){_s(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Ls(this,e,[].concat(n)),i.getViews=function(){var o=i.props.views;return Array.isArray(o)?cJe(o,function(a,l){return a[l]=KD[l]},{}):mc(o)==="object"?tae(o,function(a,l){return a===!0?KD[l]:a}):KD},i.getView=function(){var o=i.getViews();return o[i.props.view]},i.getDrilldownView=function(o){var a=i.props,l=a.view,u=a.drilldownView,c=a.getDrilldownView;return c?c(o,l,Object.keys(i.getViews())):u},i.handleRangeChange=function(o,a,l){var u=i.props,c=u.onRangeChange,d=u.localizer;c&&a.range&&c(a.range(o,{localizer:d}),l)},i.handleNavigate=function(o,a){var l=i.props,u=l.view,c=l.date,d=l.getNow,h=l.onNavigate,f=Lu(l,$et),g=i.getView(),v=d();c=ket(g,Fi(Fi({},f),{},{action:o,date:a||c||v,today:v})),h(c,u,o),i.handleRangeChange(c,g)},i.handleViewChange=function(o){o!==i.props.view&&Wet(o,i.props)&&i.props.onView(o);var a=i.getViews();i.handleRangeChange(i.props.date||i.props.getNow(),a[o],o)},i.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onSelectEvent,a)},i.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onDoubleClickEvent,a)},i.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onKeyPressEvent,a)},i.handleSelectSlot=function(o){ur(i.props.onSelectSlot,o)},i.handleDrillDown=function(o,a){var l=i.props.onDrillDown;if(l){l(o,a,i.drilldownView);return}a&&i.handleViewChange(a),i.handleNavigate(ro.DATE,o)},i.state={context:e.getContext(i.props)},i}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.style,u=r.className,c=r.elementProps,d=r.date,h=r.getNow,f=r.length,g=r.showMultiDayTimes,v=r.onShowMore,C=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var S=Lu(r,Bet);d=d||h();var y=this.getView(),w=this.state.context,E=w.accessors,b=w.components,D=w.getters,P=w.localizer,O=w.viewNames,N=b.toolbar||Vet,_=y.title(d,{localizer:P,length:f});return W.createElement("div",Object.assign({},c,{className:an(u,"rbc-calendar",S.rtl&&"rbc-rtl"),style:l}),s&&W.createElement(N,{date:d,view:n,views:O,label:_,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:P}),W.createElement(y,Object.assign({},S,{events:o,backgroundEvents:a,date:d,getNow:h,length:f,localizer:P,getters:D,components:b,accessors:E,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:C})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var n=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,c=r.resourceIdAccessor,d=r.resourceTitleAccessor,h=r.eventPropGetter,f=r.backgroundEventPropGetter,g=r.slotPropGetter,v=r.slotGroupPropGetter,C=r.dayPropGetter,S=r.view,y=r.views,w=r.localizer,E=r.culture,b=r.messages,D=b===void 0?{}:b,P=r.components,O=P===void 0?{}:P,N=r.formats,_=N===void 0?{}:N,L=Tae(y),k=zJe(D);return{viewNames:L,localizer:WJe(w,E,_,k),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return f&&f.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return C&&C.apply(void 0,arguments)||{}}},components:QZe(O[S]||{},WZe(O,L),{eventWrapper:Xu,backgroundEventWrapper:Xu,eventContainerWrapper:Xu,dateCellWrapper:Xu,weekWrapper:Xu,timeSlotWrapper:Xu,timeGutterWrapper:Xu}),accessors:{start:dd(n),end:dd(s),allDay:dd(o),tooltip:dd(a),title:dd(l),resource:dd(u),resourceId:dd(c),resourceTitle:dd(d)}}}}]),e}(W.Component);Dae.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Xn.MONTH,views:[Xn.MONTH,Xn.WEEK,Xn.DAY,Xn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Xn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Uet=Use(Dae,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),zet=function(e,i,r){var n=e.start,s=e.end;return r.format(n,"MMMM DD",i)+"  "+r.format(s,r.eq(n,s,"month")?"DD":"MMMM DD",i)},jet=function(e,i,r){var n=e.start,s=e.end;return r.format(n,"L",i)+"  "+r.format(s,"L",i)},t_=function(e,i,r){var n=e.start,s=e.end;return r.format(n,"LT",i)+"  "+r.format(s,"LT",i)},Ket=function(e,i,r){var n=e.start;return r.format(n,"LT",i)+"  "},Yet=function(e,i,r){var n=e.end;return"  "+r.format(n,"LT",i)},qet={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:t_,eventTimeRangeFormat:t_,eventTimeRangeStartFormat:Ket,eventTimeRangeEndFormat:Yet,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:zet,agendaHeaderFormat:jet,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:t_};function hd(t){var e=t&&t.toLowerCase();return e==="FullYear"?e="year":e||(e=void 0),e}function Xet(t){t.extend(sse),t.extend(vJe),t.extend(yJe),t.extend(wJe),t.extend(rse),t.extend(bJe),t.extend(TJe);var e=function(ie,ue){return ue?ie.locale(ue):ie},i=t.tz?t.tz:t;function r(J){return i(J).toDate().getTimezoneOffset()}function n(J,ie){var ue,me=i(J),se=i(ie);if(!i.tz)return me.toDate().getTimezoneOffset()-se.toDate().getTimezoneOffset();var he=(ue=me.tz().$x.$timezone)!==null&&ue!==void 0?ue:t.tz.guess(),Ee=-i.tz(+me,he).utcOffset(),pe=-i.tz(+se,he).utcOffset();return Ee-pe}function s(J){var ie=i(J).startOf("day");return n(ie,J)}function o(J,ie,ue){var me=hd(ue),se=me?i(J).startOf(me):i(J),he=me?i(ie).startOf(me):i(ie);return[se,he,me]}function a(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ie=arguments.length>1?arguments[1]:void 0,ue=hd(ie);return ue?i(J).startOf(ue).toDate():i(J).toDate()}function l(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ie=arguments.length>1?arguments[1]:void 0,ue=hd(ie);return ue?i(J).endOf(ue).toDate():i(J).toDate()}function u(J,ie,ue){var me=o(J,ie,ue),se=ec(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isSame(Ee,pe)}function c(J,ie,ue){return!u(J,ie,ue)}function d(J,ie,ue){var me=o(J,ie,ue),se=ec(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isAfter(Ee,pe)}function h(J,ie,ue){var me=o(J,ie,ue),se=ec(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isBefore(Ee,pe)}function f(J,ie,ue){var me=o(J,ie,ue),se=ec(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isSameOrBefore(Ee,pe)}function g(J,ie,ue){var me=o(J,ie,ue),se=ec(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isSameOrBefore(Ee,pe)}function v(J,ie,ue){var me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",se=hd(me),he=i(J),Ee=i(ie),pe=i(ue);return he.isBetween(Ee,pe,se,"[]")}function C(J,ie){var ue=i(J),me=i(ie),se=t.min(ue,me);return se.toDate()}function S(J,ie){var ue=i(J),me=i(ie),se=t.max(ue,me);return se.toDate()}function y(J,ie){if(!J&&!ie)return null;var ue=i(ie).format("HH:mm:ss"),me=i(J).startOf("day").format("MM/DD/YYYY");return t("".concat(me," ").concat(ue),"MM/DD/YYYY HH:mm:ss").toDate()}function w(J,ie,ue){var me=hd(ue);return i(J).add(ie,me).toDate()}function E(J,ie){for(var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",me=hd(ue),se=i(J).toDate(),he=[];g(se,ie);)he.push(se),se=w(se,1,me);return he}function b(J,ie){var ue=hd(ie),me=a(J,ue);return u(me,J)?me:w(me,1,ue)}function D(J,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",me=hd(ue),se=i(J),he=i(ie);return he.diff(se,me)}function P(J){var ie=i(J);return ie.minutes()}function O(J){var ie=J?t.localeData(J):t.localeData();return ie?ie.firstDayOfWeek():0}function N(J){return i(J).startOf("month").startOf("week").toDate()}function _(J){return i(J).endOf("month").endOf("week").toDate()}function L(J){for(var ie=N(J),ue=_(J),me=[];g(ie,ue);)me.push(ie),ie=w(ie,1,"d");return me}function k(J,ie,ue){return i(J).startOf("day").minute(ie+ue).toDate()}function $(J,ie){return D(J,ie,"minutes")}function U(J){var ie=i(J).startOf("day"),ue=i(J);return ue.diff(ie,"minutes")+s(J)}function K(J,ie){var ue=i(J),me=i(ie);return ue.isBefore(me,"day")}function j(J,ie,ue){var me=i(ie),se=i(ue);return me.isSameOrAfter(se,"minutes")}function Q(J,ie){var ue=i(J),me=i(ie);return me.diff(ue,"day")}function H(J){var ie=J.evtA,ue=ie.start,me=ie.end,se=ie.allDay,he=J.evtB,Ee=he.start,pe=he.end,ye=he.allDay,Ce=+a(ue,"day")-+a(Ee,"day"),re=Q(ue,me),oe=Q(Ee,pe);return Ce||oe-re||!!ye-!!se||+ue-+Ee||+me-+pe}function X(J){var ie=J.event,ue=ie.start,me=ie.end,se=J.range,he=se.start,Ee=se.end,pe=i(ue).startOf("day"),ye=i(me),Ce=i(he),re=i(Ee),oe=pe.isSameOrBefore(re,"day"),fe=!pe.isSame(ye,"minutes"),we=fe?ye.isAfter(Ce,"minutes"):ye.isSameOrAfter(Ce,"minutes");return oe&&we}function te(J,ie){var ue=i(J),me=i(ie);return ue.isSame(me,"day")}function le(){var J=new Date,ie=/-/.test(J.toString())?"-":"",ue=J.getTimezoneOffset(),me=Number("".concat(ie).concat(Math.abs(ue))),se=i().utcOffset();return se>me?1:0}return new BJe({formats:qet,firstOfWeek:O,firstVisibleDay:N,lastVisibleDay:_,visibleDays:L,format:function(ie,ue,me){return e(i(ie),me).format(ue)},lt:h,lte:g,gt:d,gte:f,eq:u,neq:c,merge:y,inRange:v,startOf:a,endOf:l,range:E,add:w,diff:D,ceil:b,min:C,max:S,minutes:P,getSlotDate:k,getTimezoneOffset:r,getDstOffset:n,getTotalMin:$,getMinutesFromMidnight:U,continuesPrior:K,continuesAfter:j,sortEvents:H,inEventRange:X,isSameDate:te,browserTZOffset:le})}const Qet=Xet(or),Zet=()=>{T.useEffect(()=>{i()},[]);const[t,e]=T.useState([]),i=async()=>{try{const r=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/gettrainings");if(!r.ok)throw new Error("Error in fetch: "+r.statusText);const s=(await r.json()).map(o=>({start:or(o.date).toDate(),end:or(o.date).add(o.duration,"minute").toDate(),title:`${o.activity}/${o.customer.firstname} ${o.customer.lastname}`}));e(s)}catch(r){console.error(r)}};return Y.jsx("div",{className:"height600",children:Y.jsx(Uet,{defaultView:Xn.WEEK,localizer:Qet,events:t,startAccessor:"start",endAccessor:"end",style:{height:"90vh"}})})};function Jet(t){return t==null}var ett=Jet;const Si=Pt(ett);var ttt=qc,itt=ls,rtt=$l,ntt="[object String]";function stt(t){return typeof t=="string"||!itt(t)&&rtt(t)&&ttt(t)==ntt}var ott=stt;const eR=Pt(ott);var Pae={exports:{}},Pi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=typeof Symbol=="function"&&Symbol.for,PW=Dn?Symbol.for("react.element"):60103,xW=Dn?Symbol.for("react.portal"):60106,DM=Dn?Symbol.for("react.fragment"):60107,PM=Dn?Symbol.for("react.strict_mode"):60108,xM=Dn?Symbol.for("react.profiler"):60114,AM=Dn?Symbol.for("react.provider"):60109,OM=Dn?Symbol.for("react.context"):60110,AW=Dn?Symbol.for("react.async_mode"):60111,MM=Dn?Symbol.for("react.concurrent_mode"):60111,FM=Dn?Symbol.for("react.forward_ref"):60112,IM=Dn?Symbol.for("react.suspense"):60113,att=Dn?Symbol.for("react.suspense_list"):60120,LM=Dn?Symbol.for("react.memo"):60115,_M=Dn?Symbol.for("react.lazy"):60116,ltt=Dn?Symbol.for("react.block"):60121,utt=Dn?Symbol.for("react.fundamental"):60117,ctt=Dn?Symbol.for("react.responder"):60118,dtt=Dn?Symbol.for("react.scope"):60119;function Zo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case PW:switch(t=t.type,t){case AW:case MM:case DM:case xM:case PM:case IM:return t;default:switch(t=t&&t.$$typeof,t){case OM:case FM:case _M:case LM:case AM:return t;default:return e}}case xW:return e}}}function xae(t){return Zo(t)===MM}Pi.AsyncMode=AW;Pi.ConcurrentMode=MM;Pi.ContextConsumer=OM;Pi.ContextProvider=AM;Pi.Element=PW;Pi.ForwardRef=FM;Pi.Fragment=DM;Pi.Lazy=_M;Pi.Memo=LM;Pi.Portal=xW;Pi.Profiler=xM;Pi.StrictMode=PM;Pi.Suspense=IM;Pi.isAsyncMode=function(t){return xae(t)||Zo(t)===AW};Pi.isConcurrentMode=xae;Pi.isContextConsumer=function(t){return Zo(t)===OM};Pi.isContextProvider=function(t){return Zo(t)===AM};Pi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===PW};Pi.isForwardRef=function(t){return Zo(t)===FM};Pi.isFragment=function(t){return Zo(t)===DM};Pi.isLazy=function(t){return Zo(t)===_M};Pi.isMemo=function(t){return Zo(t)===LM};Pi.isPortal=function(t){return Zo(t)===xW};Pi.isProfiler=function(t){return Zo(t)===xM};Pi.isStrictMode=function(t){return Zo(t)===PM};Pi.isSuspense=function(t){return Zo(t)===IM};Pi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===DM||t===MM||t===xM||t===PM||t===IM||t===att||typeof t=="object"&&t!==null&&(t.$$typeof===_M||t.$$typeof===LM||t.$$typeof===AM||t.$$typeof===OM||t.$$typeof===FM||t.$$typeof===utt||t.$$typeof===ctt||t.$$typeof===dtt||t.$$typeof===ltt)};Pi.typeOf=Zo;Pae.exports=Pi;var uG=Pae.exports,htt=qc,ptt=$l,ftt="[object Number]";function gtt(t){return typeof t=="number"||ptt(t)&&htt(t)==ftt}var Aae=gtt;const mtt=Pt(Aae);var vtt=Aae;function Ctt(t){return vtt(t)&&t!=+t}var ytt=Ctt;const tR=Pt(ytt);var wl=function(e){return e===0?0:e>0?1:-1},up=function(e){return eR(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return mtt(e)&&!tR(e)},sn=function(e){return Ye(e)||eR(e)},Stt=0,NM=function(e){var i=++Stt;return"".concat(e||"").concat(i)},gf=function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!eR(e))return r;var s;if(up(e)){var o=e.indexOf("%");s=i*parseFloat(e.slice(0,o))/100}else s=+e;return tR(s)&&(s=r),n&&s>i&&(s=i),s},Vg=function(e){if(!e)return null;var i=Object.keys(e);return i&&i.length?e[i[0]]:null},wtt=function(e){if(!Array.isArray(e))return!1;for(var i=e.length,r={},n=0;n<i;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},bg=function(e,i){return Ye(e)&&Ye(i)?function(r){return e+r*(i-e)}:function(){return i}};function cG(t,e,i){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Fa(r,e))===i})}function bm(t,e){for(var i in t)if({}.hasOwnProperty.call(t,i)&&(!{}.hasOwnProperty.call(e,i)||t[i]!==e[i]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function dG(t){"@babel/helpers - typeof";return dG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dG(t)}var Ett=["viewBox","children"],btt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GY=["points","pathLength"],i_={svg:Ett,polygon:GY,polyline:GY},OW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jx=function(e,i){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),!vC(r))return null;var n={};return Object.keys(r).forEach(function(s){OW.includes(s)&&(n[s]=i||function(o){return r[s](r,o)})}),n},Rtt=function(e,i,r){return function(n){return e(i,r,n),null}},Kx=function(e,i,r){if(!vC(e)||dG(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(s){var o=e[s];OW.includes(s)&&typeof o=="function"&&(n||(n={}),n[s]=Rtt(o,i,r))}),n},Ttt=["children"],Dtt=["children"];function kY(t,e){if(t==null)return{};var i=Ptt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ptt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var VY={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},uc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},HY=null,r_=null,MW=function t(e){if(e===HY&&Array.isArray(r_))return r_;var i=[];return T.Children.forEach(e,function(r){Si(r)||(uG.isFragment(r)?i=i.concat(t(r.props.children)):i.push(r))}),r_=i,HY=e,i};function Dl(t,e){var i=[],r=[];return Array.isArray(e)?r=e.map(function(n){return uc(n)}):r=[uc(e)],MW(t).forEach(function(n){var s=Fa(n,"type.displayName")||Fa(n,"type.name");r.indexOf(s)!==-1&&i.push(n)}),i}function To(t,e){var i=Dl(t,e);return i&&i[0]}var $Y=function(e){if(!e||!e.props)return!1;var i=e.props,r=i.width,n=i.height;return!(!Ye(r)||r<=0||!Ye(n)||n<=0)},xtt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Att=function(e){return e&&e.type&&eR(e.type)&&xtt.indexOf(e.type)>=0},Ott=function(e,i,r,n){var s,o=(s=i_==null?void 0:i_[n])!==null&&s!==void 0?s:[];return!ei(e)&&(n&&o.includes(i)||btt.includes(i))||r&&OW.includes(i)},yi=function(e,i,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!vC(n))return null;var s={};return Object.keys(n).forEach(function(o){var a;Ott((a=n)===null||a===void 0?void 0:a[o],o,i,r)&&(s[o]=n[o])}),s},hG=function t(e,i){if(e===i)return!0;var r=T.Children.count(e);if(r!==T.Children.count(i))return!1;if(r===0)return!0;if(r===1)return BY(Array.isArray(e)?e[0]:e,Array.isArray(i)?i[0]:i);for(var n=0;n<r;n++){var s=e[n],o=i[n];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!BY(s,o))return!1}return!0},BY=function(e,i){if(Si(e)&&Si(i))return!0;if(!Si(e)&&!Si(i)){var r=e.props||{},n=r.children,s=kY(r,Ttt),o=i.props||{},a=o.children,l=kY(o,Dtt);return n&&a?bm(s,l)&&hG(n,a):!n&&!a?bm(s,l):!1}return!1},WY=function(e,i){var r=[],n={};return MW(e).forEach(function(s,o){if(Att(s))r.push(s);else if(s){var a=uc(s.type),l=i[a]||{},u=l.handler,c=l.once;if(u&&(!c||!n[a])){var d=u(s,a,o);r.push(d),n[a]=!0}}}),r},Mtt=function(e){var i=e&&e.type;return i&&VY[i]?VY[i]:null},Ftt=function(e,i){return MW(i).indexOf(e)},Itt=["children","width","height","viewBox","className","style","title","desc"];function pG(){return pG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},pG.apply(this,arguments)}function Ltt(t,e){if(t==null)return{};var i=_tt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _tt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function fG(t){var e=t.children,i=t.width,r=t.height,n=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,u=Ltt(t,Itt),c=n||{width:i,height:r,x:0,y:0},d=Le("recharts-surface",s);return W.createElement("svg",pG({},yi(u,!0,"svg"),{className:d,width:i,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),W.createElement("title",null,a),W.createElement("desc",null,l),e)}var Ntt=["children","className"];function gG(){return gG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},gG.apply(this,arguments)}function Gtt(t,e){if(t==null)return{};var i=ktt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ktt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Cn=W.forwardRef(function(t,e){var i=t.children,r=t.className,n=Gtt(t,Ntt),s=Le("recharts-layer",r);return W.createElement("g",gG({className:s},yi(n,!0),{ref:e}),i)}),Fp=function(e,i){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s]},Vtt=ZB;function Htt(t,e,i){var r=t.length;return i=i===void 0?r:i,!e&&i>=r?t:Vtt(t,e,i)}var $tt=Htt,Btt="\\ud800-\\udfff",Wtt="\\u0300-\\u036f",Utt="\\ufe20-\\ufe2f",ztt="\\u20d0-\\u20ff",jtt=Wtt+Utt+ztt,Ktt="\\ufe0e\\ufe0f",Ytt="\\u200d",qtt=RegExp("["+Ytt+Btt+jtt+Ktt+"]");function Xtt(t){return qtt.test(t)}var Oae=Xtt;function Qtt(t){return t.split("")}var Ztt=Qtt,Mae="\\ud800-\\udfff",Jtt="\\u0300-\\u036f",eit="\\ufe20-\\ufe2f",tit="\\u20d0-\\u20ff",iit=Jtt+eit+tit,rit="\\ufe0e\\ufe0f",nit="["+Mae+"]",mG="["+iit+"]",vG="\\ud83c[\\udffb-\\udfff]",sit="(?:"+mG+"|"+vG+")",Fae="[^"+Mae+"]",Iae="(?:\\ud83c[\\udde6-\\uddff]){2}",Lae="[\\ud800-\\udbff][\\udc00-\\udfff]",oit="\\u200d",_ae=sit+"?",Nae="["+rit+"]?",ait="(?:"+oit+"(?:"+[Fae,Iae,Lae].join("|")+")"+Nae+_ae+")*",lit=Nae+_ae+ait,uit="(?:"+[Fae+mG+"?",mG,Iae,Lae,nit].join("|")+")",cit=RegExp(vG+"(?="+vG+")|"+uit+lit,"g");function dit(t){return t.match(cit)||[]}var hit=dit,pit=Ztt,fit=Oae,git=hit;function mit(t){return fit(t)?git(t):pit(t)}var vit=mit,Cit=$tt,yit=Oae,Sit=vit,wit=Ioe;function Eit(t){return function(e){e=wit(e);var i=yit(e)?Sit(e):void 0,r=i?i[0]:e.charAt(0),n=i?Cit(i,1).join(""):e.slice(1);return r[t]()+n}}var bit=Eit,Rit=bit,Tit=Rit("toUpperCase"),Dit=Tit;const GM=Pt(Dit);function ki(t){return function(){return t}}const Gae=Math.cos,Yx=Math.sin,Bl=Math.sqrt,qx=Math.PI,kM=2*qx,CG=Math.PI,yG=2*CG,Kh=1e-6,Pit=yG-Kh;function kae(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function xit(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kae;const i=10**e;return function(r){this._+=r[0];for(let n=1,s=r.length;n<s;++n)this._+=Math.round(arguments[n]*i)/i+r[n]}}class Ait{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kae:xit(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,r,n){this._append`Q${+e},${+i},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,i,r,n,s,o){this._append`C${+e},${+i},${+r},${+n},${this._x1=+s},${this._y1=+o}`}arcTo(e,i,r,n,s){if(e=+e,i=+i,r=+r,n=+n,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=n-i,c=o-e,d=a-i,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(h>Kh)if(!(Math.abs(d*l-u*c)>Kh)||!s)this._append`L${this._x1=e},${this._y1=i}`;else{let f=r-o,g=n-a,v=l*l+u*u,C=f*f+g*g,S=Math.sqrt(v),y=Math.sqrt(h),w=s*Math.tan((CG-Math.acos((v+h-C)/(2*S*y)))/2),E=w/y,b=w/S;Math.abs(E-1)>Kh&&this._append`L${e+E*c},${i+E*d}`,this._append`A${s},${s},0,0,${+(d*f>c*g)},${this._x1=e+b*l},${this._y1=i+b*u}`}}arc(e,i,r,n,s,o){if(e=+e,i=+i,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(n),l=r*Math.sin(n),u=e+a,c=i+l,d=1^o,h=o?n-s:s-n;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Kh||Math.abs(this._y1-c)>Kh)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%yG+yG),h>Pit?this._append`A${r},${r},0,1,${d},${e-a},${i-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Kh&&this._append`A${r},${r},0,${+(h>=CG)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=i+r*Math.sin(s)}`)}rect(e,i,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function FW(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);e=r}return t},()=>new Ait(e)}function IW(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vae(t){this._context=t}Vae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function VM(t){return new Vae(t)}function Hae(t){return t[0]}function $ae(t){return t[1]}function Bae(t,e){var i=ki(!0),r=null,n=VM,s=null,o=FW(a);t=typeof t=="function"?t:t===void 0?Hae:ki(t),e=typeof e=="function"?e:e===void 0?$ae:ki(e);function a(l){var u,c=(l=IW(l)).length,d,h=!1,f;for(r==null&&(s=n(f=o())),u=0;u<=c;++u)!(u<c&&i(d=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,u,l),+e(d,u,l));if(f)return s=null,f+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ki(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ki(+l),a):e},a.defined=function(l){return arguments.length?(i=typeof l=="function"?l:ki(!!l),a):i},a.curve=function(l){return arguments.length?(n=l,r!=null&&(s=n(r)),a):n},a.context=function(l){return arguments.length?(l==null?r=s=null:s=n(r=l),a):r},a}function HT(t,e,i){var r=null,n=ki(!0),s=null,o=VM,a=null,l=FW(u);t=typeof t=="function"?t:t===void 0?Hae:ki(+t),e=typeof e=="function"?e:ki(e===void 0?0:+e),i=typeof i=="function"?i:i===void 0?$ae:ki(+i);function u(d){var h,f,g,v=(d=IW(d)).length,C,S=!1,y,w=new Array(v),E=new Array(v);for(s==null&&(a=o(y=l())),h=0;h<=v;++h){if(!(h<v&&n(C=d[h],h,d))===S)if(S=!S)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=f;--g)a.point(w[g],E[g]);a.lineEnd(),a.areaEnd()}S&&(w[h]=+t(C,h,d),E[h]=+e(C,h,d),a.point(r?+r(C,h,d):w[h],i?+i(C,h,d):E[h]))}if(y)return a=null,y+""||null}function c(){return Bae().defined(n).curve(o).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ki(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ki(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ki(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ki(+d),i=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ki(+d),u):e},u.y1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:ki(+d),u):i},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(i)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ki(!!d),u):n},u.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),u):s},u}class Wae{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}function Oit(t){return new Wae(t,!0)}function Mit(t){return new Wae(t,!1)}const LW={draw(t,e){const i=Bl(e/qx);t.moveTo(i,0),t.arc(0,0,i,0,kM)}},Fit={draw(t,e){const i=Bl(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},Uae=Bl(1/3),Iit=Uae*2,Lit={draw(t,e){const i=Bl(e/Iit),r=i*Uae;t.moveTo(0,-i),t.lineTo(r,0),t.lineTo(0,i),t.lineTo(-r,0),t.closePath()}},_it={draw(t,e){const i=Bl(e),r=-i/2;t.rect(r,r,i,i)}},Nit=.8908130915292852,zae=Yx(qx/10)/Yx(7*qx/10),Git=Yx(kM/10)*zae,kit=-Gae(kM/10)*zae,Vit={draw(t,e){const i=Bl(e*Nit),r=Git*i,n=kit*i;t.moveTo(0,-i),t.lineTo(r,n);for(let s=1;s<5;++s){const o=kM*s/5,a=Gae(o),l=Yx(o);t.lineTo(l*i,-a*i),t.lineTo(a*r-l*n,l*r+a*n)}t.closePath()}},n_=Bl(3),Hit={draw(t,e){const i=-Bl(e/(n_*3));t.moveTo(0,i*2),t.lineTo(-n_*i,-i),t.lineTo(n_*i,-i),t.closePath()}},ua=-.5,ca=Bl(3)/2,SG=1/Bl(12),$it=(SG/2+1)*3,Bit={draw(t,e){const i=Bl(e/$it),r=i/2,n=i*SG,s=r,o=i*SG+i,a=-s,l=o;t.moveTo(r,n),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(ua*r-ca*n,ca*r+ua*n),t.lineTo(ua*s-ca*o,ca*s+ua*o),t.lineTo(ua*a-ca*l,ca*a+ua*l),t.lineTo(ua*r+ca*n,ua*n-ca*r),t.lineTo(ua*s+ca*o,ua*o-ca*s),t.lineTo(ua*a+ca*l,ua*l-ca*a),t.closePath()}};function Wit(t,e){let i=null,r=FW(n);t=typeof t=="function"?t:ki(t||LW),e=typeof e=="function"?e:ki(e===void 0?64:+e);function n(){let s;if(i||(i=s=r()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),s)return i=null,s+""||null}return n.type=function(s){return arguments.length?(t=typeof s=="function"?s:ki(s),n):t},n.size=function(s){return arguments.length?(e=typeof s=="function"?s:ki(+s),n):e},n.context=function(s){return arguments.length?(i=s??null,n):i},n}function Xx(){}function Qx(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function jae(t){this._context=t}jae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uit(t){return new jae(t)}function Kae(t){this._context=t}Kae.prototype={areaStart:Xx,areaEnd:Xx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zit(t){return new Kae(t)}function Yae(t){this._context=t}Yae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jit(t){return new Yae(t)}function qae(t){this._context=t}qae.prototype={areaStart:Xx,areaEnd:Xx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Kit(t){return new qae(t)}function UY(t){return t<0?-1:1}function zY(t,e,i){var r=t._x1-t._x0,n=e-t._x1,s=(t._y1-t._y0)/(r||n<0&&-0),o=(i-t._y1)/(n||r<0&&-0),a=(s*n+o*r)/(r+n);return(UY(s)+UY(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function jY(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function s_(t,e,i){var r=t._x0,n=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,n+a*e,s-a,o-a*i,s,o)}function Zx(t){this._context=t}Zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s_(this,this._t0,jY(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,s_(this,jY(this,i=zY(this,t,e)),i);break;default:s_(this,this._t0,i=zY(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function Xae(t){this._context=new Qae(t)}(Xae.prototype=Object.create(Zx.prototype)).point=function(t,e){Zx.prototype.point.call(this,e,t)};function Qae(t){this._context=t}Qae.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,r,n,s){this._context.bezierCurveTo(e,t,r,i,s,n)}};function Yit(t){return new Zx(t)}function qit(t){return new Xae(t)}function Zae(t){this._context=t}Zae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var r=KY(t),n=KY(e),s=0,o=1;o<i;++s,++o)this._context.bezierCurveTo(r[0][s],n[0][s],r[1][s],n[1][s],t[o],e[o]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KY(t){var e,i=t.length-1,r,n=new Array(i),s=new Array(i),o=new Array(i);for(n[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)n[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(n[i-1]=2,s[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)r=n[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(n[i-1]=o[i-1]/s[i-1],e=i-2;e>=0;--e)n[e]=(o[e]-n[e+1])/s[e];for(s[i-1]=(t[i]+n[i-1])/2,e=0;e<i-1;++e)s[e]=2*t[e+1]-n[e+1];return[n,s]}function Xit(t){return new Zae(t)}function HM(t,e){this._context=t,this._t=e}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function Qit(t){return new HM(t,.5)}function Zit(t){return new HM(t,0)}function Jit(t){return new HM(t,1)}function gv(t,e){if((o=t.length)>1)for(var i=1,r,n,s=t[e[0]],o,a=s.length;i<o;++i)for(n=s,s=t[e[i]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function wG(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function ert(t,e){return t[e]}function trt(t){const e=[];return e.key=t,e}function irt(){var t=ki([]),e=wG,i=gv,r=ert;function n(s){var o=Array.from(t.apply(this,arguments),trt),a,l=o.length,u=-1,c;for(const d of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(d,o[a].key,u,s)]).data=d;for(a=0,c=IW(e(o));a<l;++a)o[c[a]].index=a;return i(o,c),o}return n.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ki(Array.from(s)),n):t},n.value=function(s){return arguments.length?(r=typeof s=="function"?s:ki(+s),n):r},n.order=function(s){return arguments.length?(e=s==null?wG:typeof s=="function"?s:ki(Array.from(s)),n):e},n.offset=function(s){return arguments.length?(i=s??gv,n):i},n}function rrt(t,e){if((r=t.length)>0){for(var i,r,n=0,s=t[0].length,o;n<s;++n){for(o=i=0;i<r;++i)o+=t[i][n][1]||0;if(o)for(i=0;i<r;++i)t[i][n][1]/=o}gv(t,e)}}function nrt(t,e){if((n=t.length)>0){for(var i=0,r=t[e[0]],n,s=r.length;i<s;++i){for(var o=0,a=0;o<n;++o)a+=t[o][i][1]||0;r[i][1]+=r[i][0]=-a/2}gv(t,e)}}function srt(t,e){if(!(!((o=t.length)>0)||!((s=(n=t[e[0]]).length)>0))){for(var i=0,r=1,n,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,f=(d-h)/2,g=0;g<a;++g){var v=t[e[g]],C=v[r][1]||0,S=v[r-1][1]||0;f+=C-S}l+=d,u+=f*d}n[r-1][1]+=n[r-1][0]=i,l&&(i-=u/l)}n[r-1][1]+=n[r-1][0]=i,gv(t,e)}}function tE(t){"@babel/helpers - typeof";return tE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tE(t)}var ort=["type","size","sizeType"];function EG(){return EG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},EG.apply(this,arguments)}function YY(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function qY(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?YY(Object(i),!0).forEach(function(r){art(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):YY(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function art(t,e,i){return e=lrt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lrt(t){var e=urt(t,"string");return tE(e)=="symbol"?e:String(e)}function urt(t,e){if(tE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(tE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function crt(t,e){if(t==null)return{};var i=drt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function drt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Jae={symbolCircle:LW,symbolCross:Fit,symbolDiamond:Lit,symbolSquare:_it,symbolStar:Vit,symbolTriangle:Hit,symbolWye:Bit},hrt=Math.PI/180,prt=function(e){var i="symbol".concat(GM(e));return Jae[i]||LW},frt=function(e,i,r){if(i==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*hrt;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},grt=function(e,i){Jae["symbol".concat(GM(e))]=i},_W=function(e){var i=e.type,r=i===void 0?"circle":i,n=e.size,s=n===void 0?64:n,o=e.sizeType,a=o===void 0?"area":o,l=crt(e,ort),u=qY(qY({},l),{},{type:r,size:s,sizeType:a}),c=function(){var C=prt(r),S=Wit().type(C).size(frt(s,a,r));return S()},d=u.className,h=u.cx,f=u.cy,g=yi(u,!0);return h===+h&&f===+f&&s===+s?W.createElement("path",EG({},g,{className:Le("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};_W.registerSymbol=grt;function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function bG(){return bG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},bG.apply(this,arguments)}function XY(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function mrt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?XY(Object(i),!0).forEach(function(r){iE(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):XY(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function vrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QY(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tle(r.key),r)}}function Crt(t,e,i){return e&&QY(t.prototype,e),i&&QY(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function yrt(t,e,i){return e=Jx(e),Srt(t,ele()?Reflect.construct(e,i||[],Jx(t).constructor):e.apply(t,i))}function Srt(t,e){if(e&&(mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wrt(t)}function wrt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ele(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ele=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Jx(t)}function Ert(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RG(t,e)}function RG(t,e){return RG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},RG(t,e)}function iE(t,e,i){return e=tle(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tle(t){var e=brt(t,"string");return mv(e)=="symbol"?e:String(e)}function brt(t,e){if(mv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var da=32,NW=function(t){Ert(e,t);function e(){return vrt(this,e),yrt(this,e,arguments)}return Crt(e,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,s=da/2,o=da/6,a=da/3,l=r.inactive?n:r.color;if(r.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:da,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(da,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return W.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(W.isValidElement(r.legendIcon)){var u=mrt({},r);return delete u.legendIcon,W.cloneElement(r.legendIcon,u)}return W.createElement(_W,{fill:l,cx:s,cy:s,size:da,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,s=n.payload,o=n.iconSize,a=n.layout,l=n.formatter,u=n.inactiveColor,c={x:0,y:0,width:da,height:da},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var v=f.formatter||l,C=Le(iE(iE({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var S=ei(f.value)?null:f.value;Fp(!ei(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=f.inactive?u:f.color;return W.createElement("li",bG({className:C,style:d,key:"legend-item-".concat(g)},Kx(r.props,f,g)),W.createElement(fG,{width:o,height:o,viewBox:c,style:h},r.renderIcon(f)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v?v(S,f,g):S))})}},{key:"render",value:function(){var r=this.props,n=r.payload,s=r.layout,o=r.align;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}]),e}(T.PureComponent);iE(NW,"displayName","Legend");iE(NW,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Rrt(t){return t!==t}var Trt=Rrt;function Drt(t,e,i){for(var r=i-1,n=t.length;++r<n;)if(t[r]===e)return r;return-1}var Prt=Drt,xrt=Poe,Art=Trt,Ort=Prt;function Mrt(t,e,i){return e===e?Ort(t,e,i):xrt(t,Art,i)}var Frt=Mrt,Irt=Frt;function Lrt(t,e){var i=t==null?0:t.length;return!!i&&Irt(t,e,0)>-1}var _rt=Lrt;function Nrt(t,e,i){for(var r=-1,n=t==null?0:t.length;++r<n;)if(i(e,t[r]))return!0;return!1}var Grt=Nrt;function krt(){}var Vrt=krt,o_=boe,Hrt=Vrt,$rt=aW,Brt=1/0,Wrt=o_&&1/$rt(new o_([,-0]))[1]==Brt?function(t){return new o_(t)}:Hrt,Urt=Wrt,zrt=hoe,jrt=_rt,Krt=Grt,Yrt=foe,qrt=Urt,Xrt=aW,Qrt=200;function Zrt(t,e,i){var r=-1,n=jrt,s=t.length,o=!0,a=[],l=a;if(i)o=!1,n=Krt;else if(s>=Qrt){var u=e?null:qrt(t);if(u)return Xrt(u);o=!1,n=Yrt,l=new zrt}else l=e?[]:a;e:for(;++r<s;){var c=t[r],d=e?e(c):c;if(c=i||c!==0?c:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else n(l,d,i)||(l!==a&&l.push(d),a.push(c))}return a}var Jrt=Zrt,ent=Sh,tnt=Jrt;function int(t,e){return t&&t.length?tnt(t,ent(e)):[]}var rnt=int;const ZY=Pt(rnt);function ile(t,e,i){return e===!0?ZY(t,i):ei(e)?ZY(t,e):t}function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}var nnt=["ref"];function JY(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Gh(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?JY(Object(i),!0).forEach(function(r){$M(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):JY(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function snt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sle(r.key),r)}}function ont(t,e,i){return e&&e6(t.prototype,e),i&&e6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ant(t,e,i){return e=eA(e),lnt(t,rle()?Reflect.construct(e,i||[],eA(t).constructor):e.apply(t,i))}function lnt(t,e){if(e&&(vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nle(t)}function rle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rle=function(){return!!t})()}function eA(t){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},eA(t)}function nle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function unt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TG(t,e)}function TG(t,e){return TG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},TG(t,e)}function $M(t,e,i){return e=sle(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function sle(t){var e=cnt(t,"string");return vv(e)=="symbol"?e:String(e)}function cnt(t,e){if(vv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dnt(t,e){if(t==null)return{};var i=hnt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hnt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function pnt(t){return t.value}function fnt(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var i=dnt(e,nnt);return W.createElement(NW,i)}var t6=1,rE=function(t){unt(e,t);function e(){var i;snt(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=ant(this,e,[].concat(n)),$M(nle(i),"lastBoundingBox",{width:-1,height:-1}),i}return ont(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>t6||Math.abs(n.height-this.lastBoundingBox.height)>t6)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,s=n.layout,o=n.align,a=n.verticalAlign,l=n.margin,u=n.chartWidth,c=n.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Gh(Gh({},d),h)}},{key:"render",value:function(){var r=this,n=this.props,s=n.content,o=n.width,a=n.height,l=n.wrapperStyle,u=n.payloadUniqBy,c=n.payload,d=Gh(Gh({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return W.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},fnt(s,Gh(Gh({},this.props),{},{payload:ile(c,u,pnt)})))}}],[{key:"getWithHeight",value:function(r,n){var s=r.props.layout;return s==="vertical"&&Ye(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||n}:null}}]),e}(T.PureComponent);$M(rE,"displayName","Legend");$M(rE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function nE(t){"@babel/helpers - typeof";return nE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nE(t)}function DG(){return DG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},DG.apply(this,arguments)}function gnt(t,e){return ynt(t)||Cnt(t,e)||vnt(t,e)||mnt()}function mnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vnt(t,e){if(t){if(typeof t=="string")return i6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return i6(t,e)}}function i6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Cnt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function ynt(t){if(Array.isArray(t))return t}function r6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function a_(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(i),!0).forEach(function(r){Snt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Snt(t,e,i){return e=wnt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function wnt(t){var e=Ent(t,"string");return nE(e)=="symbol"?e:String(e)}function Ent(t,e){if(nE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(nE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bnt(t){return Array.isArray(t)&&sn(t[0])&&sn(t[1])?t.join(" ~ "):t}var Rnt=function(e){var i=e.separator,r=i===void 0?" : ":i,n=e.contentStyle,s=n===void 0?{}:n,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,v=e.label,C=e.labelFormatter,S=e.accessibilityLayer,y=S===void 0?!1:S,w=function(){if(c&&c.length){var k={padding:0,margin:0},$=(h?SM(c,h):c).map(function(U,K){if(U.type==="none")return null;var j=a_({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},a),Q=U.formatter||d||bnt,H=U.value,X=U.name,te=H,le=X;if(Q&&te!=null&&le!=null){var J=Q(H,X,U,K,c);if(Array.isArray(J)){var ie=gnt(J,2);te=ie[0],le=ie[1]}else te=J}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:j},sn(le)?W.createElement("span",{className:"recharts-tooltip-item-name"},le):null,sn(le)?W.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,W.createElement("span",{className:"recharts-tooltip-item-value"},te),W.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:k},$)}return null},E=a_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=a_({margin:0},u),D=!Si(v),P=D?v:"",O=Le("recharts-default-tooltip",f),N=Le("recharts-tooltip-label",g);D&&C&&c!==void 0&&c!==null&&(P=C(v,c));var _=y?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",DG({className:O,style:E},_),W.createElement("p",{className:N,style:b},W.isValidElement(P)?P:"".concat(P)),w())};function sE(t){"@babel/helpers - typeof";return sE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sE(t)}function $T(t,e,i){return e=Tnt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tnt(t){var e=Dnt(t,"string");return sE(e)=="symbol"?e:String(e)}function Dnt(t,e){if(sE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(sE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cy="recharts-tooltip-wrapper",Pnt={visibility:"hidden"};function xnt(t){var e=t.coordinate,i=t.translateX,r=t.translateY;return Le(Cy,$T($T($T($T({},"".concat(Cy,"-right"),Ye(i)&&e&&Ye(e.x)&&i>=e.x),"".concat(Cy,"-left"),Ye(i)&&e&&Ye(e.x)&&i<e.x),"".concat(Cy,"-bottom"),Ye(r)&&e&&Ye(e.y)&&r>=e.y),"".concat(Cy,"-top"),Ye(r)&&e&&Ye(e.y)&&r<e.y))}function n6(t){var e=t.allowEscapeViewBox,i=t.coordinate,r=t.key,n=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&Ye(s[r]))return s[r];var c=i[r]-a-n,d=i[r]+n;if(e[r])return o[r]?c:d;if(o[r]){var h=c,f=l[r];return h<f?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+a,v=l[r]+u;return g>v?Math.max(c,l[r]):Math.max(d,l[r])}function Ant(t){var e=t.translateX,i=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(i,"px, 0)"):"translate(".concat(e,"px, ").concat(i,"px)")}}function Ont(t){var e=t.allowEscapeViewBox,i=t.coordinate,r=t.offsetTopLeft,n=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return o.height>0&&o.width>0&&i?(c=n6({allowEscapeViewBox:e,coordinate:i,key:"x",offsetTopLeft:r,position:n,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=n6({allowEscapeViewBox:e,coordinate:i,key:"y",offsetTopLeft:r,position:n,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Ant({translateX:c,translateY:d,useTranslate3d:a})):u=Pnt,{cssProperties:u,cssClasses:xnt({translateX:c,translateY:d,coordinate:i})}}function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function s6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function o6(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?s6(Object(i),!0).forEach(function(r){AG(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Mnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ale(r.key),r)}}function Fnt(t,e,i){return e&&a6(t.prototype,e),i&&a6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Int(t,e,i){return e=tA(e),Lnt(t,ole()?Reflect.construct(e,i||[],tA(t).constructor):e.apply(t,i))}function Lnt(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PG(t)}function ole(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ole=function(){return!!t})()}function tA(t){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},tA(t)}function PG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _nt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xG(t,e)}function xG(t,e){return xG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},xG(t,e)}function AG(t,e,i){return e=ale(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ale(t){var e=Nnt(t,"string");return Cv(e)=="symbol"?e:String(e)}function Nnt(t,e){if(Cv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l6=1,Gnt=function(t){_nt(e,t);function e(){var i;Mnt(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Int(this,e,[].concat(n)),AG(PG(i),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),AG(PG(i),"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,c;i.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=i.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=i.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),i}return Fnt(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>l6||Math.abs(r.height-this.state.lastBoundingBox.height)>l6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,s=n.active,o=n.allowEscapeViewBox,a=n.animationDuration,l=n.animationEasing,u=n.children,c=n.coordinate,d=n.hasPayload,h=n.isAnimationActive,f=n.offset,g=n.position,v=n.reverseDirection,C=n.useTranslate3d,S=n.viewBox,y=n.wrapperStyle,w=Ont({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:f,position:g,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:S}),E=w.cssClasses,b=w.cssProperties,D=o6(o6({transition:h&&s?"transform ".concat(a,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return W.createElement("div",{tabIndex:-1,className:E,style:D,ref:function(O){r.wrapperNode=O}},u)}}]),e}(T.PureComponent),knt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$d={isSsr:knt(),get:function(e){return $d[e]},set:function(e,i){if(typeof e=="string")$d[e]=i;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(n){$d[n]=e[n]})}}};function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function u6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function c6(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(i),!0).forEach(function(r){GW(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Vnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ule(r.key),r)}}function Hnt(t,e,i){return e&&d6(t.prototype,e),i&&d6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function $nt(t,e,i){return e=iA(e),Bnt(t,lle()?Reflect.construct(e,i||[],iA(t).constructor):e.apply(t,i))}function Bnt(t,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wnt(t)}function Wnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lle=function(){return!!t})()}function iA(t){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},iA(t)}function Unt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OG(t,e)}function OG(t,e){return OG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},OG(t,e)}function GW(t,e,i){return e=ule(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ule(t){var e=znt(t,"string");return yv(e)=="symbol"?e:String(e)}function znt(t,e){if(yv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jnt(t){return t.dataKey}function Knt(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(Rnt,e)}var Qu=function(t){Unt(e,t);function e(){return Vnt(this,e),$nt(this,e,arguments)}return Hnt(e,[{key:"render",value:function(){var r=this,n=this.props,s=n.active,o=n.allowEscapeViewBox,a=n.animationDuration,l=n.animationEasing,u=n.content,c=n.coordinate,d=n.filterNull,h=n.isAnimationActive,f=n.offset,g=n.payload,v=n.payloadUniqBy,C=n.position,S=n.reverseDirection,y=n.useTranslate3d,w=n.viewBox,E=n.wrapperStyle,b=g??[];d&&b.length&&(b=ile(g.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),v,jnt));var D=b.length>0;return W.createElement(Gnt,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:s,coordinate:c,hasPayload:D,offset:f,position:C,reverseDirection:S,useTranslate3d:y,viewBox:w,wrapperStyle:E},Knt(u,c6(c6({},this.props),{},{payload:b})))}}]),e}(T.PureComponent);GW(Qu,"displayName","Tooltip");GW(Qu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$d.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ynt=Hl,qnt=function(){return Ynt.Date.now()},Xnt=qnt,Qnt=Qa,l_=Xnt,h6=ioe,Znt="Expected a function",Jnt=Math.max,est=Math.min;function tst(t,e,i){var r,n,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Znt);e=h6(e)||0,Qnt(i)&&(c=!!i.leading,d="maxWait"in i,s=d?Jnt(h6(i.maxWait)||0,e):s,h="trailing"in i?!!i.trailing:h);function f(D){var P=r,O=n;return r=n=void 0,u=D,o=t.apply(O,P),o}function g(D){return u=D,a=setTimeout(S,e),c?f(D):o}function v(D){var P=D-l,O=D-u,N=e-P;return d?est(N,s-O):N}function C(D){var P=D-l,O=D-u;return l===void 0||P>=e||P<0||d&&O>=s}function S(){var D=l_();if(C(D))return y(D);a=setTimeout(S,v(D))}function y(D){return a=void 0,h&&r?f(D):(r=n=void 0,o)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=n=a=void 0}function E(){return a===void 0?o:y(l_())}function b(){var D=l_(),P=C(D);if(r=arguments,n=this,l=D,P){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(S,e),f(l)}return a===void 0&&(a=setTimeout(S,e)),o}return b.cancel=w,b.flush=E,b}var ist=tst,rst=ist,nst=Qa,sst="Expected a function";function ost(t,e,i){var r=!0,n=!0;if(typeof t!="function")throw new TypeError(sst);return nst(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),rst(t,e,{leading:r,maxWait:e,trailing:n})}var ast=ost;const cle=Pt(ast);function oE(t){"@babel/helpers - typeof";return oE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oE(t)}function p6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function BT(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(i),!0).forEach(function(r){lst(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function lst(t,e,i){return e=ust(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ust(t){var e=cst(t,"string");return oE(e)=="symbol"?e:String(e)}function cst(t,e){if(oE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(oE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dst(t,e){return gst(t)||fst(t,e)||pst(t,e)||hst()}function hst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pst(t,e){if(t){if(typeof t=="string")return f6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return f6(t,e)}}function f6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function fst(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function gst(t){if(Array.isArray(t))return t}var mst=T.forwardRef(function(t,e){var i=t.aspect,r=t.initialDimension,n=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,v=g===void 0?0:g,C=t.id,S=t.className,y=t.onResize,w=t.style,E=w===void 0?{}:w,b=T.useRef(null),D=T.useRef();D.current=y,T.useImperativeHandle(e,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var P=T.useState({containerWidth:n.width,containerHeight:n.height}),O=dst(P,2),N=O[0],_=O[1],L=T.useCallback(function($,U){_(function(K){var j=Math.round($),Q=Math.round(U);return K.containerWidth===j&&K.containerHeight===Q?K:{containerWidth:j,containerHeight:Q}})},[]);T.useEffect(function(){var $=function(X){var te,le=X[0].contentRect,J=le.width,ie=le.height;L(J,ie),(te=D.current)===null||te===void 0||te.call(D,J,ie)};v>0&&($=cle($,v,{trailing:!0,leading:!1}));var U=new ResizeObserver($),K=b.current.getBoundingClientRect(),j=K.width,Q=K.height;return L(j,Q),U.observe(b.current),function(){U.disconnect()}},[L,v]);var k=T.useMemo(function(){var $=N.containerWidth,U=N.containerHeight;if($<0||U<0)return null;Fp(up(o)||up(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Fp(!i||i>0,"The aspect(%s) must be greater than zero.",i);var K=up(o)?$:o,j=up(l)?U:l;i&&i>0&&(K?j=K/i:j&&(K=j*i),h&&j>h&&(j=h)),Fp(K>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,j,o,l,c,d,i);var Q=!Array.isArray(f)&&uG.isElement(f)&&uc(f.type).endsWith("Chart");return W.Children.map(f,function(H){return uG.isElement(H)?T.cloneElement(H,BT({width:K,height:j},Q?{style:BT({height:"100%",width:"100%",maxHeight:j,maxWidth:K},H.props.style)}:{})):H})},[i,f,l,h,d,c,N,o]);return W.createElement("div",{id:C?"".concat(C):void 0,className:Le("recharts-responsive-container",S),style:BT(BT({},E),{},{width:o,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:b},k)}),dle=function(e){return null};dle.displayName="Cell";function aE(t){"@babel/helpers - typeof";return aE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aE(t)}function g6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function MG(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(i),!0).forEach(function(r){vst(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function vst(t,e,i){return e=Cst(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Cst(t){var e=yst(t,"string");return aE(e)=="symbol"?e:String(e)}function yst(t,e){if(aE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(aE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rg={widthCache:{},cacheCount:0},Sst=2e3,wst={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m6="recharts_measurement_span";function Est(t){var e=MG({},t);return Object.keys(e).forEach(function(i){e[i]||delete e[i]}),e}var yS=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$d.isSsr)return{width:0,height:0};var r=Est(i),n=JSON.stringify({text:e,copyStyle:r});if(Rg.widthCache[n])return Rg.widthCache[n];try{var s=document.getElementById(m6);s||(s=document.createElement("span"),s.setAttribute("id",m6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=MG(MG({},wst),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Rg.widthCache[n]=l,++Rg.cacheCount>Sst&&(Rg.cacheCount=0,Rg.widthCache={}),l}catch{return{width:0,height:0}}},bst=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function lE(t){"@babel/helpers - typeof";return lE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lE(t)}function rA(t,e){return Pst(t)||Dst(t,e)||Tst(t,e)||Rst()}function Rst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tst(t,e){if(t){if(typeof t=="string")return v6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v6(t,e)}}function v6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Dst(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Pst(t){if(Array.isArray(t))return t}function xst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ost(r.key),r)}}function Ast(t,e,i){return e&&C6(t.prototype,e),i&&C6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ost(t){var e=Mst(t,"string");return lE(e)=="symbol"?e:String(e)}function Mst(t,e){if(lE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(lE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fst=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ist=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lst=Object.keys(hle),rm="NaN";function _st(t,e){return t*hle[e]}var WT=function(){function t(e,i){xst(this,t),this.num=e,this.unit=i,this.num=e,this.unit=i,Number.isNaN(e)&&(this.unit=""),i!==""&&!Fst.test(i)&&(this.num=NaN,this.unit=""),Lst.includes(i)&&(this.num=_st(e,i),this.unit="px")}return Ast(t,[{key:"add",value:function(i){return this.unit!==i.unit?new t(NaN,""):new t(this.num+i.num,this.unit)}},{key:"subtract",value:function(i){return this.unit!==i.unit?new t(NaN,""):new t(this.num-i.num,this.unit)}},{key:"multiply",value:function(i){return this.unit!==""&&i.unit!==""&&this.unit!==i.unit?new t(NaN,""):new t(this.num*i.num,this.unit||i.unit)}},{key:"divide",value:function(i){return this.unit!==""&&i.unit!==""&&this.unit!==i.unit?new t(NaN,""):new t(this.num/i.num,this.unit||i.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(i){var r,n=(r=Ist.exec(i))!==null&&r!==void 0?r:[],s=rA(n,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}]),t}();function ple(t){if(t.includes(rm))return rm;for(var e=t;e.includes("*")||e.includes("/");){var i,r=(i=y6.exec(e))!==null&&i!==void 0?i:[],n=rA(r,4),s=n[1],o=n[2],a=n[3],l=WT.parse(s??""),u=WT.parse(a??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return rm;e=e.replace(y6,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=S6.exec(e))!==null&&d!==void 0?d:[],f=rA(h,4),g=f[1],v=f[2],C=f[3],S=WT.parse(g??""),y=WT.parse(C??""),w=v==="+"?S.add(y):S.subtract(y);if(w.isNaN())return rm;e=e.replace(S6,w.toString())}return e}var w6=/\(([^()]*)\)/;function Nst(t){for(var e=t;e.includes("(");){var i=w6.exec(e),r=rA(i,2),n=r[1];e=e.replace(w6,ple(n))}return e}function Gst(t){var e=t.replace(/\s+/g,"");return e=Nst(e),e=ple(e),e}function kst(t){try{return Gst(t)}catch{return rm}}function u_(t){var e=kst(t.slice(5,-1));return e===rm?"":e}var Vst=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hst=["dx","dy","angle","className","breakAll"];function FG(){return FG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},FG.apply(this,arguments)}function E6(t,e){if(t==null)return{};var i=$st(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $st(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function b6(t,e){return zst(t)||Ust(t,e)||Wst(t,e)||Bst()}function Bst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wst(t,e){if(t){if(typeof t=="string")return R6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return R6(t,e)}}function R6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Ust(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function zst(t){if(Array.isArray(t))return t}var fle=/[ \f\n\r\t\v\u2028\u2029]+/,gle=function(e){var i=e.children,r=e.breakAll,n=e.style;try{var s=[];Si(i)||(r?s=i.toString().split(""):s=i.toString().split(fle));var o=s.map(function(l){return{word:l,width:yS(l,n).width}}),a=r?0:yS("",n).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},jst=function(e,i,r,n,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=Ye(o),d=a,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(j,Q){var H=Q.word,X=Q.width,te=j[j.length-1];if(te&&(n==null||s||te.width+X+r<Number(n)))te.words.push(H),te.width+=X+r;else{var le={words:[H],width:X};j.push(le)}return j},[])},f=h(i),g=function(K){return K.reduce(function(j,Q){return j.width>Q.width?j:Q})};if(!c)return f;for(var v="",C=function(K){var j=d.slice(0,K),Q=gle({breakAll:u,style:l,children:j+v}).wordsWithComputedWidth,H=h(Q),X=H.length>o||g(H).width>Number(n);return[X,H]},S=0,y=d.length-1,w=0,E;S<=y&&w<=d.length-1;){var b=Math.floor((S+y)/2),D=b-1,P=C(D),O=b6(P,2),N=O[0],_=O[1],L=C(b),k=b6(L,1),$=k[0];if(!N&&!$&&(S=b+1),N&&$&&(y=b-1),!N&&$){E=_;break}w++}return E||f},T6=function(e){var i=Si(e)?[]:e.toString().split(fle);return[{words:i}]},Kst=function(e){var i=e.width,r=e.scaleToFit,n=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((i||r)&&!$d.isSsr){var l,u,c=gle({breakAll:o,children:n,style:s});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return T6(n);return jst({breakAll:o,children:n,maxLines:a,style:s},l,u,i,r)}return T6(n)},D6="#808080",nA=function(e){var i=e.x,r=i===void 0?0:i,n=e.y,s=n===void 0?0:n,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,v=g===void 0?"end":g,C=e.fill,S=C===void 0?D6:C,y=E6(e,Vst),w=T.useMemo(function(){return Kst({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),E=y.dx,b=y.dy,D=y.angle,P=y.className,O=y.breakAll,N=E6(y,Hst);if(!sn(r)||!sn(s))return null;var _=r+(Ye(E)?E:0),L=s+(Ye(b)?b:0),k;switch(v){case"start":k=u_("calc(".concat(u,")"));break;case"middle":k=u_("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:k=u_("calc(".concat(w.length-1," * -").concat(a,")"));break}var $=[];if(d){var U=w[0].width,K=y.width;$.push("scale(".concat((Ye(K)?K/U:1)/U,")"))}return D&&$.push("rotate(".concat(D,", ").concat(_,", ").concat(L,")")),$.length&&(N.transform=$.join(" ")),W.createElement("text",FG({},yi(N,!0),{x:_,y:L,className:Le("recharts-text",P),textAnchor:f,fill:S.includes("url")?D6:S}),w.map(function(j,Q){var H=j.words.join(O?"":" ");return W.createElement("tspan",{x:_,dy:Q===0?k:a,key:H},H)}))};function Bd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yst(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kW(t){let e,i,r;t.length!==2?(e=Bd,i=(a,l)=>Bd(t(a),l),r=(a,l)=>t(a)-l):(e=t===Bd||t===Yst?t:qst,i=t,r=t);function n(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;i(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;i(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=n(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:n,center:o,right:s}}function qst(){return 0}function mle(t){return t===null?NaN:+t}function*Xst(t,e){if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(r=+r)>=r&&(yield r)}}const Qst=kW(Bd),iR=Qst.right;kW(mle).center;class P6 extends Map{constructor(e,i=eot){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(x6(this,e))}has(e){return super.has(x6(this,e))}set(e,i){return super.set(Zst(this,e),i)}delete(e){return super.delete(Jst(this,e))}}function x6({_intern:t,_key:e},i){const r=e(i);return t.has(r)?t.get(r):i}function Zst({_intern:t,_key:e},i){const r=e(i);return t.has(r)?t.get(r):(t.set(r,i),i)}function Jst({_intern:t,_key:e},i){const r=e(i);return t.has(r)&&(i=t.get(r),t.delete(r)),i}function eot(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tot(t=Bd){if(t===Bd)return vle;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,i)=>{const r=t(e,i);return r||r===0?r:(t(i,i)===0)-(t(e,e)===0)}}function vle(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const iot=Math.sqrt(50),rot=Math.sqrt(10),not=Math.sqrt(2);function sA(t,e,i){const r=(e-t)/Math.max(0,i),n=Math.floor(Math.log10(r)),s=r/Math.pow(10,n),o=s>=iot?10:s>=rot?5:s>=not?2:1;let a,l,u;return n<0?(u=Math.pow(10,-n)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,n)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=i&&i<2?sA(t,e,i*2):[a,l,u]}function IG(t,e,i){if(e=+e,t=+t,i=+i,!(i>0))return[];if(t===e)return[t];const r=e<t,[n,s,o]=r?sA(e,t,i):sA(t,e,i);if(!(s>=n))return[];const a=s-n+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(n+u)/-o;else for(let u=0;u<a;++u)l[u]=(n+u)*o;return l}function LG(t,e,i){return e=+e,t=+t,i=+i,sA(t,e,i)[2]}function _G(t,e,i){e=+e,t=+t,i=+i;const r=e<t,n=r?LG(e,t,i):LG(t,e,i);return(r?-1:1)*(n<0?1/-n:n)}function A6(t,e){let i;if(e===void 0)for(const r of t)r!=null&&(i<r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(i<n||i===void 0&&n>=n)&&(i=n)}return i}function O6(t,e){let i;if(e===void 0)for(const r of t)r!=null&&(i>r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(i>n||i===void 0&&n>=n)&&(i=n)}return i}function Cle(t,e,i=0,r=1/0,n){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(t.length-1,r)),!(i<=e&&e<=r))return t;for(n=n===void 0?vle:tot(n);r>i;){if(r-i>600){const l=r-i+1,u=e-i+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),f=Math.max(i,Math.floor(e-u*d/l+h)),g=Math.min(r,Math.floor(e+(l-u)*d/l+h));Cle(t,e,f,g,n)}const s=t[e];let o=i,a=r;for(yy(t,i,e),n(t[r],s)>0&&yy(t,i,r);o<a;){for(yy(t,o,a),++o,--a;n(t[o],s)<0;)++o;for(;n(t[a],s)>0;)--a}n(t[i],s)===0?yy(t,i,a):(++a,yy(t,a,r)),a<=e&&(i=a+1),e<=a&&(r=a-1)}return t}function yy(t,e,i){const r=t[e];t[e]=t[i],t[i]=r}function sot(t,e,i){if(t=Float64Array.from(Xst(t,i)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return O6(t);if(e>=1)return A6(t);var r,n=(r-1)*e,s=Math.floor(n),o=A6(Cle(t,s).subarray(0,s+1)),a=O6(t.subarray(s+1));return o+(a-o)*(n-s)}}function oot(t,e,i=mle){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+i(t[0],0,t);if(e>=1)return+i(t[r-1],r-1,t);var r,n=(r-1)*e,s=Math.floor(n),o=+i(t[s],s,t),a=+i(t[s+1],s+1,t);return o+(a-o)*(n-s)}}function aot(t,e,i){t=+t,e=+e,i=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+i;for(var r=-1,n=Math.max(0,Math.ceil((e-t)/i))|0,s=new Array(n);++r<n;)s[r]=t+r*i;return s}function Za(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const NG=Symbol("implicit");function VW(){var t=new P6,e=[],i=[],r=NG;function n(s){let o=t.get(s);if(o===void 0){if(r!==NG)return r;t.set(s,o=e.push(s)-1)}return i[o%i.length]}return n.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new P6;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return n},n.range=function(s){return arguments.length?(i=Array.from(s),n):i.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return VW(e,i).unknown(r)},Za.apply(n,arguments),n}function uE(){var t=VW().unknown(void 0),e=t.domain,i=t.range,r=0,n=1,s,o,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,f=n<r,g=f?n:r,v=f?r:n;s=(v-g)/Math.max(1,h-l+u*2),a&&(s=Math.floor(s)),g+=(v-g-s*(h-l))*c,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var C=aot(h).map(function(S){return g+s*S});return i(f?C.reverse():C)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,n]=h,r=+r,n=+n,d()):[r,n]},t.rangeRound=function(h){return[r,n]=h,r=+r,n=+n,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return uE(e(),[r,n]).round(a).paddingInner(l).paddingOuter(u).align(c)},Za.apply(d(),arguments)}function yle(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yle(e())},t}function SS(){return yle(uE.apply(null,arguments).paddingInner(1))}function HW(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function Sle(t,e){var i=Object.create(t.prototype);for(var r in e)i[r]=e[r];return i}function rR(){}var cE=.7,oA=1/cE,Rm="\\s*([+-]?\\d+)\\s*",dE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lot=/^#([0-9a-f]{3,8})$/,uot=new RegExp(`^rgb\\(${Rm},${Rm},${Rm}\\)$`),cot=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),dot=new RegExp(`^rgba\\(${Rm},${Rm},${Rm},${dE}\\)$`),hot=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${dE}\\)$`),pot=new RegExp(`^hsl\\(${dE},${Cu},${Cu}\\)$`),fot=new RegExp(`^hsla\\(${dE},${Cu},${Cu},${dE}\\)$`),M6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HW(rR,hE,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:F6,formatHex:F6,formatHex8:got,formatHsl:mot,formatRgb:I6,toString:I6});function F6(){return this.rgb().formatHex()}function got(){return this.rgb().formatHex8()}function mot(){return wle(this).formatHsl()}function I6(){return this.rgb().formatRgb()}function hE(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=lot.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?L6(e):i===3?new Qs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?UT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?UT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uot.exec(t))?new Qs(e[1],e[2],e[3],1):(e=cot.exec(t))?new Qs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dot.exec(t))?UT(e[1],e[2],e[3],e[4]):(e=hot.exec(t))?UT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pot.exec(t))?G6(e[1],e[2]/100,e[3]/100,1):(e=fot.exec(t))?G6(e[1],e[2]/100,e[3]/100,e[4]):M6.hasOwnProperty(t)?L6(M6[t]):t==="transparent"?new Qs(NaN,NaN,NaN,0):null}function L6(t){return new Qs(t>>16&255,t>>8&255,t&255,1)}function UT(t,e,i,r){return r<=0&&(t=e=i=NaN),new Qs(t,e,i,r)}function vot(t){return t instanceof rR||(t=hE(t)),t?(t=t.rgb(),new Qs(t.r,t.g,t.b,t.opacity)):new Qs}function GG(t,e,i,r){return arguments.length===1?vot(t):new Qs(t,e,i,r??1)}function Qs(t,e,i,r){this.r=+t,this.g=+e,this.b=+i,this.opacity=+r}HW(Qs,GG,Sle(rR,{brighter(t){return t=t==null?oA:Math.pow(oA,t),new Qs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cE:Math.pow(cE,t),new Qs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qs(Ip(this.r),Ip(this.g),Ip(this.b),aA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_6,formatHex:_6,formatHex8:Cot,formatRgb:N6,toString:N6}));function _6(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}`}function Cot(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}${cp((isNaN(this.opacity)?1:this.opacity)*255)}`}function N6(){const t=aA(this.opacity);return`${t===1?"rgb(":"rgba("}${Ip(this.r)}, ${Ip(this.g)}, ${Ip(this.b)}${t===1?")":`, ${t})`}`}function aA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ip(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cp(t){return t=Ip(t),(t<16?"0":"")+t.toString(16)}function G6(t,e,i,r){return r<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new fl(t,e,i,r)}function wle(t){if(t instanceof fl)return new fl(t.h,t.s,t.l,t.opacity);if(t instanceof rR||(t=hE(t)),!t)return new fl;if(t instanceof fl)return t;t=t.rgb();var e=t.r/255,i=t.g/255,r=t.b/255,n=Math.min(e,i,r),s=Math.max(e,i,r),o=NaN,a=s-n,l=(s+n)/2;return a?(e===s?o=(i-r)/a+(i<r)*6:i===s?o=(r-e)/a+2:o=(e-i)/a+4,a/=l<.5?s+n:2-s-n,o*=60):a=l>0&&l<1?0:o,new fl(o,a,l,t.opacity)}function yot(t,e,i,r){return arguments.length===1?wle(t):new fl(t,e,i,r??1)}function fl(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}HW(fl,yot,Sle(rR,{brighter(t){return t=t==null?oA:Math.pow(oA,t),new fl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cE:Math.pow(cE,t),new fl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,n=2*i-r;return new Qs(c_(t>=240?t-240:t+120,n,r),c_(t,n,r),c_(t<120?t+240:t-120,n,r),this.opacity)},clamp(){return new fl(k6(this.h),zT(this.s),zT(this.l),aA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=aA(this.opacity);return`${t===1?"hsl(":"hsla("}${k6(this.h)}, ${zT(this.s)*100}%, ${zT(this.l)*100}%${t===1?")":`, ${t})`}`}}));function k6(t){return t=(t||0)%360,t<0?t+360:t}function zT(t){return Math.max(0,Math.min(1,t||0))}function c_(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const $W=t=>()=>t;function Sot(t,e){return function(i){return t+i*e}}function wot(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(r){return Math.pow(t+r*e,i)}}function Eot(t){return(t=+t)==1?Ele:function(e,i){return i-e?wot(e,i,t):$W(isNaN(e)?i:e)}}function Ele(t,e){var i=e-t;return i?Sot(t,i):$W(isNaN(t)?e:t)}const V6=function t(e){var i=Eot(e);function r(n,s){var o=i((n=GG(n)).r,(s=GG(s)).r),a=i(n.g,s.g),l=i(n.b,s.b),u=Ele(n.opacity,s.opacity);return function(c){return n.r=o(c),n.g=a(c),n.b=l(c),n.opacity=u(c),n+""}}return r.gamma=t,r}(1);function bot(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,r=e.slice(),n;return function(s){for(n=0;n<i;++n)r[n]=t[n]*(1-s)+e[n]*s;return r}}function Rot(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tot(t,e){var i=e?e.length:0,r=t?Math.min(i,t.length):0,n=new Array(r),s=new Array(i),o;for(o=0;o<r;++o)n[o]=PC(t[o],e[o]);for(;o<i;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=n[o](a);return s}}function Dot(t,e){var i=new Date;return t=+t,e=+e,function(r){return i.setTime(t*(1-r)+e*r),i}}function lA(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function Pot(t,e){var i={},r={},n;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in t?i[n]=PC(t[n],e[n]):r[n]=e[n];return function(s){for(n in i)r[n]=i[n](s);return r}}var kG=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d_=new RegExp(kG.source,"g");function xot(t){return function(){return t}}function Aot(t){return function(e){return t(e)+""}}function Oot(t,e){var i=kG.lastIndex=d_.lastIndex=0,r,n,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=kG.exec(t))&&(n=d_.exec(e));)(s=n.index)>i&&(s=e.slice(i,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:lA(r,n)})),i=d_.lastIndex;return i<e.length&&(s=e.slice(i),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Aot(l[0].x):xot(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function PC(t,e){var i=typeof e,r;return e==null||i==="boolean"?$W(e):(i==="number"?lA:i==="string"?(r=hE(e))?(e=r,V6):Oot:e instanceof hE?V6:e instanceof Date?Dot:Rot(e)?bot:Array.isArray(e)?Tot:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Pot:lA)(t,e)}function BW(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}function Mot(t,e){e===void 0&&(e=t,t=PC);for(var i=0,r=e.length-1,n=e[0],s=new Array(r<0?0:r);i<r;)s[i]=t(n,n=e[++i]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Fot(t){return function(){return t}}function uA(t){return+t}var H6=[0,1];function Cs(t){return t}function VG(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:Fot(isNaN(e)?NaN:.5)}function Iot(t,e){var i;return t>e&&(i=t,t=e,e=i),function(r){return Math.max(t,Math.min(e,r))}}function Lot(t,e,i){var r=t[0],n=t[1],s=e[0],o=e[1];return n<r?(r=VG(n,r),s=i(o,s)):(r=VG(r,n),s=i(s,o)),function(a){return s(r(a))}}function _ot(t,e,i){var r=Math.min(t.length,e.length)-1,n=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)n[o]=VG(t[o],t[o+1]),s[o]=i(e[o],e[o+1]);return function(a){var l=iR(t,a,1,r)-1;return s[l](n[l](a))}}function nR(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function BM(){var t=H6,e=H6,i=PC,r,n,s,o=Cs,a,l,u;function c(){var h=Math.min(t.length,e.length);return o!==Cs&&(o=Iot(t[0],t[h-1])),a=h>2?_ot:Lot,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,i)))(r(o(h)))}return d.invert=function(h){return o(n((u||(u=a(e,t.map(r),lA)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,uA),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),i=BW,c()},d.clamp=function(h){return arguments.length?(o=h?!0:Cs,c()):o!==Cs},d.interpolate=function(h){return arguments.length?(i=h,c()):i},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return r=h,n=f,c()}}function WW(){return BM()(Cs,Cs)}function Not(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cA(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,r=t.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+t.slice(i+1)]}function Sv(t){return t=cA(Math.abs(t)),t?t[1]:NaN}function Got(t,e){return function(i,r){for(var n=i.length,s=[],o=0,a=t[0],l=0;n>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(i.substring(n-=a,n+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function kot(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}var Vot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pE(t){if(!(e=Vot.exec(t)))throw new Error("invalid format: "+t);var e;return new UW({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pE.prototype=UW.prototype;function UW(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}UW.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hot(t){e:for(var e=t.length,i=1,r=-1,n;i<e;++i)switch(t[i]){case".":r=n=i;break;case"0":r===0&&(r=i),n=i;break;default:if(!+t[i])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(n+1):t}var ble;function $ot(t,e){var i=cA(t,e);if(!i)return t+"";var r=i[0],n=i[1],s=n-(ble=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+cA(t,Math.max(0,e+s-1))[0]}function $6(t,e){var i=cA(t,e);if(!i)return t+"";var r=i[0],n=i[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const B6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Not,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>$6(t*100,e),r:$6,s:$ot,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function W6(t){return t}var U6=Array.prototype.map,z6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bot(t){var e=t.grouping===void 0||t.thousands===void 0?W6:Got(U6.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?W6:kot(U6.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=pE(d);var h=d.fill,f=d.align,g=d.sign,v=d.symbol,C=d.zero,S=d.width,y=d.comma,w=d.precision,E=d.trim,b=d.type;b==="n"?(y=!0,b="g"):B6[b]||(w===void 0&&(w=12),E=!0,b="g"),(C||h==="0"&&f==="=")&&(C=!0,h="0",f="=");var D=v==="$"?i:v==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",P=v==="$"?r:/[%p]/.test(b)?o:"",O=B6[b],N=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(L){var k=D,$=P,U,K,j;if(b==="c")$=O(L)+$,L="";else{L=+L;var Q=L<0||1/L<0;if(L=isNaN(L)?l:O(Math.abs(L),w),E&&(L=Hot(L)),Q&&+L==0&&g!=="+"&&(Q=!1),k=(Q?g==="("?g:a:g==="-"||g==="("?"":g)+k,$=(b==="s"?z6[8+ble/3]:"")+$+(Q&&g==="("?")":""),N){for(U=-1,K=L.length;++U<K;)if(j=L.charCodeAt(U),48>j||j>57){$=(j===46?n+L.slice(U+1):L.slice(U))+$,L=L.slice(0,U);break}}}y&&!C&&(L=e(L,1/0));var H=k.length+L.length+$.length,X=H<S?new Array(S-H+1).join(h):"";switch(y&&C&&(L=e(X+L,X.length?S-$.length:1/0),X=""),f){case"<":L=k+L+$+X;break;case"=":L=k+X+L+$;break;case"^":L=X.slice(0,H=X.length>>1)+k+L+$+X.slice(H);break;default:L=X+k+L+$;break}return s(L)}return _.toString=function(){return d+""},_}function c(d,h){var f=u((d=pE(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Sv(h)/3)))*3,v=Math.pow(10,-g),C=z6[8+g/3];return function(S){return f(v*S)+C}}return{format:u,formatPrefix:c}}var jT,zW,Rle;Wot({thousands:",",grouping:[3],currency:["$",""]});function Wot(t){return jT=Bot(t),zW=jT.format,Rle=jT.formatPrefix,jT}function Uot(t){return Math.max(0,-Sv(Math.abs(t)))}function zot(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sv(e)/3)))*3-Sv(Math.abs(t)))}function jot(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sv(e)-Sv(t))+1}function Tle(t,e,i,r){var n=_G(t,e,i),s;switch(r=pE(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=zot(n,o))&&(r.precision=s),Rle(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=jot(n,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Uot(n))&&(r.precision=s-(r.type==="%")*2);break}}return zW(r)}function wh(t){var e=t.domain;return t.ticks=function(i){var r=e();return IG(r[0],r[r.length-1],i??10)},t.tickFormat=function(i,r){var n=e();return Tle(n[0],n[n.length-1],i??10,r)},t.nice=function(i){i==null&&(i=10);var r=e(),n=0,s=r.length-1,o=r[n],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=n,n=s,s=u);c-- >0;){if(u=LG(o,a,i),u===l)return r[n]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function dA(){var t=WW();return t.copy=function(){return nR(t,dA())},Za.apply(t,arguments),wh(t)}function Dle(t){var e;function i(r){return r==null||isNaN(r=+r)?e:r}return i.invert=i,i.domain=i.range=function(r){return arguments.length?(t=Array.from(r,uA),i):t.slice()},i.unknown=function(r){return arguments.length?(e=r,i):e},i.copy=function(){return Dle(t).unknown(e)},t=arguments.length?Array.from(t,uA):[0,1],wh(i)}function Ple(t,e){t=t.slice();var i=0,r=t.length-1,n=t[i],s=t[r],o;return s<n&&(o=i,i=r,r=o,o=n,n=s,s=o),t[i]=e.floor(n),t[r]=e.ceil(s),t}function j6(t){return Math.log(t)}function K6(t){return Math.exp(t)}function Kot(t){return-Math.log(-t)}function Yot(t){return-Math.exp(-t)}function qot(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xot(t){return t===10?qot:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Qot(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Y6(t){return(e,i)=>-t(-e,i)}function jW(t){const e=t(j6,K6),i=e.domain;let r=10,n,s;function o(){return n=Qot(r),s=Xot(r),i()[0]<0?(n=Y6(n),s=Y6(s),t(Kot,Yot)):t(j6,K6),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(i(a),o()):i()},e.ticks=a=>{const l=i();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=n(u),f=n(c),g,v;const C=a==null?10:+a;let S=[];if(!(r%1)&&f-h<C){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(g=1;g<r;++g)if(v=h<0?g/s(-h):g*s(h),!(v<u)){if(v>c)break;S.push(v)}}else for(;h<=f;++h)for(g=r-1;g>=1;--g)if(v=h>0?g/s(-h):g*s(h),!(v<u)){if(v>c)break;S.push(v)}S.length*2<C&&(S=IG(u,c,C))}else S=IG(h,f,Math.min(f-h,C)).map(s);return d?S.reverse():S},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=pE(l)).precision==null&&(l.trim=!0),l=zW(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/s(Math.round(n(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>i(Ple(i(),{floor:a=>s(Math.floor(n(a))),ceil:a=>s(Math.ceil(n(a)))})),e}function xle(){const t=jW(BM()).domain([1,10]);return t.copy=()=>nR(t,xle()).base(t.base()),Za.apply(t,arguments),t}function q6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function X6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KW(t){var e=1,i=t(q6(e),X6(e));return i.constant=function(r){return arguments.length?t(q6(e=+r),X6(e)):e},wh(i)}function Ale(){var t=KW(BM());return t.copy=function(){return nR(t,Ale()).constant(t.constant())},Za.apply(t,arguments)}function Q6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zot(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jot(t){return t<0?-t*t:t*t}function YW(t){var e=t(Cs,Cs),i=1;function r(){return i===1?t(Cs,Cs):i===.5?t(Zot,Jot):t(Q6(i),Q6(1/i))}return e.exponent=function(n){return arguments.length?(i=+n,r()):i},wh(e)}function qW(){var t=YW(BM());return t.copy=function(){return nR(t,qW()).exponent(t.exponent())},Za.apply(t,arguments),t}function eat(){return qW.apply(null,arguments).exponent(.5)}function Z6(t){return Math.sign(t)*t*t}function tat(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ole(){var t=WW(),e=[0,1],i=!1,r;function n(s){var o=tat(t(s));return isNaN(o)?r:i?Math.round(o):o}return n.invert=function(s){return t.invert(Z6(s))},n.domain=function(s){return arguments.length?(t.domain(s),n):t.domain()},n.range=function(s){return arguments.length?(t.range((e=Array.from(s,uA)).map(Z6)),n):e.slice()},n.rangeRound=function(s){return n.range(s).round(!0)},n.round=function(s){return arguments.length?(i=!!s,n):i},n.clamp=function(s){return arguments.length?(t.clamp(s),n):t.clamp()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return Ole(t.domain(),e).round(i).clamp(t.clamp()).unknown(r)},Za.apply(n,arguments),wh(n)}function Mle(){var t=[],e=[],i=[],r;function n(){var o=0,a=Math.max(1,e.length);for(i=new Array(a-1);++o<a;)i[o-1]=oot(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[iR(i,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?i[a-1]:t[0],a<i.length?i[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Bd),n()},s.range=function(o){return arguments.length?(e=Array.from(o),n()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return i.slice()},s.copy=function(){return Mle().domain(t).range(e).unknown(r)},Za.apply(s,arguments)}function Fle(){var t=0,e=1,i=1,r=[.5],n=[0,1],s;function o(l){return l!=null&&l<=l?n[iR(r,l,0,i)]:s}function a(){var l=-1;for(r=new Array(i);++l<i;)r[l]=((l+1)*e-(l-i)*t)/(i+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(i=(n=Array.from(l)).length-1,a()):n.slice()},o.invertExtent=function(l){var u=n.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=i?[r[i-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Fle().domain([t,e]).range(n).unknown(s)},Za.apply(wh(o),arguments)}function Ile(){var t=[.5],e=[0,1],i,r=1;function n(s){return s!=null&&s<=s?e[iR(t,s,0,r)]:i}return n.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),n):t.slice()},n.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),n):e.slice()},n.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},n.unknown=function(s){return arguments.length?(i=s,n):i},n.copy=function(){return Ile().domain(t).range(e).unknown(i)},Za.apply(n,arguments)}const h_=new Date,p_=new Date;function un(t,e,i,r){function n(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return n.floor=s=>(t(s=new Date(+s)),s),n.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),n.round=s=>{const o=n(s),a=n.ceil(s);return s-o<a-s?o:a},n.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),n.range=(s,o,a)=>{const l=[];if(s=n.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},n.filter=s=>un(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),i&&(n.count=(s,o)=>(h_.setTime(+s),p_.setTime(+o),t(h_),t(p_),Math.floor(i(h_,p_))),n.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?n.filter(r?o=>r(o)%s===0:o=>n.count(0,o)%s===0):n)),n}const hA=un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hA.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?un(e=>{e.setTime(Math.floor(e/t)*t)},(e,i)=>{e.setTime(+e+i*t)},(e,i)=>(i-e)/t):hA);hA.range;const sc=1e3,Ta=sc*60,oc=Ta*60,xc=oc*24,XW=xc*7,J6=xc*30,f_=xc*365,dp=un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sc)},(t,e)=>(e-t)/sc,t=>t.getUTCSeconds());dp.range;const QW=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sc)},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getMinutes());QW.range;const ZW=un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getUTCMinutes());ZW.range;const JW=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sc-t.getMinutes()*Ta)},(t,e)=>{t.setTime(+t+e*oc)},(t,e)=>(e-t)/oc,t=>t.getHours());JW.range;const e2=un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oc)},(t,e)=>(e-t)/oc,t=>t.getUTCHours());e2.range;const sR=un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ta)/xc,t=>t.getDate()-1);sR.range;const WM=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xc,t=>t.getUTCDate()-1);WM.range;const Lle=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xc,t=>Math.floor(t/xc));Lle.range;function Zf(t){return un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,i)=>{e.setDate(e.getDate()+i*7)},(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*Ta)/XW)}const UM=Zf(0),pA=Zf(1),iat=Zf(2),rat=Zf(3),wv=Zf(4),nat=Zf(5),sat=Zf(6);UM.range;pA.range;iat.range;rat.range;wv.range;nat.range;sat.range;function Jf(t){return un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i*7)},(e,i)=>(i-e)/XW)}const zM=Jf(0),fA=Jf(1),oat=Jf(2),aat=Jf(3),Ev=Jf(4),lat=Jf(5),uat=Jf(6);zM.range;fA.range;oat.range;aat.range;Ev.range;lat.range;uat.range;const t2=un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());t2.range;const i2=un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());i2.range;const Ac=un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ac.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i*t)});Ac.range;const Oc=un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Oc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)});Oc.range;function _le(t,e,i,r,n,s){const o=[[dp,1,sc],[dp,5,5*sc],[dp,15,15*sc],[dp,30,30*sc],[s,1,Ta],[s,5,5*Ta],[s,15,15*Ta],[s,30,30*Ta],[n,1,oc],[n,3,3*oc],[n,6,6*oc],[n,12,12*oc],[r,1,xc],[r,2,2*xc],[i,1,XW],[e,1,J6],[e,3,3*J6],[t,1,f_]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const f=d&&typeof d.range=="function"?d:l(u,c,d),g=f?f.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,f=kW(([,,C])=>C).right(o,h);if(f===o.length)return t.every(_G(u/f_,c/f_,d));if(f===0)return hA.every(Math.max(_G(u,c,d),1));const[g,v]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(v)}return[a,l]}const[cat,dat]=_le(Oc,i2,zM,Lle,e2,ZW),[hat,pat]=_le(Ac,t2,UM,sR,JW,QW);function g_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function m_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sy(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function fat(t){var e=t.dateTime,i=t.date,r=t.time,n=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=wy(n),c=Ey(n),d=wy(s),h=Ey(s),f=wy(o),g=Ey(o),v=wy(a),C=Ey(a),S=wy(l),y=Ey(l),w={a:Q,A:H,b:X,B:te,c:null,d:sq,e:sq,f:Gat,g:Kat,G:qat,H:Lat,I:_at,j:Nat,L:Nle,m:kat,M:Vat,p:le,q:J,Q:lq,s:uq,S:Hat,u:$at,U:Bat,V:Wat,w:Uat,W:zat,x:null,X:null,y:jat,Y:Yat,Z:Xat,"%":aq},E={a:ie,A:ue,b:me,B:se,c:null,d:oq,e:oq,f:elt,g:clt,G:hlt,H:Qat,I:Zat,j:Jat,L:kle,m:tlt,M:ilt,p:he,q:Ee,Q:lq,s:uq,S:rlt,u:nlt,U:slt,V:olt,w:alt,W:llt,x:null,X:null,y:ult,Y:dlt,Z:plt,"%":aq},b={a:_,A:L,b:k,B:$,c:U,d:rq,e:rq,f:Oat,g:iq,G:tq,H:nq,I:nq,j:Dat,L:Aat,m:Tat,M:Pat,p:N,q:Rat,Q:Fat,s:Iat,S:xat,u:yat,U:Sat,V:wat,w:Cat,W:Eat,x:K,X:j,y:iq,Y:tq,Z:bat,"%":Mat};w.x=D(i,w),w.X=D(r,w),w.c=D(e,w),E.x=D(i,E),E.X=D(r,E),E.c=D(e,E);function D(pe,ye){return function(Ce){var re=[],oe=-1,fe=0,we=pe.length,Ue,Be,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++oe<we;)pe.charCodeAt(oe)===37&&(re.push(pe.slice(fe,oe)),(Be=eq[Ue=pe.charAt(++oe)])!=null?Ue=pe.charAt(++oe):Be=Ue==="e"?" ":"0",(Ve=ye[Ue])&&(Ue=Ve(Ce,Be)),re.push(Ue),fe=oe+1);return re.push(pe.slice(fe,oe)),re.join("")}}function P(pe,ye){return function(Ce){var re=Sy(1900,void 0,1),oe=O(re,pe,Ce+="",0),fe,we;if(oe!=Ce.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ye&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(fe=m_(Sy(re.y,0,1)),we=fe.getUTCDay(),fe=we>4||we===0?fA.ceil(fe):fA(fe),fe=WM.offset(fe,(re.V-1)*7),re.y=fe.getUTCFullYear(),re.m=fe.getUTCMonth(),re.d=fe.getUTCDate()+(re.w+6)%7):(fe=g_(Sy(re.y,0,1)),we=fe.getDay(),fe=we>4||we===0?pA.ceil(fe):pA(fe),fe=sR.offset(fe,(re.V-1)*7),re.y=fe.getFullYear(),re.m=fe.getMonth(),re.d=fe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),we="Z"in re?m_(Sy(re.y,0,1)).getUTCDay():g_(Sy(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(we+5)%7:re.w+re.U*7-(we+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,m_(re)):g_(re)}}function O(pe,ye,Ce,re){for(var oe=0,fe=ye.length,we=Ce.length,Ue,Be;oe<fe;){if(re>=we)return-1;if(Ue=ye.charCodeAt(oe++),Ue===37){if(Ue=ye.charAt(oe++),Be=b[Ue in eq?ye.charAt(oe++):Ue],!Be||(re=Be(pe,Ce,re))<0)return-1}else if(Ue!=Ce.charCodeAt(re++))return-1}return re}function N(pe,ye,Ce){var re=u.exec(ye.slice(Ce));return re?(pe.p=c.get(re[0].toLowerCase()),Ce+re[0].length):-1}function _(pe,ye,Ce){var re=f.exec(ye.slice(Ce));return re?(pe.w=g.get(re[0].toLowerCase()),Ce+re[0].length):-1}function L(pe,ye,Ce){var re=d.exec(ye.slice(Ce));return re?(pe.w=h.get(re[0].toLowerCase()),Ce+re[0].length):-1}function k(pe,ye,Ce){var re=S.exec(ye.slice(Ce));return re?(pe.m=y.get(re[0].toLowerCase()),Ce+re[0].length):-1}function $(pe,ye,Ce){var re=v.exec(ye.slice(Ce));return re?(pe.m=C.get(re[0].toLowerCase()),Ce+re[0].length):-1}function U(pe,ye,Ce){return O(pe,e,ye,Ce)}function K(pe,ye,Ce){return O(pe,i,ye,Ce)}function j(pe,ye,Ce){return O(pe,r,ye,Ce)}function Q(pe){return o[pe.getDay()]}function H(pe){return s[pe.getDay()]}function X(pe){return l[pe.getMonth()]}function te(pe){return a[pe.getMonth()]}function le(pe){return n[+(pe.getHours()>=12)]}function J(pe){return 1+~~(pe.getMonth()/3)}function ie(pe){return o[pe.getUTCDay()]}function ue(pe){return s[pe.getUTCDay()]}function me(pe){return l[pe.getUTCMonth()]}function se(pe){return a[pe.getUTCMonth()]}function he(pe){return n[+(pe.getUTCHours()>=12)]}function Ee(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var ye=D(pe+="",w);return ye.toString=function(){return pe},ye},parse:function(pe){var ye=P(pe+="",!1);return ye.toString=function(){return pe},ye},utcFormat:function(pe){var ye=D(pe+="",E);return ye.toString=function(){return pe},ye},utcParse:function(pe){var ye=P(pe+="",!0);return ye.toString=function(){return pe},ye}}}var eq={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,gat=/^%/,mat=/[\\^$*+?|[\]().{}]/g;function oi(t,e,i){var r=t<0?"-":"",n=(r?-t:t)+"",s=n.length;return r+(s<i?new Array(i-s+1).join(e)+n:n)}function vat(t){return t.replace(mat,"\\$&")}function wy(t){return new RegExp("^(?:"+t.map(vat).join("|")+")","i")}function Ey(t){return new Map(t.map((e,i)=>[e.toLowerCase(),i]))}function Cat(t,e,i){var r=Pn.exec(e.slice(i,i+1));return r?(t.w=+r[0],i+r[0].length):-1}function yat(t,e,i){var r=Pn.exec(e.slice(i,i+1));return r?(t.u=+r[0],i+r[0].length):-1}function Sat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.U=+r[0],i+r[0].length):-1}function wat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.V=+r[0],i+r[0].length):-1}function Eat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.W=+r[0],i+r[0].length):-1}function tq(t,e,i){var r=Pn.exec(e.slice(i,i+4));return r?(t.y=+r[0],i+r[0].length):-1}function iq(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function bat(t,e,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function Rat(t,e,i){var r=Pn.exec(e.slice(i,i+1));return r?(t.q=r[0]*3-3,i+r[0].length):-1}function Tat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.m=r[0]-1,i+r[0].length):-1}function rq(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.d=+r[0],i+r[0].length):-1}function Dat(t,e,i){var r=Pn.exec(e.slice(i,i+3));return r?(t.m=0,t.d=+r[0],i+r[0].length):-1}function nq(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.H=+r[0],i+r[0].length):-1}function Pat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.M=+r[0],i+r[0].length):-1}function xat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.S=+r[0],i+r[0].length):-1}function Aat(t,e,i){var r=Pn.exec(e.slice(i,i+3));return r?(t.L=+r[0],i+r[0].length):-1}function Oat(t,e,i){var r=Pn.exec(e.slice(i,i+6));return r?(t.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function Mat(t,e,i){var r=gat.exec(e.slice(i,i+1));return r?i+r[0].length:-1}function Fat(t,e,i){var r=Pn.exec(e.slice(i));return r?(t.Q=+r[0],i+r[0].length):-1}function Iat(t,e,i){var r=Pn.exec(e.slice(i));return r?(t.s=+r[0],i+r[0].length):-1}function sq(t,e){return oi(t.getDate(),e,2)}function Lat(t,e){return oi(t.getHours(),e,2)}function _at(t,e){return oi(t.getHours()%12||12,e,2)}function Nat(t,e){return oi(1+sR.count(Ac(t),t),e,3)}function Nle(t,e){return oi(t.getMilliseconds(),e,3)}function Gat(t,e){return Nle(t,e)+"000"}function kat(t,e){return oi(t.getMonth()+1,e,2)}function Vat(t,e){return oi(t.getMinutes(),e,2)}function Hat(t,e){return oi(t.getSeconds(),e,2)}function $at(t){var e=t.getDay();return e===0?7:e}function Bat(t,e){return oi(UM.count(Ac(t)-1,t),e,2)}function Gle(t){var e=t.getDay();return e>=4||e===0?wv(t):wv.ceil(t)}function Wat(t,e){return t=Gle(t),oi(wv.count(Ac(t),t)+(Ac(t).getDay()===4),e,2)}function Uat(t){return t.getDay()}function zat(t,e){return oi(pA.count(Ac(t)-1,t),e,2)}function jat(t,e){return oi(t.getFullYear()%100,e,2)}function Kat(t,e){return t=Gle(t),oi(t.getFullYear()%100,e,2)}function Yat(t,e){return oi(t.getFullYear()%1e4,e,4)}function qat(t,e){var i=t.getDay();return t=i>=4||i===0?wv(t):wv.ceil(t),oi(t.getFullYear()%1e4,e,4)}function Xat(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+oi(e/60|0,"0",2)+oi(e%60,"0",2)}function oq(t,e){return oi(t.getUTCDate(),e,2)}function Qat(t,e){return oi(t.getUTCHours(),e,2)}function Zat(t,e){return oi(t.getUTCHours()%12||12,e,2)}function Jat(t,e){return oi(1+WM.count(Oc(t),t),e,3)}function kle(t,e){return oi(t.getUTCMilliseconds(),e,3)}function elt(t,e){return kle(t,e)+"000"}function tlt(t,e){return oi(t.getUTCMonth()+1,e,2)}function ilt(t,e){return oi(t.getUTCMinutes(),e,2)}function rlt(t,e){return oi(t.getUTCSeconds(),e,2)}function nlt(t){var e=t.getUTCDay();return e===0?7:e}function slt(t,e){return oi(zM.count(Oc(t)-1,t),e,2)}function Vle(t){var e=t.getUTCDay();return e>=4||e===0?Ev(t):Ev.ceil(t)}function olt(t,e){return t=Vle(t),oi(Ev.count(Oc(t),t)+(Oc(t).getUTCDay()===4),e,2)}function alt(t){return t.getUTCDay()}function llt(t,e){return oi(fA.count(Oc(t)-1,t),e,2)}function ult(t,e){return oi(t.getUTCFullYear()%100,e,2)}function clt(t,e){return t=Vle(t),oi(t.getUTCFullYear()%100,e,2)}function dlt(t,e){return oi(t.getUTCFullYear()%1e4,e,4)}function hlt(t,e){var i=t.getUTCDay();return t=i>=4||i===0?Ev(t):Ev.ceil(t),oi(t.getUTCFullYear()%1e4,e,4)}function plt(){return"+0000"}function aq(){return"%"}function lq(t){return+t}function uq(t){return Math.floor(+t/1e3)}var Tg,Hle,$le;flt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function flt(t){return Tg=fat(t),Hle=Tg.format,Tg.parse,$le=Tg.utcFormat,Tg.utcParse,Tg}function glt(t){return new Date(t)}function mlt(t){return t instanceof Date?+t:+new Date(+t)}function r2(t,e,i,r,n,s,o,a,l,u){var c=WW(),d=c.invert,h=c.domain,f=u(".%L"),g=u(":%S"),v=u("%I:%M"),C=u("%I %p"),S=u("%a %d"),y=u("%b %d"),w=u("%B"),E=u("%Y");function b(D){return(l(D)<D?f:a(D)<D?g:o(D)<D?v:s(D)<D?C:r(D)<D?n(D)<D?S:y:i(D)<D?w:E)(D)}return c.invert=function(D){return new Date(d(D))},c.domain=function(D){return arguments.length?h(Array.from(D,mlt)):h().map(glt)},c.ticks=function(D){var P=h();return t(P[0],P[P.length-1],D??10)},c.tickFormat=function(D,P){return P==null?b:u(P)},c.nice=function(D){var P=h();return(!D||typeof D.range!="function")&&(D=e(P[0],P[P.length-1],D??10)),D?h(Ple(P,D)):c},c.copy=function(){return nR(c,r2(t,e,i,r,n,s,o,a,l,u))},c}function vlt(){return Za.apply(r2(hat,pat,Ac,t2,UM,sR,JW,QW,dp,Hle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Clt(){return Za.apply(r2(cat,dat,Oc,i2,zM,WM,e2,ZW,dp,$le).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jM(){var t=0,e=1,i,r,n,s,o=Cs,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(n===0?.5:(d=(s(d)-i)*n,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,i=s(t=+t),r=s(e=+e),n=i===r?0:1/(r-i),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(h){var f,g;return arguments.length?([f,g]=h,o=d(f,g),u):[o(0),o(1)]}}return u.range=c(PC),u.rangeRound=c(BW),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,i=d(t),r=d(e),n=i===r?0:1/(r-i),u}}function Eh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ble(){var t=wh(jM()(Cs));return t.copy=function(){return Eh(t,Ble())},Xc.apply(t,arguments)}function Wle(){var t=jW(jM()).domain([1,10]);return t.copy=function(){return Eh(t,Wle()).base(t.base())},Xc.apply(t,arguments)}function Ule(){var t=KW(jM());return t.copy=function(){return Eh(t,Ule()).constant(t.constant())},Xc.apply(t,arguments)}function n2(){var t=YW(jM());return t.copy=function(){return Eh(t,n2()).exponent(t.exponent())},Xc.apply(t,arguments)}function ylt(){return n2.apply(null,arguments).exponent(.5)}function zle(){var t=[],e=Cs;function i(r){if(r!=null&&!isNaN(r=+r))return e((iR(t,r,1)-1)/(t.length-1))}return i.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let n of r)n!=null&&!isNaN(n=+n)&&t.push(n);return t.sort(Bd),i},i.interpolator=function(r){return arguments.length?(e=r,i):e},i.range=function(){return t.map((r,n)=>e(n/(t.length-1)))},i.quantiles=function(r){return Array.from({length:r+1},(n,s)=>sot(t,s/r))},i.copy=function(){return zle(e).domain(t)},Xc.apply(i,arguments)}function KM(){var t=0,e=.5,i=1,r=1,n,s,o,a,l,u=Cs,c,d=!1,h;function f(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-s)*(r*v<r*s?a:l),u(d?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([t,e,i]=v,n=c(t=+t),s=c(e=+e),o=c(i=+i),a=n===s?0:.5/(s-n),l=s===o?0:.5/(o-s),r=s<n?-1:1,f):[t,e,i]},f.clamp=function(v){return arguments.length?(d=!!v,f):d},f.interpolator=function(v){return arguments.length?(u=v,f):u};function g(v){return function(C){var S,y,w;return arguments.length?([S,y,w]=C,u=Mot(v,[S,y,w]),f):[u(0),u(.5),u(1)]}}return f.range=g(PC),f.rangeRound=g(BW),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return c=v,n=v(t),s=v(e),o=v(i),a=n===s?0:.5/(s-n),l=s===o?0:.5/(o-s),r=s<n?-1:1,f}}function jle(){var t=wh(KM()(Cs));return t.copy=function(){return Eh(t,jle())},Xc.apply(t,arguments)}function Kle(){var t=jW(KM()).domain([.1,1,10]);return t.copy=function(){return Eh(t,Kle()).base(t.base())},Xc.apply(t,arguments)}function Yle(){var t=KW(KM());return t.copy=function(){return Eh(t,Yle()).constant(t.constant())},Xc.apply(t,arguments)}function s2(){var t=YW(KM());return t.copy=function(){return Eh(t,s2()).exponent(t.exponent())},Xc.apply(t,arguments)}function Slt(){return s2.apply(null,arguments).exponent(.5)}const cq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uE,scaleDiverging:jle,scaleDivergingLog:Kle,scaleDivergingPow:s2,scaleDivergingSqrt:Slt,scaleDivergingSymlog:Yle,scaleIdentity:Dle,scaleImplicit:NG,scaleLinear:dA,scaleLog:xle,scaleOrdinal:VW,scalePoint:SS,scalePow:qW,scaleQuantile:Mle,scaleQuantize:Fle,scaleRadial:Ole,scaleSequential:Ble,scaleSequentialLog:Wle,scaleSequentialPow:n2,scaleSequentialQuantile:zle,scaleSequentialSqrt:ylt,scaleSequentialSymlog:Ule,scaleSqrt:eat,scaleSymlog:Ale,scaleThreshold:Ile,scaleTime:vlt,scaleUtc:Clt,tickFormat:Tle},Symbol.toStringTag,{value:"Module"}));var wlt=yC;function Elt(t,e,i){for(var r=-1,n=t.length;++r<n;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!wlt(o):i(o,a)))var a=o,l=s}return l}var qle=Elt;function blt(t,e){return t>e}var Rlt=blt,Tlt=qle,Dlt=Rlt,Plt=TC;function xlt(t){return t&&t.length?Tlt(t,Plt,Dlt):void 0}var Alt=xlt;const YM=Pt(Alt);function Olt(t,e){return t<e}var Mlt=Olt,Flt=qle,Ilt=Mlt,Llt=TC;function _lt(t){return t&&t.length?Flt(t,Llt,Ilt):void 0}var Nlt=_lt;const qM=Pt(Nlt);var Glt=vM,klt=Sh,Vlt=Goe,Hlt=ls;function $lt(t,e){var i=Hlt(t)?Glt:Vlt;return i(t,klt(e))}var Blt=$lt,Wlt=vW,Ult=Blt;function zlt(t,e){return Wlt(Ult(t,e),1)}var jlt=zlt;const Klt=Pt(jlt);var xC=1e9,Ylt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a2,pr=!0,Ba="[DecimalError] ",Lp=Ba+"Invalid argument: ",o2=Ba+"Exponent out of range: ",AC=Math.floor,Yh=Math.pow,qlt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oo,hn=1e7,Zi=7,Xle=9007199254740991,gA=AC(Xle/Zi),Je={};Je.absoluteValue=Je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Je.comparedTo=Je.cmp=function(t){var e,i,r,n,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,n=t.d.length,e=0,i=r<n?r:n;e<i;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===n?0:r>n^s.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var t=this,e=t.d.length-1,i=(e-t.e)*Zi;if(e=t.d[e],e)for(;e%10==0;e/=10)i--;return i<0?0:i};Je.dividedBy=Je.div=function(t){return cc(this,new this.constructor(t))};Je.dividedToIntegerBy=Je.idiv=function(t){var e=this,i=e.constructor;return Ii(cc(e,new i(t),0,1),i.precision)};Je.equals=Je.eq=function(t){return!this.cmp(t)};Je.exponent=function(){return qr(this)};Je.greaterThan=Je.gt=function(t){return this.cmp(t)>0};Je.greaterThanOrEqualTo=Je.gte=function(t){return this.cmp(t)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(t){return this.cmp(t)<0};Je.lessThanOrEqualTo=Je.lte=function(t){return this.cmp(t)<1};Je.logarithm=Je.log=function(t){var e,i=this,r=i.constructor,n=r.precision,s=n+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oo))throw Error(Ba+"NaN");if(i.s<1)throw Error(Ba+(i.s?"NaN":"-Infinity"));return i.eq(Oo)?new r(0):(pr=!1,e=cc(fE(i,s),fE(t,s),s),pr=!0,Ii(e,n))};Je.minus=Je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jle(e,t):Qle(e,(t.s=-t.s,t))};Je.modulo=Je.mod=function(t){var e,i=this,r=i.constructor,n=r.precision;if(t=new r(t),!t.s)throw Error(Ba+"NaN");return i.s?(pr=!1,e=cc(i,t,0,1).times(t),pr=!0,i.minus(e)):Ii(new r(i),n)};Je.naturalExponential=Je.exp=function(){return Zle(this)};Je.naturalLogarithm=Je.ln=function(){return fE(this)};Je.negated=Je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Je.plus=Je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Qle(e,t):Jle(e,(t.s=-t.s,t))};Je.precision=Je.sd=function(t){var e,i,r,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Lp+t);if(e=qr(n)+1,r=n.d.length-1,i=r*Zi+1,r=n.d[r],r){for(;r%10==0;r/=10)i--;for(r=n.d[0];r>=10;r/=10)i++}return t&&e>i?e:i};Je.squareRoot=Je.sqrt=function(){var t,e,i,r,n,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ba+"NaN")}for(t=qr(a),pr=!1,n=Math.sqrt(+a),n==0||n==1/0?(e=cu(a.d),(e.length+t)%2==0&&(e+="0"),n=Math.sqrt(e),t=AC((t+1)/2)-(t<0||t%2),n==1/0?e="5e"+t:(e=n.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(n.toString()),i=l.precision,n=o=i+3;;)if(s=r,r=s.plus(cc(a,s,o+2)).times(.5),cu(s.d).slice(0,o)===(e=cu(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),n==o&&e=="4999"){if(Ii(s,i+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return pr=!0,Ii(r,i)};Je.times=Je.mul=function(t){var e,i,r,n,s,o,a,l,u,c=this,d=c.constructor,h=c.d,f=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,i=c.e+t.e,l=h.length,u=f.length,l<u&&(s=h,h=f,f=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,n=l+r;n>r;)a=s[n]+f[r]*h[n-r-1]+e,s[n--]=a%hn|0,e=a/hn|0;s[n]=(s[n]+e)%hn|0}for(;!s[--o];)s.pop();return e?++i:s.shift(),t.d=s,t.e=i,pr?Ii(t,d.precision):t};Je.toDecimalPlaces=Je.todp=function(t,e){var i=this,r=i.constructor;return i=new r(i),t===void 0?i:(_u(t,0,xC),e===void 0?e=r.rounding:_u(e,0,8),Ii(i,t+qr(i)+1,e))};Je.toExponential=function(t,e){var i,r=this,n=r.constructor;return t===void 0?i=mf(r,!0):(_u(t,0,xC),e===void 0?e=n.rounding:_u(e,0,8),r=Ii(new n(r),t+1,e),i=mf(r,!0,t+1)),i};Je.toFixed=function(t,e){var i,r,n=this,s=n.constructor;return t===void 0?mf(n):(_u(t,0,xC),e===void 0?e=s.rounding:_u(e,0,8),r=Ii(new s(n),t+qr(n)+1,e),i=mf(r.abs(),!1,t+qr(r)+1),n.isneg()&&!n.isZero()?"-"+i:i)};Je.toInteger=Je.toint=function(){var t=this,e=t.constructor;return Ii(new e(t),qr(t)+1,e.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(t){var e,i,r,n,s,o,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Oo);if(a=new l(a),!a.s){if(t.s<1)throw Error(Ba+"Infinity");return a}if(a.eq(Oo))return a;if(r=l.precision,t.eq(Oo))return Ii(a,r);if(e=t.e,i=t.d.length-1,o=e>=i,s=a.s,o){if((i=c<0?-c:c)<=Xle){for(n=new l(Oo),e=Math.ceil(r/Zi+4),pr=!1;i%2&&(n=n.times(a),hq(n.d,e)),i=AC(i/2),i!==0;)a=a.times(a),hq(a.d,e);return pr=!0,t.s<0?new l(Oo).div(n):Ii(n,r)}}else if(s<0)throw Error(Ba+"NaN");return s=s<0&&t.d[Math.max(e,i)]&1?-1:1,a.s=1,pr=!1,n=t.times(fE(a,r+u)),pr=!0,n=Zle(n),n.s=s,n};Je.toPrecision=function(t,e){var i,r,n=this,s=n.constructor;return t===void 0?(i=qr(n),r=mf(n,i<=s.toExpNeg||i>=s.toExpPos)):(_u(t,1,xC),e===void 0?e=s.rounding:_u(e,0,8),n=Ii(new s(n),t,e),i=qr(n),r=mf(n,t<=i||i<=s.toExpNeg,t)),r};Je.toSignificantDigits=Je.tosd=function(t,e){var i=this,r=i.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_u(t,1,xC),e===void 0?e=r.rounding:_u(e,0,8)),Ii(new r(i),t,e)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qr(t),i=t.constructor;return mf(t,e<=i.toExpNeg||e>=i.toExpPos)};function Qle(t,e){var i,r,n,s,o,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),pr?Ii(e,d):e;if(l=t.d,u=e.d,o=t.e,n=e.e,l=l.slice(),s=o-n,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,n=o,a=l.length),o=Math.ceil(d/Zi),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),i=0;s;)i=(l[--s]=l[s]+u[s]+i)/hn|0,l[s]%=hn;for(i&&(l.unshift(i),++n),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=n,pr?Ii(e,d):e}function _u(t,e,i){if(t!==~~t||t<e||t>i)throw Error(Lp+t)}function cu(t){var e,i,r,n=t.length-1,s="",o=t[0];if(n>0){for(s+=o,e=1;e<n;e++)r=t[e]+"",i=Zi-r.length,i&&(s+=vd(i)),s+=r;o=t[e],r=o+"",i=Zi-r.length,i&&(s+=vd(i))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var cc=function(){function t(r,n){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*n+o,r[a]=s%hn|0,o=s/hn|0;return o&&r.unshift(o),r}function e(r,n,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=n[a]){l=r[a]>n[a]?1:-1;break}return l}function i(r,n,s){for(var o=0;s--;)r[s]-=o,o=r[s]<n[s]?1:0,r[s]=o*hn+r[s]-n[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,n,s,o){var a,l,u,c,d,h,f,g,v,C,S,y,w,E,b,D,P,O,N=r.constructor,_=r.s==n.s?1:-1,L=r.d,k=n.d;if(!r.s)return new N(r);if(!n.s)throw Error(Ba+"Division by zero");for(l=r.e-n.e,P=k.length,b=L.length,f=new N(_),g=f.d=[],u=0;k[u]==(L[u]||0);)++u;if(k[u]>(L[u]||0)&&--l,s==null?y=s=N.precision:o?y=s+(qr(r)-qr(n))+1:y=s,y<0)return new N(0);if(y=y/Zi+2|0,u=0,P==1)for(c=0,k=k[0],y++;(u<b||c)&&y--;u++)w=c*hn+(L[u]||0),g[u]=w/k|0,c=w%k|0;else{for(c=hn/(k[0]+1)|0,c>1&&(k=t(k,c),L=t(L,c),P=k.length,b=L.length),E=P,v=L.slice(0,P),C=v.length;C<P;)v[C++]=0;O=k.slice(),O.unshift(0),D=k[0],k[1]>=hn/2&&++D;do c=0,a=e(k,v,P,C),a<0?(S=v[0],P!=C&&(S=S*hn+(v[1]||0)),c=S/D|0,c>1?(c>=hn&&(c=hn-1),d=t(k,c),h=d.length,C=v.length,a=e(d,v,h,C),a==1&&(c--,i(d,P<h?O:k,h))):(c==0&&(a=c=1),d=k.slice()),h=d.length,h<C&&d.unshift(0),i(v,d,C),a==-1&&(C=v.length,a=e(k,v,P,C),a<1&&(c++,i(v,P<C?O:k,C))),C=v.length):a===0&&(c++,v=[0]),g[u++]=c,a&&v[0]?v[C++]=L[E]||0:(v=[L[E]],C=1);while((E++<b||v[0]!==void 0)&&y--)}return g[0]||g.shift(),f.e=l,Ii(f,o?s+qr(f)+1:s)}}();function Zle(t,e){var i,r,n,s,o,a,l=0,u=0,c=t.constructor,d=c.precision;if(qr(t)>16)throw Error(o2+qr(t));if(!t.s)return new c(Oo);for(e==null?(pr=!1,a=d):a=e,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Yh(2,u))/Math.LN10*2+5|0,a+=r,i=n=s=new c(Oo),c.precision=a;;){if(n=Ii(n.times(t),a),i=i.times(++l),o=s.plus(cc(n,i,a)),cu(o.d).slice(0,a)===cu(s.d).slice(0,a)){for(;u--;)s=Ii(s.times(s),a);return c.precision=d,e==null?(pr=!0,Ii(s,d)):s}s=o}}function qr(t){for(var e=t.e*Zi,i=t.d[0];i>=10;i/=10)e++;return e}function v_(t,e,i){if(e>t.LN10.sd())throw pr=!0,i&&(t.precision=i),Error(Ba+"LN10 precision limit exceeded");return Ii(new t(t.LN10),e)}function vd(t){for(var e="";t--;)e+="0";return e}function fE(t,e){var i,r,n,s,o,a,l,u,c,d=1,h=10,f=t,g=f.d,v=f.constructor,C=v.precision;if(f.s<1)throw Error(Ba+(f.s?"NaN":"-Infinity"));if(f.eq(Oo))return new v(0);if(e==null?(pr=!1,u=C):u=e,f.eq(10))return e==null&&(pr=!0),v_(v,u);if(u+=h,v.precision=u,i=cu(g),r=i.charAt(0),s=qr(f),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&i.charAt(1)>3;)f=f.times(t),i=cu(f.d),r=i.charAt(0),d++;s=qr(f),r>1?(f=new v("0."+i),s++):f=new v(r+"."+i.slice(1))}else return l=v_(v,u+2,C).times(s+""),f=fE(new v(r+"."+i.slice(1)),u-h).plus(l),v.precision=C,e==null?(pr=!0,Ii(f,C)):f;for(a=o=f=cc(f.minus(Oo),f.plus(Oo),u),c=Ii(f.times(f),u),n=3;;){if(o=Ii(o.times(c),u),l=a.plus(cc(o,new v(n),u)),cu(l.d).slice(0,u)===cu(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(v_(v,u+2,C).times(s+""))),a=cc(a,new v(d),u),v.precision=C,e==null?(pr=!0,Ii(a,C)):a;a=l,n+=2}}function dq(t,e){var i,r,n;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(i<0&&(i=r),i+=+e.slice(r+1),e=e.substring(0,r)):i<0&&(i=e.length),r=0;e.charCodeAt(r)===48;)++r;for(n=e.length;e.charCodeAt(n-1)===48;)--n;if(e=e.slice(r,n),e){if(n-=r,i=i-r-1,t.e=AC(i/Zi),t.d=[],r=(i+1)%Zi,i<0&&(r+=Zi),r<n){for(r&&t.d.push(+e.slice(0,r)),n-=Zi;r<n;)t.d.push(+e.slice(r,r+=Zi));e=e.slice(r),r=Zi-e.length}else r-=n;for(;r--;)e+="0";if(t.d.push(+e),pr&&(t.e>gA||t.e<-gA))throw Error(o2+i)}else t.s=0,t.e=0,t.d=[0];return t}function Ii(t,e,i){var r,n,s,o,a,l,u,c,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Zi,n=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Zi),s=d.length,c>=s)return t;for(u=s=d[c],o=1;s>=10;s/=10)o++;r%=Zi,n=r-Zi+o}if(i!==void 0&&(s=Yh(10,o-n-1),a=u/s%10|0,l=e<0||d[c+1]!==void 0||u%s,l=i<4?(a||l)&&(i==0||i==(t.s<0?3:2)):a>5||a==5&&(i==4||l||i==6&&(r>0?n>0?u/Yh(10,o-n):0:d[c-1])%10&1||i==(t.s<0?8:7))),e<1||!d[0])return l?(s=qr(t),d.length=1,e=e-s-1,d[0]=Yh(10,(Zi-e%Zi)%Zi),t.e=AC(-e/Zi)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,s=1,c--):(d.length=c+1,s=Yh(10,Zi-r),d[c]=n>0?(u/Yh(10,o-n)%Yh(10,n)|0)*s:0),l)for(;;)if(c==0){(d[0]+=s)==hn&&(d[0]=1,++t.e);break}else{if(d[c]+=s,d[c]!=hn)break;d[c--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(pr&&(t.e>gA||t.e<-gA))throw Error(o2+qr(t));return t}function Jle(t,e){var i,r,n,s,o,a,l,u,c,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),pr?Ii(e,f):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(i=l,o=-o,a=d.length):(i=d,r=u,a=l.length),n=Math.max(Math.ceil(f/Zi),a)+2,o>n&&(o=n,i.length=1),i.reverse(),n=o;n--;)i.push(0);i.reverse()}else{for(n=l.length,a=d.length,c=n<a,c&&(a=n),n=0;n<a;n++)if(l[n]!=d[n]){c=l[n]<d[n];break}o=0}for(c&&(i=l,l=d,d=i,e.s=-e.s),a=l.length,n=d.length-a;n>0;--n)l[a++]=0;for(n=d.length;n>o;){if(l[--n]<d[n]){for(s=n;s&&l[--s]===0;)l[s]=hn-1;--l[s],l[n]+=hn}l[n]-=d[n]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,pr?Ii(e,f):e):new h(0)}function mf(t,e,i){var r,n=qr(t),s=cu(t.d),o=s.length;return e?(i&&(r=i-o)>0?s=s.charAt(0)+"."+s.slice(1)+vd(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n<0?"e":"e+")+n):n<0?(s="0."+vd(-n-1)+s,i&&(r=i-o)>0&&(s+=vd(r))):n>=o?(s+=vd(n+1-o),i&&(r=i-n-1)>0&&(s=s+"."+vd(r))):((r=n+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),i&&(r=i-o)>0&&(n+1===o&&(s+="."),s+=vd(r))),t.s<0?"-"+s:s}function hq(t,e){if(t.length>e)return t.length=e,!0}function eue(t){var e,i,r;function n(s){var o=this;if(!(o instanceof n))return new n(s);if(o.constructor=n,s instanceof n){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Lp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return dq(o,s.toString())}else if(typeof s!="string")throw Error(Lp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,qlt.test(s))dq(o,s);else throw Error(Lp+s)}if(n.prototype=Je,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=eue,n.config=n.set=Xlt,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(i=r[e++])||(t[i]=this[i]);return n.config(t),n}function Xlt(t){if(!t||typeof t!="object")throw Error(Ba+"Object expected");var e,i,r,n=["precision",1,xC,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<n.length;e+=3)if((r=t[i=n[e]])!==void 0)if(AC(r)===r&&r>=n[e+1]&&r<=n[e+2])this[i]=r;else throw Error(Lp+i+": "+r);if((r=t[i="LN10"])!==void 0)if(r==Math.LN10)this[i]=new this(r);else throw Error(Lp+i+": "+r);return this}var a2=eue(Ylt);Oo=new a2(1);const Oi=a2;function Qlt(t){return tut(t)||eut(t)||Jlt(t)||Zlt()}function Zlt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jlt(t,e){if(t){if(typeof t=="string")return HG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return HG(t,e)}}function eut(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tut(t){if(Array.isArray(t))return HG(t)}function HG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var iut=function(e){return e},tue={"@@functional/placeholder":!0},iue=function(e){return e===tue},pq=function(e){return function i(){return arguments.length===0||arguments.length===1&&iue(arguments.length<=0?void 0:arguments[0])?i:e.apply(void 0,arguments)}},rut=function t(e,i){return e===1?i:pq(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var o=n.filter(function(a){return a!==tue}).length;return o>=e?i.apply(void 0,n):t(e-o,pq(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=n.map(function(d){return iue(d)?l.shift():d});return i.apply(void 0,Qlt(c).concat(l))}))})},XM=function(e){return rut(e.length,e)},$G=function(e,i){for(var r=[],n=e;n<i;++n)r[n-e]=n;return r},nut=XM(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(i){return e[i]}).map(t)}),sut=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(!i.length)return iut;var n=i.reverse(),s=n[0],o=n.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},BG=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rue=function(e){var i=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i&&s.every(function(a,l){return a===i[l]})||(i=s,r=e.apply(void 0,s)),r}};function out(t){var e;return t===0?e=1:e=Math.floor(new Oi(t).abs().log(10).toNumber())+1,e}function aut(t,e,i){for(var r=new Oi(t),n=0,s=[];r.lt(e)&&n<1e5;)s.push(r.toNumber()),r=r.add(i),n++;return s}var lut=XM(function(t,e,i){var r=+t,n=+e;return r+i*(n-r)}),uut=XM(function(t,e,i){var r=e-+t;return r=r||1/0,(i-t)/r}),cut=XM(function(t,e,i){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(i-t)/r))});const QM={rangeStep:aut,getDigitCount:out,interpolateNumber:lut,uninterpolateNumber:uut,uninterpolateTruncation:cut};function WG(t){return put(t)||hut(t)||nue(t)||dut()}function dut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hut(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function put(t){if(Array.isArray(t))return UG(t)}function gE(t,e){return mut(t)||gut(t,e)||nue(t,e)||fut()}function fut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nue(t,e){if(t){if(typeof t=="string")return UG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return UG(t,e)}}function UG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function gut(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var i=[],r=!0,n=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){n=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(n)throw s}}return i}}function mut(t){if(Array.isArray(t))return t}function sue(t){var e=gE(t,2),i=e[0],r=e[1],n=i,s=r;return i>r&&(n=r,s=i),[n,s]}function oue(t,e,i){if(t.lte(0))return new Oi(0);var r=QM.getDigitCount(t.toNumber()),n=new Oi(10).pow(r),s=t.div(n),o=r!==1?.05:.1,a=new Oi(Math.ceil(s.div(o).toNumber())).add(i).mul(o),l=a.mul(n);return e?l:new Oi(Math.ceil(l))}function vut(t,e,i){var r=1,n=new Oi(t);if(!n.isint()&&i){var s=Math.abs(t);s<1?(r=new Oi(10).pow(QM.getDigitCount(t)-1),n=new Oi(Math.floor(n.div(r).toNumber())).mul(r)):s>1&&(n=new Oi(Math.floor(t)))}else t===0?n=new Oi(Math.floor((e-1)/2)):i||(n=new Oi(Math.floor(t)));var o=Math.floor((e-1)/2),a=sut(nut(function(l){return n.add(new Oi(l-o).mul(r)).toNumber()}),$G);return a(0,e)}function aue(t,e,i,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(i-1)))return{step:new Oi(0),tickMin:new Oi(0),tickMax:new Oi(0)};var s=oue(new Oi(e).sub(t).div(i-1),r,n),o;t<=0&&e>=0?o=new Oi(0):(o=new Oi(t).add(e).div(2),o=o.sub(new Oi(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new Oi(e).sub(o).div(s).toNumber()),u=a+l+1;return u>i?aue(t,e,i,r,n+1):(u<i&&(l=e>0?l+(i-u):l,a=e>0?a:a+(i-u)),{step:s,tickMin:o.sub(new Oi(a).mul(s)),tickMax:o.add(new Oi(l).mul(s))})}function Cut(t){var e=gE(t,2),i=e[0],r=e[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),a=sue([i,r]),l=gE(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(WG($G(0,n-1).map(function(){return 1/0}))):[].concat(WG($G(0,n-1).map(function(){return-1/0})),[c]);return i>r?BG(d):d}if(u===c)return vut(u,n,s);var h=aue(u,c,o,s),f=h.step,g=h.tickMin,v=h.tickMax,C=QM.rangeStep(g,v.add(new Oi(.1).mul(f)),f);return i>r?BG(C):C}function yut(t,e){var i=gE(t,2),r=i[0],n=i[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=sue([r,n]),a=gE(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,n];if(l===u)return[l];var c=Math.max(e,2),d=oue(new Oi(u).sub(l).div(c-1),s,0),h=[].concat(WG(QM.rangeStep(new Oi(l),new Oi(u).sub(new Oi(.99).mul(d)),d)),[u]);return r>n?BG(h):h}var Sut=rue(Cut),wut=rue(yut),Eut="Invariant failed";function vf(t,e){if(!t)throw new Error(Eut)}var but=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function mA(){return mA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},mA.apply(this,arguments)}function Rut(t,e){return xut(t)||Put(t,e)||Dut(t,e)||Tut()}function Tut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dut(t,e){if(t){if(typeof t=="string")return fq(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fq(t,e)}}function fq(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Put(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function xut(t){if(Array.isArray(t))return t}function Aut(t,e){if(t==null)return{};var i=Out(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Out(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function ZM(t){var e=t.offset,i=t.layout,r=t.width,n=t.dataKey,s=t.data,o=t.dataPointFormatter,a=t.xAxis,l=t.yAxis,u=Aut(t,but),c=yi(u,!1);t.direction==="x"&&a.type!=="number"&&vf(!1);var d=s.map(function(h){var f=o(h,n),g=f.x,v=f.y,C=f.value,S=f.errorVal;if(!S)return null;var y=[],w,E;if(Array.isArray(S)){var b=Rut(S,2);w=b[0],E=b[1]}else w=E=S;if(i==="vertical"){var D=a.scale,P=v+e,O=P+r,N=P-r,_=D(C-w),L=D(C+E);y.push({x1:L,y1:O,x2:L,y2:N}),y.push({x1:_,y1:P,x2:L,y2:P}),y.push({x1:_,y1:O,x2:_,y2:N})}else if(i==="horizontal"){var k=l.scale,$=g+e,U=$-r,K=$+r,j=k(C-w),Q=k(C+E);y.push({x1:U,y1:Q,x2:K,y2:Q}),y.push({x1:$,y1:j,x2:$,y2:Q}),y.push({x1:U,y1:j,x2:K,y2:j})}return W.createElement(Cn,mA({className:"recharts-errorBar",key:"bar-".concat(y.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},c),y.map(function(H){return W.createElement("line",mA({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return W.createElement(Cn,{className:"recharts-errorBars"},d)}ZM.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};ZM.displayName="ErrorBar";function mE(t){"@babel/helpers - typeof";return mE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mE(t)}function gq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function C_(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(i),!0).forEach(function(r){Mut(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):gq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Mut(t,e,i){return e=Fut(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Fut(t){var e=Iut(t,"string");return mE(e)=="symbol"?e:String(e)}function Iut(t,e){if(mE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(mE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lue=function(e){var i=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,s=e.legendContent,o=To(i,rE);if(!o)return null;var a;return o.props&&o.props.payload?a=o.props&&o.props.payload:s==="children"?a=(r||[]).reduce(function(l,u){var c=u.item,d=u.props,h=d.sectors||d.data||[];return l.concat(h.map(function(f){return{type:o.props.iconType||c.props.legendType,value:f.name,color:f.fill,payload:f}}))},[]):a=(r||[]).map(function(l){var u=l.item,c=u.props,d=c.dataKey,h=c.name,f=c.legendType,g=c.hide;return{inactive:g,dataKey:d,type:o.props.iconType||f||"square",color:l2(u),value:h||d,payload:u.props}}),C_(C_(C_({},o.props),rE.getWithHeight(o,n)),{},{payload:a,item:o})};function vE(t){"@babel/helpers - typeof";return vE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vE(t)}function mq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function ya(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(i),!0).forEach(function(r){Tm(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Tm(t,e,i){return e=Lut(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Lut(t){var e=_ut(t,"string");return vE(e)=="symbol"?e:String(e)}function _ut(t,e){if(vE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(vE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vq(t){return Vut(t)||kut(t)||Gut(t)||Nut()}function Nut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gut(t,e){if(t){if(typeof t=="string")return zG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zG(t,e)}}function kut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vut(t){if(Array.isArray(t))return zG(t)}function zG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Nu(t,e,i){return Si(t)||Si(e)?i:sn(e)?Fa(t,e,i):ei(e)?e(t):i}function wS(t,e,i,r){var n=Klt(t,function(a){return Nu(a,e)});if(i==="number"){var s=n.filter(function(a){return Ye(a)||parseFloat(a)});return s.length?[qM(s),YM(s)]:[1/0,-1/0]}var o=r?n.filter(function(a){return!Si(a)}):n;return o.map(function(a){return sn(a)||a instanceof Date?a:""})}var Hut=function(e){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var c=u>0?n[u-1].coordinate:n[a-1].coordinate,d=n[u].coordinate,h=u>=a-1?n[0].coordinate:n[u+1].coordinate,f=void 0;if(wl(d-c)!==wl(h-d)){var g=[];if(wl(h-d)===wl(l[1]-l[0])){f=h;var v=d+l[1]-l[0];g[0]=Math.min(v,(v+c)/2),g[1]=Math.max(v,(v+c)/2)}else{f=c;var C=h+l[1]-l[0];g[0]=Math.min(d,(C+d)/2),g[1]=Math.max(d,(C+d)/2)}var S=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){o=n[u].index;break}}else{var y=Math.min(c,h),w=Math.max(c,h);if(e>(y+d)/2&&e<=(w+d)/2){o=n[u].index;break}}}else for(var E=0;E<a;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){o=r[E].index;break}return o},l2=function(e){var i=e,r=i.type.displayName,n=e.props,s=n.stroke,o=n.fill,a;switch(r){case"Line":a=s;break;case"Area":case"Radar":a=s&&s!=="none"?s:o;break;default:a=o;break}return a},$ut=function(e){var i=e.barSize,r=e.totalSize,n=e.stackGroups,s=n===void 0?{}:n;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var c=s[a[l]].stackGroups,d=Object.keys(c),h=0,f=d.length;h<f;h++){var g=c[d[h]],v=g.items,C=g.cateAxisId,S=v.filter(function(b){return uc(b.type).indexOf("Bar")>=0});if(S&&S.length){var y=S[0].props.barSize,w=S[0].props[C];o[w]||(o[w]=[]);var E=Si(y)?i:y;o[w].push({item:S[0],stackList:S.slice(1),barSize:Si(E)?void 0:gf(E,r,0)})}}return o},But=function(e){var i=e.barGap,r=e.barCategoryGap,n=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=gf(i,n,0,!0),c,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=n/l,g=o.reduce(function(E,b){return E+b.barSize||0},0);g+=(l-1)*u,g>=n&&(g-=(l-1)*u,u=0),g>=n&&f>0&&(h=!0,f*=.9,g=l*f);var v=(n-g)/2>>0,C={offset:v-u,size:0};c=o.reduce(function(E,b){var D={item:b.item,position:{offset:C.offset+C.size+u,size:h?f:b.barSize}},P=[].concat(vq(E),[D]);return C=P[P.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){P.push({item:O,position:C})}),P},d)}else{var S=gf(r,n,0,!0);n-2*S-(l-1)*u<=0&&(u=0);var y=(n-2*S-(l-1)*u)/l;y>1&&(y>>=0);var w=a===+a?Math.min(y,a):y;c=o.reduce(function(E,b,D){var P=[].concat(vq(E),[{item:b.item,position:{offset:S+(y+u)*D+(y-w)/2,size:w}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},d)}return c},Wut=function(e,i,r,n){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=lue({children:s,legendWidth:l});if(u){var c=n||{},d=c.width,h=c.height,f=u.align,g=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&g==="middle")&&f!=="center"&&Ye(e[f]))return ya(ya({},e),{},Tm({},f,e[f]+(d||0)));if((v==="horizontal"||v==="vertical"&&f==="center")&&g!=="middle"&&Ye(e[g]))return ya(ya({},e),{},Tm({},g,e[g]+(h||0)))}return e},Uut=function(e,i,r){return Si(i)?!0:e==="horizontal"?i==="yAxis":e==="vertical"||r==="x"?i==="xAxis":r==="y"?i==="yAxis":!0},uue=function(e,i,r,n,s){var o=i.props.children,a=Dl(o,ZM).filter(function(u){return Uut(n,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Nu(c,r);if(Si(d))return u;var h=Array.isArray(d)?[qM(d),YM(d)]:[d,d],f=l.reduce(function(g,v){var C=Nu(c,v,0),S=h[0]-Math.abs(Array.isArray(C)?C[0]:C),y=h[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(S,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},zut=function(e,i,r,n,s){var o=i.map(function(a){return uue(e,a,r,s,n)}).filter(function(a){return!Si(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},cue=function(e,i,r,n,s){var o=i.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&uue(e,l,u,n)||wS(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},due=function(e,i){return e==="horizontal"&&i==="xAxis"||e==="vertical"&&i==="yAxis"||e==="centric"&&i==="angleAxis"||e==="radial"&&i==="radiusAxis"},hp=function(e,i,r){if(!e)return null;var n=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,u=(i||r)&&o==="category"&&n.bandwidth?n.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?wl(a[0]-a[1])*2*u:u,i&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:n(h)+u,value:d,offset:u}});return c.filter(function(d){return!tR(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:n(d)+u,value:d,index:h,offset:u}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(d){return{coordinate:n(d)+u,value:d,offset:u}}):n.domain().map(function(d,h){return{coordinate:n(d)+u,value:s?s[d]:d,index:h,offset:u}})},y_=new WeakMap,KT=function(e,i){if(typeof i!="function")return e;y_.has(e)||y_.set(e,new WeakMap);var r=y_.get(e);if(r.has(i))return r.get(i);var n=function(){e.apply(void 0,arguments),i.apply(void 0,arguments)};return r.set(i,n),n},jut=function(e,i,r){var n=e.scale,s=e.type,o=e.layout,a=e.axisType;if(n==="auto")return o==="radial"&&a==="radiusAxis"?{scale:uE(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:dA(),realScaleType:"linear"}:s==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?{scale:SS(),realScaleType:"point"}:s==="category"?{scale:uE(),realScaleType:"band"}:{scale:dA(),realScaleType:"linear"};if(eR(n)){var l="scale".concat(GM(n));return{scale:(cq[l]||SS)(),realScaleType:cq[l]?l:"point"}}return ei(n)?{scale:n}:{scale:SS(),realScaleType:"point"}},Cq=1e-4,Kut=function(e){var i=e.domain();if(!(!i||i.length<=2)){var r=i.length,n=e.range(),s=Math.min(n[0],n[1])-Cq,o=Math.max(n[0],n[1])+Cq,a=e(i[0]),l=e(i[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([i[0],i[r-1]])}},Yut=function(e,i){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===i)return e[r].position;return null},qut=function(e,i){if(!i||i.length!==2||!Ye(i[0])||!Ye(i[1]))return e;var r=Math.min(i[0],i[1]),n=Math.max(i[0],i[1]),s=[e[0],e[1]];return(!Ye(e[0])||e[0]<r)&&(s[0]=r),(!Ye(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},Xut=function(e){var i=e.length;if(!(i<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0,a=0;a<i;++a){var l=tR(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},Qut=function(e){var i=e.length;if(!(i<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0;o<i;++o){var a=tR(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Zut={sign:Xut,expand:rrt,none:gv,silhouette:nrt,wiggle:srt,positive:Qut},Jut=function(e,i,r){var n=i.map(function(a){return a.props.dataKey}),s=Zut[r],o=irt().keys(n).value(function(a,l){return+Nu(a,l,0)}).order(wG).offset(s);return o(e)},ect=function(e,i,r,n,s,o){if(!e)return null;var a=o?i.reverse():i,l={},u=a.reduce(function(d,h){var f=h.props,g=f.stackId,v=f.hide;if(v)return d;var C=h.props[r],S=d[C]||{hasStack:!1,stackGroups:{}};if(sn(g)){var y=S.stackGroups[g]||{numericAxisId:r,cateAxisId:n,items:[]};y.items.push(h),S.hasStack=!0,S.stackGroups[g]=y}else S.stackGroups[NM("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[h]};return ya(ya({},d),{},Tm({},C,S))},l),c={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(v,C){var S=f.stackGroups[C];return ya(ya({},v),{},Tm({},C,{numericAxisId:r,cateAxisId:n,items:S.items,stackedData:Jut(e,S.items,s)}))},g)}return ya(ya({},d),{},Tm({},h,f))},c)},tct=function(e,i){var r=i.realScaleType,n=i.type,s=i.tickCount,o=i.originalDomain,a=i.allowDecimals,l=r||i.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Sut(u,s,a);return e.domain([qM(c),YM(c)]),{niceTicks:c}}if(s&&n==="number"){var d=e.domain(),h=wut(d,s,a);return{niceTicks:h}}return null},yq=function(e){var i=e.axis,r=e.ticks,n=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(i.type==="category")return r[a]?r[a].coordinate+n:null;var l=Nu(o,i.dataKey,i.domain[a]);return Si(l)?null:i.scale(l)-s/2+n},ict=function(e){var i=e.numericAxis,r=i.scale.domain();if(i.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},rct=function(e,i){var r=e.props.stackId;if(sn(r)){var n=i[r];if(n){var s=n.items.indexOf(e);return s>=0?n.stackedData[s]:null}}return null},nct=function(e){return e.reduce(function(i,r){return[qM(r.concat([i[0]]).filter(Ye)),YM(r.concat([i[1]]).filter(Ye))]},[1/0,-1/0])},hue=function(e,i,r){return Object.keys(e).reduce(function(n,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,c){var d=nct(c.slice(i,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},Sq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jG=function(e,i,r){if(ei(e))return e(i,r);if(!Array.isArray(e))return i;var n=[];if(Ye(e[0]))n[0]=r?e[0]:Math.min(e[0],i[0]);else if(Sq.test(e[0])){var s=+Sq.exec(e[0])[1];n[0]=i[0]-s}else ei(e[0])?n[0]=e[0](i[0]):n[0]=i[0];if(Ye(e[1]))n[1]=r?e[1]:Math.max(e[1],i[1]);else if(wq.test(e[1])){var o=+wq.exec(e[1])[1];n[1]=i[1]+o}else ei(e[1])?n[1]=e[1](i[1]):n[1]=i[1];return n},vA=function(e,i,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&i&&i.length>=2){for(var s=SM(i,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],c=s[a-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Eq=function(e,i,r){return!e||!e.length||mM(e,Fa(r,"type.defaultProps.domain"))?i:e},pue=function(e,i){var r=e.props,n=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ya(ya({},yi(e,!1)),{},{dataKey:n,unit:o,formatter:a,name:s||n,color:l2(e),value:Nu(i,n),type:l,payload:i,chartType:u,hide:c})};function CE(t){"@babel/helpers - typeof";return CE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CE(t)}function bq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Rq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(i),!0).forEach(function(r){sct(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function sct(t,e,i){return e=oct(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oct(t){var e=act(t,"string");return CE(e)=="symbol"?e:String(e)}function act(t,e){if(CE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(CE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CA=Math.PI/180,lct=function(e){return e*180/Math.PI},Nn=function(e,i,r,n){return{x:e+Math.cos(-CA*n)*r,y:i+Math.sin(-CA*n)*r}},uct=function(e,i){var r=e.x,n=e.y,s=i.x,o=i.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(n-o,2))},cct=function(e,i){var r=e.x,n=e.y,s=i.cx,o=i.cy,a=uct({x:r,y:n},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return n>o&&(u=2*Math.PI-u),{radius:a,angle:lct(u),angleInRadian:u}},dct=function(e){var i=e.startAngle,r=e.endAngle,n=Math.floor(i/360),s=Math.floor(r/360),o=Math.min(n,s);return{startAngle:i-o*360,endAngle:r-o*360}},hct=function(e,i){var r=i.startAngle,n=i.endAngle,s=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(s,o);return e+a*360},Tq=function(e,i){var r=e.x,n=e.y,s=cct({x:r,y:n},i),o=s.radius,a=s.angle,l=i.innerRadius,u=i.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=dct(i),d=c.startAngle,h=c.endAngle,f=a,g;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}return g?Rq(Rq({},i),{},{radius:o,angle:hct(f,i)}):null};function yE(t){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yE(t)}var pct=["offset"];function fct(t){return Cct(t)||vct(t)||mct(t)||gct()}function gct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mct(t,e){if(t){if(typeof t=="string")return KG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return KG(t,e)}}function vct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cct(t){if(Array.isArray(t))return KG(t)}function KG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function yct(t,e){if(t==null)return{};var i=Sct(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sct(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Dq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function tn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(i),!0).forEach(function(r){wct(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Dq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function wct(t,e,i){return e=Ect(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ect(t){var e=bct(t,"string");return yE(e)=="symbol"?e:String(e)}function bct(t,e){if(yE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(yE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},SE.apply(this,arguments)}var Rct=function(e){var i=e.value,r=e.formatter,n=Si(e.children)?i:e.children;return ei(r)?r(n):n},Tct=function(e,i){var r=wl(i-e),n=Math.min(Math.abs(i-e),360);return r*n},Dct=function(e,i,r){var n=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,g=l.endAngle,v=l.clockWise,C=(d+h)/2,S=Tct(f,g),y=S>=0?1:-1,w,E;n==="insideStart"?(w=f+y*o,E=v):n==="insideEnd"?(w=g-y*o,E=!v):n==="end"&&(w=g+y*o,E=v),E=S<=0?E:!E;var b=Nn(u,c,C,w),D=Nn(u,c,C,w+(E?1:-1)*359),P="M".concat(b.x,",").concat(b.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(E?0:1,`,
    `).concat(D.x,",").concat(D.y),O=Si(e.id)?NM("recharts-radial-line-"):e.id;return W.createElement("text",SE({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",a)}),W.createElement("defs",null,W.createElement("path",{id:O,d:P})),W.createElement("textPath",{xlinkHref:"#".concat(O)},i))},Pct=function(e){var i=e.viewBox,r=e.offset,n=e.position,s=i,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,c=s.startAngle,d=s.endAngle,h=(c+d)/2;if(n==="outside"){var f=Nn(o,a,u+r,h),g=f.x,v=f.y;return{x:g,y:v,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var C=(l+u)/2,S=Nn(o,a,C,h),y=S.x,w=S.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},xct=function(e){var i=e.viewBox,r=e.parentViewBox,n=e.offset,s=e.position,o=i,a=o.x,l=o.y,u=o.width,c=o.height,d=c>=0?1:-1,h=d*n,f=d>0?"end":"start",g=d>0?"start":"end",v=u>=0?1:-1,C=v*n,S=v>0?"end":"start",y=v>0?"start":"end";if(s==="top"){var w={x:a+u/2,y:l-d*n,textAnchor:"middle",verticalAnchor:f};return tn(tn({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var E={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return tn(tn({},E),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(s==="left"){var b={x:a-C,y:l+c/2,textAnchor:S,verticalAnchor:"middle"};return tn(tn({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(s==="right"){var D={x:a+u+C,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return tn(tn({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:c}:{})}var P=r?{width:u,height:c}:{};return s==="insideLeft"?tn({x:a+C,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},P):s==="insideRight"?tn({x:a+u-C,y:l+c/2,textAnchor:S,verticalAnchor:"middle"},P):s==="insideTop"?tn({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},P):s==="insideBottom"?tn({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:f},P):s==="insideTopLeft"?tn({x:a+C,y:l+h,textAnchor:y,verticalAnchor:g},P):s==="insideTopRight"?tn({x:a+u-C,y:l+h,textAnchor:S,verticalAnchor:g},P):s==="insideBottomLeft"?tn({x:a+C,y:l+c-h,textAnchor:y,verticalAnchor:f},P):s==="insideBottomRight"?tn({x:a+u-C,y:l+c-h,textAnchor:S,verticalAnchor:f},P):vC(s)&&(Ye(s.x)||up(s.x))&&(Ye(s.y)||up(s.y))?tn({x:a+gf(s.x,u),y:l+gf(s.y,c),textAnchor:"end",verticalAnchor:"end"},P):tn({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Act=function(e){return"cx"in e&&Ye(e.cx)};function Qn(t){var e=t.offset,i=e===void 0?5:e,r=yct(t,pct),n=tn({offset:i},r),s=n.viewBox,o=n.position,a=n.value,l=n.children,u=n.content,c=n.className,d=c===void 0?"":c,h=n.textBreakAll;if(!s||Si(a)&&Si(l)&&!T.isValidElement(u)&&!ei(u))return null;if(T.isValidElement(u))return T.cloneElement(u,n);var f;if(ei(u)){if(f=T.createElement(u,n),T.isValidElement(f))return f}else f=Rct(n);var g=Act(s),v=yi(n,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Dct(n,f,v);var C=g?Pct(n):xct(n);return W.createElement(nA,SE({className:Le("recharts-label",d)},v,C,{breakAll:h}),f)}Qn.displayName="Label";var fue=function(e){var i=e.cx,r=e.cy,n=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,f=e.top,g=e.left,v=e.width,C=e.height,S=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ye(v)&&Ye(C)){if(Ye(d)&&Ye(h))return{x:d,y:h,width:v,height:C};if(Ye(f)&&Ye(g))return{x:f,y:g,width:v,height:C}}return Ye(d)&&Ye(h)?{x:d,y:h,width:0,height:0}:Ye(i)&&Ye(r)?{cx:i,cy:r,startAngle:s||n||0,endAngle:o||n||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:S}:e.viewBox?e.viewBox:{}},Oct=function(e,i){return e?e===!0?W.createElement(Qn,{key:"label-implicit",viewBox:i}):sn(e)?W.createElement(Qn,{key:"label-implicit",viewBox:i,value:e}):T.isValidElement(e)?e.type===Qn?T.cloneElement(e,{key:"label-implicit",viewBox:i}):W.createElement(Qn,{key:"label-implicit",content:e,viewBox:i}):ei(e)?W.createElement(Qn,{key:"label-implicit",content:e,viewBox:i}):vC(e)?W.createElement(Qn,SE({viewBox:i},e,{key:"label-implicit"})):null:null},Mct=function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=fue(e),o=Dl(n,Qn).map(function(l,u){return T.cloneElement(l,{viewBox:i||s,key:"label-".concat(u)})});if(!r)return o;var a=Oct(e.label,i||s);return[a].concat(fct(o))};Qn.parseViewBox=fue;Qn.renderCallByParent=Mct;function wE(t){"@babel/helpers - typeof";return wE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wE(t)}var Fct=["valueAccessor"],Ict=["data","dataKey","clockWise","id","textBreakAll"];function Lct(t){return kct(t)||Gct(t)||Nct(t)||_ct()}function _ct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nct(t,e){if(t){if(typeof t=="string")return YG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return YG(t,e)}}function Gct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kct(t){if(Array.isArray(t))return YG(t)}function YG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},yA.apply(this,arguments)}function Pq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function xq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(i),!0).forEach(function(r){Vct(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Pq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Vct(t,e,i){return e=Hct(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Hct(t){var e=$ct(t,"string");return wE(e)=="symbol"?e:String(e)}function $ct(t,e){if(wE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(wE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aq(t,e){if(t==null)return{};var i=Bct(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bct(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Wct=function(e){return Array.isArray(e.value)?ZQe(e.value):e.value};function _p(t){var e=t.valueAccessor,i=e===void 0?Wct:e,r=Aq(t,Fct),n=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=Aq(r,Ict);return!n||!n.length?null:W.createElement(Cn,{className:"recharts-label-list"},n.map(function(c,d){var h=Si(s)?i(c,d):Nu(c&&c.payload,s),f=Si(a)?{}:{id:"".concat(a,"-").concat(d)};return W.createElement(Qn,yA({},yi(c,!0),u,f,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Qn.parseViewBox(Si(o)?c:xq(xq({},c),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}_p.displayName="LabelList";function Uct(t,e){return t?t===!0?W.createElement(_p,{key:"labelList-implicit",data:e}):W.isValidElement(t)||ei(t)?W.createElement(_p,{key:"labelList-implicit",data:e,content:t}):vC(t)?W.createElement(_p,yA({data:e},t,{key:"labelList-implicit"})):null:null}function zct(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&i&&!t.label)return null;var r=t.children,n=Dl(r,_p).map(function(o,a){return T.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!i)return n;var s=Uct(t.label,e);return[s].concat(Lct(n))}_p.renderCallByParent=zct;function EE(t){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EE(t)}function qG(){return qG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},qG.apply(this,arguments)}function Oq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Mq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(i),!0).forEach(function(r){jct(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Oq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function jct(t,e,i){return e=Kct(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Kct(t){var e=Yct(t,"string");return EE(e)=="symbol"?e:String(e)}function Yct(t,e){if(EE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(EE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qct=function(e,i){var r=wl(i-e),n=Math.min(Math.abs(i-e),359.999);return r*n},YT=function(e){var i=e.cx,r=e.cy,n=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+n,d=Math.asin(l/c)/CA,h=u?s:s+o*d,f=Nn(i,r,c,h),g=Nn(i,r,n,h),v=u?s-o*d:s,C=Nn(i,r,c*Math.cos(d*CA),v);return{center:f,circleTangency:g,lineTangency:C,theta:d}},gue=function(e){var i=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=qct(o,a),u=o+l,c=Nn(i,r,s,o),d=Nn(i,r,s,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var f=Nn(i,r,n,o),g=Nn(i,r,n,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(i,",").concat(r," Z");return h},Xct=function(e){var i=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=wl(c-u),h=YT({cx:i,cy:r,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),f=h.circleTangency,g=h.lineTangency,v=h.theta,C=YT({cx:i,cy:r,radius:s,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:l}),S=C.circleTangency,y=C.lineTangency,w=C.theta,E=l?Math.abs(u-c):Math.abs(u-c)-v-w;if(E<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):gue({cx:i,cy:r,innerRadius:n,outerRadius:s,startAngle:u,endAngle:c});var b="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var D=YT({cx:i,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=D.circleTangency,O=D.lineTangency,N=D.theta,_=YT({cx:i,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),L=_.circleTangency,k=_.lineTangency,$=_.theta,U=l?Math.abs(u-c):Math.abs(u-c)-N-$;if(U<0&&o===0)return"".concat(b,"L").concat(i,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else b+="L".concat(i,",").concat(r,"Z");return b},Qct={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mue=function(e){var i=Mq(Mq({},Qct),e),r=i.cx,n=i.cy,s=i.innerRadius,o=i.outerRadius,a=i.cornerRadius,l=i.forceCornerRadius,u=i.cornerIsExternal,c=i.startAngle,d=i.endAngle,h=i.className;if(o<s||c===d)return null;var f=Le("recharts-sector",h),g=o-s,v=gf(a,g,0,!0),C;return v>0&&Math.abs(c-d)<360?C=Xct({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(v,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):C=gue({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:c,endAngle:d}),W.createElement("path",qG({},yi(i,!0),{className:f,d:C,role:"img"}))};function bE(t){"@babel/helpers - typeof";return bE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bE(t)}function XG(){return XG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},XG.apply(this,arguments)}function Fq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Iq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Fq(Object(i),!0).forEach(function(r){Zct(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Fq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Zct(t,e,i){return e=Jct(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Jct(t){var e=edt(t,"string");return bE(e)=="symbol"?e:String(e)}function edt(t,e){if(bE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(bE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lq={curveBasisClosed:zit,curveBasisOpen:jit,curveBasis:Uit,curveBumpX:Oit,curveBumpY:Mit,curveLinearClosed:Kit,curveLinear:VM,curveMonotoneX:Yit,curveMonotoneY:qit,curveNatural:Xit,curveStep:Qit,curveStepAfter:Jit,curveStepBefore:Zit},qT=function(e){return e.x===+e.x&&e.y===+e.y},by=function(e){return e.x},Ry=function(e){return e.y},tdt=function(e,i){if(ei(e))return e;var r="curve".concat(GM(e));return(r==="curveMonotone"||r==="curveBump")&&i?Lq["".concat(r).concat(i==="vertical"?"Y":"X")]:Lq[r]||VM},idt=function(e){var i=e.type,r=i===void 0?"linear":i,n=e.points,s=n===void 0?[]:n,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=tdt(r,a),d=u?s.filter(function(v){return qT(v)}):s,h;if(Array.isArray(o)){var f=u?o.filter(function(v){return qT(v)}):o,g=d.map(function(v,C){return Iq(Iq({},v),{},{base:f[C]})});return a==="vertical"?h=HT().y(Ry).x1(by).x0(function(v){return v.base.x}):h=HT().x(by).y1(Ry).y0(function(v){return v.base.y}),h.defined(qT).curve(c),h(g)}return a==="vertical"&&Ye(o)?h=HT().y(Ry).x1(by).x0(o):Ye(o)?h=HT().x(by).y1(Ry).y0(o):h=Bae().x(by).y(Ry),h.defined(qT).curve(c),h(d)},_q=function(e){var i=e.className,r=e.points,n=e.path,s=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?idt(e):n;return W.createElement("path",XG({},yi(e,!1),jx(e),{className:Le("recharts-curve",i),d:o,ref:s}))},rdt=Object.getOwnPropertyNames,ndt=Object.getOwnPropertySymbols,sdt=Object.prototype.hasOwnProperty;function Nq(t,e){return function(r,n,s){return t(r,n,s)&&e(r,n,s)}}function XT(t){return function(i,r,n){if(!i||!r||typeof i!="object"||typeof r!="object")return t(i,r,n);var s=n.cache,o=s.get(i),a=s.get(r);if(o&&a)return o===r&&a===i;s.set(i,r),s.set(r,i);var l=t(i,r,n);return s.delete(i),s.delete(r),l}}function Gq(t){return rdt(t).concat(ndt(t))}var vue=Object.hasOwn||function(t,e){return sdt.call(t,e)};function OC(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var Cue="_owner",kq=Object.getOwnPropertyDescriptor,Vq=Object.keys;function odt(t,e,i){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!i.equals(t[r],e[r],r,r,t,e,i))return!1;return!0}function adt(t,e){return OC(t.getTime(),e.getTime())}function Hq(t,e,i){if(t.size!==e.size)return!1;for(var r={},n=t.entries(),s=0,o,a;(o=n.next())&&!o.done;){for(var l=e.entries(),u=!1,c=0;(a=l.next())&&!a.done;){var d=o.value,h=d[0],f=d[1],g=a.value,v=g[0],C=g[1];!u&&!r[c]&&(u=i.equals(h,v,s,c,t,e,i)&&i.equals(f,C,h,v,t,e,i))&&(r[c]=!0),c++}if(!u)return!1;s++}return!0}function ldt(t,e,i){var r=Vq(t),n=r.length;if(Vq(e).length!==n)return!1;for(var s;n-- >0;)if(s=r[n],s===Cue&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!vue(e,s)||!i.equals(t[s],e[s],s,s,t,e,i))return!1;return!0}function Ty(t,e,i){var r=Gq(t),n=r.length;if(Gq(e).length!==n)return!1;for(var s,o,a;n-- >0;)if(s=r[n],s===Cue&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!vue(e,s)||!i.equals(t[s],e[s],s,s,t,e,i)||(o=kq(t,s),a=kq(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function udt(t,e){return OC(t.valueOf(),e.valueOf())}function cdt(t,e){return t.source===e.source&&t.flags===e.flags}function $q(t,e,i){if(t.size!==e.size)return!1;for(var r={},n=t.values(),s,o;(s=n.next())&&!s.done;){for(var a=e.values(),l=!1,u=0;(o=a.next())&&!o.done;)!l&&!r[u]&&(l=i.equals(s.value,o.value,s.value,o.value,t,e,i))&&(r[u]=!0),u++;if(!l)return!1}return!0}function ddt(t,e){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(t[i]!==e[i])return!1;return!0}var hdt="[object Arguments]",pdt="[object Boolean]",fdt="[object Date]",gdt="[object Map]",mdt="[object Number]",vdt="[object Object]",Cdt="[object RegExp]",ydt="[object Set]",Sdt="[object String]",wdt=Array.isArray,Bq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Wq=Object.assign,Edt=Object.prototype.toString.call.bind(Object.prototype.toString);function bdt(t){var e=t.areArraysEqual,i=t.areDatesEqual,r=t.areMapsEqual,n=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,a=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,d,h){if(c===d)return!0;if(c==null||d==null||typeof c!="object"||typeof d!="object")return c!==c&&d!==d;var f=c.constructor;if(f!==d.constructor)return!1;if(f===Object)return n(c,d,h);if(wdt(c))return e(c,d,h);if(Bq!=null&&Bq(c))return l(c,d,h);if(f===Date)return i(c,d,h);if(f===RegExp)return o(c,d,h);if(f===Map)return r(c,d,h);if(f===Set)return a(c,d,h);var g=Edt(c);return g===fdt?i(c,d,h):g===Cdt?o(c,d,h):g===gdt?r(c,d,h):g===ydt?a(c,d,h):g===vdt?typeof c.then!="function"&&typeof d.then!="function"&&n(c,d,h):g===hdt?n(c,d,h):g===pdt||g===mdt||g===Sdt?s(c,d,h):!1}}function Rdt(t){var e=t.circular,i=t.createCustomConfig,r=t.strict,n={areArraysEqual:r?Ty:odt,areDatesEqual:adt,areMapsEqual:r?Nq(Hq,Ty):Hq,areObjectsEqual:r?Ty:ldt,arePrimitiveWrappersEqual:udt,areRegExpsEqual:cdt,areSetsEqual:r?Nq($q,Ty):$q,areTypedArraysEqual:r?Ty:ddt};if(i&&(n=Wq({},n,i(n))),e){var s=XT(n.areArraysEqual),o=XT(n.areMapsEqual),a=XT(n.areObjectsEqual),l=XT(n.areSetsEqual);n=Wq({},n,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return n}function Tdt(t){return function(e,i,r,n,s,o,a){return t(e,i,a)}}function Ddt(t){var e=t.circular,i=t.comparator,r=t.createState,n=t.equals,s=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,f=c.meta;return i(l,u,{cache:h,equals:n,meta:f,strict:s})};if(e)return function(l,u){return i(l,u,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};var o={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,u){return i(l,u,o)}}var Pdt=bh();bh({strict:!0});bh({circular:!0});bh({circular:!0,strict:!0});bh({createInternalComparator:function(){return OC}});bh({strict:!0,createInternalComparator:function(){return OC}});bh({circular:!0,createInternalComparator:function(){return OC}});bh({circular:!0,createInternalComparator:function(){return OC},strict:!0});function bh(t){t===void 0&&(t={});var e=t.circular,i=e===void 0?!1:e,r=t.createInternalComparator,n=t.createState,s=t.strict,o=s===void 0?!1:s,a=Rdt(t),l=bdt(a),u=r?r(l):Tdt(l);return Ddt({circular:i,comparator:l,createState:n,equals:u,strict:o})}function xdt(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Uq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=-1,r=function n(s){i<0&&(i=s),s-i>e?(t(s),i=-1):xdt(n)};requestAnimationFrame(r)}function QG(t){"@babel/helpers - typeof";return QG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QG(t)}function Adt(t){return Idt(t)||Fdt(t)||Mdt(t)||Odt()}function Odt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mdt(t,e){if(t){if(typeof t=="string")return zq(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zq(t,e)}}function zq(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Fdt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Idt(t){if(Array.isArray(t))return t}function Ldt(){var t={},e=function(){return null},i=!1,r=function n(s){if(!i){if(Array.isArray(s)){if(!s.length)return;var o=s,a=Adt(o),l=a[0],u=a.slice(1);if(typeof l=="number"){Uq(n.bind(null,u),l);return}n(l),Uq(n.bind(null,u));return}QG(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){i=!0},start:function(s){i=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function RE(t){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RE(t)}function jq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Kq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(i),!0).forEach(function(r){yue(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):jq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function yue(t,e,i){return e=_dt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _dt(t){var e=Ndt(t,"string");return RE(e)==="symbol"?e:String(e)}function Ndt(t,e){if(RE(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(RE(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gdt=function(e,i){return[Object.keys(e),Object.keys(i)].reduce(function(r,n){return r.filter(function(s){return n.includes(s)})})},kdt=function(e){return e},Vdt=function(e){return e.replace(/([A-Z])/g,function(i){return"-".concat(i.toLowerCase())})},ES=function(e,i){return Object.keys(i).reduce(function(r,n){return Kq(Kq({},r),{},yue({},n,e(n,i[n])))},{})},Yq=function(e,i,r){return e.map(function(n){return"".concat(Vdt(n)," ").concat(i,"ms ").concat(r)}).join(",")};function Hdt(t,e){return Wdt(t)||Bdt(t,e)||Sue(t,e)||$dt()}function $dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bdt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Wdt(t){if(Array.isArray(t))return t}function Udt(t){return Kdt(t)||jdt(t)||Sue(t)||zdt()}function zdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t,e){if(t){if(typeof t=="string")return ZG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ZG(t,e)}}function jdt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kdt(t){if(Array.isArray(t))return ZG(t)}function ZG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var SA=1e-4,wue=function(e,i){return[0,3*e,3*i-6*e,3*e-3*i+1]},Eue=function(e,i){return e.map(function(r,n){return r*Math.pow(i,n)}).reduce(function(r,n){return r+n})},qq=function(e,i){return function(r){var n=wue(e,i);return Eue(n,r)}},Ydt=function(e,i){return function(r){var n=wue(e,i),s=[].concat(Udt(n.map(function(o,a){return o*a}).slice(1)),[0]);return Eue(s,r)}},Xq=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i[0],s=i[1],o=i[2],a=i[3];if(i.length===1)switch(i[0]){case"linear":n=0,s=0,o=1,a=1;break;case"ease":n=.25,s=.1,o=.25,a=1;break;case"ease-in":n=.42,s=0,o=1,a=1;break;case"ease-out":n=.42,s=0,o=.58,a=1;break;case"ease-in-out":n=0,s=0,o=.58,a=1;break;default:{var l=i[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),c=Hdt(u,4);n=c[0],s=c[1],o=c[2],a=c[3]}}}var d=qq(n,o),h=qq(s,a),f=Ydt(n,o),g=function(S){return S>1?1:S<0?0:S},v=function(S){for(var y=S>1?1:S,w=y,E=0;E<8;++E){var b=d(w)-y,D=f(w);if(Math.abs(b-y)<SA||D<SA)return h(w);w=g(w-b/D)}return h(w)};return v.isStepper=!1,v},qdt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.stiff,r=i===void 0?100:i,n=e.damping,s=n===void 0?8:n,o=e.dt,a=o===void 0?17:o,l=function(c,d,h){var f=-(c-d)*r,g=h*s,v=h+(f-g)*a/1e3,C=h*a/1e3+c;return Math.abs(C-d)<SA&&Math.abs(v)<SA?[d,0]:[C,v]};return l.isStepper=!0,l.dt=a,l},Xdt=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xq(n);case"spring":return qdt();default:if(n.split("(")[0]==="cubic-bezier")return Xq(n)}return typeof n=="function"?n:null};function TE(t){"@babel/helpers - typeof";return TE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(t)}function Qq(t){return Jdt(t)||Zdt(t)||bue(t)||Qdt()}function Qdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zdt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jdt(t){if(Array.isArray(t))return ek(t)}function Zq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Mn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(i),!0).forEach(function(r){JG(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function JG(t,e,i){return e=eht(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function eht(t){var e=tht(t,"string");return TE(e)==="symbol"?e:String(e)}function tht(t,e){if(TE(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(TE(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iht(t,e){return sht(t)||nht(t,e)||bue(t,e)||rht()}function rht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(t,e){if(t){if(typeof t=="string")return ek(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function nht(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function sht(t){if(Array.isArray(t))return t}var wA=function(e,i,r){return e+(i-e)*r},tk=function(e){var i=e.from,r=e.to;return i!==r},oht=function t(e,i,r){var n=ES(function(s,o){if(tk(o)){var a=e(o.from,o.to,o.velocity),l=iht(a,2),u=l[0],c=l[1];return Mn(Mn({},o),{},{from:u,velocity:c})}return o},i);return r<1?ES(function(s,o){return tk(o)?Mn(Mn({},o),{},{velocity:wA(o.velocity,n[s].velocity,r),from:wA(o.from,n[s].from,r)}):o},i):t(e,n,r-1)};const aht=function(t,e,i,r,n){var s=Gdt(t,e),o=s.reduce(function(C,S){return Mn(Mn({},C),{},JG({},S,[t[S],e[S]]))},{}),a=s.reduce(function(C,S){return Mn(Mn({},C),{},JG({},S,{from:t[S],velocity:0,to:e[S]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return ES(function(S,y){return y.from},a)},f=function(){return!Object.values(a).filter(tk).length},g=function(S){u||(u=S);var y=S-u,w=y/i.dt;a=oht(i,a,w),n(Mn(Mn(Mn({},t),e),h())),u=S,f()||(l=requestAnimationFrame(d))},v=function(S){c||(c=S);var y=(S-c)/r,w=ES(function(b,D){return wA.apply(void 0,Qq(D).concat([i(y)]))},o);if(n(Mn(Mn(Mn({},t),e),w)),y<1)l=requestAnimationFrame(d);else{var E=ES(function(b,D){return wA.apply(void 0,Qq(D).concat([i(1)]))},o);n(Mn(Mn(Mn({},t),e),E))}};return d=i.isStepper?g:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}var lht=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uht(t,e){if(t==null)return{};var i=cht(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cht(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function S_(t){return fht(t)||pht(t)||hht(t)||dht()}function dht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hht(t,e){if(t){if(typeof t=="string")return ik(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ik(t,e)}}function pht(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fht(t){if(Array.isArray(t))return ik(t)}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Jq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function al(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(i),!0).forEach(function(r){Xy(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Jq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Xy(t,e,i){return e=Rue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ght(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rue(r.key),r)}}function mht(t,e,i){return e&&e8(t.prototype,e),i&&e8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rue(t){var e=vht(t,"string");return bv(e)==="symbol"?e:String(e)}function vht(t,e){if(bv(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(bv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},rk(t,e)}function yht(t){var e=Sht();return function(){var r=EA(t),n;if(e){var s=EA(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return nk(this,n)}}function nk(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sk(t)}function sk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function EA(t){return EA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},EA(t)}var th=function(t){Cht(i,t);var e=yht(i);function i(r,n){var s;ght(this,i),s=e.call(this,r,n);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,c=o.to,d=o.steps,h=o.children,f=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(sk(s)),s.changeStyle=s.changeStyle.bind(sk(s)),!a||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:c}),nk(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},nk(s);s.state={style:l?Xy({},l,u):u}}else s.state={style:{}};return s}return mht(i,[{key:"componentDidMount",value:function(){var n=this.props,s=n.isActive,o=n.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,c=s.to,d=s.from,h=this.state.style;if(a){if(!o){var f={style:l?Xy({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(f);return}if(!(Pdt(n.to,c)&&n.canBegin&&n.isActive)){var g=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=g||u?d:n.to;if(this.state&&h){var C={style:l?Xy({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(C)}this.runAnimation(al(al({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var s=this,o=n.from,a=n.to,l=n.duration,u=n.easing,c=n.begin,d=n.onAnimationEnd,h=n.onAnimationStart,f=aht(o,a,Xdt(u),l,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([h,c,g,l,d])}},{key:"runStepAnimation",value:function(n){var s=this,o=n.steps,a=n.begin,l=n.onAnimationStart,u=o[0],c=u.style,d=u.duration,h=d===void 0?0:d,f=function(v,C,S){if(S===0)return v;var y=C.duration,w=C.easing,E=w===void 0?"ease":w,b=C.style,D=C.properties,P=C.onAnimationEnd,O=S>0?o[S-1]:C,N=D||Object.keys(b);if(typeof E=="function"||E==="spring")return[].concat(S_(v),[s.runJSAnimation.bind(s,{from:O.style,to:b,duration:y,easing:E}),y]);var _=Yq(N,y,E),L=al(al(al({},O.style),b),{},{transition:_});return[].concat(S_(v),[L,y,P]).filter(kdt)};return this.manager.start([l].concat(S_(o.reduce(f,[c,Math.max(h,a)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=Ldt());var s=n.begin,o=n.duration,a=n.attributeName,l=n.to,u=n.easing,c=n.onAnimationStart,d=n.onAnimationEnd,h=n.steps,f=n.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(n);return}if(h.length>1){this.runStepAnimation(n);return}var v=a?Xy({},a,l):l,C=Yq(Object.keys(v),o,u);g.start([c,s,al(al({},v),{},{transition:C}),o,d])}},{key:"render",value:function(){var n=this.props,s=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var a=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var l=uht(n,lht),u=T.Children.count(s),c=this.state.style;if(typeof s=="function")return s(c);if(!a||u===0||o<=0)return s;var d=function(f){var g=f.props,v=g.style,C=v===void 0?{}:v,S=g.className,y=T.cloneElement(f,al(al({},l),{},{style:al(al({},C),c),className:S}));return y};return u===1?d(T.Children.only(s)):W.createElement("div",null,T.Children.map(s,function(h){return d(h)}))}}]),i}(T.PureComponent);th.displayName="Animate";th.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};th.propTypes={from:ee.oneOfType([ee.object,ee.string]),to:ee.oneOfType([ee.object,ee.string]),attributeName:ee.string,duration:ee.number,begin:ee.number,easing:ee.oneOfType([ee.string,ee.func]),steps:ee.arrayOf(ee.shape({duration:ee.number.isRequired,style:ee.object.isRequired,easing:ee.oneOfType([ee.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ee.func]),properties:ee.arrayOf("string"),onAnimationEnd:ee.func})),children:ee.oneOfType([ee.node,ee.func]),isActive:ee.bool,canBegin:ee.bool,onAnimationEnd:ee.func,shouldReAnimate:ee.bool,onAnimationStart:ee.func,onAnimationReStart:ee.func};ee.object,ee.object,ee.object,ee.element;ee.object,ee.object,ee.object,ee.oneOfType([ee.array,ee.element]),ee.any;function DE(t){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(t)}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},bA.apply(this,arguments)}function wht(t,e){return Tht(t)||Rht(t,e)||bht(t,e)||Eht()}function Eht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bht(t,e){if(t){if(typeof t=="string")return t8(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t8(t,e)}}function t8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Rht(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Tht(t){if(Array.isArray(t))return t}function i8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function r8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(i),!0).forEach(function(r){Dht(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):i8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Dht(t,e,i){return e=Pht(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Pht(t){var e=xht(t,"string");return DE(e)=="symbol"?e:String(e)}function xht(t,e){if(DE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(DE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n8=function(e,i,r,n,s){var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,c;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>o?o:s[h];c="M".concat(e,",").concat(i+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(i)),c+="L ".concat(e+r-l*d[1],",").concat(i),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(i+a*d[1])),c+="L ".concat(e+r,",").concat(i+n-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(i+n)),c+="L ".concat(e+l*d[3],",").concat(i+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(i+n-a*d[3])),c+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);c="M ".concat(e,",").concat(i+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(i,`
            L `).concat(e+r-l*g,",").concat(i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(i+a*g,`
            L `).concat(e+r,",").concat(i+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(i+n,`
            L `).concat(e+l*g,",").concat(i+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(i+n-a*g," Z")}else c="M ".concat(e,",").concat(i," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Aht=function(e,i){if(!e||!i)return!1;var r=e.x,n=e.y,s=i.x,o=i.y,a=i.width,l=i.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),c=Math.max(s,s+a),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&n>=d&&n<=h}return!1},Oht={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u2=function(e){var i=r8(r8({},Oht),e),r=T.useRef(),n=T.useState(-1),s=wht(n,2),o=s[0],a=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=i.x,u=i.y,c=i.width,d=i.height,h=i.radius,f=i.className,g=i.animationEasing,v=i.animationDuration,C=i.animationBegin,S=i.isAnimationActive,y=i.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var w=Le("recharts-rectangle",f);return y?W.createElement(th,{canBegin:o>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:v,animationEasing:g,isActive:y},function(E){var b=E.width,D=E.height,P=E.x,O=E.y;return W.createElement(th,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:v,isActive:S,easing:g},W.createElement("path",bA({},yi(i,!0),{className:w,d:n8(P,O,b,D,h),ref:r})))}):W.createElement("path",bA({},yi(i,!0),{className:w,d:n8(l,u,c,d,h)}))};function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ok.apply(this,arguments)}var Tue=function(e){var i=e.cx,r=e.cy,n=e.r,s=e.className,o=Le("recharts-dot",s);return i===+i&&r===+r&&n===+n?W.createElement("circle",ok({},yi(e,!1),jx(e),{className:o,cx:i,cy:r,r:n})):null};function PE(t){"@babel/helpers - typeof";return PE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PE(t)}var Mht=["x","y","top","left","width","height","className"];function ak(){return ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ak.apply(this,arguments)}function s8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Fht(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?s8(Object(i),!0).forEach(function(r){Iht(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Iht(t,e,i){return e=Lht(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Lht(t){var e=_ht(t,"string");return PE(e)=="symbol"?e:String(e)}function _ht(t,e){if(PE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(PE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nht(t,e){if(t==null)return{};var i=Ght(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ght(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var kht=function(e,i,r,n,s,o){return"M".concat(e,",").concat(s,"v").concat(n,"M").concat(o,",").concat(i,"h").concat(r)},Vht=function(e){var i=e.x,r=i===void 0?0:i,n=e.y,s=n===void 0?0:n,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,f=h===void 0?0:h,g=e.className,v=Nht(e,Mht),C=Fht({x:r,y:s,top:a,left:u,width:d,height:f},v);return!Ye(r)||!Ye(s)||!Ye(d)||!Ye(f)||!Ye(a)||!Ye(u)?null:W.createElement("path",ak({},yi(C,!0),{className:Le("recharts-cross",g),d:kht(r,s,d,f,a,u)}))},Hht=qc,$ht=$l,Bht="[object Boolean]";function Wht(t){return t===!0||t===!1||$ht(t)&&Hht(t)==Bht}var Uht=Wht;const zht=Pt(Uht);function xE(t){"@babel/helpers - typeof";return xE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xE(t)}function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},RA.apply(this,arguments)}function jht(t,e){return Xht(t)||qht(t,e)||Yht(t,e)||Kht()}function Kht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yht(t,e){if(t){if(typeof t=="string")return o8(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function qht(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Xht(t){if(Array.isArray(t))return t}function a8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function l8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(i),!0).forEach(function(r){Qht(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Qht(t,e,i){return e=Zht(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Zht(t){var e=Jht(t,"string");return xE(e)=="symbol"?e:String(e)}function Jht(t,e){if(xE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(xE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u8=function(e,i,r,n,s){var o=r-n,a;return a="M ".concat(e,",").concat(i),a+="L ".concat(e+r,",").concat(i),a+="L ".concat(e+r-o/2,",").concat(i+s),a+="L ".concat(e+r-o/2-n,",").concat(i+s),a+="L ".concat(e,",").concat(i," Z"),a},ept={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tpt=function(e){var i=l8(l8({},ept),e),r=T.useRef(),n=T.useState(-1),s=jht(n,2),o=s[0],a=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var l=i.x,u=i.y,c=i.upperWidth,d=i.lowerWidth,h=i.height,f=i.className,g=i.animationEasing,v=i.animationDuration,C=i.animationBegin,S=i.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var y=Le("recharts-trapezoid",f);return S?W.createElement(th,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:v,animationEasing:g,isActive:S},function(w){var E=w.upperWidth,b=w.lowerWidth,D=w.height,P=w.x,O=w.y;return W.createElement(th,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:v,easing:g},W.createElement("path",RA({},yi(i,!0),{className:y,d:u8(P,O,E,b,D),ref:r})))}):W.createElement("g",null,W.createElement("path",RA({},yi(i,!0),{className:y,d:u8(l,u,c,d,h)})))},ipt=["option","shapeType","propTransformer","activeClassName","isActive"];function AE(t){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(t)}function rpt(t,e){if(t==null)return{};var i=npt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function npt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function c8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function TA(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(i),!0).forEach(function(r){spt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function spt(t,e,i){return e=opt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function opt(t){var e=apt(t,"string");return AE(e)=="symbol"?e:String(e)}function apt(t,e){if(AE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(AE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpt(t,e){return TA(TA({},e),t)}function upt(t,e){return t==="symbols"}function d8(t){var e=t.shapeType,i=t.elementProps;switch(e){case"rectangle":return W.createElement(u2,i);case"trapezoid":return W.createElement(tpt,i);case"sector":return W.createElement(mue,i);case"symbols":if(upt(e))return W.createElement(_W,i);break;default:return null}}function cpt(t){return T.isValidElement(t)?t.props:t}function dpt(t){var e=t.option,i=t.shapeType,r=t.propTransformer,n=r===void 0?lpt:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=rpt(t,ipt),u;if(T.isValidElement(e))u=T.cloneElement(e,TA(TA({},l),cpt(e)));else if(ei(e))u=e(l);else if(CZe(e)&&!zht(e)){var c=n(e,l);u=W.createElement(d8,{shapeType:i,elementProps:c})}else{var d=l;u=W.createElement(d8,{shapeType:i,elementProps:d})}return a?W.createElement(Cn,{className:o},u):u}function JM(t,e){return e!=null&&"trapezoids"in t.props}function eF(t,e){return e!=null&&"sectors"in t.props}function OE(t,e){return e!=null&&"points"in t.props}function hpt(t,e){var i,r,n=t.x===(e==null||(i=e.labelViewBox)===null||i===void 0?void 0:i.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return n&&s}function ppt(t,e){var i=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return i&&r}function fpt(t,e){var i=t.x===e.x,r=t.y===e.y,n=t.z===e.z;return i&&r&&n}function gpt(t,e){var i;return JM(t,e)?i=hpt:eF(t,e)?i=ppt:OE(t,e)&&(i=fpt),i}function mpt(t,e){var i;return JM(t,e)?i="trapezoids":eF(t,e)?i="sectors":OE(t,e)&&(i="points"),i}function vpt(t,e){if(JM(t,e)){var i;return(i=e.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}if(eF(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return OE(t,e)?e.payload:{}}function Cpt(t){var e=t.activeTooltipItem,i=t.graphicalItem,r=t.itemData,n=mpt(i,e),s=vpt(i,e),o=r.filter(function(l,u){var c=mM(s,l),d=i.props[n].filter(function(g){var v=gpt(i,e);return v(g,e)}),h=i.props[n].indexOf(d[d.length-1]),f=u===h;return c&&f}),a=r.indexOf(o[o.length-1]);return a}function ME(t){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}function h8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function p8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(i),!0).forEach(function(r){Due(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Due(t,e,i){return e=ypt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ypt(t){var e=Spt(t,"string");return ME(e)=="symbol"?e:String(e)}function Spt(t,e){if(ME(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(ME(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wpt=["Webkit","Moz","O","ms"],Ept=function(e,i){if(!e)return null;var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),n=wpt.reduce(function(s,o){return p8(p8({},s),{},Due({},o+r,i))},{});return n[e]=i,n};function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},DA.apply(this,arguments)}function f8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function w_(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(i),!0).forEach(function(r){yo(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function bpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xue(r.key),r)}}function Rpt(t,e,i){return e&&g8(t.prototype,e),i&&g8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tpt(t,e,i){return e=PA(e),Dpt(t,Pue()?Reflect.construct(e,i||[],PA(t).constructor):e.apply(t,i))}function Dpt(t,e){if(e&&(Rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eu(t)}function Pue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pue=function(){return!!t})()}function PA(t){return PA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},PA(t)}function eu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ppt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lk(t,e)}function lk(t,e){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lk(t,e)}function yo(t,e,i){return e=xue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xue(t){var e=xpt(t,"string");return Rv(e)=="symbol"?e:String(e)}function xpt(t,e){if(Rv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Apt=function(e){var i=e.data,r=e.startIndex,n=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!i||!i.length)return{};var l=i.length,u=SS().domain(Jw(0,l)).range([s,s+o-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(n),scale:u,scaleValues:c}},m8=function(e){return e.changedTouches&&!!e.changedTouches.length},Tv=function(t){Ppt(e,t);function e(i){var r;return bpt(this,e),r=Tpt(this,e,[i]),yo(eu(r),"handleDrag",function(n){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(n):r.state.isSlideMoving&&r.handleSlideDrag(n)}),yo(eu(r),"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&r.handleDrag(n.changedTouches[0])}),yo(eu(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=r.props,s=n.endIndex,o=n.onDragEnd,a=n.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),yo(eu(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),yo(eu(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),yo(eu(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),yo(eu(r),"handleSlideDragStart",function(n){var s=m8(n)?n.changedTouches[0]:n;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(eu(r),"startX"),endX:r.handleTravellerDragStart.bind(eu(r),"endX")},r.state={},r}return Rpt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(n,s),h=Math.max(n,s),f=e.getIndexInRange(o,d),g=e.getIndexInRange(o,h);return{startIndex:f-f%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var n=this.props,s=n.data,o=n.tickFormatter,a=n.dataKey,l=Nu(s[r],a,r);return ei(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,s=n.slideMoveStartX,o=n.startX,a=n.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,g=l.onChange,v=r.pageX-s;v>0?v=Math.min(v,u+c-d-a,u+c-d-o):v<0&&(v=Math.max(v,u-o,u-a));var C=this.getIndex({startX:o+v,endX:a+v});(C.startIndex!==h||C.endIndex!==f)&&g&&g(C),this.setState({startX:o+v,endX:a+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var s=m8(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,s=n.brushMoveStartX,o=n.movingTravellerId,a=n.endX,l=n.startX,u=this.state[o],c=this.props,d=c.x,h=c.width,f=c.travellerWidth,g=c.onChange,v=c.gap,C=c.data,S={startX:this.state.startX,endX:this.state.endX},y=r.pageX-s;y>0?y=Math.min(y,d+h-f-u):y<0&&(y=Math.max(y,d-u)),S[o]=u+y;var w=this.getIndex(S),E=w.startIndex,b=w.endIndex,D=function(){var O=C.length-1;return o==="startX"&&(a>l?E%v===0:b%v===0)||a<l&&b===O||o==="endX"&&(a>l?b%v===0:E%v===0)||a>l&&b===O};this.setState(yo(yo({},o,u+y),"brushMoveStartX",r.pageX),function(){g&&D()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,c=this.state[n],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var f=a[h];n==="startX"&&f>=u||n==="endX"&&f<=l||this.setState(yo({},n,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return W.createElement("rect",{stroke:u,fill:l,x:n,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=T.Children.only(u);return d?W.cloneElement(d,{x:n,y:s,width:o,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,n){var s=this,o=this.props,a=o.y,l=o.travellerWidth,u=o.height,c=o.traveller,d=o.ariaLabel,h=o.data,f=o.startIndex,g=o.endIndex,v=Math.max(r,this.props.x),C=w_(w_({},yi(this.props,!1)),{},{x:v,y:a,width:l,height:u}),S=d||"Min value: ".concat(h[f].name,", Max value: ").concat(h[g].name);return W.createElement(Cn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,n))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(c,C))}},{key:"renderSlide",value:function(r,n){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,c=Math.min(r,n)+u,d=Math.max(Math.abs(n-r)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,f=5,g={pointerEvents:"none",fill:u};return W.createElement(Cn,{className:"recharts-brush-texts"},W.createElement(nA,DA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+a/2},g),this.getTextOfTick(n)),W.createElement(nA,DA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:o+a/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,n=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,f=h.startX,g=h.endX,v=h.isTextActive,C=h.isSlideMoving,S=h.isTravellerMoving,y=h.isTravellerFocused;if(!n||!n.length||!Ye(a)||!Ye(l)||!Ye(u)||!Ye(c)||u<=0||c<=0)return null;var w=Le("recharts-brush",s),E=W.Children.count(o)===1,b=Ept("userSelect","none");return W.createElement(Cn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(v||C||S||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:n,y:s,width:o,height:a,fill:l,stroke:"none"}),W.createElement("line",{x1:n+1,y1:u,x2:n+o-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:n+1,y1:u+2,x2:n+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var s;return W.isValidElement(r)?s=W.cloneElement(r,n):ei(r)?s=r(n):s=e.renderDefaultTraveller(n),s}},{key:"getDerivedStateFromProps",value:function(r,n){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(s!==n.prevData||u!==n.prevUpdateId)return w_({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?Apt({data:s,width:o,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||a!==n.prevX||l!==n.prevTravellerWidth)){n.scale.range([a,a+o-l]);var h=n.scale.domain().map(function(f){return n.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,n){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>n?a=l:o=l}return n>=r[a]?a:o}}]),e}(T.PureComponent);yo(Tv,"displayName","Brush");yo(Tv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Opt=yW;function Mpt(t,e){var i;return Opt(t,function(r,n,s){return i=e(r,n,s),!i}),!!i}var Fpt=Mpt,Ipt=poe,Lpt=Sh,_pt=Fpt,Npt=ls,Gpt=CC;function kpt(t,e,i){var r=Npt(t)?Ipt:_pt;return i&&Gpt(t,e,i)&&(e=void 0),r(t,Lpt(e))}var Vpt=kpt;const Hpt=Pt(Vpt);var yu=function(e,i){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===i};function $pt(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(!e(t[i],i,t))return!1;return!0}var Bpt=$pt,Wpt=yW;function Upt(t,e){var i=!0;return Wpt(t,function(r,n,s){return i=!!e(r,n,s),i}),i}var zpt=Upt,jpt=Bpt,Kpt=zpt,Ypt=Sh,qpt=ls,Xpt=CC;function Qpt(t,e,i){var r=qpt(t)?jpt:Kpt;return i&&Xpt(t,e,i)&&(e=void 0),r(t,Ypt(e))}var Zpt=Qpt;const Jpt=Pt(Zpt);var eft=["x","y"];function FE(t){"@babel/helpers - typeof";return FE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FE(t)}function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},uk.apply(this,arguments)}function v8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Dy(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(i),!0).forEach(function(r){tft(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function tft(t,e,i){return e=ift(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ift(t){var e=rft(t,"string");return FE(e)=="symbol"?e:String(e)}function rft(t,e){if(FE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(FE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nft(t,e){if(t==null)return{};var i=sft(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sft(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function oft(t,e){var i=t.x,r=t.y,n=nft(t,eft),s="".concat(i),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||n.height),c=parseInt(u,10),d="".concat(e.width||n.width),h=parseInt(d,10);return Dy(Dy(Dy(Dy(Dy({},e),n),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function C8(t){return W.createElement(dpt,uk({shapeType:"rectangle",propTransformer:oft,activeClassName:"recharts-active-bar"},t))}var aft=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,n):(s||vf(!1),i)}},lft=["value","background"],Aue;function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function uft(t,e){if(t==null)return{};var i=cft(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cft(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},xA.apply(this,arguments)}function y8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function dn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(i),!0).forEach(function(r){Pd(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function dft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mue(r.key),r)}}function hft(t,e,i){return e&&S8(t.prototype,e),i&&S8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function pft(t,e,i){return e=AA(e),fft(t,Oue()?Reflect.construct(e,i||[],AA(t).constructor):e.apply(t,i))}function fft(t,e){if(e&&(Dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qy(t)}function Oue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oue=function(){return!!t})()}function AA(t){return AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},AA(t)}function Qy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ck(t,e)}function Pd(t,e,i){return e=Mue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Mue(t){var e=mft(t,"string");return Dv(e)=="symbol"?e:String(e)}function mft(t,e){if(Dv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eg=function(t){gft(e,t);function e(){var i;dft(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=pft(this,e,[].concat(n)),Pd(Qy(i),"state",{isAnimationFinished:!1}),Pd(Qy(i),"id",NM("recharts-bar-")),Pd(Qy(i),"handleAnimationEnd",function(){var o=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),o&&o()}),Pd(Qy(i),"handleAnimationStart",function(){var o=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),o&&o()}),i}return hft(e,[{key:"renderRectanglesStatically",value:function(r){var n=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,u=s.activeBar,c=yi(this.props,!1);return r&&r.map(function(d,h){var f=h===l,g=f?u:o,v=dn(dn(dn({},c),d),{},{isActive:f,option:g,index:h,dataKey:a,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return W.createElement(Cn,xA({className:"recharts-bar-rectangle"},Kx(n.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),W.createElement(C8,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,s=n.data,o=n.layout,a=n.isAnimationActive,l=n.animationBegin,u=n.animationDuration,c=n.animationEasing,d=n.animationId,h=this.state.prevData;return W.createElement(th,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,v=s.map(function(C,S){var y=h&&h[S];if(y){var w=bg(y.x,C.x),E=bg(y.y,C.y),b=bg(y.width,C.width),D=bg(y.height,C.height);return dn(dn({},C),{},{x:w(g),y:E(g),width:b(g),height:D(g)})}if(o==="horizontal"){var P=bg(0,C.height),O=P(g);return dn(dn({},C),{},{y:C.y+C.height-O,height:O})}var N=bg(0,C.width),_=N(g);return dn(dn({},C),{},{width:_})});return W.createElement(Cn,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&n&&n.length&&(!o||!mM(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,s=n.data,o=n.dataKey,a=n.activeIndex,l=yi(this.props.background,!1);return s.map(function(u,c){u.value;var d=u.background,h=uft(u,lft);if(!d)return null;var f=dn(dn(dn(dn(dn({},h),{},{fill:"#eee"},d),l),Kx(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,key:"background-bar-".concat(c),className:"recharts-bar-background-rectangle"});return W.createElement(C8,xA({option:r.props.background,isActive:c===a},f))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,u=s.layout,c=s.children,d=Dl(c,ZM);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,f=function(C,S){var y=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:y,errorVal:Nu(C,S)}},g={clipPath:r?"url(#clipPath-".concat(n,")"):null};return W.createElement(Cn,g,d.map(function(v){return W.cloneElement(v,{key:"error-bar-".concat(n,"-").concat(v.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,f=r.isAnimationActive,g=r.background,v=r.id;if(n||!s||!s.length)return null;var C=this.state.isAnimationFinished,S=Le("recharts-bar",o),y=a&&a.allowDataOverflow,w=l&&l.allowDataOverflow,E=y||w,b=Si(v)?this.id:v;return W.createElement(Cn,{className:S},y||w?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(b)},W.createElement("rect",{x:y?u:u-d/2,y:w?c:c-h/2,width:y?d:d*2,height:w?h:h*2}))):null,W.createElement(Cn,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(b,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,b),(!f||C)&&_p.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}]),e}(T.PureComponent);Aue=eg;Pd(eg,"displayName","Bar");Pd(eg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$d.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pd(eg,"getComposedData",function(t){var e=t.props,i=t.item,r=t.barPosition,n=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,f=Yut(r,i);if(!f)return null;var g=e.layout,v=i.props,C=v.dataKey,S=v.children,y=v.minPointSize,w=g==="horizontal"?o:s,E=u?w.scale.domain():null,b=ict({numericAxis:w}),D=Dl(S,dle),P=d.map(function(O,N){var _,L,k,$,U,K;u?_=qut(u[c+N],E):(_=Nu(O,C),Array.isArray(_)||(_=[b,_]));var j=aft(y,Aue.defaultProps.minPointSize)(_[1],N);if(g==="horizontal"){var Q,H=[o.scale(_[0]),o.scale(_[1])],X=H[0],te=H[1];L=yq({axis:s,ticks:a,bandSize:n,offset:f.offset,entry:O,index:N}),k=(Q=te??X)!==null&&Q!==void 0?Q:void 0,$=f.size;var le=X-te;if(U=Number.isNaN(le)?0:le,K={x:L,y:o.y,width:$,height:o.height},Math.abs(j)>0&&Math.abs(U)<Math.abs(j)){var J=wl(U||j)*(Math.abs(j)-Math.abs(U));k-=J,U+=J}}else{var ie=[s.scale(_[0]),s.scale(_[1])],ue=ie[0],me=ie[1];if(L=ue,k=yq({axis:o,ticks:l,bandSize:n,offset:f.offset,entry:O,index:N}),$=me-ue,U=f.size,K={x:s.x,y:k,width:s.width,height:U},Math.abs(j)>0&&Math.abs($)<Math.abs(j)){var se=wl($||j)*(Math.abs(j)-Math.abs($));$+=se}}return dn(dn(dn({},O),{},{x:L,y:k,width:$,height:U,value:u?_:_[1],payload:O,background:K},D&&D[N]&&D[N].props),{},{tooltipPayload:[pue(i,O)],tooltipPosition:{x:L+$/2,y:k+U/2}})});return dn({data:P,layout:g},h)});function IE(t){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}function vft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fue(r.key),r)}}function Cft(t,e,i){return e&&w8(t.prototype,e),i&&w8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function E8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function hl(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(i),!0).forEach(function(r){tF(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function tF(t,e,i){return e=Fue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Fue(t){var e=yft(t,"string");return IE(e)=="symbol"?e:String(e)}function yft(t,e){if(IE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(IE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sft=function(e,i,r,n,s){var o=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(i),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!To(u,eg);return c.reduce(function(f,g){var v=i[g],C=v.orientation,S=v.domain,y=v.padding,w=y===void 0?{}:y,E=v.mirror,b=v.reversed,D="".concat(C).concat(E?"Mirror":""),P,O,N,_,L;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var k=S[1]-S[0],$=1/0,U=v.categoricalDomain.sort();if(U.forEach(function(ue,me){me>0&&($=Math.min((ue||0)-(U[me-1]||0),$))}),Number.isFinite($)){var K=$/k,j=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(P=K*j/2),v.padding==="no-gap"){var Q=gf(e.barCategoryGap,K*j),H=K*j/2;P=H-Q-(H-Q)/j*Q}}}n==="xAxis"?O=[r.left+(w.left||0)+(P||0),r.left+r.width-(w.right||0)-(P||0)]:n==="yAxis"?O=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(P||0),r.top+r.height-(w.bottom||0)-(P||0)]:O=v.range,b&&(O=[O[1],O[0]]);var X=jut(v,s,h),te=X.scale,le=X.realScaleType;te.domain(S).range(O),Kut(te);var J=tct(te,hl(hl({},v),{},{realScaleType:le}));n==="xAxis"?(L=C==="top"&&!E||C==="bottom"&&E,N=r.left,_=d[D]-L*v.height):n==="yAxis"&&(L=C==="left"&&!E||C==="right"&&E,N=d[D]-L*v.width,_=r.top);var ie=hl(hl(hl({},v),J),{},{realScaleType:le,x:N,y:_,scale:te,width:n==="xAxis"?r.width:v.width,height:n==="yAxis"?r.height:v.height});return ie.bandSize=vA(ie,J),!v.hide&&n==="xAxis"?d[D]+=(L?-1:1)*ie.height:v.hide||(d[D]+=(L?-1:1)*ie.width),hl(hl({},f),{},tF({},g,ie))},{})},Iue=function(e,i){var r=e.x,n=e.y,s=i.x,o=i.y;return{x:Math.min(r,s),y:Math.min(n,o),width:Math.abs(s-r),height:Math.abs(o-n)}},wft=function(e){var i=e.x1,r=e.y1,n=e.x2,s=e.y2;return Iue({x:i,y:r},{x:n,y:s})},Lue=function(){function t(e){vft(this,t),this.scale=e}return Cft(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,s=r.position;if(i!==void 0){if(s)switch(s){case"start":return this.scale(i);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(i)+a}default:return this.scale(i)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+l}return this.scale(i)}}},{key:"isInRange",value:function(i){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?i>=n&&i<=s:i>=s&&i<=n}}],[{key:"create",value:function(i){return new t(i)}}]),t}();tF(Lue,"EPS",1e-4);var c2=function(e){var i=Object.keys(e).reduce(function(r,n){return hl(hl({},r),{},tF({},n,Lue.create(e[n])))},{});return hl(hl({},i),{},{apply:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return tae(n,function(l,u){return i[u].apply(l,{bandAware:o,position:a})})},isInRange:function(n){return Jpt(n,function(s,o){return i[o].isInRange(s)})}})};function Eft(t){return(t%180+180)%180}var bft=function(e){var i=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Eft(n),o=s*Math.PI/180,a=Math.atan(r/i),l=o>a&&o<Math.PI-a?r/Math.sin(o):i/Math.cos(o);return Math.abs(l)},Rft=B6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_ue=T.createContext(void 0),Nue=T.createContext(void 0),Gue=T.createContext(void 0),Tft=T.createContext({}),kue=T.createContext(void 0),Vue=T.createContext(0),Hue=T.createContext(0),b8=function(e){var i=e.state,r=i.xAxisMap,n=i.yAxisMap,s=i.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,c=Rft(s);return W.createElement(_ue.Provider,{value:r},W.createElement(Nue.Provider,{value:n},W.createElement(Tft.Provider,{value:s},W.createElement(Gue.Provider,{value:c},W.createElement(kue.Provider,{value:o},W.createElement(Vue.Provider,{value:u},W.createElement(Hue.Provider,{value:l},a)))))))},Dft=function(){return T.useContext(kue)},$ue=function(e){var i=T.useContext(_ue);i==null&&vf(!1);var r=i[e];return r==null&&vf(!1),r},Bue=function(e){var i=T.useContext(Nue);i==null&&vf(!1);var r=i[e];return r==null&&vf(!1),r},Pft=function(){var e=T.useContext(Gue);return e},Wue=function(){return T.useContext(Hue)},Uue=function(){return T.useContext(Vue)};function LE(t){"@babel/helpers - typeof";return LE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(t)}function R8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function T8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(i),!0).forEach(function(r){xft(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function xft(t,e,i){return e=Aft(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Aft(t){var e=Oft(t,"string");return LE(e)=="symbol"?e:String(e)}function Oft(t,e){if(LE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(LE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mft(t,e){return _ft(t)||Lft(t,e)||Ift(t,e)||Fft()}function Fft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ift(t,e){if(t){if(typeof t=="string")return D8(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return D8(t,e)}}function D8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Lft(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function _ft(t){if(Array.isArray(t))return t}function dk(){return dk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},dk.apply(this,arguments)}var Nft=function(e,i){var r;return W.isValidElement(e)?r=W.cloneElement(e,i):ei(e)?r=e(i):r=W.createElement("line",dk({},i,{className:"recharts-reference-line-line"})),r},Gft=function(e,i,r,n,s,o,a,l,u){var c=s.x,d=s.y,h=s.width,f=s.height;if(r){var g=u.y,v=e.y.apply(g,{position:o});if(yu(u,"discard")&&!e.y.isInRange(v))return null;var C=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?C.reverse():C}if(i){var S=u.x,y=e.x.apply(S,{position:o});if(yu(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:d+f},{x:y,y:d}];return a==="top"?w.reverse():w}if(n){var E=u.segment,b=E.map(function(D){return e.apply(D,{position:o})});return yu(u,"discard")&&Hpt(b,function(D){return!e.isInRange(D)})?null:b}return null};function d2(t){var e=t.x,i=t.y,r=t.segment,n=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,u=Dft(),c=$ue(n),d=Bue(s),h=Pft();if(!u||!h)return null;Fp(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=c2({x:c.scale,y:d.scale}),g=sn(e),v=sn(i),C=r&&r.length===2,S=Gft(f,g,v,C,h,t.position,c.orientation,d.orientation,t);if(!S)return null;var y=Mft(S,2),w=y[0],E=w.x,b=w.y,D=y[1],P=D.x,O=D.y,N=yu(t,"hidden")?"url(#".concat(u,")"):void 0,_=T8(T8({clipPath:N},yi(t,!0)),{},{x1:E,y1:b,x2:P,y2:O});return W.createElement(Cn,{className:Le("recharts-reference-line",a)},Nft(o,_),Qn.renderCallByParent(t,wft({x1:E,y1:b,x2:P,y2:O})))}d2.displayName="ReferenceLine";d2.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function _E(t){"@babel/helpers - typeof";return _E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_E(t)}function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},hk.apply(this,arguments)}function P8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function x8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(i),!0).forEach(function(r){kft(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function kft(t,e,i){return e=Vft(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Vft(t){var e=Hft(t,"string");return _E(e)=="symbol"?e:String(e)}function Hft(t,e){if(_E(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(_E(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ft=function(e){var i=e.x,r=e.y,n=e.xAxis,s=e.yAxis,o=c2({x:n.scale,y:s.scale}),a=o.apply({x:i,y:r},{bandAware:!0});return yu(e,"discard")&&!o.isInRange(a)?null:a};function oR(t){var e=t.x,i=t.y,r=t.r,n=t.alwaysShow,s=t.clipPathId,o=sn(e),a=sn(i);if(Fp(n===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!a)return null;var l=$ft(t);if(!l)return null;var u=l.x,c=l.y,d=t.shape,h=t.className,f=yu(t,"hidden")?"url(#".concat(s,")"):void 0,g=x8(x8({clipPath:f},yi(t,!0)),{},{cx:u,cy:c});return W.createElement(Cn,{className:Le("recharts-reference-dot",h)},oR.renderDot(d,g),Qn.renderCallByParent(t,{x:u-r,y:c-r,width:2*r,height:2*r}))}oR.displayName="ReferenceDot";oR.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};oR.renderDot=function(t,e){var i;return W.isValidElement(t)?i=W.cloneElement(t,e):ei(t)?i=t(e):i=W.createElement(Tue,hk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),i};function NE(t){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(t)}function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},pk.apply(this,arguments)}function A8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function O8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(i),!0).forEach(function(r){Bft(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Bft(t,e,i){return e=Wft(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Wft(t){var e=Uft(t,"string");return NE(e)=="symbol"?e:String(e)}function Uft(t,e){if(NE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(NE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zft=function(e,i,r,n,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,c=s.xAxis,d=s.yAxis;if(!c||!d)return null;var h=c2({x:c.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:i?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:n?h.y.apply(u,{position:"end"}):h.y.rangeMax};return yu(s,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:Iue(f,g)};function aR(t){var e=t.x1,i=t.x2,r=t.y1,n=t.y2,s=t.className,o=t.alwaysShow,a=t.clipPathId;Fp(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=sn(e),u=sn(i),c=sn(r),d=sn(n),h=t.shape;if(!l&&!u&&!c&&!d&&!h)return null;var f=zft(l,u,c,d,t);if(!f&&!h)return null;var g=yu(t,"hidden")?"url(#".concat(a,")"):void 0;return W.createElement(Cn,{className:Le("recharts-reference-area",s)},aR.renderRect(h,O8(O8({clipPath:g},yi(t,!0)),f)),Qn.renderCallByParent(t,f))}aR.displayName="ReferenceArea";aR.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};aR.renderRect=function(t,e){var i;return W.isValidElement(t)?i=W.cloneElement(t,e):ei(t)?i=t(e):i=W.createElement(u2,pk({},e,{className:"recharts-reference-area-rect"})),i};function zue(t,e,i){if(e<1)return[];if(e===1&&i===void 0)return t;for(var r=[],n=0;n<t.length;n+=e)if(i===void 0||i(t[n])===!0)r.push(t[n]);else return;return r}function jft(t,e,i){var r={width:t.width+e.width,height:t.height+e.height};return bft(r,i)}function Kft(t,e,i){var r=i==="width",n=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?n:s,end:r?n+o:s+a}:{start:r?n+o:s+a,end:r?n:s}}function OA(t,e,i,r,n){if(t*e<t*r||t*e>t*n)return!1;var s=i();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-n)<=0}function Yft(t,e){return zue(t,e+1)}function qft(t,e,i,r,n){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,u=1,c=o,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:zue(r,u)};var v=l,C,S=function(){return C===void 0&&(C=i(g,v)),C},y=g.coordinate,w=l===0||OA(t,y,S,c,a);w||(l=0,c=o,u+=1),w&&(c=y+t*(S()/2+n),l+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function GE(t){"@babel/helpers - typeof";return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE(t)}function M8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Yn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(i),!0).forEach(function(r){Xft(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):M8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Xft(t,e,i){return e=Qft(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Qft(t){var e=Zft(t,"string");return GE(e)=="symbol"?e:String(e)}function Zft(t,e){if(GE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(GE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jft(t,e,i,r,n){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,u=function(h){var f=s[h],g,v=function(){return g===void 0&&(g=i(f,h)),g};if(h===o-1){var C=t*(f.coordinate+t*v()/2-l);s[h]=f=Yn(Yn({},f),{},{tickCoord:C>0?f.coordinate-C*t:f.coordinate})}else s[h]=f=Yn(Yn({},f),{},{tickCoord:f.coordinate});var S=OA(t,f.tickCoord,v,a,l);S&&(l=f.tickCoord-t*(v()/2+n),s[h]=Yn(Yn({},f),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return s}function egt(t,e,i,r,n,s){var o=(r||[]).slice(),a=o.length,l=e.start,u=e.end;if(s){var c=r[a-1],d=i(c,a-1),h=t*(c.coordinate+t*d/2-u);o[a-1]=c=Yn(Yn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var f=OA(t,c.tickCoord,function(){return d},l,u);f&&(u=c.tickCoord-t*(d/2+n),o[a-1]=Yn(Yn({},c),{},{isShow:!0}))}for(var g=s?a-1:a,v=function(y){var w=o[y],E,b=function(){return E===void 0&&(E=i(w,y)),E};if(y===0){var D=t*(w.coordinate-t*b()/2-l);o[y]=w=Yn(Yn({},w),{},{tickCoord:D<0?w.coordinate-D*t:w.coordinate})}else o[y]=w=Yn(Yn({},w),{},{tickCoord:w.coordinate});var P=OA(t,w.tickCoord,b,l,u);P&&(l=w.tickCoord+t*(b()/2+n),o[y]=Yn(Yn({},w),{},{isShow:!0}))},C=0;C<g;C++)v(C);return o}function tgt(t,e,i){var r=t.tick,n=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!n||!n.length||!r)return[];if(Ye(l)||$d.isSsr)return Yft(n,typeof l=="number"&&Ye(l)?l:0);var h=[],f=a==="top"||a==="bottom"?"width":"height",g=c&&f==="width"?yS(c,{fontSize:e,letterSpacing:i}):{width:0,height:0},v=function(w,E){var b=ei(u)?u(w.value,E):w.value;return f==="width"?jft(yS(b,{fontSize:e,letterSpacing:i}),g,d):yS(b,{fontSize:e,letterSpacing:i})[f]},C=n.length>=2?wl(n[1].coordinate-n[0].coordinate):1,S=Kft(s,C,f);return l==="equidistantPreserveStart"?qft(C,S,v,n,o):(l==="preserveStart"||l==="preserveStartEnd"?h=egt(C,S,v,n,o,l==="preserveStartEnd"):h=Jft(C,S,v,n,o),h.filter(function(y){return y.isShow}))}var igt=["viewBox"],rgt=["viewBox"],ngt=["ticks"];function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},nm.apply(this,arguments)}function F8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function ps(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(i),!0).forEach(function(r){h2(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function E_(t,e){if(t==null)return{};var i=sgt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sgt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function ogt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kue(r.key),r)}}function agt(t,e,i){return e&&I8(t.prototype,e),i&&I8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function lgt(t,e,i){return e=MA(e),ugt(t,jue()?Reflect.construct(e,i||[],MA(t).constructor):e.apply(t,i))}function ugt(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cgt(t)}function cgt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jue=function(){return!!t})()}function MA(t){return MA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},MA(t)}function dgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fk(t,e)}function fk(t,e){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fk(t,e)}function h2(t,e,i){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Kue(t){var e=hgt(t,"string");return Pv(e)=="symbol"?e:String(e)}function hgt(t,e){if(Pv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iF=function(t){dgt(e,t);function e(i){var r;return ogt(this,e),r=lgt(this,e,[i]),r.state={fontSize:"",letterSpacing:""},r}return agt(e,[{key:"shouldComponentUpdate",value:function(r,n){var s=r.viewBox,o=E_(r,igt),a=this.props,l=a.viewBox,u=E_(a,rgt);return!bm(s,l)||!bm(o,u)||!bm(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,s=n.x,o=n.y,a=n.width,l=n.height,u=n.orientation,c=n.tickSize,d=n.mirror,h=n.tickMargin,f,g,v,C,S,y,w=d?-1:1,E=r.tickSize||c,b=Ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":f=g=r.coordinate,C=o+ +!d*l,v=C-w*E,y=v-w*h,S=b;break;case"left":v=C=r.coordinate,g=s+ +!d*a,f=g-w*E,S=f-w*h,y=b;break;case"right":v=C=r.coordinate,g=s+ +d*a,f=g+w*E,S=f+w*h,y=b;break;default:f=g=r.coordinate,C=o+ +d*l,v=C+w*E,y=v+w*h,S=b;break}return{line:{x1:f,y1:v,x2:g,y2:C},tick:{x:S,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,s=r.mirror,o;switch(n){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,s=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=ps(ps(ps({},yi(this.props,!1)),yi(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=ps(ps({},d),{},{x1:n,y1:s+h*a,x2:n+o,y2:s+h*a})}else{var f=+(l==="left"&&!u||l==="right"&&u);d=ps(ps({},d),{},{x1:n+f*o,y1:s,x2:n+f*o,y2:s+a})}return W.createElement("line",nm({},d,{className:Le("recharts-cartesian-axis-line",Fa(c,"className"))}))}},{key:"renderTicks",value:function(r,n,s){var o=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,f=tgt(ps(ps({},this.props),{},{ticks:r}),n,s),g=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),C=yi(this.props,!1),S=yi(c,!1),y=ps(ps({},C),{},{fill:"none"},yi(l,!1)),w=f.map(function(E,b){var D=o.getTickLineCoord(E),P=D.line,O=D.tick,N=ps(ps(ps(ps({textAnchor:g,verticalAnchor:v},C),{},{stroke:"none",fill:u},S),O),{},{index:b,payload:E,visibleTicksCount:f.length,tickFormatter:d});return W.createElement(Cn,nm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Kx(o.props,E,b)),l&&W.createElement("line",nm({},y,P,{className:Le("recharts-cartesian-axis-tick-line",Fa(l,"className"))})),c&&e.renderTickItem(c,N,"".concat(ei(d)?d(E.value,b):E.value).concat(h||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,n=this.props,s=n.axisLine,o=n.width,a=n.height,l=n.ticksGenerator,u=n.className,c=n.hide;if(c)return null;var d=this.props,h=d.ticks,f=E_(d,ngt),g=h;return ei(l)&&(g=h&&h.length>0?l(this.props):l(f)),o<=0||a<=0||!g||!g.length?null:W.createElement(Cn,{className:Le("recharts-cartesian-axis",u),ref:function(C){r.layerReference=C}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,s){var o;return W.isValidElement(r)?o=W.cloneElement(r,n):ei(r)?o=r(n):o=W.createElement(nA,nm({},n,{className:"recharts-cartesian-axis-tick-value"}),s),o}}]),e}(T.Component);h2(iF,"displayName","CartesianAxis");h2(iF,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},gk.apply(this,arguments)}var p2=function(e){var i=e.xAxisId,r=Wue(),n=Uue(),s=$ue(i);return s==null?null:W.createElement(iF,gk({},s,{className:Le("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return hp(a,!0)}}))};p2.displayName="XAxis";p2.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},mk.apply(this,arguments)}var f2=function(e){var i=e.yAxisId,r=Wue(),n=Uue(),s=Bue(i);return s==null?null:W.createElement(iF,mk({},s,{className:Le("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return hp(a,!0)}}))};f2.displayName="YAxis";f2.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function L8(t){return mgt(t)||ggt(t)||fgt(t)||pgt()}function pgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fgt(t,e){if(t){if(typeof t=="string")return vk(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vk(t,e)}}function ggt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mgt(t){if(Array.isArray(t))return vk(t)}function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Ck=function(e,i,r,n,s){var o=Dl(e,d2),a=Dl(e,oR),l=[].concat(L8(o),L8(a)),u=Dl(e,aR),c="".concat(n,"Id"),d=n[0],h=i;if(l.length&&(h=l.reduce(function(v,C){if(C.props[c]===r&&yu(C.props,"extendDomain")&&Ye(C.props[d])){var S=C.props[d];return[Math.min(v[0],S),Math.max(v[1],S)]}return v},h)),u.length){var f="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(v,C){if(C.props[c]===r&&yu(C.props,"extendDomain")&&Ye(C.props[f])&&Ye(C.props[g])){var S=C.props[f],y=C.props[g];return[Math.min(v[0],S,y),Math.max(v[1],S,y)]}return v},h)}return s&&s.length&&(h=s.reduce(function(v,C){return Ye(C)?[Math.min(v[0],C),Math.max(v[1],C)]:v},h)),h},Yue={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function n(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new n(c,d||l,h),g=i?i+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=i?i+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},a.prototype.listenerCount=function(u){var c=i?i+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,f,g){var v=i?i+u:u;if(!this._events[v])return!1;var C=this._events[v],S=arguments.length,y,w;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),S){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,d),!0;case 4:return C.fn.call(C.context,c,d,h),!0;case 5:return C.fn.call(C.context,c,d,h,f),!0;case 6:return C.fn.call(C.context,c,d,h,f,g),!0}for(w=1,y=new Array(S-1);w<S;w++)y[w-1]=arguments[w];C.fn.apply(C.context,y)}else{var E=C.length,b;for(w=0;w<E;w++)switch(C[w].once&&this.removeListener(u,C[w].fn,void 0,!0),S){case 1:C[w].fn.call(C[w].context);break;case 2:C[w].fn.call(C[w].context,c);break;case 3:C[w].fn.call(C[w].context,c,d);break;case 4:C[w].fn.call(C[w].context,c,d,h);break;default:if(!y)for(b=1,y=new Array(S-1);b<S;b++)y[b-1]=arguments[b];C[w].fn.apply(C[w].context,y)}}return!0},a.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var f=i?i+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&o(this,f);else{for(var v=0,C=[],S=g.length;v<S;v++)(g[v].fn!==c||h&&!g[v].once||d&&g[v].context!==d)&&C.push(g[v]);C.length?this._events[f]=C.length===1?C[0]:C:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=i?i+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a})(Yue);var vgt=Yue.exports;const Cgt=Pt(vgt);var b_=new Cgt,R_="recharts.syncMouseEvents";function kE(t){"@babel/helpers - typeof";return kE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kE(t)}function ygt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,que(r.key),r)}}function Sgt(t,e,i){return e&&_8(t.prototype,e),i&&_8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function T_(t,e,i){return e=que(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function que(t){var e=wgt(t,"string");return kE(e)=="symbol"?e:String(e)}function wgt(t,e){if(kE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(kE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Egt=function(){function t(){ygt(this,t),T_(this,"activeIndex",0),T_(this,"coordinateList",[]),T_(this,"layout","horizontal")}return Sgt(t,[{key:"setDetails",value:function(i){var r,n=i.coordinateList,s=n===void 0?null:n,o=i.container,a=o===void 0?null:o,l=i.layout,u=l===void 0?null:l,c=i.offset,d=c===void 0?null:c,h=i.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(i){if(this.coordinateList.length!==0)switch(i.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(i){this.activeIndex=i}},{key:"spoofMouse",value:function(){var i,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),s=n.x,o=n.y,a=n.height,l=this.coordinateList[this.activeIndex].coordinate,u=((i=window)===null||i===void 0?void 0:i.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+u,h=o+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}]),t}();function bgt(t,e,i){if(i==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],n=t==null?void 0:t[1];if(r&&n&&Ye(r)&&Ye(n))return!0}return!1}function Rgt(t,e,i,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-n:i.left+.5,y:t==="horizontal"?i.top+.5:e.y-n,width:t==="horizontal"?r:i.width-1,height:t==="horizontal"?i.height-1:r}}function Xue(t){var e=t.cx,i=t.cy,r=t.radius,n=t.startAngle,s=t.endAngle,o=Nn(e,i,r,n),a=Nn(e,i,r,s);return{points:[o,a],cx:e,cy:i,radius:r,startAngle:n,endAngle:s}}function Tgt(t,e,i){var r,n,s,o;if(t==="horizontal")r=e.x,s=r,n=i.top,o=i.top+i.height;else if(t==="vertical")n=e.y,o=n,r=i.left,s=i.left+i.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Nn(a,l,u,d),f=Nn(a,l,c,d);r=h.x,n=h.y,s=f.x,o=f.y}else return Xue(e);return[{x:r,y:n},{x:s,y:o}]}function VE(t){"@babel/helpers - typeof";return VE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VE(t)}function N8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function QT(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(i),!0).forEach(function(r){Dgt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):N8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Dgt(t,e,i){return e=Pgt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Pgt(t){var e=xgt(t,"string");return VE(e)=="symbol"?e:String(e)}function xgt(t,e){if(VE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(VE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Agt(t){var e=t.element,i=t.tooltipEventType,r=t.isActive,n=t.activeCoordinate,s=t.activePayload,o=t.offset,a=t.activeTooltipIndex,l=t.tooltipAxisBandSize,u=t.layout,c=t.chartName;if(!e||!e.props.cursor||!r||!n||c!=="ScatterChart"&&i!=="axis")return null;var d,h=_q;if(c==="ScatterChart")d=n,h=Vht;else if(c==="BarChart")d=Rgt(u,n,o,l),h=u2;else if(u==="radial"){var f=Xue(n),g=f.cx,v=f.cy,C=f.radius,S=f.startAngle,y=f.endAngle;d={cx:g,cy:v,startAngle:S,endAngle:y,innerRadius:C,outerRadius:C},h=mue}else d={points:Tgt(u,n,o)},h=_q;var w=QT(QT(QT(QT({stroke:"#ccc",pointerEvents:"none"},o),d),yi(e.props.cursor,!1)),{},{payload:s,payloadIndex:a,className:Le("recharts-tooltip-cursor",e.props.cursor.className)});return T.isValidElement(e.props.cursor)?T.cloneElement(e.props.cursor,w):T.createElement(h,w)}var Ogt=["item"],Mgt=["children","className","width","height","style","compact","title","desc"];function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},bS.apply(this,arguments)}function G8(t,e){return Lgt(t)||Igt(t,e)||Zue(t,e)||Fgt()}function Fgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Igt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Lgt(t){if(Array.isArray(t))return t}function k8(t,e){if(t==null)return{};var i=_gt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _gt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Ngt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jue(r.key),r)}}function Ggt(t,e,i){return e&&V8(t.prototype,e),i&&V8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function kgt(t,e,i){return e=FA(e),Vgt(t,Que()?Reflect.construct(e,i||[],FA(t).constructor):e.apply(t,i))}function Vgt(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(t)}function Que(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Que=function(){return!!t})()}function FA(t){return FA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},FA(t)}function Zt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},yk(t,e)}function Av(t){return Wgt(t)||Bgt(t)||Zue(t)||$gt()}function $gt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zue(t,e){if(t){if(typeof t=="string")return Sk(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Sk(t,e)}}function Bgt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wgt(t){if(Array.isArray(t))return Sk(t)}function Sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function H8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Fe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(i),!0).forEach(function(r){Tt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):H8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Tt(t,e,i){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Jue(t){var e=Ugt(t,"string");return xv(e)=="symbol"?e:String(e)}function Ugt(t,e){if(xv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zgt={xAxis:["bottom","top"],yAxis:["left","right"]},jgt={width:"100%",height:"100%"},ece={x:0,y:0};function ZT(t){return t}var Kgt=function(e,i){return i==="horizontal"?e.x:i==="vertical"?e.y:i==="centric"?e.angle:e.radius},Ygt=function(e,i,r,n){var s=i.find(function(c){return c&&c.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=n.radius;return Fe(Fe(Fe({},n),Nn(n.cx,n.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=n.angle;return Fe(Fe(Fe({},n),Nn(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return ece},rF=function(e,i){var r=i.graphicalItems,n=i.dataStartIndex,s=i.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Av(a),Av(u)):a},[]);return o.length>0?o:e&&e.length&&Ye(n)&&Ye(s)?e.slice(n,s+1):[]};function tce(t){return t==="number"?[0,"auto"]:void 0}var wk=function(e,i,r,n){var s=e.graphicalItems,o=e.tooltipAxis,a=rF(i,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:i;d&&e.dataStartIndex+e.dataEndIndex!==0&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?a:d;h=cG(f,o.dataKey,n)}else h=d&&d[r]||a[r];return h?[].concat(Av(l),[pue(u,h)]):l},[])},$8=function(e,i,r,n){var s=n||{x:e.chartX,y:e.chartY},o=Kgt(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Hut(o,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=wk(e,i,c,d),f=Ygt(r,a,c,s);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},qgt=function(e,i){var r=i.axes,n=i.graphicalItems,s=i.axisType,o=i.axisIdKey,a=i.stackGroups,l=i.dataStartIndex,u=i.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,f=due(c,s);return r.reduce(function(g,v){var C,S=v.props,y=S.type,w=S.dataKey,E=S.allowDataOverflow,b=S.allowDuplicatedCategory,D=S.scale,P=S.ticks,O=S.includeHidden,N=v.props[o];if(g[N])return g;var _=rF(e.data,{graphicalItems:n.filter(function(J){return J.props[o]===N}),dataStartIndex:l,dataEndIndex:u}),L=_.length,k,$,U;bgt(v.props.domain,E,y)&&(k=jG(v.props.domain,null,E),f&&(y==="number"||D!=="auto")&&(U=wS(_,w,"category")));var K=tce(y);if(!k||k.length===0){var j,Q=(j=v.props.domain)!==null&&j!==void 0?j:K;if(w){if(k=wS(_,w,y),y==="category"&&f){var H=wtt(k);b&&H?($=k,k=Jw(0,L)):b||(k=Eq(Q,k,v).reduce(function(J,ie){return J.indexOf(ie)>=0?J:[].concat(Av(J),[ie])},[]))}else if(y==="category")b?k=k.filter(function(J){return J!==""&&!Si(J)}):k=Eq(Q,k,v).reduce(function(J,ie){return J.indexOf(ie)>=0||ie===""||Si(ie)?J:[].concat(Av(J),[ie])},[]);else if(y==="number"){var X=zut(_,n.filter(function(J){return J.props[o]===N&&(O||!J.props.hide)}),w,s,c);X&&(k=X)}f&&(y==="number"||D!=="auto")&&(U=wS(_,w,"category"))}else f?k=Jw(0,L):a&&a[N]&&a[N].hasStack&&y==="number"?k=h==="expand"?[0,1]:hue(a[N].stackGroups,l,u):k=cue(_,n.filter(function(J){return J.props[o]===N&&(O||!J.props.hide)}),y,c,!0);if(y==="number")k=Ck(d,k,N,s,P),Q&&(k=jG(Q,k,E));else if(y==="category"&&Q){var te=Q,le=k.every(function(J){return te.indexOf(J)>=0});le&&(k=te)}}return Fe(Fe({},g),{},Tt({},N,Fe(Fe({},v.props),{},{axisType:s,domain:k,categoricalDomain:U,duplicateDomain:$,originalDomain:(C=v.props.domain)!==null&&C!==void 0?C:K,isCategorical:f,layout:c})))},{})},Xgt=function(e,i){var r=i.graphicalItems,n=i.Axis,s=i.axisType,o=i.axisIdKey,a=i.stackGroups,l=i.dataStartIndex,u=i.dataEndIndex,c=e.layout,d=e.children,h=rF(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),f=h.length,g=due(c,s),v=-1;return r.reduce(function(C,S){var y=S.props[o],w=tce("number");if(!C[y]){v++;var E;return g?E=Jw(0,f):a&&a[y]&&a[y].hasStack?(E=hue(a[y].stackGroups,l,u),E=Ck(d,E,y,s)):(E=jG(w,cue(h,r.filter(function(b){return b.props[o]===y&&!b.props.hide}),"number",c),n.defaultProps.allowDataOverflow),E=Ck(d,E,y,s)),Fe(Fe({},C),{},Tt({},y,Fe(Fe({axisType:s},n.defaultProps),{},{hide:!0,orientation:Fa(zgt,"".concat(s,".").concat(v%2),null),domain:E,originalDomain:w,isCategorical:g,layout:c})))}return C},{})},Qgt=function(e,i){var r=i.axisType,n=r===void 0?"xAxis":r,s=i.AxisComp,o=i.graphicalItems,a=i.stackGroups,l=i.dataStartIndex,u=i.dataEndIndex,c=e.children,d="".concat(n,"Id"),h=Dl(c,s),f={};return h&&h.length?f=qgt(e,{axes:h,graphicalItems:o,axisType:n,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(f=Xgt(e,{Axis:s,graphicalItems:o,axisType:n,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),f},Zgt=function(e){var i=Vg(e),r=hp(i,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:SM(r,function(n){return n.coordinate}),tooltipAxis:i,tooltipAxisBandSize:vA(i,r)}},B8=function(e){var i=e.children,r=e.defaultShowTooltip,n=To(i,Tv),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(s=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Jgt=function(e){return!e||!e.length?!1:e.some(function(i){var r=uc(i&&i.type);return r&&r.indexOf("Bar")>=0})},W8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},emt=function(e,i){var r=e.props,n=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},f=To(d,Tv),g=To(d,rE),v=Object.keys(l).reduce(function(b,D){var P=l[D],O=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},b),{},Tt({},O,b[O]+P.width)):b},{left:h.left||0,right:h.right||0}),C=Object.keys(o).reduce(function(b,D){var P=o[D],O=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},b),{},Tt({},O,Fa(b,"".concat(O))+P.height)):b},{top:h.top||0,bottom:h.bottom||0}),S=Fe(Fe({},C),v),y=S.bottom;f&&(S.bottom+=f.props.height||Tv.defaultProps.height),g&&i&&(S=Wut(S,n,r,i));var w=u-S.left-S.right,E=c-S.top-S.bottom;return Fe(Fe({brushBottom:y},S),{},{width:Math.max(w,0),height:Math.max(E,0)})},tmt=function(e,i){if(i==="xAxis")return e[i].width;if(i==="yAxis")return e[i].height},imt=function(e){var i,r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,o=s===void 0?"axis":s,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,u=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(C,S){var y=S.graphicalItems,w=S.stackGroups,E=S.offset,b=S.updateId,D=S.dataStartIndex,P=S.dataEndIndex,O=C.barSize,N=C.layout,_=C.barGap,L=C.barCategoryGap,k=C.maxBarSize,$=W8(N),U=$.numericAxisName,K=$.cateAxisName,j=Jgt(y),Q=[];return y.forEach(function(H,X){var te=rF(C.data,{graphicalItems:[H],dataStartIndex:D,dataEndIndex:P}),le=H.props,J=le.dataKey,ie=le.maxBarSize,ue=H.props["".concat(U,"Id")],me=H.props["".concat(K,"Id")],se={},he=u.reduce(function(mt,et){var fi=S["".concat(et.axisType,"Map")],wi=H.props["".concat(et.axisType,"Id")];fi&&fi[wi]||et.axisType==="zAxis"||vf(!1);var Kt=fi[wi];return Fe(Fe({},mt),{},Tt(Tt({},et.axisType,Kt),"".concat(et.axisType,"Ticks"),hp(Kt)))},se),Ee=he[K],pe=he["".concat(K,"Ticks")],ye=w&&w[ue]&&w[ue].hasStack&&rct(H,w[ue].stackGroups),Ce=uc(H.type).indexOf("Bar")>=0,re=vA(Ee,pe),oe=[],fe=j&&$ut({barSize:O,stackGroups:w,totalSize:tmt(he,K)});if(Ce){var we,Ue,Be=Si(ie)?k:ie,Ve=(we=(Ue=vA(Ee,pe,!0))!==null&&Ue!==void 0?Ue:Be)!==null&&we!==void 0?we:0;oe=But({barGap:_,barCategoryGap:L,bandSize:Ve!==re?Ve:re,sizeList:fe[me],maxBarSize:Be}),Ve!==re&&(oe=oe.map(function(mt){return Fe(Fe({},mt),{},{position:Fe(Fe({},mt.position),{},{offset:mt.position.offset-Ve/2})})}))}var qe=H&&H.type&&H.type.getComposedData;qe&&Q.push({props:Fe(Fe({},qe(Fe(Fe({},he),{},{displayedData:te,props:C,dataKey:J,item:H,bandSize:re,barPosition:oe,offset:E,stackedData:ye,layout:N,dataStartIndex:D,dataEndIndex:P}))),{},Tt(Tt(Tt({key:H.key||"item-".concat(X)},U,he[U]),K,he[K]),"animationId",b)),childIndex:Ftt(H,C.children),item:H})}),Q},g=function(C,S){var y=C.props,w=C.dataStartIndex,E=C.dataEndIndex,b=C.updateId;if(!$Y({props:y}))return null;var D=y.children,P=y.layout,O=y.stackOffset,N=y.data,_=y.reverseStackOrder,L=W8(P),k=L.numericAxisName,$=L.cateAxisName,U=Dl(D,n),K=ect(N,U,"".concat(k,"Id"),"".concat($,"Id"),O,_),j=u.reduce(function(le,J){var ie="".concat(J.axisType,"Map");return Fe(Fe({},le),{},Tt({},ie,Qgt(y,Fe(Fe({},J),{},{graphicalItems:U,stackGroups:J.axisType===k&&K,dataStartIndex:w,dataEndIndex:E}))))},{}),Q=emt(Fe(Fe({},j),{},{props:y,graphicalItems:U}),S==null?void 0:S.legendBBox);Object.keys(j).forEach(function(le){j[le]=d(y,j[le],Q,le.replace("Map",""),r)});var H=j["".concat($,"Map")],X=Zgt(H),te=f(y,Fe(Fe({},j),{},{dataStartIndex:w,dataEndIndex:E,updateId:b,graphicalItems:U,stackGroups:K,offset:Q}));return Fe(Fe({formattedGraphicalItems:te,graphicalItems:U,offset:Q,stackGroups:K},X),j)};return i=function(v){Hgt(C,v);function C(S){var y,w,E;return Ngt(this,C),E=kgt(this,C,[S]),Tt(Zt(E),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Tt(Zt(E),"accessibilityManager",new Egt),Tt(Zt(E),"handleLegendBBoxUpdate",function(b){if(b){var D=E.state,P=D.dataStartIndex,O=D.dataEndIndex,N=D.updateId;E.setState(Fe({legendBBox:b},g({props:E.props,dataStartIndex:P,dataEndIndex:O,updateId:N},Fe(Fe({},E.state),{},{legendBBox:b}))))}}),Tt(Zt(E),"handleReceiveSyncEvent",function(b,D,P){if(E.props.syncId===b){if(P===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(D)}}),Tt(Zt(E),"handleBrushChange",function(b){var D=b.startIndex,P=b.endIndex;if(D!==E.state.dataStartIndex||P!==E.state.dataEndIndex){var O=E.state.updateId;E.setState(function(){return Fe({dataStartIndex:D,dataEndIndex:P},g({props:E.props,dataStartIndex:D,dataEndIndex:P,updateId:O},E.state))}),E.triggerSyncEvent({dataStartIndex:D,dataEndIndex:P})}}),Tt(Zt(E),"handleMouseEnter",function(b){var D=E.getMouseInfo(b);if(D){var P=Fe(Fe({},D),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var O=E.props.onMouseEnter;ei(O)&&O(P,b)}}),Tt(Zt(E),"triggeredAfterMouseMove",function(b){var D=E.getMouseInfo(b),P=D?Fe(Fe({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var O=E.props.onMouseMove;ei(O)&&O(P,b)}),Tt(Zt(E),"handleItemMouseEnter",function(b){E.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})}),Tt(Zt(E),"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Tt(Zt(E),"handleMouseMove",function(b){b.persist(),E.throttleTriggeredAfterMouseMove(b)}),Tt(Zt(E),"handleMouseLeave",function(b){E.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D);var P=E.props.onMouseLeave;ei(P)&&P(D,b)}),Tt(Zt(E),"handleOuterEvent",function(b){var D=Mtt(b),P=Fa(E.props,"".concat(D));if(D&&ei(P)){var O,N;/.*touch.*/i.test(D)?N=E.getMouseInfo(b.changedTouches[0]):N=E.getMouseInfo(b),P((O=N)!==null&&O!==void 0?O:{},b)}}),Tt(Zt(E),"handleClick",function(b){var D=E.getMouseInfo(b);if(D){var P=Fe(Fe({},D),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var O=E.props.onClick;ei(O)&&O(P,b)}}),Tt(Zt(E),"handleMouseDown",function(b){var D=E.props.onMouseDown;if(ei(D)){var P=E.getMouseInfo(b);D(P,b)}}),Tt(Zt(E),"handleMouseUp",function(b){var D=E.props.onMouseUp;if(ei(D)){var P=E.getMouseInfo(b);D(P,b)}}),Tt(Zt(E),"handleTouchMove",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(b.changedTouches[0])}),Tt(Zt(E),"handleTouchStart",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&E.handleMouseDown(b.changedTouches[0])}),Tt(Zt(E),"handleTouchEnd",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&E.handleMouseUp(b.changedTouches[0])}),Tt(Zt(E),"triggerSyncEvent",function(b){E.props.syncId!==void 0&&b_.emit(R_,E.props.syncId,b,E.eventEmitterSymbol)}),Tt(Zt(E),"applySyncEvent",function(b){var D=E.props,P=D.layout,O=D.syncMethod,N=E.state.updateId,_=b.dataStartIndex,L=b.dataEndIndex;if(b.dataStartIndex!==void 0||b.dataEndIndex!==void 0)E.setState(Fe({dataStartIndex:_,dataEndIndex:L},g({props:E.props,dataStartIndex:_,dataEndIndex:L,updateId:N},E.state)));else if(b.activeTooltipIndex!==void 0){var k=b.chartX,$=b.chartY,U=b.activeTooltipIndex,K=E.state,j=K.offset,Q=K.tooltipTicks;if(!j)return;if(typeof O=="function")U=O(Q,b);else if(O==="value"){U=-1;for(var H=0;H<Q.length;H++)if(Q[H].value===b.activeLabel){U=H;break}}var X=Fe(Fe({},j),{},{x:j.left,y:j.top}),te=Math.min(k,X.x+X.width),le=Math.min($,X.y+X.height),J=Q[U]&&Q[U].value,ie=wk(E.state,E.props.data,U),ue=Q[U]?{x:P==="horizontal"?Q[U].coordinate:te,y:P==="horizontal"?le:Q[U].coordinate}:ece;E.setState(Fe(Fe({},b),{},{activeLabel:J,activeCoordinate:ue,activePayload:ie,activeTooltipIndex:U}))}else E.setState(b)}),Tt(Zt(E),"renderCursor",function(b){var D,P=E.state,O=P.isTooltipActive,N=P.activeCoordinate,_=P.activePayload,L=P.offset,k=P.activeTooltipIndex,$=P.tooltipAxisBandSize,U=E.getTooltipEventType(),K=(D=b.props.active)!==null&&D!==void 0?D:O,j=E.props.layout,Q=b.key||"_recharts-cursor";return W.createElement(Agt,{key:Q,activeCoordinate:N,activePayload:_,activeTooltipIndex:k,chartName:r,element:b,isActive:K,layout:j,offset:L,tooltipAxisBandSize:$,tooltipEventType:U})}),Tt(Zt(E),"renderPolarAxis",function(b,D,P){var O=Fa(b,"type.axisType"),N=Fa(E.state,"".concat(O,"Map")),_=N&&N[b.props["".concat(O,"Id")]];return T.cloneElement(b,Fe(Fe({},_),{},{className:Le(O,_.className),key:b.key||"".concat(D,"-").concat(P),ticks:hp(_,!0)}))}),Tt(Zt(E),"renderPolarGrid",function(b){var D=b.props,P=D.radialLines,O=D.polarAngles,N=D.polarRadius,_=E.state,L=_.radiusAxisMap,k=_.angleAxisMap,$=Vg(L),U=Vg(k),K=U.cx,j=U.cy,Q=U.innerRadius,H=U.outerRadius;return T.cloneElement(b,{polarAngles:Array.isArray(O)?O:hp(U,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(N)?N:hp($,!0).map(function(X){return X.coordinate}),cx:K,cy:j,innerRadius:Q,outerRadius:H,key:b.key||"polar-grid",radialLines:P})}),Tt(Zt(E),"renderLegend",function(){var b=E.state.formattedGraphicalItems,D=E.props,P=D.children,O=D.width,N=D.height,_=E.props.margin||{},L=O-(_.left||0)-(_.right||0),k=lue({children:P,formattedGraphicalItems:b,legendWidth:L,legendContent:c});if(!k)return null;var $=k.item,U=k8(k,Ogt);return T.cloneElement($,Fe(Fe({},U),{},{chartWidth:O,chartHeight:N,margin:_,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Tt(Zt(E),"renderTooltip",function(){var b,D=E.props,P=D.children,O=D.accessibilityLayer,N=To(P,Qu);if(!N)return null;var _=E.state,L=_.isTooltipActive,k=_.activeCoordinate,$=_.activePayload,U=_.activeLabel,K=_.offset,j=(b=N.props.active)!==null&&b!==void 0?b:L;return T.cloneElement(N,{viewBox:Fe(Fe({},K),{},{x:K.left,y:K.top}),active:j,label:U,payload:j?$:[],coordinate:k,accessibilityLayer:O})}),Tt(Zt(E),"renderBrush",function(b){var D=E.props,P=D.margin,O=D.data,N=E.state,_=N.offset,L=N.dataStartIndex,k=N.dataEndIndex,$=N.updateId;return T.cloneElement(b,{key:b.key||"_recharts-brush",onChange:KT(E.handleBrushChange,b.props.onChange),data:O,x:Ye(b.props.x)?b.props.x:_.left,y:Ye(b.props.y)?b.props.y:_.top+_.height+_.brushBottom-(P.bottom||0),width:Ye(b.props.width)?b.props.width:_.width,startIndex:L,endIndex:k,updateId:"brush-".concat($)})}),Tt(Zt(E),"renderReferenceElement",function(b,D,P){if(!b)return null;var O=Zt(E),N=O.clipPathId,_=E.state,L=_.xAxisMap,k=_.yAxisMap,$=_.offset,U=b.props,K=U.xAxisId,j=U.yAxisId;return T.cloneElement(b,{key:b.key||"".concat(D,"-").concat(P),xAxis:L[K],yAxis:k[j],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:N})}),Tt(Zt(E),"renderActivePoints",function(b){var D=b.item,P=b.activePoint,O=b.basePoint,N=b.childIndex,_=b.isRange,L=[],k=D.props.key,$=D.item.props,U=$.activeDot,K=$.dataKey,j=Fe(Fe({index:N,dataKey:K,cx:P.x,cy:P.y,r:4,fill:l2(D.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value,key:"".concat(k,"-activePoint-").concat(N)},yi(U,!1)),jx(U));return L.push(C.renderActiveDot(U,j)),O?L.push(C.renderActiveDot(U,Fe(Fe({},j),{},{cx:O.x,cy:O.y,key:"".concat(k,"-basePoint-").concat(N)}))):_&&L.push(null),L}),Tt(Zt(E),"renderGraphicChild",function(b,D,P){var O=E.filterFormatItem(b,D,P);if(!O)return null;var N=E.getTooltipEventType(),_=E.state,L=_.isTooltipActive,k=_.tooltipAxis,$=_.activeTooltipIndex,U=_.activeLabel,K=E.props.children,j=To(K,Qu),Q=O.props,H=Q.points,X=Q.isRange,te=Q.baseLine,le=O.item.props,J=le.activeDot,ie=le.hide,ue=le.activeBar,me=le.activeShape,se=!!(!ie&&L&&j&&(J||ue||me)),he={};N!=="axis"&&j&&j.props.trigger==="click"?he={onClick:KT(E.handleItemMouseEnter,b.props.onClick)}:N!=="axis"&&(he={onMouseLeave:KT(E.handleItemMouseLeave,b.props.onMouseLeave),onMouseEnter:KT(E.handleItemMouseEnter,b.props.onMouseEnter)});var Ee=T.cloneElement(b,Fe(Fe({},O.props),he));function pe(et){return typeof k.dataKey=="function"?k.dataKey(et.payload):null}if(se)if($>=0){var ye,Ce;if(k.dataKey&&!k.allowDuplicatedCategory){var re=typeof k.dataKey=="function"?pe:"payload.".concat(k.dataKey.toString());ye=cG(H,re,U),Ce=X&&te&&cG(te,re,U)}else ye=H==null?void 0:H[$],Ce=X&&te&&te[$];if(me||ue){var oe=b.props.activeIndex!==void 0?b.props.activeIndex:$;return[T.cloneElement(b,Fe(Fe(Fe({},O.props),he),{},{activeIndex:oe})),null,null]}if(!Si(ye))return[Ee].concat(Av(E.renderActivePoints({item:O,activePoint:ye,basePoint:Ce,childIndex:$,isRange:X})))}else{var fe,we=(fe=E.getItemByXY(E.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Ee},Ue=we.graphicalItem,Be=Ue.item,Ve=Be===void 0?b:Be,qe=Ue.childIndex,mt=Fe(Fe(Fe({},O.props),he),{},{activeIndex:qe});return[T.cloneElement(Ve,mt),null,null]}return X?[Ee,null,null]:[Ee,null]}),Tt(Zt(E),"renderCustomized",function(b,D,P){return T.cloneElement(b,Fe(Fe({key:"recharts-customized-".concat(P)},E.props),E.state))}),Tt(Zt(E),"renderMap",{CartesianGrid:{handler:ZT,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:ZT},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:ZT},YAxis:{handler:ZT},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((y=S.id)!==null&&y!==void 0?y:NM("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=cle(E.triggeredAfterMouseMove,(w=S.throttleDelay)!==null&&w!==void 0?w:1e3/60),E.state={},E}return Ggt(C,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,E=y.data,b=y.height,D=y.layout,P=To(w,Qu);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length)){var N=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,_=wk(this.state,E,O,N),L=this.state.tooltipTicks[O].coordinate,k=(this.state.offset.top+b)/2,$=D==="horizontal",U=$?{x:L,y:k}:{y:L,x:k},K=this.state.formattedGraphicalItems.find(function(Q){var H=Q.item;return H.type.name==="Scatter"});K&&(U=Fe(Fe({},U),K.props.points[O].tooltipPosition),_=K.props.points[O].tooltipPayload);var j={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:N,activePayload:_,activeCoordinate:U};this.setState(j),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var E,b;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0}})}return null}},{key:"componentDidUpdate",value:function(y){hG([To(y.children,Qu)],[To(this.props.children,Qu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=To(this.props.children,Qu);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,E=w.getBoundingClientRect(),b=bst(E),D={chartX:Math.round(y.pageX-b.left),chartY:Math.round(y.pageY-b.top)},P=E.width/w.offsetWidth||1,O=this.inRange(D.chartX,D.chartY,P);if(!O)return null;var N=this.state,_=N.xAxisMap,L=N.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&_&&L){var $=Vg(_).scale,U=Vg(L).scale,K=$&&$.invert?$.invert(D.chartX):null,j=U&&U.invert?U.invert(D.chartY):null;return Fe(Fe({},D),{},{xValue:K,yValue:j})}var Q=$8(this.state,this.props.data,this.props.layout,O);return Q?Fe(Fe({},D),Q):null}},{key:"inRange",value:function(y,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=this.props.layout,D=y/E,P=w/E;if(b==="horizontal"||b==="vertical"){var O=this.state.offset,N=D>=O.left&&D<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return N?{x:D,y:P}:null}var _=this.state,L=_.angleAxisMap,k=_.radiusAxisMap;if(L&&k){var $=Vg(L);return Tq({x:D,y:P},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),E=To(y,Qu),b={};E&&w==="axis"&&(E.props.trigger==="click"?b={onClick:this.handleClick}:b={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var D=jx(this.props,this.handleOuterEvent);return Fe(Fe({},D),b)}},{key:"addListener",value:function(){b_.on(R_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){b_.removeListener(R_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,E){for(var b=this.state.formattedGraphicalItems,D=0,P=b.length;D<P;D++){var O=b[D];if(O.item===y||O.props.key===y.key||w===uc(O.item.type)&&E===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,E=w.left,b=w.top,D=w.height,P=w.width;return W.createElement("defs",null,W.createElement("clipPath",{id:y},W.createElement("rect",{x:E,y:b,height:D,width:P})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,E){var b=G8(E,2),D=b[0],P=b[1];return Fe(Fe({},w),{},Tt({},D,P.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,E){var b=G8(E,2),D=b[0],P=b[1];return Fe(Fe({},w),{},Tt({},D,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,E=w.formattedGraphicalItems,b=w.activeItem;if(E&&E.length)for(var D=0,P=E.length;D<P;D++){var O=E[D],N=O.props,_=O.item,L=uc(_.type);if(L==="Bar"){var k=(N.data||[]).find(function(j){return Aht(y,j)});if(k)return{graphicalItem:O,payload:k}}else if(L==="RadialBar"){var $=(N.data||[]).find(function(j){return Tq(y,j)});if($)return{graphicalItem:O,payload:$}}else if(JM(O,b)||eF(O,b)||OE(O,b)){var U=Cpt({graphicalItem:O,activeTooltipItem:b,itemData:_.props.data}),K=_.props.activeIndex===void 0?U:_.props.activeIndex;return{graphicalItem:Fe(Fe({},O),{},{childIndex:K}),payload:OE(O,b)?_.props.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var y=this;if(!$Y(this))return null;var w=this.props,E=w.children,b=w.className,D=w.width,P=w.height,O=w.style,N=w.compact,_=w.title,L=w.desc,k=k8(w,Mgt),$=yi(k,!1);if(N)return W.createElement(b8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(fG,bS({},$,{width:D,height:P,title:_,desc:L}),this.renderClipPath(),WY(E,this.renderMap)));if(this.props.accessibilityLayer){var U,K;$.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,$.role=(K=this.props.role)!==null&&K!==void 0?K:"application",$.onKeyDown=function(Q){y.accessibilityManager.keyboardEvent(Q)},$.onFocus=function(){y.accessibilityManager.focus()}}var j=this.parseEventsOfWrapper();return W.createElement(b8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",bS({className:Le("recharts-wrapper",b),style:Fe({position:"relative",cursor:"default",width:D,height:P},O)},j,{ref:function(H){y.container=H}}),W.createElement(fG,bS({},$,{width:D,height:P,title:_,desc:L,style:jgt}),this.renderClipPath(),WY(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),C}(T.Component),Tt(i,"displayName",r),Tt(i,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Tt(i,"getDerivedStateFromProps",function(v,C){var S=v.dataKey,y=v.data,w=v.children,E=v.width,b=v.height,D=v.layout,P=v.stackOffset,O=v.margin,N=C.dataStartIndex,_=C.dataEndIndex;if(C.updateId===void 0){var L=B8(v);return Fe(Fe(Fe({},L),{},{updateId:0},g(Fe(Fe({props:v},L),{},{updateId:0}),C)),{},{prevDataKey:S,prevData:y,prevWidth:E,prevHeight:b,prevLayout:D,prevStackOffset:P,prevMargin:O,prevChildren:w})}if(S!==C.prevDataKey||y!==C.prevData||E!==C.prevWidth||b!==C.prevHeight||D!==C.prevLayout||P!==C.prevStackOffset||!bm(O,C.prevMargin)){var k=B8(v),$={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},U=Fe(Fe({},$8(C,y,D)),{},{updateId:C.updateId+1}),K=Fe(Fe(Fe({},k),$),U);return Fe(Fe(Fe({},K),g(Fe({props:v},K),C)),{},{prevDataKey:S,prevData:y,prevWidth:E,prevHeight:b,prevLayout:D,prevStackOffset:P,prevMargin:O,prevChildren:w})}if(!hG(w,C.prevChildren)){var j,Q,H,X,te=To(w,Tv),le=te&&(j=(Q=te.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&j!==void 0?j:N,J=te&&(H=(X=te.props)===null||X===void 0?void 0:X.endIndex)!==null&&H!==void 0?H:_,ie=le!==N||J!==_,ue=!Si(y),me=ue&&!ie?C.updateId:C.updateId+1;return Fe(Fe({updateId:me},g(Fe(Fe({props:v},C),{},{updateId:me,dataStartIndex:le,dataEndIndex:J}),C)),{},{prevChildren:w,dataStartIndex:le,dataEndIndex:J})}return null}),Tt(i,"renderActiveDot",function(v,C){var S;return T.isValidElement(v)?S=T.cloneElement(v,C):ei(v)?S=v(C):S=W.createElement(Tue,C),W.createElement(Cn,{className:"recharts-active-dot",key:C.key},S)}),i},rmt=imt({chartName:"BarChart",GraphicalChild:eg,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:p2},{axisType:"yAxis",AxisComp:f2}],formatAxisMap:Sft}),IA={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */IA.exports;(function(t,e){(function(){var i,r="4.17.21",n=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,h=2,f=4,g=1,v=2,C=1,S=2,y=4,w=8,E=16,b=32,D=64,P=128,O=256,N=512,_=30,L="...",k=800,$=16,U=1,K=2,j=3,Q=1/0,H=9007199254740991,X=17976931348623157e292,te=NaN,le=4294967295,J=le-1,ie=le>>>1,ue=[["ary",P],["bind",C],["bindKey",S],["curry",w],["curryRight",E],["flip",N],["partial",b],["partialRight",D],["rearg",O]],me="[object Arguments]",se="[object Array]",he="[object AsyncFunction]",Ee="[object Boolean]",pe="[object Date]",ye="[object DOMException]",Ce="[object Error]",re="[object Function]",oe="[object GeneratorFunction]",fe="[object Map]",we="[object Number]",Ue="[object Null]",Be="[object Object]",Ve="[object Promise]",qe="[object Proxy]",mt="[object RegExp]",et="[object Set]",fi="[object String]",wi="[object Symbol]",Kt="[object Undefined]",Cr="[object WeakMap]",xn="[object WeakSet]",xr="[object ArrayBuffer]",Ht="[object DataView]",pt="[object Float32Array]",us="[object Float64Array]",Ja="[object Int8Array]",uo="[object Int16Array]",dt="[object Int32Array]",Qt="[object Uint8Array]",Ki="[object Uint8ClampedArray]",Ns="[object Uint16Array]",Qc="[object Uint32Array]",Yi=/\b__p \+= '';/g,Jo=/\b(__p \+=) '' \+/g,Rh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,el=/&(?:amp|lt|gt|quot|#39);/g,g2=/[&<>"']/g,ice=RegExp(el.source),rce=RegExp(g2.source),nce=/<%-([\s\S]+?)%>/g,sce=/<%([\s\S]+?)%>/g,m2=/<%=([\s\S]+?)%>/g,oce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ace=/^\w*$/,lce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nF=/[\\^$.*+?()[\]{}|]/g,uce=RegExp(nF.source),sF=/^\s+/,cce=/\s/,dce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hce=/\{\n\/\* \[wrapped with (.+)\] \*/,pce=/,? & /,fce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gce=/[()=,{}\[\]\/\s]/,mce=/\\(\\)?/g,vce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v2=/\w*$/,Cce=/^[-+]0x[0-9a-f]+$/i,yce=/^0b[01]+$/i,Sce=/^\[object .+?Constructor\]$/,wce=/^0o[0-7]+$/i,Ece=/^(?:0|[1-9]\d*)$/,bce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lR=/($^)/,Rce=/['\n\r\u2028\u2029\\]/g,uR="\\ud800-\\udfff",Tce="\\u0300-\\u036f",Dce="\\ufe20-\\ufe2f",Pce="\\u20d0-\\u20ff",C2=Tce+Dce+Pce,y2="\\u2700-\\u27bf",S2="a-z\\xdf-\\xf6\\xf8-\\xff",xce="\\xac\\xb1\\xd7\\xf7",Ace="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Oce="\\u2000-\\u206f",Mce=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",w2="A-Z\\xc0-\\xd6\\xd8-\\xde",E2="\\ufe0e\\ufe0f",b2=xce+Ace+Oce+Mce,oF="[']",Fce="["+uR+"]",R2="["+b2+"]",cR="["+C2+"]",T2="\\d+",Ice="["+y2+"]",D2="["+S2+"]",P2="[^"+uR+b2+T2+y2+S2+w2+"]",aF="\\ud83c[\\udffb-\\udfff]",Lce="(?:"+cR+"|"+aF+")",x2="[^"+uR+"]",lF="(?:\\ud83c[\\udde6-\\uddff]){2}",uF="[\\ud800-\\udbff][\\udc00-\\udfff]",tg="["+w2+"]",A2="\\u200d",O2="(?:"+D2+"|"+P2+")",_ce="(?:"+tg+"|"+P2+")",M2="(?:"+oF+"(?:d|ll|m|re|s|t|ve))?",F2="(?:"+oF+"(?:D|LL|M|RE|S|T|VE))?",I2=Lce+"?",L2="["+E2+"]?",Nce="(?:"+A2+"(?:"+[x2,lF,uF].join("|")+")"+L2+I2+")*",Gce="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kce="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_2=L2+I2+Nce,Vce="(?:"+[Ice,lF,uF].join("|")+")"+_2,Hce="(?:"+[x2+cR+"?",cR,lF,uF,Fce].join("|")+")",$ce=RegExp(oF,"g"),Bce=RegExp(cR,"g"),cF=RegExp(aF+"(?="+aF+")|"+Hce+_2,"g"),Wce=RegExp([tg+"?"+D2+"+"+M2+"(?="+[R2,tg,"$"].join("|")+")",_ce+"+"+F2+"(?="+[R2,tg+O2,"$"].join("|")+")",tg+"?"+O2+"+"+M2,tg+"+"+F2,kce,Gce,T2,Vce].join("|"),"g"),Uce=RegExp("["+A2+uR+C2+E2+"]"),zce=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kce=-1,qi={};qi[pt]=qi[us]=qi[Ja]=qi[uo]=qi[dt]=qi[Qt]=qi[Ki]=qi[Ns]=qi[Qc]=!0,qi[me]=qi[se]=qi[xr]=qi[Ee]=qi[Ht]=qi[pe]=qi[Ce]=qi[re]=qi[fe]=qi[we]=qi[Be]=qi[mt]=qi[et]=qi[fi]=qi[Cr]=!1;var _i={};_i[me]=_i[se]=_i[xr]=_i[Ht]=_i[Ee]=_i[pe]=_i[pt]=_i[us]=_i[Ja]=_i[uo]=_i[dt]=_i[fe]=_i[we]=_i[Be]=_i[mt]=_i[et]=_i[fi]=_i[wi]=_i[Qt]=_i[Ki]=_i[Ns]=_i[Qc]=!0,_i[Ce]=_i[re]=_i[Cr]=!1;var Yce={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},qce={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xce={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zce=parseFloat,Jce=parseInt,N2=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,ede=typeof self=="object"&&self&&self.Object===Object&&self,An=N2||ede||Function("return this")(),dF=e&&!e.nodeType&&e,Th=dF&&!0&&t&&!t.nodeType&&t,G2=Th&&Th.exports===dF,hF=G2&&N2.process,ea=function(){try{var ge=Th&&Th.require&&Th.require("util").types;return ge||hF&&hF.binding&&hF.binding("util")}catch{}}(),k2=ea&&ea.isArrayBuffer,V2=ea&&ea.isDate,H2=ea&&ea.isMap,$2=ea&&ea.isRegExp,B2=ea&&ea.isSet,W2=ea&&ea.isTypedArray;function co(ge,Re,Se){switch(Se.length){case 0:return ge.call(Re);case 1:return ge.call(Re,Se[0]);case 2:return ge.call(Re,Se[0],Se[1]);case 3:return ge.call(Re,Se[0],Se[1],Se[2])}return ge.apply(Re,Se)}function tde(ge,Re,Se,Qe){for(var xt=-1,li=ge==null?0:ge.length;++xt<li;){var Qr=ge[xt];Re(Qe,Qr,Se(Qr),ge)}return Qe}function ta(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length;++Se<Qe&&Re(ge[Se],Se,ge)!==!1;);return ge}function ide(ge,Re){for(var Se=ge==null?0:ge.length;Se--&&Re(ge[Se],Se,ge)!==!1;);return ge}function U2(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length;++Se<Qe;)if(!Re(ge[Se],Se,ge))return!1;return!0}function Zc(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length,xt=0,li=[];++Se<Qe;){var Qr=ge[Se];Re(Qr,Se,ge)&&(li[xt++]=Qr)}return li}function dR(ge,Re){var Se=ge==null?0:ge.length;return!!Se&&ig(ge,Re,0)>-1}function pF(ge,Re,Se){for(var Qe=-1,xt=ge==null?0:ge.length;++Qe<xt;)if(Se(Re,ge[Qe]))return!0;return!1}function nr(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length,xt=Array(Qe);++Se<Qe;)xt[Se]=Re(ge[Se],Se,ge);return xt}function Jc(ge,Re){for(var Se=-1,Qe=Re.length,xt=ge.length;++Se<Qe;)ge[xt+Se]=Re[Se];return ge}function fF(ge,Re,Se,Qe){var xt=-1,li=ge==null?0:ge.length;for(Qe&&li&&(Se=ge[++xt]);++xt<li;)Se=Re(Se,ge[xt],xt,ge);return Se}function rde(ge,Re,Se,Qe){var xt=ge==null?0:ge.length;for(Qe&&xt&&(Se=ge[--xt]);xt--;)Se=Re(Se,ge[xt],xt,ge);return Se}function gF(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length;++Se<Qe;)if(Re(ge[Se],Se,ge))return!0;return!1}var nde=mF("length");function sde(ge){return ge.split("")}function ode(ge){return ge.match(fce)||[]}function z2(ge,Re,Se){var Qe;return Se(ge,function(xt,li,Qr){if(Re(xt,li,Qr))return Qe=li,!1}),Qe}function hR(ge,Re,Se,Qe){for(var xt=ge.length,li=Se+(Qe?1:-1);Qe?li--:++li<xt;)if(Re(ge[li],li,ge))return li;return-1}function ig(ge,Re,Se){return Re===Re?Cde(ge,Re,Se):hR(ge,j2,Se)}function ade(ge,Re,Se,Qe){for(var xt=Se-1,li=ge.length;++xt<li;)if(Qe(ge[xt],Re))return xt;return-1}function j2(ge){return ge!==ge}function K2(ge,Re){var Se=ge==null?0:ge.length;return Se?CF(ge,Re)/Se:te}function mF(ge){return function(Re){return Re==null?i:Re[ge]}}function vF(ge){return function(Re){return ge==null?i:ge[Re]}}function Y2(ge,Re,Se,Qe,xt){return xt(ge,function(li,Qr,Mi){Se=Qe?(Qe=!1,li):Re(Se,li,Qr,Mi)}),Se}function lde(ge,Re){var Se=ge.length;for(ge.sort(Re);Se--;)ge[Se]=ge[Se].value;return ge}function CF(ge,Re){for(var Se,Qe=-1,xt=ge.length;++Qe<xt;){var li=Re(ge[Qe]);li!==i&&(Se=Se===i?li:Se+li)}return Se}function yF(ge,Re){for(var Se=-1,Qe=Array(ge);++Se<ge;)Qe[Se]=Re(Se);return Qe}function ude(ge,Re){return nr(Re,function(Se){return[Se,ge[Se]]})}function q2(ge){return ge&&ge.slice(0,J2(ge)+1).replace(sF,"")}function ho(ge){return function(Re){return ge(Re)}}function SF(ge,Re){return nr(Re,function(Se){return ge[Se]})}function MC(ge,Re){return ge.has(Re)}function X2(ge,Re){for(var Se=-1,Qe=ge.length;++Se<Qe&&ig(Re,ge[Se],0)>-1;);return Se}function Q2(ge,Re){for(var Se=ge.length;Se--&&ig(Re,ge[Se],0)>-1;);return Se}function cde(ge,Re){for(var Se=ge.length,Qe=0;Se--;)ge[Se]===Re&&++Qe;return Qe}var dde=vF(Yce),hde=vF(qce);function pde(ge){return"\\"+Qce[ge]}function fde(ge,Re){return ge==null?i:ge[Re]}function rg(ge){return Uce.test(ge)}function gde(ge){return zce.test(ge)}function mde(ge){for(var Re,Se=[];!(Re=ge.next()).done;)Se.push(Re.value);return Se}function wF(ge){var Re=-1,Se=Array(ge.size);return ge.forEach(function(Qe,xt){Se[++Re]=[xt,Qe]}),Se}function Z2(ge,Re){return function(Se){return ge(Re(Se))}}function ed(ge,Re){for(var Se=-1,Qe=ge.length,xt=0,li=[];++Se<Qe;){var Qr=ge[Se];(Qr===Re||Qr===c)&&(ge[Se]=c,li[xt++]=Se)}return li}function pR(ge){var Re=-1,Se=Array(ge.size);return ge.forEach(function(Qe){Se[++Re]=Qe}),Se}function vde(ge){var Re=-1,Se=Array(ge.size);return ge.forEach(function(Qe){Se[++Re]=[Qe,Qe]}),Se}function Cde(ge,Re,Se){for(var Qe=Se-1,xt=ge.length;++Qe<xt;)if(ge[Qe]===Re)return Qe;return-1}function yde(ge,Re,Se){for(var Qe=Se+1;Qe--;)if(ge[Qe]===Re)return Qe;return Qe}function ng(ge){return rg(ge)?wde(ge):nde(ge)}function tl(ge){return rg(ge)?Ede(ge):sde(ge)}function J2(ge){for(var Re=ge.length;Re--&&cce.test(ge.charAt(Re)););return Re}var Sde=vF(Xce);function wde(ge){for(var Re=cF.lastIndex=0;cF.test(ge);)++Re;return Re}function Ede(ge){return ge.match(cF)||[]}function bde(ge){return ge.match(Wce)||[]}var Rde=function ge(Re){Re=Re==null?An:sg.defaults(An.Object(),Re,sg.pick(An,jce));var Se=Re.Array,Qe=Re.Date,xt=Re.Error,li=Re.Function,Qr=Re.Math,Mi=Re.Object,EF=Re.RegExp,Tde=Re.String,ia=Re.TypeError,fR=Se.prototype,Dde=li.prototype,og=Mi.prototype,gR=Re["__core-js_shared__"],mR=Dde.toString,Ei=og.hasOwnProperty,Pde=0,eU=function(){var p=/[^.]+$/.exec(gR&&gR.keys&&gR.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),vR=og.toString,xde=mR.call(Mi),Ade=An._,Ode=EF("^"+mR.call(Ei).replace(nF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),CR=G2?Re.Buffer:i,td=Re.Symbol,yR=Re.Uint8Array,tU=CR?CR.allocUnsafe:i,SR=Z2(Mi.getPrototypeOf,Mi),iU=Mi.create,rU=og.propertyIsEnumerable,wR=fR.splice,nU=td?td.isConcatSpreadable:i,FC=td?td.iterator:i,Dh=td?td.toStringTag:i,ER=function(){try{var p=Mh(Mi,"defineProperty");return p({},"",{}),p}catch{}}(),Mde=Re.clearTimeout!==An.clearTimeout&&Re.clearTimeout,Fde=Qe&&Qe.now!==An.Date.now&&Qe.now,Ide=Re.setTimeout!==An.setTimeout&&Re.setTimeout,bR=Qr.ceil,RR=Qr.floor,bF=Mi.getOwnPropertySymbols,Lde=CR?CR.isBuffer:i,sU=Re.isFinite,_de=fR.join,Nde=Z2(Mi.keys,Mi),Zr=Qr.max,Bn=Qr.min,Gde=Qe.now,kde=Re.parseInt,oU=Qr.random,Vde=fR.reverse,RF=Mh(Re,"DataView"),IC=Mh(Re,"Map"),TF=Mh(Re,"Promise"),ag=Mh(Re,"Set"),LC=Mh(Re,"WeakMap"),_C=Mh(Mi,"create"),TR=LC&&new LC,lg={},Hde=Fh(RF),$de=Fh(IC),Bde=Fh(TF),Wde=Fh(ag),Ude=Fh(LC),DR=td?td.prototype:i,NC=DR?DR.valueOf:i,aU=DR?DR.toString:i;function q(p){if(yr(p)&&!At(p)&&!(p instanceof Ut)){if(p instanceof ra)return p;if(Ei.call(p,"__wrapped__"))return lz(p)}return new ra(p)}var ug=function(){function p(){}return function(m){if(!fr(m))return{};if(iU)return iU(m);p.prototype=m;var R=new p;return p.prototype=i,R}}();function PR(){}function ra(p,m){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=i}q.templateSettings={escape:nce,evaluate:sce,interpolate:m2,variable:"",imports:{_:q}},q.prototype=PR.prototype,q.prototype.constructor=q,ra.prototype=ug(PR.prototype),ra.prototype.constructor=ra;function Ut(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function zde(){var p=new Ut(this.__wrapped__);return p.__actions__=Gs(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=Gs(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=Gs(this.__views__),p}function jde(){if(this.__filtered__){var p=new Ut(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Kde(){var p=this.__wrapped__.value(),m=this.__dir__,R=At(p),M=m<0,z=R?p.length:0,Z=spe(0,z,this.__views__),ne=Z.start,ae=Z.end,ve=ae-ne,xe=M?ae:ne-1,Ae=this.__iteratees__,Ne=Ae.length,je=0,nt=Bn(ve,this.__takeCount__);if(!R||!M&&z==ve&&nt==ve)return MU(p,this.__actions__);var yt=[];e:for(;ve--&&je<nt;){xe+=m;for(var Lt=-1,St=p[xe];++Lt<Ne;){var Bt=Ae[Lt],Yt=Bt.iteratee,go=Bt.type,hs=Yt(St);if(go==K)St=hs;else if(!hs){if(go==U)continue e;break e}}yt[je++]=St}return yt}Ut.prototype=ug(PR.prototype),Ut.prototype.constructor=Ut;function Ph(p){var m=-1,R=p==null?0:p.length;for(this.clear();++m<R;){var M=p[m];this.set(M[0],M[1])}}function Yde(){this.__data__=_C?_C(null):{},this.size=0}function qde(p){var m=this.has(p)&&delete this.__data__[p];return this.size-=m?1:0,m}function Xde(p){var m=this.__data__;if(_C){var R=m[p];return R===l?i:R}return Ei.call(m,p)?m[p]:i}function Qde(p){var m=this.__data__;return _C?m[p]!==i:Ei.call(m,p)}function Zde(p,m){var R=this.__data__;return this.size+=this.has(p)?0:1,R[p]=_C&&m===i?l:m,this}Ph.prototype.clear=Yde,Ph.prototype.delete=qde,Ph.prototype.get=Xde,Ph.prototype.has=Qde,Ph.prototype.set=Zde;function Vu(p){var m=-1,R=p==null?0:p.length;for(this.clear();++m<R;){var M=p[m];this.set(M[0],M[1])}}function Jde(){this.__data__=[],this.size=0}function ehe(p){var m=this.__data__,R=xR(m,p);if(R<0)return!1;var M=m.length-1;return R==M?m.pop():wR.call(m,R,1),--this.size,!0}function the(p){var m=this.__data__,R=xR(m,p);return R<0?i:m[R][1]}function ihe(p){return xR(this.__data__,p)>-1}function rhe(p,m){var R=this.__data__,M=xR(R,p);return M<0?(++this.size,R.push([p,m])):R[M][1]=m,this}Vu.prototype.clear=Jde,Vu.prototype.delete=ehe,Vu.prototype.get=the,Vu.prototype.has=ihe,Vu.prototype.set=rhe;function Hu(p){var m=-1,R=p==null?0:p.length;for(this.clear();++m<R;){var M=p[m];this.set(M[0],M[1])}}function nhe(){this.size=0,this.__data__={hash:new Ph,map:new(IC||Vu),string:new Ph}}function she(p){var m=HR(this,p).delete(p);return this.size-=m?1:0,m}function ohe(p){return HR(this,p).get(p)}function ahe(p){return HR(this,p).has(p)}function lhe(p,m){var R=HR(this,p),M=R.size;return R.set(p,m),this.size+=R.size==M?0:1,this}Hu.prototype.clear=nhe,Hu.prototype.delete=she,Hu.prototype.get=ohe,Hu.prototype.has=ahe,Hu.prototype.set=lhe;function xh(p){var m=-1,R=p==null?0:p.length;for(this.__data__=new Hu;++m<R;)this.add(p[m])}function uhe(p){return this.__data__.set(p,l),this}function che(p){return this.__data__.has(p)}xh.prototype.add=xh.prototype.push=uhe,xh.prototype.has=che;function il(p){var m=this.__data__=new Vu(p);this.size=m.size}function dhe(){this.__data__=new Vu,this.size=0}function hhe(p){var m=this.__data__,R=m.delete(p);return this.size=m.size,R}function phe(p){return this.__data__.get(p)}function fhe(p){return this.__data__.has(p)}function ghe(p,m){var R=this.__data__;if(R instanceof Vu){var M=R.__data__;if(!IC||M.length<n-1)return M.push([p,m]),this.size=++R.size,this;R=this.__data__=new Hu(M)}return R.set(p,m),this.size=R.size,this}il.prototype.clear=dhe,il.prototype.delete=hhe,il.prototype.get=phe,il.prototype.has=fhe,il.prototype.set=ghe;function lU(p,m){var R=At(p),M=!R&&Ih(p),z=!R&&!M&&od(p),Z=!R&&!M&&!z&&pg(p),ne=R||M||z||Z,ae=ne?yF(p.length,Tde):[],ve=ae.length;for(var xe in p)(m||Ei.call(p,xe))&&!(ne&&(xe=="length"||z&&(xe=="offset"||xe=="parent")||Z&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||Uu(xe,ve)))&&ae.push(xe);return ae}function uU(p){var m=p.length;return m?p[NF(0,m-1)]:i}function mhe(p,m){return $R(Gs(p),Ah(m,0,p.length))}function vhe(p){return $R(Gs(p))}function DF(p,m,R){(R!==i&&!rl(p[m],R)||R===i&&!(m in p))&&$u(p,m,R)}function GC(p,m,R){var M=p[m];(!(Ei.call(p,m)&&rl(M,R))||R===i&&!(m in p))&&$u(p,m,R)}function xR(p,m){for(var R=p.length;R--;)if(rl(p[R][0],m))return R;return-1}function Che(p,m,R,M){return id(p,function(z,Z,ne){m(M,z,R(z),ne)}),M}function cU(p,m){return p&&Ul(m,cn(m),p)}function yhe(p,m){return p&&Ul(m,Vs(m),p)}function $u(p,m,R){m=="__proto__"&&ER?ER(p,m,{configurable:!0,enumerable:!0,value:R,writable:!0}):p[m]=R}function PF(p,m){for(var R=-1,M=m.length,z=Se(M),Z=p==null;++R<M;)z[R]=Z?i:aI(p,m[R]);return z}function Ah(p,m,R){return p===p&&(R!==i&&(p=p<=R?p:R),m!==i&&(p=p>=m?p:m)),p}function na(p,m,R,M,z,Z){var ne,ae=m&d,ve=m&h,xe=m&f;if(R&&(ne=z?R(p,M,z,Z):R(p)),ne!==i)return ne;if(!fr(p))return p;var Ae=At(p);if(Ae){if(ne=ape(p),!ae)return Gs(p,ne)}else{var Ne=Wn(p),je=Ne==re||Ne==oe;if(od(p))return LU(p,ae);if(Ne==Be||Ne==me||je&&!z){if(ne=ve||je?{}:JU(p),!ae)return ve?Xhe(p,yhe(ne,p)):qhe(p,cU(ne,p))}else{if(!_i[Ne])return z?p:{};ne=lpe(p,Ne,ae)}}Z||(Z=new il);var nt=Z.get(p);if(nt)return nt;Z.set(p,ne),xz(p)?p.forEach(function(St){ne.add(na(St,m,R,St,p,Z))}):Dz(p)&&p.forEach(function(St,Bt){ne.set(Bt,na(St,m,R,Bt,p,Z))});var yt=xe?ve?KF:jF:ve?Vs:cn,Lt=Ae?i:yt(p);return ta(Lt||p,function(St,Bt){Lt&&(Bt=St,St=p[Bt]),GC(ne,Bt,na(St,m,R,Bt,p,Z))}),ne}function She(p){var m=cn(p);return function(R){return dU(R,p,m)}}function dU(p,m,R){var M=R.length;if(p==null)return!M;for(p=Mi(p);M--;){var z=R[M],Z=m[z],ne=p[z];if(ne===i&&!(z in p)||!Z(ne))return!1}return!0}function hU(p,m,R){if(typeof p!="function")throw new ia(o);return UC(function(){p.apply(i,R)},m)}function kC(p,m,R,M){var z=-1,Z=dR,ne=!0,ae=p.length,ve=[],xe=m.length;if(!ae)return ve;R&&(m=nr(m,ho(R))),M?(Z=pF,ne=!1):m.length>=n&&(Z=MC,ne=!1,m=new xh(m));e:for(;++z<ae;){var Ae=p[z],Ne=R==null?Ae:R(Ae);if(Ae=M||Ae!==0?Ae:0,ne&&Ne===Ne){for(var je=xe;je--;)if(m[je]===Ne)continue e;ve.push(Ae)}else Z(m,Ne,M)||ve.push(Ae)}return ve}var id=VU(Wl),pU=VU(AF,!0);function whe(p,m){var R=!0;return id(p,function(M,z,Z){return R=!!m(M,z,Z),R}),R}function AR(p,m,R){for(var M=-1,z=p.length;++M<z;){var Z=p[M],ne=m(Z);if(ne!=null&&(ae===i?ne===ne&&!fo(ne):R(ne,ae)))var ae=ne,ve=Z}return ve}function Ehe(p,m,R,M){var z=p.length;for(R=Ft(R),R<0&&(R=-R>z?0:z+R),M=M===i||M>z?z:Ft(M),M<0&&(M+=z),M=R>M?0:Oz(M);R<M;)p[R++]=m;return p}function fU(p,m){var R=[];return id(p,function(M,z,Z){m(M,z,Z)&&R.push(M)}),R}function On(p,m,R,M,z){var Z=-1,ne=p.length;for(R||(R=cpe),z||(z=[]);++Z<ne;){var ae=p[Z];m>0&&R(ae)?m>1?On(ae,m-1,R,M,z):Jc(z,ae):M||(z[z.length]=ae)}return z}var xF=HU(),gU=HU(!0);function Wl(p,m){return p&&xF(p,m,cn)}function AF(p,m){return p&&gU(p,m,cn)}function OR(p,m){return Zc(m,function(R){return zu(p[R])})}function Oh(p,m){m=nd(m,p);for(var R=0,M=m.length;p!=null&&R<M;)p=p[zl(m[R++])];return R&&R==M?p:i}function mU(p,m,R){var M=m(p);return At(p)?M:Jc(M,R(p))}function cs(p){return p==null?p===i?Kt:Ue:Dh&&Dh in Mi(p)?npe(p):vpe(p)}function OF(p,m){return p>m}function bhe(p,m){return p!=null&&Ei.call(p,m)}function Rhe(p,m){return p!=null&&m in Mi(p)}function The(p,m,R){return p>=Bn(m,R)&&p<Zr(m,R)}function MF(p,m,R){for(var M=R?pF:dR,z=p[0].length,Z=p.length,ne=Z,ae=Se(Z),ve=1/0,xe=[];ne--;){var Ae=p[ne];ne&&m&&(Ae=nr(Ae,ho(m))),ve=Bn(Ae.length,ve),ae[ne]=!R&&(m||z>=120&&Ae.length>=120)?new xh(ne&&Ae):i}Ae=p[0];var Ne=-1,je=ae[0];e:for(;++Ne<z&&xe.length<ve;){var nt=Ae[Ne],yt=m?m(nt):nt;if(nt=R||nt!==0?nt:0,!(je?MC(je,yt):M(xe,yt,R))){for(ne=Z;--ne;){var Lt=ae[ne];if(!(Lt?MC(Lt,yt):M(p[ne],yt,R)))continue e}je&&je.push(yt),xe.push(nt)}}return xe}function Dhe(p,m,R,M){return Wl(p,function(z,Z,ne){m(M,R(z),Z,ne)}),M}function VC(p,m,R){m=nd(m,p),p=rz(p,m);var M=p==null?p:p[zl(oa(m))];return M==null?i:co(M,p,R)}function vU(p){return yr(p)&&cs(p)==me}function Phe(p){return yr(p)&&cs(p)==xr}function xhe(p){return yr(p)&&cs(p)==pe}function HC(p,m,R,M,z){return p===m?!0:p==null||m==null||!yr(p)&&!yr(m)?p!==p&&m!==m:Ahe(p,m,R,M,HC,z)}function Ahe(p,m,R,M,z,Z){var ne=At(p),ae=At(m),ve=ne?se:Wn(p),xe=ae?se:Wn(m);ve=ve==me?Be:ve,xe=xe==me?Be:xe;var Ae=ve==Be,Ne=xe==Be,je=ve==xe;if(je&&od(p)){if(!od(m))return!1;ne=!0,Ae=!1}if(je&&!Ae)return Z||(Z=new il),ne||pg(p)?XU(p,m,R,M,z,Z):ipe(p,m,ve,R,M,z,Z);if(!(R&g)){var nt=Ae&&Ei.call(p,"__wrapped__"),yt=Ne&&Ei.call(m,"__wrapped__");if(nt||yt){var Lt=nt?p.value():p,St=yt?m.value():m;return Z||(Z=new il),z(Lt,St,R,M,Z)}}return je?(Z||(Z=new il),rpe(p,m,R,M,z,Z)):!1}function Ohe(p){return yr(p)&&Wn(p)==fe}function FF(p,m,R,M){var z=R.length,Z=z,ne=!M;if(p==null)return!Z;for(p=Mi(p);z--;){var ae=R[z];if(ne&&ae[2]?ae[1]!==p[ae[0]]:!(ae[0]in p))return!1}for(;++z<Z;){ae=R[z];var ve=ae[0],xe=p[ve],Ae=ae[1];if(ne&&ae[2]){if(xe===i&&!(ve in p))return!1}else{var Ne=new il;if(M)var je=M(xe,Ae,ve,p,m,Ne);if(!(je===i?HC(Ae,xe,g|v,M,Ne):je))return!1}}return!0}function CU(p){if(!fr(p)||hpe(p))return!1;var m=zu(p)?Ode:Sce;return m.test(Fh(p))}function Mhe(p){return yr(p)&&cs(p)==mt}function Fhe(p){return yr(p)&&Wn(p)==et}function Ihe(p){return yr(p)&&KR(p.length)&&!!qi[cs(p)]}function yU(p){return typeof p=="function"?p:p==null?Hs:typeof p=="object"?At(p)?EU(p[0],p[1]):wU(p):$z(p)}function IF(p){if(!WC(p))return Nde(p);var m=[];for(var R in Mi(p))Ei.call(p,R)&&R!="constructor"&&m.push(R);return m}function Lhe(p){if(!fr(p))return mpe(p);var m=WC(p),R=[];for(var M in p)M=="constructor"&&(m||!Ei.call(p,M))||R.push(M);return R}function LF(p,m){return p<m}function SU(p,m){var R=-1,M=ks(p)?Se(p.length):[];return id(p,function(z,Z,ne){M[++R]=m(z,Z,ne)}),M}function wU(p){var m=qF(p);return m.length==1&&m[0][2]?tz(m[0][0],m[0][1]):function(R){return R===p||FF(R,p,m)}}function EU(p,m){return QF(p)&&ez(m)?tz(zl(p),m):function(R){var M=aI(R,p);return M===i&&M===m?lI(R,p):HC(m,M,g|v)}}function MR(p,m,R,M,z){p!==m&&xF(m,function(Z,ne){if(z||(z=new il),fr(Z))_he(p,m,ne,R,MR,M,z);else{var ae=M?M(JF(p,ne),Z,ne+"",p,m,z):i;ae===i&&(ae=Z),DF(p,ne,ae)}},Vs)}function _he(p,m,R,M,z,Z,ne){var ae=JF(p,R),ve=JF(m,R),xe=ne.get(ve);if(xe){DF(p,R,xe);return}var Ae=Z?Z(ae,ve,R+"",p,m,ne):i,Ne=Ae===i;if(Ne){var je=At(ve),nt=!je&&od(ve),yt=!je&&!nt&&pg(ve);Ae=ve,je||nt||yt?At(ae)?Ae=ae:Ar(ae)?Ae=Gs(ae):nt?(Ne=!1,Ae=LU(ve,!0)):yt?(Ne=!1,Ae=_U(ve,!0)):Ae=[]:zC(ve)||Ih(ve)?(Ae=ae,Ih(ae)?Ae=Mz(ae):(!fr(ae)||zu(ae))&&(Ae=JU(ve))):Ne=!1}Ne&&(ne.set(ve,Ae),z(Ae,ve,M,Z,ne),ne.delete(ve)),DF(p,R,Ae)}function bU(p,m){var R=p.length;if(R)return m+=m<0?R:0,Uu(m,R)?p[m]:i}function RU(p,m,R){m.length?m=nr(m,function(Z){return At(Z)?function(ne){return Oh(ne,Z.length===1?Z[0]:Z)}:Z}):m=[Hs];var M=-1;m=nr(m,ho(vt()));var z=SU(p,function(Z,ne,ae){var ve=nr(m,function(xe){return xe(Z)});return{criteria:ve,index:++M,value:Z}});return lde(z,function(Z,ne){return Yhe(Z,ne,R)})}function Nhe(p,m){return TU(p,m,function(R,M){return lI(p,M)})}function TU(p,m,R){for(var M=-1,z=m.length,Z={};++M<z;){var ne=m[M],ae=Oh(p,ne);R(ae,ne)&&$C(Z,nd(ne,p),ae)}return Z}function Ghe(p){return function(m){return Oh(m,p)}}function _F(p,m,R,M){var z=M?ade:ig,Z=-1,ne=m.length,ae=p;for(p===m&&(m=Gs(m)),R&&(ae=nr(p,ho(R)));++Z<ne;)for(var ve=0,xe=m[Z],Ae=R?R(xe):xe;(ve=z(ae,Ae,ve,M))>-1;)ae!==p&&wR.call(ae,ve,1),wR.call(p,ve,1);return p}function DU(p,m){for(var R=p?m.length:0,M=R-1;R--;){var z=m[R];if(R==M||z!==Z){var Z=z;Uu(z)?wR.call(p,z,1):VF(p,z)}}return p}function NF(p,m){return p+RR(oU()*(m-p+1))}function khe(p,m,R,M){for(var z=-1,Z=Zr(bR((m-p)/(R||1)),0),ne=Se(Z);Z--;)ne[M?Z:++z]=p,p+=R;return ne}function GF(p,m){var R="";if(!p||m<1||m>H)return R;do m%2&&(R+=p),m=RR(m/2),m&&(p+=p);while(m);return R}function Nt(p,m){return eI(iz(p,m,Hs),p+"")}function Vhe(p){return uU(fg(p))}function Hhe(p,m){var R=fg(p);return $R(R,Ah(m,0,R.length))}function $C(p,m,R,M){if(!fr(p))return p;m=nd(m,p);for(var z=-1,Z=m.length,ne=Z-1,ae=p;ae!=null&&++z<Z;){var ve=zl(m[z]),xe=R;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return p;if(z!=ne){var Ae=ae[ve];xe=M?M(Ae,ve,ae):i,xe===i&&(xe=fr(Ae)?Ae:Uu(m[z+1])?[]:{})}GC(ae,ve,xe),ae=ae[ve]}return p}var PU=TR?function(p,m){return TR.set(p,m),p}:Hs,$he=ER?function(p,m){return ER(p,"toString",{configurable:!0,enumerable:!1,value:cI(m),writable:!0})}:Hs;function Bhe(p){return $R(fg(p))}function sa(p,m,R){var M=-1,z=p.length;m<0&&(m=-m>z?0:z+m),R=R>z?z:R,R<0&&(R+=z),z=m>R?0:R-m>>>0,m>>>=0;for(var Z=Se(z);++M<z;)Z[M]=p[M+m];return Z}function Whe(p,m){var R;return id(p,function(M,z,Z){return R=m(M,z,Z),!R}),!!R}function FR(p,m,R){var M=0,z=p==null?M:p.length;if(typeof m=="number"&&m===m&&z<=ie){for(;M<z;){var Z=M+z>>>1,ne=p[Z];ne!==null&&!fo(ne)&&(R?ne<=m:ne<m)?M=Z+1:z=Z}return z}return kF(p,m,Hs,R)}function kF(p,m,R,M){var z=0,Z=p==null?0:p.length;if(Z===0)return 0;m=R(m);for(var ne=m!==m,ae=m===null,ve=fo(m),xe=m===i;z<Z;){var Ae=RR((z+Z)/2),Ne=R(p[Ae]),je=Ne!==i,nt=Ne===null,yt=Ne===Ne,Lt=fo(Ne);if(ne)var St=M||yt;else xe?St=yt&&(M||je):ae?St=yt&&je&&(M||!nt):ve?St=yt&&je&&!nt&&(M||!Lt):nt||Lt?St=!1:St=M?Ne<=m:Ne<m;St?z=Ae+1:Z=Ae}return Bn(Z,J)}function xU(p,m){for(var R=-1,M=p.length,z=0,Z=[];++R<M;){var ne=p[R],ae=m?m(ne):ne;if(!R||!rl(ae,ve)){var ve=ae;Z[z++]=ne===0?0:ne}}return Z}function AU(p){return typeof p=="number"?p:fo(p)?te:+p}function po(p){if(typeof p=="string")return p;if(At(p))return nr(p,po)+"";if(fo(p))return aU?aU.call(p):"";var m=p+"";return m=="0"&&1/p==-Q?"-0":m}function rd(p,m,R){var M=-1,z=dR,Z=p.length,ne=!0,ae=[],ve=ae;if(R)ne=!1,z=pF;else if(Z>=n){var xe=m?null:epe(p);if(xe)return pR(xe);ne=!1,z=MC,ve=new xh}else ve=m?[]:ae;e:for(;++M<Z;){var Ae=p[M],Ne=m?m(Ae):Ae;if(Ae=R||Ae!==0?Ae:0,ne&&Ne===Ne){for(var je=ve.length;je--;)if(ve[je]===Ne)continue e;m&&ve.push(Ne),ae.push(Ae)}else z(ve,Ne,R)||(ve!==ae&&ve.push(Ne),ae.push(Ae))}return ae}function VF(p,m){return m=nd(m,p),p=rz(p,m),p==null||delete p[zl(oa(m))]}function OU(p,m,R,M){return $C(p,m,R(Oh(p,m)),M)}function IR(p,m,R,M){for(var z=p.length,Z=M?z:-1;(M?Z--:++Z<z)&&m(p[Z],Z,p););return R?sa(p,M?0:Z,M?Z+1:z):sa(p,M?Z+1:0,M?z:Z)}function MU(p,m){var R=p;return R instanceof Ut&&(R=R.value()),fF(m,function(M,z){return z.func.apply(z.thisArg,Jc([M],z.args))},R)}function HF(p,m,R){var M=p.length;if(M<2)return M?rd(p[0]):[];for(var z=-1,Z=Se(M);++z<M;)for(var ne=p[z],ae=-1;++ae<M;)ae!=z&&(Z[z]=kC(Z[z]||ne,p[ae],m,R));return rd(On(Z,1),m,R)}function FU(p,m,R){for(var M=-1,z=p.length,Z=m.length,ne={};++M<z;){var ae=M<Z?m[M]:i;R(ne,p[M],ae)}return ne}function $F(p){return Ar(p)?p:[]}function BF(p){return typeof p=="function"?p:Hs}function nd(p,m){return At(p)?p:QF(p,m)?[p]:az(gi(p))}var Uhe=Nt;function sd(p,m,R){var M=p.length;return R=R===i?M:R,!m&&R>=M?p:sa(p,m,R)}var IU=Mde||function(p){return An.clearTimeout(p)};function LU(p,m){if(m)return p.slice();var R=p.length,M=tU?tU(R):new p.constructor(R);return p.copy(M),M}function WF(p){var m=new p.constructor(p.byteLength);return new yR(m).set(new yR(p)),m}function zhe(p,m){var R=m?WF(p.buffer):p.buffer;return new p.constructor(R,p.byteOffset,p.byteLength)}function jhe(p){var m=new p.constructor(p.source,v2.exec(p));return m.lastIndex=p.lastIndex,m}function Khe(p){return NC?Mi(NC.call(p)):{}}function _U(p,m){var R=m?WF(p.buffer):p.buffer;return new p.constructor(R,p.byteOffset,p.length)}function NU(p,m){if(p!==m){var R=p!==i,M=p===null,z=p===p,Z=fo(p),ne=m!==i,ae=m===null,ve=m===m,xe=fo(m);if(!ae&&!xe&&!Z&&p>m||Z&&ne&&ve&&!ae&&!xe||M&&ne&&ve||!R&&ve||!z)return 1;if(!M&&!Z&&!xe&&p<m||xe&&R&&z&&!M&&!Z||ae&&R&&z||!ne&&z||!ve)return-1}return 0}function Yhe(p,m,R){for(var M=-1,z=p.criteria,Z=m.criteria,ne=z.length,ae=R.length;++M<ne;){var ve=NU(z[M],Z[M]);if(ve){if(M>=ae)return ve;var xe=R[M];return ve*(xe=="desc"?-1:1)}}return p.index-m.index}function GU(p,m,R,M){for(var z=-1,Z=p.length,ne=R.length,ae=-1,ve=m.length,xe=Zr(Z-ne,0),Ae=Se(ve+xe),Ne=!M;++ae<ve;)Ae[ae]=m[ae];for(;++z<ne;)(Ne||z<Z)&&(Ae[R[z]]=p[z]);for(;xe--;)Ae[ae++]=p[z++];return Ae}function kU(p,m,R,M){for(var z=-1,Z=p.length,ne=-1,ae=R.length,ve=-1,xe=m.length,Ae=Zr(Z-ae,0),Ne=Se(Ae+xe),je=!M;++z<Ae;)Ne[z]=p[z];for(var nt=z;++ve<xe;)Ne[nt+ve]=m[ve];for(;++ne<ae;)(je||z<Z)&&(Ne[nt+R[ne]]=p[z++]);return Ne}function Gs(p,m){var R=-1,M=p.length;for(m||(m=Se(M));++R<M;)m[R]=p[R];return m}function Ul(p,m,R,M){var z=!R;R||(R={});for(var Z=-1,ne=m.length;++Z<ne;){var ae=m[Z],ve=M?M(R[ae],p[ae],ae,R,p):i;ve===i&&(ve=p[ae]),z?$u(R,ae,ve):GC(R,ae,ve)}return R}function qhe(p,m){return Ul(p,XF(p),m)}function Xhe(p,m){return Ul(p,QU(p),m)}function LR(p,m){return function(R,M){var z=At(R)?tde:Che,Z=m?m():{};return z(R,p,vt(M,2),Z)}}function cg(p){return Nt(function(m,R){var M=-1,z=R.length,Z=z>1?R[z-1]:i,ne=z>2?R[2]:i;for(Z=p.length>3&&typeof Z=="function"?(z--,Z):i,ne&&ds(R[0],R[1],ne)&&(Z=z<3?i:Z,z=1),m=Mi(m);++M<z;){var ae=R[M];ae&&p(m,ae,M,Z)}return m})}function VU(p,m){return function(R,M){if(R==null)return R;if(!ks(R))return p(R,M);for(var z=R.length,Z=m?z:-1,ne=Mi(R);(m?Z--:++Z<z)&&M(ne[Z],Z,ne)!==!1;);return R}}function HU(p){return function(m,R,M){for(var z=-1,Z=Mi(m),ne=M(m),ae=ne.length;ae--;){var ve=ne[p?ae:++z];if(R(Z[ve],ve,Z)===!1)break}return m}}function Qhe(p,m,R){var M=m&C,z=BC(p);function Z(){var ne=this&&this!==An&&this instanceof Z?z:p;return ne.apply(M?R:this,arguments)}return Z}function $U(p){return function(m){m=gi(m);var R=rg(m)?tl(m):i,M=R?R[0]:m.charAt(0),z=R?sd(R,1).join(""):m.slice(1);return M[p]()+z}}function dg(p){return function(m){return fF(Vz(kz(m).replace($ce,"")),p,"")}}function BC(p){return function(){var m=arguments;switch(m.length){case 0:return new p;case 1:return new p(m[0]);case 2:return new p(m[0],m[1]);case 3:return new p(m[0],m[1],m[2]);case 4:return new p(m[0],m[1],m[2],m[3]);case 5:return new p(m[0],m[1],m[2],m[3],m[4]);case 6:return new p(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new p(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var R=ug(p.prototype),M=p.apply(R,m);return fr(M)?M:R}}function Zhe(p,m,R){var M=BC(p);function z(){for(var Z=arguments.length,ne=Se(Z),ae=Z,ve=hg(z);ae--;)ne[ae]=arguments[ae];var xe=Z<3&&ne[0]!==ve&&ne[Z-1]!==ve?[]:ed(ne,ve);if(Z-=xe.length,Z<R)return jU(p,m,_R,z.placeholder,i,ne,xe,i,i,R-Z);var Ae=this&&this!==An&&this instanceof z?M:p;return co(Ae,this,ne)}return z}function BU(p){return function(m,R,M){var z=Mi(m);if(!ks(m)){var Z=vt(R,3);m=cn(m),R=function(ae){return Z(z[ae],ae,z)}}var ne=p(m,R,M);return ne>-1?z[Z?m[ne]:ne]:i}}function WU(p){return Wu(function(m){var R=m.length,M=R,z=ra.prototype.thru;for(p&&m.reverse();M--;){var Z=m[M];if(typeof Z!="function")throw new ia(o);if(z&&!ne&&VR(Z)=="wrapper")var ne=new ra([],!0)}for(M=ne?M:R;++M<R;){Z=m[M];var ae=VR(Z),ve=ae=="wrapper"?YF(Z):i;ve&&ZF(ve[0])&&ve[1]==(P|w|b|O)&&!ve[4].length&&ve[9]==1?ne=ne[VR(ve[0])].apply(ne,ve[3]):ne=Z.length==1&&ZF(Z)?ne[ae]():ne.thru(Z)}return function(){var xe=arguments,Ae=xe[0];if(ne&&xe.length==1&&At(Ae))return ne.plant(Ae).value();for(var Ne=0,je=R?m[Ne].apply(this,xe):Ae;++Ne<R;)je=m[Ne].call(this,je);return je}})}function _R(p,m,R,M,z,Z,ne,ae,ve,xe){var Ae=m&P,Ne=m&C,je=m&S,nt=m&(w|E),yt=m&N,Lt=je?i:BC(p);function St(){for(var Bt=arguments.length,Yt=Se(Bt),go=Bt;go--;)Yt[go]=arguments[go];if(nt)var hs=hg(St),mo=cde(Yt,hs);if(M&&(Yt=GU(Yt,M,z,nt)),Z&&(Yt=kU(Yt,Z,ne,nt)),Bt-=mo,nt&&Bt<xe){var Or=ed(Yt,hs);return jU(p,m,_R,St.placeholder,R,Yt,Or,ae,ve,xe-Bt)}var nl=Ne?R:this,Ku=je?nl[p]:p;return Bt=Yt.length,ae?Yt=Cpe(Yt,ae):yt&&Bt>1&&Yt.reverse(),Ae&&ve<Bt&&(Yt.length=ve),this&&this!==An&&this instanceof St&&(Ku=Lt||BC(Ku)),Ku.apply(nl,Yt)}return St}function UU(p,m){return function(R,M){return Dhe(R,p,m(M),{})}}function NR(p,m){return function(R,M){var z;if(R===i&&M===i)return m;if(R!==i&&(z=R),M!==i){if(z===i)return M;typeof R=="string"||typeof M=="string"?(R=po(R),M=po(M)):(R=AU(R),M=AU(M)),z=p(R,M)}return z}}function UF(p){return Wu(function(m){return m=nr(m,ho(vt())),Nt(function(R){var M=this;return p(m,function(z){return co(z,M,R)})})})}function GR(p,m){m=m===i?" ":po(m);var R=m.length;if(R<2)return R?GF(m,p):m;var M=GF(m,bR(p/ng(m)));return rg(m)?sd(tl(M),0,p).join(""):M.slice(0,p)}function Jhe(p,m,R,M){var z=m&C,Z=BC(p);function ne(){for(var ae=-1,ve=arguments.length,xe=-1,Ae=M.length,Ne=Se(Ae+ve),je=this&&this!==An&&this instanceof ne?Z:p;++xe<Ae;)Ne[xe]=M[xe];for(;ve--;)Ne[xe++]=arguments[++ae];return co(je,z?R:this,Ne)}return ne}function zU(p){return function(m,R,M){return M&&typeof M!="number"&&ds(m,R,M)&&(R=M=i),m=ju(m),R===i?(R=m,m=0):R=ju(R),M=M===i?m<R?1:-1:ju(M),khe(m,R,M,p)}}function kR(p){return function(m,R){return typeof m=="string"&&typeof R=="string"||(m=aa(m),R=aa(R)),p(m,R)}}function jU(p,m,R,M,z,Z,ne,ae,ve,xe){var Ae=m&w,Ne=Ae?ne:i,je=Ae?i:ne,nt=Ae?Z:i,yt=Ae?i:Z;m|=Ae?b:D,m&=~(Ae?D:b),m&y||(m&=~(C|S));var Lt=[p,m,z,nt,Ne,yt,je,ae,ve,xe],St=R.apply(i,Lt);return ZF(p)&&nz(St,Lt),St.placeholder=M,sz(St,p,m)}function zF(p){var m=Qr[p];return function(R,M){if(R=aa(R),M=M==null?0:Bn(Ft(M),292),M&&sU(R)){var z=(gi(R)+"e").split("e"),Z=m(z[0]+"e"+(+z[1]+M));return z=(gi(Z)+"e").split("e"),+(z[0]+"e"+(+z[1]-M))}return m(R)}}var epe=ag&&1/pR(new ag([,-0]))[1]==Q?function(p){return new ag(p)}:pI;function KU(p){return function(m){var R=Wn(m);return R==fe?wF(m):R==et?vde(m):ude(m,p(m))}}function Bu(p,m,R,M,z,Z,ne,ae){var ve=m&S;if(!ve&&typeof p!="function")throw new ia(o);var xe=M?M.length:0;if(xe||(m&=~(b|D),M=z=i),ne=ne===i?ne:Zr(Ft(ne),0),ae=ae===i?ae:Ft(ae),xe-=z?z.length:0,m&D){var Ae=M,Ne=z;M=z=i}var je=ve?i:YF(p),nt=[p,m,R,M,z,Ae,Ne,Z,ne,ae];if(je&&gpe(nt,je),p=nt[0],m=nt[1],R=nt[2],M=nt[3],z=nt[4],ae=nt[9]=nt[9]===i?ve?0:p.length:Zr(nt[9]-xe,0),!ae&&m&(w|E)&&(m&=~(w|E)),!m||m==C)var yt=Qhe(p,m,R);else m==w||m==E?yt=Zhe(p,m,ae):(m==b||m==(C|b))&&!z.length?yt=Jhe(p,m,R,M):yt=_R.apply(i,nt);var Lt=je?PU:nz;return sz(Lt(yt,nt),p,m)}function YU(p,m,R,M){return p===i||rl(p,og[R])&&!Ei.call(M,R)?m:p}function qU(p,m,R,M,z,Z){return fr(p)&&fr(m)&&(Z.set(m,p),MR(p,m,i,qU,Z),Z.delete(m)),p}function tpe(p){return zC(p)?i:p}function XU(p,m,R,M,z,Z){var ne=R&g,ae=p.length,ve=m.length;if(ae!=ve&&!(ne&&ve>ae))return!1;var xe=Z.get(p),Ae=Z.get(m);if(xe&&Ae)return xe==m&&Ae==p;var Ne=-1,je=!0,nt=R&v?new xh:i;for(Z.set(p,m),Z.set(m,p);++Ne<ae;){var yt=p[Ne],Lt=m[Ne];if(M)var St=ne?M(Lt,yt,Ne,m,p,Z):M(yt,Lt,Ne,p,m,Z);if(St!==i){if(St)continue;je=!1;break}if(nt){if(!gF(m,function(Bt,Yt){if(!MC(nt,Yt)&&(yt===Bt||z(yt,Bt,R,M,Z)))return nt.push(Yt)})){je=!1;break}}else if(!(yt===Lt||z(yt,Lt,R,M,Z))){je=!1;break}}return Z.delete(p),Z.delete(m),je}function ipe(p,m,R,M,z,Z,ne){switch(R){case Ht:if(p.byteLength!=m.byteLength||p.byteOffset!=m.byteOffset)return!1;p=p.buffer,m=m.buffer;case xr:return!(p.byteLength!=m.byteLength||!Z(new yR(p),new yR(m)));case Ee:case pe:case we:return rl(+p,+m);case Ce:return p.name==m.name&&p.message==m.message;case mt:case fi:return p==m+"";case fe:var ae=wF;case et:var ve=M&g;if(ae||(ae=pR),p.size!=m.size&&!ve)return!1;var xe=ne.get(p);if(xe)return xe==m;M|=v,ne.set(p,m);var Ae=XU(ae(p),ae(m),M,z,Z,ne);return ne.delete(p),Ae;case wi:if(NC)return NC.call(p)==NC.call(m)}return!1}function rpe(p,m,R,M,z,Z){var ne=R&g,ae=jF(p),ve=ae.length,xe=jF(m),Ae=xe.length;if(ve!=Ae&&!ne)return!1;for(var Ne=ve;Ne--;){var je=ae[Ne];if(!(ne?je in m:Ei.call(m,je)))return!1}var nt=Z.get(p),yt=Z.get(m);if(nt&&yt)return nt==m&&yt==p;var Lt=!0;Z.set(p,m),Z.set(m,p);for(var St=ne;++Ne<ve;){je=ae[Ne];var Bt=p[je],Yt=m[je];if(M)var go=ne?M(Yt,Bt,je,m,p,Z):M(Bt,Yt,je,p,m,Z);if(!(go===i?Bt===Yt||z(Bt,Yt,R,M,Z):go)){Lt=!1;break}St||(St=je=="constructor")}if(Lt&&!St){var hs=p.constructor,mo=m.constructor;hs!=mo&&"constructor"in p&&"constructor"in m&&!(typeof hs=="function"&&hs instanceof hs&&typeof mo=="function"&&mo instanceof mo)&&(Lt=!1)}return Z.delete(p),Z.delete(m),Lt}function Wu(p){return eI(iz(p,i,dz),p+"")}function jF(p){return mU(p,cn,XF)}function KF(p){return mU(p,Vs,QU)}var YF=TR?function(p){return TR.get(p)}:pI;function VR(p){for(var m=p.name+"",R=lg[m],M=Ei.call(lg,m)?R.length:0;M--;){var z=R[M],Z=z.func;if(Z==null||Z==p)return z.name}return m}function hg(p){var m=Ei.call(q,"placeholder")?q:p;return m.placeholder}function vt(){var p=q.iteratee||dI;return p=p===dI?yU:p,arguments.length?p(arguments[0],arguments[1]):p}function HR(p,m){var R=p.__data__;return dpe(m)?R[typeof m=="string"?"string":"hash"]:R.map}function qF(p){for(var m=cn(p),R=m.length;R--;){var M=m[R],z=p[M];m[R]=[M,z,ez(z)]}return m}function Mh(p,m){var R=fde(p,m);return CU(R)?R:i}function npe(p){var m=Ei.call(p,Dh),R=p[Dh];try{p[Dh]=i;var M=!0}catch{}var z=vR.call(p);return M&&(m?p[Dh]=R:delete p[Dh]),z}var XF=bF?function(p){return p==null?[]:(p=Mi(p),Zc(bF(p),function(m){return rU.call(p,m)}))}:fI,QU=bF?function(p){for(var m=[];p;)Jc(m,XF(p)),p=SR(p);return m}:fI,Wn=cs;(RF&&Wn(new RF(new ArrayBuffer(1)))!=Ht||IC&&Wn(new IC)!=fe||TF&&Wn(TF.resolve())!=Ve||ag&&Wn(new ag)!=et||LC&&Wn(new LC)!=Cr)&&(Wn=function(p){var m=cs(p),R=m==Be?p.constructor:i,M=R?Fh(R):"";if(M)switch(M){case Hde:return Ht;case $de:return fe;case Bde:return Ve;case Wde:return et;case Ude:return Cr}return m});function spe(p,m,R){for(var M=-1,z=R.length;++M<z;){var Z=R[M],ne=Z.size;switch(Z.type){case"drop":p+=ne;break;case"dropRight":m-=ne;break;case"take":m=Bn(m,p+ne);break;case"takeRight":p=Zr(p,m-ne);break}}return{start:p,end:m}}function ope(p){var m=p.match(hce);return m?m[1].split(pce):[]}function ZU(p,m,R){m=nd(m,p);for(var M=-1,z=m.length,Z=!1;++M<z;){var ne=zl(m[M]);if(!(Z=p!=null&&R(p,ne)))break;p=p[ne]}return Z||++M!=z?Z:(z=p==null?0:p.length,!!z&&KR(z)&&Uu(ne,z)&&(At(p)||Ih(p)))}function ape(p){var m=p.length,R=new p.constructor(m);return m&&typeof p[0]=="string"&&Ei.call(p,"index")&&(R.index=p.index,R.input=p.input),R}function JU(p){return typeof p.constructor=="function"&&!WC(p)?ug(SR(p)):{}}function lpe(p,m,R){var M=p.constructor;switch(m){case xr:return WF(p);case Ee:case pe:return new M(+p);case Ht:return zhe(p,R);case pt:case us:case Ja:case uo:case dt:case Qt:case Ki:case Ns:case Qc:return _U(p,R);case fe:return new M;case we:case fi:return new M(p);case mt:return jhe(p);case et:return new M;case wi:return Khe(p)}}function upe(p,m){var R=m.length;if(!R)return p;var M=R-1;return m[M]=(R>1?"& ":"")+m[M],m=m.join(R>2?", ":" "),p.replace(dce,`{
/* [wrapped with `+m+`] */
`)}function cpe(p){return At(p)||Ih(p)||!!(nU&&p&&p[nU])}function Uu(p,m){var R=typeof p;return m=m??H,!!m&&(R=="number"||R!="symbol"&&Ece.test(p))&&p>-1&&p%1==0&&p<m}function ds(p,m,R){if(!fr(R))return!1;var M=typeof m;return(M=="number"?ks(R)&&Uu(m,R.length):M=="string"&&m in R)?rl(R[m],p):!1}function QF(p,m){if(At(p))return!1;var R=typeof p;return R=="number"||R=="symbol"||R=="boolean"||p==null||fo(p)?!0:ace.test(p)||!oce.test(p)||m!=null&&p in Mi(m)}function dpe(p){var m=typeof p;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?p!=="__proto__":p===null}function ZF(p){var m=VR(p),R=q[m];if(typeof R!="function"||!(m in Ut.prototype))return!1;if(p===R)return!0;var M=YF(R);return!!M&&p===M[0]}function hpe(p){return!!eU&&eU in p}var ppe=gR?zu:gI;function WC(p){var m=p&&p.constructor,R=typeof m=="function"&&m.prototype||og;return p===R}function ez(p){return p===p&&!fr(p)}function tz(p,m){return function(R){return R==null?!1:R[p]===m&&(m!==i||p in Mi(R))}}function fpe(p){var m=zR(p,function(M){return R.size===u&&R.clear(),M}),R=m.cache;return m}function gpe(p,m){var R=p[1],M=m[1],z=R|M,Z=z<(C|S|P),ne=M==P&&R==w||M==P&&R==O&&p[7].length<=m[8]||M==(P|O)&&m[7].length<=m[8]&&R==w;if(!(Z||ne))return p;M&C&&(p[2]=m[2],z|=R&C?0:y);var ae=m[3];if(ae){var ve=p[3];p[3]=ve?GU(ve,ae,m[4]):ae,p[4]=ve?ed(p[3],c):m[4]}return ae=m[5],ae&&(ve=p[5],p[5]=ve?kU(ve,ae,m[6]):ae,p[6]=ve?ed(p[5],c):m[6]),ae=m[7],ae&&(p[7]=ae),M&P&&(p[8]=p[8]==null?m[8]:Bn(p[8],m[8])),p[9]==null&&(p[9]=m[9]),p[0]=m[0],p[1]=z,p}function mpe(p){var m=[];if(p!=null)for(var R in Mi(p))m.push(R);return m}function vpe(p){return vR.call(p)}function iz(p,m,R){return m=Zr(m===i?p.length-1:m,0),function(){for(var M=arguments,z=-1,Z=Zr(M.length-m,0),ne=Se(Z);++z<Z;)ne[z]=M[m+z];z=-1;for(var ae=Se(m+1);++z<m;)ae[z]=M[z];return ae[m]=R(ne),co(p,this,ae)}}function rz(p,m){return m.length<2?p:Oh(p,sa(m,0,-1))}function Cpe(p,m){for(var R=p.length,M=Bn(m.length,R),z=Gs(p);M--;){var Z=m[M];p[M]=Uu(Z,R)?z[Z]:i}return p}function JF(p,m){if(!(m==="constructor"&&typeof p[m]=="function")&&m!="__proto__")return p[m]}var nz=oz(PU),UC=Ide||function(p,m){return An.setTimeout(p,m)},eI=oz($he);function sz(p,m,R){var M=m+"";return eI(p,upe(M,ype(ope(M),R)))}function oz(p){var m=0,R=0;return function(){var M=Gde(),z=$-(M-R);if(R=M,z>0){if(++m>=k)return arguments[0]}else m=0;return p.apply(i,arguments)}}function $R(p,m){var R=-1,M=p.length,z=M-1;for(m=m===i?M:m;++R<m;){var Z=NF(R,z),ne=p[Z];p[Z]=p[R],p[R]=ne}return p.length=m,p}var az=fpe(function(p){var m=[];return p.charCodeAt(0)===46&&m.push(""),p.replace(lce,function(R,M,z,Z){m.push(z?Z.replace(mce,"$1"):M||R)}),m});function zl(p){if(typeof p=="string"||fo(p))return p;var m=p+"";return m=="0"&&1/p==-Q?"-0":m}function Fh(p){if(p!=null){try{return mR.call(p)}catch{}try{return p+""}catch{}}return""}function ype(p,m){return ta(ue,function(R){var M="_."+R[0];m&R[1]&&!dR(p,M)&&p.push(M)}),p.sort()}function lz(p){if(p instanceof Ut)return p.clone();var m=new ra(p.__wrapped__,p.__chain__);return m.__actions__=Gs(p.__actions__),m.__index__=p.__index__,m.__values__=p.__values__,m}function Spe(p,m,R){(R?ds(p,m,R):m===i)?m=1:m=Zr(Ft(m),0);var M=p==null?0:p.length;if(!M||m<1)return[];for(var z=0,Z=0,ne=Se(bR(M/m));z<M;)ne[Z++]=sa(p,z,z+=m);return ne}function wpe(p){for(var m=-1,R=p==null?0:p.length,M=0,z=[];++m<R;){var Z=p[m];Z&&(z[M++]=Z)}return z}function Epe(){var p=arguments.length;if(!p)return[];for(var m=Se(p-1),R=arguments[0],M=p;M--;)m[M-1]=arguments[M];return Jc(At(R)?Gs(R):[R],On(m,1))}var bpe=Nt(function(p,m){return Ar(p)?kC(p,On(m,1,Ar,!0)):[]}),Rpe=Nt(function(p,m){var R=oa(m);return Ar(R)&&(R=i),Ar(p)?kC(p,On(m,1,Ar,!0),vt(R,2)):[]}),Tpe=Nt(function(p,m){var R=oa(m);return Ar(R)&&(R=i),Ar(p)?kC(p,On(m,1,Ar,!0),i,R):[]});function Dpe(p,m,R){var M=p==null?0:p.length;return M?(m=R||m===i?1:Ft(m),sa(p,m<0?0:m,M)):[]}function Ppe(p,m,R){var M=p==null?0:p.length;return M?(m=R||m===i?1:Ft(m),m=M-m,sa(p,0,m<0?0:m)):[]}function xpe(p,m){return p&&p.length?IR(p,vt(m,3),!0,!0):[]}function Ape(p,m){return p&&p.length?IR(p,vt(m,3),!0):[]}function Ope(p,m,R,M){var z=p==null?0:p.length;return z?(R&&typeof R!="number"&&ds(p,m,R)&&(R=0,M=z),Ehe(p,m,R,M)):[]}function uz(p,m,R){var M=p==null?0:p.length;if(!M)return-1;var z=R==null?0:Ft(R);return z<0&&(z=Zr(M+z,0)),hR(p,vt(m,3),z)}function cz(p,m,R){var M=p==null?0:p.length;if(!M)return-1;var z=M-1;return R!==i&&(z=Ft(R),z=R<0?Zr(M+z,0):Bn(z,M-1)),hR(p,vt(m,3),z,!0)}function dz(p){var m=p==null?0:p.length;return m?On(p,1):[]}function Mpe(p){var m=p==null?0:p.length;return m?On(p,Q):[]}function Fpe(p,m){var R=p==null?0:p.length;return R?(m=m===i?1:Ft(m),On(p,m)):[]}function Ipe(p){for(var m=-1,R=p==null?0:p.length,M={};++m<R;){var z=p[m];M[z[0]]=z[1]}return M}function hz(p){return p&&p.length?p[0]:i}function Lpe(p,m,R){var M=p==null?0:p.length;if(!M)return-1;var z=R==null?0:Ft(R);return z<0&&(z=Zr(M+z,0)),ig(p,m,z)}function _pe(p){var m=p==null?0:p.length;return m?sa(p,0,-1):[]}var Npe=Nt(function(p){var m=nr(p,$F);return m.length&&m[0]===p[0]?MF(m):[]}),Gpe=Nt(function(p){var m=oa(p),R=nr(p,$F);return m===oa(R)?m=i:R.pop(),R.length&&R[0]===p[0]?MF(R,vt(m,2)):[]}),kpe=Nt(function(p){var m=oa(p),R=nr(p,$F);return m=typeof m=="function"?m:i,m&&R.pop(),R.length&&R[0]===p[0]?MF(R,i,m):[]});function Vpe(p,m){return p==null?"":_de.call(p,m)}function oa(p){var m=p==null?0:p.length;return m?p[m-1]:i}function Hpe(p,m,R){var M=p==null?0:p.length;if(!M)return-1;var z=M;return R!==i&&(z=Ft(R),z=z<0?Zr(M+z,0):Bn(z,M-1)),m===m?yde(p,m,z):hR(p,j2,z,!0)}function $pe(p,m){return p&&p.length?bU(p,Ft(m)):i}var Bpe=Nt(pz);function pz(p,m){return p&&p.length&&m&&m.length?_F(p,m):p}function Wpe(p,m,R){return p&&p.length&&m&&m.length?_F(p,m,vt(R,2)):p}function Upe(p,m,R){return p&&p.length&&m&&m.length?_F(p,m,i,R):p}var zpe=Wu(function(p,m){var R=p==null?0:p.length,M=PF(p,m);return DU(p,nr(m,function(z){return Uu(z,R)?+z:z}).sort(NU)),M});function jpe(p,m){var R=[];if(!(p&&p.length))return R;var M=-1,z=[],Z=p.length;for(m=vt(m,3);++M<Z;){var ne=p[M];m(ne,M,p)&&(R.push(ne),z.push(M))}return DU(p,z),R}function tI(p){return p==null?p:Vde.call(p)}function Kpe(p,m,R){var M=p==null?0:p.length;return M?(R&&typeof R!="number"&&ds(p,m,R)?(m=0,R=M):(m=m==null?0:Ft(m),R=R===i?M:Ft(R)),sa(p,m,R)):[]}function Ype(p,m){return FR(p,m)}function qpe(p,m,R){return kF(p,m,vt(R,2))}function Xpe(p,m){var R=p==null?0:p.length;if(R){var M=FR(p,m);if(M<R&&rl(p[M],m))return M}return-1}function Qpe(p,m){return FR(p,m,!0)}function Zpe(p,m,R){return kF(p,m,vt(R,2),!0)}function Jpe(p,m){var R=p==null?0:p.length;if(R){var M=FR(p,m,!0)-1;if(rl(p[M],m))return M}return-1}function efe(p){return p&&p.length?xU(p):[]}function tfe(p,m){return p&&p.length?xU(p,vt(m,2)):[]}function ife(p){var m=p==null?0:p.length;return m?sa(p,1,m):[]}function rfe(p,m,R){return p&&p.length?(m=R||m===i?1:Ft(m),sa(p,0,m<0?0:m)):[]}function nfe(p,m,R){var M=p==null?0:p.length;return M?(m=R||m===i?1:Ft(m),m=M-m,sa(p,m<0?0:m,M)):[]}function sfe(p,m){return p&&p.length?IR(p,vt(m,3),!1,!0):[]}function ofe(p,m){return p&&p.length?IR(p,vt(m,3)):[]}var afe=Nt(function(p){return rd(On(p,1,Ar,!0))}),lfe=Nt(function(p){var m=oa(p);return Ar(m)&&(m=i),rd(On(p,1,Ar,!0),vt(m,2))}),ufe=Nt(function(p){var m=oa(p);return m=typeof m=="function"?m:i,rd(On(p,1,Ar,!0),i,m)});function cfe(p){return p&&p.length?rd(p):[]}function dfe(p,m){return p&&p.length?rd(p,vt(m,2)):[]}function hfe(p,m){return m=typeof m=="function"?m:i,p&&p.length?rd(p,i,m):[]}function iI(p){if(!(p&&p.length))return[];var m=0;return p=Zc(p,function(R){if(Ar(R))return m=Zr(R.length,m),!0}),yF(m,function(R){return nr(p,mF(R))})}function fz(p,m){if(!(p&&p.length))return[];var R=iI(p);return m==null?R:nr(R,function(M){return co(m,i,M)})}var pfe=Nt(function(p,m){return Ar(p)?kC(p,m):[]}),ffe=Nt(function(p){return HF(Zc(p,Ar))}),gfe=Nt(function(p){var m=oa(p);return Ar(m)&&(m=i),HF(Zc(p,Ar),vt(m,2))}),mfe=Nt(function(p){var m=oa(p);return m=typeof m=="function"?m:i,HF(Zc(p,Ar),i,m)}),vfe=Nt(iI);function Cfe(p,m){return FU(p||[],m||[],GC)}function yfe(p,m){return FU(p||[],m||[],$C)}var Sfe=Nt(function(p){var m=p.length,R=m>1?p[m-1]:i;return R=typeof R=="function"?(p.pop(),R):i,fz(p,R)});function gz(p){var m=q(p);return m.__chain__=!0,m}function wfe(p,m){return m(p),p}function BR(p,m){return m(p)}var Efe=Wu(function(p){var m=p.length,R=m?p[0]:0,M=this.__wrapped__,z=function(Z){return PF(Z,p)};return m>1||this.__actions__.length||!(M instanceof Ut)||!Uu(R)?this.thru(z):(M=M.slice(R,+R+(m?1:0)),M.__actions__.push({func:BR,args:[z],thisArg:i}),new ra(M,this.__chain__).thru(function(Z){return m&&!Z.length&&Z.push(i),Z}))});function bfe(){return gz(this)}function Rfe(){return new ra(this.value(),this.__chain__)}function Tfe(){this.__values__===i&&(this.__values__=Az(this.value()));var p=this.__index__>=this.__values__.length,m=p?i:this.__values__[this.__index__++];return{done:p,value:m}}function Dfe(){return this}function Pfe(p){for(var m,R=this;R instanceof PR;){var M=lz(R);M.__index__=0,M.__values__=i,m?z.__wrapped__=M:m=M;var z=M;R=R.__wrapped__}return z.__wrapped__=p,m}function xfe(){var p=this.__wrapped__;if(p instanceof Ut){var m=p;return this.__actions__.length&&(m=new Ut(this)),m=m.reverse(),m.__actions__.push({func:BR,args:[tI],thisArg:i}),new ra(m,this.__chain__)}return this.thru(tI)}function Afe(){return MU(this.__wrapped__,this.__actions__)}var Ofe=LR(function(p,m,R){Ei.call(p,R)?++p[R]:$u(p,R,1)});function Mfe(p,m,R){var M=At(p)?U2:whe;return R&&ds(p,m,R)&&(m=i),M(p,vt(m,3))}function Ffe(p,m){var R=At(p)?Zc:fU;return R(p,vt(m,3))}var Ife=BU(uz),Lfe=BU(cz);function _fe(p,m){return On(WR(p,m),1)}function Nfe(p,m){return On(WR(p,m),Q)}function Gfe(p,m,R){return R=R===i?1:Ft(R),On(WR(p,m),R)}function mz(p,m){var R=At(p)?ta:id;return R(p,vt(m,3))}function vz(p,m){var R=At(p)?ide:pU;return R(p,vt(m,3))}var kfe=LR(function(p,m,R){Ei.call(p,R)?p[R].push(m):$u(p,R,[m])});function Vfe(p,m,R,M){p=ks(p)?p:fg(p),R=R&&!M?Ft(R):0;var z=p.length;return R<0&&(R=Zr(z+R,0)),YR(p)?R<=z&&p.indexOf(m,R)>-1:!!z&&ig(p,m,R)>-1}var Hfe=Nt(function(p,m,R){var M=-1,z=typeof m=="function",Z=ks(p)?Se(p.length):[];return id(p,function(ne){Z[++M]=z?co(m,ne,R):VC(ne,m,R)}),Z}),$fe=LR(function(p,m,R){$u(p,R,m)});function WR(p,m){var R=At(p)?nr:SU;return R(p,vt(m,3))}function Bfe(p,m,R,M){return p==null?[]:(At(m)||(m=m==null?[]:[m]),R=M?i:R,At(R)||(R=R==null?[]:[R]),RU(p,m,R))}var Wfe=LR(function(p,m,R){p[R?0:1].push(m)},function(){return[[],[]]});function Ufe(p,m,R){var M=At(p)?fF:Y2,z=arguments.length<3;return M(p,vt(m,4),R,z,id)}function zfe(p,m,R){var M=At(p)?rde:Y2,z=arguments.length<3;return M(p,vt(m,4),R,z,pU)}function jfe(p,m){var R=At(p)?Zc:fU;return R(p,jR(vt(m,3)))}function Kfe(p){var m=At(p)?uU:Vhe;return m(p)}function Yfe(p,m,R){(R?ds(p,m,R):m===i)?m=1:m=Ft(m);var M=At(p)?mhe:Hhe;return M(p,m)}function qfe(p){var m=At(p)?vhe:Bhe;return m(p)}function Xfe(p){if(p==null)return 0;if(ks(p))return YR(p)?ng(p):p.length;var m=Wn(p);return m==fe||m==et?p.size:IF(p).length}function Qfe(p,m,R){var M=At(p)?gF:Whe;return R&&ds(p,m,R)&&(m=i),M(p,vt(m,3))}var Zfe=Nt(function(p,m){if(p==null)return[];var R=m.length;return R>1&&ds(p,m[0],m[1])?m=[]:R>2&&ds(m[0],m[1],m[2])&&(m=[m[0]]),RU(p,On(m,1),[])}),UR=Fde||function(){return An.Date.now()};function Jfe(p,m){if(typeof m!="function")throw new ia(o);return p=Ft(p),function(){if(--p<1)return m.apply(this,arguments)}}function Cz(p,m,R){return m=R?i:m,m=p&&m==null?p.length:m,Bu(p,P,i,i,i,i,m)}function yz(p,m){var R;if(typeof m!="function")throw new ia(o);return p=Ft(p),function(){return--p>0&&(R=m.apply(this,arguments)),p<=1&&(m=i),R}}var rI=Nt(function(p,m,R){var M=C;if(R.length){var z=ed(R,hg(rI));M|=b}return Bu(p,M,m,R,z)}),Sz=Nt(function(p,m,R){var M=C|S;if(R.length){var z=ed(R,hg(Sz));M|=b}return Bu(m,M,p,R,z)});function wz(p,m,R){m=R?i:m;var M=Bu(p,w,i,i,i,i,i,m);return M.placeholder=wz.placeholder,M}function Ez(p,m,R){m=R?i:m;var M=Bu(p,E,i,i,i,i,i,m);return M.placeholder=Ez.placeholder,M}function bz(p,m,R){var M,z,Z,ne,ae,ve,xe=0,Ae=!1,Ne=!1,je=!0;if(typeof p!="function")throw new ia(o);m=aa(m)||0,fr(R)&&(Ae=!!R.leading,Ne="maxWait"in R,Z=Ne?Zr(aa(R.maxWait)||0,m):Z,je="trailing"in R?!!R.trailing:je);function nt(Or){var nl=M,Ku=z;return M=z=i,xe=Or,ne=p.apply(Ku,nl),ne}function yt(Or){return xe=Or,ae=UC(Bt,m),Ae?nt(Or):ne}function Lt(Or){var nl=Or-ve,Ku=Or-xe,Bz=m-nl;return Ne?Bn(Bz,Z-Ku):Bz}function St(Or){var nl=Or-ve,Ku=Or-xe;return ve===i||nl>=m||nl<0||Ne&&Ku>=Z}function Bt(){var Or=UR();if(St(Or))return Yt(Or);ae=UC(Bt,Lt(Or))}function Yt(Or){return ae=i,je&&M?nt(Or):(M=z=i,ne)}function go(){ae!==i&&IU(ae),xe=0,M=ve=z=ae=i}function hs(){return ae===i?ne:Yt(UR())}function mo(){var Or=UR(),nl=St(Or);if(M=arguments,z=this,ve=Or,nl){if(ae===i)return yt(ve);if(Ne)return IU(ae),ae=UC(Bt,m),nt(ve)}return ae===i&&(ae=UC(Bt,m)),ne}return mo.cancel=go,mo.flush=hs,mo}var ege=Nt(function(p,m){return hU(p,1,m)}),tge=Nt(function(p,m,R){return hU(p,aa(m)||0,R)});function ige(p){return Bu(p,N)}function zR(p,m){if(typeof p!="function"||m!=null&&typeof m!="function")throw new ia(o);var R=function(){var M=arguments,z=m?m.apply(this,M):M[0],Z=R.cache;if(Z.has(z))return Z.get(z);var ne=p.apply(this,M);return R.cache=Z.set(z,ne)||Z,ne};return R.cache=new(zR.Cache||Hu),R}zR.Cache=Hu;function jR(p){if(typeof p!="function")throw new ia(o);return function(){var m=arguments;switch(m.length){case 0:return!p.call(this);case 1:return!p.call(this,m[0]);case 2:return!p.call(this,m[0],m[1]);case 3:return!p.call(this,m[0],m[1],m[2])}return!p.apply(this,m)}}function rge(p){return yz(2,p)}var nge=Uhe(function(p,m){m=m.length==1&&At(m[0])?nr(m[0],ho(vt())):nr(On(m,1),ho(vt()));var R=m.length;return Nt(function(M){for(var z=-1,Z=Bn(M.length,R);++z<Z;)M[z]=m[z].call(this,M[z]);return co(p,this,M)})}),nI=Nt(function(p,m){var R=ed(m,hg(nI));return Bu(p,b,i,m,R)}),Rz=Nt(function(p,m){var R=ed(m,hg(Rz));return Bu(p,D,i,m,R)}),sge=Wu(function(p,m){return Bu(p,O,i,i,i,m)});function oge(p,m){if(typeof p!="function")throw new ia(o);return m=m===i?m:Ft(m),Nt(p,m)}function age(p,m){if(typeof p!="function")throw new ia(o);return m=m==null?0:Zr(Ft(m),0),Nt(function(R){var M=R[m],z=sd(R,0,m);return M&&Jc(z,M),co(p,this,z)})}function lge(p,m,R){var M=!0,z=!0;if(typeof p!="function")throw new ia(o);return fr(R)&&(M="leading"in R?!!R.leading:M,z="trailing"in R?!!R.trailing:z),bz(p,m,{leading:M,maxWait:m,trailing:z})}function uge(p){return Cz(p,1)}function cge(p,m){return nI(BF(m),p)}function dge(){if(!arguments.length)return[];var p=arguments[0];return At(p)?p:[p]}function hge(p){return na(p,f)}function pge(p,m){return m=typeof m=="function"?m:i,na(p,f,m)}function fge(p){return na(p,d|f)}function gge(p,m){return m=typeof m=="function"?m:i,na(p,d|f,m)}function mge(p,m){return m==null||dU(p,m,cn(m))}function rl(p,m){return p===m||p!==p&&m!==m}var vge=kR(OF),Cge=kR(function(p,m){return p>=m}),Ih=vU(function(){return arguments}())?vU:function(p){return yr(p)&&Ei.call(p,"callee")&&!rU.call(p,"callee")},At=Se.isArray,yge=k2?ho(k2):Phe;function ks(p){return p!=null&&KR(p.length)&&!zu(p)}function Ar(p){return yr(p)&&ks(p)}function Sge(p){return p===!0||p===!1||yr(p)&&cs(p)==Ee}var od=Lde||gI,wge=V2?ho(V2):xhe;function Ege(p){return yr(p)&&p.nodeType===1&&!zC(p)}function bge(p){if(p==null)return!0;if(ks(p)&&(At(p)||typeof p=="string"||typeof p.splice=="function"||od(p)||pg(p)||Ih(p)))return!p.length;var m=Wn(p);if(m==fe||m==et)return!p.size;if(WC(p))return!IF(p).length;for(var R in p)if(Ei.call(p,R))return!1;return!0}function Rge(p,m){return HC(p,m)}function Tge(p,m,R){R=typeof R=="function"?R:i;var M=R?R(p,m):i;return M===i?HC(p,m,i,R):!!M}function sI(p){if(!yr(p))return!1;var m=cs(p);return m==Ce||m==ye||typeof p.message=="string"&&typeof p.name=="string"&&!zC(p)}function Dge(p){return typeof p=="number"&&sU(p)}function zu(p){if(!fr(p))return!1;var m=cs(p);return m==re||m==oe||m==he||m==qe}function Tz(p){return typeof p=="number"&&p==Ft(p)}function KR(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=H}function fr(p){var m=typeof p;return p!=null&&(m=="object"||m=="function")}function yr(p){return p!=null&&typeof p=="object"}var Dz=H2?ho(H2):Ohe;function Pge(p,m){return p===m||FF(p,m,qF(m))}function xge(p,m,R){return R=typeof R=="function"?R:i,FF(p,m,qF(m),R)}function Age(p){return Pz(p)&&p!=+p}function Oge(p){if(ppe(p))throw new xt(s);return CU(p)}function Mge(p){return p===null}function Fge(p){return p==null}function Pz(p){return typeof p=="number"||yr(p)&&cs(p)==we}function zC(p){if(!yr(p)||cs(p)!=Be)return!1;var m=SR(p);if(m===null)return!0;var R=Ei.call(m,"constructor")&&m.constructor;return typeof R=="function"&&R instanceof R&&mR.call(R)==xde}var oI=$2?ho($2):Mhe;function Ige(p){return Tz(p)&&p>=-H&&p<=H}var xz=B2?ho(B2):Fhe;function YR(p){return typeof p=="string"||!At(p)&&yr(p)&&cs(p)==fi}function fo(p){return typeof p=="symbol"||yr(p)&&cs(p)==wi}var pg=W2?ho(W2):Ihe;function Lge(p){return p===i}function _ge(p){return yr(p)&&Wn(p)==Cr}function Nge(p){return yr(p)&&cs(p)==xn}var Gge=kR(LF),kge=kR(function(p,m){return p<=m});function Az(p){if(!p)return[];if(ks(p))return YR(p)?tl(p):Gs(p);if(FC&&p[FC])return mde(p[FC]());var m=Wn(p),R=m==fe?wF:m==et?pR:fg;return R(p)}function ju(p){if(!p)return p===0?p:0;if(p=aa(p),p===Q||p===-Q){var m=p<0?-1:1;return m*X}return p===p?p:0}function Ft(p){var m=ju(p),R=m%1;return m===m?R?m-R:m:0}function Oz(p){return p?Ah(Ft(p),0,le):0}function aa(p){if(typeof p=="number")return p;if(fo(p))return te;if(fr(p)){var m=typeof p.valueOf=="function"?p.valueOf():p;p=fr(m)?m+"":m}if(typeof p!="string")return p===0?p:+p;p=q2(p);var R=yce.test(p);return R||wce.test(p)?Jce(p.slice(2),R?2:8):Cce.test(p)?te:+p}function Mz(p){return Ul(p,Vs(p))}function Vge(p){return p?Ah(Ft(p),-H,H):p===0?p:0}function gi(p){return p==null?"":po(p)}var Hge=cg(function(p,m){if(WC(m)||ks(m)){Ul(m,cn(m),p);return}for(var R in m)Ei.call(m,R)&&GC(p,R,m[R])}),Fz=cg(function(p,m){Ul(m,Vs(m),p)}),qR=cg(function(p,m,R,M){Ul(m,Vs(m),p,M)}),$ge=cg(function(p,m,R,M){Ul(m,cn(m),p,M)}),Bge=Wu(PF);function Wge(p,m){var R=ug(p);return m==null?R:cU(R,m)}var Uge=Nt(function(p,m){p=Mi(p);var R=-1,M=m.length,z=M>2?m[2]:i;for(z&&ds(m[0],m[1],z)&&(M=1);++R<M;)for(var Z=m[R],ne=Vs(Z),ae=-1,ve=ne.length;++ae<ve;){var xe=ne[ae],Ae=p[xe];(Ae===i||rl(Ae,og[xe])&&!Ei.call(p,xe))&&(p[xe]=Z[xe])}return p}),zge=Nt(function(p){return p.push(i,qU),co(Iz,i,p)});function jge(p,m){return z2(p,vt(m,3),Wl)}function Kge(p,m){return z2(p,vt(m,3),AF)}function Yge(p,m){return p==null?p:xF(p,vt(m,3),Vs)}function qge(p,m){return p==null?p:gU(p,vt(m,3),Vs)}function Xge(p,m){return p&&Wl(p,vt(m,3))}function Qge(p,m){return p&&AF(p,vt(m,3))}function Zge(p){return p==null?[]:OR(p,cn(p))}function Jge(p){return p==null?[]:OR(p,Vs(p))}function aI(p,m,R){var M=p==null?i:Oh(p,m);return M===i?R:M}function eme(p,m){return p!=null&&ZU(p,m,bhe)}function lI(p,m){return p!=null&&ZU(p,m,Rhe)}var tme=UU(function(p,m,R){m!=null&&typeof m.toString!="function"&&(m=vR.call(m)),p[m]=R},cI(Hs)),ime=UU(function(p,m,R){m!=null&&typeof m.toString!="function"&&(m=vR.call(m)),Ei.call(p,m)?p[m].push(R):p[m]=[R]},vt),rme=Nt(VC);function cn(p){return ks(p)?lU(p):IF(p)}function Vs(p){return ks(p)?lU(p,!0):Lhe(p)}function nme(p,m){var R={};return m=vt(m,3),Wl(p,function(M,z,Z){$u(R,m(M,z,Z),M)}),R}function sme(p,m){var R={};return m=vt(m,3),Wl(p,function(M,z,Z){$u(R,z,m(M,z,Z))}),R}var ome=cg(function(p,m,R){MR(p,m,R)}),Iz=cg(function(p,m,R,M){MR(p,m,R,M)}),ame=Wu(function(p,m){var R={};if(p==null)return R;var M=!1;m=nr(m,function(Z){return Z=nd(Z,p),M||(M=Z.length>1),Z}),Ul(p,KF(p),R),M&&(R=na(R,d|h|f,tpe));for(var z=m.length;z--;)VF(R,m[z]);return R});function lme(p,m){return Lz(p,jR(vt(m)))}var ume=Wu(function(p,m){return p==null?{}:Nhe(p,m)});function Lz(p,m){if(p==null)return{};var R=nr(KF(p),function(M){return[M]});return m=vt(m),TU(p,R,function(M,z){return m(M,z[0])})}function cme(p,m,R){m=nd(m,p);var M=-1,z=m.length;for(z||(z=1,p=i);++M<z;){var Z=p==null?i:p[zl(m[M])];Z===i&&(M=z,Z=R),p=zu(Z)?Z.call(p):Z}return p}function dme(p,m,R){return p==null?p:$C(p,m,R)}function hme(p,m,R,M){return M=typeof M=="function"?M:i,p==null?p:$C(p,m,R,M)}var _z=KU(cn),Nz=KU(Vs);function pme(p,m,R){var M=At(p),z=M||od(p)||pg(p);if(m=vt(m,4),R==null){var Z=p&&p.constructor;z?R=M?new Z:[]:fr(p)?R=zu(Z)?ug(SR(p)):{}:R={}}return(z?ta:Wl)(p,function(ne,ae,ve){return m(R,ne,ae,ve)}),R}function fme(p,m){return p==null?!0:VF(p,m)}function gme(p,m,R){return p==null?p:OU(p,m,BF(R))}function mme(p,m,R,M){return M=typeof M=="function"?M:i,p==null?p:OU(p,m,BF(R),M)}function fg(p){return p==null?[]:SF(p,cn(p))}function vme(p){return p==null?[]:SF(p,Vs(p))}function Cme(p,m,R){return R===i&&(R=m,m=i),R!==i&&(R=aa(R),R=R===R?R:0),m!==i&&(m=aa(m),m=m===m?m:0),Ah(aa(p),m,R)}function yme(p,m,R){return m=ju(m),R===i?(R=m,m=0):R=ju(R),p=aa(p),The(p,m,R)}function Sme(p,m,R){if(R&&typeof R!="boolean"&&ds(p,m,R)&&(m=R=i),R===i&&(typeof m=="boolean"?(R=m,m=i):typeof p=="boolean"&&(R=p,p=i)),p===i&&m===i?(p=0,m=1):(p=ju(p),m===i?(m=p,p=0):m=ju(m)),p>m){var M=p;p=m,m=M}if(R||p%1||m%1){var z=oU();return Bn(p+z*(m-p+Zce("1e-"+((z+"").length-1))),m)}return NF(p,m)}var wme=dg(function(p,m,R){return m=m.toLowerCase(),p+(R?Gz(m):m)});function Gz(p){return uI(gi(p).toLowerCase())}function kz(p){return p=gi(p),p&&p.replace(bce,dde).replace(Bce,"")}function Eme(p,m,R){p=gi(p),m=po(m);var M=p.length;R=R===i?M:Ah(Ft(R),0,M);var z=R;return R-=m.length,R>=0&&p.slice(R,z)==m}function bme(p){return p=gi(p),p&&rce.test(p)?p.replace(g2,hde):p}function Rme(p){return p=gi(p),p&&uce.test(p)?p.replace(nF,"\\$&"):p}var Tme=dg(function(p,m,R){return p+(R?"-":"")+m.toLowerCase()}),Dme=dg(function(p,m,R){return p+(R?" ":"")+m.toLowerCase()}),Pme=$U("toLowerCase");function xme(p,m,R){p=gi(p),m=Ft(m);var M=m?ng(p):0;if(!m||M>=m)return p;var z=(m-M)/2;return GR(RR(z),R)+p+GR(bR(z),R)}function Ame(p,m,R){p=gi(p),m=Ft(m);var M=m?ng(p):0;return m&&M<m?p+GR(m-M,R):p}function Ome(p,m,R){p=gi(p),m=Ft(m);var M=m?ng(p):0;return m&&M<m?GR(m-M,R)+p:p}function Mme(p,m,R){return R||m==null?m=0:m&&(m=+m),kde(gi(p).replace(sF,""),m||0)}function Fme(p,m,R){return(R?ds(p,m,R):m===i)?m=1:m=Ft(m),GF(gi(p),m)}function Ime(){var p=arguments,m=gi(p[0]);return p.length<3?m:m.replace(p[1],p[2])}var Lme=dg(function(p,m,R){return p+(R?"_":"")+m.toLowerCase()});function _me(p,m,R){return R&&typeof R!="number"&&ds(p,m,R)&&(m=R=i),R=R===i?le:R>>>0,R?(p=gi(p),p&&(typeof m=="string"||m!=null&&!oI(m))&&(m=po(m),!m&&rg(p))?sd(tl(p),0,R):p.split(m,R)):[]}var Nme=dg(function(p,m,R){return p+(R?" ":"")+uI(m)});function Gme(p,m,R){return p=gi(p),R=R==null?0:Ah(Ft(R),0,p.length),m=po(m),p.slice(R,R+m.length)==m}function kme(p,m,R){var M=q.templateSettings;R&&ds(p,m,R)&&(m=i),p=gi(p),m=qR({},m,M,YU);var z=qR({},m.imports,M.imports,YU),Z=cn(z),ne=SF(z,Z),ae,ve,xe=0,Ae=m.interpolate||lR,Ne="__p += '",je=EF((m.escape||lR).source+"|"+Ae.source+"|"+(Ae===m2?vce:lR).source+"|"+(m.evaluate||lR).source+"|$","g"),nt="//# sourceURL="+(Ei.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kce+"]")+`
`;p.replace(je,function(St,Bt,Yt,go,hs,mo){return Yt||(Yt=go),Ne+=p.slice(xe,mo).replace(Rce,pde),Bt&&(ae=!0,Ne+=`' +
__e(`+Bt+`) +
'`),hs&&(ve=!0,Ne+=`';
`+hs+`;
__p += '`),Yt&&(Ne+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),xe=mo+St.length,St}),Ne+=`';
`;var yt=Ei.call(m,"variable")&&m.variable;if(!yt)Ne=`with (obj) {
`+Ne+`
}
`;else if(gce.test(yt))throw new xt(a);Ne=(ve?Ne.replace(Yi,""):Ne).replace(Jo,"$1").replace(Rh,"$1;"),Ne="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var Lt=Hz(function(){return li(Z,nt+"return "+Ne).apply(i,ne)});if(Lt.source=Ne,sI(Lt))throw Lt;return Lt}function Vme(p){return gi(p).toLowerCase()}function Hme(p){return gi(p).toUpperCase()}function $me(p,m,R){if(p=gi(p),p&&(R||m===i))return q2(p);if(!p||!(m=po(m)))return p;var M=tl(p),z=tl(m),Z=X2(M,z),ne=Q2(M,z)+1;return sd(M,Z,ne).join("")}function Bme(p,m,R){if(p=gi(p),p&&(R||m===i))return p.slice(0,J2(p)+1);if(!p||!(m=po(m)))return p;var M=tl(p),z=Q2(M,tl(m))+1;return sd(M,0,z).join("")}function Wme(p,m,R){if(p=gi(p),p&&(R||m===i))return p.replace(sF,"");if(!p||!(m=po(m)))return p;var M=tl(p),z=X2(M,tl(m));return sd(M,z).join("")}function Ume(p,m){var R=_,M=L;if(fr(m)){var z="separator"in m?m.separator:z;R="length"in m?Ft(m.length):R,M="omission"in m?po(m.omission):M}p=gi(p);var Z=p.length;if(rg(p)){var ne=tl(p);Z=ne.length}if(R>=Z)return p;var ae=R-ng(M);if(ae<1)return M;var ve=ne?sd(ne,0,ae).join(""):p.slice(0,ae);if(z===i)return ve+M;if(ne&&(ae+=ve.length-ae),oI(z)){if(p.slice(ae).search(z)){var xe,Ae=ve;for(z.global||(z=EF(z.source,gi(v2.exec(z))+"g")),z.lastIndex=0;xe=z.exec(Ae);)var Ne=xe.index;ve=ve.slice(0,Ne===i?ae:Ne)}}else if(p.indexOf(po(z),ae)!=ae){var je=ve.lastIndexOf(z);je>-1&&(ve=ve.slice(0,je))}return ve+M}function zme(p){return p=gi(p),p&&ice.test(p)?p.replace(el,Sde):p}var jme=dg(function(p,m,R){return p+(R?" ":"")+m.toUpperCase()}),uI=$U("toUpperCase");function Vz(p,m,R){return p=gi(p),m=R?i:m,m===i?gde(p)?bde(p):ode(p):p.match(m)||[]}var Hz=Nt(function(p,m){try{return co(p,i,m)}catch(R){return sI(R)?R:new xt(R)}}),Kme=Wu(function(p,m){return ta(m,function(R){R=zl(R),$u(p,R,rI(p[R],p))}),p});function Yme(p){var m=p==null?0:p.length,R=vt();return p=m?nr(p,function(M){if(typeof M[1]!="function")throw new ia(o);return[R(M[0]),M[1]]}):[],Nt(function(M){for(var z=-1;++z<m;){var Z=p[z];if(co(Z[0],this,M))return co(Z[1],this,M)}})}function qme(p){return She(na(p,d))}function cI(p){return function(){return p}}function Xme(p,m){return p==null||p!==p?m:p}var Qme=WU(),Zme=WU(!0);function Hs(p){return p}function dI(p){return yU(typeof p=="function"?p:na(p,d))}function Jme(p){return wU(na(p,d))}function eve(p,m){return EU(p,na(m,d))}var tve=Nt(function(p,m){return function(R){return VC(R,p,m)}}),ive=Nt(function(p,m){return function(R){return VC(p,R,m)}});function hI(p,m,R){var M=cn(m),z=OR(m,M);R==null&&!(fr(m)&&(z.length||!M.length))&&(R=m,m=p,p=this,z=OR(m,cn(m)));var Z=!(fr(R)&&"chain"in R)||!!R.chain,ne=zu(p);return ta(z,function(ae){var ve=m[ae];p[ae]=ve,ne&&(p.prototype[ae]=function(){var xe=this.__chain__;if(Z||xe){var Ae=p(this.__wrapped__),Ne=Ae.__actions__=Gs(this.__actions__);return Ne.push({func:ve,args:arguments,thisArg:p}),Ae.__chain__=xe,Ae}return ve.apply(p,Jc([this.value()],arguments))})}),p}function rve(){return An._===this&&(An._=Ade),this}function pI(){}function nve(p){return p=Ft(p),Nt(function(m){return bU(m,p)})}var sve=UF(nr),ove=UF(U2),ave=UF(gF);function $z(p){return QF(p)?mF(zl(p)):Ghe(p)}function lve(p){return function(m){return p==null?i:Oh(p,m)}}var uve=zU(),cve=zU(!0);function fI(){return[]}function gI(){return!1}function dve(){return{}}function hve(){return""}function pve(){return!0}function fve(p,m){if(p=Ft(p),p<1||p>H)return[];var R=le,M=Bn(p,le);m=vt(m),p-=le;for(var z=yF(M,m);++R<p;)m(R);return z}function gve(p){return At(p)?nr(p,zl):fo(p)?[p]:Gs(az(gi(p)))}function mve(p){var m=++Pde;return gi(p)+m}var vve=NR(function(p,m){return p+m},0),Cve=zF("ceil"),yve=NR(function(p,m){return p/m},1),Sve=zF("floor");function wve(p){return p&&p.length?AR(p,Hs,OF):i}function Eve(p,m){return p&&p.length?AR(p,vt(m,2),OF):i}function bve(p){return K2(p,Hs)}function Rve(p,m){return K2(p,vt(m,2))}function Tve(p){return p&&p.length?AR(p,Hs,LF):i}function Dve(p,m){return p&&p.length?AR(p,vt(m,2),LF):i}var Pve=NR(function(p,m){return p*m},1),xve=zF("round"),Ave=NR(function(p,m){return p-m},0);function Ove(p){return p&&p.length?CF(p,Hs):0}function Mve(p,m){return p&&p.length?CF(p,vt(m,2)):0}return q.after=Jfe,q.ary=Cz,q.assign=Hge,q.assignIn=Fz,q.assignInWith=qR,q.assignWith=$ge,q.at=Bge,q.before=yz,q.bind=rI,q.bindAll=Kme,q.bindKey=Sz,q.castArray=dge,q.chain=gz,q.chunk=Spe,q.compact=wpe,q.concat=Epe,q.cond=Yme,q.conforms=qme,q.constant=cI,q.countBy=Ofe,q.create=Wge,q.curry=wz,q.curryRight=Ez,q.debounce=bz,q.defaults=Uge,q.defaultsDeep=zge,q.defer=ege,q.delay=tge,q.difference=bpe,q.differenceBy=Rpe,q.differenceWith=Tpe,q.drop=Dpe,q.dropRight=Ppe,q.dropRightWhile=xpe,q.dropWhile=Ape,q.fill=Ope,q.filter=Ffe,q.flatMap=_fe,q.flatMapDeep=Nfe,q.flatMapDepth=Gfe,q.flatten=dz,q.flattenDeep=Mpe,q.flattenDepth=Fpe,q.flip=ige,q.flow=Qme,q.flowRight=Zme,q.fromPairs=Ipe,q.functions=Zge,q.functionsIn=Jge,q.groupBy=kfe,q.initial=_pe,q.intersection=Npe,q.intersectionBy=Gpe,q.intersectionWith=kpe,q.invert=tme,q.invertBy=ime,q.invokeMap=Hfe,q.iteratee=dI,q.keyBy=$fe,q.keys=cn,q.keysIn=Vs,q.map=WR,q.mapKeys=nme,q.mapValues=sme,q.matches=Jme,q.matchesProperty=eve,q.memoize=zR,q.merge=ome,q.mergeWith=Iz,q.method=tve,q.methodOf=ive,q.mixin=hI,q.negate=jR,q.nthArg=nve,q.omit=ame,q.omitBy=lme,q.once=rge,q.orderBy=Bfe,q.over=sve,q.overArgs=nge,q.overEvery=ove,q.overSome=ave,q.partial=nI,q.partialRight=Rz,q.partition=Wfe,q.pick=ume,q.pickBy=Lz,q.property=$z,q.propertyOf=lve,q.pull=Bpe,q.pullAll=pz,q.pullAllBy=Wpe,q.pullAllWith=Upe,q.pullAt=zpe,q.range=uve,q.rangeRight=cve,q.rearg=sge,q.reject=jfe,q.remove=jpe,q.rest=oge,q.reverse=tI,q.sampleSize=Yfe,q.set=dme,q.setWith=hme,q.shuffle=qfe,q.slice=Kpe,q.sortBy=Zfe,q.sortedUniq=efe,q.sortedUniqBy=tfe,q.split=_me,q.spread=age,q.tail=ife,q.take=rfe,q.takeRight=nfe,q.takeRightWhile=sfe,q.takeWhile=ofe,q.tap=wfe,q.throttle=lge,q.thru=BR,q.toArray=Az,q.toPairs=_z,q.toPairsIn=Nz,q.toPath=gve,q.toPlainObject=Mz,q.transform=pme,q.unary=uge,q.union=afe,q.unionBy=lfe,q.unionWith=ufe,q.uniq=cfe,q.uniqBy=dfe,q.uniqWith=hfe,q.unset=fme,q.unzip=iI,q.unzipWith=fz,q.update=gme,q.updateWith=mme,q.values=fg,q.valuesIn=vme,q.without=pfe,q.words=Vz,q.wrap=cge,q.xor=ffe,q.xorBy=gfe,q.xorWith=mfe,q.zip=vfe,q.zipObject=Cfe,q.zipObjectDeep=yfe,q.zipWith=Sfe,q.entries=_z,q.entriesIn=Nz,q.extend=Fz,q.extendWith=qR,hI(q,q),q.add=vve,q.attempt=Hz,q.camelCase=wme,q.capitalize=Gz,q.ceil=Cve,q.clamp=Cme,q.clone=hge,q.cloneDeep=fge,q.cloneDeepWith=gge,q.cloneWith=pge,q.conformsTo=mge,q.deburr=kz,q.defaultTo=Xme,q.divide=yve,q.endsWith=Eme,q.eq=rl,q.escape=bme,q.escapeRegExp=Rme,q.every=Mfe,q.find=Ife,q.findIndex=uz,q.findKey=jge,q.findLast=Lfe,q.findLastIndex=cz,q.findLastKey=Kge,q.floor=Sve,q.forEach=mz,q.forEachRight=vz,q.forIn=Yge,q.forInRight=qge,q.forOwn=Xge,q.forOwnRight=Qge,q.get=aI,q.gt=vge,q.gte=Cge,q.has=eme,q.hasIn=lI,q.head=hz,q.identity=Hs,q.includes=Vfe,q.indexOf=Lpe,q.inRange=yme,q.invoke=rme,q.isArguments=Ih,q.isArray=At,q.isArrayBuffer=yge,q.isArrayLike=ks,q.isArrayLikeObject=Ar,q.isBoolean=Sge,q.isBuffer=od,q.isDate=wge,q.isElement=Ege,q.isEmpty=bge,q.isEqual=Rge,q.isEqualWith=Tge,q.isError=sI,q.isFinite=Dge,q.isFunction=zu,q.isInteger=Tz,q.isLength=KR,q.isMap=Dz,q.isMatch=Pge,q.isMatchWith=xge,q.isNaN=Age,q.isNative=Oge,q.isNil=Fge,q.isNull=Mge,q.isNumber=Pz,q.isObject=fr,q.isObjectLike=yr,q.isPlainObject=zC,q.isRegExp=oI,q.isSafeInteger=Ige,q.isSet=xz,q.isString=YR,q.isSymbol=fo,q.isTypedArray=pg,q.isUndefined=Lge,q.isWeakMap=_ge,q.isWeakSet=Nge,q.join=Vpe,q.kebabCase=Tme,q.last=oa,q.lastIndexOf=Hpe,q.lowerCase=Dme,q.lowerFirst=Pme,q.lt=Gge,q.lte=kge,q.max=wve,q.maxBy=Eve,q.mean=bve,q.meanBy=Rve,q.min=Tve,q.minBy=Dve,q.stubArray=fI,q.stubFalse=gI,q.stubObject=dve,q.stubString=hve,q.stubTrue=pve,q.multiply=Pve,q.nth=$pe,q.noConflict=rve,q.noop=pI,q.now=UR,q.pad=xme,q.padEnd=Ame,q.padStart=Ome,q.parseInt=Mme,q.random=Sme,q.reduce=Ufe,q.reduceRight=zfe,q.repeat=Fme,q.replace=Ime,q.result=cme,q.round=xve,q.runInContext=ge,q.sample=Kfe,q.size=Xfe,q.snakeCase=Lme,q.some=Qfe,q.sortedIndex=Ype,q.sortedIndexBy=qpe,q.sortedIndexOf=Xpe,q.sortedLastIndex=Qpe,q.sortedLastIndexBy=Zpe,q.sortedLastIndexOf=Jpe,q.startCase=Nme,q.startsWith=Gme,q.subtract=Ave,q.sum=Ove,q.sumBy=Mve,q.template=kme,q.times=fve,q.toFinite=ju,q.toInteger=Ft,q.toLength=Oz,q.toLower=Vme,q.toNumber=aa,q.toSafeInteger=Vge,q.toString=gi,q.toUpper=Hme,q.trim=$me,q.trimEnd=Bme,q.trimStart=Wme,q.truncate=Ume,q.unescape=zme,q.uniqueId=mve,q.upperCase=jme,q.upperFirst=uI,q.each=mz,q.eachRight=vz,q.first=hz,hI(q,function(){var p={};return Wl(q,function(m,R){Ei.call(q.prototype,R)||(p[R]=m)}),p}(),{chain:!1}),q.VERSION=r,ta(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){q[p].placeholder=q}),ta(["drop","take"],function(p,m){Ut.prototype[p]=function(R){R=R===i?1:Zr(Ft(R),0);var M=this.__filtered__&&!m?new Ut(this):this.clone();return M.__filtered__?M.__takeCount__=Bn(R,M.__takeCount__):M.__views__.push({size:Bn(R,le),type:p+(M.__dir__<0?"Right":"")}),M},Ut.prototype[p+"Right"]=function(R){return this.reverse()[p](R).reverse()}}),ta(["filter","map","takeWhile"],function(p,m){var R=m+1,M=R==U||R==j;Ut.prototype[p]=function(z){var Z=this.clone();return Z.__iteratees__.push({iteratee:vt(z,3),type:R}),Z.__filtered__=Z.__filtered__||M,Z}}),ta(["head","last"],function(p,m){var R="take"+(m?"Right":"");Ut.prototype[p]=function(){return this[R](1).value()[0]}}),ta(["initial","tail"],function(p,m){var R="drop"+(m?"":"Right");Ut.prototype[p]=function(){return this.__filtered__?new Ut(this):this[R](1)}}),Ut.prototype.compact=function(){return this.filter(Hs)},Ut.prototype.find=function(p){return this.filter(p).head()},Ut.prototype.findLast=function(p){return this.reverse().find(p)},Ut.prototype.invokeMap=Nt(function(p,m){return typeof p=="function"?new Ut(this):this.map(function(R){return VC(R,p,m)})}),Ut.prototype.reject=function(p){return this.filter(jR(vt(p)))},Ut.prototype.slice=function(p,m){p=Ft(p);var R=this;return R.__filtered__&&(p>0||m<0)?new Ut(R):(p<0?R=R.takeRight(-p):p&&(R=R.drop(p)),m!==i&&(m=Ft(m),R=m<0?R.dropRight(-m):R.take(m-p)),R)},Ut.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Ut.prototype.toArray=function(){return this.take(le)},Wl(Ut.prototype,function(p,m){var R=/^(?:filter|find|map|reject)|While$/.test(m),M=/^(?:head|last)$/.test(m),z=q[M?"take"+(m=="last"?"Right":""):m],Z=M||/^find/.test(m);z&&(q.prototype[m]=function(){var ne=this.__wrapped__,ae=M?[1]:arguments,ve=ne instanceof Ut,xe=ae[0],Ae=ve||At(ne),Ne=function(Bt){var Yt=z.apply(q,Jc([Bt],ae));return M&&je?Yt[0]:Yt};Ae&&R&&typeof xe=="function"&&xe.length!=1&&(ve=Ae=!1);var je=this.__chain__,nt=!!this.__actions__.length,yt=Z&&!je,Lt=ve&&!nt;if(!Z&&Ae){ne=Lt?ne:new Ut(this);var St=p.apply(ne,ae);return St.__actions__.push({func:BR,args:[Ne],thisArg:i}),new ra(St,je)}return yt&&Lt?p.apply(this,ae):(St=this.thru(Ne),yt?M?St.value()[0]:St.value():St)})}),ta(["pop","push","shift","sort","splice","unshift"],function(p){var m=fR[p],R=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",M=/^(?:pop|shift)$/.test(p);q.prototype[p]=function(){var z=arguments;if(M&&!this.__chain__){var Z=this.value();return m.apply(At(Z)?Z:[],z)}return this[R](function(ne){return m.apply(At(ne)?ne:[],z)})}}),Wl(Ut.prototype,function(p,m){var R=q[m];if(R){var M=R.name+"";Ei.call(lg,M)||(lg[M]=[]),lg[M].push({name:m,func:R})}}),lg[_R(i,S).name]=[{name:"wrapper",func:i}],Ut.prototype.clone=zde,Ut.prototype.reverse=jde,Ut.prototype.value=Kde,q.prototype.at=Efe,q.prototype.chain=bfe,q.prototype.commit=Rfe,q.prototype.next=Tfe,q.prototype.plant=Pfe,q.prototype.reverse=xfe,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=Afe,q.prototype.first=q.prototype.head,FC&&(q.prototype[FC]=Dfe),q},sg=Rde();Th?((Th.exports=sg)._=sg,dF._=sg):An._=sg}).call(Ur)})(IA,IA.exports);var U8=IA.exports;function nmt(){const[t,e]=T.useState([]);T.useEffect(()=>{i()},[]);const i=async()=>{try{const r=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/gettrainings");if(!r.ok)throw new Error("Error in fetch: "+r.statusText);const n=await r.json(),s=U8.groupBy(n,"activity"),o=Object.entries(s).map(([a,l])=>({name:a,duration:U8.sumBy(l,"duration")}));e(o)}catch(r){console.error(r)}};return Y.jsx(mst,{width:"100%",height:"100%",children:Y.jsx(rmt,{data:t,children:Y.jsx(eg,{dataKey:"duration",fill:"#8884d8"})})})}function smt(){const[t,e]=W.useState({left:!1}),i=(n,s)=>o=>{o.type==="keydown"&&(o.key==="Tab"||o.key==="Shift")||e({...t,[n]:s})},r=()=>Y.jsxs(zV,{children:[Y.jsxs(yT,{component:pT,to:"/",children:[Y.jsx(_Q,{}),Y.jsx(ST,{primary:"Customer List"})]}),Y.jsxs(yT,{component:pT,to:"/training",children:[Y.jsx(GQ,{}),Y.jsx(ST,{primary:"Training List"})]}),Y.jsxs(yT,{component:pT,to:"/calendar",children:[Y.jsx(NQ,{}),Y.jsx(ST,{primary:"Calendar"})]}),Y.jsx(yT,{component:pT,to:"/statistic",children:Y.jsx(ST,{primary:"Statistic"})})]});return Y.jsxs(JSe,{children:[Y.jsx(NTe,{position:"static",children:Y.jsxs(BTe,{children:[["left"].map(n=>Y.jsxs(W.Fragment,{children:[Y.jsx(eb,{edge:"start",color:"inherit","aria-label":"menu",onClick:i(n,!0),children:Y.jsx(LQ,{})}),Y.jsx(JDe,{anchor:"left",open:t.left,onClose:i("left",!1),children:r()})]},n)),Y.jsx(Fo,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Personal Trainer"})]})}),Y.jsxs(jSe,{children:[Y.jsx(My,{path:"/",exact:!0,Component:wUe}),Y.jsx(My,{path:"/training",exact:!0,Component:EUe}),Y.jsx(My,{path:"/calendar",exact:!0,Component:Zet}),Y.jsx(My,{path:"/statistic",exact:!0,component:nmt})]})]})}D_.createRoot(document.getElementById("root")).render(Y.jsx(W.StrictMode,{children:Y.jsx(smt,{})}));
