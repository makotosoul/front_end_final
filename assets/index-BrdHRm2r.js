function Kve(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const s=Object.getOwnPropertyDescriptor(r,n);s&&Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),i}var r9={exports:{}},VA={},n9={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE=Symbol.for("react.element"),Yve=Symbol.for("react.portal"),qve=Symbol.for("react.fragment"),Xve=Symbol.for("react.strict_mode"),Qve=Symbol.for("react.profiler"),Zve=Symbol.for("react.provider"),Jve=Symbol.for("react.context"),eCe=Symbol.for("react.forward_ref"),tCe=Symbol.for("react.suspense"),iCe=Symbol.for("react.memo"),rCe=Symbol.for("react.lazy"),Jz=Symbol.iterator;function nCe(t){return t===null||typeof t!="object"?null:(t=Jz&&t[Jz]||t["@@iterator"],typeof t=="function"?t:null)}var s9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o9=Object.assign,a9={};function Lv(t,e,i){this.props=t,this.context=e,this.refs=a9,this.updater=i||s9}Lv.prototype.isReactComponent={};Lv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l9(){}l9.prototype=Lv.prototype;function Ak(t,e,i){this.props=t,this.context=e,this.refs=a9,this.updater=i||s9}var Ok=Ak.prototype=new l9;Ok.constructor=Ak;o9(Ok,Lv.prototype);Ok.isPureReactComponent=!0;var ej=Array.isArray,u9=Object.prototype.hasOwnProperty,Mk={current:null},c9={key:!0,ref:!0,__self:!0,__source:!0};function d9(t,e,i){var r,n={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)u9.call(e,r)&&!c9.hasOwnProperty(r)&&(n[r]=e[r]);var a=arguments.length-2;if(a===1)n.children=i;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)n[r]===void 0&&(n[r]=a[r]);return{$$typeof:KE,type:t,key:s,ref:o,props:n,_owner:Mk.current}}function sCe(t,e){return{$$typeof:KE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fk(t){return typeof t=="object"&&t!==null&&t.$$typeof===KE}function oCe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var tj=/\/+/g;function bI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oCe(""+t.key):e.toString(36)}function nD(t,e,i,r,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case KE:case Yve:o=!0}}if(o)return o=t,n=n(o),t=r===""?"."+bI(o,0):r,ej(n)?(i="",t!=null&&(i=t.replace(tj,"$&/")+"/"),nD(n,e,i,"",function(u){return u})):n!=null&&(Fk(n)&&(n=sCe(n,i+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(tj,"$&/")+"/")+t)),e.push(n)),1;if(o=0,r=r===""?".":r+":",ej(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bI(s,a);o+=nD(s,e,i,l,n)}else if(l=nCe(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bI(s,a++),o+=nD(s,e,i,l,n);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tT(t,e,i){if(t==null)return t;var r=[],n=0;return nD(t,r,"","",function(s){return e.call(i,s,n++)}),r}function aCe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ts={current:null},sD={transition:null},lCe={ReactCurrentDispatcher:Ts,ReactCurrentBatchConfig:sD,ReactCurrentOwner:Mk};jt.Children={map:tT,forEach:function(t,e,i){tT(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return tT(t,function(){e++}),e},toArray:function(t){return tT(t,function(e){return e})||[]},only:function(t){if(!Fk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=Lv;jt.Fragment=qve;jt.Profiler=Qve;jt.PureComponent=Ak;jt.StrictMode=Xve;jt.Suspense=tCe;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lCe;jt.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=o9({},t.props),n=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Mk.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)u9.call(e,l)&&!c9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=i;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:KE,type:t.type,key:n,ref:s,props:r,_owner:o}};jt.createContext=function(t){return t={$$typeof:Jve,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zve,_context:t},t.Consumer=t};jt.createElement=d9;jt.createFactory=function(t){var e=d9.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:eCe,render:t}};jt.isValidElement=Fk;jt.lazy=function(t){return{$$typeof:rCe,_payload:{_status:-1,_result:t},_init:aCe}};jt.memo=function(t,e){return{$$typeof:iCe,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=sD.transition;sD.transition={};try{t()}finally{sD.transition=e}};jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};jt.useCallback=function(t,e){return Ts.current.useCallback(t,e)};jt.useContext=function(t){return Ts.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return Ts.current.useDeferredValue(t)};jt.useEffect=function(t,e){return Ts.current.useEffect(t,e)};jt.useId=function(){return Ts.current.useId()};jt.useImperativeHandle=function(t,e,i){return Ts.current.useImperativeHandle(t,e,i)};jt.useInsertionEffect=function(t,e){return Ts.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return Ts.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return Ts.current.useMemo(t,e)};jt.useReducer=function(t,e,i){return Ts.current.useReducer(t,e,i)};jt.useRef=function(t){return Ts.current.useRef(t)};jt.useState=function(t){return Ts.current.useState(t)};jt.useSyncExternalStore=function(t,e,i){return Ts.current.useSyncExternalStore(t,e,i)};jt.useTransition=function(){return Ts.current.useTransition()};jt.version="18.2.0";n9.exports=jt;var T=n9.exports;const $=Pt(T),JD=Kve({__proto__:null,default:$},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uCe=T,cCe=Symbol.for("react.element"),dCe=Symbol.for("react.fragment"),hCe=Object.prototype.hasOwnProperty,pCe=uCe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fCe={key:!0,ref:!0,__self:!0,__source:!0};function h9(t,e,i){var r,n={},s=null,o=null;i!==void 0&&(s=""+i),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hCe.call(e,r)&&!fCe.hasOwnProperty(r)&&(n[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)n[r]===void 0&&(n[r]=e[r]);return{$$typeof:cCe,type:t,key:s,ref:o,props:n,_owner:pCe.current}}VA.Fragment=dCe;VA.jsx=h9;VA.jsxs=h9;r9.exports=VA;var Y=r9.exports,I_={},p9={exports:{}},jo={},f9={exports:{}},g9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,X){var te=H.length;H.push(X);e:for(;0<te;){var le=te-1>>>1,J=H[le];if(0<n(J,X))H[le]=X,H[te]=J,te=le;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],te=H.pop();if(te!==X){H[0]=te;e:for(var le=0,J=H.length,ie=J>>>1;le<ie;){var ue=2*(le+1)-1,me=H[ue],se=ue+1,he=H[se];if(0>n(me,te))se<J&&0>n(he,me)?(H[le]=he,H[se]=te,le=se):(H[le]=me,H[ue]=te,le=ue);else if(se<J&&0>n(he,te))H[le]=he,H[se]=te,le=se;else break e}}return X}function n(H,X){var te=H.sortIndex-X.sortIndex;return te!==0?te:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,g=!1,m=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var X=i(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=H)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=i(u)}}function E(H){if(m=!1,w(H),!g)if(i(l)!==null)g=!0,j(b);else{var X=i(u);X!==null&&Q(E,X.startTime-H)}}function b(H,X){g=!1,m&&(m=!1,S(O),O=-1),f=!0;var te=h;try{for(w(X),d=i(l);d!==null&&(!(d.expirationTime>X)||H&&!I());){var le=d.callback;if(typeof le=="function"){d.callback=null,h=d.priorityLevel;var J=le(d.expirationTime<=X);X=t.unstable_now(),typeof J=="function"?d.callback=J:d===i(l)&&r(l),w(X)}else r(l);d=i(l)}if(d!==null)var ie=!0;else{var ue=i(u);ue!==null&&Q(E,ue.startTime-X),ie=!1}return ie}finally{d=null,h=te,f=!1}}var D=!1,P=null,O=-1,N=5,_=-1;function I(){return!(t.unstable_now()-_<N)}function k(){if(P!==null){var H=t.unstable_now();_=H;var X=!0;try{X=P(!0,H)}finally{X?B():(D=!1,P=null)}}else D=!1}var B;if(typeof y=="function")B=function(){y(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=k,B=function(){K.postMessage(null)}}else B=function(){C(k,0)};function j(H){P=H,D||(D=!0,B())}function Q(H,X){O=C(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,j(b))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var te=h;h=X;try{return H()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=h;h=H;try{return X()}finally{h=te}},t.unstable_scheduleCallback=function(H,X,te){var le=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,H){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=te+J,H={id:c++,callback:X,priorityLevel:H,startTime:te,expirationTime:J,sortIndex:-1},te>le?(H.sortIndex=te,e(u,H),i(l)===null&&H===i(u)&&(m?(S(O),O=-1):m=!0,Q(E,te-le))):(H.sortIndex=J,e(l,H),g||f||(g=!0,j(b))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var X=h;return function(){var te=h;h=X;try{return H.apply(this,arguments)}finally{h=te}}}})(g9);f9.exports=g9;var gCe=f9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m9=T,$o=gCe;function He(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v9=new Set,MS={};function Ef(t,e){Om(t,e),Om(t+"Capture",e)}function Om(t,e){for(MS[t]=e,t=0;t<e.length;t++)v9.add(e[t])}var fc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L_=Object.prototype.hasOwnProperty,mCe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ij={},rj={};function vCe(t){return L_.call(rj,t)?!0:L_.call(ij,t)?!1:mCe.test(t)?rj[t]=!0:(ij[t]=!0,!1)}function CCe(t,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yCe(t,e,i,r){if(e===null||typeof e>"u"||CCe(t,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ds(t,e,i,r,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new Ds(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new Ds(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new Ds(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new Ds(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new Ds(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new Ds(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new Ds(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new Ds(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new Ds(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ik=/[\-:]([a-z])/g;function Lk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ik,Lk);kn[e]=new Ds(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ik,Lk);kn[e]=new Ds(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ik,Lk);kn[e]=new Ds(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new Ds(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new Ds(t,1,!1,t.toLowerCase(),null,!0,!0)});function _k(t,e,i,r){var n=kn.hasOwnProperty(e)?kn[e]:null;(n!==null?n.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yCe(e,i,n,r)&&(i=null),r||n===null?vCe(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):n.mustUseProperty?t[n.propertyName]=i===null?n.type===3?!1:"":i:(e=n.attributeName,r=n.attributeNamespace,i===null?t.removeAttribute(e):(n=n.type,i=n===3||n===4&&i===!0?"":""+i,r?t.setAttributeNS(r,e,i):t.setAttribute(e,i))))}var _c=m9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iT=Symbol.for("react.element"),Ug=Symbol.for("react.portal"),zg=Symbol.for("react.fragment"),Nk=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),C9=Symbol.for("react.provider"),y9=Symbol.for("react.context"),Gk=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),G_=Symbol.for("react.suspense_list"),kk=Symbol.for("react.memo"),Sd=Symbol.for("react.lazy"),S9=Symbol.for("react.offscreen"),nj=Symbol.iterator;function JC(t){return t===null||typeof t!="object"?null:(t=nj&&t[nj]||t["@@iterator"],typeof t=="function"?t:null)}var vr=Object.assign,RI;function Ly(t){if(RI===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);RI=e&&e[1]||""}return`
`+RI+t}var TI=!1;function DI(t,e){if(!t||TI)return"";TI=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),s=r.stack.split(`
`),o=n.length-1,a=s.length-1;1<=o&&0<=a&&n[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(n[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||n[o]!==s[a]){var l=`
`+n[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{TI=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?Ly(t):""}function SCe(t){switch(t.tag){case 5:return Ly(t.type);case 16:return Ly("Lazy");case 13:return Ly("Suspense");case 19:return Ly("SuspenseList");case 0:case 2:case 15:return t=DI(t.type,!1),t;case 11:return t=DI(t.type.render,!1),t;case 1:return t=DI(t.type,!0),t;default:return""}}function k_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zg:return"Fragment";case Ug:return"Portal";case __:return"Profiler";case Nk:return"StrictMode";case N_:return"Suspense";case G_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y9:return(t.displayName||"Context")+".Consumer";case C9:return(t._context.displayName||"Context")+".Provider";case Gk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kk:return e=t.displayName||null,e!==null?e:k_(t.type)||"Memo";case Sd:e=t._payload,t=t._init;try{return k_(t(e))}catch{}}return null}function wCe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k_(e);case 8:return e===Nk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function w9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ECe(t){var e=w9(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rT(t){t._valueTracker||(t._valueTracker=ECe(t))}function E9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=w9(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function eP(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function V_(t,e){var i=e.checked;return vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function sj(t,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=qd(e.value!=null?e.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b9(t,e){e=e.checked,e!=null&&_k(t,"checked",e,!1)}function H_(t,e){b9(t,e);var i=qd(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$_(t,e.type,i):e.hasOwnProperty("defaultValue")&&$_(t,e.type,qd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oj(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function $_(t,e,i){(e!=="number"||eP(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var _y=Array.isArray;function um(t,e,i,r){if(t=t.options,e){e={};for(var n=0;n<i.length;n++)e["$"+i[n]]=!0;for(i=0;i<t.length;i++)n=e.hasOwnProperty("$"+t[i].value),t[i].selected!==n&&(t[i].selected=n),n&&r&&(t[i].defaultSelected=!0)}else{for(i=""+qd(i),e=null,n=0;n<t.length;n++){if(t[n].value===i){t[n].selected=!0,r&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function B_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return vr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aj(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(He(92));if(_y(i)){if(1<i.length)throw Error(He(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:qd(i)}}function R9(t,e){var i=qd(e.value),r=qd(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),r!=null&&(t.defaultValue=""+r)}function lj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function T9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?T9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nT,D9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,n){MSApp.execUnsafeLocalFunction(function(){return t(e,i,r,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nT=nT||document.createElement("div"),nT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nT.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function FS(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var sS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bCe=["Webkit","ms","Moz","O"];Object.keys(sS).forEach(function(t){bCe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sS[e]=sS[t]})});function P9(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||sS.hasOwnProperty(t)&&sS[t]?(""+e).trim():e+"px"}function x9(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,n=P9(i,e[i],r);i==="float"&&(i="cssFloat"),r?t.setProperty(i,n):t[i]=n}}var RCe=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U_(t,e){if(e){if(RCe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function z_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j_=null;function Vk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var K_=null,cm=null,dm=null;function uj(t){if(t=XE(t)){if(typeof K_!="function")throw Error(He(280));var e=t.stateNode;e&&(e=UA(e),K_(t.stateNode,t.type,e))}}function A9(t){cm?dm?dm.push(t):dm=[t]:cm=t}function O9(){if(cm){var t=cm,e=dm;if(dm=cm=null,uj(t),e)for(t=0;t<e.length;t++)uj(e[t])}}function M9(t,e){return t(e)}function F9(){}var PI=!1;function I9(t,e,i){if(PI)return t(e,i);PI=!0;try{return M9(t,e,i)}finally{PI=!1,(cm!==null||dm!==null)&&(F9(),O9())}}function IS(t,e){var i=t.stateNode;if(i===null)return null;var r=UA(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(He(231,e,typeof i));return i}var Y_=!1;if(fc)try{var ey={};Object.defineProperty(ey,"passive",{get:function(){Y_=!0}}),window.addEventListener("test",ey,ey),window.removeEventListener("test",ey,ey)}catch{Y_=!1}function TCe(t,e,i,r,n,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(c){this.onError(c)}}var oS=!1,tP=null,iP=!1,q_=null,DCe={onError:function(t){oS=!0,tP=t}};function PCe(t,e,i,r,n,s,o,a,l){oS=!1,tP=null,TCe.apply(DCe,arguments)}function xCe(t,e,i,r,n,s,o,a,l){if(PCe.apply(this,arguments),oS){if(oS){var u=tP;oS=!1,tP=null}else throw Error(He(198));iP||(iP=!0,q_=u)}}function bf(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function L9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cj(t){if(bf(t)!==t)throw Error(He(188))}function ACe(t){var e=t.alternate;if(!e){if(e=bf(t),e===null)throw Error(He(188));return e!==t?null:t}for(var i=t,r=e;;){var n=i.return;if(n===null)break;var s=n.alternate;if(s===null){if(r=n.return,r!==null){i=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===i)return cj(n),t;if(s===r)return cj(n),e;s=s.sibling}throw Error(He(188))}if(i.return!==r.return)i=n,r=s;else{for(var o=!1,a=n.child;a;){if(a===i){o=!0,i=n,r=s;break}if(a===r){o=!0,r=n,i=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===i){o=!0,i=s,r=n;break}if(a===r){o=!0,r=s,i=n;break}a=a.sibling}if(!o)throw Error(He(189))}}if(i.alternate!==r)throw Error(He(190))}if(i.tag!==3)throw Error(He(188));return i.stateNode.current===i?t:e}function _9(t){return t=ACe(t),t!==null?N9(t):null}function N9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=N9(t);if(e!==null)return e;t=t.sibling}return null}var G9=$o.unstable_scheduleCallback,dj=$o.unstable_cancelCallback,OCe=$o.unstable_shouldYield,MCe=$o.unstable_requestPaint,Fr=$o.unstable_now,FCe=$o.unstable_getCurrentPriorityLevel,Hk=$o.unstable_ImmediatePriority,k9=$o.unstable_UserBlockingPriority,rP=$o.unstable_NormalPriority,ICe=$o.unstable_LowPriority,V9=$o.unstable_IdlePriority,HA=null,fu=null;function LCe(t){if(fu&&typeof fu.onCommitFiberRoot=="function")try{fu.onCommitFiberRoot(HA,t,void 0,(t.current.flags&128)===128)}catch{}}var bl=Math.clz32?Math.clz32:GCe,_Ce=Math.log,NCe=Math.LN2;function GCe(t){return t>>>=0,t===0?32:31-(_Ce(t)/NCe|0)|0}var sT=64,oT=4194304;function Ny(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nP(t,e){var i=t.pendingLanes;if(i===0)return 0;var r=0,n=t.suspendedLanes,s=t.pingedLanes,o=i&268435455;if(o!==0){var a=o&~n;a!==0?r=Ny(a):(s&=o,s!==0&&(r=Ny(s)))}else o=i&~n,o!==0?r=Ny(o):s!==0&&(r=Ny(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&n)&&(n=r&-r,s=e&-e,n>=s||n===16&&(s&4194240)!==0))return e;if(r&4&&(r|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)i=31-bl(e),n=1<<i,r|=t[i],e&=~n;return r}function kCe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VCe(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,n=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-bl(s),a=1<<o,l=n[o];l===-1?(!(a&i)||a&r)&&(n[o]=kCe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function X_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H9(){var t=sT;return sT<<=1,!(sT&4194240)&&(sT=64),t}function xI(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function YE(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bl(e),t[e]=i}function HCe(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<i;){var n=31-bl(i),s=1<<n;e[n]=0,r[n]=-1,t[n]=-1,i&=~s}}function $k(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-bl(i),n=1<<r;n&e|t[r]&e&&(t[r]|=e),i&=~n}}var Ri=0;function $9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B9,Bk,W9,U9,z9,Q_=!1,aT=[],Ld=null,_d=null,Nd=null,LS=new Map,_S=new Map,bd=[],$Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hj(t,e){switch(t){case"focusin":case"focusout":Ld=null;break;case"dragenter":case"dragleave":_d=null;break;case"mouseover":case"mouseout":Nd=null;break;case"pointerover":case"pointerout":LS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_S.delete(e.pointerId)}}function ty(t,e,i,r,n,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:s,targetContainers:[n]},e!==null&&(e=XE(e),e!==null&&Bk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function BCe(t,e,i,r,n){switch(e){case"focusin":return Ld=ty(Ld,t,e,i,r,n),!0;case"dragenter":return _d=ty(_d,t,e,i,r,n),!0;case"mouseover":return Nd=ty(Nd,t,e,i,r,n),!0;case"pointerover":var s=n.pointerId;return LS.set(s,ty(LS.get(s)||null,t,e,i,r,n)),!0;case"gotpointercapture":return s=n.pointerId,_S.set(s,ty(_S.get(s)||null,t,e,i,r,n)),!0}return!1}function j9(t){var e=np(t.target);if(e!==null){var i=bf(e);if(i!==null){if(e=i.tag,e===13){if(e=L9(i),e!==null){t.blockedOn=e,z9(t.priority,function(){W9(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oD(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Z_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);j_=r,i.target.dispatchEvent(r),j_=null}else return e=XE(i),e!==null&&Bk(e),t.blockedOn=i,!1;e.shift()}return!0}function pj(t,e,i){oD(t)&&i.delete(e)}function WCe(){Q_=!1,Ld!==null&&oD(Ld)&&(Ld=null),_d!==null&&oD(_d)&&(_d=null),Nd!==null&&oD(Nd)&&(Nd=null),LS.forEach(pj),_S.forEach(pj)}function iy(t,e){t.blockedOn===e&&(t.blockedOn=null,Q_||(Q_=!0,$o.unstable_scheduleCallback($o.unstable_NormalPriority,WCe)))}function NS(t){function e(n){return iy(n,t)}if(0<aT.length){iy(aT[0],t);for(var i=1;i<aT.length;i++){var r=aT[i];r.blockedOn===t&&(r.blockedOn=null)}}for(Ld!==null&&iy(Ld,t),_d!==null&&iy(_d,t),Nd!==null&&iy(Nd,t),LS.forEach(e),_S.forEach(e),i=0;i<bd.length;i++)r=bd[i],r.blockedOn===t&&(r.blockedOn=null);for(;0<bd.length&&(i=bd[0],i.blockedOn===null);)j9(i),i.blockedOn===null&&bd.shift()}var hm=_c.ReactCurrentBatchConfig,sP=!0;function UCe(t,e,i,r){var n=Ri,s=hm.transition;hm.transition=null;try{Ri=1,Wk(t,e,i,r)}finally{Ri=n,hm.transition=s}}function zCe(t,e,i,r){var n=Ri,s=hm.transition;hm.transition=null;try{Ri=4,Wk(t,e,i,r)}finally{Ri=n,hm.transition=s}}function Wk(t,e,i,r){if(sP){var n=Z_(t,e,i,r);if(n===null)kI(t,e,r,oP,i),hj(t,r);else if(BCe(n,t,e,i,r))r.stopPropagation();else if(hj(t,r),e&4&&-1<$Ce.indexOf(t)){for(;n!==null;){var s=XE(n);if(s!==null&&B9(s),s=Z_(t,e,i,r),s===null&&kI(t,e,r,oP,i),s===n)break;n=s}n!==null&&r.stopPropagation()}else kI(t,e,r,null,i)}}var oP=null;function Z_(t,e,i,r){if(oP=null,t=Vk(r),t=np(t),t!==null)if(e=bf(t),e===null)t=null;else if(i=e.tag,i===13){if(t=L9(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oP=t,null}function K9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FCe()){case Hk:return 1;case k9:return 4;case rP:case ICe:return 16;case V9:return 536870912;default:return 16}default:return 16}}var xd=null,Uk=null,aD=null;function Y9(){if(aD)return aD;var t,e=Uk,i=e.length,r,n="value"in xd?xd.value:xd.textContent,s=n.length;for(t=0;t<i&&e[t]===n[t];t++);var o=i-t;for(r=1;r<=o&&e[i-r]===n[s-r];r++);return aD=n.slice(t,1<r?1-r:void 0)}function lD(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lT(){return!0}function fj(){return!1}function Ko(t){function e(i,r,n,s,o){this._reactName=i,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],this[a]=i?i(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lT:fj,this.isPropagationStopped=fj,this}return vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=lT)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=lT)},persist:function(){},isPersistent:lT}),e}var _v={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zk=Ko(_v),qE=vr({},_v,{view:0,detail:0}),jCe=Ko(qE),AI,OI,ry,$A=vr({},qE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ry&&(ry&&t.type==="mousemove"?(AI=t.screenX-ry.screenX,OI=t.screenY-ry.screenY):OI=AI=0,ry=t),AI)},movementY:function(t){return"movementY"in t?t.movementY:OI}}),gj=Ko($A),KCe=vr({},$A,{dataTransfer:0}),YCe=Ko(KCe),qCe=vr({},qE,{relatedTarget:0}),MI=Ko(qCe),XCe=vr({},_v,{animationName:0,elapsedTime:0,pseudoElement:0}),QCe=Ko(XCe),ZCe=vr({},_v,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JCe=Ko(ZCe),eye=vr({},_v,{data:0}),mj=Ko(eye),tye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nye(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rye[t])?!!e[t]:!1}function jk(){return nye}var sye=vr({},qE,{key:function(t){if(t.key){var e=tye[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lD(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iye[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jk,charCode:function(t){return t.type==="keypress"?lD(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lD(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oye=Ko(sye),aye=vr({},$A,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vj=Ko(aye),lye=vr({},qE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jk}),uye=Ko(lye),cye=vr({},_v,{propertyName:0,elapsedTime:0,pseudoElement:0}),dye=Ko(cye),hye=vr({},$A,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pye=Ko(hye),fye=[9,13,27,32],Kk=fc&&"CompositionEvent"in window,aS=null;fc&&"documentMode"in document&&(aS=document.documentMode);var gye=fc&&"TextEvent"in window&&!aS,q9=fc&&(!Kk||aS&&8<aS&&11>=aS),Cj=" ",yj=!1;function X9(t,e){switch(t){case"keyup":return fye.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jg=!1;function mye(t,e){switch(t){case"compositionend":return Q9(e);case"keypress":return e.which!==32?null:(yj=!0,Cj);case"textInput":return t=e.data,t===Cj&&yj?null:t;default:return null}}function vye(t,e){if(jg)return t==="compositionend"||!Kk&&X9(t,e)?(t=Y9(),aD=Uk=xd=null,jg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q9&&e.locale!=="ko"?null:e.data;default:return null}}var Cye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cye[t.type]:e==="textarea"}function Z9(t,e,i,r){A9(r),e=aP(e,"onChange"),0<e.length&&(i=new zk("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var lS=null,GS=null;function yye(t){u7(t,0)}function BA(t){var e=qg(t);if(E9(e))return t}function Sye(t,e){if(t==="change")return e}var J9=!1;if(fc){var FI;if(fc){var II="oninput"in document;if(!II){var wj=document.createElement("div");wj.setAttribute("oninput","return;"),II=typeof wj.oninput=="function"}FI=II}else FI=!1;J9=FI&&(!document.documentMode||9<document.documentMode)}function Ej(){lS&&(lS.detachEvent("onpropertychange",e7),GS=lS=null)}function e7(t){if(t.propertyName==="value"&&BA(GS)){var e=[];Z9(e,GS,t,Vk(t)),I9(yye,e)}}function wye(t,e,i){t==="focusin"?(Ej(),lS=e,GS=i,lS.attachEvent("onpropertychange",e7)):t==="focusout"&&Ej()}function Eye(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return BA(GS)}function bye(t,e){if(t==="click")return BA(e)}function Rye(t,e){if(t==="input"||t==="change")return BA(e)}function Tye(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xl=typeof Object.is=="function"?Object.is:Tye;function kS(t,e){if(xl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!L_.call(e,n)||!xl(t[n],e[n]))return!1}return!0}function bj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rj(t,e){var i=bj(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=bj(i)}}function t7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?t7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i7(){for(var t=window,e=eP();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=eP(t.document)}return e}function Yk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Dye(t){var e=i7(),i=t.focusedElem,r=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&t7(i.ownerDocument.documentElement,i)){if(r!==null&&Yk(i)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=i.textContent.length,s=Math.min(r.start,n);r=r.end===void 0?s:Math.min(r.end,n),!t.extend&&s>r&&(n=r,r=s,s=n),n=Rj(i,s);var o=Rj(i,r);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pye=fc&&"documentMode"in document&&11>=document.documentMode,Kg=null,J_=null,uS=null,eN=!1;function Tj(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;eN||Kg==null||Kg!==eP(r)||(r=Kg,"selectionStart"in r&&Yk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uS&&kS(uS,r)||(uS=r,r=aP(J_,"onSelect"),0<r.length&&(e=new zk("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Kg)))}function uT(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Yg={animationend:uT("Animation","AnimationEnd"),animationiteration:uT("Animation","AnimationIteration"),animationstart:uT("Animation","AnimationStart"),transitionend:uT("Transition","TransitionEnd")},LI={},r7={};fc&&(r7=document.createElement("div").style,"AnimationEvent"in window||(delete Yg.animationend.animation,delete Yg.animationiteration.animation,delete Yg.animationstart.animation),"TransitionEvent"in window||delete Yg.transitionend.transition);function WA(t){if(LI[t])return LI[t];if(!Yg[t])return t;var e=Yg[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in r7)return LI[t]=e[i];return t}var n7=WA("animationend"),s7=WA("animationiteration"),o7=WA("animationstart"),a7=WA("transitionend"),l7=new Map,Dj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lh(t,e){l7.set(t,e),Ef(e,[t])}for(var _I=0;_I<Dj.length;_I++){var NI=Dj[_I],xye=NI.toLowerCase(),Aye=NI[0].toUpperCase()+NI.slice(1);lh(xye,"on"+Aye)}lh(n7,"onAnimationEnd");lh(s7,"onAnimationIteration");lh(o7,"onAnimationStart");lh("dblclick","onDoubleClick");lh("focusin","onFocus");lh("focusout","onBlur");lh(a7,"onTransitionEnd");Om("onMouseEnter",["mouseout","mouseover"]);Om("onMouseLeave",["mouseout","mouseover"]);Om("onPointerEnter",["pointerout","pointerover"]);Om("onPointerLeave",["pointerout","pointerover"]);Ef("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ef("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ef("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ef("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ef("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ef("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gy));function Pj(t,e,i){var r=t.type||"unknown-event";t.currentTarget=i,xCe(r,e,void 0,t),t.currentTarget=null}function u7(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],n=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&n.isPropagationStopped())break e;Pj(n,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&n.isPropagationStopped())break e;Pj(n,a,u),s=l}}}if(iP)throw t=q_,iP=!1,q_=null,t}function Xi(t,e){var i=e[sN];i===void 0&&(i=e[sN]=new Set);var r=t+"__bubble";i.has(r)||(c7(e,t,2,!1),i.add(r))}function GI(t,e,i){var r=0;e&&(r|=4),c7(i,t,r,e)}var cT="_reactListening"+Math.random().toString(36).slice(2);function VS(t){if(!t[cT]){t[cT]=!0,v9.forEach(function(i){i!=="selectionchange"&&(Oye.has(i)||GI(i,!1,t),GI(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cT]||(e[cT]=!0,GI("selectionchange",!1,e))}}function c7(t,e,i,r){switch(K9(e)){case 1:var n=UCe;break;case 4:n=zCe;break;default:n=Wk}i=n.bind(null,e,i,t),n=void 0,!Y_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),r?n!==void 0?t.addEventListener(e,i,{capture:!0,passive:n}):t.addEventListener(e,i,!0):n!==void 0?t.addEventListener(e,i,{passive:n}):t.addEventListener(e,i,!1)}function kI(t,e,i,r,n){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===n||a.nodeType===8&&a.parentNode===n)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;o=o.return}for(;a!==null;){if(o=np(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}I9(function(){var u=s,c=Vk(i),d=[];e:{var h=l7.get(t);if(h!==void 0){var f=zk,g=t;switch(t){case"keypress":if(lD(i)===0)break e;case"keydown":case"keyup":f=oye;break;case"focusin":g="focus",f=MI;break;case"focusout":g="blur",f=MI;break;case"beforeblur":case"afterblur":f=MI;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=gj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=YCe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=uye;break;case n7:case s7:case o7:f=QCe;break;case a7:f=dye;break;case"scroll":f=jCe;break;case"wheel":f=pye;break;case"copy":case"cut":case"paste":f=JCe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vj}var m=(e&4)!==0,C=!m&&t==="scroll",S=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,S!==null&&(E=IS(y,S),E!=null&&m.push(HS(y,E,w)))),C)break;y=y.return}0<m.length&&(h=new f(h,g,null,i,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&i!==j_&&(g=i.relatedTarget||i.fromElement)&&(np(g)||g[gc]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=i.relatedTarget||i.toElement,f=u,g=g?np(g):null,g!==null&&(C=bf(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(m=gj,E="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=vj,E="onPointerLeave",S="onPointerEnter",y="pointer"),C=f==null?h:qg(f),w=g==null?h:qg(g),h=new m(E,y+"leave",f,i,c),h.target=C,h.relatedTarget=w,E=null,np(c)===u&&(m=new m(S,y+"enter",g,i,c),m.target=w,m.relatedTarget=C,E=m),C=E,f&&g)t:{for(m=f,S=g,y=0,w=m;w;w=yg(w))y++;for(w=0,E=S;E;E=yg(E))w++;for(;0<y-w;)m=yg(m),y--;for(;0<w-y;)S=yg(S),w--;for(;y--;){if(m===S||S!==null&&m===S.alternate)break t;m=yg(m),S=yg(S)}m=null}else m=null;f!==null&&xj(d,h,f,m,!1),g!==null&&C!==null&&xj(d,C,g,m,!0)}}e:{if(h=u?qg(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=Sye;else if(Sj(h))if(J9)b=Rye;else{b=Eye;var D=wye}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=bye);if(b&&(b=b(t,u))){Z9(d,b,i,c);break e}D&&D(t,h,u),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&$_(h,"number",h.value)}switch(D=u?qg(u):window,t){case"focusin":(Sj(D)||D.contentEditable==="true")&&(Kg=D,J_=u,uS=null);break;case"focusout":uS=J_=Kg=null;break;case"mousedown":eN=!0;break;case"contextmenu":case"mouseup":case"dragend":eN=!1,Tj(d,i,c);break;case"selectionchange":if(Pye)break;case"keydown":case"keyup":Tj(d,i,c)}var P;if(Kk)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else jg?X9(t,i)&&(O="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(O="onCompositionStart");O&&(q9&&i.locale!=="ko"&&(jg||O!=="onCompositionStart"?O==="onCompositionEnd"&&jg&&(P=Y9()):(xd=c,Uk="value"in xd?xd.value:xd.textContent,jg=!0)),D=aP(u,O),0<D.length&&(O=new mj(O,t,null,i,c),d.push({event:O,listeners:D}),P?O.data=P:(P=Q9(i),P!==null&&(O.data=P)))),(P=gye?mye(t,i):vye(t,i))&&(u=aP(u,"onBeforeInput"),0<u.length&&(c=new mj("onBeforeInput","beforeinput",null,i,c),d.push({event:c,listeners:u}),c.data=P))}u7(d,e)})}function HS(t,e,i){return{instance:t,listener:e,currentTarget:i}}function aP(t,e){for(var i=e+"Capture",r=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=IS(t,i),s!=null&&r.unshift(HS(t,s,n)),s=IS(t,e),s!=null&&r.push(HS(t,s,n))),t=t.return}return r}function yg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xj(t,e,i,r,n){for(var s=e._reactName,o=[];i!==null&&i!==r;){var a=i,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,n?(l=IS(i,s),l!=null&&o.unshift(HS(i,l,a))):n||(l=IS(i,s),l!=null&&o.push(HS(i,l,a)))),i=i.return}o.length!==0&&t.push({event:e,listeners:o})}var Mye=/\r\n?/g,Fye=/\u0000|\uFFFD/g;function Aj(t){return(typeof t=="string"?t:""+t).replace(Mye,`
`).replace(Fye,"")}function dT(t,e,i){if(e=Aj(e),Aj(t)!==e&&i)throw Error(He(425))}function lP(){}var tN=null,iN=null;function rN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nN=typeof setTimeout=="function"?setTimeout:void 0,Iye=typeof clearTimeout=="function"?clearTimeout:void 0,Oj=typeof Promise=="function"?Promise:void 0,Lye=typeof queueMicrotask=="function"?queueMicrotask:typeof Oj<"u"?function(t){return Oj.resolve(null).then(t).catch(_ye)}:nN;function _ye(t){setTimeout(function(){throw t})}function VI(t,e){var i=e,r=0;do{var n=i.nextSibling;if(t.removeChild(i),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(r===0){t.removeChild(n),NS(e);return}r--}else i!=="$"&&i!=="$?"&&i!=="$!"||r++;i=n}while(i);NS(e)}function Gd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var Nv=Math.random().toString(36).slice(2),uu="__reactFiber$"+Nv,$S="__reactProps$"+Nv,gc="__reactContainer$"+Nv,sN="__reactEvents$"+Nv,Nye="__reactListeners$"+Nv,Gye="__reactHandles$"+Nv;function np(t){var e=t[uu];if(e)return e;for(var i=t.parentNode;i;){if(e=i[gc]||i[uu]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Mj(t);t!==null;){if(i=t[uu])return i;t=Mj(t)}return e}t=i,i=t.parentNode}return null}function XE(t){return t=t[uu]||t[gc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(He(33))}function UA(t){return t[$S]||null}var oN=[],Xg=-1;function uh(t){return{current:t}}function er(t){0>Xg||(t.current=oN[Xg],oN[Xg]=null,Xg--)}function Bi(t,e){Xg++,oN[Xg]=t.current,t.current=e}var Xd={},ts=uh(Xd),Js=uh(!1),Vp=Xd;function Mm(t,e){var i=t.type.contextTypes;if(!i)return Xd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in i)n[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function eo(t){return t=t.childContextTypes,t!=null}function uP(){er(Js),er(ts)}function Fj(t,e,i){if(ts.current!==Xd)throw Error(He(168));Bi(ts,e),Bi(Js,i)}function d7(t,e,i){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var n in r)if(!(n in e))throw Error(He(108,wCe(t)||"Unknown",n));return vr({},i,r)}function cP(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xd,Vp=ts.current,Bi(ts,t),Bi(Js,Js.current),!0}function Ij(t,e,i){var r=t.stateNode;if(!r)throw Error(He(169));i?(t=d7(t,e,Vp),r.__reactInternalMemoizedMergedChildContext=t,er(Js),er(ts),Bi(ts,t)):er(Js),Bi(Js,i)}var Ju=null,zA=!1,HI=!1;function h7(t){Ju===null?Ju=[t]:Ju.push(t)}function kye(t){zA=!0,h7(t)}function ch(){if(!HI&&Ju!==null){HI=!0;var t=0,e=Ri;try{var i=Ju;for(Ri=1;t<i.length;t++){var r=i[t];do r=r(!0);while(r!==null)}Ju=null,zA=!1}catch(n){throw Ju!==null&&(Ju=Ju.slice(t+1)),G9(Hk,ch),n}finally{Ri=e,HI=!1}}return null}var Qg=[],Zg=0,dP=null,hP=0,va=[],Ca=0,Hp=null,ic=1,rc="";function Bh(t,e){Qg[Zg++]=hP,Qg[Zg++]=dP,dP=t,hP=e}function p7(t,e,i){va[Ca++]=ic,va[Ca++]=rc,va[Ca++]=Hp,Hp=t;var r=ic;t=rc;var n=32-bl(r)-1;r&=~(1<<n),i+=1;var s=32-bl(e)+n;if(30<s){var o=n-n%5;s=(r&(1<<o)-1).toString(32),r>>=o,n-=o,ic=1<<32-bl(e)+n|i<<n|r,rc=s+t}else ic=1<<s|i<<n|r,rc=t}function qk(t){t.return!==null&&(Bh(t,1),p7(t,1,0))}function Xk(t){for(;t===dP;)dP=Qg[--Zg],Qg[Zg]=null,hP=Qg[--Zg],Qg[Zg]=null;for(;t===Hp;)Hp=va[--Ca],va[Ca]=null,rc=va[--Ca],va[Ca]=null,ic=va[--Ca],va[Ca]=null}var ko=null,Fo=null,cr=!1,fl=null;function f7(t,e){var i=ba(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function Lj(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ko=t,Fo=Gd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ko=t,Fo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=Hp!==null?{id:ic,overflow:rc}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=ba(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,ko=t,Fo=null,!0):!1;default:return!1}}function aN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lN(t){if(cr){var e=Fo;if(e){var i=e;if(!Lj(t,e)){if(aN(t))throw Error(He(418));e=Gd(i.nextSibling);var r=ko;e&&Lj(t,e)?f7(r,i):(t.flags=t.flags&-4097|2,cr=!1,ko=t)}}else{if(aN(t))throw Error(He(418));t.flags=t.flags&-4097|2,cr=!1,ko=t}}}function _j(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ko=t}function hT(t){if(t!==ko)return!1;if(!cr)return _j(t),cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rN(t.type,t.memoizedProps)),e&&(e=Fo)){if(aN(t))throw g7(),Error(He(418));for(;e;)f7(t,e),e=Gd(e.nextSibling)}if(_j(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(He(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){Fo=Gd(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}Fo=null}}else Fo=ko?Gd(t.stateNode.nextSibling):null;return!0}function g7(){for(var t=Fo;t;)t=Gd(t.nextSibling)}function Fm(){Fo=ko=null,cr=!1}function Qk(t){fl===null?fl=[t]:fl.push(t)}var Vye=_c.ReactCurrentBatchConfig;function ul(t,e){if(t&&t.defaultProps){e=vr({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var pP=uh(null),fP=null,Jg=null,Zk=null;function Jk(){Zk=Jg=fP=null}function eV(t){var e=pP.current;er(pP),t._currentValue=e}function uN(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function pm(t,e){fP=t,Zk=Jg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ks=!0),t.firstContext=null)}function La(t){var e=t._currentValue;if(Zk!==t)if(t={context:t,memoizedValue:e,next:null},Jg===null){if(fP===null)throw Error(He(308));Jg=t,fP.dependencies={lanes:0,firstContext:t}}else Jg=Jg.next=t;return e}var sp=null;function tV(t){sp===null?sp=[t]:sp.push(t)}function m7(t,e,i,r){var n=e.interleaved;return n===null?(i.next=i,tV(e)):(i.next=n.next,n.next=i),e.interleaved=i,mc(t,r)}function mc(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var wd=!1;function iV(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kd(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ti&2){var n=r.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),r.pending=e,mc(t,i)}return n=r.interleaved,n===null?(e.next=e,tV(r)):(e.next=n.next,n.next=e),r.interleaved=e,mc(t,i)}function uD(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,$k(t,i)}}function Nj(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var n=null,s=null;if(i=i.firstBaseUpdate,i!==null){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};s===null?n=s=o:s=s.next=o,i=i.next}while(i!==null);s===null?n=s=e:s=s.next=e}else n=s=e;i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function gP(t,e,i,r){var n=t.updateQueue;wd=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(a!==null){n.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=n.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(h=e,f=i,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=vr({},d,h);break e;case 2:wd=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=n.effects,h===null?n.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=n.shared.pending,a===null)break;h=a,a=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(c===null&&(l=d),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,e=n.shared.interleaved,e!==null){n=e;do o|=n.lane,n=n.next;while(n!==e)}else s===null&&(n.shared.lanes=0);Bp|=o,t.lanes=o,t.memoizedState=d}}function Gj(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],n=r.callback;if(n!==null){if(r.callback=null,r=i,typeof n!="function")throw Error(He(191,n));n.call(r)}}}var C7=new m9.Component().refs;function cN(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:vr({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var jA={isMounted:function(t){return(t=t._reactInternals)?bf(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var r=Ss(),n=Hd(t),s=uc(r,n);s.payload=e,i!=null&&(s.callback=i),e=kd(t,s,n),e!==null&&(Rl(e,t,n,r),uD(e,t,n))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=Ss(),n=Hd(t),s=uc(r,n);s.tag=1,s.payload=e,i!=null&&(s.callback=i),e=kd(t,s,n),e!==null&&(Rl(e,t,n,r),uD(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Ss(),r=Hd(t),n=uc(i,r);n.tag=2,e!=null&&(n.callback=e),e=kd(t,n,r),e!==null&&(Rl(e,t,r,i),uD(e,t,r))}};function kj(t,e,i,r,n,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!kS(i,r)||!kS(n,s):!0}function y7(t,e,i){var r=!1,n=Xd,s=e.contextType;return typeof s=="object"&&s!==null?s=La(s):(n=eo(e)?Vp:ts.current,r=e.contextTypes,s=(r=r!=null)?Mm(t,n):Xd),e=new e(i,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vj(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&jA.enqueueReplaceState(e,e.state,null)}function dN(t,e,i,r){var n=t.stateNode;n.props=i,n.state=t.memoizedState,n.refs=C7,iV(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=La(s):(s=eo(e)?Vp:ts.current,n.context=Mm(t,s)),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cN(t,e,s,i),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&jA.enqueueReplaceState(n,n.state,null),gP(t,i,n,r),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function ny(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(He(309));var r=i.stateNode}if(!r)throw Error(He(147,t));var n=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=n.refs;a===C7&&(a=n.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(He(284));if(!i._owner)throw Error(He(290,t))}return t}function pT(t,e){throw t=Object.prototype.toString.call(e),Error(He(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hj(t){var e=t._init;return e(t._payload)}function S7(t){function e(S,y){if(t){var w=S.deletions;w===null?(S.deletions=[y],S.flags|=16):w.push(y)}}function i(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function n(S,y){return S=$d(S,y),S.index=0,S.sibling=null,S}function s(S,y,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<y?(S.flags|=2,y):w):(S.flags|=2,y)):(S.flags|=1048576,y)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,y,w,E){return y===null||y.tag!==6?(y=KI(w,S.mode,E),y.return=S,y):(y=n(y,w),y.return=S,y)}function l(S,y,w,E){var b=w.type;return b===zg?c(S,y,w.props.children,E,w.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sd&&Hj(b)===y.type)?(E=n(y,w.props),E.ref=ny(S,y,w),E.return=S,E):(E=gD(w.type,w.key,w.props,null,S.mode,E),E.ref=ny(S,y,w),E.return=S,E)}function u(S,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=YI(w,S.mode,E),y.return=S,y):(y=n(y,w.children||[]),y.return=S,y)}function c(S,y,w,E,b){return y===null||y.tag!==7?(y=Cp(w,S.mode,E,b),y.return=S,y):(y=n(y,w),y.return=S,y)}function d(S,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=KI(""+y,S.mode,w),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case iT:return w=gD(y.type,y.key,y.props,null,S.mode,w),w.ref=ny(S,null,y),w.return=S,w;case Ug:return y=YI(y,S.mode,w),y.return=S,y;case Sd:var E=y._init;return d(S,E(y._payload),w)}if(_y(y)||JC(y))return y=Cp(y,S.mode,w,null),y.return=S,y;pT(S,y)}return null}function h(S,y,w,E){var b=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(S,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case iT:return w.key===b?l(S,y,w,E):null;case Ug:return w.key===b?u(S,y,w,E):null;case Sd:return b=w._init,h(S,y,b(w._payload),E)}if(_y(w)||JC(w))return b!==null?null:c(S,y,w,E,null);pT(S,w)}return null}function f(S,y,w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return S=S.get(w)||null,a(y,S,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case iT:return S=S.get(E.key===null?w:E.key)||null,l(y,S,E,b);case Ug:return S=S.get(E.key===null?w:E.key)||null,u(y,S,E,b);case Sd:var D=E._init;return f(S,y,w,D(E._payload),b)}if(_y(E)||JC(E))return S=S.get(w)||null,c(y,S,E,b,null);pT(y,E)}return null}function g(S,y,w,E){for(var b=null,D=null,P=y,O=y=0,N=null;P!==null&&O<w.length;O++){P.index>O?(N=P,P=null):N=P.sibling;var _=h(S,P,w[O],E);if(_===null){P===null&&(P=N);break}t&&P&&_.alternate===null&&e(S,P),y=s(_,y,O),D===null?b=_:D.sibling=_,D=_,P=N}if(O===w.length)return i(S,P),cr&&Bh(S,O),b;if(P===null){for(;O<w.length;O++)P=d(S,w[O],E),P!==null&&(y=s(P,y,O),D===null?b=P:D.sibling=P,D=P);return cr&&Bh(S,O),b}for(P=r(S,P);O<w.length;O++)N=f(P,S,O,w[O],E),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?O:N.key),y=s(N,y,O),D===null?b=N:D.sibling=N,D=N);return t&&P.forEach(function(I){return e(S,I)}),cr&&Bh(S,O),b}function m(S,y,w,E){var b=JC(w);if(typeof b!="function")throw Error(He(150));if(w=b.call(w),w==null)throw Error(He(151));for(var D=b=null,P=y,O=y=0,N=null,_=w.next();P!==null&&!_.done;O++,_=w.next()){P.index>O?(N=P,P=null):N=P.sibling;var I=h(S,P,_.value,E);if(I===null){P===null&&(P=N);break}t&&P&&I.alternate===null&&e(S,P),y=s(I,y,O),D===null?b=I:D.sibling=I,D=I,P=N}if(_.done)return i(S,P),cr&&Bh(S,O),b;if(P===null){for(;!_.done;O++,_=w.next())_=d(S,_.value,E),_!==null&&(y=s(_,y,O),D===null?b=_:D.sibling=_,D=_);return cr&&Bh(S,O),b}for(P=r(S,P);!_.done;O++,_=w.next())_=f(P,S,O,_.value,E),_!==null&&(t&&_.alternate!==null&&P.delete(_.key===null?O:_.key),y=s(_,y,O),D===null?b=_:D.sibling=_,D=_);return t&&P.forEach(function(k){return e(S,k)}),cr&&Bh(S,O),b}function C(S,y,w,E){if(typeof w=="object"&&w!==null&&w.type===zg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case iT:e:{for(var b=w.key,D=y;D!==null;){if(D.key===b){if(b=w.type,b===zg){if(D.tag===7){i(S,D.sibling),y=n(D,w.props.children),y.return=S,S=y;break e}}else if(D.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sd&&Hj(b)===D.type){i(S,D.sibling),y=n(D,w.props),y.ref=ny(S,D,w),y.return=S,S=y;break e}i(S,D);break}else e(S,D);D=D.sibling}w.type===zg?(y=Cp(w.props.children,S.mode,E,w.key),y.return=S,S=y):(E=gD(w.type,w.key,w.props,null,S.mode,E),E.ref=ny(S,y,w),E.return=S,S=E)}return o(S);case Ug:e:{for(D=w.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){i(S,y.sibling),y=n(y,w.children||[]),y.return=S,S=y;break e}else{i(S,y);break}else e(S,y);y=y.sibling}y=YI(w,S.mode,E),y.return=S,S=y}return o(S);case Sd:return D=w._init,C(S,y,D(w._payload),E)}if(_y(w))return g(S,y,w,E);if(JC(w))return m(S,y,w,E);pT(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(i(S,y.sibling),y=n(y,w),y.return=S,S=y):(i(S,y),y=KI(w,S.mode,E),y.return=S,S=y),o(S)):i(S,y)}return C}var Im=S7(!0),w7=S7(!1),QE={},gu=uh(QE),BS=uh(QE),WS=uh(QE);function op(t){if(t===QE)throw Error(He(174));return t}function rV(t,e){switch(Bi(WS,e),Bi(BS,t),Bi(gu,QE),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:W_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=W_(e,t)}er(gu),Bi(gu,e)}function Lm(){er(gu),er(BS),er(WS)}function E7(t){op(WS.current);var e=op(gu.current),i=W_(e,t.type);e!==i&&(Bi(BS,t),Bi(gu,i))}function nV(t){BS.current===t&&(er(gu),er(BS))}var gr=uh(0);function mP(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $I=[];function sV(){for(var t=0;t<$I.length;t++)$I[t]._workInProgressVersionPrimary=null;$I.length=0}var cD=_c.ReactCurrentDispatcher,BI=_c.ReactCurrentBatchConfig,$p=0,mr=null,rn=null,pn=null,vP=!1,cS=!1,US=0,Hye=0;function Un(){throw Error(He(321))}function oV(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!xl(t[i],e[i]))return!1;return!0}function aV(t,e,i,r,n,s){if($p=s,mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cD.current=t===null||t.memoizedState===null?Uye:zye,t=i(r,n),cS){s=0;do{if(cS=!1,US=0,25<=s)throw Error(He(301));s+=1,pn=rn=null,e.updateQueue=null,cD.current=jye,t=i(r,n)}while(cS)}if(cD.current=CP,e=rn!==null&&rn.next!==null,$p=0,pn=rn=mr=null,vP=!1,e)throw Error(He(300));return t}function lV(){var t=US!==0;return US=0,t}function ru(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?mr.memoizedState=pn=t:pn=pn.next=t,pn}function _a(){if(rn===null){var t=mr.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var e=pn===null?mr.memoizedState:pn.next;if(e!==null)pn=e,rn=t;else{if(t===null)throw Error(He(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},pn===null?mr.memoizedState=pn=t:pn=pn.next=t}return pn}function zS(t,e){return typeof e=="function"?e(t):e}function WI(t){var e=_a(),i=e.queue;if(i===null)throw Error(He(311));i.lastRenderedReducer=t;var r=rn,n=r.baseQueue,s=i.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}r.baseQueue=n=s,i.pending=null}if(n!==null){s=n.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if(($p&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,mr.lanes|=c,Bp|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,xl(r,e.memoizedState)||(Ks=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,i.lastRenderedState=r}if(t=i.interleaved,t!==null){n=t;do s=n.lane,mr.lanes|=s,Bp|=s,n=n.next;while(n!==t)}else n===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function UI(t){var e=_a(),i=e.queue;if(i===null)throw Error(He(311));i.lastRenderedReducer=t;var r=i.dispatch,n=i.pending,s=e.memoizedState;if(n!==null){i.pending=null;var o=n=n.next;do s=t(s,o.action),o=o.next;while(o!==n);xl(s,e.memoizedState)||(Ks=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),i.lastRenderedState=s}return[s,r]}function b7(){}function R7(t,e){var i=mr,r=_a(),n=e(),s=!xl(r.memoizedState,n);if(s&&(r.memoizedState=n,Ks=!0),r=r.queue,uV(P7.bind(null,i,r,t),[t]),r.getSnapshot!==e||s||pn!==null&&pn.memoizedState.tag&1){if(i.flags|=2048,jS(9,D7.bind(null,i,r,n,e),void 0,null),yn===null)throw Error(He(349));$p&30||T7(i,e,n)}return n}function T7(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function D7(t,e,i,r){e.value=i,e.getSnapshot=r,x7(e)&&A7(t)}function P7(t,e,i){return i(function(){x7(e)&&A7(t)})}function x7(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!xl(t,i)}catch{return!0}}function A7(t){var e=mc(t,1);e!==null&&Rl(e,t,1,-1)}function $j(t){var e=ru();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zS,lastRenderedState:t},e.queue=t,t=t.dispatch=Wye.bind(null,mr,t),[e.memoizedState,t]}function jS(t,e,i,r){return t={tag:t,create:e,destroy:i,deps:r,next:null},e=mr.updateQueue,e===null?(e={lastEffect:null,stores:null},mr.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t)),t}function O7(){return _a().memoizedState}function dD(t,e,i,r){var n=ru();mr.flags|=t,n.memoizedState=jS(1|e,i,void 0,r===void 0?null:r)}function KA(t,e,i,r){var n=_a();r=r===void 0?null:r;var s=void 0;if(rn!==null){var o=rn.memoizedState;if(s=o.destroy,r!==null&&oV(r,o.deps)){n.memoizedState=jS(e,i,s,r);return}}mr.flags|=t,n.memoizedState=jS(1|e,i,s,r)}function Bj(t,e){return dD(8390656,8,t,e)}function uV(t,e){return KA(2048,8,t,e)}function M7(t,e){return KA(4,2,t,e)}function F7(t,e){return KA(4,4,t,e)}function I7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L7(t,e,i){return i=i!=null?i.concat([t]):null,KA(4,4,I7.bind(null,e,t),i)}function cV(){}function _7(t,e){var i=_a();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&oV(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function N7(t,e){var i=_a();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&oV(e,r[1])?r[0]:(t=t(),i.memoizedState=[t,e],t)}function G7(t,e,i){return $p&21?(xl(i,e)||(i=H9(),mr.lanes|=i,Bp|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ks=!0),t.memoizedState=i)}function $ye(t,e){var i=Ri;Ri=i!==0&&4>i?i:4,t(!0);var r=BI.transition;BI.transition={};try{t(!1),e()}finally{Ri=i,BI.transition=r}}function k7(){return _a().memoizedState}function Bye(t,e,i){var r=Hd(t);if(i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},V7(t))H7(e,i);else if(i=m7(t,e,i,r),i!==null){var n=Ss();Rl(i,t,r,n),$7(i,e,r)}}function Wye(t,e,i){var r=Hd(t),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(V7(t))H7(e,n);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,i);if(n.hasEagerState=!0,n.eagerState=a,xl(a,o)){var l=e.interleaved;l===null?(n.next=n,tV(e)):(n.next=l.next,l.next=n),e.interleaved=n;return}}catch{}finally{}i=m7(t,e,n,r),i!==null&&(n=Ss(),Rl(i,t,r,n),$7(i,e,r))}}function V7(t){var e=t.alternate;return t===mr||e!==null&&e===mr}function H7(t,e){cS=vP=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function $7(t,e,i){if(i&4194240){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,$k(t,i)}}var CP={readContext:La,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},Uye={readContext:La,useCallback:function(t,e){return ru().memoizedState=[t,e===void 0?null:e],t},useContext:La,useEffect:Bj,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,dD(4194308,4,I7.bind(null,e,t),i)},useLayoutEffect:function(t,e){return dD(4194308,4,t,e)},useInsertionEffect:function(t,e){return dD(4,2,t,e)},useMemo:function(t,e){var i=ru();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var r=ru();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bye.bind(null,mr,t),[r.memoizedState,t]},useRef:function(t){var e=ru();return t={current:t},e.memoizedState=t},useState:$j,useDebugValue:cV,useDeferredValue:function(t){return ru().memoizedState=t},useTransition:function(){var t=$j(!1),e=t[0];return t=$ye.bind(null,t[1]),ru().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var r=mr,n=ru();if(cr){if(i===void 0)throw Error(He(407));i=i()}else{if(i=e(),yn===null)throw Error(He(349));$p&30||T7(r,e,i)}n.memoizedState=i;var s={value:i,getSnapshot:e};return n.queue=s,Bj(P7.bind(null,r,s,t),[t]),r.flags|=2048,jS(9,D7.bind(null,r,s,i,e),void 0,null),i},useId:function(){var t=ru(),e=yn.identifierPrefix;if(cr){var i=rc,r=ic;i=(r&~(1<<32-bl(r)-1)).toString(32)+i,e=":"+e+"R"+i,i=US++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=Hye++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zye={readContext:La,useCallback:_7,useContext:La,useEffect:uV,useImperativeHandle:L7,useInsertionEffect:M7,useLayoutEffect:F7,useMemo:N7,useReducer:WI,useRef:O7,useState:function(){return WI(zS)},useDebugValue:cV,useDeferredValue:function(t){var e=_a();return G7(e,rn.memoizedState,t)},useTransition:function(){var t=WI(zS)[0],e=_a().memoizedState;return[t,e]},useMutableSource:b7,useSyncExternalStore:R7,useId:k7,unstable_isNewReconciler:!1},jye={readContext:La,useCallback:_7,useContext:La,useEffect:uV,useImperativeHandle:L7,useInsertionEffect:M7,useLayoutEffect:F7,useMemo:N7,useReducer:UI,useRef:O7,useState:function(){return UI(zS)},useDebugValue:cV,useDeferredValue:function(t){var e=_a();return rn===null?e.memoizedState=t:G7(e,rn.memoizedState,t)},useTransition:function(){var t=UI(zS)[0],e=_a().memoizedState;return[t,e]},useMutableSource:b7,useSyncExternalStore:R7,useId:k7,unstable_isNewReconciler:!1};function _m(t,e){try{var i="",r=e;do i+=SCe(r),r=r.return;while(r);var n=i}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n,digest:null}}function zI(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function hN(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var Kye=typeof WeakMap=="function"?WeakMap:Map;function B7(t,e,i){i=uc(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){SP||(SP=!0,EN=r),hN(t,e)},i}function W7(t,e,i){i=uc(-1,i),i.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var n=e.value;i.payload=function(){return r(n)},i.callback=function(){hN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(i.callback=function(){hN(t,e),typeof r!="function"&&(Vd===null?Vd=new Set([this]):Vd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),i}function Wj(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Kye;var n=new Set;r.set(e,n)}else n=r.get(e),n===void 0&&(n=new Set,r.set(e,n));n.has(i)||(n.add(i),t=aSe.bind(null,t,e,i),e.then(t,t))}function Uj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zj(t,e,i,r,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=uc(-1,1),e.tag=2,kd(i,e,1))),i.lanes|=1),t)}var Yye=_c.ReactCurrentOwner,Ks=!1;function gs(t,e,i,r){e.child=t===null?w7(e,null,i,r):Im(e,t.child,i,r)}function jj(t,e,i,r,n){i=i.render;var s=e.ref;return pm(e,n),r=aV(t,e,i,r,s,n),i=lV(),t!==null&&!Ks?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,vc(t,e,n)):(cr&&i&&qk(e),e.flags|=1,gs(t,e,r,n),e.child)}function Kj(t,e,i,r,n){if(t===null){var s=i.type;return typeof s=="function"&&!CV(s)&&s.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=s,U7(t,e,s,r,n)):(t=gD(i.type,null,r,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&n)){var o=s.memoizedProps;if(i=i.compare,i=i!==null?i:kS,i(o,r)&&t.ref===e.ref)return vc(t,e,n)}return e.flags|=1,t=$d(s,r),t.ref=e.ref,t.return=e,e.child=t}function U7(t,e,i,r,n){if(t!==null){var s=t.memoizedProps;if(kS(s,r)&&t.ref===e.ref)if(Ks=!1,e.pendingProps=r=s,(t.lanes&n)!==0)t.flags&131072&&(Ks=!0);else return e.lanes=t.lanes,vc(t,e,n)}return pN(t,e,i,r,n)}function z7(t,e,i){var r=e.pendingProps,n=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bi(tm,wo),wo|=i;else{if(!(i&1073741824))return t=s!==null?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bi(tm,wo),wo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:i,Bi(tm,wo),wo|=r}else s!==null?(r=s.baseLanes|i,e.memoizedState=null):r=i,Bi(tm,wo),wo|=r;return gs(t,e,n,i),e.child}function j7(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function pN(t,e,i,r,n){var s=eo(i)?Vp:ts.current;return s=Mm(e,s),pm(e,n),i=aV(t,e,i,r,s,n),r=lV(),t!==null&&!Ks?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,vc(t,e,n)):(cr&&r&&qk(e),e.flags|=1,gs(t,e,i,n),e.child)}function Yj(t,e,i,r,n){if(eo(i)){var s=!0;cP(e)}else s=!1;if(pm(e,n),e.stateNode===null)hD(t,e),y7(e,i,r),dN(e,i,r,n),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=i.contextType;typeof u=="object"&&u!==null?u=La(u):(u=eo(i)?Vp:ts.current,u=Mm(e,u));var c=i.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Vj(e,o,r,u),wd=!1;var h=e.memoizedState;o.state=h,gP(e,r,o,n),l=e.memoizedState,a!==r||h!==l||Js.current||wd?(typeof c=="function"&&(cN(e,i,c,r),l=e.memoizedState),(a=wd||kj(e,i,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,v7(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ul(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=i.contextType,typeof l=="object"&&l!==null?l=La(l):(l=eo(i)?Vp:ts.current,l=Mm(e,l));var f=i.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Vj(e,o,r,l),wd=!1,h=e.memoizedState,o.state=h,gP(e,r,o,n);var g=e.memoizedState;a!==d||h!==g||Js.current||wd?(typeof f=="function"&&(cN(e,i,f,r),g=e.memoizedState),(u=wd||kj(e,i,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return fN(t,e,i,r,s,n)}function fN(t,e,i,r,n,s){j7(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return n&&Ij(e,i,!1),vc(t,e,s);r=e.stateNode,Yye.current=e;var a=o&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Im(e,t.child,null,s),e.child=Im(e,null,a,s)):gs(t,e,a,s),e.memoizedState=r.state,n&&Ij(e,i,!0),e.child}function K7(t){var e=t.stateNode;e.pendingContext?Fj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fj(t,e.context,!1),rV(t,e.containerInfo)}function qj(t,e,i,r,n){return Fm(),Qk(n),e.flags|=256,gs(t,e,i,r),e.child}var gN={dehydrated:null,treeContext:null,retryLane:0};function mN(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y7(t,e,i){var r=e.pendingProps,n=gr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(n&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Bi(gr,n&1),t===null)return lN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=XA(o,r,0,null),t=Cp(t,r,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mN(i),e.memoizedState=gN,t):dV(e,o));if(n=t.memoizedState,n!==null&&(a=n.dehydrated,a!==null))return qye(t,e,o,r,a,n,i);if(s){s=r.fallback,o=e.mode,n=t.child,a=n.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==n?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$d(n,l),r.subtreeFlags=n.subtreeFlags&14680064),a!==null?s=$d(a,s):(s=Cp(s,o,i,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mN(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~i,e.memoizedState=gN,r}return s=t.child,t=s.sibling,r=$d(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=i),r.return=e,r.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function dV(t,e){return e=XA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fT(t,e,i,r){return r!==null&&Qk(r),Im(e,t.child,null,i),t=dV(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qye(t,e,i,r,n,s,o){if(i)return e.flags&256?(e.flags&=-257,r=zI(Error(He(422))),fT(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,n=e.mode,r=XA({mode:"visible",children:r.children},n,0,null),s=Cp(s,n,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Im(e,t.child,null,o),e.child.memoizedState=mN(o),e.memoizedState=gN,s);if(!(e.mode&1))return fT(t,e,o,null);if(n.data==="$!"){if(r=n.nextSibling&&n.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(He(419)),r=zI(s,r,void 0),fT(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ks||a){if(r=yn,r!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(r.suspendedLanes|o)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,mc(t,n),Rl(r,t,n,-1))}return vV(),r=zI(Error(He(421))),fT(t,e,o,r)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=lSe.bind(null,t),n._reactRetry=e,null):(t=s.treeContext,Fo=Gd(n.nextSibling),ko=e,cr=!0,fl=null,t!==null&&(va[Ca++]=ic,va[Ca++]=rc,va[Ca++]=Hp,ic=t.id,rc=t.overflow,Hp=e),e=dV(e,r.children),e.flags|=4096,e)}function Xj(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uN(t.return,e,i)}function jI(t,e,i,r,n){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=i,s.tailMode=n)}function q7(t,e,i){var r=e.pendingProps,n=r.revealOrder,s=r.tail;if(gs(t,e,r.children,i),r=gr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xj(t,i,e);else if(t.tag===19)Xj(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bi(gr,r),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(i=e.child,n=null;i!==null;)t=i.alternate,t!==null&&mP(t)===null&&(n=i),i=i.sibling;i=n,i===null?(n=e.child,e.child=null):(n=i.sibling,i.sibling=null),jI(e,!1,n,i,s);break;case"backwards":for(i=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&mP(t)===null){e.child=n;break}t=n.sibling,n.sibling=i,i=n,n=t}jI(e,!0,i,null,s);break;case"together":jI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hD(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vc(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Bp|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(He(153));if(e.child!==null){for(t=e.child,i=$d(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=$d(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Xye(t,e,i){switch(e.tag){case 3:K7(e),Fm();break;case 5:E7(e);break;case 1:eo(e.type)&&cP(e);break;case 4:rV(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,n=e.memoizedProps.value;Bi(pP,r._currentValue),r._currentValue=n;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bi(gr,gr.current&1),e.flags|=128,null):i&e.child.childLanes?Y7(t,e,i):(Bi(gr,gr.current&1),t=vc(t,e,i),t!==null?t.sibling:null);Bi(gr,gr.current&1);break;case 19:if(r=(i&e.childLanes)!==0,t.flags&128){if(r)return q7(t,e,i);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Bi(gr,gr.current),r)break;return null;case 22:case 23:return e.lanes=0,z7(t,e,i)}return vc(t,e,i)}var X7,vN,Q7,Z7;X7=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};vN=function(){};Q7=function(t,e,i,r){var n=t.memoizedProps;if(n!==r){t=e.stateNode,op(gu.current);var s=null;switch(i){case"input":n=V_(t,n),r=V_(t,r),s=[];break;case"select":n=vr({},n,{value:void 0}),r=vr({},r,{value:void 0}),s=[];break;case"textarea":n=B_(t,n),r=B_(t,r),s=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lP)}U_(i,r);var o;i=null;for(u in n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var a=n[u];for(o in a)a.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(MS.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=n!=null?n[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(i||(i={}),i[o]=l[o])}else i||(s||(s=[]),s.push(u,i)),i=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(MS.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xi("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}i&&(s=s||[]).push("style",i);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Z7=function(t,e,i,r){i!==r&&(e.flags|=4)};function sy(t,e){if(!cr)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var n=t.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags&14680064,r|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function Qye(t,e,i){var r=e.pendingProps;switch(Xk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(e),null;case 1:return eo(e.type)&&uP(),zn(e),null;case 3:return r=e.stateNode,Lm(),er(Js),er(ts),sV(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hT(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fl!==null&&(TN(fl),fl=null))),vN(t,e),zn(e),null;case 5:nV(e);var n=op(WS.current);if(i=e.type,t!==null&&e.stateNode!=null)Q7(t,e,i,r,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(He(166));return zn(e),null}if(t=op(gu.current),hT(e)){r=e.stateNode,i=e.type;var s=e.memoizedProps;switch(r[uu]=e,r[$S]=s,t=(e.mode&1)!==0,i){case"dialog":Xi("cancel",r),Xi("close",r);break;case"iframe":case"object":case"embed":Xi("load",r);break;case"video":case"audio":for(n=0;n<Gy.length;n++)Xi(Gy[n],r);break;case"source":Xi("error",r);break;case"img":case"image":case"link":Xi("error",r),Xi("load",r);break;case"details":Xi("toggle",r);break;case"input":sj(r,s),Xi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xi("invalid",r);break;case"textarea":aj(r,s),Xi("invalid",r)}U_(i,s),n=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dT(r.textContent,a,t),n=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dT(r.textContent,a,t),n=["children",""+a]):MS.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xi("scroll",r)}switch(i){case"input":rT(r),oj(r,s,!0);break;case"textarea":rT(r),lj(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lP)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=T9(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(i,{is:r.is}):(t=o.createElement(i),i==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,i),t[uu]=e,t[$S]=r,X7(t,e,!1,!1),e.stateNode=t;e:{switch(o=z_(i,r),i){case"dialog":Xi("cancel",t),Xi("close",t),n=r;break;case"iframe":case"object":case"embed":Xi("load",t),n=r;break;case"video":case"audio":for(n=0;n<Gy.length;n++)Xi(Gy[n],t);n=r;break;case"source":Xi("error",t),n=r;break;case"img":case"image":case"link":Xi("error",t),Xi("load",t),n=r;break;case"details":Xi("toggle",t),n=r;break;case"input":sj(t,r),n=V_(t,r),Xi("invalid",t);break;case"option":n=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},n=vr({},r,{value:void 0}),Xi("invalid",t);break;case"textarea":aj(t,r),n=B_(t,r),Xi("invalid",t);break;default:n=r}U_(i,n),a=n;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?x9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D9(t,l)):s==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&FS(t,l):typeof l=="number"&&FS(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(MS.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xi("scroll",t):l!=null&&_k(t,s,l,o))}switch(i){case"input":rT(t),oj(t,r,!1);break;case"textarea":rT(t),lj(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qd(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?um(t,!!r.multiple,s,!1):r.defaultValue!=null&&um(t,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=lP)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zn(e),null;case 6:if(t&&e.stateNode!=null)Z7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(He(166));if(i=op(WS.current),op(gu.current),hT(e)){if(r=e.stateNode,i=e.memoizedProps,r[uu]=e,(s=r.nodeValue!==i)&&(t=ko,t!==null))switch(t.tag){case 3:dT(r.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dT(r.nodeValue,i,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[uu]=e,e.stateNode=r}return zn(e),null;case 13:if(er(gr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cr&&Fo!==null&&e.mode&1&&!(e.flags&128))g7(),Fm(),e.flags|=98560,s=!1;else if(s=hT(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[uu]=e}else Fm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zn(e),s=!1}else fl!==null&&(TN(fl),fl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gr.current&1?nn===0&&(nn=3):vV())),e.updateQueue!==null&&(e.flags|=4),zn(e),null);case 4:return Lm(),vN(t,e),t===null&&VS(e.stateNode.containerInfo),zn(e),null;case 10:return eV(e.type._context),zn(e),null;case 17:return eo(e.type)&&uP(),zn(e),null;case 19:if(er(gr),s=e.memoizedState,s===null)return zn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sy(s,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mP(t),o!==null){for(e.flags|=128,sy(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=i,i=e.child;i!==null;)s=i,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Bi(gr,gr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fr()>Nm&&(e.flags|=128,r=!0,sy(s,!1),e.lanes=4194304)}else{if(!r)if(t=mP(o),t!==null){if(e.flags|=128,r=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),sy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cr)return zn(e),null}else 2*Fr()-s.renderingStartTime>Nm&&i!==1073741824&&(e.flags|=128,r=!0,sy(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(i=s.last,i!==null?i.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fr(),e.sibling=null,i=gr.current,Bi(gr,r?i&1|2:i&1),e):(zn(e),null);case 22:case 23:return mV(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wo&1073741824&&(zn(e),e.subtreeFlags&6&&(e.flags|=8192)):zn(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function Zye(t,e){switch(Xk(e),e.tag){case 1:return eo(e.type)&&uP(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lm(),er(Js),er(ts),sV(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nV(e),null;case 13:if(er(gr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(He(340));Fm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(gr),null;case 4:return Lm(),null;case 10:return eV(e.type._context),null;case 22:case 23:return mV(),null;case 24:return null;default:return null}}var gT=!1,qn=!1,Jye=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function em(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(r){Er(t,e,r)}else i.current=null}function CN(t,e,i){try{i()}catch(r){Er(t,e,r)}}var Qj=!1;function eSe(t,e){if(tN=sP,t=i7(),Yk(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var n=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{i.nodeType,s.nodeType}catch{i=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==i||n!==0&&d.nodeType!==3||(a=o+n),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===i&&++u===n&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}i=a===-1||l===-1?null:{start:a,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(iN={focusedElem:t,selectionRange:i},sP=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){e=Ze;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,C=g.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?m:ul(e.type,m),C);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(E){Er(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}return g=Qj,Qj=!1,g}function dS(t,e,i){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&t)===t){var s=n.destroy;n.destroy=void 0,s!==void 0&&CN(e,i,s)}n=n.next}while(n!==r)}}function YA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var r=i.create;i.destroy=r()}i=i.next}while(i!==e)}}function yN(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function J7(t){var e=t.alternate;e!==null&&(t.alternate=null,J7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[uu],delete e[$S],delete e[sN],delete e[Nye],delete e[Gye])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eX(t){return t.tag===5||t.tag===3||t.tag===4}function Zj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function SN(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=lP));else if(r!==4&&(t=t.child,t!==null))for(SN(t,e,i),t=t.sibling;t!==null;)SN(t,e,i),t=t.sibling}function wN(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wN(t,e,i),t=t.sibling;t!==null;)wN(t,e,i),t=t.sibling}var Fn=null,cl=!1;function hd(t,e,i){for(i=i.child;i!==null;)tX(t,e,i),i=i.sibling}function tX(t,e,i){if(fu&&typeof fu.onCommitFiberUnmount=="function")try{fu.onCommitFiberUnmount(HA,i)}catch{}switch(i.tag){case 5:qn||em(i,e);case 6:var r=Fn,n=cl;Fn=null,hd(t,e,i),Fn=r,cl=n,Fn!==null&&(cl?(t=Fn,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Fn.removeChild(i.stateNode));break;case 18:Fn!==null&&(cl?(t=Fn,i=i.stateNode,t.nodeType===8?VI(t.parentNode,i):t.nodeType===1&&VI(t,i),NS(t)):VI(Fn,i.stateNode));break;case 4:r=Fn,n=cl,Fn=i.stateNode.containerInfo,cl=!0,hd(t,e,i),Fn=r,cl=n;break;case 0:case 11:case 14:case 15:if(!qn&&(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){n=r=r.next;do{var s=n,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&CN(i,e,o),n=n.next}while(n!==r)}hd(t,e,i);break;case 1:if(!qn&&(em(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(a){Er(i,e,a)}hd(t,e,i);break;case 21:hd(t,e,i);break;case 22:i.mode&1?(qn=(r=qn)||i.memoizedState!==null,hd(t,e,i),qn=r):hd(t,e,i);break;default:hd(t,e,i)}}function Jj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Jye),e.forEach(function(r){var n=uSe.bind(null,t,r);i.has(r)||(i.add(r),r.then(n,n))})}}function ol(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var n=i[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,cl=!1;break e;case 3:Fn=a.stateNode.containerInfo,cl=!0;break e;case 4:Fn=a.stateNode.containerInfo,cl=!0;break e}a=a.return}if(Fn===null)throw Error(He(160));tX(s,o,n),Fn=null,cl=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(u){Er(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iX(e,t),e=e.sibling}function iX(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ol(e,t),Yl(t),r&4){try{dS(3,t,t.return),YA(3,t)}catch(m){Er(t,t.return,m)}try{dS(5,t,t.return)}catch(m){Er(t,t.return,m)}}break;case 1:ol(e,t),Yl(t),r&512&&i!==null&&em(i,i.return);break;case 5:if(ol(e,t),Yl(t),r&512&&i!==null&&em(i,i.return),t.flags&32){var n=t.stateNode;try{FS(n,"")}catch(m){Er(t,t.return,m)}}if(r&4&&(n=t.stateNode,n!=null)){var s=t.memoizedProps,o=i!==null?i.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&b9(n,s),z_(a,o);var u=z_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?x9(n,d):c==="dangerouslySetInnerHTML"?D9(n,d):c==="children"?FS(n,d):_k(n,c,d,u)}switch(a){case"input":H_(n,s);break;case"textarea":R9(n,s);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?um(n,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?um(n,!!s.multiple,s.defaultValue,!0):um(n,!!s.multiple,s.multiple?[]:"",!1))}n[$S]=s}catch(m){Er(t,t.return,m)}}break;case 6:if(ol(e,t),Yl(t),r&4){if(t.stateNode===null)throw Error(He(162));n=t.stateNode,s=t.memoizedProps;try{n.nodeValue=s}catch(m){Er(t,t.return,m)}}break;case 3:if(ol(e,t),Yl(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{NS(e.containerInfo)}catch(m){Er(t,t.return,m)}break;case 4:ol(e,t),Yl(t);break;case 13:ol(e,t),Yl(t),n=t.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(fV=Fr())),r&4&&Jj(t);break;case 22:if(c=i!==null&&i.memoizedState!==null,t.mode&1?(qn=(u=qn)||c,ol(e,t),qn=u):ol(e,t),Yl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ze=t,c=t.child;c!==null;){for(d=Ze=c;Ze!==null;){switch(h=Ze,f=h.child,h.tag){case 0:case 11:case 14:case 15:dS(4,h,h.return);break;case 1:em(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,i=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Er(r,i,m)}}break;case 5:em(h,h.return);break;case 22:if(h.memoizedState!==null){t3(d);continue}}f!==null?(f.return=h,Ze=f):t3(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{n=d.stateNode,u?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=P9("display",o))}catch(m){Er(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Er(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ol(e,t),Yl(t),r&4&&Jj(t);break;case 21:break;default:ol(e,t),Yl(t)}}function Yl(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(eX(i)){var r=i;break e}i=i.return}throw Error(He(160))}switch(r.tag){case 5:var n=r.stateNode;r.flags&32&&(FS(n,""),r.flags&=-33);var s=Zj(t);wN(t,s,n);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zj(t);SN(t,a,o);break;default:throw Error(He(161))}}catch(l){Er(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tSe(t,e,i){Ze=t,rX(t)}function rX(t,e,i){for(var r=(t.mode&1)!==0;Ze!==null;){var n=Ze,s=n.child;if(n.tag===22&&r){var o=n.memoizedState!==null||gT;if(!o){var a=n.alternate,l=a!==null&&a.memoizedState!==null||qn;a=gT;var u=qn;if(gT=o,(qn=l)&&!u)for(Ze=n;Ze!==null;)o=Ze,l=o.child,o.tag===22&&o.memoizedState!==null?i3(n):l!==null?(l.return=o,Ze=l):i3(n);for(;s!==null;)Ze=s,rX(s),s=s.sibling;Ze=n,gT=a,qn=u}e3(t)}else n.subtreeFlags&8772&&s!==null?(s.return=n,Ze=s):e3(t)}}function e3(t){for(;Ze!==null;){var e=Ze;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qn||YA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qn)if(i===null)r.componentDidMount();else{var n=e.elementType===e.type?i.memoizedProps:ul(e.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Gj(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}Gj(e,o,i)}break;case 5:var a=e.stateNode;if(i===null&&e.flags&4){i=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&NS(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}qn||e.flags&512&&yN(e)}catch(h){Er(e,e.return,h)}}if(e===t){Ze=null;break}if(i=e.sibling,i!==null){i.return=e.return,Ze=i;break}Ze=e.return}}function t3(t){for(;Ze!==null;){var e=Ze;if(e===t){Ze=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Ze=i;break}Ze=e.return}}function i3(t){for(;Ze!==null;){var e=Ze;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{YA(4,e)}catch(l){Er(e,i,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var n=e.return;try{r.componentDidMount()}catch(l){Er(e,n,l)}}var s=e.return;try{yN(e)}catch(l){Er(e,s,l)}break;case 5:var o=e.return;try{yN(e)}catch(l){Er(e,o,l)}}}catch(l){Er(e,e.return,l)}if(e===t){Ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ze=a;break}Ze=e.return}}var iSe=Math.ceil,yP=_c.ReactCurrentDispatcher,hV=_c.ReactCurrentOwner,Pa=_c.ReactCurrentBatchConfig,ti=0,yn=null,zr=null,Gn=0,wo=0,tm=uh(0),nn=0,KS=null,Bp=0,qA=0,pV=0,hS=null,js=null,fV=0,Nm=1/0,Qu=null,SP=!1,EN=null,Vd=null,mT=!1,Ad=null,wP=0,pS=0,bN=null,pD=-1,fD=0;function Ss(){return ti&6?Fr():pD!==-1?pD:pD=Fr()}function Hd(t){return t.mode&1?ti&2&&Gn!==0?Gn&-Gn:Vye.transition!==null?(fD===0&&(fD=H9()),fD):(t=Ri,t!==0||(t=window.event,t=t===void 0?16:K9(t.type)),t):1}function Rl(t,e,i,r){if(50<pS)throw pS=0,bN=null,Error(He(185));YE(t,i,r),(!(ti&2)||t!==yn)&&(t===yn&&(!(ti&2)&&(qA|=i),nn===4&&Rd(t,Gn)),to(t,r),i===1&&ti===0&&!(e.mode&1)&&(Nm=Fr()+500,zA&&ch()))}function to(t,e){var i=t.callbackNode;VCe(t,e);var r=nP(t,t===yn?Gn:0);if(r===0)i!==null&&dj(i),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(i!=null&&dj(i),e===1)t.tag===0?kye(r3.bind(null,t)):h7(r3.bind(null,t)),Lye(function(){!(ti&6)&&ch()}),i=null;else{switch($9(r)){case 1:i=Hk;break;case 4:i=k9;break;case 16:i=rP;break;case 536870912:i=V9;break;default:i=rP}i=dX(i,nX.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function nX(t,e){if(pD=-1,fD=0,ti&6)throw Error(He(327));var i=t.callbackNode;if(fm()&&t.callbackNode!==i)return null;var r=nP(t,t===yn?Gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=EP(t,r);else{e=r;var n=ti;ti|=2;var s=oX();(yn!==t||Gn!==e)&&(Qu=null,Nm=Fr()+500,vp(t,e));do try{sSe();break}catch(a){sX(t,a)}while(!0);Jk(),yP.current=s,ti=n,zr!==null?e=0:(yn=null,Gn=0,e=nn)}if(e!==0){if(e===2&&(n=X_(t),n!==0&&(r=n,e=RN(t,n))),e===1)throw i=KS,vp(t,0),Rd(t,r),to(t,Fr()),i;if(e===6)Rd(t,r);else{if(n=t.current.alternate,!(r&30)&&!rSe(n)&&(e=EP(t,r),e===2&&(s=X_(t),s!==0&&(r=s,e=RN(t,s))),e===1))throw i=KS,vp(t,0),Rd(t,r),to(t,Fr()),i;switch(t.finishedWork=n,t.finishedLanes=r,e){case 0:case 1:throw Error(He(345));case 2:Wh(t,js,Qu);break;case 3:if(Rd(t,r),(r&130023424)===r&&(e=fV+500-Fr(),10<e)){if(nP(t,0)!==0)break;if(n=t.suspendedLanes,(n&r)!==r){Ss(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=nN(Wh.bind(null,t,js,Qu),e);break}Wh(t,js,Qu);break;case 4:if(Rd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,n=-1;0<r;){var o=31-bl(r);s=1<<o,o=e[o],o>n&&(n=o),r&=~s}if(r=n,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iSe(r/1960))-r,10<r){t.timeoutHandle=nN(Wh.bind(null,t,js,Qu),r);break}Wh(t,js,Qu);break;case 5:Wh(t,js,Qu);break;default:throw Error(He(329))}}}return to(t,Fr()),t.callbackNode===i?nX.bind(null,t):null}function RN(t,e){var i=hS;return t.current.memoizedState.isDehydrated&&(vp(t,e).flags|=256),t=EP(t,e),t!==2&&(e=js,js=i,e!==null&&TN(e)),t}function TN(t){js===null?js=t:js.push.apply(js,t)}function rSe(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var r=0;r<i.length;r++){var n=i[r],s=n.getSnapshot;n=n.value;try{if(!xl(s(),n))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rd(t,e){for(e&=~pV,e&=~qA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-bl(e),r=1<<i;t[i]=-1,e&=~r}}function r3(t){if(ti&6)throw Error(He(327));fm();var e=nP(t,0);if(!(e&1))return to(t,Fr()),null;var i=EP(t,e);if(t.tag!==0&&i===2){var r=X_(t);r!==0&&(e=r,i=RN(t,r))}if(i===1)throw i=KS,vp(t,0),Rd(t,e),to(t,Fr()),i;if(i===6)throw Error(He(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wh(t,js,Qu),to(t,Fr()),null}function gV(t,e){var i=ti;ti|=1;try{return t(e)}finally{ti=i,ti===0&&(Nm=Fr()+500,zA&&ch())}}function Wp(t){Ad!==null&&Ad.tag===0&&!(ti&6)&&fm();var e=ti;ti|=1;var i=Pa.transition,r=Ri;try{if(Pa.transition=null,Ri=1,t)return t()}finally{Ri=r,Pa.transition=i,ti=e,!(ti&6)&&ch()}}function mV(){wo=tm.current,er(tm)}function vp(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,Iye(i)),zr!==null)for(i=zr.return;i!==null;){var r=i;switch(Xk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uP();break;case 3:Lm(),er(Js),er(ts),sV();break;case 5:nV(r);break;case 4:Lm();break;case 13:er(gr);break;case 19:er(gr);break;case 10:eV(r.type._context);break;case 22:case 23:mV()}i=i.return}if(yn=t,zr=t=$d(t.current,null),Gn=wo=e,nn=0,KS=null,pV=qA=Bp=0,js=hS=null,sp!==null){for(e=0;e<sp.length;e++)if(i=sp[e],r=i.interleaved,r!==null){i.interleaved=null;var n=r.next,s=i.pending;if(s!==null){var o=s.next;s.next=n,r.next=o}i.pending=r}sp=null}return t}function sX(t,e){do{var i=zr;try{if(Jk(),cD.current=CP,vP){for(var r=mr.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}vP=!1}if($p=0,pn=rn=mr=null,cS=!1,US=0,hV.current=null,i===null||i.return===null){nn=1,KS=e,zr=null;break}e:{var s=t,o=i.return,a=i,l=e;if(e=Gn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Uj(o);if(f!==null){f.flags&=-257,zj(f,o,a,s,e),f.mode&1&&Wj(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Wj(s,u,e),vV();break e}l=Error(He(426))}}else if(cr&&a.mode&1){var C=Uj(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),zj(C,o,a,s,e),Qk(_m(l,a));break e}}s=l=_m(l,a),nn!==4&&(nn=2),hS===null?hS=[s]:hS.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=B7(s,l,e);Nj(s,S);break e;case 1:a=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vd===null||!Vd.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=W7(s,a,e);Nj(s,E);break e}}s=s.return}while(s!==null)}lX(i)}catch(b){e=b,zr===i&&i!==null&&(zr=i=i.return);continue}break}while(!0)}function oX(){var t=yP.current;return yP.current=CP,t===null?CP:t}function vV(){(nn===0||nn===3||nn===2)&&(nn=4),yn===null||!(Bp&268435455)&&!(qA&268435455)||Rd(yn,Gn)}function EP(t,e){var i=ti;ti|=2;var r=oX();(yn!==t||Gn!==e)&&(Qu=null,vp(t,e));do try{nSe();break}catch(n){sX(t,n)}while(!0);if(Jk(),ti=i,yP.current=r,zr!==null)throw Error(He(261));return yn=null,Gn=0,nn}function nSe(){for(;zr!==null;)aX(zr)}function sSe(){for(;zr!==null&&!OCe();)aX(zr)}function aX(t){var e=cX(t.alternate,t,wo);t.memoizedProps=t.pendingProps,e===null?lX(t):zr=e,hV.current=null}function lX(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=Zye(i,e),i!==null){i.flags&=32767,zr=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,zr=null;return}}else if(i=Qye(i,e,wo),i!==null){zr=i;return}if(e=e.sibling,e!==null){zr=e;return}zr=e=t}while(e!==null);nn===0&&(nn=5)}function Wh(t,e,i){var r=Ri,n=Pa.transition;try{Pa.transition=null,Ri=1,oSe(t,e,i,r)}finally{Pa.transition=n,Ri=r}return null}function oSe(t,e,i,r){do fm();while(Ad!==null);if(ti&6)throw Error(He(327));i=t.finishedWork;var n=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(He(177));t.callbackNode=null,t.callbackPriority=0;var s=i.lanes|i.childLanes;if(HCe(t,s),t===yn&&(zr=yn=null,Gn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||mT||(mT=!0,dX(rP,function(){return fm(),null})),s=(i.flags&15990)!==0,i.subtreeFlags&15990||s){s=Pa.transition,Pa.transition=null;var o=Ri;Ri=1;var a=ti;ti|=4,hV.current=null,eSe(t,i),iX(i,t),Dye(iN),sP=!!tN,iN=tN=null,t.current=i,tSe(i),MCe(),ti=a,Ri=o,Pa.transition=s}else t.current=i;if(mT&&(mT=!1,Ad=t,wP=n),s=t.pendingLanes,s===0&&(Vd=null),LCe(i.stateNode),to(t,Fr()),e!==null)for(r=t.onRecoverableError,i=0;i<e.length;i++)n=e[i],r(n.value,{componentStack:n.stack,digest:n.digest});if(SP)throw SP=!1,t=EN,EN=null,t;return wP&1&&t.tag!==0&&fm(),s=t.pendingLanes,s&1?t===bN?pS++:(pS=0,bN=t):pS=0,ch(),null}function fm(){if(Ad!==null){var t=$9(wP),e=Pa.transition,i=Ri;try{if(Pa.transition=null,Ri=16>t?16:t,Ad===null)var r=!1;else{if(t=Ad,Ad=null,wP=0,ti&6)throw Error(He(331));var n=ti;for(ti|=4,Ze=t.current;Ze!==null;){var s=Ze,o=s.child;if(Ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ze=u;Ze!==null;){var c=Ze;switch(c.tag){case 0:case 11:case 15:dS(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ze=d;else for(;Ze!==null;){c=Ze;var h=c.sibling,f=c.return;if(J7(c),c===u){Ze=null;break}if(h!==null){h.return=f,Ze=h;break}Ze=f}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var C=m.sibling;m.sibling=null,m=C}while(m!==null)}}Ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ze=o;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dS(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Ze=S;break e}Ze=s.return}}var y=t.current;for(Ze=y;Ze!==null;){o=Ze;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ze=w;else e:for(o=y;Ze!==null;){if(a=Ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:YA(9,a)}}catch(b){Er(a,a.return,b)}if(a===o){Ze=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ze=E;break e}Ze=a.return}}if(ti=n,ch(),fu&&typeof fu.onPostCommitFiberRoot=="function")try{fu.onPostCommitFiberRoot(HA,t)}catch{}r=!0}return r}finally{Ri=i,Pa.transition=e}}return!1}function n3(t,e,i){e=_m(i,e),e=B7(t,e,1),t=kd(t,e,1),e=Ss(),t!==null&&(YE(t,1,e),to(t,e))}function Er(t,e,i){if(t.tag===3)n3(t,t,i);else for(;e!==null;){if(e.tag===3){n3(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vd===null||!Vd.has(r))){t=_m(i,t),t=W7(e,t,1),e=kd(e,t,1),t=Ss(),e!==null&&(YE(e,1,t),to(e,t));break}}e=e.return}}function aSe(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),e=Ss(),t.pingedLanes|=t.suspendedLanes&i,yn===t&&(Gn&i)===i&&(nn===4||nn===3&&(Gn&130023424)===Gn&&500>Fr()-fV?vp(t,0):pV|=i),to(t,e)}function uX(t,e){e===0&&(t.mode&1?(e=oT,oT<<=1,!(oT&130023424)&&(oT=4194304)):e=1);var i=Ss();t=mc(t,e),t!==null&&(YE(t,e,i),to(t,i))}function lSe(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),uX(t,i)}function uSe(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,n=t.memoizedState;n!==null&&(i=n.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(e),uX(t,i)}var cX;cX=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||Js.current)Ks=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return Ks=!1,Xye(t,e,i);Ks=!!(t.flags&131072)}else Ks=!1,cr&&e.flags&1048576&&p7(e,hP,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hD(t,e),t=e.pendingProps;var n=Mm(e,ts.current);pm(e,i),n=aV(null,e,r,t,n,i);var s=lV();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,eo(r)?(s=!0,cP(e)):s=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,iV(e),n.updater=jA,e.stateNode=n,n._reactInternals=e,dN(e,r,t,i),e=fN(null,e,r,!0,s,i)):(e.tag=0,cr&&s&&qk(e),gs(null,e,n,i),e=e.child),e;case 16:r=e.elementType;e:{switch(hD(t,e),t=e.pendingProps,n=r._init,r=n(r._payload),e.type=r,n=e.tag=dSe(r),t=ul(r,t),n){case 0:e=pN(null,e,r,t,i);break e;case 1:e=Yj(null,e,r,t,i);break e;case 11:e=jj(null,e,r,t,i);break e;case 14:e=Kj(null,e,r,ul(r.type,t),i);break e}throw Error(He(306,r,""))}return e;case 0:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ul(r,n),pN(t,e,r,n,i);case 1:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ul(r,n),Yj(t,e,r,n,i);case 3:e:{if(K7(e),t===null)throw Error(He(387));r=e.pendingProps,s=e.memoizedState,n=s.element,v7(t,e),gP(e,r,null,i);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){n=_m(Error(He(423)),e),e=qj(t,e,r,i,n);break e}else if(r!==n){n=_m(Error(He(424)),e),e=qj(t,e,r,i,n);break e}else for(Fo=Gd(e.stateNode.containerInfo.firstChild),ko=e,cr=!0,fl=null,i=w7(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Fm(),r===n){e=vc(t,e,i);break e}gs(t,e,r,i)}e=e.child}return e;case 5:return E7(e),t===null&&lN(e),r=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,o=n.children,rN(r,n)?o=null:s!==null&&rN(r,s)&&(e.flags|=32),j7(t,e),gs(t,e,o,i),e.child;case 6:return t===null&&lN(e),null;case 13:return Y7(t,e,i);case 4:return rV(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Im(e,null,r,i):gs(t,e,r,i),e.child;case 11:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ul(r,n),jj(t,e,r,n,i);case 7:return gs(t,e,e.pendingProps,i),e.child;case 8:return gs(t,e,e.pendingProps.children,i),e.child;case 12:return gs(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(r=e.type._context,n=e.pendingProps,s=e.memoizedProps,o=n.value,Bi(pP,r._currentValue),r._currentValue=o,s!==null)if(xl(s.value,o)){if(s.children===n.children&&!Js.current){e=vc(t,e,i);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=uc(-1,i&-i),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=i,l=s.alternate,l!==null&&(l.lanes|=i),uN(s.return,i,e),a.lanes|=i;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=i,a=o.alternate,a!==null&&(a.lanes|=i),uN(o,i,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gs(t,e,n.children,i),e=e.child}return e;case 9:return n=e.type,r=e.pendingProps.children,pm(e,i),n=La(n),r=r(n),e.flags|=1,gs(t,e,r,i),e.child;case 14:return r=e.type,n=ul(r,e.pendingProps),n=ul(r.type,n),Kj(t,e,r,n,i);case 15:return U7(t,e,e.type,e.pendingProps,i);case 17:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:ul(r,n),hD(t,e),e.tag=1,eo(r)?(t=!0,cP(e)):t=!1,pm(e,i),y7(e,r,n),dN(e,r,n,i),fN(null,e,r,!0,t,i);case 19:return q7(t,e,i);case 22:return z7(t,e,i)}throw Error(He(156,e.tag))};function dX(t,e){return G9(t,e)}function cSe(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(t,e,i,r){return new cSe(t,e,i,r)}function CV(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dSe(t){if(typeof t=="function")return CV(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gk)return 11;if(t===kk)return 14}return 2}function $d(t,e){var i=t.alternate;return i===null?(i=ba(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function gD(t,e,i,r,n,s){var o=2;if(r=t,typeof t=="function")CV(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zg:return Cp(i.children,n,s,e);case Nk:o=8,n|=8;break;case __:return t=ba(12,i,e,n|2),t.elementType=__,t.lanes=s,t;case N_:return t=ba(13,i,e,n),t.elementType=N_,t.lanes=s,t;case G_:return t=ba(19,i,e,n),t.elementType=G_,t.lanes=s,t;case S9:return XA(i,n,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C9:o=10;break e;case y9:o=9;break e;case Gk:o=11;break e;case kk:o=14;break e;case Sd:o=16,r=null;break e}throw Error(He(130,t==null?t:typeof t,""))}return e=ba(o,i,e,n),e.elementType=t,e.type=r,e.lanes=s,e}function Cp(t,e,i,r){return t=ba(7,t,r,e),t.lanes=i,t}function XA(t,e,i,r){return t=ba(22,t,r,e),t.elementType=S9,t.lanes=i,t.stateNode={isHidden:!1},t}function KI(t,e,i){return t=ba(6,t,null,e),t.lanes=i,t}function YI(t,e,i){return e=ba(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hSe(t,e,i,r,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xI(0),this.expirationTimes=xI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xI(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function yV(t,e,i,r,n,s,o,a,l){return t=new hSe(t,e,i,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ba(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},iV(s),t}function pSe(t,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ug,key:r==null?null:""+r,children:t,containerInfo:e,implementation:i}}function hX(t){if(!t)return Xd;t=t._reactInternals;e:{if(bf(t)!==t||t.tag!==1)throw Error(He(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(eo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(t.tag===1){var i=t.type;if(eo(i))return d7(t,i,e)}return e}function pX(t,e,i,r,n,s,o,a,l){return t=yV(i,r,!0,t,n,s,o,a,l),t.context=hX(null),i=t.current,r=Ss(),n=Hd(i),s=uc(r,n),s.callback=e??null,kd(i,s,n),t.current.lanes=n,YE(t,n,r),to(t,r),t}function QA(t,e,i,r){var n=e.current,s=Ss(),o=Hd(n);return i=hX(i),e.context===null?e.context=i:e.pendingContext=i,e=uc(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kd(n,e,o),t!==null&&(Rl(t,n,o,s),uD(t,n,o)),o}function bP(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function SV(t,e){s3(t,e),(t=t.alternate)&&s3(t,e)}function fSe(){return null}var fX=typeof reportError=="function"?reportError:function(t){console.error(t)};function wV(t){this._internalRoot=t}ZA.prototype.render=wV.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(He(409));QA(t,e,null,null)};ZA.prototype.unmount=wV.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wp(function(){QA(null,t,null,null)}),e[gc]=null}};function ZA(t){this._internalRoot=t}ZA.prototype.unstable_scheduleHydration=function(t){if(t){var e=U9();t={blockedOn:null,target:t,priority:e};for(var i=0;i<bd.length&&e!==0&&e<bd[i].priority;i++);bd.splice(i,0,t),i===0&&j9(t)}};function EV(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function JA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function o3(){}function gSe(t,e,i,r,n){if(n){if(typeof r=="function"){var s=r;r=function(){var u=bP(o);s.call(u)}}var o=pX(e,r,t,0,null,!1,!1,"",o3);return t._reactRootContainer=o,t[gc]=o.current,VS(t.nodeType===8?t.parentNode:t),Wp(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof r=="function"){var a=r;r=function(){var u=bP(l);a.call(u)}}var l=yV(t,0,!1,null,null,!1,!1,"",o3);return t._reactRootContainer=l,t[gc]=l.current,VS(t.nodeType===8?t.parentNode:t),Wp(function(){QA(e,l,i,r)}),l}function e0(t,e,i,r,n){var s=i._reactRootContainer;if(s){var o=s;if(typeof n=="function"){var a=n;n=function(){var l=bP(o);a.call(l)}}QA(e,o,t,n)}else o=gSe(i,e,t,n,r);return bP(o)}B9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=Ny(e.pendingLanes);i!==0&&($k(e,i|1),to(e,Fr()),!(ti&6)&&(Nm=Fr()+500,ch()))}break;case 13:Wp(function(){var r=mc(t,1);if(r!==null){var n=Ss();Rl(r,t,1,n)}}),SV(t,1)}};Bk=function(t){if(t.tag===13){var e=mc(t,134217728);if(e!==null){var i=Ss();Rl(e,t,134217728,i)}SV(t,134217728)}};W9=function(t){if(t.tag===13){var e=Hd(t),i=mc(t,e);if(i!==null){var r=Ss();Rl(i,t,e,r)}SV(t,e)}};U9=function(){return Ri};z9=function(t,e){var i=Ri;try{return Ri=t,e()}finally{Ri=i}};K_=function(t,e,i){switch(e){case"input":if(H_(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var n=UA(r);if(!n)throw Error(He(90));E9(r),H_(r,n)}}}break;case"textarea":R9(t,i);break;case"select":e=i.value,e!=null&&um(t,!!i.multiple,e,!1)}};M9=gV;F9=Wp;var mSe={usingClientEntryPoint:!1,Events:[XE,qg,UA,A9,O9,gV]},oy={findFiberByHostInstance:np,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vSe={bundleType:oy.bundleType,version:oy.version,rendererPackageName:oy.rendererPackageName,rendererConfig:oy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_c.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_9(t),t===null?null:t.stateNode},findFiberByHostInstance:oy.findFiberByHostInstance||fSe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vT.isDisabled&&vT.supportsFiber)try{HA=vT.inject(vSe),fu=vT}catch{}}jo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mSe;jo.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!EV(e))throw Error(He(200));return pSe(t,e,null,i)};jo.createRoot=function(t,e){if(!EV(t))throw Error(He(299));var i=!1,r="",n=fX;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=yV(t,1,!1,null,null,i,!1,r,n),t[gc]=e.current,VS(t.nodeType===8?t.parentNode:t),new wV(e)};jo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(He(188)):(t=Object.keys(t).join(","),Error(He(268,t)));return t=_9(e),t=t===null?null:t.stateNode,t};jo.flushSync=function(t){return Wp(t)};jo.hydrate=function(t,e,i){if(!JA(e))throw Error(He(200));return e0(null,t,e,!0,i)};jo.hydrateRoot=function(t,e,i){if(!EV(t))throw Error(He(405));var r=i!=null&&i.hydratedSources||null,n=!1,s="",o=fX;if(i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),e=pX(e,null,t,1,i??null,n,!1,s,o),t[gc]=e.current,VS(t),r)for(t=0;t<r.length;t++)i=r[t],n=i._getVersion,n=n(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,n]:e.mutableSourceEagerHydrationData.push(i,n);return new ZA(e)};jo.render=function(t,e,i){if(!JA(e))throw Error(He(200));return e0(null,t,e,!1,i)};jo.unmountComponentAtNode=function(t){if(!JA(t))throw Error(He(40));return t._reactRootContainer?(Wp(function(){e0(null,null,t,!1,function(){t._reactRootContainer=null,t[gc]=null})}),!0):!1};jo.unstable_batchedUpdates=gV;jo.unstable_renderSubtreeIntoContainer=function(t,e,i,r){if(!JA(i))throw Error(He(200));if(t==null||t._reactInternals===void 0)throw Error(He(38));return e0(t,e,i,!1,r)};jo.version="18.2.0-next-9e3b772b8-20220608";function gX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gX)}catch(t){console.error(t)}}gX(),p9.exports=jo;var ZE=p9.exports;const nc=Pt(ZE);var a3=ZE;I_.createRoot=a3.createRoot,I_.hydrateRoot=a3.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},YS.apply(this,arguments)}var Od;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Od||(Od={}));const l3="popstate";function CSe(t){t===void 0&&(t={});function e(r,n){let{pathname:s,search:o,hash:a}=r.location;return DN("",{pathname:s,search:o,hash:a},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(r,n){return typeof n=="string"?n:RP(n)}return SSe(e,i,null,t)}function Yr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mX(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ySe(){return Math.random().toString(36).substr(2,8)}function u3(t,e){return{usr:t.state,key:t.key,idx:e}}function DN(t,e,i,r){return i===void 0&&(i=null),YS({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gv(e):e,{state:i,key:e&&e.key||r||ySe()})}function RP(t){let{pathname:e="/",search:i="",hash:r=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gv(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SSe(t,e,i,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:s=!1}=r,o=n.history,a=Od.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(YS({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Od.Pop;let C=c(),S=C==null?null:C-u;u=C,l&&l({action:a,location:m.location,delta:S})}function h(C,S){a=Od.Push;let y=DN(m.location,C,S);i&&i(y,C),u=c()+1;let w=u3(y,u),E=m.createHref(y);try{o.pushState(w,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;n.location.assign(E)}s&&l&&l({action:a,location:m.location,delta:1})}function f(C,S){a=Od.Replace;let y=DN(m.location,C,S);i&&i(y,C),u=c();let w=u3(y,u),E=m.createHref(y);o.replaceState(w,"",E),s&&l&&l({action:a,location:m.location,delta:0})}function g(C){let S=n.location.origin!=="null"?n.location.origin:n.location.href,y=typeof C=="string"?C:RP(C);return y=y.replace(/ $/,"%20"),Yr(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let m={get action(){return a},get location(){return t(n,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(l3,d),l=C,()=>{n.removeEventListener(l3,d),l=null}},createHref(C){return e(n,C)},createURL:g,encodeLocation(C){let S=g(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:h,replace:f,go(C){return o.go(C)}};return m}var c3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(c3||(c3={}));function wSe(t,e,i){i===void 0&&(i="/");let r=typeof e=="string"?Gv(e):e,n=bV(r.pathname||"/",i);if(n==null)return null;let s=vX(t);ESe(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=LSe(n);o=MSe(s[a],l)}return o}function vX(t,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let n=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Yr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Bd([r,l.relativePath]),c=i.concat(l);s.children&&s.children.length>0&&(Yr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vX(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:ASe(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))n(s,o);else for(let l of CX(s.path))n(s,o,l)}),e}function CX(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,n=i.endsWith("?"),s=i.replace(/\?$/,"");if(r.length===0)return n?[s,""]:[s];let o=CX(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),n&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ESe(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:OSe(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const bSe=/^:[\w-]+$/,RSe=3,TSe=2,DSe=1,PSe=10,xSe=-2,d3=t=>t==="*";function ASe(t,e){let i=t.split("/"),r=i.length;return i.some(d3)&&(r+=xSe),e&&(r+=TSe),i.filter(n=>!d3(n)).reduce((n,s)=>n+(bSe.test(s)?RSe:s===""?DSe:PSe),r)}function OSe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,n)=>r===e[n])?t[t.length-1]-e[e.length-1]:0}function MSe(t,e){let{routesMeta:i}=t,r={},n="/",s=[];for(let o=0;o<i.length;++o){let a=i[o],l=o===i.length-1,u=n==="/"?e:e.slice(n.length)||"/",c=FSe({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Bd([n,c.pathname]),pathnameBase:kSe(Bd([n,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(n=Bd([n,c.pathnameBase]))}return s}function FSe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=ISe(t.path,t.caseSensitive,t.end),n=e.match(i);if(!n)return null;let s=n[0],o=s.replace(/(.)\/+$/,"$1"),a=n.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function ISe(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),mX(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),r]}function LSe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mX(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bV(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function _Se(t,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:n=""}=typeof t=="string"?Gv(t):t;return{pathname:i?i.startsWith("/")?i:NSe(i,e):e,search:VSe(r),hash:HSe(n)}}function NSe(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function qI(t,e,i,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GSe(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function yX(t,e){let i=GSe(t);return e?i.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase):i.map(r=>r.pathnameBase)}function SX(t,e,i,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=Gv(t):(n=YS({},t),Yr(!n.pathname||!n.pathname.includes("?"),qI("?","pathname","search",n)),Yr(!n.pathname||!n.pathname.includes("#"),qI("#","pathname","hash",n)),Yr(!n.search||!n.search.includes("#"),qI("#","search","hash",n)));let s=t===""||n.pathname==="",o=s?"/":n.pathname,a;if(o==null)a=i;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;n.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=_Se(n,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Bd=t=>t.join("/").replace(/\/\/+/g,"/"),kSe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VSe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HSe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $Se(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wX=["post","put","patch","delete"];new Set(wX);const BSe=["get",...wX];new Set(BSe);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qS(){return qS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},qS.apply(this,arguments)}const RV=T.createContext(null),WSe=T.createContext(null),Rf=T.createContext(null),t0=T.createContext(null),Tf=T.createContext({outlet:null,matches:[],isDataRoute:!1}),EX=T.createContext(null);function USe(t,e){let{relative:i}=e===void 0?{}:e;JE()||Yr(!1);let{basename:r,navigator:n}=T.useContext(Rf),{hash:s,pathname:o,search:a}=RX(t,{relative:i}),l=o;return r!=="/"&&(l=o==="/"?r:Bd([r,o])),n.createHref({pathname:l,search:a,hash:s})}function JE(){return T.useContext(t0)!=null}function i0(){return JE()||Yr(!1),T.useContext(t0).location}function bX(t){T.useContext(Rf).static||T.useLayoutEffect(t)}function zSe(){let{isDataRoute:t}=T.useContext(Tf);return t?nwe():jSe()}function jSe(){JE()||Yr(!1);let t=T.useContext(RV),{basename:e,future:i,navigator:r}=T.useContext(Rf),{matches:n}=T.useContext(Tf),{pathname:s}=i0(),o=JSON.stringify(yX(n,i.v7_relativeSplatPath)),a=T.useRef(!1);return bX(()=>{a.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=SX(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bd([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function RX(t,e){let{relative:i}=e===void 0?{}:e,{future:r}=T.useContext(Rf),{matches:n}=T.useContext(Tf),{pathname:s}=i0(),o=JSON.stringify(yX(n,r.v7_relativeSplatPath));return T.useMemo(()=>SX(t,JSON.parse(o),s,i==="path"),[t,o,s,i])}function KSe(t,e){return YSe(t,e)}function YSe(t,e,i,r){JE()||Yr(!1);let{navigator:n}=T.useContext(Rf),{matches:s}=T.useContext(Tf),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=i0(),c;if(e){var d;let C=typeof e=="string"?Gv(e):e;l==="/"||(d=C.pathname)!=null&&d.startsWith(l)||Yr(!1),c=C}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let C=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let g=wSe(t,{pathname:f}),m=JSe(g&&g.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Bd([l,n.encodeLocation?n.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:Bd([l,n.encodeLocation?n.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,i,r);return e&&m?T.createElement(t0.Provider,{value:{location:qS({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Od.Pop}},m):m}function qSe(){let t=rwe(),e=$Se(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),i?T.createElement("pre",{style:n},i):null,null)}const XSe=T.createElement(qSe,null);class QSe extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?T.createElement(Tf.Provider,{value:this.props.routeContext},T.createElement(EX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZSe(t){let{routeContext:e,match:i,children:r}=t,n=T.useContext(RV);return n&&n.static&&n.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=i.route.id),T.createElement(Tf.Provider,{value:e},r)}function JSe(t,e,i,r){var n;if(e===void 0&&(e=[]),i===void 0&&(i=null),r===void 0&&(r=null),t==null){var s;if((s=i)!=null&&s.errors)t=i.matches;else return null}let o=t,a=(n=i)==null?void 0:n.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Yr(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(i&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=i,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,g=!1,m=null,C=null;i&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||XSe,l&&(u<0&&h===0?(swe("route-fallback",!1),g=!0,C=null):u===h&&(g=!0,C=d.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,h+1)),y=()=>{let w;return f?w=m:g?w=C:d.route.Component?w=T.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,T.createElement(ZSe,{match:d,routeContext:{outlet:c,matches:S,isDataRoute:i!=null},children:w})};return i&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(QSe,{location:i.location,revalidation:i.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var TX=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TX||{}),TP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(TP||{});function ewe(t){let e=T.useContext(RV);return e||Yr(!1),e}function twe(t){let e=T.useContext(WSe);return e||Yr(!1),e}function iwe(t){let e=T.useContext(Tf);return e||Yr(!1),e}function DX(t){let e=iwe(),i=e.matches[e.matches.length-1];return i.route.id||Yr(!1),i.route.id}function rwe(){var t;let e=T.useContext(EX),i=twe(TP.UseRouteError),r=DX(TP.UseRouteError);return e!==void 0?e:(t=i.errors)==null?void 0:t[r]}function nwe(){let{router:t}=ewe(TX.UseNavigateStable),e=DX(TP.UseNavigateStable),i=T.useRef(!1);return bX(()=>{i.current=!0}),T.useCallback(function(n,s){s===void 0&&(s={}),i.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,qS({fromRouteId:e},s)))},[t,e])}const h3={};function swe(t,e,i){!e&&!h3[t]&&(h3[t]=!0)}function ky(t){Yr(!1)}function owe(t){let{basename:e="/",children:i=null,location:r,navigationType:n=Od.Pop,navigator:s,static:o=!1,future:a}=t;JE()&&Yr(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:s,static:o,future:qS({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Gv(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,m=T.useMemo(()=>{let C=bV(c,l);return C==null?null:{location:{pathname:C,search:d,hash:h,state:f,key:g},navigationType:n}},[l,c,d,h,f,g,n]);return m==null?null:T.createElement(Rf.Provider,{value:u},T.createElement(t0.Provider,{children:i,value:m}))}function awe(t){let{children:e,location:i}=t;return KSe(PN(e),i)}new Promise(()=>{});function PN(t,e){e===void 0&&(e=[]);let i=[];return T.Children.forEach(t,(r,n)=>{if(!T.isValidElement(r))return;let s=[...e,n];if(r.type===T.Fragment){i.push.apply(i,PN(r.props.children,s));return}r.type!==ky&&Yr(!1),!r.props.index||!r.props.children||Yr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=PN(r.props.children,s)),i.push(o)}),i}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},xN.apply(this,arguments)}function lwe(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function uwe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cwe(t,e){return t.button===0&&(!e||e==="_self")&&!uwe(t)}const dwe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],hwe="6";try{window.__reactRouterVersion=hwe}catch{}const pwe="startTransition",p3=JD[pwe];function fwe(t){let{basename:e,children:i,future:r,window:n}=t,s=T.useRef();s.current==null&&(s.current=CSe({window:n,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=T.useCallback(d=>{u&&p3?p3(()=>l(d)):l(d)},[l,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.createElement(owe,{basename:e,children:i,location:a.location,navigationType:a.action,navigator:o,future:r})}const gwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mwe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CT=T.forwardRef(function(e,i){let{onClick:r,relative:n,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=lwe(e,dwe),{basename:f}=T.useContext(Rf),g,m=!1;if(typeof u=="string"&&mwe.test(u)&&(g=u,gwe))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),b=bV(E.pathname,f);E.origin===w.origin&&b!=null?u=b+E.search+E.hash:m=!0}catch{}let C=USe(u,{relative:n}),S=vwe(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:n,unstable_viewTransition:d});function y(w){r&&r(w),w.defaultPrevented||S(w)}return T.createElement("a",xN({},h,{href:g||C,onClick:m||s?r:y,ref:i,target:l}))});var f3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f3||(f3={}));var g3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g3||(g3={}));function vwe(t,e){let{target:i,replace:r,state:n,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=zSe(),u=i0(),c=RX(t,{relative:o});return T.useCallback(d=>{if(cwe(d,i)){d.preventDefault();let h=r!==void 0?r:RP(u)===RP(c);l(t,{replace:h,state:n,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,n,i,t,s,o,a])}function Oe(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},G.apply(this,arguments)}var PX={exports:{}},Cwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ywe=Cwe,Swe=ywe;function xX(){}function AX(){}AX.resetWarningCache=xX;var wwe=function(){function t(r,n,s,o,a,l){if(l!==Swe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AX,resetWarningCache:xX};return i.PropTypes=i,i};PX.exports=wwe();var Ewe=PX.exports;const ee=Pt(Ewe);function OX(t){var e,i,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(i=OX(t[e]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}function Le(){for(var t,e,i=0,r="",n=arguments.length;i<n;i++)(t=arguments[i])&&(e=OX(t))&&(r&&(r+=" "),r+=e);return r}function ot(t,e,i=void 0){const r={};return Object.keys(t).forEach(n=>{r[n]=t[n].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),i&&i[o]&&s.push(i[o])}return s},[]).join(" ")}),r}var eb={},MX={exports:{}};(function(t){function e(i){return i&&i.__esModule?i:{default:i}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(MX);var Vl=MX.exports,XI={exports:{}},m3;function FX(){return m3||(m3=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(XI)),XI.exports}var QI={exports:{}},v3;function bwe(){return v3||(v3=1,function(t){function e(i,r){if(i==null)return{};var n={},s=Object.keys(i),o,a;for(a=0;a<s.length;a++)o=s[a],!(r.indexOf(o)>=0)&&(n[o]=i[o]);return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(QI)),QI.exports}function IX(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var Rwe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Twe=IX(function(t){return Rwe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Dwe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Pwe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var xwe=function(){function t(i){var r=this;this._insertTag=function(n){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(n,s),r.tags.push(n)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Pwe(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Dwe(n);try{s.insertRule(r,s.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Kn="-ms-",DP="-moz-",di="-webkit-",LX="comm",TV="rule",DV="decl",Awe="@import",_X="@keyframes",Owe="@layer",Mwe=Math.abs,r0=String.fromCharCode,Fwe=Object.assign;function Iwe(t,e){return In(t,0)^45?(((e<<2^In(t,0))<<2^In(t,1))<<2^In(t,2))<<2^In(t,3):0}function NX(t){return t.trim()}function Lwe(t,e){return(t=e.exec(t))?t[0]:t}function hi(t,e,i){return t.replace(e,i)}function AN(t,e){return t.indexOf(e)}function In(t,e){return t.charCodeAt(e)|0}function XS(t,e,i){return t.slice(e,i)}function su(t){return t.length}function PV(t){return t.length}function yT(t,e){return e.push(t),t}function _we(t,e){return t.map(e).join("")}var n0=1,Gm=1,GX=0,so=0,Wr=0,kv="";function s0(t,e,i,r,n,s,o){return{value:t,root:e,parent:i,type:r,props:n,children:s,line:n0,column:Gm,length:o,return:""}}function ay(t,e){return Fwe(s0("",null,null,"",null,null,0),t,{length:-t.length},e)}function Nwe(){return Wr}function Gwe(){return Wr=so>0?In(kv,--so):0,Gm--,Wr===10&&(Gm=1,n0--),Wr}function Vo(){return Wr=so<GX?In(kv,so++):0,Gm++,Wr===10&&(Gm=1,n0++),Wr}function mu(){return In(kv,so)}function mD(){return so}function tb(t,e){return XS(kv,t,e)}function QS(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kX(t){return n0=Gm=1,GX=su(kv=t),so=0,[]}function VX(t){return kv="",t}function vD(t){return NX(tb(so-1,ON(t===91?t+2:t===40?t+1:t)))}function kwe(t){for(;(Wr=mu())&&Wr<33;)Vo();return QS(t)>2||QS(Wr)>3?"":" "}function Vwe(t,e){for(;--e&&Vo()&&!(Wr<48||Wr>102||Wr>57&&Wr<65||Wr>70&&Wr<97););return tb(t,mD()+(e<6&&mu()==32&&Vo()==32))}function ON(t){for(;Vo();)switch(Wr){case t:return so;case 34:case 39:t!==34&&t!==39&&ON(Wr);break;case 40:t===41&&ON(t);break;case 92:Vo();break}return so}function Hwe(t,e){for(;Vo()&&t+Wr!==57;)if(t+Wr===84&&mu()===47)break;return"/*"+tb(e,so-1)+"*"+r0(t===47?t:Vo())}function $we(t){for(;!QS(mu());)Vo();return tb(t,so)}function Bwe(t){return VX(CD("",null,null,null,[""],t=kX(t),0,[0],t))}function CD(t,e,i,r,n,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,g=0,m=1,C=1,S=1,y=0,w="",E=n,b=s,D=r,P=w;C;)switch(g=y,y=Vo()){case 40:if(g!=108&&In(P,d-1)==58){AN(P+=hi(vD(y),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:P+=vD(y);break;case 9:case 10:case 13:case 32:P+=kwe(g);break;case 92:P+=Vwe(mD()-1,7);continue;case 47:switch(mu()){case 42:case 47:yT(Wwe(Hwe(Vo(),mD()),e,i),l);break;default:P+="/"}break;case 123*m:a[u++]=su(P)*S;case 125*m:case 59:case 0:switch(y){case 0:case 125:C=0;case 59+c:S==-1&&(P=hi(P,/\f/g,"")),f>0&&su(P)-d&&yT(f>32?y3(P+";",r,i,d-1):y3(hi(P," ","")+";",r,i,d-2),l);break;case 59:P+=";";default:if(yT(D=C3(P,e,i,u,c,n,a,w,E=[],b=[],d),s),y===123)if(c===0)CD(P,e,D,D,E,s,d,a,b);else switch(h===99&&In(P,3)===110?100:h){case 100:case 108:case 109:case 115:CD(t,D,D,r&&yT(C3(t,D,D,0,0,n,a,w,n,E=[],d),b),n,b,d,a,r?E:b);break;default:CD(P,D,D,D,[""],b,0,a,b)}}u=c=f=0,m=S=1,w=P="",d=o;break;case 58:d=1+su(P),f=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&Gwe()==125)continue}switch(P+=r0(y),y*m){case 38:S=c>0?1:(P+="\f",-1);break;case 44:a[u++]=(su(P)-1)*S,S=1;break;case 64:mu()===45&&(P+=vD(Vo())),h=mu(),c=d=su(w=P+=$we(mD())),y++;break;case 45:g===45&&su(P)==2&&(m=0)}}return s}function C3(t,e,i,r,n,s,o,a,l,u,c){for(var d=n-1,h=n===0?s:[""],f=PV(h),g=0,m=0,C=0;g<r;++g)for(var S=0,y=XS(t,d+1,d=Mwe(m=o[g])),w=t;S<f;++S)(w=NX(m>0?h[S]+" "+y:hi(y,/&\f/g,h[S])))&&(l[C++]=w);return s0(t,e,i,n===0?TV:a,l,u,c)}function Wwe(t,e,i){return s0(t,e,i,LX,r0(Nwe()),XS(t,2,-2),0)}function y3(t,e,i,r){return s0(t,e,i,DV,XS(t,0,r),XS(t,r+1,-1),r)}function gm(t,e){for(var i="",r=PV(t),n=0;n<r;n++)i+=e(t[n],n,t,e)||"";return i}function Uwe(t,e,i,r){switch(t.type){case Owe:if(t.children.length)break;case Awe:case DV:return t.return=t.return||t.value;case LX:return"";case _X:return t.return=t.value+"{"+gm(t.children,r)+"}";case TV:t.value=t.props.join(",")}return su(i=gm(t.children,r))?t.return=t.value+"{"+i+"}":""}function zwe(t){var e=PV(t);return function(i,r,n,s){for(var o="",a=0;a<e;a++)o+=t[a](i,r,n,s)||"";return o}}function jwe(t){return function(e){e.root||(e=e.return)&&t(e)}}var Kwe=function(e,i,r){for(var n=0,s=0;n=s,s=mu(),n===38&&s===12&&(i[r]=1),!QS(s);)Vo();return tb(e,so)},Ywe=function(e,i){var r=-1,n=44;do switch(QS(n)){case 0:n===38&&mu()===12&&(i[r]=1),e[r]+=Kwe(so-1,i,r);break;case 2:e[r]+=vD(n);break;case 4:if(n===44){e[++r]=mu()===58?"&\f":"",i[r]=e[r].length;break}default:e[r]+=r0(n)}while(n=Vo());return e},qwe=function(e,i){return VX(Ywe(kX(e),i))},S3=new WeakMap,Xwe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!S3.get(r))&&!n){S3.set(e,!0);for(var s=[],o=qwe(i,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Qwe=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}};function HX(t,e){switch(Iwe(t,e)){case 5103:return di+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return di+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return di+t+DP+t+Kn+t+t;case 6828:case 4268:return di+t+Kn+t+t;case 6165:return di+t+Kn+"flex-"+t+t;case 5187:return di+t+hi(t,/(\w+).+(:[^]+)/,di+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return di+t+Kn+"flex-item-"+hi(t,/flex-|-self/,"")+t;case 4675:return di+t+Kn+"flex-line-pack"+hi(t,/align-content|flex-|-self/,"")+t;case 5548:return di+t+Kn+hi(t,"shrink","negative")+t;case 5292:return di+t+Kn+hi(t,"basis","preferred-size")+t;case 6060:return di+"box-"+hi(t,"-grow","")+di+t+Kn+hi(t,"grow","positive")+t;case 4554:return di+hi(t,/([^-])(transform)/g,"$1"+di+"$2")+t;case 6187:return hi(hi(hi(t,/(zoom-|grab)/,di+"$1"),/(image-set)/,di+"$1"),t,"")+t;case 5495:case 3959:return hi(t,/(image-set\([^]*)/,di+"$1$`$1");case 4968:return hi(hi(t,/(.+:)(flex-)?(.*)/,di+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+di+t+t;case 4095:case 3583:case 4068:case 2532:return hi(t,/(.+)-inline(.+)/,di+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(su(t)-1-e>6)switch(In(t,e+1)){case 109:if(In(t,e+4)!==45)break;case 102:return hi(t,/(.+:)(.+)-([^]+)/,"$1"+di+"$2-$3$1"+DP+(In(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~AN(t,"stretch")?HX(hi(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(In(t,e+1)!==115)break;case 6444:switch(In(t,su(t)-3-(~AN(t,"!important")&&10))){case 107:return hi(t,":",":"+di)+t;case 101:return hi(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+di+(In(t,14)===45?"inline-":"")+"box$3$1"+di+"$2$3$1"+Kn+"$2box$3")+t}break;case 5936:switch(In(t,e+11)){case 114:return di+t+Kn+hi(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return di+t+Kn+hi(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return di+t+Kn+hi(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return di+t+Kn+t+t}return t}var Zwe=function(e,i,r,n){if(e.length>-1&&!e.return)switch(e.type){case DV:e.return=HX(e.value,e.length);break;case _X:return gm([ay(e,{value:hi(e.value,"@","@"+di)})],n);case TV:if(e.length)return _we(e.props,function(s){switch(Lwe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gm([ay(e,{props:[hi(s,/:(read-\w+)/,":"+DP+"$1")]})],n);case"::placeholder":return gm([ay(e,{props:[hi(s,/:(plac\w+)/,":"+di+"input-$1")]}),ay(e,{props:[hi(s,/:(plac\w+)/,":"+DP+"$1")]}),ay(e,{props:[hi(s,/:(plac\w+)/,Kn+"input-$1")]})],n)}return""})}},Jwe=[Zwe],$X=function(e){var i=e.key;if(i==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var C=m.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var n=e.stylisPlugins||Jwe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(m){for(var C=m.getAttribute("data-emotion").split(" "),S=1;S<C.length;S++)s[C[S]]=!0;a.push(m)});var l,u=[Xwe,Qwe];{var c,d=[Uwe,jwe(function(m){c.insert(m)})],h=zwe(u.concat(n,d)),f=function(C){return gm(Bwe(C),h)};l=function(C,S,y,w){c=y,f(C?C+"{"+S.styles+"}":S.styles),w&&(g.inserted[S.name]=!0)}}var g={key:i,sheet:new xwe({key:i,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},BX={exports:{}},Ti={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wn=typeof Symbol=="function"&&Symbol.for,xV=wn?Symbol.for("react.element"):60103,AV=wn?Symbol.for("react.portal"):60106,o0=wn?Symbol.for("react.fragment"):60107,a0=wn?Symbol.for("react.strict_mode"):60108,l0=wn?Symbol.for("react.profiler"):60114,u0=wn?Symbol.for("react.provider"):60109,c0=wn?Symbol.for("react.context"):60110,OV=wn?Symbol.for("react.async_mode"):60111,d0=wn?Symbol.for("react.concurrent_mode"):60111,h0=wn?Symbol.for("react.forward_ref"):60112,p0=wn?Symbol.for("react.suspense"):60113,eEe=wn?Symbol.for("react.suspense_list"):60120,f0=wn?Symbol.for("react.memo"):60115,g0=wn?Symbol.for("react.lazy"):60116,tEe=wn?Symbol.for("react.block"):60121,iEe=wn?Symbol.for("react.fundamental"):60117,rEe=wn?Symbol.for("react.responder"):60118,nEe=wn?Symbol.for("react.scope"):60119;function Yo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xV:switch(t=t.type,t){case OV:case d0:case o0:case l0:case a0:case p0:return t;default:switch(t=t&&t.$$typeof,t){case c0:case h0:case g0:case f0:case u0:return t;default:return e}}case AV:return e}}}function WX(t){return Yo(t)===d0}Ti.AsyncMode=OV;Ti.ConcurrentMode=d0;Ti.ContextConsumer=c0;Ti.ContextProvider=u0;Ti.Element=xV;Ti.ForwardRef=h0;Ti.Fragment=o0;Ti.Lazy=g0;Ti.Memo=f0;Ti.Portal=AV;Ti.Profiler=l0;Ti.StrictMode=a0;Ti.Suspense=p0;Ti.isAsyncMode=function(t){return WX(t)||Yo(t)===OV};Ti.isConcurrentMode=WX;Ti.isContextConsumer=function(t){return Yo(t)===c0};Ti.isContextProvider=function(t){return Yo(t)===u0};Ti.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xV};Ti.isForwardRef=function(t){return Yo(t)===h0};Ti.isFragment=function(t){return Yo(t)===o0};Ti.isLazy=function(t){return Yo(t)===g0};Ti.isMemo=function(t){return Yo(t)===f0};Ti.isPortal=function(t){return Yo(t)===AV};Ti.isProfiler=function(t){return Yo(t)===l0};Ti.isStrictMode=function(t){return Yo(t)===a0};Ti.isSuspense=function(t){return Yo(t)===p0};Ti.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===o0||t===d0||t===l0||t===a0||t===p0||t===eEe||typeof t=="object"&&t!==null&&(t.$$typeof===g0||t.$$typeof===f0||t.$$typeof===u0||t.$$typeof===c0||t.$$typeof===h0||t.$$typeof===iEe||t.$$typeof===rEe||t.$$typeof===nEe||t.$$typeof===tEe)};Ti.typeOf=Yo;BX.exports=Ti;var sEe=BX.exports,UX=sEe,oEe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},aEe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zX={};zX[UX.ForwardRef]=oEe;zX[UX.Memo]=aEe;var lEe=!0;function uEe(t,e,i){var r="";return i.split(" ").forEach(function(n){t[n]!==void 0?e.push(t[n]+";"):r+=n+" "}),r}var jX=function(e,i,r){var n=e.key+"-"+i.name;(r===!1||lEe===!1)&&e.registered[n]===void 0&&(e.registered[n]=i.styles)},KX=function(e,i,r){jX(e,i,r);var n=e.key+"-"+i.name;if(e.inserted[i.name]===void 0){var s=i;do e.insert(i===s?"."+n:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function cEe(t){for(var e=0,i,r=0,n=t.length;n>=4;++r,n-=4)i=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(n){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var dEe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hEe=/[A-Z]|^ms/g,pEe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YX=function(e){return e.charCodeAt(1)===45},w3=function(e){return e!=null&&typeof e!="boolean"},ZI=IX(function(t){return YX(t)?t:t.replace(hEe,"-$&").toLowerCase()}),E3=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(pEe,function(r,n,s){return ou={name:n,styles:s,next:ou},n})}return dEe[e]!==1&&!YX(e)&&typeof i=="number"&&i!==0?i+"px":i};function ZS(t,e,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return ou={name:i.name,styles:i.styles,next:ou},i.name;if(i.styles!==void 0){var r=i.next;if(r!==void 0)for(;r!==void 0;)ou={name:r.name,styles:r.styles,next:ou},r=r.next;var n=i.styles+";";return n}return fEe(t,e,i)}case"function":{if(t!==void 0){var s=ou,o=i(t);return ou=s,ZS(t,e,o)}break}}if(e==null)return i;var a=e[i];return a!==void 0?a:i}function fEe(t,e,i){var r="";if(Array.isArray(i))for(var n=0;n<i.length;n++)r+=ZS(t,e,i[n])+";";else for(var s in i){var o=i[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":w3(o)&&(r+=ZI(s)+":"+E3(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)w3(o[a])&&(r+=ZI(s)+":"+E3(s,o[a])+";");else{var l=ZS(t,e,o);switch(s){case"animation":case"animationName":{r+=ZI(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var b3=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ou,MV=function(e,i,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";ou=void 0;var o=e[0];o==null||o.raw===void 0?(n=!1,s+=ZS(r,i,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=ZS(r,i,e[a]),n&&(s+=o[a]);b3.lastIndex=0;for(var l="",u;(u=b3.exec(s))!==null;)l+="-"+u[1];var c=cEe(s)+l;return{name:c,styles:s,next:ou}},gEe=function(e){return e()},qX=JD.useInsertionEffect?JD.useInsertionEffect:!1,mEe=qX||gEe,R3=qX||T.useLayoutEffect,XX=T.createContext(typeof HTMLElement<"u"?$X({key:"css"}):null),vEe=XX.Provider,QX=function(e){return T.forwardRef(function(i,r){var n=T.useContext(XX);return e(i,n,r)})},m0=T.createContext({});FX();var CEe=QX(function(t,e){var i=t.styles,r=MV([i],void 0,T.useContext(m0)),n=T.useRef();return R3(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),n.current=[o,a],function(){o.flush()}},[e]),R3(function(){var s=n.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&KX(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ZX(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return MV(e)}var v0=function(){var e=ZX.apply(void 0,arguments),i="animation-"+e.name;return{name:i,styles:"@keyframes "+i+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},yEe=Twe,SEe=function(e){return e!=="theme"},T3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?yEe:SEe},D3=function(e,i,r){var n;if(i){var s=i.shouldForwardProp;n=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof n!="function"&&r&&(n=e.__emotion_forwardProp),n},wEe=function(e){var i=e.cache,r=e.serialized,n=e.isStringTag;return jX(i,r,n),mEe(function(){return KX(i,r,n)}),null},EEe=function t(e,i){var r=e.__emotion_real===e,n=r&&e.__emotion_base||e,s,o;i!==void 0&&(s=i.label,o=i.target);var a=D3(e,i,r),l=a||T3(n),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var g=QX(function(m,C,S){var y=u&&m.as||n,w="",E=[],b=m;if(m.theme==null){b={};for(var D in m)b[D]=m[D];b.theme=T.useContext(m0)}typeof m.className=="string"?w=uEe(C.registered,E,m.className):m.className!=null&&(w=m.className+" ");var P=MV(d.concat(E),C.registered,b);w+=C.key+"-"+P.name,o!==void 0&&(w+=" "+o);var O=u&&a===void 0?T3(y):l,N={};for(var _ in m)u&&_==="as"||O(_)&&(N[_]=m[_]);return N.className=w,N.ref=S,T.createElement(T.Fragment,null,T.createElement(wEe,{cache:C,serialized:P,isStringTag:typeof y=="string"}),T.createElement(y,N))});return g.displayName=s!==void 0?s:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=n,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(m,C){return t(m,G({},i,C,{shouldForwardProp:D3(g,C,!0)})).apply(void 0,d)},g}},bEe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],MN=EEe.bind();bEe.forEach(function(t){MN[t]=MN(t)});let FN;typeof document=="object"&&(FN=$X({key:"css",prepend:!0}));function REe(t){const{injectFirst:e,children:i}=t;return e&&FN?Y.jsx(vEe,{value:FN,children:i}):i}function TEe(t){return t==null||Object.keys(t).length===0}function JX(t){const{styles:e,defaultTheme:i={}}=t,r=typeof e=="function"?n=>e(TEe(n)?i:n):e;return Y.jsx(CEe,{styles:r})}function eQ(t,e){return MN(t,e)}const tQ=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},DEe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:JX,StyledEngineProvider:REe,ThemeContext:m0,css:ZX,default:eQ,internal_processStyles:tQ,keyframes:v0},Symbol.toStringTag,{value:"Module"})),iQ=Lc(DEe);function ec(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function rQ(t){if(!ec(t))return t;const e={};return Object.keys(t).forEach(i=>{e[i]=rQ(t[i])}),e}function ws(t,e,i={clone:!0}){const r=i.clone?G({},t):t;return ec(t)&&ec(e)&&Object.keys(e).forEach(n=>{n!=="__proto__"&&(ec(e[n])&&n in t&&ec(t[n])?r[n]=ws(t[n],e[n],i):i.clone?r[n]=ec(e[n])?rQ(e[n]):e[n]:r[n]=e[n])}),r}const PEe=Object.freeze(Object.defineProperty({__proto__:null,default:ws,isPlainObject:ec},Symbol.toStringTag,{value:"Module"})),xEe=Lc(PEe);function Cc(t){let e="https://mui.com/production-error/?code="+t;for(let i=1;i<arguments.length;i+=1)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const AEe=Object.freeze(Object.defineProperty({__proto__:null,default:Cc},Symbol.toStringTag,{value:"Module"}));function $e(t){if(typeof t!="string")throw new Error(Cc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const OEe=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),MEe=Lc(OEe);var nQ={exports:{}},Di={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FV=Symbol.for("react.element"),IV=Symbol.for("react.portal"),C0=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),E0=Symbol.for("react.context"),FEe=Symbol.for("react.server_context"),b0=Symbol.for("react.forward_ref"),R0=Symbol.for("react.suspense"),T0=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),P0=Symbol.for("react.lazy"),IEe=Symbol.for("react.offscreen"),sQ;sQ=Symbol.for("react.module.reference");function Ua(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case FV:switch(t=t.type,t){case C0:case S0:case y0:case R0:case T0:return t;default:switch(t=t&&t.$$typeof,t){case FEe:case E0:case b0:case P0:case D0:case w0:return t;default:return e}}case IV:return e}}}Di.ContextConsumer=E0;Di.ContextProvider=w0;Di.Element=FV;Di.ForwardRef=b0;Di.Fragment=C0;Di.Lazy=P0;Di.Memo=D0;Di.Portal=IV;Di.Profiler=S0;Di.StrictMode=y0;Di.Suspense=R0;Di.SuspenseList=T0;Di.isAsyncMode=function(){return!1};Di.isConcurrentMode=function(){return!1};Di.isContextConsumer=function(t){return Ua(t)===E0};Di.isContextProvider=function(t){return Ua(t)===w0};Di.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===FV};Di.isForwardRef=function(t){return Ua(t)===b0};Di.isFragment=function(t){return Ua(t)===C0};Di.isLazy=function(t){return Ua(t)===P0};Di.isMemo=function(t){return Ua(t)===D0};Di.isPortal=function(t){return Ua(t)===IV};Di.isProfiler=function(t){return Ua(t)===S0};Di.isStrictMode=function(t){return Ua(t)===y0};Di.isSuspense=function(t){return Ua(t)===R0};Di.isSuspenseList=function(t){return Ua(t)===T0};Di.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===C0||t===S0||t===y0||t===R0||t===T0||t===IEe||typeof t=="object"&&t!==null&&(t.$$typeof===P0||t.$$typeof===D0||t.$$typeof===w0||t.$$typeof===E0||t.$$typeof===b0||t.$$typeof===sQ||t.getModuleId!==void 0)};Di.typeOf=Ua;nQ.exports=Di;var P3=nQ.exports;const LEe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function oQ(t){const e=`${t}`.match(LEe);return e&&e[1]||""}function aQ(t,e=""){return t.displayName||t.name||oQ(t)||e}function x3(t,e,i){const r=aQ(e);return t.displayName||(r!==""?`${i}(${r})`:i)}function _Ee(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return aQ(t,"Component");if(typeof t=="object")switch(t.$$typeof){case P3.ForwardRef:return x3(t,t.render,"ForwardRef");case P3.Memo:return x3(t,t.type,"memo");default:return}}}const NEe=Object.freeze(Object.defineProperty({__proto__:null,default:_Ee,getFunctionName:oQ},Symbol.toStringTag,{value:"Module"})),GEe=Lc(NEe),kEe=["values","unit","step"],VEe=t=>{const e=Object.keys(t).map(i=>({key:i,val:t[i]}))||[];return e.sort((i,r)=>i.val-r.val),e.reduce((i,r)=>G({},i,{[r.key]:r.val}),{})};function lQ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:r=5}=t,n=Oe(t,kEe),s=VEe(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${i})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${i})`}function u(h,f){const g=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${i}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:f)-r/100}${i})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return G({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:i},n)}const HEe={borderRadius:4},$Ee=HEe;function fS(t,e){return e?ws(t,e,{clone:!1}):t}const LV={xs:0,sm:600,md:900,lg:1200,xl:1536},A3={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${LV[t]}px)`};function Al(t,e,i){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||A3;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=i(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||A3;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||LV).indexOf(a)!==-1){const l=s.up(a);o[l]=i(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return i(e)}function uQ(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,n)=>{const s=t.up(n);return r[s]={},r},{}))||{}}function cQ(t,e){return t.reduce((i,r)=>{const n=i[r];return(!n||Object.keys(n).length===0)&&delete i[r],i},e)}function BEe(t,...e){const i=uQ(t),r=[i,...e].reduce((n,s)=>ws(n,s),{});return cQ(Object.keys(i),r)}function WEe(t,e){if(typeof t!="object")return{};const i={},r=Object.keys(e);return Array.isArray(t)?r.forEach((n,s)=>{s<t.length&&(i[n]=!0)}):r.forEach(n=>{t[n]!=null&&(i[n]=!0)}),i}function JI({values:t,breakpoints:e,base:i}){const r=i||WEe(t,e),n=Object.keys(r);if(n.length===0)return t;let s;return n.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function x0(t,e,i=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&i){const r=`vars.${e}`.split(".").reduce((n,s)=>n&&n[s]?n[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,n)=>r&&r[n]!=null?r[n]:null,t)}function PP(t,e,i,r=i){let n;return typeof t=="function"?n=t(i):Array.isArray(t)?n=t[i]||r:n=x0(t,i)||r,e&&(n=e(n,r,t)),n}function _r(t){const{prop:e,cssProperty:i=t.prop,themeKey:r,transform:n}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=x0(l,r)||{};return Al(o,a,d=>{let h=PP(u,n,d);return d===h&&typeof d=="string"&&(h=PP(u,n,`${e}${d==="default"?"":$e(d)}`,d)),i===!1?h:{[i]:h}})};return s.propTypes={},s.filterProps=[e],s}function UEe(t){const e={};return i=>(e[i]===void 0&&(e[i]=t(i)),e[i])}const zEe={m:"margin",p:"padding"},jEe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},KEe=UEe(t=>{if(t.length>2)if(O3[t])t=O3[t];else return[t];const[e,i]=t.split(""),r=zEe[e],n=jEe[i]||"";return Array.isArray(n)?n.map(s=>r+s):[r+n]}),_V=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],NV=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._V,...NV];function ib(t,e,i,r){var n;const s=(n=x0(t,e,!1))!=null?n:i;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function GV(t){return ib(t,"spacing",8)}function Up(t,e){if(typeof e=="string"||e==null)return e;const i=Math.abs(e),r=t(i);return e>=0?r:typeof r=="number"?-r:`-${r}`}function YEe(t,e){return i=>t.reduce((r,n)=>(r[n]=Up(e,i),r),{})}function qEe(t,e,i,r){if(e.indexOf(i)===-1)return null;const n=KEe(i),s=YEe(n,r),o=t[i];return Al(t,o,s)}function dQ(t,e){const i=GV(t.theme);return Object.keys(t).map(r=>qEe(t,e,r,i)).reduce(fS,{})}function Sr(t){return dQ(t,_V)}Sr.propTypes={};Sr.filterProps=_V;function wr(t){return dQ(t,NV)}wr.propTypes={};wr.filterProps=NV;function XEe(t=8){if(t.mui)return t;const e=GV({spacing:t}),i=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return i.mui=!0,i}function A0(...t){const e=t.reduce((r,n)=>(n.filterProps.forEach(s=>{r[s]=n}),r),{}),i=r=>Object.keys(r).reduce((n,s)=>e[s]?fS(n,e[s](r)):n,{});return i.propTypes={},i.filterProps=t.reduce((r,n)=>r.concat(n.filterProps),[]),i}function ya(t){return typeof t!="number"?t:`${t}px solid`}function za(t,e){return _r({prop:t,themeKey:"borders",transform:e})}const QEe=za("border",ya),ZEe=za("borderTop",ya),JEe=za("borderRight",ya),ebe=za("borderBottom",ya),tbe=za("borderLeft",ya),ibe=za("borderColor"),rbe=za("borderTopColor"),nbe=za("borderRightColor"),sbe=za("borderBottomColor"),obe=za("borderLeftColor"),abe=za("outline",ya),lbe=za("outlineColor"),O0=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ib(t.theme,"shape.borderRadius",4),i=r=>({borderRadius:Up(e,r)});return Al(t,t.borderRadius,i)}return null};O0.propTypes={};O0.filterProps=["borderRadius"];A0(QEe,ZEe,JEe,ebe,tbe,ibe,rbe,nbe,sbe,obe,O0,abe,lbe);const M0=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ib(t.theme,"spacing",8),i=r=>({gap:Up(e,r)});return Al(t,t.gap,i)}return null};M0.propTypes={};M0.filterProps=["gap"];const F0=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ib(t.theme,"spacing",8),i=r=>({columnGap:Up(e,r)});return Al(t,t.columnGap,i)}return null};F0.propTypes={};F0.filterProps=["columnGap"];const I0=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ib(t.theme,"spacing",8),i=r=>({rowGap:Up(e,r)});return Al(t,t.rowGap,i)}return null};I0.propTypes={};I0.filterProps=["rowGap"];const ube=_r({prop:"gridColumn"}),cbe=_r({prop:"gridRow"}),dbe=_r({prop:"gridAutoFlow"}),hbe=_r({prop:"gridAutoColumns"}),pbe=_r({prop:"gridAutoRows"}),fbe=_r({prop:"gridTemplateColumns"}),gbe=_r({prop:"gridTemplateRows"}),mbe=_r({prop:"gridTemplateAreas"}),vbe=_r({prop:"gridArea"});A0(M0,F0,I0,ube,cbe,dbe,hbe,pbe,fbe,gbe,mbe,vbe);function mm(t,e){return e==="grey"?e:t}const Cbe=_r({prop:"color",themeKey:"palette",transform:mm}),ybe=_r({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:mm}),Sbe=_r({prop:"backgroundColor",themeKey:"palette",transform:mm});A0(Cbe,ybe,Sbe);function Ao(t){return t<=1&&t!==0?`${t*100}%`:t}const wbe=_r({prop:"width",transform:Ao}),kV=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=i=>{var r,n;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[i])||LV[i];return s?((n=t.theme)==null||(n=n.breakpoints)==null?void 0:n.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ao(i)}};return Al(t,t.maxWidth,e)}return null};kV.filterProps=["maxWidth"];const Ebe=_r({prop:"minWidth",transform:Ao}),bbe=_r({prop:"height",transform:Ao}),Rbe=_r({prop:"maxHeight",transform:Ao}),Tbe=_r({prop:"minHeight",transform:Ao});_r({prop:"size",cssProperty:"width",transform:Ao});_r({prop:"size",cssProperty:"height",transform:Ao});const Dbe=_r({prop:"boxSizing"});A0(wbe,kV,Ebe,bbe,Rbe,Tbe,Dbe);const Pbe={border:{themeKey:"borders",transform:ya},borderTop:{themeKey:"borders",transform:ya},borderRight:{themeKey:"borders",transform:ya},borderBottom:{themeKey:"borders",transform:ya},borderLeft:{themeKey:"borders",transform:ya},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ya},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:O0},color:{themeKey:"palette",transform:mm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:mm},backgroundColor:{themeKey:"palette",transform:mm},p:{style:wr},pt:{style:wr},pr:{style:wr},pb:{style:wr},pl:{style:wr},px:{style:wr},py:{style:wr},padding:{style:wr},paddingTop:{style:wr},paddingRight:{style:wr},paddingBottom:{style:wr},paddingLeft:{style:wr},paddingX:{style:wr},paddingY:{style:wr},paddingInline:{style:wr},paddingInlineStart:{style:wr},paddingInlineEnd:{style:wr},paddingBlock:{style:wr},paddingBlockStart:{style:wr},paddingBlockEnd:{style:wr},m:{style:Sr},mt:{style:Sr},mr:{style:Sr},mb:{style:Sr},ml:{style:Sr},mx:{style:Sr},my:{style:Sr},margin:{style:Sr},marginTop:{style:Sr},marginRight:{style:Sr},marginBottom:{style:Sr},marginLeft:{style:Sr},marginX:{style:Sr},marginY:{style:Sr},marginInline:{style:Sr},marginInlineStart:{style:Sr},marginInlineEnd:{style:Sr},marginBlock:{style:Sr},marginBlockStart:{style:Sr},marginBlockEnd:{style:Sr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:M0},rowGap:{style:I0},columnGap:{style:F0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ao},maxWidth:{style:kV},minWidth:{transform:Ao},height:{transform:Ao},maxHeight:{transform:Ao},minHeight:{transform:Ao},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},rb=Pbe;function xbe(...t){const e=t.reduce((r,n)=>r.concat(Object.keys(n)),[]),i=new Set(e);return t.every(r=>i.size===Object.keys(r).length)}function Abe(t,e){return typeof t=="function"?t(e):t}function hQ(){function t(i,r,n,s){const o={[i]:r,theme:n},a=s[i];if(!a)return{[i]:r};const{cssProperty:l=i,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[i]:r};const h=x0(n,u)||{};return d?d(o):Al(o,r,g=>{let m=PP(h,c,g);return g===m&&typeof g=="string"&&(m=PP(h,c,`${i}${g==="default"?"":$e(g)}`,g)),l===!1?m:{[l]:m}})}function e(i){var r;const{sx:n,theme:s={}}=i||{};if(!n)return null;const o=(r=s.unstable_sxConfig)!=null?r:rb;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=uQ(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const g=Abe(u[f],s);if(g!=null)if(typeof g=="object")if(o[f])h=fS(h,t(f,g,s,o));else{const m=Al({theme:s},g,C=>({[f]:C}));xbe(m,g)?h[f]=e({sx:g,theme:s}):h=fS(h,m)}else h=fS(h,t(f,g,s,o))}),cQ(d,h)}return Array.isArray(n)?n.map(a):a(n)}return e}const nb=hQ();nb.filterProps=["sx"];function pQ(t,e){const i=this;return i.vars&&typeof i.getColorSchemeSelector=="function"?{[i.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:i.palette.mode===t?e:{}}const Obe=["breakpoints","palette","spacing","shape"];function sb(t={},...e){const{breakpoints:i={},palette:r={},spacing:n,shape:s={}}=t,o=Oe(t,Obe),a=lQ(i),l=XEe(n);let u=ws({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},$Ee,s)},o);return u.applyStyles=pQ,u=e.reduce((c,d)=>ws(c,d),u),u.unstable_sxConfig=G({},rb,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return nb({sx:d,theme:this})},u}const Mbe=Object.freeze(Object.defineProperty({__proto__:null,default:sb,private_createBreakpoints:lQ,unstable_applyStyles:pQ},Symbol.toStringTag,{value:"Module"})),Fbe=Lc(Mbe),Ibe=["sx"],Lbe=t=>{var e,i;const r={systemProps:{},otherProps:{}},n=(e=t==null||(i=t.theme)==null?void 0:i.unstable_sxConfig)!=null?e:rb;return Object.keys(t).forEach(s=>{n[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function VV(t){const{sx:e}=t,i=Oe(t,Ibe),{systemProps:r,otherProps:n}=Lbe(i);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return ec(a)?G({},r,a):r}:s=G({},r,e),G({},n,{sx:s})}const _be=Object.freeze(Object.defineProperty({__proto__:null,default:nb,extendSxProp:VV,unstable_createStyleFunctionSx:hQ,unstable_defaultSxConfig:rb},Symbol.toStringTag,{value:"Module"})),Nbe=Lc(_be);var Vv=Vl;Object.defineProperty(eb,"__esModule",{value:!0});var Gbe=eb.default=Xbe;eb.shouldForwardProp=yD;eb.systemDefaultTheme=void 0;var ga=Vv(FX()),IN=Vv(bwe()),M3=Ube(iQ),kbe=xEe;Vv(MEe);Vv(GEe);var Vbe=Vv(Fbe),Hbe=Vv(Nbe);const $be=["ownerState"],Bbe=["variants"],Wbe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function fQ(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,i=new WeakMap;return(fQ=function(r){return r?i:e})(t)}function Ube(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var i=fQ(e);if(i&&i.has(t))return i.get(t);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,i&&i.set(t,r),r}function zbe(t){return Object.keys(t).length===0}function jbe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function yD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Kbe=eb.systemDefaultTheme=(0,Vbe.default)(),Ybe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ST({defaultTheme:t,theme:e,themeId:i}){return zbe(e)?t:e[i]||e}function qbe(t){return t?(e,i)=>i[t]:null}function SD(t,e){let{ownerState:i}=e,r=(0,IN.default)(e,$be);const n=typeof t=="function"?t((0,ga.default)({ownerState:i},r)):t;if(Array.isArray(n))return n.flatMap(s=>SD(s,(0,ga.default)({ownerState:i},r)));if(n&&typeof n=="object"&&Array.isArray(n.variants)){const{variants:s=[]}=n;let a=(0,IN.default)(n,Bbe);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,ga.default)({ownerState:i},r,i)):Object.keys(l.props).forEach(c=>{(i==null?void 0:i[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,ga.default)({ownerState:i},r,i)):l.style))}),a}return n}function Xbe(t={}){const{themeId:e,defaultTheme:i=Kbe,rootShouldForwardProp:r=yD,slotShouldForwardProp:n=yD}=t,s=o=>(0,Hbe.default)((0,ga.default)({},o,{theme:ST((0,ga.default)({},o,{defaultTheme:i,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,M3.internal_processStyles)(o,b=>b.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=qbe(Ybe(u))}=a,f=(0,IN.default)(a,Wbe),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,m=d||!1;let C,S=yD;u==="Root"||u==="root"?S=r:u?S=n:jbe(o)&&(S=void 0);const y=(0,M3.default)(o,(0,ga.default)({shouldForwardProp:S,label:C},f)),w=b=>typeof b=="function"&&b.__emotion_real!==b||(0,kbe.isPlainObject)(b)?D=>SD(b,(0,ga.default)({},D,{theme:ST({theme:D.theme,defaultTheme:i,themeId:e})})):b,E=(b,...D)=>{let P=w(b);const O=D?D.map(w):[];l&&h&&O.push(I=>{const k=ST((0,ga.default)({},I,{defaultTheme:i,themeId:e}));if(!k.components||!k.components[l]||!k.components[l].styleOverrides)return null;const B=k.components[l].styleOverrides,U={};return Object.entries(B).forEach(([K,j])=>{U[K]=SD(j,(0,ga.default)({},I,{theme:k}))}),h(I,U)}),l&&!g&&O.push(I=>{var k;const B=ST((0,ga.default)({},I,{defaultTheme:i,themeId:e})),U=B==null||(k=B.components)==null||(k=k[l])==null?void 0:k.variants;return SD({variants:U},(0,ga.default)({},I,{theme:B}))}),m||O.push(s);const N=O.length-D.length;if(Array.isArray(b)&&N>0){const I=new Array(N).fill("");P=[...b,...I],P.raw=[...b.raw,...I]}const _=y(P,...O);return o.muiName&&(_.muiName=o.muiName),_};return y.withConfig&&(E.withConfig=y.withConfig),E}}const F3=t=>t,Qbe=()=>{let t=F3;return{configure(e){t=e},generate(e){return t(e)},reset(){t=F3}}},gQ=Qbe(),mQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function at(t,e,i="Mui"){const r=mQ[e];return r?`${i}-${r}`:`${gQ.generate(t)}-${e}`}function Zbe(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Nr={};const Jbe=Lc(AEe);function vQ(t,e=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,i))}const eRe=Object.freeze(Object.defineProperty({__proto__:null,default:vQ},Symbol.toStringTag,{value:"Module"})),tRe=Lc(eRe);var CQ=Vl;Object.defineProperty(Nr,"__esModule",{value:!0});var Vi=Nr.alpha=EQ;Nr.blend=fRe;Nr.colorChannel=void 0;var iRe=Nr.darken=$V;Nr.decomposeColor=Na;Nr.emphasize=bQ;var rRe=Nr.getContrastRatio=uRe;Nr.getLuminance=xP;Nr.hexToRgb=yQ;Nr.hslToRgb=wQ;var nRe=Nr.lighten=BV;Nr.private_safeAlpha=cRe;Nr.private_safeColorChannel=void 0;Nr.private_safeDarken=dRe;Nr.private_safeEmphasize=pRe;Nr.private_safeLighten=hRe;Nr.recomposeColor=Hv;Nr.rgbToHex=lRe;var I3=CQ(Jbe),sRe=CQ(tRe);function HV(t,e=0,i=1){return(0,sRe.default)(t,e,i)}function yQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&i[0].length===1&&(i=i.map(r=>r+r)),i?`rgb${i.length===4?"a":""}(${i.map((r,n)=>n<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function oRe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Na(t){if(t.type)return t;if(t.charAt(0)==="#")return Na(yQ(t));const e=t.indexOf("("),i=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error((0,I3.default)(9,t));let r=t.substring(e+1,t.length-1),n;if(i==="color"){if(r=r.split(" "),n=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n)===-1)throw new Error((0,I3.default)(10,n))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:i,values:r,colorSpace:n}}const SQ=t=>{const e=Na(t);return e.values.slice(0,3).map((i,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${i}%`:i).join(" ")};Nr.colorChannel=SQ;const aRe=(t,e)=>{try{return SQ(t)}catch{return t}};Nr.private_safeColorChannel=aRe;function Hv(t){const{type:e,colorSpace:i}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((n,s)=>s<3?parseInt(n,10):n):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${i} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function lRe(t){if(t.indexOf("#")===0)return t;const{values:e}=Na(t);return`#${e.map((i,r)=>oRe(r===3?Math.round(255*i):i)).join("")}`}function wQ(t){t=Na(t);const{values:e}=t,i=e[0],r=e[1]/100,n=e[2]/100,s=r*Math.min(n,1-n),o=(u,c=(u+i/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Hv({type:a,values:l})}function xP(t){t=Na(t);let e=t.type==="hsl"||t.type==="hsla"?Na(wQ(t)).values:t.values;return e=e.map(i=>(t.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function uRe(t,e){const i=xP(t),r=xP(e);return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)}function EQ(t,e){return t=Na(t),e=HV(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Hv(t)}function cRe(t,e,i){try{return EQ(t,e)}catch{return t}}function $V(t,e){if(t=Na(t),e=HV(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)t.values[i]*=1-e;return Hv(t)}function dRe(t,e,i){try{return $V(t,e)}catch{return t}}function BV(t,e){if(t=Na(t),e=HV(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(t.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return Hv(t)}function hRe(t,e,i){try{return BV(t,e)}catch{return t}}function bQ(t,e=.15){return xP(t)>.5?$V(t,e):BV(t,e)}function pRe(t,e,i){try{return bQ(t,e)}catch{return t}}function fRe(t,e,i,r=1){const n=(l,u)=>Math.round((l**(1/r)*(1-i)+u**(1/r)*i)**r),s=Na(t),o=Na(e),a=[n(s.values[0],o.values[0]),n(s.values[1],o.values[1]),n(s.values[2],o.values[2])];return Hv({type:"rgb",values:a})}const gRe={black:"#000",white:"#fff"},JS=gRe,mRe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},vRe=mRe,CRe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Sg=CRe,yRe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wg=yRe,SRe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ly=SRe,wRe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Eg=wRe,ERe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bg=ERe,bRe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Rg=bRe,RRe=["mode","contrastThreshold","tonalOffset"],L3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:JS.white,default:JS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},eL={text:{primary:JS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:JS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _3(t,e,i,r){const n=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:e==="light"?t.light=nRe(t.main,n):e==="dark"&&(t.dark=iRe(t.main,s)))}function TRe(t="light"){return t==="dark"?{main:Eg[200],light:Eg[50],dark:Eg[400]}:{main:Eg[700],light:Eg[400],dark:Eg[800]}}function DRe(t="light"){return t==="dark"?{main:Sg[200],light:Sg[50],dark:Sg[400]}:{main:Sg[500],light:Sg[300],dark:Sg[700]}}function PRe(t="light"){return t==="dark"?{main:wg[500],light:wg[300],dark:wg[700]}:{main:wg[700],light:wg[400],dark:wg[800]}}function xRe(t="light"){return t==="dark"?{main:bg[400],light:bg[300],dark:bg[700]}:{main:bg[700],light:bg[500],dark:bg[900]}}function ARe(t="light"){return t==="dark"?{main:Rg[400],light:Rg[300],dark:Rg[700]}:{main:Rg[800],light:Rg[500],dark:Rg[900]}}function ORe(t="light"){return t==="dark"?{main:ly[400],light:ly[300],dark:ly[700]}:{main:"#ed6c02",light:ly[500],dark:ly[900]}}function MRe(t){const{mode:e="light",contrastThreshold:i=3,tonalOffset:r=.2}=t,n=Oe(t,RRe),s=t.primary||TRe(e),o=t.secondary||DRe(e),a=t.error||PRe(e),l=t.info||xRe(e),u=t.success||ARe(e),c=t.warning||ORe(e);function d(m){return rRe(m,eL.text.primary)>=i?eL.text.primary:L3.text.primary}const h=({color:m,name:C,mainShade:S=500,lightShade:y=300,darkShade:w=700})=>{if(m=G({},m),!m.main&&m[S]&&(m.main=m[S]),!m.hasOwnProperty("main"))throw new Error(Cc(11,C?` (${C})`:"",S));if(typeof m.main!="string")throw new Error(Cc(12,C?` (${C})`:"",JSON.stringify(m.main)));return _3(m,"light",y,r),_3(m,"dark",w,r),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:eL,light:L3};return ws(G({common:G({},JS),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:vRe,contrastThreshold:i,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),n)}const FRe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function IRe(t){return Math.round(t*1e5)/1e5}const N3={textTransform:"uppercase"},G3='"Roboto", "Helvetica", "Arial", sans-serif';function LRe(t,e){const i=typeof e=="function"?e(t):e,{fontFamily:r=G3,fontSize:n=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=i,h=Oe(i,FRe),f=n/14,g=d||(S=>`${S/u*f}rem`),m=(S,y,w,E,b)=>G({fontFamily:r,fontWeight:S,fontSize:g(y),lineHeight:w},r===G3?{letterSpacing:`${IRe(E/y)}em`}:{},b,c),C={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,N3),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,N3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ws(G({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:n,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},C),h,{clone:!1})}const _Re=.2,NRe=.14,GRe=.12;function sr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${_Re})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${NRe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${GRe})`].join(",")}const kRe=["none",sr(0,2,1,-1,0,1,1,0,0,1,3,0),sr(0,3,1,-2,0,2,2,0,0,1,5,0),sr(0,3,3,-2,0,3,4,0,0,1,8,0),sr(0,2,4,-1,0,4,5,0,0,1,10,0),sr(0,3,5,-1,0,5,8,0,0,1,14,0),sr(0,3,5,-1,0,6,10,0,0,1,18,0),sr(0,4,5,-2,0,7,10,1,0,2,16,1),sr(0,5,5,-3,0,8,10,1,0,3,14,2),sr(0,5,6,-3,0,9,12,1,0,3,16,2),sr(0,6,6,-3,0,10,14,1,0,4,18,3),sr(0,6,7,-4,0,11,15,1,0,4,20,3),sr(0,7,8,-4,0,12,17,2,0,5,22,4),sr(0,7,8,-4,0,13,19,2,0,5,24,4),sr(0,7,9,-4,0,14,21,2,0,5,26,4),sr(0,8,9,-5,0,15,22,2,0,6,28,5),sr(0,8,10,-5,0,16,24,2,0,6,30,5),sr(0,8,11,-5,0,17,26,2,0,6,32,5),sr(0,9,11,-5,0,18,28,2,0,7,34,6),sr(0,9,12,-6,0,19,29,2,0,7,36,6),sr(0,10,13,-6,0,20,31,3,0,8,38,7),sr(0,10,13,-6,0,21,33,3,0,8,40,7),sr(0,10,14,-6,0,22,35,3,0,8,42,7),sr(0,11,14,-7,0,23,36,3,0,9,44,8),sr(0,11,15,-7,0,24,38,3,0,9,46,8)],VRe=["duration","easing","delay"],HRe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$Re={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function k3(t){return`${Math.round(t)}ms`}function BRe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function WRe(t){const e=G({},HRe,t.easing),i=G({},$Re,t.duration);return G({getAutoHeightDuration:BRe,create:(n=["all"],s={})=>{const{duration:o=i.standard,easing:a=e.easeInOut,delay:l=0}=s;return Oe(s,VRe),(Array.isArray(n)?n:[n]).map(u=>`${u} ${typeof o=="string"?o:k3(o)} ${a} ${typeof l=="string"?l:k3(l)}`).join(",")}},t,{easing:e,duration:i})}const URe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zRe=URe,jRe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function KRe(t={},...e){const{mixins:i={},palette:r={},transitions:n={},typography:s={}}=t,o=Oe(t,jRe);if(t.vars)throw new Error(Cc(18));const a=MRe(r),l=sb(t);let u=ws(l,{mixins:Zbe(l.breakpoints,i),palette:a,shadows:kRe.slice(),typography:LRe(a,s),transitions:WRe(n),zIndex:G({},zRe)});return u=ws(u,o),u=e.reduce((c,d)=>ws(c,d),u),u.unstable_sxConfig=G({},rb,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return nb({sx:d,theme:this})},u}const YRe=KRe(),L0=YRe,_0="$$material";function RQ(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qRe=t=>RQ(t)&&t!=="classes",qo=qRe,be=Gbe({themeId:_0,defaultTheme:L0,rootShouldForwardProp:qo});function WV(t,e){const i=G({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))i[r]=G({},t[r],i[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const n=t[r]||{},s=e[r];i[r]={},!s||!Object.keys(s)?i[r]=n:!n||!Object.keys(n)?i[r]=s:(i[r]=G({},s),Object.keys(n).forEach(o=>{i[r][o]=WV(n[o],s[o])}))}else i[r]===void 0&&(i[r]=t[r])}),i}function TQ(t){const{theme:e,name:i,props:r}=t;return!e||!e.components||!e.components[i]||!e.components[i].defaultProps?r:WV(e.components[i].defaultProps,r)}function XRe(t){return Object.keys(t).length===0}function DQ(t=null){const e=T.useContext(m0);return!e||XRe(e)?t:e}const QRe=sb();function ob(t=QRe){return DQ(t)}function PQ({props:t,name:e,defaultTheme:i,themeId:r}){let n=ob(i);return r&&(n=n[r]||n),TQ({theme:n,name:e,props:t})}function rt({props:t,name:e}){return PQ({props:t,name:e,defaultTheme:L0,themeId:_0})}const V3=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function ZRe({styles:t,themeId:e,defaultTheme:i={}}){const r=ob(i),n=typeof t=="function"?t(e&&r[e]||r):t;return Y.jsx(JX,{styles:n})}function lt(t,e,i="Mui"){const r={};return e.forEach(n=>{r[n]=at(t,n,i)}),r}const JRe=["ownerState"],eTe=["variants"],tTe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function iTe(t){return Object.keys(t).length===0}function rTe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function wD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const nTe=sb(),sTe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function wT({defaultTheme:t,theme:e,themeId:i}){return iTe(e)?t:e[i]||e}function oTe(t){return t?(e,i)=>i[t]:null}function ED(t,e){let{ownerState:i}=e,r=Oe(e,JRe);const n=typeof t=="function"?t(G({ownerState:i},r)):t;if(Array.isArray(n))return n.flatMap(s=>ED(s,G({ownerState:i},r)));if(n&&typeof n=="object"&&Array.isArray(n.variants)){const{variants:s=[]}=n;let a=Oe(n,eTe);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(G({ownerState:i},r,i)):Object.keys(l.props).forEach(c=>{(i==null?void 0:i[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(G({ownerState:i},r,i)):l.style))}),a}return n}function aTe(t={}){const{themeId:e,defaultTheme:i=nTe,rootShouldForwardProp:r=wD,slotShouldForwardProp:n=wD}=t,s=o=>nb(G({},o,{theme:wT(G({},o,{defaultTheme:i,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{tQ(o,b=>b.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=oTe(sTe(u))}=a,f=Oe(a,tTe),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,m=d||!1;let C,S=wD;u==="Root"||u==="root"?S=r:u?S=n:rTe(o)&&(S=void 0);const y=eQ(o,G({shouldForwardProp:S,label:C},f)),w=b=>typeof b=="function"&&b.__emotion_real!==b||ec(b)?D=>ED(b,G({},D,{theme:wT({theme:D.theme,defaultTheme:i,themeId:e})})):b,E=(b,...D)=>{let P=w(b);const O=D?D.map(w):[];l&&h&&O.push(I=>{const k=wT(G({},I,{defaultTheme:i,themeId:e}));if(!k.components||!k.components[l]||!k.components[l].styleOverrides)return null;const B=k.components[l].styleOverrides,U={};return Object.entries(B).forEach(([K,j])=>{U[K]=ED(j,G({},I,{theme:k}))}),h(I,U)}),l&&!g&&O.push(I=>{var k;const B=wT(G({},I,{defaultTheme:i,themeId:e})),U=B==null||(k=B.components)==null||(k=k[l])==null?void 0:k.variants;return ED({variants:U},G({},I,{theme:B}))}),m||O.push(s);const N=O.length-D.length;if(Array.isArray(b)&&N>0){const I=new Array(N).fill("");P=[...b,...I],P.raw=[...b.raw,...I]}const _=y(P,...O);return o.muiName&&(_.muiName=o.muiName),_};return y.withConfig&&(E.withConfig=y.withConfig),E}}const lTe=aTe(),Xr=typeof window<"u"?T.useLayoutEffect:T.useEffect;function uTe(t,e,i,r,n){const[s,o]=T.useState(()=>n&&i?i(t).matches:r?r(t).matches:e);return Xr(()=>{let a=!0;if(!i)return;const l=i(t),u=()=>{a&&o(l.matches)};return u(),l.addListener(u),()=>{a=!1,l.removeListener(u)}},[t,i]),s}const xQ=T.useSyncExternalStore;function cTe(t,e,i,r,n){const s=T.useCallback(()=>e,[e]),o=T.useMemo(()=>{if(n&&i)return()=>i(t).matches;if(r!==null){const{matches:c}=r(t);return()=>c}return s},[s,t,r,n,i]),[a,l]=T.useMemo(()=>{if(i===null)return[s,()=>()=>{}];const c=i(t);return[()=>c.matches,d=>(c.addListener(d),()=>{c.removeListener(d)})]},[s,i,t]);return xQ(l,a,o)}function AQ(t,e={}){const i=DQ(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:n=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=TQ({name:"MuiUseMediaQuery",props:e,theme:i});let l=typeof t=="function"?t(i):t;return l=l.replace(/^@media( ?)/m,""),(xQ!==void 0?cTe:uTe)(l,n,s,o,a)}function dTe(t,e=0,i=1){return vQ(t,e,i)}function hTe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let i=t.match(e);return i&&i[0].length===1&&(i=i.map(r=>r+r)),i?`rgb${i.length===4?"a":""}(${i.map((r,n)=>n<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function OQ(t){if(t.type)return t;if(t.charAt(0)==="#")return OQ(hTe(t));const e=t.indexOf("("),i=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error(Cc(9,t));let r=t.substring(e+1,t.length-1),n;if(i==="color"){if(r=r.split(" "),n=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n)===-1)throw new Error(Cc(10,n))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:i,values:r,colorSpace:n}}function pTe(t){const{type:e,colorSpace:i}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((n,s)=>s<3?parseInt(n,10):n):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${i} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function km(t,e){return t=OQ(t),e=dTe(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,pTe(t)}const fTe=ee.oneOfType([ee.func,ee.object]),MQ=fTe;function LN(...t){return t.reduce((e,i)=>i==null?e:function(...n){e.apply(this,n),i.apply(this,n)},()=>{})}function N0(t,e=166){let i;function r(...n){const s=()=>{t.apply(this,n)};clearTimeout(i),i=setTimeout(s,e)}return r.clear=()=>{clearTimeout(i)},r}function gTe(t,e){return()=>null}function gS(t,e){var i,r;return T.isValidElement(t)&&e.indexOf((i=t.type.muiName)!=null?i:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function on(t){return t&&t.ownerDocument||document}function bu(t){return on(t).defaultView||window}function mTe(t,e){return()=>null}function AP(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let H3=0;function vTe(t){const[e,i]=T.useState(t),r=t||e;return T.useEffect(()=>{e==null&&(H3+=1,i(`mui-${H3}`))},[e]),r}const $3=JD.useId;function Nc(t){if($3!==void 0){const e=$3();return t??e}return vTe(t)}function CTe(t,e,i,r,n){return null}function Ru({controlled:t,default:e,name:i,state:r="value"}){const{current:n}=T.useRef(t!==void 0),[s,o]=T.useState(e),a=n?t:s,l=T.useCallback(u=>{n||o(u)},[]);return[a,l]}function Xe(t){const e=T.useRef(t);return Xr(()=>{e.current=t}),T.useRef((...i)=>(0,e.current)(...i)).current}function ri(...t){return T.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(i=>{AP(i,e)})},t)}const B3={};function yTe(t,e){const i=T.useRef(B3);return i.current===B3&&(i.current=t(e)),i}const STe=[];function wTe(t){T.useEffect(t,STe)}class G0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new G0}start(e,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},e)}}function FQ(){const t=yTe(G0.create).current;return wTe(t.disposeEffect),t}let k0=!0,_N=!1;const ETe=new G0,bTe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function RTe(t){const{type:e,tagName:i}=t;return!!(i==="INPUT"&&bTe[e]&&!t.readOnly||i==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function TTe(t){t.metaKey||t.altKey||t.ctrlKey||(k0=!0)}function tL(){k0=!1}function DTe(){this.visibilityState==="hidden"&&_N&&(k0=!0)}function PTe(t){t.addEventListener("keydown",TTe,!0),t.addEventListener("mousedown",tL,!0),t.addEventListener("pointerdown",tL,!0),t.addEventListener("touchstart",tL,!0),t.addEventListener("visibilitychange",DTe,!0)}function xTe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return k0||RTe(e)}function IQ(){const t=T.useCallback(n=>{n!=null&&PTe(n.ownerDocument)},[]),e=T.useRef(!1);function i(){return e.current?(_N=!0,ETe.start(100,()=>{_N=!1}),e.current=!1,!0):!1}function r(n){return xTe(n)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:i,ref:t}}function LQ(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const ATe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},OTe=ATe,MTe=T.createContext(),_Q=()=>{const t=T.useContext(MTe);return t??!1};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function FTe(t,e){if(yc(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NQ(t){var e=FTe(t,"string");return yc(e)=="symbol"?e:e+""}const ITe=["component","direction","spacing","divider","children","className","useFlexGap"],LTe=sb(),_Te=lTe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function NTe(t){return PQ({props:t,name:"MuiStack",defaultTheme:LTe})}function GTe(t,e){const i=T.Children.toArray(t).filter(Boolean);return i.reduce((r,n,s)=>(r.push(n),s<i.length-1&&r.push(T.cloneElement(e,{key:`separator-${s}`})),r),[])}const kTe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],VTe=({ownerState:t,theme:e})=>{let i=G({display:"flex",flexDirection:"column"},Al({theme:e},JI({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=GV(e),n=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),s=JI({values:t.direction,base:n}),o=JI({values:t.spacing,base:n});typeof s=="object"&&Object.keys(s).forEach((l,u,c)=>{if(!s[l]){const h=u>0?s[c[u-1]]:"column";s[l]=h}}),i=ws(i,Al({theme:e},o,(l,u)=>t.useFlexGap?{gap:Up(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${kTe(u?s[u]:t.direction)}`]:Up(r,l)}}))}return i=BEe(e.breakpoints,i),i};function HTe(t={}){const{createStyledComponent:e=_Te,useThemeProps:i=NTe,componentName:r="MuiStack"}=t,n=()=>ot({root:["root"]},l=>at(r,l),{}),s=e(VTe);return T.forwardRef(function(l,u){const c=i(l),d=VV(c),{component:h="div",direction:f="column",spacing:g=0,divider:m,children:C,className:S,useFlexGap:y=!1}=d,w=Oe(d,ITe),E={direction:f,spacing:g,useFlexGap:y},b=n();return Y.jsx(s,G({as:h,ownerState:E,ref:u,className:Le(b.root,S)},w,{children:m?GTe(C,m):C}))})}function ja(){const t=ob(L0);return t[_0]||t}function $Te(t){return at("MuiPaper",t)}lt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const BTe=["className","component","elevation","square","variant"],WTe=t=>{const{square:e,elevation:i,variant:r,classes:n}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${i}`]};return ot(s,$Te,n)},UTe=be("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],!i.square&&e.rounded,i.variant==="elevation"&&e[`elevation${i.elevation}`]]}})(({theme:t,ownerState:e})=>{var i;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Vi("#fff",V3(e.elevation))}, ${Vi("#fff",V3(e.elevation))})`},t.vars&&{backgroundImage:(i=t.vars.overlays)==null?void 0:i[e.elevation]}))}),zTe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPaper"}),{className:n,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=Oe(r,BTe),c=G({},r,{component:s,elevation:o,square:a,variant:l}),d=WTe(c);return Y.jsx(UTe,G({as:s,ownerState:c,className:Le(d.root,n),ref:i},u))}),$v=zTe;function jTe(t){return at("MuiAppBar",t)}lt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const KTe=["className","color","enableColorOnDark","position"],YTe=t=>{const{color:e,position:i,classes:r}=t,n={root:["root",`color${$e(e)}`,`position${$e(i)}`]};return ot(n,jTe,r)},ET=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,qTe=be($v,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${$e(i.position)}`],e[`color${$e(i.color)}`]]}})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return G({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&G({},e.color==="default"&&{backgroundColor:i,color:t.palette.getContrastText(i)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&G({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&G({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:ET(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:ET(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:ET(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:ET(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),XTe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiAppBar"}),{className:n,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=Oe(r,KTe),u=G({},r,{color:s,position:a,enableColorOnDark:o}),c=YTe(u);return Y.jsx(qTe,G({square:!0,component:"header",ownerState:u,elevation:4,className:Le(c.root,n,a==="fixed"&&"mui-fixed"),ref:i},l))}),QTe=XTe;function ZTe(t){return at("MuiToolbar",t)}lt("MuiToolbar",["root","gutters","regular","dense"]);const JTe=["className","component","disableGutters","variant"],eDe=t=>{const{classes:e,disableGutters:i,variant:r}=t;return ot({root:["root",!i&&"gutters",r]},ZTe,e)},tDe=be("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disableGutters&&e.gutters,e[i.variant]]}})(({theme:t,ownerState:e})=>G({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),iDe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiToolbar"}),{className:n,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=Oe(r,JTe),u=G({},r,{component:s,disableGutters:o,variant:a}),c=eDe(u);return Y.jsx(tDe,G({as:s,className:Le(c.root,n),ref:i,ownerState:u},l))}),rDe=iDe;function Vm(t){return typeof t=="string"}function nDe(t,e,i){return t===void 0||Vm(t)?e:G({},e,{ownerState:G({},e.ownerState,i)})}const sDe={disableDefaultClasses:!1},oDe=T.createContext(sDe);function aDe(t){const{disableDefaultClasses:e}=T.useContext(oDe);return i=>e?"":t(i)}function GQ(t,e=[]){if(t===void 0)return{};const i={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{i[r]=t[r]}),i}function UV(t,e,i){return typeof t=="function"?t(e,i):t}function W3(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(i=>!(i.match(/^on[A-Z]/)&&typeof t[i]=="function")).forEach(i=>{e[i]=t[i]}),e}function lDe(t){const{getSlotProps:e,additionalProps:i,externalSlotProps:r,externalForwardedProps:n,className:s}=t;if(!e){const f=Le(i==null?void 0:i.className,s,n==null?void 0:n.className,r==null?void 0:r.className),g=G({},i==null?void 0:i.style,n==null?void 0:n.style,r==null?void 0:r.style),m=G({},i,n,r);return f.length>0&&(m.className=f),Object.keys(g).length>0&&(m.style=g),{props:m,internalRef:void 0}}const o=GQ(G({},n,r)),a=W3(r),l=W3(n),u=e(o),c=Le(u==null?void 0:u.className,i==null?void 0:i.className,s,n==null?void 0:n.className,r==null?void 0:r.className),d=G({},u==null?void 0:u.style,i==null?void 0:i.style,n==null?void 0:n.style,r==null?void 0:r.style),h=G({},u,i,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const uDe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ii(t){var e;const{elementType:i,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:s=!1}=t,o=Oe(t,uDe),a=s?{}:UV(r,n),{props:l,internalRef:u}=lDe(G({},o,{externalSlotProps:a})),c=ri(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return nDe(i,G({},l,{ref:c}),n)}function cDe(t){const e=on(t);return e.body===t?bu(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function mS(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function U3(t){return parseInt(bu(t).getComputedStyle(t).paddingRight,10)||0}function dDe(t){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return i||r}function z3(t,e,i,r,n){const s=[e,i,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!dDe(o);a&&l&&mS(o,n)})}function iL(t,e){let i=-1;return t.some((r,n)=>e(r)?(i=n,!0):!1),i}function hDe(t,e){const i=[],r=t.container;if(!e.disableScrollLock){if(cDe(r)){const o=LQ(on(r));i.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${U3(r)+o}px`;const a=on(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{i.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${U3(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=on(r).body;else{const o=r.parentElement,a=bu(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}i.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{i.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function pDe(t){const e=[];return[].forEach.call(t.children,i=>{i.getAttribute("aria-hidden")==="true"&&e.push(i)}),e}class fDe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,i){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&mS(e.modalRef,!1);const n=pDe(i);z3(i,e.mount,e.modalRef,n,!0);const s=iL(this.containers,o=>o.container===i);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:i,restore:null,hiddenSiblings:n}),r)}mount(e,i){const r=iL(this.containers,s=>s.modals.indexOf(e)!==-1),n=this.containers[r];n.restore||(n.restore=hDe(n,i))}remove(e,i=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const n=iL(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[n];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&mS(e.modalRef,i),z3(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(n,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&mS(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function gDe(t){return typeof t=="function"?t():t}function mDe(t){return t?t.props.hasOwnProperty("in"):!1}const vDe=new fDe;function CDe(t){const{container:e,disableEscapeKeyDown:i=!1,disableScrollLock:r=!1,manager:n=vDe,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=T.useRef({}),f=T.useRef(null),g=T.useRef(null),m=ri(g,d),[C,S]=T.useState(!c),y=mDe(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const E=()=>on(f.current),b=()=>(h.current.modalRef=g.current,h.current.mount=f.current,h.current),D=()=>{n.mount(b(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},P=Xe(()=>{const j=gDe(e)||E().body;n.add(b(),j),g.current&&D()}),O=T.useCallback(()=>n.isTopModal(b()),[n]),N=Xe(j=>{f.current=j,j&&(c&&O()?D():g.current&&mS(g.current,w))}),_=T.useCallback(()=>{n.remove(b(),w)},[w,n]);T.useEffect(()=>()=>{_()},[_]),T.useEffect(()=>{c?P():(!y||!s)&&_()},[c,_,y,s,P]);const I=j=>Q=>{var H;(H=j.onKeyDown)==null||H.call(j,Q),!(Q.key!=="Escape"||Q.which===229||!O())&&(i||(Q.stopPropagation(),u&&u(Q,"escapeKeyDown")))},k=j=>Q=>{var H;(H=j.onClick)==null||H.call(j,Q),Q.target===Q.currentTarget&&u&&u(Q,"backdropClick")};return{getRootProps:(j={})=>{const Q=GQ(t);delete Q.onTransitionEnter,delete Q.onTransitionExited;const H=G({},Q,j);return G({role:"presentation"},H,{onKeyDown:I(H),ref:m})},getBackdropProps:(j={})=>{const Q=j;return G({"aria-hidden":!0},Q,{onClick:k(Q),open:c})},getTransitionProps:()=>{const j=()=>{S(!1),o&&o()},Q=()=>{S(!0),a&&a(),s&&_()};return{onEnter:LN(j,l==null?void 0:l.props.onEnter),onExited:LN(Q,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:N,isTopModal:O,exited:C,hasTransition:y}}const yDe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function SDe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function wDe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let i=e(`[name="${t.name}"]:checked`);return i||(i=e(`[name="${t.name}"]`)),i!==t}function EDe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||wDe(t))}function bDe(t){const e=[],i=[];return Array.from(t.querySelectorAll(yDe)).forEach((r,n)=>{const s=SDe(r);s===-1||!EDe(r)||(s===0?e.push(r):i.push({documentOrder:n,tabIndex:s,node:r}))}),i.sort((r,n)=>r.tabIndex===n.tabIndex?r.documentOrder-n.documentOrder:r.tabIndex-n.tabIndex).map(r=>r.node).concat(e)}function RDe(){return!0}function kQ(t){const{children:e,disableAutoFocus:i=!1,disableEnforceFocus:r=!1,disableRestoreFocus:n=!1,getTabbable:s=bDe,isEnabled:o=RDe,open:a}=t,l=T.useRef(!1),u=T.useRef(null),c=T.useRef(null),d=T.useRef(null),h=T.useRef(null),f=T.useRef(!1),g=T.useRef(null),m=ri(e.ref,g),C=T.useRef(null);T.useEffect(()=>{!a||!g.current||(f.current=!i)},[i,a]),T.useEffect(()=>{if(!a||!g.current)return;const w=on(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),f.current&&g.current.focus()),()=>{n||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),T.useEffect(()=>{if(!a||!g.current)return;const w=on(g.current),E=P=>{C.current=P,!(r||!o()||P.key!=="Tab")&&w.activeElement===g.current&&P.shiftKey&&(l.current=!0,c.current&&c.current.focus())},b=()=>{const P=g.current;if(P===null)return;if(!w.hasFocus()||!o()||l.current){l.current=!1;return}if(P.contains(w.activeElement)||r&&w.activeElement!==u.current&&w.activeElement!==c.current)return;if(w.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let O=[];if((w.activeElement===u.current||w.activeElement===c.current)&&(O=s(g.current)),O.length>0){var N,_;const I=!!((N=C.current)!=null&&N.shiftKey&&((_=C.current)==null?void 0:_.key)==="Tab"),k=O[0],B=O[O.length-1];typeof k!="string"&&typeof B!="string"&&(I?B.focus():k.focus())}else P.focus()};w.addEventListener("focusin",b),w.addEventListener("keydown",E,!0);const D=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(D),w.removeEventListener("focusin",b),w.removeEventListener("keydown",E,!0)}},[i,r,n,o,a,s]);const S=w=>{d.current===null&&(d.current=w.relatedTarget),f.current=!0,h.current=w.target;const E=e.props.onFocus;E&&E(w)},y=w=>{d.current===null&&(d.current=w.relatedTarget),f.current=!0};return Y.jsxs(T.Fragment,{children:[Y.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),T.cloneElement(e,{ref:m,onFocus:S}),Y.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}function TDe(t){return typeof t=="function"?t():t}const VQ=T.forwardRef(function(e,i){const{children:r,container:n,disablePortal:s=!1}=e,[o,a]=T.useState(null),l=ri(T.isValidElement(r)?r.ref:null,i);if(Xr(()=>{s||a(TDe(n)||document.body)},[n,s]),Xr(()=>{if(o&&!s)return AP(i,o),()=>{AP(i,null)}},[i,o,s]),s){if(T.isValidElement(r)){const u={ref:l};return T.cloneElement(r,u)}return Y.jsx(T.Fragment,{children:r})}return Y.jsx(T.Fragment,{children:o&&ZE.createPortal(r,o)})});function OP(t,e){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},OP(t,e)}function V0(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,OP(t,e)}function DDe(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function HQ(t,e){t.classList?t.classList.add(e):DDe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function j3(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $Q(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=j3(t.className,e):t.setAttribute("class",j3(t.className&&t.className.baseVal||"",e))}const K3={disabled:!1},MP=$.createContext(null);var BQ=function(e){return e.scrollTop},Vy="unmounted",Uh="exited",zh="entering",Mg="entered",NN="exiting",Gc=function(t){V0(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var o=n,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Uh,s.appearStatus=zh):l=Mg:r.unmountOnExit||r.mountOnEnter?l=Vy:l=Uh,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(n,s){var o=n.in;return o&&s.status===Vy?{status:Uh}:null};var i=e.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(n){var s=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==zh&&o!==Mg&&(s=zh):(o===zh||o===Mg)&&(s=NN)}this.updateStatus(!1,s)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var n=this.props.timeout,s,o,a;return s=o=a=n,n!=null&&typeof n!="number"&&(s=n.exit,o=n.enter,a=n.appear!==void 0?n.appear:o),{exit:s,enter:o,appear:a}},i.updateStatus=function(n,s){if(n===void 0&&(n=!1),s!==null)if(this.cancelNextCallback(),s===zh){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:nc.findDOMNode(this);o&&BQ(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Uh&&this.setState({status:Vy})},i.performEnter=function(n){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:n,l=this.props.nodeRef?[a]:[nc.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!n&&!o||K3.disabled){this.safeSetState({status:Mg},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:zh},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Mg},function(){s.props.onEntered(u,c)})})})},i.performExit=function(){var n=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:nc.findDOMNode(this);if(!s||K3.disabled){this.safeSetState({status:Uh},function(){n.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:NN},function(){n.props.onExiting(a),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:Uh},function(){n.props.onExited(a)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(n,s){s=this.setNextCallback(s),this.setState(n,s)},i.setNextCallback=function(n){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,n(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},i.onTransitionEnd=function(n,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:nc.findDOMNode(this),a=n==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}n!=null&&setTimeout(this.nextCallback,n)},i.render=function(){var n=this.state.status;if(n===Vy)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Oe(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $.createElement(MP.Provider,{value:null},typeof o=="function"?o(n,a):$.cloneElement($.Children.only(o),a))},e}($.Component);Gc.contextType=MP;Gc.propTypes={};function Tg(){}Gc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Tg,onEntering:Tg,onEntered:Tg,onExit:Tg,onExiting:Tg,onExited:Tg};Gc.UNMOUNTED=Vy;Gc.EXITED=Uh;Gc.ENTERING=zh;Gc.ENTERED=Mg;Gc.EXITING=NN;const H0=Gc;var PDe=function(e,i){return e&&i&&i.split(" ").forEach(function(r){return HQ(e,r)})},rL=function(e,i){return e&&i&&i.split(" ").forEach(function(r){return $Q(e,r)})},zV=function(t){V0(e,t);function e(){for(var r,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1];r.removeClasses(c,"exit"),r.addClass(c,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],h=d?"appear":"enter";r.addClass(c,h,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),c=u[0],d=u[1],h=d?"appear":"enter";r.removeClasses(c,h),r.addClass(c,h,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",d=u?""+c+a:l[a],h=u?d+"-active":l[a+"Active"],f=u?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:h,doneClassName:f}},r}var i=e.prototype;return i.addClass=function(n,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&o==="done"&&u&&(a+=" "+u),o==="active"&&n&&BQ(n),a&&(this.appliedClasses[s][o]=a,PDe(n,a))},i.removeClasses=function(n,s){var o=this.appliedClasses[s],a=o.base,l=o.active,u=o.done;this.appliedClasses[s]={},a&&rL(n,a),l&&rL(n,l),u&&rL(n,u)},i.render=function(){var n=this.props;n.classNames;var s=Oe(n,["classNames"]);return $.createElement(H0,G({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}($.Component);zV.defaultProps={classNames:""};zV.propTypes={};const xDe=zV;function jV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KV(t,e){var i=function(s){return e&&T.isValidElement(s)?e(s):s},r=Object.create(null);return t&&T.Children.map(t,function(n){return n}).forEach(function(n){r[n.key]=i(n)}),r}function ADe(t,e){t=t||{},e=e||{};function i(c){return c in e?e[c]:t[c]}var r=Object.create(null),n=[];for(var s in t)s in e?n.length&&(r[s]=n,n=[]):n.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=i(u)}a[l]=i(l)}for(o=0;o<n.length;o++)a[n[o]]=i(n[o]);return a}function ap(t,e,i){return i[e]!=null?i[e]:t.props[e]}function ODe(t,e){return KV(t.children,function(i){return T.cloneElement(i,{onExited:e.bind(null,i),in:!0,appear:ap(i,"appear",t),enter:ap(i,"enter",t),exit:ap(i,"exit",t)})})}function MDe(t,e,i){var r=KV(t.children),n=ADe(e,r);return Object.keys(n).forEach(function(s){var o=n[s];if(T.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=T.isValidElement(u)&&!u.props.in;l&&(!a||c)?n[s]=T.cloneElement(o,{onExited:i.bind(null,o),in:!0,exit:ap(o,"exit",t),enter:ap(o,"enter",t)}):!l&&a&&!c?n[s]=T.cloneElement(o,{in:!1}):l&&a&&T.isValidElement(u)&&(n[s]=T.cloneElement(o,{onExited:i.bind(null,o),in:u.props.in,exit:ap(o,"exit",t),enter:ap(o,"enter",t)}))}}),n}var FDe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},IDe={component:"div",childFactory:function(e){return e}},YV=function(t){V0(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var o=s.handleExited.bind(jV(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var i=e.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(n,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?ODe(n,a):MDe(n,o,a),firstRender:!1}},i.handleExited=function(n,s){var o=KV(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(s),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[n.key],{children:l}}))},i.render=function(){var n=this.props,s=n.component,o=n.childFactory,a=Oe(n,["component","childFactory"]),l=this.state.contextValue,u=FDe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?$.createElement(MP.Provider,{value:l},u):$.createElement(MP.Provider,{value:l},$.createElement(s,a,u))},e}($.Component);YV.propTypes={};YV.defaultProps=IDe;const qV=YV,XV=t=>t.scrollTop;function Hm(t,e){var i,r;const{timeout:n,easing:s,style:o={}}=t;return{duration:(i=o.transitionDuration)!=null?i:typeof n=="number"?n:n[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const LDe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],_De={entering:{opacity:1},entered:{opacity:1}},NDe=T.forwardRef(function(e,i){const r=ja(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:g,onExiting:m,style:C,timeout:S=n,TransitionComponent:y=H0}=e,w=Oe(e,LDe),E=T.useRef(null),b=ri(E,a.ref,i),D=U=>K=>{if(U){const j=E.current;K===void 0?U(j):U(j,K)}},P=D(h),O=D((U,K)=>{XV(U);const j=Hm({style:C,timeout:S,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",j),U.style.transition=r.transitions.create("opacity",j),c&&c(U,K)}),N=D(d),_=D(m),I=D(U=>{const K=Hm({style:C,timeout:S,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",K),U.style.transition=r.transitions.create("opacity",K),f&&f(U)}),k=D(g),B=U=>{s&&s(E.current,U)};return Y.jsx(y,G({appear:o,in:u,nodeRef:E,onEnter:O,onEntered:N,onEntering:P,onExit:I,onExited:k,onExiting:_,addEndListener:B,timeout:S},w,{children:(U,K)=>T.cloneElement(a,G({style:G({opacity:0,visibility:U==="exited"&&!u?"hidden":void 0},_De[U],C,a.props.style),ref:b},K))}))}),Bv=NDe;function GDe(t){return at("MuiBackdrop",t)}lt("MuiBackdrop",["root","invisible"]);const kDe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],VDe=t=>{const{classes:e,invisible:i}=t;return ot({root:["root",i&&"invisible"]},GDe,e)},HDe=be("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.invisible&&e.invisible]}})(({ownerState:t})=>G({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),$De=T.forwardRef(function(e,i){var r,n,s;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:g={},slots:m={},TransitionComponent:C=Bv,transitionDuration:S}=o,y=Oe(o,kDe),w=G({},o,{component:u,invisible:h}),E=VDe(w),b=(r=g.root)!=null?r:d.root;return Y.jsx(C,G({in:f,timeout:S},y,{children:Y.jsx(HDe,G({"aria-hidden":!0},b,{as:(n=(s=m.root)!=null?s:c.Root)!=null?n:u,className:Le(E.root,l,b==null?void 0:b.className),ownerState:G({},w,b==null?void 0:b.ownerState),classes:E,ref:i,children:a}))}))}),WQ=$De;function BDe(t){return at("MuiModal",t)}lt("MuiModal",["root","hidden","backdrop"]);const WDe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],UDe=t=>{const{open:e,exited:i,classes:r}=t;return ot({root:["root",!e&&i&&"hidden"],backdrop:["backdrop"]},BDe,r)},zDe=be("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.open&&i.exited&&e.hidden]}})(({theme:t,ownerState:e})=>G({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),jDe=be(WQ,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),KDe=T.forwardRef(function(e,i){var r,n,s,o,a,l;const u=rt({name:"MuiModal",props:e}),{BackdropComponent:c=jDe,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:g,container:m,component:C,components:S={},componentsProps:y={},disableAutoFocus:w=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:b=!1,disablePortal:D=!1,disableRestoreFocus:P=!1,disableScrollLock:O=!1,hideBackdrop:N=!1,keepMounted:_=!1,onBackdropClick:I,open:k,slotProps:B,slots:U}=u,K=Oe(u,WDe),j=G({},u,{closeAfterTransition:f,disableAutoFocus:w,disableEnforceFocus:E,disableEscapeKeyDown:b,disablePortal:D,disableRestoreFocus:P,disableScrollLock:O,hideBackdrop:N,keepMounted:_}),{getRootProps:Q,getBackdropProps:H,getTransitionProps:X,portalRef:te,isTopModal:le,exited:J,hasTransition:ie}=CDe(G({},j,{rootRef:i})),ue=G({},j,{exited:J}),me=UDe(ue),se={};if(g.props.tabIndex===void 0&&(se.tabIndex="-1"),ie){const{onEnter:oe,onExited:fe}=X();se.onEnter=oe,se.onExited=fe}const he=(r=(n=U==null?void 0:U.root)!=null?n:S.Root)!=null?r:zDe,Ee=(s=(o=U==null?void 0:U.backdrop)!=null?o:S.Backdrop)!=null?s:c,pe=(a=B==null?void 0:B.root)!=null?a:y.root,ye=(l=B==null?void 0:B.backdrop)!=null?l:y.backdrop,Ce=ii({elementType:he,externalSlotProps:pe,externalForwardedProps:K,getSlotProps:Q,additionalProps:{ref:i,as:C},ownerState:ue,className:Le(h,pe==null?void 0:pe.className,me==null?void 0:me.root,!ue.open&&ue.exited&&(me==null?void 0:me.hidden))}),re=ii({elementType:Ee,externalSlotProps:ye,additionalProps:d,getSlotProps:oe=>H(G({},oe,{onClick:fe=>{I&&I(fe),oe!=null&&oe.onClick&&oe.onClick(fe)}})),className:Le(ye==null?void 0:ye.className,d==null?void 0:d.className,me==null?void 0:me.backdrop),ownerState:ue});return!_&&!k&&(!ie||J)?null:Y.jsx(VQ,{ref:te,container:m,disablePortal:D,children:Y.jsxs(he,G({},Ce,{children:[!N&&c?Y.jsx(Ee,G({},re)):null,Y.jsx(kQ,{disableEnforceFocus:E,disableAutoFocus:w,disableRestoreFocus:P,isEnabled:le,open:k,children:T.cloneElement(g,se)})]}))})}),QV=KDe;function YDe(t){return at("MuiSvgIcon",t)}lt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const qDe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],XDe=t=>{const{color:e,fontSize:i,classes:r}=t,n={root:["root",e!=="inherit"&&`color${$e(e)}`,`fontSize${$e(i)}`]};return ot(n,YDe,r)},QDe=be("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.color!=="inherit"&&e[`color${$e(i.color)}`],e[`fontSize${$e(i.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var i,r,n,s,o,a,l,u,c,d,h,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(i=t.transitions)==null||(r=i.create)==null?void 0:r.call(i,"fill",{duration:(n=t.transitions)==null||(n=n.duration)==null?void 0:n.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),GN=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiSvgIcon"}),{children:n,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=Oe(r,qDe),g=T.isValidElement(n)&&n.type==="svg",m=G({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:g}),C={};c||(C.viewBox=h);const S=XDe(m);return Y.jsxs(QDe,G({as:a,className:Le(S.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:i},C,f,g&&n.props,{ownerState:m,children:[g?n.props.children:n,d?Y.jsx("title",{children:d}):null]}))});GN.muiName="SvgIcon";function Hl(t,e){function i(r,n){return Y.jsx(GN,G({"data-testid":`${e}Icon`,ref:n},r,{children:t}))}return i.muiName=GN.muiName,T.memo(T.forwardRef(i))}const ZDe={configure:t=>{gQ.configure(t)}},JDe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:$e,createChainedFunction:LN,createSvgIcon:Hl,debounce:N0,deprecatedPropType:gTe,isMuiElement:gS,ownerDocument:on,ownerWindow:bu,requirePropFactory:mTe,setRef:AP,unstable_ClassNameGenerator:ZDe,unstable_useEnhancedEffect:Xr,unstable_useId:Nc,unsupportedProp:CTe,useControlled:Ru,useEventCallback:Xe,useForkRef:ri,useIsFocusVisible:IQ},Symbol.toStringTag,{value:"Module"})),ePe=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tPe(t,e,i){const r=e.getBoundingClientRect(),n=i&&i.getBoundingClientRect(),s=bu(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=s.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?n?`translateX(${n.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?n?`translateX(-${r.right-n.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?n?`translateY(${n.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:n?`translateY(-${r.top-n.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function iPe(t){return typeof t=="function"?t():t}function bT(t,e,i){const r=iPe(i),n=tPe(t,e,r);n&&(e.style.webkitTransform=n,e.style.transform=n)}const rPe=T.forwardRef(function(e,i){const r=ja(),n={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:c="down",easing:d=n,in:h,onEnter:f,onEntered:g,onEntering:m,onExit:C,onExited:S,onExiting:y,style:w,timeout:E=s,TransitionComponent:b=H0}=e,D=Oe(e,ePe),P=T.useRef(null),O=ri(l.ref,P,i),N=H=>X=>{H&&(X===void 0?H(P.current):H(P.current,X))},_=N((H,X)=>{bT(c,H,u),XV(H),f&&f(H,X)}),I=N((H,X)=>{const te=Hm({timeout:E,style:w,easing:d},{mode:"enter"});H.style.webkitTransition=r.transitions.create("-webkit-transform",G({},te)),H.style.transition=r.transitions.create("transform",G({},te)),H.style.webkitTransform="none",H.style.transform="none",m&&m(H,X)}),k=N(g),B=N(y),U=N(H=>{const X=Hm({timeout:E,style:w,easing:d},{mode:"exit"});H.style.webkitTransition=r.transitions.create("-webkit-transform",X),H.style.transition=r.transitions.create("transform",X),bT(c,H,u),C&&C(H)}),K=N(H=>{H.style.webkitTransition="",H.style.transition="",S&&S(H)}),j=H=>{o&&o(P.current,H)},Q=T.useCallback(()=>{P.current&&bT(c,P.current,u)},[c,u]);return T.useEffect(()=>{if(h||c==="down"||c==="right")return;const H=N0(()=>{P.current&&bT(c,P.current,u)}),X=bu(P.current);return X.addEventListener("resize",H),()=>{H.clear(),X.removeEventListener("resize",H)}},[c,h,u]),T.useEffect(()=>{h||Q()},[h,Q]),Y.jsx(b,G({nodeRef:P,onEnter:_,onEntered:k,onEntering:I,onExit:U,onExited:K,onExiting:B,addEndListener:j,appear:a,in:h,timeout:E},D,{children:(H,X)=>T.cloneElement(l,G({ref:O,style:G({visibility:H==="exited"&&!h?"hidden":void 0},w,l.props.style)},X))}))}),nPe=rPe;function sPe(t){return at("MuiDrawer",t)}lt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const oPe=["BackdropProps"],aPe=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],UQ=(t,e)=>{const{ownerState:i}=t;return[e.root,(i.variant==="permanent"||i.variant==="persistent")&&e.docked,e.modal]},lPe=t=>{const{classes:e,anchor:i,variant:r}=t,n={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${$e(i)}`,r!=="temporary"&&`paperAnchorDocked${$e(i)}`]};return ot(n,sPe,e)},uPe=be(QV,{name:"MuiDrawer",slot:"Root",overridesResolver:UQ})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),Y3=be("div",{shouldForwardProp:qo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:UQ})({flex:"0 0 auto"}),cPe=be($v,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.paper,e[`paperAnchor${$e(i.anchor)}`],i.variant!=="temporary"&&e[`paperAnchorDocked${$e(i.anchor)}`]]}})(({theme:t,ownerState:e})=>G({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),zQ={left:"right",right:"left",top:"down",bottom:"up"};function dPe(t){return["left","right"].indexOf(t)!==-1}function hPe({direction:t},e){return t==="rtl"&&dPe(e)?zQ[e]:e}const pPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDrawer"}),n=ja(),s=_Q(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:u,className:c,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:f}={},onClose:g,open:m=!1,PaperProps:C={},SlideProps:S,TransitionComponent:y=nPe,transitionDuration:w=o,variant:E="temporary"}=r,b=Oe(r.ModalProps,oPe),D=Oe(r,aPe),P=T.useRef(!1);T.useEffect(()=>{P.current=!0},[]);const O=hPe({direction:s?"rtl":"ltr"},a),_=G({},r,{anchor:a,elevation:d,open:m,variant:E},D),I=lPe(_),k=Y.jsx(cPe,G({elevation:E==="temporary"?d:0,square:!0},C,{className:Le(I.paper,C.className),ownerState:_,children:u}));if(E==="permanent")return Y.jsx(Y3,G({className:Le(I.root,I.docked,c),ownerState:_,ref:i},D,{children:k}));const B=Y.jsx(y,G({in:m,direction:zQ[O],timeout:w,appear:P.current},S,{children:k}));return E==="persistent"?Y.jsx(Y3,G({className:Le(I.root,I.docked,c),ownerState:_,ref:i},D,{children:B})):Y.jsx(uPe,G({BackdropProps:G({},l,f,{transitionDuration:w}),className:Le(I.root,I.modal,c),open:m,ownerState:_,onClose:g,hideBackdrop:h,ref:i},D,b,{children:B}))}),fPe=pPe;function gPe(t){const{className:e,classes:i,pulsate:r=!1,rippleX:n,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=T.useState(!1),h=Le(e,i.ripple,i.rippleVisible,r&&i.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+n},g=Le(i.child,c&&i.childLeaving,r&&i.childPulsate);return!a&&!c&&d(!0),T.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,a,u]),Y.jsx("span",{className:h,style:f,children:Y.jsx("span",{className:g})})}const ma=lt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mPe=["center","classes","className"];let $0=t=>t,q3,X3,Q3,Z3;const kN=550,vPe=80,CPe=v0(q3||(q3=$0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),yPe=v0(X3||(X3=$0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),SPe=v0(Q3||(Q3=$0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),wPe=be("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),EPe=be(gPe,{name:"MuiTouchRipple",slot:"Ripple"})(Z3||(Z3=$0`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ma.rippleVisible,CPe,kN,({theme:t})=>t.transitions.easing.easeInOut,ma.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ma.child,ma.childLeaving,yPe,kN,({theme:t})=>t.transitions.easing.easeInOut,ma.childPulsate,SPe,({theme:t})=>t.transitions.easing.easeInOut),bPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiTouchRipple"}),{center:n=!1,classes:s={},className:o}=r,a=Oe(r,mPe),[l,u]=T.useState([]),c=T.useRef(0),d=T.useRef(null);T.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=T.useRef(!1),f=FQ(),g=T.useRef(null),m=T.useRef(null),C=T.useCallback(E=>{const{pulsate:b,rippleX:D,rippleY:P,rippleSize:O,cb:N}=E;u(_=>[..._,Y.jsx(EPe,{classes:{ripple:Le(s.ripple,ma.ripple),rippleVisible:Le(s.rippleVisible,ma.rippleVisible),ripplePulsate:Le(s.ripplePulsate,ma.ripplePulsate),child:Le(s.child,ma.child),childLeaving:Le(s.childLeaving,ma.childLeaving),childPulsate:Le(s.childPulsate,ma.childPulsate)},timeout:kN,pulsate:b,rippleX:D,rippleY:P,rippleSize:O},c.current)]),c.current+=1,d.current=N},[s]),S=T.useCallback((E={},b={},D=()=>{})=>{const{pulsate:P=!1,center:O=n||b.pulsate,fakeElement:N=!1}=b;if((E==null?void 0:E.type)==="mousedown"&&h.current){h.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(h.current=!0);const _=N?null:m.current,I=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let k,B,U;if(O||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)k=Math.round(I.width/2),B=Math.round(I.height/2);else{const{clientX:K,clientY:j}=E.touches&&E.touches.length>0?E.touches[0]:E;k=Math.round(K-I.left),B=Math.round(j-I.top)}if(O)U=Math.sqrt((2*I.width**2+I.height**2)/3),U%2===0&&(U+=1);else{const K=Math.max(Math.abs((_?_.clientWidth:0)-k),k)*2+2,j=Math.max(Math.abs((_?_.clientHeight:0)-B),B)*2+2;U=Math.sqrt(K**2+j**2)}E!=null&&E.touches?g.current===null&&(g.current=()=>{C({pulsate:P,rippleX:k,rippleY:B,rippleSize:U,cb:D})},f.start(vPe,()=>{g.current&&(g.current(),g.current=null)})):C({pulsate:P,rippleX:k,rippleY:B,rippleSize:U,cb:D})},[n,C,f]),y=T.useCallback(()=>{S({},{pulsate:!0})},[S]),w=T.useCallback((E,b)=>{if(f.clear(),(E==null?void 0:E.type)==="touchend"&&g.current){g.current(),g.current=null,f.start(0,()=>{w(E,b)});return}g.current=null,u(D=>D.length>0?D.slice(1):D),d.current=b},[f]);return T.useImperativeHandle(i,()=>({pulsate:y,start:S,stop:w}),[y,S,w]),Y.jsx(wPe,G({className:Le(ma.root,s.root,o),ref:m},a,{children:Y.jsx(qV,{component:null,exit:!0,children:l})}))}),RPe=bPe;function TPe(t){return at("MuiButtonBase",t)}const DPe=lt("MuiButtonBase",["root","disabled","focusVisible"]),PPe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],xPe=t=>{const{disabled:e,focusVisible:i,focusVisibleClassName:r,classes:n}=t,o=ot({root:["root",e&&"disabled",i&&"focusVisible"]},TPe,n);return i&&r&&(o.root+=` ${r}`),o},APe=be("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${DPe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),OPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiButtonBase"}),{action:n,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:g,onClick:m,onContextMenu:C,onDragLeave:S,onFocus:y,onFocusVisible:w,onKeyDown:E,onKeyUp:b,onMouseDown:D,onMouseLeave:P,onMouseUp:O,onTouchEnd:N,onTouchMove:_,onTouchStart:I,tabIndex:k=0,TouchRippleProps:B,touchRippleRef:U,type:K}=r,j=Oe(r,PPe),Q=T.useRef(null),H=T.useRef(null),X=ri(H,U),{isFocusVisibleRef:te,onFocus:le,onBlur:J,ref:ie}=IQ(),[ue,me]=T.useState(!1);u&&ue&&me(!1),T.useImperativeHandle(n,()=>({focusVisible:()=>{me(!0),Q.current.focus()}}),[]);const[se,he]=T.useState(!1);T.useEffect(()=>{he(!0)},[]);const Ee=se&&!c&&!u;T.useEffect(()=>{ue&&h&&!c&&se&&H.current.pulsate()},[c,h,ue,se]);function pe(pt,cs,el=d){return Xe(co=>(cs&&cs(co),!el&&H.current&&H.current[pt](co),!0))}const ye=pe("start",D),Ce=pe("stop",C),re=pe("stop",S),oe=pe("stop",O),fe=pe("stop",pt=>{ue&&pt.preventDefault(),P&&P(pt)}),we=pe("start",I),Ue=pe("stop",N),Be=pe("stop",_),Ve=pe("stop",pt=>{J(pt),te.current===!1&&me(!1),g&&g(pt)},!1),qe=Xe(pt=>{Q.current||(Q.current=pt.currentTarget),le(pt),te.current===!0&&(me(!0),w&&w(pt)),y&&y(pt)}),mt=()=>{const pt=Q.current;return l&&l!=="button"&&!(pt.tagName==="A"&&pt.href)},et=T.useRef(!1),gi=Xe(pt=>{h&&!et.current&&ue&&H.current&&pt.key===" "&&(et.current=!0,H.current.stop(pt,()=>{H.current.start(pt)})),pt.target===pt.currentTarget&&mt()&&pt.key===" "&&pt.preventDefault(),E&&E(pt),pt.target===pt.currentTarget&&mt()&&pt.key==="Enter"&&!u&&(pt.preventDefault(),m&&m(pt))}),wi=Xe(pt=>{h&&pt.key===" "&&H.current&&ue&&!pt.defaultPrevented&&(et.current=!1,H.current.stop(pt,()=>{H.current.pulsate(pt)})),b&&b(pt),m&&pt.target===pt.currentTarget&&mt()&&pt.key===" "&&!pt.defaultPrevented&&m(pt)});let Yt=l;Yt==="button"&&(j.href||j.to)&&(Yt=f);const Cr={};Yt==="button"?(Cr.type=K===void 0?"button":K,Cr.disabled=u):(!j.href&&!j.to&&(Cr.role="button"),u&&(Cr["aria-disabled"]=u));const xn=ri(i,ie,Q),xr=G({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:k,focusVisible:ue}),Ht=xPe(xr);return Y.jsxs(APe,G({as:Yt,className:Le(Ht.root,a),ownerState:xr,onBlur:Ve,onClick:m,onContextMenu:Ce,onFocus:qe,onKeyDown:gi,onKeyUp:wi,onMouseDown:ye,onMouseLeave:fe,onMouseUp:oe,onDragLeave:re,onTouchEnd:Ue,onTouchMove:Be,onTouchStart:we,ref:xn,tabIndex:u?-1:k,type:K},Cr,j,{children:[o,Ee?Y.jsx(RPe,G({ref:X,center:s},B)):null]}))}),zp=OPe,MPe=T.createContext({}),Wd=MPe;function FPe(t){return at("MuiListItemButton",t)}const IPe=lt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Fg=IPe,LPe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],_Pe=(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,i.alignItems==="flex-start"&&e.alignItemsFlexStart,i.divider&&e.divider,!i.disableGutters&&e.gutters]},NPe=t=>{const{alignItems:e,classes:i,dense:r,disabled:n,disableGutters:s,divider:o,selected:a}=t,u=ot({root:["root",r&&"dense",!s&&"gutters",o&&"divider",n&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},FPe,i);return G({},i,u)},GPe=be(zp,{shouldForwardProp:t=>qo(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:_Pe})(({theme:t,ownerState:e})=>G({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Fg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Fg.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Fg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),kPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:d,selected:h=!1,className:f}=r,g=Oe(r,LPe),m=T.useContext(Wd),C=T.useMemo(()=>({dense:l||m.dense||!1,alignItems:n,disableGutters:u}),[n,m.dense,l,u]),S=T.useRef(null);Xr(()=>{s&&S.current&&S.current.focus()},[s]);const y=G({},r,{alignItems:n,dense:C.dense,disableGutters:u,divider:c,selected:h}),w=NPe(y),E=ri(S,i);return Y.jsx(Wd.Provider,{value:C,children:Y.jsx(GPe,G({ref:E,href:g.href||g.to,component:(g.href||g.to)&&o==="div"?"button":o,focusVisibleClassName:Le(w.focusVisible,d),ownerState:y,className:Le(w.root,f)},g,{classes:w,children:a}))})}),RT=kPe;function VPe(t){return at("MuiList",t)}lt("MuiList",["root","padding","dense","subheader"]);const HPe=["children","className","component","dense","disablePadding","subheader"],$Pe=t=>{const{classes:e,disablePadding:i,dense:r,subheader:n}=t;return ot({root:["root",!i&&"padding",r&&"dense",n&&"subheader"]},VPe,e)},BPe=be("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disablePadding&&e.padding,i.dense&&e.dense,i.subheader&&e.subheader]}})(({ownerState:t})=>G({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),WPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiList"}),{children:n,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=Oe(r,HPe),d=T.useMemo(()=>({dense:a}),[a]),h=G({},r,{component:o,dense:a,disablePadding:l}),f=$Pe(h);return Y.jsx(Wd.Provider,{value:d,children:Y.jsxs(BPe,G({as:o,className:Le(f.root,s),ref:i,ownerState:h},c,{children:[u,n]}))})}),ZV=WPe;function UPe(t){return at("MuiTypography",t)}lt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const zPe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],jPe=t=>{const{align:e,gutterBottom:i,noWrap:r,paragraph:n,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${$e(e)}`,i&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return ot(a,UPe,o)},KPe=be("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.variant&&e[i.variant],i.align!=="inherit"&&e[`align${$e(i.align)}`],i.noWrap&&e.noWrap,i.gutterBottom&&e.gutterBottom,i.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>G({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),J3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},YPe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},qPe=t=>YPe[t]||t,XPe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiTypography"}),n=qPe(r.color),s=VV(G({},r,{color:n})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=J3}=s,g=Oe(s,zPe),m=G({},s,{align:o,color:n,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),C=l||(d?"p":f[h]||J3[h])||"span",S=jPe(m);return Y.jsx(KPe,G({as:C,ref:i,ownerState:m,className:Le(S.root,a)},g))}),Io=XPe;function QPe(t){return at("MuiListItemText",t)}const ZPe=lt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),eK=ZPe,JPe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],exe=t=>{const{classes:e,inset:i,primary:r,secondary:n,dense:s}=t;return ot({root:["root",i&&"inset",s&&"dense",r&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},QPe,e)},txe=be("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${eK.primary}`]:e.primary},{[`& .${eK.secondary}`]:e.secondary},e.root,i.inset&&e.inset,i.primary&&i.secondary&&e.multiline,i.dense&&e.dense]}})(({ownerState:t})=>G({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),ixe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItemText"}),{children:n,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=r,h=Oe(r,JPe),{dense:f}=T.useContext(Wd);let g=l??n,m=c;const C=G({},r,{disableTypography:o,inset:a,primary:!!g,secondary:!!m,dense:f}),S=exe(C);return g!=null&&g.type!==Io&&!o&&(g=Y.jsx(Io,G({variant:f?"body2":"body1",className:S.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:g}))),m!=null&&m.type!==Io&&!o&&(m=Y.jsx(Io,G({variant:"body2",className:S.secondary,color:"text.secondary",display:"block"},d,{children:m}))),Y.jsxs(txe,G({className:Le(S.root,s),ownerState:C,ref:i},h,{children:[g,m]}))}),TT=ixe;function rxe(t){return at("MuiIconButton",t)}const nxe=lt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),sxe=["edge","children","className","color","disabled","disableFocusRipple","size"],oxe=t=>{const{classes:e,disabled:i,color:r,edge:n,size:s}=t,o={root:["root",i&&"disabled",r!=="default"&&`color${$e(r)}`,n&&`edge${$e(n)}`,`size${$e(s)}`]};return ot(o,rxe,e)},axe=be(zp,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.color!=="default"&&e[`color${$e(i.color)}`],i.edge&&e[`edge${$e(i.edge)}`],e[`size${$e(i.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var i;const r=(i=(t.vars||t).palette)==null?void 0:i[e.color];return G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":G({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${nxe.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),lxe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiIconButton"}),{edge:n=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=Oe(r,sxe),h=G({},r,{edge:n,color:a,disabled:l,disableFocusRipple:u,size:c}),f=oxe(h);return Y.jsx(axe,G({className:Le(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:i},d,{ownerState:h,children:s}))}),ab=lxe;var JV={},nL={};const uxe=Lc(JDe);var tK;function kc(){return tK||(tK=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=uxe}(nL)),nL}var cxe=Vl;Object.defineProperty(JV,"__esModule",{value:!0});var jQ=JV.default=void 0,dxe=cxe(kc()),hxe=Y;jQ=JV.default=(0,dxe.default)((0,hxe.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var eH={},pxe=Vl;Object.defineProperty(eH,"__esModule",{value:!0});var KQ=eH.default=void 0,fxe=pxe(kc()),gxe=Y;KQ=eH.default=(0,fxe.default)((0,gxe.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart");var tH={},mxe=Vl;Object.defineProperty(tH,"__esModule",{value:!0});var YQ=tH.default=void 0,vxe=mxe(kc()),sL=Y;YQ=tH.default=(0,vxe.default)([(0,sL.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,sL.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,sL.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt");var iH={},Cxe=Vl;Object.defineProperty(iH,"__esModule",{value:!0});var qQ=iH.default=void 0,yxe=Cxe(kc()),Sxe=Y;qQ=iH.default=(0,yxe.default)((0,Sxe.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth");var rH={},wxe=Vl;Object.defineProperty(rH,"__esModule",{value:!0});var XQ=rH.default=void 0,Exe=wxe(kc()),bxe=Y;XQ=rH.default=(0,Exe.default)((0,bxe.jsx)("path",{d:"M20.57 14.86 22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"}),"FitnessCenter");function Rxe(t){return at("MuiButton",t)}const Txe=lt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),DT=Txe,Dxe=T.createContext({}),Pxe=Dxe,xxe=T.createContext(void 0),Axe=xxe,Oxe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Mxe=t=>{const{color:e,disableElevation:i,fullWidth:r,size:n,variant:s,classes:o}=t,a={root:["root",s,`${s}${$e(e)}`,`size${$e(n)}`,`${s}Size${$e(n)}`,`color${$e(e)}`,i&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${$e(n)}`],endIcon:["icon","endIcon",`iconSize${$e(n)}`]},l=ot(a,Rxe,o);return G({},o,l)},QQ=t=>G({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Fxe=be(zp,{shouldForwardProp:t=>qo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e[`${i.variant}${$e(i.color)}`],e[`size${$e(i.size)}`],e[`${i.variant}Size${$e(i.size)}`],i.color==="inherit"&&e.colorInherit,i.disableElevation&&e.disableElevation,i.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var i,r;const n=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return G({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":G({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${DT.focusVisible}`]:G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${DT.disabled}`]:G({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Vi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(i=(r=t.palette).getContrastText)==null?void 0:i.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:n,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${DT.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${DT.disabled}`]:{boxShadow:"none"}}),Ixe=be("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.startIcon,e[`iconSize${$e(i.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},QQ(t))),Lxe=be("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.endIcon,e[`iconSize${$e(i.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},QQ(t))),_xe=T.forwardRef(function(e,i){const r=T.useContext(Pxe),n=T.useContext(Axe),s=WV(r,e),o=rt({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:g,focusVisibleClassName:m,fullWidth:C=!1,size:S="medium",startIcon:y,type:w,variant:E="text"}=o,b=Oe(o,Oxe),D=G({},o,{color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:C,size:S,type:w,variant:E}),P=Mxe(D),O=y&&Y.jsx(Ixe,{className:P.startIcon,ownerState:D,children:y}),N=g&&Y.jsx(Lxe,{className:P.endIcon,ownerState:D,children:g}),_=n||"";return Y.jsxs(Fxe,G({ownerState:D,className:Le(r.className,P.root,c,_),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:Le(P.focusVisible,m),ref:i,type:w},b,{classes:P,children:[O,a,N]}))}),es=_xe;var nH=Object.defineProperty,Nxe=Object.defineProperties,Gxe=Object.getOwnPropertyDescriptor,kxe=Object.getOwnPropertyDescriptors,FP=Object.getOwnPropertySymbols,ZQ=Object.prototype.hasOwnProperty,JQ=Object.prototype.propertyIsEnumerable,iK=(t,e,i)=>e in t?nH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,tt=(t,e)=>{for(var i in e||(e={}))ZQ.call(e,i)&&iK(t,i,e[i]);if(FP)for(var i of FP(e))JQ.call(e,i)&&iK(t,i,e[i]);return t},Wi=(t,e)=>Nxe(t,kxe(e)),Vxe=(t,e)=>{var i={};for(var r in t)ZQ.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&FP)for(var r of FP(t))e.indexOf(r)<0&&JQ.call(t,r)&&(i[r]=t[r]);return i},En=(t,e)=>{for(var i in e)nH(t,i,{get:e[i],enumerable:!0})},A=(t,e,i,r)=>{for(var n=r>1?void 0:r?Gxe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&nH(e,i,n),n},ml=(t,e)=>(i,r)=>e(i,r,t),eZ={};En(eZ,{attrToBoolean:()=>IP,attrToNumber:()=>Ud,attrToString:()=>Hxe,defaultComparator:()=>$xe,exists:()=>De,jsonEquals:()=>VN,makeNull:()=>vu,missing:()=>gt,missingOrEmpty:()=>Po,toStringOrNull:()=>ew,values:()=>vm});function vu(t){return t==null||t===""?null:t}function De(t,e=!1){return t!=null&&(t!==""||e)}function gt(t){return!De(t)}function Po(t){return t==null||t.length===0}function ew(t){return t!=null&&typeof t.toString=="function"?t.toString():null}function Ud(t){if(t===void 0)return;if(t===null||t==="")return null;if(typeof t=="number")return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function IP(t){if(t!==void 0)return t===null||t===""?!1:typeof t=="boolean"?t:/true/i.test(t)}function Hxe(t){if(!(t==null||t===""))return t}function VN(t,e){const i=t?JSON.stringify(t):null,r=e?JSON.stringify(e):null;return i===r}function $xe(t,e,i=!1){const r=t==null,n=e==null;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&n)return 0;if(r)return-1;if(n)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof t!="string"||!i)return s(t,e);try{return t.localeCompare(e)}catch{return s(t,e)}}function vm(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(i=>e.push(i)),e}return Object.values(t)}var Bxe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let i=0;i<e.length;i++)this.existingKeys[e[i]]=!0}getUniqueKey(e,i){e=ew(e);let r=0;for(;;){let n;if(e?(n=e,r!==0&&(n+="_"+r)):i?(n=i,r!==0&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}}},tZ={};En(tZ,{cloneObject:()=>sH,deepCloneDefinition:()=>LP,getAllValuesInObject:()=>Qd,getValueUsingField:()=>Cm,isNonNullObject:()=>_P,iterateObject:()=>Oo,mergeDeep:()=>Lo,removeAllReferences:()=>iZ});function Oo(t,e){if(t!=null){if(Array.isArray(t)){for(let i=0;i<t.length;i++)e(i.toString(),t[i]);return}for(const[i,r]of Object.entries(t))e(i,r)}}function sH(t){const e={},i=Object.keys(t);for(let r=0;r<i.length;r++){const n=i[r],s=t[n];e[n]=s}return e}function LP(t,e){if(!t)return;const i=t,r={};return Object.keys(i).forEach(n=>{if(e&&e.indexOf(n)>=0)return;const s=i[n];_P(s)&&s.constructor===Object?r[n]=LP(s):r[n]=s}),r}function Qd(t){if(!t)return[];const e=Object;if(typeof e.values=="function")return e.values(t);const i=[];for(const r in t)t.hasOwnProperty(r)&&t.propertyIsEnumerable(r)&&i.push(t[r]);return i}function Lo(t,e,i=!0,r=!1){De(e)&&Oo(e,(n,s)=>{let o=t[n];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},t[n]=o),_P(s)&&_P(o)&&!Array.isArray(o)?Lo(o,s,i,r):(i||s!==void 0)&&(t[n]=s))})}function Cm(t,e,i){if(!e||!t)return;if(!i)return t[e];const r=e.split(".");let n=t;for(let s=0;s<r.length;s++){if(n==null)return;n=n[r[s]]}return n}function iZ(t,e=[],i){Object.keys(t).forEach(o=>{typeof t[o]=="object"&&!e.includes(o)&&(t[o]=void 0)});const r=Object.getPrototypeOf(t),n={},s=o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`;Object.getOwnPropertyNames(r).forEach(o=>{if(typeof r[o]=="function"&&!e.includes(o)){const l=()=>{console.warn(s(o))};n[o]={value:l,writable:!0}}}),Object.defineProperties(t,n)}function _P(t){return typeof t=="object"&&t!==null}var rZ={};En(rZ,{compose:()=>Wxe,debounce:()=>vs,doOnce:()=>yp,errorOnce:()=>Hy,executeAfter:()=>sZ,executeInAWhile:()=>nZ,executeNextVMTurn:()=>HN,getFunctionName:()=>oH,isFunction:()=>B0,noop:()=>Uxe,throttle:()=>$N,waitUntil:()=>aH,warnOnce:()=>ut});var rK={};function yp(t,e){rK[e]||(t(),rK[e]=!0)}function ut(t){yp(()=>console.warn("AG Grid: "+t),t)}function Hy(t){yp(()=>console.error("AG Grid: "+t),t)}function oH(t){if(t.name)return t.name;const e=/function\s+([^\(]+)/.exec(t.toString());return e&&e.length===2?e[1].trim():null}function B0(t){return!!(t&&t.constructor&&t.call&&t.apply)}function nZ(t){sZ(t,400)}var oL=[],aL=!1;function HN(t){oL.push(t),!aL&&(aL=!0,window.setTimeout(()=>{const e=oL.slice();oL.length=0,aL=!1,e.forEach(i=>i())},0))}function sZ(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(i=>i()),e)}function vs(t,e){let i;return function(...r){const n=this;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,r)},e)}}function $N(t,e){let i=0;return function(...r){const n=this,s=new Date().getTime();s-i<e||(i=s,t.apply(n,r))}}function aH(t,e,i=100,r){const n=new Date().getTime();let s=null,o=!1;const a=()=>{const l=new Date().getTime()-n>i;(t()||l)&&(e(),o=!0,s!=null&&(window.clearInterval(s),s=null),l&&r&&console.warn(r))};a(),o||(s=window.setInterval(a,10))}function Wxe(...t){return e=>t.reduce((i,r)=>r(i),e)}var Uxe=()=>{},lH=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(lH||{}),W0=class ui{static register(e){ui.__register(e,!0,void 0)}static registerModules(e){ui.__registerModules(e,!0,void 0)}static __register(e,i,r){ui.runVersionChecks(e),r!==void 0?(ui.areGridScopedModules=!0,ui.gridModulesMap[r]===void 0&&(ui.gridModulesMap[r]={}),ui.gridModulesMap[r][e.moduleName]=e):ui.globalModulesMap[e.moduleName]=e,ui.setModuleBased(i)}static __unRegisterGridModules(e){delete ui.gridModulesMap[e]}static __registerModules(e,i,r){ui.setModuleBased(i),e&&e.forEach(n=>ui.__register(n,i,r))}static isValidModuleVersion(e){const[i,r]=e.version.split(".")||[],[n,s]=ui.currentModuleVersion.split(".")||[];return i===n&&r===s}static runVersionChecks(e){if(ui.currentModuleVersion||(ui.currentModuleVersion=e.version),e.version?ui.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const i=e.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(e){ui.moduleBased===void 0?ui.moduleBased=e:ui.moduleBased!==e&&yp(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){ui.isBundled=!0}static __assertRegistered(e,i,r){var n;if(this.__isRegistered(e,r))return!0;const s=i+e;let o;if(ui.isBundled)o=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(ui.moduleBased||ui.moduleBased===void 0){let a=(n=Object.entries(lH).find(([l,u])=>u===e))==null?void 0:n[0];o=`AG Grid: unable to use ${i} as the ${a} is not registered${ui.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${e}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return yp(()=>{console.warn(o)},s),!1}static __warnEnterpriseChartDisabled(e){const r="ag-charts-enterprise"+":"+e,s=`AG Grid: the '${e}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;yp(()=>{console.warn(s)},r)}static __isRegistered(e,i){var r;return!!ui.globalModulesMap[e]||!!((r=ui.gridModulesMap[i])!=null&&r[e])}static __getRegisteredModules(e){return[...vm(ui.globalModulesMap),...vm(ui.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var i;return vm((i=ui.gridModulesMap[e])!=null?i:{})||[]}static __isPackageBased(){return!ui.moduleBased}};W0.globalModulesMap={};W0.gridModulesMap={};W0.areGridScopedModules=!1;var Gi=W0;function oZ(t,e,i){const r=jp(t.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function _e(t,e,i){const r=jp(t.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function Ka(t,e,i){const r=jp(t.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function je(t){return e=>{const i=jp(e);i.beanName=t}}function W(t){return(e,i,r)=>{aZ(e,t,!1,e,i,null)}}function ai(t){return(e,i,r)=>{aZ(e,t,!0,e,i,null)}}function aZ(t,e,i,r,n,s){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof s=="number"){console.error("AG Grid: Autowired should be on an attribute");return}const o=jp(t.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:n,beanName:e,optional:i})}function vl(t){return(e,i,r)=>{const n=typeof e=="function"?e:e.constructor;let s;if(typeof r=="number"){let o;i?(s=jp(n),o=i):(s=jp(n),o="agConstructor"),s.autowireMethods||(s.autowireMethods={}),s.autowireMethods[o]||(s.autowireMethods[o]={}),s.autowireMethods[o][r]=t}}}function jp(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var Tu=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,i,r=null,n=null){if(this.frameworkOverrides=i,this.gridOptionsService=e,r){const s=e.useAsyncEvents();this.addGlobalListener(r,s)}n&&this.addGlobalListener(n,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,i,r){const n=i?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&r&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,i,r=!1){this.getListeners(e,r,!0).add(i)}removeEventListener(e,i,r=!1){const n=this.getListeners(e,r,!1);n&&(n.delete(i),n.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let i=e;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(i),this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,i){var r;const n=e.type;if(i&&"event"in e){const u=e.event;u instanceof Event&&(e.eventPath=u.composedPath())}const s=(u,c)=>u.forEach(d=>{if(!c.has(d))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);i?this.dispatchAsync(h):h()}),o=(r=this.getListeners(n,i,!1))!=null?r:new Set,a=new Set(o);a.size>0&&s(a,o),new Set(i?this.globalAsyncListeners:this.globalSyncListeners).forEach(u=>{const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(n,e)):()=>u(n,e);i?this.dispatchAsync(c):c()})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(i=>i())}};A([ml(0,vl("gridOptionsService")),ml(1,vl("frameworkOverrides")),ml(2,vl("globalEventListener")),ml(3,vl("globalSyncEventListener"))],Tu.prototype,"setBeans",1);Tu=A([je("eventService")],Tu);var uH=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=r=>{this.frameworkOverrides.wrapOutgoing(()=>e(r))},this.wrappedListeners.set(e,i)),i}wrapGlobal(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=(r,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(r,n))},this.wrappedGlobalListeners.set(e,i)),i}unwrap(e){var i;return(i=this.wrappedListeners.get(e))!=null?i:e}unwrapGlobal(e){var i;return(i=this.wrappedGlobalListeners.get(e))!=null?i:e}},zxe={resizable:!0,sortable:!0},jxe=0;function lZ(){return jxe++}var Gr=class uZ{constructor(e,i,r,n){this.instanceId=lZ(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Tu,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=i,this.colId=r,this.primary=n,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const i=e.sortIndex,r=e.initialSortIndex;i!==void 0?i!==null&&(this.sortIndex=i):r!==null&&(this.sortIndex=r);const n=e.hide,s=e.initialHide;n!==void 0?this.visible=!n:this.visible=!s,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const o=e.flex,a=e.initialFlex;o!==void 0?this.flex=o:a!==void 0&&(this.flex=a)}setColDef(e,i,r){this.colDef=e,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=De(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=De(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=De(this.colDef.tooltipField)||De(this.colDef.tooltipValueGetter)||De(this.colDef.tooltipComponent)}resetActualWidth(e){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(gt(this.colDef)||gt(this.colDef.showRowGroup))return!1;const i=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return i||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,i){var r,n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new uH(this.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const i=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(i)}return!1}isCellEditable(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var i;return(i=this.colDef[e])!=null?i:zxe[e]}isColumnFunc(e,i){if(typeof i=="boolean")return i;if(typeof i=="function"){const r=this.createColumnFunctionCallbackParams(e);return i(r)}return!1}setMoving(e,i){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,i){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,i){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return gt(this.sort)}isSorting(){return De(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,i){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(e,i,r){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const n=this.createColumnEvent("filterChanged",i);r&&Lo(n,r),this.eventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,i){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(e,i){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,i){const r=e===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const i=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:i,isSpanningTotal:r}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}createBaseColDefParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(gt(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.colSpan(i);return Math.max(r,1)}getRowSpan(e){if(gt(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.rowSpan(i);return Math.max(r,1)}setActualWidth(e,i,r=!1){this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&i!=="flex"&&i!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return this.maxWidth!=null?e>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){De(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,i){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,i){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,i){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(e){ut("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let i=this.getColDef().menuTabs;return i==null&&(i=e),i}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:uZ.EVENT_STATE_UPDATED,key:e})}};Gr.EVENT_MOVING_CHANGED="movingChanged";Gr.EVENT_LEFT_CHANGED="leftChanged";Gr.EVENT_WIDTH_CHANGED="widthChanged";Gr.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";Gr.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";Gr.EVENT_VISIBLE_CHANGED="visibleChanged";Gr.EVENT_FILTER_CHANGED="filterChanged";Gr.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";Gr.EVENT_SORT_CHANGED="sortChanged";Gr.EVENT_COL_DEF_CHANGED="colDefChanged";Gr.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";Gr.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";Gr.EVENT_PIVOT_CHANGED="columnPivotChanged";Gr.EVENT_VALUE_CHANGED="columnValueChanged";Gr.EVENT_STATE_UPDATED="columnStateUpdated";A([W("gridOptionsService")],Gr.prototype,"gridOptionsService",2);A([W("columnUtils")],Gr.prototype,"columnUtils",2);A([W("columnHoverService")],Gr.prototype,"columnHoverService",2);A([W("frameworkOverrides")],Gr.prototype,"frameworkOverrides",2);A([_e],Gr.prototype,"initialise",1);var Ci=Gr,U0=class $y{constructor(e,i,r,n){this.localEventService=new Tu,this.expandable=!1,this.instanceId=lZ(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=i,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,i){this.colGroupDef=e,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e;const i={type:$y.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(i=>{i instanceof Ci?e.push(i):i instanceof $y&&i.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,i=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let o=0,a=n.length;o<a;o++){const l=n[o];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,r=!0):u==="closed"?(i=!0,r=!0):(e=!0,i=!0)}const s=e&&i&&r;if(this.expandable!==s){this.expandable=s;const o={type:$y.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(o)}}findChildrenRemovingPadding(){const e=[],i=r=>{r.forEach(n=>{n instanceof $y&&n.isPadding()?i(n.children):e.push(n)})};return i(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}};U0.EVENT_EXPANDED_CHANGED="expandedChanged";U0.EVENT_EXPANDABLE_CHANGED="expandableChanged";A([Ka],U0.prototype,"destroy",1);var br=U0,Kxe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},cZ={};En(cZ,{addSafePassiveEventListener:()=>SZ,createEventPath:()=>CZ,getCtrlForEventTarget:()=>NP,getEventPath:()=>yZ,isElementInEventPath:()=>GP,isEventSupported:()=>dH,isStopPropagationForAgGrid:()=>Tl,stopPropagationForAgGrid:()=>Ol});var dZ={};En(dZ,{areEqual:()=>du,existsAndNotEmpty:()=>hZ,flatten:()=>mZ,forEachReverse:()=>Qxe,includes:()=>xa,insertArrayIntoArray:()=>BN,insertIntoArray:()=>tw,last:()=>Xt,moveInArray:()=>WN,pushAll:()=>UN,removeAllFromArray:()=>gZ,removeAllFromUnorderedArray:()=>fZ,removeFromArray:()=>Us,removeFromUnorderedArray:()=>cH,removeRepeatsFromArray:()=>qxe,shallowCompare:()=>Yxe,sortNumerically:()=>pZ,toStrings:()=>Xxe});function hZ(t){return t!=null&&t.length>0}function Xt(t){if(!(!t||!t.length))return t[t.length-1]}function du(t,e,i){return t==null&&e==null?!0:t!=null&&e!=null&&t.length===e.length&&t.every((r,n)=>i?i(r,e[n]):e[n]===r)}function Yxe(t,e){return du(t,e)}function pZ(t){return t.sort((e,i)=>e-i)}function qxe(t,e){if(t)for(let i=t.length-2;i>=0;i--){const r=t[i]===e,n=t[i+1]===e;r&&n&&t.splice(i+1,1)}}function cH(t,e){const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.pop())}function Us(t,e){const i=t.indexOf(e);i>=0&&t.splice(i,1)}function fZ(t,e){for(let i=0;i<e.length;i++)cH(t,e[i])}function gZ(t,e){for(let i=0;i<e.length;i++)Us(t,e[i])}function tw(t,e,i){t.splice(i,0,e)}function BN(t,e,i){if(!(t==null||e==null))for(let r=e.length-1;r>=0;r--){const n=e[r];tw(t,n,i)}}function WN(t,e,i){gZ(t,e),e.slice().reverse().forEach(r=>tw(t,r,i))}function xa(t,e){return t.indexOf(e)>-1}function mZ(t){return[].concat.apply([],t)}function UN(t,e){e==null||t==null||e.forEach(i=>t.push(i))}function Xxe(t){return t.map(ew)}function Qxe(t,e){if(t!=null)for(let i=t.length-1;i>=0;i--)e(t[i],i)}var vZ="__ag_Grid_Stop_Propagation",Zxe=["touchstart","touchend","touchmove","touchcancel","scroll"],lL={};function Ol(t){t[vZ]=!0}function Tl(t){return t[vZ]===!0}var dH=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof lL[i]=="boolean")return lL[i];const r=document.createElement(t[i]||"div");return i="on"+i,lL[i]=i in r}})();function NP(t,e,i){let r=e;for(;r;){const n=t.getDomData(r,i);if(n)return n;r=r.parentElement}return null}function GP(t,e){return!e||!t?!1:yZ(e).indexOf(t)>=0}function CZ(t){const e=[];let i=t.target;for(;i;)e.push(i),i=i.parentElement;return e}function yZ(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():CZ(e)}function SZ(t,e,i,r){const s=xa(Zxe,i)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,i,r,s)}var Vc=class wZ{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:wZ.EVENT_DESTROYED})}addEventListener(e,i){this.localEventService||(this.localEventService=new Tu),this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService&&this.localEventService.removeEventListener(e,i)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,i,r){if(this.destroyed)return;e instanceof HTMLElement?SZ(this.getFrameworkOverrides(),e,i,r):e.addEventListener(i,r);const n=()=>(e.removeEventListener(i,r),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null);return this.destroyFunctions.push(n),n}setupGridOptionListener(e,i){this.gridOptionsService.addEventListener(e,i);const r=()=>(this.gridOptionsService.removeEventListener(e,i),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null);return this.destroyFunctions.push(r),r}addManagedPropertyListener(e,i){return this.destroyed?()=>null:this.setupGridOptionListener(e,i)}addManagedPropertyListeners(e,i){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=s.changeSet.id}const o={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};i(o)};e.forEach(s=>this.setupGridOptionListener(s,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,i){const r=this.createBean(e,i);return this.addDestroyFunc(this.destroyBean.bind(this,e,i)),r}createBean(e,i,r){return(i||this.getContext()).createBean(e,r)}destroyBean(e,i){return(i||this.getContext()).destroyBean(e)}destroyBeans(e,i){return e&&e.forEach(r=>this.destroyBean(r,i)),[]}};Vc.EVENT_DESTROYED="destroyed";A([W("frameworkOverrides")],Vc.prototype,"frameworkOverrides",2);A([W("context")],Vc.prototype,"context",2);A([W("eventService")],Vc.prototype,"eventService",2);A([W("gridOptionsService")],Vc.prototype,"gridOptionsService",2);A([W("localeService")],Vc.prototype,"localeService",2);A([W("environment")],Vc.prototype,"environment",2);A([Ka],Vc.prototype,"destroy",1);var Ie=Vc,iw=class extends Ie{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,i,r,n){const s=new Bxe,{existingCols:o,existingGroups:a,existingColKeys:l}=this.extractExistingTreeData(r);s.addExistingKeys(l);const u=this.recursivelyCreateColumns(e,0,i,o,s,a,n),c=this.findMaxDept(u,0);this.logger.log("Number of levels for grouped columns is "+c);const d=this.balanceColumnTree(u,0,c,s),h=(f,g)=>{f instanceof br&&f.setupExpandable(),f.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,d,h),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const i=[],r=[],n=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,s=>{if(s instanceof br){const o=s;r.push(o)}else{const o=s;n.push(o.getId()),i.push(o)}}),{existingCols:i,existingGroups:r,existingColKeys:n}}createForAutoGroups(e,i){return e.map(r=>this.createAutoGroupTreeItem(i,r))}createAutoGroupTreeItem(e,i){const r=this.findDepth(e);let n=i;for(let s=r-1;s>=0;s--){const o=new br(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return r===0&&i.setOriginalParent(null),n}findDepth(e){let i=0,r=e;for(;r&&r[0]&&r[0]instanceof br;)i++,r=r[0].getChildren();return i}balanceColumnTree(e,i,r,n){const s=[];for(let o=0;o<e.length;o++){const a=e[o];if(a instanceof br){const l=a,u=this.balanceColumnTree(l.getChildren(),i+1,r,n);l.setChildren(u),s.push(l)}else{let l,u;for(let c=r-1;c>=i;c--){const d=n.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new br(h,d,!0,i);this.createBean(f),u&&u.setChildren([f]),u=f,l||(l=u)}if(l&&u)if(s.push(l),e.some(d=>d instanceof br)){u.setChildren([a]);continue}else{u.setChildren(e);break}s.push(a)}}return s}findMaxDept(e,i){let r=i;for(let n=0;n<e.length;n++){const s=e[n];if(s instanceof br){const o=s,a=this.findMaxDept(o.getChildren(),i+1);r<a&&(r=a)}}return r}recursivelyCreateColumns(e,i,r,n,s,o,a){if(!e)return[];const l=new Array(e.length);for(let u=0;u<l.length;u++){const c=e[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(r,c,i,n,s,o,a):l[u]=this.createColumn(r,c,n,s,a)}return l}createColumnGroup(e,i,r,n,s,o,a){const l=this.createMergedColGroupDef(i),u=s.getUniqueKey(l.groupId||null,null),c=new br(l,u,!1,r);this.createBean(c);const d=this.findExistingGroup(i,o);d&&o.splice(d.idx,1);let h=d==null?void 0:d.group;h&&c.setExpanded(h.isExpanded());const f=this.recursivelyCreateColumns(l.children,r+1,e,n,s,o,a);return c.setChildren(f),c}createMergedColGroupDef(e){const i={};return Object.assign(i,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(i,e),i}createColumn(e,i,r,n,s){const o=this.findExistingColumn(i,r);o&&(r==null||r.splice(o.idx,1));let a=o==null?void 0:o.column;if(a){const l=this.addColumnDefaultAndTypes(i,a.getColId());a.setColDef(l,i,s),this.applyColumnState(a,l,s)}else{const l=n.getUniqueKey(i.colId,i.field),u=this.addColumnDefaultAndTypes(i,l);a=new Ci(u,i,l,e),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a}applyColumnState(e,i,r){const n=Ud(i.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const l=Ud(i.width);if(l!=null)e.setActualWidth(l,r);else{const u=e.getActualWidth();e.setActualWidth(u,r)}}i.sort!==void 0&&(i.sort=="asc"||i.sort=="desc"?e.setSort(i.sort,r):e.setSort(void 0,r));const o=Ud(i.sortIndex);o!==void 0&&e.setSortIndex(o);const a=IP(i.hide);a!==void 0&&e.setVisible(!a,r),i.pinned!==void 0&&e.setPinned(i.pinned)}findExistingColumn(e,i){if(i)for(let r=0;r<i.length;r++){const n=i[r].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(i[r].getId()===e.colId)return{idx:r,column:i[r]};continue}if(e.field!=null){if(n.field===e.field)return{idx:r,column:i[r]};continue}if(n===e)return{idx:r,column:i[r]}}}findExistingGroup(e,i){if(e.groupId!=null)for(let n=0;n<i.length;n++){const s=i[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}addColumnDefaultAndTypes(e,i){const r={},n=this.gridOptionsService.get("defaultColDef");Lo(r,n,!1,!0);const s=this.dataTypeService.updateColDefAndGetColumnType(r,e,i);s&&this.assignColumnTypes(s,r),Lo(r,e,!1,!0);const o=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&o&&a&&Lo(r,{sort:o.sort,initialSort:o.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r}assignColumnTypes(e,i){if(!e.length)return;const r=Object.assign({},Kxe),n=this.gridOptionsService.get("columnTypes")||{};Oo(n,(s,o)=>{s in r?console.warn(`AG Grid: the column type '${s}' is a default column type and cannot be overridden.`):(o.type&&ut("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=o)}),e.forEach(s=>{const o=r[s.trim()];o?Lo(i,o,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};A([W("columnUtils")],iw.prototype,"columnUtils",2);A([W("dataTypeService")],iw.prototype,"dataTypeService",2);A([ml(0,vl("loggerFactory"))],iw.prototype,"setBeans",1);iw=A([je("columnFactory")],iw);var z0=class ql{constructor(e,i,r,n){this.displayedChildren=[],this.localEventService=new Tu,this.groupId=i,this.partId=r,this.providedColumnGroup=e,this.pinned=n}static createUniqueId(e,i){return e+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return ql.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof ql&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const i=Xt(this.displayedChildren).getLeft();this.setLeft(i)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(ql.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let i=!1;return this.children.forEach(r=>{e===r&&(i=!0),r instanceof ql&&r.isChildInThisGroupDeepSearch(e)&&(i=!0)}),i}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(i=>{e+=i.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(i=>{i instanceof Ci?e.push(i):i instanceof ql&&i.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(i=>{i instanceof Ci?e.push(i):i instanceof ql&&i.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(ql.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(r=>{if(r instanceof ql&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.localEventService.dispatchEvent(this.createAgEvent(ql.EVENT_DISPLAYED_CHILDREN_CHANGED))}};z0.EVENT_LEFT_CHANGED="leftChanged";z0.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";A([W("gridOptionsService")],z0.prototype,"gridOptionsService",2);var $r=z0,L=class{};L.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";L.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";L.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";L.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded";L.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";L.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";L.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";L.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";L.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";L.EVENT_COLUMN_MOVED="columnMoved";L.EVENT_COLUMN_VISIBLE="columnVisible";L.EVENT_COLUMN_PINNED="columnPinned";L.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";L.EVENT_COLUMN_RESIZED="columnResized";L.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";L.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns";L.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide";L.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation";L.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";L.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver";L.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave";L.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked";L.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu";L.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";L.EVENT_ROW_GROUP_OPENED="rowGroupOpened";L.EVENT_ROW_DATA_UPDATED="rowDataUpdated";L.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";L.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";L.EVENT_CHART_CREATED="chartCreated";L.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";L.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";L.EVENT_CHART_DESTROYED="chartDestroyed";L.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";L.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";L.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";L.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";L.EVENT_MODEL_UPDATED="modelUpdated";L.EVENT_CUT_START="cutStart";L.EVENT_CUT_END="cutEnd";L.EVENT_PASTE_START="pasteStart";L.EVENT_PASTE_END="pasteEnd";L.EVENT_FILL_START="fillStart";L.EVENT_FILL_END="fillEnd";L.EVENT_RANGE_DELETE_START="rangeDeleteStart";L.EVENT_RANGE_DELETE_END="rangeDeleteEnd";L.EVENT_UNDO_STARTED="undoStarted";L.EVENT_UNDO_ENDED="undoEnded";L.EVENT_REDO_STARTED="redoStarted";L.EVENT_REDO_ENDED="redoEnded";L.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";L.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";L.EVENT_CELL_CLICKED="cellClicked";L.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";L.EVENT_CELL_MOUSE_DOWN="cellMouseDown";L.EVENT_CELL_CONTEXT_MENU="cellContextMenu";L.EVENT_CELL_VALUE_CHANGED="cellValueChanged";L.EVENT_CELL_EDIT_REQUEST="cellEditRequest";L.EVENT_ROW_VALUE_CHANGED="rowValueChanged";L.EVENT_CELL_FOCUSED="cellFocused";L.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";L.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";L.EVENT_ROW_SELECTED="rowSelected";L.EVENT_SELECTION_CHANGED="selectionChanged";L.EVENT_TOOLTIP_SHOW="tooltipShow";L.EVENT_TOOLTIP_HIDE="tooltipHide";L.EVENT_CELL_KEY_DOWN="cellKeyDown";L.EVENT_CELL_MOUSE_OVER="cellMouseOver";L.EVENT_CELL_MOUSE_OUT="cellMouseOut";L.EVENT_FILTER_CHANGED="filterChanged";L.EVENT_FILTER_MODIFIED="filterModified";L.EVENT_FILTER_OPENED="filterOpened";L.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";L.EVENT_SORT_CHANGED="sortChanged";L.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";L.EVENT_ROW_CLICKED="rowClicked";L.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";L.EVENT_GRID_READY="gridReady";L.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";L.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";L.EVENT_VIEWPORT_CHANGED="viewportChanged";L.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";L.EVENT_FIRST_DATA_RENDERED="firstDataRendered";L.EVENT_DRAG_STARTED="dragStarted";L.EVENT_DRAG_STOPPED="dragStopped";L.EVENT_CHECKBOX_CHANGED="checkboxChanged";L.EVENT_ROW_EDITING_STARTED="rowEditingStarted";L.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";L.EVENT_CELL_EDITING_STARTED="cellEditingStarted";L.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";L.EVENT_BODY_SCROLL="bodyScroll";L.EVENT_BODY_SCROLL_END="bodyScrollEnd";L.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";L.EVENT_PAGINATION_CHANGED="paginationChanged";L.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";L.EVENT_STORE_REFRESHED="storeRefreshed";L.EVENT_STATE_UPDATED="stateUpdated";L.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged";L.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";L.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged";L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";L.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";L.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";L.EVENT_FLASH_CELLS="flashCells";L.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";L.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";L.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";L.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";L.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";L.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";L.EVENT_ROW_DRAG_ENTER="rowDragEnter";L.EVENT_ROW_DRAG_MOVE="rowDragMove";L.EVENT_ROW_DRAG_LEAVE="rowDragLeave";L.EVENT_ROW_DRAG_END="rowDragEnd";L.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";L.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";L.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";L.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";L.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";L.EVENT_STORE_UPDATED="storeUpdated";L.EVENT_FILTER_DESTROYED="filterDestroyed";L.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";L.EVENT_ROW_COUNT_READY="rowCountReady";L.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";L.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";L.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";L.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";L.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var bD=new Set([L.EVENT_GRID_PRE_DESTROYED]),EZ=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const i=this.existingIds[e];let r;return typeof i!="number"?r=0:r=i+1,this.existingIds[e]=r,r}},$m="ag-Grid-AutoColumn",kP=class extends Ie{createAutoGroupColumns(e){const i=[],r=this.gridOptionsService.get("treeData");let n=this.gridOptionsService.isGroupMultiAutoColumn();return r&&n&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),n=!1),n?e.forEach((s,o)=>{i.push(this.createOneAutoGroupColumn(s,o))}):i.push(this.createOneAutoGroupColumn()),i}updateAutoGroupColumns(e,i){e.forEach((r,n)=>this.updateOneAutoGroupColumn(r,n,i))}createOneAutoGroupColumn(e,i){let r;e?r=`${$m}-${e.getId()}`:r=$m;const n=this.createAutoGroupColDef(r,e,i);n.colId=r;const s=new Ci(n,null,r,!0);return this.context.createBean(s),s}updateOneAutoGroupColumn(e,i,r){const n=e.getColDef(),s=typeof n.showRowGroup=="string"?n.showRowGroup:void 0,o=s!=null?this.columnModel.getPrimaryColumn(s):void 0,a=this.createAutoGroupColDef(e.getId(),o??void 0,i);e.setColDef(a,null,r),this.columnFactory.applyColumnState(e,a,r)}createAutoGroupColDef(e,i,r){let n=this.createBaseColDef(i);const s=this.gridOptionsService.get("autoGroupColumnDef");Lo(n,s),n=this.columnFactory.addColumnDefaultAndTypes(n,e),this.gridOptionsService.get("treeData")||gt(n.field)&&gt(n.valueGetter)&&gt(n.filterValueGetter)&&n.filter!=="agGroupColumnFilter"&&(n.filter=!1),r&&r>0&&(n.headerCheckboxSelection=!1);const o=this.gridOptionsService.isColumnsSortingCoupledToGroup(),a=n.valueGetter||n.field!=null;return o&&!a&&(n.sortIndex=void 0,n.initialSort=void 0),n}createBaseColDef(e){const i=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(i&&(i.cellRenderer||i.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),e){const o=e.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:o.headerValueGetter}),o.cellRenderer&&Object.assign(n,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererParams:o.cellRendererParams}}),n.showRowGroup=e.getColId()}else n.showRowGroup=!0;return n}};A([W("columnModel")],kP.prototype,"columnModel",2);A([W("columnFactory")],kP.prototype,"columnFactory",2);kP=A([je("autoGroupColService")],kP);var bZ={};En(bZ,{camelCaseToHumanText:()=>RZ,camelCaseToHyphenated:()=>TZ,capitalise:()=>iAe,escapeString:()=>jr,utf8_encode:()=>tAe});var Jxe=/[&<>"']/g,eAe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tAe(t){const e=String.fromCharCode;function i(d){const h=[];if(!d)return[];const f=d.length;let g=0,m,C;for(;g<f;)m=d.charCodeAt(g++),m>=55296&&m<=56319&&g<f?(C=d.charCodeAt(g++),(C&64512)==56320?h.push(((m&1023)<<10)+(C&1023)+65536):(h.push(m),g--)):h.push(m);return h}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function n(d,h){return e(d>>h&63|128)}function s(d){if(d>=0&&d<=31&&d!==10)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(d&4294967168))return e(d);let h="";return d&4294965248?d&4294901760?d&4292870144||(h=e(d>>18&7|240),h+=n(d,12),h+=n(d,6)):(r(d),h=e(d>>12&15|224),h+=n(d,6)):h=e(d>>6&31|192),h+=e(d&63|128),h}const o=i(t),a=o.length;let l=-1,u,c="";for(;++l<a;)u=o[l],c+=s(u);return c}function iAe(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}function jr(t,e){if(t==null)return null;const i=t.toString().toString();return e?i:i.replace(Jxe,r=>eAe[r])}function RZ(t){if(!t||t==null)return null;const e=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return t.replace(e,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}function TZ(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var DZ={};En(DZ,{convertToMap:()=>Td,keys:()=>nAe,mapById:()=>rAe});function Td(t){const e=new Map;return t.forEach(i=>e.set(i[0],i[1])),e}function rAe(t,e){const i=new Map;return t.forEach(r=>i.set(e(r),r)),i}function nAe(t){const e=[];return t.forEach((i,r)=>e.push(r)),e}var Sn=class extends Ie{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const e=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],i=>this.buildAutoGroupColumns(im(i.source))),this.addManagedPropertyListener("autoGroupColumnDef",i=>this.onAutoGroupColumnDefChanged(im(i.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],i=>this.onSharedColDefChanged(im(i.source))),this.addManagedPropertyListener("pivotMode",i=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),im(i.source))),this.addManagedListener(this.eventService,L.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,i){const r=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(r,i)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,i){const r={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,s=>{r[s.getInstanceId()]=s}),i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,s=>{r[s.getInstanceId()]=null});const n=Object.values(r).filter(s=>s!=null);this.destroyBeans(n)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,i){const r=e?this.compareColumnStatesAndDispatchEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const n=this.primaryColumns,s=this.primaryColumnTree,o=this.columnFactory.createColumnTree(this.columnDefs,!0,s,i);this.destroyOldColumns(this.primaryColumnTree,o.columnTree),this.primaryColumnTree=o.columnTree,this.primaryHeaderRowCount=o.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(u=>this.primaryColumnsMap[u.getId()]=u),this.extractRowGroupColumns(i,n),this.extractPivotColumns(i,n),this.extractValueColumns(i,n),this.ready=!0;const a=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||a||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),this.changeEventsDispatching=!0,r&&r(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(i)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){const i={type:L.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(i),e==="gridInitializing"&&this.onColumnsReady()}dispatchEverythingChanged(e){const i={type:L.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(i)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const i=e.filter(n=>this.gridColumns.indexOf(n)>=0),r=this.gridColumns.filter(n=>i.indexOf(n)<0);this.gridColumns=[...r,...i],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let i=e;const r=[];for(;i!=null;)r.push(i),i=this.getDisplayedColAfter(i);return r}checkViewportColumns(e=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const r={type:L.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(r)}setViewportPosition(e,i,r=!1){(e!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(e,i){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i);const r={type:L.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}getSecondaryPivotColumn(e,i){if(gt(this.secondaryColumns))return null;const r=this.getPrimaryColumn(i);let n=null;return this.secondaryColumns.forEach(s=>{const o=s.getColDef().pivotKeys,a=s.getColDef().pivotValueColumn;du(o,e)&&a===r&&(n=s)}),n}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let i,r;this.gridOptionsService.get("enableRtl")?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?Xt(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?Xt(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(n=>{n.setLastLeftPinned(n===i,e),n.setFirstRightPinned(n===r,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:i,skipHeader:r,skipHeaderGroups:n,stopAtGroup:s,source:o="api"}=e;this.animationFrameService.flushAllFrames();const a=[];let l=-1;const u=r??this.gridOptionsService.get("skipHeaderOnAutoSize"),c=n??u;for(;l!==0;)l=0,this.actionOnGridColumns(i,d=>{if(a.indexOf(d)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(d,u);if(h>0){const f=this.normaliseColumnWidth(d,h);d.setActualWidth(f,o),a.push(d),l++}return!0},o);c||this.autoSizeColumnGroupsByColumns(i,o,s),this.dispatchColumnResizedEvent(a,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,i,r,n=null){if(e&&e.length){const s={type:L.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:i,source:r};this.eventService.dispatchEvent(s)}}dispatchColumnChangedEvent(e,i,r){const n={type:e,columns:i,column:i&&i.length==1?i[0]:null,source:r};this.eventService.dispatchEvent(n)}dispatchColumnMovedEvent(e){const{movedColumns:i,source:r,toIndex:n,finished:s}=e,o={type:L.EVENT_COLUMN_MOVED,columns:i,column:i&&i.length===1?i[0]:null,toIndex:n,finished:s,source:r};this.eventService.dispatchEvent(o)}dispatchColumnPinnedEvent(e,i){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.getPinned()),s={type:L.EVENT_COLUMN_PINNED,pinned:n??null,columns:e,column:r,source:i};this.eventService.dispatchEvent(s)}dispatchColumnVisibleEvent(e,i){if(!e.length)return;const r=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.isVisible()),s={type:L.EVENT_COLUMN_VISIBLE,visible:n,columns:e,column:r,source:i};this.eventService.dispatchEvent(s)}autoSizeColumn(e,i,r){e&&this.autoSizeColumns({columns:[e],skipHeader:r,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(e,i,r){const n=new Set;this.getGridColumns(e).forEach(l=>{let u=l.getParent();for(;u&&u!=r;)u.isPadding()||n.add(u),u=u.getParent()});let o;const a=[];for(const l of n){for(const u of this.ctrlsService.getHeaderRowContainerCtrls())if(o=u.getHeaderCtrlForColumn(l),o)break;o&&o.resizeLeafColumnsToFit(i)}return a}autoSizeAllColumns(e,i){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,i));return}const r=this.getAllDisplayedColumns();this.autoSizeColumns({columns:r,skipHeader:i,source:e})}getColumnsFromTree(e){const i=[],r=n=>{for(let s=0;s<n.length;s++){const o=n[s];o instanceof Ci?i.push(o):o instanceof br&&r(o.getChildren())}};return r(e),i}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,i,r,n){const s=[];let o=null;for(let a=0;a<i.length;a++){const l=i[a],u=i.length-a,c=Math.min(l.getColSpan(e),u),d=[l];if(c>1){const f=c-1;for(let g=1;g<=f;g++)d.push(i[a+g]);a+=f}let h;r?(h=!1,d.forEach(f=>{r(f)&&(h=!0)})):h=!0,h&&(s.length===0&&o&&(n&&n(l))&&s.push(o),s.push(l)),o=l}return s}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const i=n=>{const s=n.getLeft();return De(s)&&s>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,r,i)}isColumnAtEdge(e,i){const r=this.getAllDisplayedColumns();if(!r.length)return!1;const n=i==="first";let s;if(e instanceof $r){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;s=n?o[0]:Xt(o)}else s=e;return(n?r[0]:Xt(r))===s}getAriaColumnIndex(e){let i;return e instanceof $r?i=e.getLeafColumns()[0]:i=e,this.ariaOrderColumns.indexOf(i)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const i=e.getLeft()||0,r=i+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,o=i<n&&r<n,a=i>s&&r>s;return!o&&!a}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,i,r,n,s,o){if(!e||Po(e))return;let a=!1;if(e.forEach(u=>{if(!u)return;const c=this.getPrimaryColumn(u);if(c){if(r){if(i.indexOf(c)>=0)return;i.push(c)}else{if(i.indexOf(c)<0)return;Us(i,c)}n(c),a=!0}}),!a)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o);const l={type:s,columns:i,column:i.length===1?i[0]:null,source:o};this.eventService.dispatchEvent(l)}setRowGroupColumns(e,i){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,L.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),i)}setRowGroupActive(e,i,r){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,r),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([i],!1,r),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([i],!0,r))}addRowGroupColumns(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),L.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}removeRowGroupColumns(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),L.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}addPivotColumns(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!0,r=>r.setPivotActive(!0,i),L.EVENT_COLUMN_PIVOT_CHANGED,i)}setPivotColumns(e,i){this.setPrimaryColumnList(e,this.pivotColumns,L.EVENT_COLUMN_PIVOT_CHANGED,!0,(r,n)=>{n.setPivotActive(r,i)},i)}removePivotColumns(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!1,r=>r.setPivotActive(!1,i),L.EVENT_COLUMN_PIVOT_CHANGED,i)}setPrimaryColumnList(e,i,r,n,s,o){if(!this.gridColumns)return;const a=new Map;i.forEach((l,u)=>a.set(l,u)),i.length=0,De(e)&&e.forEach(l=>{const u=this.getPrimaryColumn(l);u&&i.push(u)}),i.forEach((l,u)=>{const c=a.get(l);if(c===void 0){a.set(l,0);return}n&&c!==u||a.delete(l)}),(this.primaryColumns||[]).forEach(l=>{const u=i.indexOf(l)>=0;s(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(o),this.dispatchColumnChangedEvent(r,[...a.keys()],o)}setValueColumns(e,i){this.setPrimaryColumnList(e,this.valueColumns,L.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),i)}setValueActive(e,i,r){if(e!==i.isValueActive()&&(i.setValueActive(e,r),e&&!i.getAggFunc())){const n=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(n)}}addValueColumns(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),L.EVENT_COLUMN_VALUE_CHANGED,i)}removeValueColumns(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),L.EVENT_COLUMN_VALUE_CHANGED,i)}normaliseColumnWidth(e,i){const r=e.getMinWidth();De(r)&&i<r&&(i=r);const n=e.getMaxWidth();return De(n)&&e.isGreaterThanMax(i)&&(i=n),i}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,i,r,n){const s=[];e.forEach(o=>{const a=this.getPrimaryOrGridColumn(o.key);if(!a)return;if(s.push({width:o.newWidth,ratios:[1],columns:[a]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(i=!i),i){const u=this.getDisplayedColAfter(a);if(!u)return;const c=a.getActualWidth()-o.newWidth,d=u.getActualWidth()+c;s.push({width:d,ratios:[1],columns:[u]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:r,source:n})}checkMinAndMaxWidthsForSet(e){const{columns:i,width:r}=e;let n=0,s=0,o=!0;i.forEach(u=>{const c=u.getMinWidth();n+=c||0;const d=u.getMaxWidth();De(d)&&d>0?s+=d:o=!1});const a=r>=n,l=!o||r<=s;return a&&l}resizeColumnSets(e){const{resizeSets:i,finished:r,source:n}=e;if(!(!i||i.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(r){const d=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(d,r,n)}return}const o=[],a=[];i.forEach(d=>{const{width:h,columns:f,ratios:g}=d,m={},C={};f.forEach(w=>a.push(w));let S=!0,y=0;for(;S;){if(y++,y>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}S=!1;const w=[];let E=0,b=h;f.forEach((P,O)=>{if(C[P.getId()])b-=m[P.getId()];else{w.push(P);const _=g[O];E+=_}});const D=1/E;w.forEach((P,O)=>{const N=O===w.length-1;let _;N?_=b:(_=Math.round(g[O]*h*D),b-=_);const I=P.getMinWidth(),k=P.getMaxWidth();De(I)&&_<I?(_=I,C[P.getId()]=!0,S=!0):De(k)&&k>0&&_>k&&(_=k,C[P.getId()]=!0,S=!0),m[P.getId()]=_})}f.forEach(w=>{const E=m[w.getId()];w.getActualWidth()!==E&&(w.setActualWidth(E,n),o.push(w))})});const l=o.length>0;let u=[];l&&(u=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());const c=a.concat(u);(l||r)&&this.dispatchColumnResizedEvent(c,r,n,u)}setColumnAggFunc(e,i,r){if(!e)return;const n=this.getPrimaryColumn(e);n&&(n.setAggFunc(i),this.dispatchColumnChangedEvent(L.EVENT_COLUMN_VALUE_CHANGED,[n],r))}moveRowGroupColumn(e,i,r){if(this.isRowGroupEmpty())return;const n=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,i);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(i,0,n);const o={type:L.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:r};this.eventService.dispatchEvent(o)}moveColumns(e,i,r,n=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),i>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const s=this.getGridColumns(e);this.doesMovePassRules(s,i)&&(WN(this.gridColumns,s,i),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:s,source:r,toIndex:i,finished:n}),this.columnAnimationService.finish())}doesMovePassRules(e,i){const r=this.getProposedColumnOrder(e,i);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,i){const r=this.gridColumns.slice();return WN(r,e,i),r}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(r=>this.gridColumns.indexOf(r)<0).length>0||e.sort((r,n)=>{const s=this.gridColumns.indexOf(r),o=this.gridColumns.indexOf(n);return s-o})}doesMovePassLockedPositions(e){let i=0,r=!0;const n=s=>s?s===!0||s==="left"?0:2:1;return e.forEach(s=>{const o=n(s.getColDef().lockPosition);o<i&&(r=!1),i=o}),r}doesMovePassMarryChildren(e){let i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,r=>{if(!(r instanceof br))return;const n=r,s=n.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];n.getLeafColumns().forEach(h=>{const f=e.indexOf(h);a.push(f)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),c=l-u,d=n.getLeafColumns().length-1;c>d&&(i=!1)}),i}moveColumnByIndex(e,i,r){if(!this.gridColumns)return;const n=this.gridColumns[e];this.moveColumns([n],i,r)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((i,r)=>this.gridColumns.indexOf(i)-this.gridColumns.indexOf(r)):this.lastPrimaryOrder&&e.sort((i,r)=>this.lastPrimaryOrder.indexOf(i)-this.lastPrimaryOrder.indexOf(r)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==r){this.bodyWidth=e,this.leftWidth=i,this.rightWidth=r;const s={type:L.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(s);const o={type:L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return(e=this.gridColumns)!=null?e:[]}isEmpty(){return Po(this.gridColumns)}isRowGroupEmpty(){return Po(this.rowGroupColumns)}setColumnsVisible(e,i=!1,r){this.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!i}))},r)}setColumnsPinned(e,i,r){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;i===!0||i==="left"?n="left":i==="right"?n="right":n=null,this.actionOnGridColumns(e,s=>s.getPinned()!==n?(s.setPinned(n),!0):!1,r,()=>({type:L.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,source:r})),this.columnAnimationService.finish()}actionOnGridColumns(e,i,r,n){if(Po(e))return;const s=[];if(e.forEach(o=>{if(!o)return;const a=this.getGridColumn(o);if(!a)return;i(a)!==!1&&s.push(a)}),!!s.length&&(this.updateDisplayedColumns(r),De(n)&&n)){const o=n();o.columns=s,o.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(o)}}getDisplayedColBefore(e){const i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r>0?i[r-1]:null}getDisplayedColAfter(e){const i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r<i.length-1?i[r+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,i){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=i==="After"?Xt(n):n[0],o=`getDisplayedCol${i}`;for(;;){const a=this[o](s);if(!a)return null;const l=this.getColumnGroupAtLevel(a,r);if(l!==e)return l}}getColumnGroupAtLevel(e,i){let r=e.getParent(),n,s;for(;n=r.getProvidedColumnGroup().getLevel(),s=r.getPaddingLevel(),!(n+s<=i);)r=r.getParent();return r}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const i=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null,s=e.getSort()!=null?e.getSort():null,o=e.getSortIndex()!=null?e.getSortIndex():null,a=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:o,aggFunc:n,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:r,flex:a}}getColumnState(){if(gt(this.primaryColumns)||!this.isAlive())return[];const i=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i}orderColumnStateList(e){const i=Td(this.gridColumns.map((r,n)=>[r.getColId(),n]));e.sort((r,n)=>{const s=i.has(r.colId)?i.get(r.colId):-1,o=i.has(n.colId)?i.get(n.colId):-1;return s-o})}resetColumnState(e){if(Po(this.primaryColumns))return;const i=this.getColumnsFromTree(this.primaryColumnTree),r=[];let n=1e3,s=1e3,o=[];this.groupAutoColumns&&(o=o.concat(this.groupAutoColumns)),i&&(o=o.concat(i)),o.forEach(a=>{const l=this.getColumnStateFromColDef(a);gt(l.rowGroupIndex)&&l.rowGroup&&(l.rowGroupIndex=n++),gt(l.pivotIndex)&&l.pivot&&(l.pivotIndex=s++),r.push(l)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const i=(m,C)=>m??C??null,r=e.getColDef(),n=i(r.sort,r.initialSort),s=i(r.sortIndex,r.initialSortIndex),o=i(r.hide,r.initialHide),a=i(r.pinned,r.initialPinned),l=i(r.width,r.initialWidth),u=i(r.flex,r.initialFlex);let c=i(r.rowGroupIndex,r.initialRowGroupIndex),d=i(r.rowGroup,r.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let h=i(r.pivotIndex,r.initialPivotIndex),f=i(r.pivot,r.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);const g=i(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:o,pinned:a,width:l,flex:u,rowGroup:d,rowGroupIndex:c,pivot:f,pivotIndex:h,aggFunc:g}}applyColumnState(e,i){if(Po(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const r=(o,a,l)=>{const u=this.compareColumnStatesAndDispatchEvents(i);this.autoGroupsNeedBuilding=!0;const c=a.slice(),d={},h={},f=[],g=[];let m=0;const C=this.rowGroupColumns.slice(),S=this.pivotColumns.slice();o.forEach(b=>{const D=b.colId||"";if(D.startsWith($m)){f.push(b),g.push(b);return}const O=l(D);O?(this.syncColumnWithStateItem(O,b,e.defaultState,d,h,!1,i),Us(c,O)):(g.push(b),m+=1)});const y=b=>this.syncColumnWithStateItem(b,null,e.defaultState,d,h,!1,i);c.forEach(y);const w=(b,D,P,O)=>{const N=b[P.getId()],_=b[O.getId()],I=N!=null,k=_!=null;if(I&&k)return N-_;if(I)return-1;if(k)return 1;const B=D.indexOf(P),U=D.indexOf(O),K=B>=0,j=U>=0;return K&&j?B-U:K?-1:1};this.rowGroupColumns.sort(w.bind(this,d,C)),this.pivotColumns.sort(w.bind(this,h,S)),this.updateGridColumns();const E=this.groupAutoColumns?this.groupAutoColumns.slice():[];return f.forEach(b=>{const D=this.getAutoColumn(b.colId);Us(E,D),this.syncColumnWithStateItem(D,b,e.defaultState,null,null,!0,i)}),E.forEach(y),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(i),this.dispatchEverythingChanged(i),u(),{unmatchedAndAutoStates:g,unmatchedCount:m}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:s}=r(e.state||[],this.primaryColumns||[],o=>this.getPrimaryColumn(o));return(n.length>0||De(e.defaultState))&&(s=r(n,this.secondaryColumns||[],o=>this.getSecondaryColumn(o)).unmatchedCount),this.columnAnimationService.finish(),s===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let i=[];const r={};e.state.forEach(s=>{if(!s.colId||r[s.colId])return;const o=this.gridColumnsMap[s.colId];o&&(i.push(o),r[s.colId]=!0)});let n=0;if(this.gridColumns.forEach(s=>{const o=s.getColId();if(r[o]!=null)return;o.startsWith($m)?tw(i,s,n++):i.push(s)}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}compareColumnStatesAndDispatchEvents(e){const i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},r=this.getColumnState(),n={};return r.forEach(s=>{n[s.colId]=s}),()=>{const s=this.getPrimaryAndSecondaryAndAutoColumns(),o=(C,S,y,w)=>{const E=S.map(w),b=y.map(w);if(du(E,b))return;const P=new Set(S);y.forEach(_=>{P.delete(_)||P.add(_)});const O=[...P],N={type:C,columns:O,column:O.length===1?O[0]:null,source:e};this.eventService.dispatchEvent(N)},a=C=>{const S=[];return s.forEach(y=>{const w=n[y.getColId()];w&&C(w,y)&&S.push(y)}),S},l=C=>C.getColId();o(L.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,this.rowGroupColumns,l),o(L.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,this.pivotColumns,l);const c=a((C,S)=>{const y=C.aggFunc!=null,w=y!=S.isValueActive(),E=y&&C.aggFunc!=S.getAggFunc();return w||E});c.length>0&&this.dispatchColumnChangedEvent(L.EVENT_COLUMN_VALUE_CHANGED,c,e);const d=(C,S)=>C.width!=S.getActualWidth();this.dispatchColumnResizedEvent(a(d),!0,e);const h=(C,S)=>C.pinned!=S.getPinned();this.dispatchColumnPinnedEvent(a(h),e);const f=(C,S)=>C.hide==S.isVisible();this.dispatchColumnVisibleEvent(a(f),e);const m=a((C,S)=>C.sort!=S.getSort()||C.sortIndex!=S.getSortIndex());m.length>0&&this.sortController.dispatchSortChangedEvents(e,m),this.normaliseColumnMovedEventForColumnState(r,e)}}getCommonValue(e,i){if(!e||e.length==0)return;const r=i(e[0]);for(let n=1;n<e.length;n++)if(r!==i(e[n]))return;return r}normaliseColumnMovedEventForColumnState(e,i){const r=this.getColumnState(),n={};r.forEach(u=>n[u.colId]=u);const s={};e.forEach(u=>{n[u.colId]&&(s[u.colId]=!0)});const o=e.filter(u=>s[u.colId]),a=r.filter(u=>s[u.colId]),l=[];a.forEach((u,c)=>{const d=o&&o[c];if(d&&d.colId!==u.colId){const h=this.getGridColumn(d.colId);h&&l.push(h)}}),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:i,finished:!0})}syncColumnWithStateItem(e,i,r,n,s,o,a){if(!e)return;const l=(E,b)=>{const D={value1:void 0,value2:void 0};let P=!1;return i&&(i[E]!==void 0&&(D.value1=i[E],P=!0),De(b)&&i[b]!==void 0&&(D.value2=i[b],P=!0)),!P&&r&&(r[E]!==void 0&&(D.value1=r[E]),De(b)&&r[b]!==void 0&&(D.value2=r[b])),D},u=l("hide").value1;u!==void 0&&e.setVisible(!u,a);const c=l("pinned").value1;c!==void 0&&e.setPinned(c);const d=this.columnUtils.calculateColMinWidth(e.getColDef()),h=l("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){const E=l("width").value1;E!=null&&d!=null&&E>=d&&e.setActualWidth(E,a)}const f=l("sort").value1;f!==void 0&&(f==="desc"||f==="asc"?e.setSort(f,a):e.setSort(void 0,a));const g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),o||!e.isPrimary())return;const m=l("aggFunc").value1;m!==void 0&&(typeof m=="string"?(e.setAggFunc(m),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(De(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),Us(this.valueColumns,e))));const{value1:C,value2:S}=l("rowGroup","rowGroupIndex");(C!==void 0||S!==void 0)&&(typeof S=="number"||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),n&&typeof S=="number"&&(n[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),Us(this.rowGroupColumns,e)));const{value1:y,value2:w}=l("pivot","pivotIndex");(y!==void 0||w!==void 0)&&(typeof w=="number"||y?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),s&&typeof w=="number"&&(s[e.getId()]=w)):e.isPivotActive()&&(e.setPivotActive(!1,a),Us(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,i){const r=[];return e&&e.forEach(n=>{const s=i(n);s&&r.push(s)}),r}getColumnWithValidation(e){if(e==null)return null;const i=this.getGridColumn(e);return i||console.warn("AG Grid: could not find column "+e),i}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,i,r){if(!e||!r)return null;if(typeof e=="string"&&r[e])return r[e];for(let n=0;n<i.length;n++)if(this.columnsMatch(i[n],e))return i[n];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const i=e.getColDef().showRowGroup;if(!i)return null;if(i===!0)return this.rowGroupColumns.slice(0);const r=this.getPrimaryColumn(i);return r?[r]:null}getAutoColumn(e){return!this.groupAutoColumns||!De(this.groupAutoColumns)||gt(this.groupAutoColumns)?null:this.groupAutoColumns.find(i=>this.columnsMatch(i,e))||null}columnsMatch(e,i){const r=e===i,n=e.getColDef()===i,s=e.getColId()==i;return r||n||s}getDisplayNameForColumn(e,i,r=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,i);return r?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,i,r){const n=i?i.getColGroupDef():null;return n?this.getHeaderName(n,null,e,i,r):null}getDisplayNameForColumnGroup(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)}getHeaderName(e,i,r,n,s){const o=e.headerValueGetter;if(o){const a=this.gridOptionsService.addGridCommonParams({colDef:e,column:i,columnGroup:r,providedColumnGroup:n,location:s});return typeof o=="function"?o(a):typeof o=="string"?this.expressionService.evaluate(o,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return RZ(e.field)}return""}wrapHeaderNameWithAggFunc(e,i){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return i;const r=e.getColDef().pivotValueColumn,n=De(r);let s=null,o;if(n){const a=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return i;s=r?r.getAggFunc():null,o=!0}else{const a=e.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();a&&l?(s=e.getAggFunc(),o=!0):o=!1}if(o){const a=typeof s=="string"?s:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${i})`}return i}getColumnGroup(e,i){if(!e)return null;if(e instanceof $r)return e;const r=this.getAllDisplayedTrees(),n=typeof i=="number";let s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,o=>{if(o instanceof $r){const a=o;let l;n?l=e===a.getGroupId()&&i===a.getPartId():l=e===a.getGroupId(),l&&(s=a)}}),s}isReady(){return this.ready}extractValueColumns(e,i){this.valueColumns=this.extractColumns(i,this.valueColumns,(r,n)=>r.setValueActive(n,e),()=>{},()=>{},r=>{const n=r.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueColumns.forEach(r=>{const n=r.getColDef();n.aggFunc!=null&&n.aggFunc!=""?r.setAggFunc(n.aggFunc):r.getAggFunc()||r.setAggFunc(n.initialAggFunc)})}extractRowGroupColumns(e,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,(r,n)=>r.setRowGroupActive(n,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractColumns(e=[],i=[],r,n,s,o,a){const l=[],u=[];(this.primaryColumns||[]).forEach(h=>{const f=e.indexOf(h)<0,g=h.getColDef(),m=IP(o(g)),C=IP(a(g)),S=Ud(n(g)),y=Ud(s(g));let w;m!==void 0?w=m:S!==void 0?S===null?w=!1:w=S>=0:f?C!==void 0?w=C:y!==void 0?w=y!=null&&y>=0:w=!1:w=i.indexOf(h)>=0,w&&((f?S!=null||y!=null:S!=null)?l.push(h):u.push(h))});const c=h=>{const f=n(h.getColDef()),g=s(h.getColDef());return f??g};l.sort((h,f)=>{const g=c(h),m=c(f);return g===m?0:g<m?-1:1});const d=[].concat(l);return i.forEach(h=>{u.indexOf(h)>=0&&d.push(h)}),u.forEach(h=>{d.indexOf(h)<0&&d.push(h)}),i.forEach(h=>{d.indexOf(h)<0&&r(h,!1)}),d.forEach(h=>{i.indexOf(h)<0&&r(h,!0)}),d}extractPivotColumns(e,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,(r,n)=>r.setPivotActive(n,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}resetColumnGroupState(e){if(!this.primaryColumnTree)return;const i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,r=>{if(r instanceof br){const n=r.getColGroupDef(),s={groupId:r.getGroupId(),open:n?n.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof br&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}setColumnGroupState(e,i){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const r=[];if(e.forEach(n=>{const s=n.groupId,o=n.open,a=this.getProvidedColumnGroup(s);a&&a.isExpanded()!==o&&(this.logger.log("columnGroupOpened("+a.getGroupId()+","+o+")"),a.setExpanded(o),r.push(a))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),r.length){const n={type:L.EVENT_COLUMN_GROUP_OPENED,columnGroup:br.length===1?r[0]:void 0,columnGroups:r};this.eventService.dispatchEvent(n)}this.columnAnimationService.finish()}setColumnGroupOpened(e,i,r){let n;e instanceof br?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:i}],r)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,r=>{r instanceof br&&r.getId()===e&&(i=r)}),i}calculateColumnsForDisplay(){let e;return this.pivotMode&&gt(this.secondaryColumns)?e=this.gridColumns.filter(i=>{const r=this.groupAutoColumns&&xa(this.groupAutoColumns,i),n=this.valueColumns&&xa(this.valueColumns,i);return r||n}):e=this.gridColumns.filter(i=>this.groupAutoColumns&&xa(this.groupAutoColumns,i)||i.isVisible()),e}checkColSpanActiveInCols(e){let i=!1;return e.forEach(r=>{De(r.getColDef().colSpan)&&(i=!0)}),i}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=i=>{const r=i.getColDef(),n=r.showRowGroup;r&&De(n)&&(this.groupDisplayColumns.push(i),typeof n=="string"?this.groupDisplayColumnsMap[n]=i:n===!0&&this.getRowGroupColumns().forEach(s=>{this.groupDisplayColumnsMap[s.getId()]=i}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return De(this.secondaryColumns)}setSecondaryColumns(e,i){if(!this.gridColumns)return;const r=e;if(!(!r&&gt(this.secondaryColumns))){if(r){this.processSecondaryColumnDefinitions(e);const n=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,i);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(s=>this.secondaryColumnsMap[s.getId()]=s),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(i)}}processSecondaryColumnDefinitions(e){const i=this.gridOptionsService.get("processPivotResultColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef");if(!i&&!r)return;const n=s=>{s.forEach(o=>{if(De(o.children)){const l=o;r&&r(l),n(l.children)}else i&&i(o)})};e&&n(e)}updateGridColumns(){const e=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const n=Td(this.groupAutoColumns.map(s=>[s,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(s=>!n.has(s)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(s=>!n.has(s)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let r;if(this.secondaryColumns&&this.secondaryBalancedTree){const n=this.secondaryColumns.some(s=>this.gridColumnsMap[s.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,n&&(r=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,r=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(r),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(n=>this.gridColumnsMap[n.getId()]=n),this.setAutoHeightActive(),!du(e,this.gridBalancedTree)){const n={type:L.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||ut("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(e){if(gt(e))return;const i=Td(e.map((u,c)=>[u,c]));let r=!0;if(this.gridColumns.forEach(u=>{i.has(u)&&(r=!1)}),r)return;const n=Td(this.gridColumns.map(u=>[u,!0])),s=e.filter(u=>n.has(u)),o=Td(s.map(u=>[u,!0])),a=this.gridColumns.filter(u=>!o.has(u)),l=s.slice();a.forEach(u=>{let c=u.getOriginalParent();if(!c){l.push(u);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(m=>{const C=l.indexOf(m)>=0,S=d.indexOf(m)<0;C&&S&&d.push(m)}),c=c.getOriginalParent();if(!d.length){l.push(u);return}const h=d.map(g=>l.indexOf(g)),f=Math.max(...h);tw(l,u,f+1)}),this.gridColumns=l}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let i=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!=null?e:[];this.groupAutoColumns&&(i=i.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?i:i.filter(r=>r.isVisible()||r.isRowGroupActive())}placeLockedColumns(e){const i=[],r=[],n=[];return e.forEach(s=>{const o=s.getColDef().lockPosition;o==="right"?n.push(s):o==="left"||o===!0?i.push(s):r.push(s)}),[...i,...r,...n]}addAutoGroupToGridColumns(){if(gt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const i={type:L.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(i=>i.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const e=this.getAllGridColumns(),i=[],r=[],n=[];for(const s of e){const o=s.getPinned();o?o===!0||o==="left"?i.push(s):n.push(s):r.push(s)}this.ariaOrderColumns=i.concat(r).concat(n)}joinDisplayedColumns(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const i=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),r=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(n=>{if(r){let s=this.getWidthOfColsInList(n);n.forEach(o=>{s-=o.getActualWidth(),o.setLeft(s,e)})}else{let s=0;n.forEach(o=>{o.setLeft(s,e),s+=o.getActualWidth()})}fZ(i,n)}),i.forEach(n=>{n.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(i=>{i instanceof $r&&i.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,r=>{r instanceof Ci&&i.push(r)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,i){let r;switch(e){case"left":r=this.viewportRowLeft[i];break;case"right":r=this.viewportRowRight[i];break;default:r=this.viewportRowCenter[i];break}return gt(r)&&(r=[]),r}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(r=>e[r.getId()]=!0);const i=(r,n,s)=>{let o=!1;for(let a=0;a<r.length;a++){const l=r[a];let u=!1;if(l instanceof Ci)u=e[l.getId()]===!0;else{const d=l.getDisplayedChildren();d&&(u=i(d,n,s+1))}u&&(o=!0,n[s]||(n[s]=[]),n[s].push(l))}return o};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const i=this.viewportColumns.map(e).join("#"),r=this.viewportColumnsHash!==i;return r&&(this.viewportColumnsHash=i,this.calculateHeaderRows()),r}refreshFlexedColumns(e={}){var i;const r=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=-1;if(e.resizingCols){const f=new Set(e.resizingCols);let g=this.displayedColumnsCenter;for(let m=g.length-1;m>=0;m--)if(f.has(g[m])){n=m;break}}let s=0,o=[],a=0,l=0;for(let f=0;f<this.displayedColumnsCenter.length;f++)this.displayedColumnsCenter[f].getFlex()&&f>n?(o.push(this.displayedColumnsCenter[f]),l+=this.displayedColumnsCenter[f].getFlex(),a+=(i=this.displayedColumnsCenter[f].getMinWidth())!=null?i:0):s+=this.displayedColumnsCenter[f].getActualWidth();if(!o.length)return[];let u=[];s+a>this.flexViewportWidth&&(o.forEach(f=>{var g;return f.setActualWidth((g=f.getMinWidth())!=null?g:0,r)}),u=o,o=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-s;const f=d/l;for(let g=0;g<o.length;g++){const m=o[g],C=f*m.getFlex();let S=0;const y=m.getMinWidth(),w=m.getMaxWidth();if(De(y)&&C<y?S=y:De(w)&&C>w&&(S=w),S){m.setActualWidth(S,r),cH(o,m),l-=m.getFlex(),u.push(m),s+=m.getActualWidth();continue e}c[g]=Math.round(C)}break}let h=d;return o.forEach((f,g)=>{f.setActualWidth(Math.min(c[g],h),r),u.push(f),h-=c[g]}),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(u,!0,r,o),o}sizeColumnsToFit(e,i="sizeColumnsToFit",r,n){var s,o,a,l,u;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,i,r,n));return}const c={};n&&((s=n==null?void 0:n.columnLimits)==null||s.forEach(y=>{var w=y,{key:E}=w,b=Vxe(w,["key"]);c[typeof E=="string"?E:E.getColId()]=b}));const d=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(d);if(e<=0||!d.length||h)return;const f=[],g=[];d.forEach(y=>{y.getColDef().suppressSizeToFit===!0?g.push(y):f.push(y)});const m=f.slice(0);let C=!1;const S=y=>{Us(f,y),g.push(y)};for(f.forEach(y=>{var w,E;y.resetActualWidth(i);const b=c==null?void 0:c[y.getId()],D=(w=b==null?void 0:b.minWidth)!=null?w:n==null?void 0:n.defaultMinWidth,P=(E=b==null?void 0:b.maxWidth)!=null?E:n==null?void 0:n.defaultMaxWidth,O=y.getActualWidth();typeof D=="number"&&O<D?y.setActualWidth(D,i,!0):typeof P=="number"&&O>P&&y.setActualWidth(P,i,!0)});!C;){C=!0;const y=e-this.getWidthOfColsInList(g);if(y<=0)f.forEach(w=>{var E,b;const D=(b=(E=c==null?void 0:c[w.getId()])==null?void 0:E.minWidth)!=null?b:n==null?void 0:n.defaultMinWidth;if(typeof D=="number"){w.setActualWidth(D,i,!0);return}w.setMinimum(i)});else{const w=y/this.getWidthOfColsInList(f);let E=y;for(let b=f.length-1;b>=0;b--){const D=f[b],P=c==null?void 0:c[D.getId()],O=(o=P==null?void 0:P.minWidth)!=null?o:n==null?void 0:n.defaultMinWidth,N=(a=P==null?void 0:P.maxWidth)!=null?a:n==null?void 0:n.defaultMaxWidth,_=(l=D.getMinWidth())!=null?l:0,I=(u=D.getMaxWidth())!=null?u:Number.MAX_VALUE,k=typeof O=="number"&&O>_?O:D.getMinWidth(),B=typeof N=="number"&&N<I?N:D.getMaxWidth();let U=Math.round(D.getActualWidth()*w);De(k)&&U<k?(U=k,S(D),C=!1):De(B)&&U>B?(U=B,S(D),C=!1):b===0&&(U=E),D.setActualWidth(U,i,!0),E-=U}}}m.forEach(y=>{y.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(m,!0,i)}buildDisplayedTrees(e){const i=[],r=[],n=[];e.forEach(o=>{switch(o.getPinned()){case"left":i.push(o);break;case"right":r.push(o);break;default:n.push(o);break}});const s=new EZ;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(n,s,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=i=>{this.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,i=>{i instanceof $r&&i.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const i=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))&&!r&&!i){const o=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(o,this.groupAutoColumns)||e)return this.groupAutoColumns=o,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){return this.gridOptionsService.get("groupDisplayType")==="custom"?!0:this.gridOptionsService.get("treeDataDisplayType")==="custom"}autoColsEqual(e,i){return du(e,i,(r,n)=>r.getColId()===n.getColId())}getWidthOfColsInList(e){return e.reduce((i,r)=>i+r.getActualWidth(),0)}getFirstDisplayedColumn(){const e=this.gridOptionsService.get("enableRtl"),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&i.reverse();for(let r=0;r<i.length;r++){const n=this[i[r]]();if(n.length)return e?Xt(n):n[0]}return null}setColumnHeaderHeight(e,i){if(e.setAutoHeaderHeight(i)){const n={type:L.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(n)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.getAllDisplayedColumns().filter(r=>r.isAutoHeaderHeight()).map(r=>r.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){var e;return(e=this.gridOptionsService.get("headerHeight"))!=null?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!=null?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!=null?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,i){const r=e.getUserProvidedColDef();if(!r)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r,i),!0}isColumnGroupingLocked(e){const i=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||i===0)return!1;if(i===-1)return!0;const r=this.rowGroupColumns.findIndex(n=>n.getColId()===e.getColId());return i>r}generateColumnStateForRowGroupAndPivotIndexes(e,i){let r={};const n=(s,o,a,l,u,c)=>{if(!o.length||!this.primaryColumns)return[];const d=Object.keys(s),h=new Set(d),f=new Set(d),g=new Set(o.map(D=>{const P=D.getColId();return f.delete(P),P}).concat(d)),m=[],C={};let S=0;for(let D=0;D<this.primaryColumns.length;D++){const P=this.primaryColumns[D].getColId();g.has(P)&&(m.push(P),C[P]=S++)}let y=1e3,w=!1,E=0;const b=D=>{const P=C[D];for(let O=E;O<P;O++){const N=m[O];f.has(N)&&(s[N][u]=y++,f.delete(N))}E=P};o.forEach(D=>{const P=D.getColId();if(h.has(P))b(P),s[P][u]=y++;else{const O=D.getColDef();(O[u]===null||O[u]===void 0&&O[c]==null)&&(w||(O[a]||O[a]===void 0&&O[l]?b(P):(f.forEach(I=>{s[I][u]=y+C[I]}),y+=m.length,w=!0)),r[P]||(r[P]={colId:P}),r[P][u]=y++)}})};return n(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(i,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}onColumnsReady(){const e=this.gridOptionsService.get("autoSizeStrategy");if(!e)return;const{type:i}=e;setTimeout(()=>{if(i==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:n,defaultMaxWidth:s}=e,o=r==null?void 0:r.map(({colId:a,minWidth:l,maxWidth:u})=>({key:a,minWidth:l,maxWidth:u}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:o})}else i==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gridOptionsService.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:i,skipHeader:r}=e;setTimeout(()=>{i?this.autoSizeColumns({columns:i,skipHeader:r,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",r)})}};A([W("expressionService")],Sn.prototype,"expressionService",2);A([W("columnFactory")],Sn.prototype,"columnFactory",2);A([W("displayedGroupCreator")],Sn.prototype,"displayedGroupCreator",2);A([W("ctrlsService")],Sn.prototype,"ctrlsService",2);A([W("autoWidthCalculator")],Sn.prototype,"autoWidthCalculator",2);A([W("columnUtils")],Sn.prototype,"columnUtils",2);A([W("columnAnimationService")],Sn.prototype,"columnAnimationService",2);A([W("autoGroupColService")],Sn.prototype,"autoGroupColService",2);A([ai("aggFuncService")],Sn.prototype,"aggFuncService",2);A([ai("valueCache")],Sn.prototype,"valueCache",2);A([ai("animationFrameService")],Sn.prototype,"animationFrameService",2);A([W("sortController")],Sn.prototype,"sortController",2);A([W("columnDefFactory")],Sn.prototype,"columnDefFactory",2);A([_e],Sn.prototype,"init",1);A([Ka],Sn.prototype,"destroyColumns",1);A([ml(0,vl("loggerFactory"))],Sn.prototype,"setBeans",1);Sn=A([je("columnModel")],Sn);function im(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}var nK=class extends Ie{calculateColMinWidth(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const i=this.calculateColMinWidth(e),r=this.calculateColMaxWidth(e);let n;const s=Ud(e.width),o=Ud(e.initialWidth);return s!=null?n=s:o!=null?n=o:n=200,Math.max(Math.min(n,r),i)}getOriginalPathForColumn(e,i){const r=[];let n=!1;const s=(o,a)=>{for(let l=0;l<o.length;l++){if(n)return;const u=o[l];u instanceof br?(s(u.getChildren(),a+1),r[a]=u):u===e&&(n=!0)}};return s(i,0),n?r:null}depthFirstOriginalTreeSearch(e,i,r){i&&i.forEach(n=>{n instanceof br&&this.depthFirstOriginalTreeSearch(n,n.getChildren(),r),r(n,e)})}depthFirstAllColumnTreeSearch(e,i){e&&e.forEach(r=>{r instanceof $r&&this.depthFirstAllColumnTreeSearch(r.getChildren(),i),i(r)})}depthFirstDisplayedColumnTreeSearch(e,i){e&&e.forEach(r=>{r instanceof $r&&this.depthFirstDisplayedColumnTreeSearch(r.getDisplayedChildren(),i),i(r)})}};nK=A([je("columnUtils")],nK);var sK=class extends Ie{createDisplayedGroups(e,i,r,n){const s=this.mapOldGroupsById(n),o=[];let a=e;for(;a.length;){const l=a;a=[];let u=0;const c=d=>{const h=u;u=d;const f=l[h],m=(f instanceof $r?f.getProvidedColumnGroup():f).getOriginalParent();if(m==null){for(let S=h;S<d;S++)o.push(l[S]);return}const C=this.createColumnGroup(m,i,s,r);for(let S=h;S<d;S++)C.addChild(l[S]);a.push(C)};for(let d=1;d<l.length;d++){const h=l[d],g=(h instanceof $r?h.getProvidedColumnGroup():h).getOriginalParent(),m=l[u],S=(m instanceof $r?m.getProvidedColumnGroup():m).getOriginalParent();g!==S&&c(d)}u<l.length&&c(l.length)}return this.setupParentsIntoColumns(o,null),o}createColumnGroup(e,i,r,n){const s=e.getGroupId(),o=i.getInstanceIdForKey(s),a=$r.createUniqueId(s,o);let l=r[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),De(l)?l.reset():(l=new $r(e,s,o,n),this.context.createBean(l)),l}mapOldGroupsById(e){const i={},r=n=>{n.forEach(s=>{if(s instanceof $r){const o=s;i[s.getUniqueId()]=o,r(o.getChildren())}})};return e&&r(e),i}setupParentsIntoColumns(e,i){e.forEach(r=>{if(r.setParent(i),r instanceof $r){const n=r;this.setupParentsIntoColumns(n.getChildren(),n)}})}};sK=A([je("displayedGroupCreator")],sK);var sAe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},fn=class{};fn.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"];fn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];fn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];fn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];fn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"];fn.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];fn.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"];fn.FUNCTION_PROPERTIES=[...fn.FUNCTIONAL_PROPERTIES,...fn.CALLBACK_PROPERTIES];fn.ALL_PROPERTIES=[...fn.ARRAY_PROPERTIES,...fn.OBJECT_PROPERTIES,...fn.STRING_PROPERTIES,...fn.NUMBER_PROPERTIES,...fn.FUNCTION_PROPERTIES,...fn.BOOLEAN_PROPERTIES];var Du=fn,Dr=class RD{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(e,i){typeof e!="object"&&(e={});const r=tt({},e);return RD.getGridOptionKeys().forEach(s=>{const o=i[s];typeof o<"u"&&o!==RD.VUE_OMITTED_PROPERTY&&(r[s]=o)}),r}static processOnChange(e,i){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>RD.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;i.__internalUpdateGridOptions(r);const s={type:L.EVENT_COMPONENT_STATE_CHANGED};Oo(r,(o,a)=>{s[o]=a}),i.dispatchEvent(s)}};Dr.EVENTS=vm(L);Dr.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Dr.EXCLUDED_INTERNAL_EVENTS=[L.EVENT_SCROLLBAR_WIDTH_CHANGED,L.EVENT_CHECKBOX_CHANGED,L.EVENT_HEIGHT_SCALE_CHANGED,L.EVENT_BODY_HEIGHT_CHANGED,L.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,L.EVENT_SCROLL_VISIBILITY_CHANGED,L.EVENT_COLUMN_HOVER_CHANGED,L.EVENT_FLASH_CELLS,L.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,L.EVENT_DISPLAYED_ROWS_CHANGED,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,L.EVENT_STORE_UPDATED,L.EVENT_COLUMN_PANEL_ITEM_DRAG_START,L.EVENT_COLUMN_PANEL_ITEM_DRAG_END,L.EVENT_FILL_START,L.EVENT_FILL_END,L.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,L.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,L.EVENT_FULL_WIDTH_ROW_FOCUSED,L.EVENT_HEADER_HEIGHT_CHANGED,L.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,L.EVENT_CELL_FOCUS_CLEARED,L.EVENT_GRID_STYLES_CHANGED,L.EVENT_FILTER_DESTROYED,L.EVENT_ROW_DATA_UPDATE_STARTED,L.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,L.EVENT_DATA_TYPES_INFERRED,L.EVENT_FIELD_VALUE_CHANGED,L.EVENT_FIELD_PICKER_VALUE_SELECTED,L.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,L.EVENT_SUPPRESS_MENU_HIDE_CHANGED,L.EVENT_SUPPRESS_FIELD_DOT_NOTATION,L.EVENT_ROW_COUNT_READY,L.EVENT_SIDE_BAR_UPDATED];Dr.PUBLIC_EVENTS=Dr.EVENTS.filter(t=>!xa(Dr.EXCLUDED_INTERNAL_EVENTS,t));Dr.EVENT_CALLBACKS=Dr.EVENTS.map(t=>Dr.getCallbackForEvent(t));Dr.STRING_PROPERTIES=Du.STRING_PROPERTIES;Dr.OBJECT_PROPERTIES=Du.OBJECT_PROPERTIES;Dr.ARRAY_PROPERTIES=Du.ARRAY_PROPERTIES;Dr.NUMBER_PROPERTIES=Du.NUMBER_PROPERTIES;Dr.BOOLEAN_PROPERTIES=Du.BOOLEAN_PROPERTIES;Dr.FUNCTION_PROPERTIES=Du.FUNCTION_PROPERTIES;Dr.ALL_PROPERTIES=Du.ALL_PROPERTIES;Dr.ALL_PROPERTIES_AND_CALLBACKS=[...Dr.ALL_PROPERTIES,...Dr.EVENT_CALLBACKS];Dr.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Dr.ALL_PROPERTIES_AND_CALLBACKS);var PZ=Dr,oK=class extends Ie{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(i=>this.addComponent(i))}addComponent(e){const r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[r]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};oK=A([je("agStackComponentsRegistry")],oK);var xZ={};En(xZ,{getAriaCheckboxStateName:()=>Y0,getAriaLabel:()=>FZ,getAriaLevel:()=>oAe,getAriaPosInSet:()=>MZ,getAriaSortState:()=>OZ,removeAriaExpanded:()=>NZ,removeAriaSort:()=>BZ,setAriaActiveDescendant:()=>gH,setAriaAtomic:()=>IZ,setAriaChecked:()=>lAe,setAriaColCount:()=>VZ,setAriaColIndex:()=>vH,setAriaColSpan:()=>HZ,setAriaControls:()=>CH,setAriaDescribedBy:()=>aAe,setAriaDisabled:()=>fH,setAriaExpanded:()=>Sc,setAriaHidden:()=>lb,setAriaLabel:()=>Ml,setAriaLabelledBy:()=>VP,setAriaLevel:()=>_Z,setAriaLive:()=>pH,setAriaMultiSelectable:()=>GZ,setAriaPosInSet:()=>K0,setAriaRelevant:()=>LZ,setAriaRole:()=>dr,setAriaRowCount:()=>kZ,setAriaRowIndex:()=>mH,setAriaSelected:()=>Bm,setAriaSetSize:()=>j0,setAriaSort:()=>$Z});function Ya(t,e,i){i==null||typeof i=="string"&&i==""?hH(t,e):qa(t,e,i)}function qa(t,e,i){t.setAttribute(AZ(e),i.toString())}function hH(t,e){t.removeAttribute(AZ(e))}function AZ(t){return`aria-${t}`}function dr(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function OZ(t){let e;return t==="asc"?e="ascending":t==="desc"?e="descending":t==="mixed"?e="other":e="none",e}function oAe(t){return parseInt(t.getAttribute("aria-level"),10)}function MZ(t){return parseInt(t.getAttribute("aria-posinset"),10)}function FZ(t){return t.getAttribute("aria-label")}function Ml(t,e){Ya(t,"label",e)}function VP(t,e){Ya(t,"labelledby",e)}function aAe(t,e){Ya(t,"describedby",e)}function pH(t,e){Ya(t,"live",e)}function IZ(t,e){Ya(t,"atomic",e)}function LZ(t,e){Ya(t,"relevant",e)}function _Z(t,e){Ya(t,"level",e)}function fH(t,e){Ya(t,"disabled",e)}function lb(t,e){Ya(t,"hidden",e)}function gH(t,e){Ya(t,"activedescendant",e)}function Sc(t,e){qa(t,"expanded",e)}function NZ(t){hH(t,"expanded")}function j0(t,e){qa(t,"setsize",e)}function K0(t,e){qa(t,"posinset",e)}function GZ(t,e){qa(t,"multiselectable",e)}function kZ(t,e){qa(t,"rowcount",e)}function mH(t,e){qa(t,"rowindex",e)}function VZ(t,e){qa(t,"colcount",e)}function vH(t,e){qa(t,"colindex",e)}function HZ(t,e){qa(t,"colspan",e)}function $Z(t,e){qa(t,"sort",e)}function BZ(t){hH(t,"sort")}function Bm(t,e){Ya(t,"selected",e)}function lAe(t,e){qa(t,"checked",e===void 0?"mixed":e)}function CH(t,e){Ya(t,"controls",e.id),VP(e,t.id)}function Y0(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var WZ={};En(WZ,{browserSupportsPreventScroll:()=>EH,getBodyHeight:()=>jZ,getBodyWidth:()=>zZ,getMaxDivHeight:()=>UZ,getSafariVersion:()=>yH,getScrollbarWidth:()=>KZ,getTabIndex:()=>HP,isBrowserChrome:()=>q0,isBrowserFirefox:()=>SH,isBrowserSafari:()=>wc,isIOSUserAgent:()=>Hc,isInvisibleScrollbar:()=>bH,isMacOsUserAgent:()=>wH});var uL,PT,cL,dL,hL,pL,zN,jN;function wc(){return uL===void 0&&(uL=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),uL}function yH(){if(PT===void 0)if(wc()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(PT=t[1]!=null?parseFloat(t[1]):0)}else PT=0;return PT}function q0(){if(cL===void 0){const t=window;cL=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return cL}function SH(){return dL===void 0&&(dL=/(firefox)/i.test(navigator.userAgent)),dL}function wH(){return hL===void 0&&(hL=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),hL}function Hc(){return pL===void 0&&(pL=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),pL}function EH(){return!wc()||yH()>=15}function HP(t){if(!t)return null;const e=t.tabIndex,i=t.getAttribute("tabIndex");return e===-1&&(i===null||i===""&&!SH())?null:e.toString()}function UZ(){if(!document.body)return-1;let t=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const r=t*2;if(i.style.height=r+"px",r>e||i.clientHeight!==r)break;t=r}return document.body.removeChild(i),t}function zZ(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientWidth)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientWidth)||-1}function jZ(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientHeight)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientHeight)||-1}function KZ(){return jN==null&&YZ(),jN}function YZ(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let i=e.offsetWidth-e.clientWidth;i===0&&e.clientWidth===0&&(i=null),e.parentNode&&e.parentNode.removeChild(e),i!=null&&(jN=i,zN=i===0)}function bH(){return zN==null&&YZ(),zN}var qZ={};En(qZ,{dateToFormattedString:()=>Sm,parseDateTimeFromString:()=>_o,serialiseDate:()=>Ec});var XZ={};En(XZ,{cleanNumber:()=>uAe,createArrayOfNumbers:()=>QZ,decToHex:()=>cAe,formatNumberCommas:()=>RH,formatNumberTwoDecimalPlacesAndCommas:()=>dAe,padStartWidthZeros:()=>ym,sum:()=>hAe});function ym(t,e){return t.toString().padStart(e,"0")}function QZ(t,e){const i=[];for(let r=t;r<=e;r++)i.push(r);return i}function uAe(t){return typeof t=="string"&&(t=parseInt(t,10)),typeof t=="number"?Math.floor(t):null}function cAe(t,e){let i="";for(let r=0;r<e;r++)i+=String.fromCharCode(t&255),t>>>=8;return i}function dAe(t,e,i){return typeof t!="number"?"":RH(Math.round(t*100)/100,e,i)}function RH(t,e,i){return typeof t!="number"?"":t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function hAe(t){return t==null?null:t.reduce((e,i)=>e+i,0)}function Ec(t,e=!0,i="-"){if(!t)return null;let r=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(n=>ym(n,2)).join(i);return e&&(r+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(n=>ym(n,2)).join(":")),r}var fL=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Sm(t,e="YYYY-MM-DD"){const i=ym(t.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>r[t.getMonth()],MMM:()=>r[t.getMonth()].slice(0,3),MM:()=>ym(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${fL(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${fL(t.getDate())}`,DD:()=>ym(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>n[t.getDay()],ddd:()=>n[t.getDay()].slice(0,3),dd:()=>n[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${fL(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return e.replace(o,a=>a in s?s[a]():a)}function _o(t){if(!t)return null;const[e,i]=t.split(" ");if(!e)return null;const r=e.split("-").map(d=>parseInt(d,10));if(r.filter(d=>!isNaN(d)).length!==3)return null;const[n,s,o]=r,a=new Date(n,s-1,o);if(a.getFullYear()!==n||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,u,c]=i.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}var ZZ={};En(ZZ,{FOCUSABLE_EXCLUDE:()=>TH,FOCUSABLE_SELECTOR:()=>JZ,addOrRemoveAttribute:()=>Ep,addStylesToElement:()=>FH,bindCellRendererToHtmlElement:()=>LH,clearElement:()=>Ir,copyNodeList:()=>nJ,ensureDomOrder:()=>OH,formatSize:()=>X0,getAbsoluteHeight:()=>PH,getAbsoluteWidth:()=>rw,getElementRectWithOffset:()=>xH,getElementSize:()=>dh,getInnerHeight:()=>ub,getInnerWidth:()=>Df,getScrollLeft:()=>sw,insertWithDomOrder:()=>tJ,isElementChildOfClass:()=>Sp,isFocusableFormField:()=>DH,isHorizontalScrollShowing:()=>iJ,isInDOM:()=>AH,isNodeOrElement:()=>cb,isRtlNegativeScroll:()=>nw,isVerticalScrollShowing:()=>rJ,isVisible:()=>Bo,iterateNamedNodeMap:()=>sJ,loadTemplate:()=>Ys,nodeListForEach:()=>IH,radioCssClass:()=>KN,removeFromParent:()=>Cl,setDisabled:()=>Wm,setDisplayed:()=>kt,setDomChildOrder:()=>MH,setElementHeight:()=>pAe,setElementWidth:()=>aw,setFixedHeight:()=>wp,setFixedWidth:()=>Aa,setScrollLeft:()=>ow,setVisible:()=>eJ});var xT;function KN(t,e,i){const r=t.parentElement;let n=r&&r.firstChild;for(;n;)e&&n.classList.toggle(e,n===t),i&&n.classList.toggle(i,n!==t),n=n.nextSibling}var JZ="[tabindex], input, select, button, textarea, [href]",TH="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function DH(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,r=e.call(t,"input, select, button, textarea"),n=e.call(t,TH),s=Bo(t);return r&&!n&&s}function kt(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-hidden",!e),r||lb(t,!e)}function eJ(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-invisible",!e),r||lb(t,!e)}function Wm(t,e){const i="disabled",r=e?n=>n.setAttribute(i,""):n=>n.removeAttribute(i);r(t),IH(t.querySelectorAll("input"),n=>r(n))}function Sp(t,e,i){let r=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,typeof i=="number"){if(++r>i)break}else if(t===i)break}return!1}function dh(t){const{height:e,width:i,borderTopWidth:r,borderRightWidth:n,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:f,marginLeft:g,boxSizing:m}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m}}function ub(t){const e=dh(t);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function Df(t){const e=dh(t);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function PH(t){const e=dh(t),i=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+i)}function rw(t){const e=dh(t),i=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+i)}function xH(t){const e=t.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:r,borderRightWidth:n,borderBottomWidth:s}=dh(t);return{top:e.top+(i||0),left:e.left+(r||0),right:e.right+(n||0),bottom:e.bottom+(s||0)}}function nw(){if(typeof xT=="boolean")return xT;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(t),t.scrollLeft=1,xT=Math.floor(t.scrollLeft)===0,document.body.removeChild(t),xT}function sw(t,e){let i=t.scrollLeft;return e&&(i=Math.abs(i),q0()&&!nw()&&(i=t.scrollWidth-t.clientWidth-i)),i}function ow(t,e,i){i&&(nw()?e*=-1:(wc()||q0())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function Ir(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function Cl(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function AH(t){return!!t.offsetParent}function Bo(t){const e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!AH(t)||window.getComputedStyle(t).visibility!=="visible")}function Ys(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function OH(t,e,i){i&&i.nextSibling===e||(i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function MH(t,e){for(let i=0;i<e.length;i++){const r=e[i],n=t.children[i];n!==r&&t.insertBefore(r,n)}}function tJ(t,e,i){i?i.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function FH(t,e){if(e)for(const[i,r]of Object.entries(e)){if(!i||!i.length||r==null)continue;const n=TZ(i),s=r.toString(),o=s.replace(/\s*!important/g,""),a=o.length!=s.length?"important":void 0;t.style.setProperty(n,o,a)}}function iJ(t){return t.clientWidth<t.scrollWidth}function rJ(t){return t.clientHeight<t.scrollHeight}function aw(t,e){e==="flex"?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):Aa(t,e)}function Aa(t,e){e=X0(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function pAe(t,e){e==="flex"?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):wp(t,e)}function wp(t,e){e=X0(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function X0(t){return typeof t=="number"?`${t}px`:t}function cb(t){return t instanceof Node||t instanceof HTMLElement}function nJ(t){if(t==null)return[];const e=[];return IH(t,i=>e.push(i)),e}function sJ(t,e){if(t)for(let i=0;i<t.length;i++){const r=t[i];e(r.name,r.value)}}function Ep(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i.toString())}function IH(t,e){if(t!=null)for(let i=0;i<t.length;i++)e(t[i])}function LH(t,e){t.then(i=>{const r=i.getGui();r!=null&&(typeof r=="object"?e.appendChild(r):e.innerHTML=r)})}var oJ={};En(oJ,{fuzzyCheckStrings:()=>aJ,fuzzySuggestions:()=>db});function aJ(t,e,i){const r={},n=t.filter(s=>!e.some(o=>o===s));return n.length>0&&n.forEach(s=>r[s]=db(s,i).values),r}function db(t,e,i,r){let n=e.map((a,l)=>({value:a,relevance:fAe(t.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(n.sort((a,l)=>l.relevance-a.relevance),i&&(n=n.filter(a=>a.relevance!==0)),n.length>0&&r&&r>0){const l=n[0].relevance*r;n=n.filter(u=>l-u.relevance<0)}const s=[],o=[];for(const a of n)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function fAe(t,e){const i=t.replace(/\s/g,""),r=e.replace(/\s/g,"");let n=0,s=-1;for(let o=0;o<i.length;o++){const a=r.indexOf(i[o],s+1);a!==-1&&(s=a,n+=100-s*100/1e4*100)}return n}var lJ={};En(lJ,{createIcon:()=>pa,createIconNoSpan:()=>tr,iconNameClassMap:()=>uJ});var uJ={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function pa(t,e,i){const r=tr(t,e,i);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const n=document.createElement("span");return n.appendChild(r),n}function tr(t,e,i,r){let n=null;const s=i&&i.getColDef().icons;if(s&&(n=s[t]),e&&!n){const o=e.get("icons");o&&(n=o[t])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Ys(o);if(cb(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=uJ[t];return a||(r?a=t:(console.warn(`AG Grid: Did not find icon ${t}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),dr(o,"presentation"),o}}var cJ={};En(cJ,{isDeleteKey:()=>pJ,isEventFromPrintableCharacter:()=>Q0,isUserSuppressingHeaderKeyboardEvent:()=>dJ,isUserSuppressingKeyboardEvent:()=>$P,normaliseQwertyAzerty:()=>hJ});var ce=class{};ce.BACKSPACE="Backspace";ce.TAB="Tab";ce.ENTER="Enter";ce.ESCAPE="Escape";ce.SPACE=" ";ce.LEFT="ArrowLeft";ce.UP="ArrowUp";ce.RIGHT="ArrowRight";ce.DOWN="ArrowDown";ce.DELETE="Delete";ce.F2="F2";ce.PAGE_UP="PageUp";ce.PAGE_DOWN="PageDown";ce.PAGE_HOME="Home";ce.PAGE_END="End";ce.A="KeyA";ce.C="KeyC";ce.D="KeyD";ce.V="KeyV";ce.X="KeyX";ce.Y="KeyY";ce.Z="KeyZ";var gAe=65,mAe=67,vAe=86,CAe=68,yAe=90,SAe=89;function Q0(t){return t.altKey||t.ctrlKey||t.metaKey?!1:t.key.length===1}function $P(t,e,i,r,n){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=t.addGridCommonParams({event:e,editing:n,column:r,node:i,data:i.data,colDef:r.getColDef()});return!!(s&&s(o))}function dJ(t,e,i,r){const n=r.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!De(s))return!1;const o=t.addGridCommonParams({colDef:n,column:r,headerRowIndex:i,event:e});return!!s(o)}function hJ(t){const{keyCode:e}=t;let i;switch(e){case gAe:i=ce.A;break;case mAe:i=ce.C;break;case vAe:i=ce.V;break;case CAe:i=ce.D;break;case yAe:i=ce.Z;break;case SAe:i=ce.Y;break;default:i=t.code}return i}function pJ(t,e=!1){return t===ce.DELETE?!0:!e&&t===ce.BACKSPACE?wH():!1}var fJ={};En(fJ,{areEventsNear:()=>_H});function _H(t,e,i){if(i===0)return!1;const r=Math.abs(t.clientX-e.clientX),n=Math.abs(t.clientY-e.clientY);return Math.max(r,n)<=i}var gJ={};En(gJ,{sortRowNodesByOrder:()=>wAe});function wAe(t,e){if(!t)return!1;const i=(o,a)=>{const l=e[o.id],u=e[a.id],c=l!==void 0,d=u!==void 0,h=c&&d,f=!c&&!d;return h?l-u:f?o.__objectId-a.__objectId:c?1:-1};let r,n,s=!1;for(let o=0;o<t.length-1;o++)if(r=t[o],n=t[o+1],i(r,n)>0){s=!0;break}return s?(t.sort(i),!0):!1}var mJ={};En(mJ,{convertToSet:()=>NH});function NH(t){const e=new Set;return t.forEach(i=>e.add(i)),e}var EAe=tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt(tt({},xZ),dZ),WZ),qZ),ZZ),cZ),rZ),oJ),eZ),lJ),cJ),DZ),fJ),XZ),tZ),gJ),mJ),bZ),Kp=EAe,GH=class{constructor(e=0,i=1){this.nextValue=e,this.step=i}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},wa=class TD{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(i=>this.onDone(i),i=>this.onReject(i))}static all(e){return new TD(i=>{let r=e.length;const n=new Array(r);e.forEach((s,o)=>{s.then(a=>{n[o]=a,r--,r===0&&i(n)})})})}static resolve(e=null){return new TD(i=>i(e))}then(e){return new TD(i=>{this.status===1?i(e(this.resolution)):this.waiters.push(r=>i(e(r)))})}resolveNow(e,i){return this.status===1?i(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(i=>i(e))}onReject(e){console.warn("TBI")}},bAe=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const i=(e||"").split(" ");if(i.length>1){i.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const i=(e||"").split(" ");if(i.length>1){i.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const i=this.getGui();return i?i.classList.contains(e):!1}addOrRemoveCssClass(e,i){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.addOrRemoveCssClass(s,i));return}}if(this.cssClassStates[e]!==i&&e.length){const n=this.getGui();n&&n.classList.toggle(e,i),this.cssClassStates[e]=i}}},hb=class jh extends Ie{constructor(e,i,r,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=n,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===0&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===1&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const i=this.gridOptionsService.get(e);return i<0&&ut(`${e} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(e){var i,r;return e==="show"?(i=this.tooltipShowDelayOverride)!=null?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(r=this.tooltipHideDelayOverride)!=null?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Hc()&&(jh.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const r=e.relatedTarget,n=this.parentComp.getGui(),s=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||jh.isLocked)return;let i=0;e&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const e=new Date().getTime(),i=jh.lastTooltipHideTime;return e-i<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=tt({},this.parentComp.getTooltipParams());if(!De(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),jh.lastTooltipHideTime=new Date().getTime());const i={type:L.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(e,i){if(this.state!==2||this.tooltipInstanceCount!==e){this.getContext().destroyBean(i);return}const n=i.getGui();this.tooltipComp=i,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,L.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===0?(this.tooltipMouseEnterListener=this.addManagedListener(n,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(n,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(n,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(n,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:L.EVENT_TOOLTIP_SHOW,tooltipGui:n,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var i;const r=this.parentComp.getGui(),n=(i=this.tooltipComp)==null?void 0:i.getGui(),s=e.relatedTarget;n!=null&&n.contains(s)||(this.isInteractingWithTooltip=!1,r.contains(s)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Wi(tt({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Wi(tt({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,i=this.tooltipComp,r=this.tooltipTrigger===0?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{e(),this.getContext().destroyBean(i)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){jh.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){jh.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};hb.isLocked=!1;A([W("popupService")],hb.prototype,"popupService",2);A([W("userComponentFactory")],hb.prototype,"userComponentFactory",2);A([_e],hb.prototype,"postConstruct",1);var RAe=hb,$c=class extends Ie{constructor(e,i){super(),this.ctrl=e,i&&(this.beans=i)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const i="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(i,e):r.removeAttribute(i))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,i,r,n;if(this.tooltipManager!=null)return;const s={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new RAe(s,(i=(e=this.ctrl).getTooltipShowDelayOverride)==null?void 0:i.call(e),(n=(r=this.ctrl).getTooltipHideDelayOverride)==null?void 0:n.call(r),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,i=e.getColumn?e.getColumn():void 0,r=e.getColDef?e.getColDef():void 0,n=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:r,column:i,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:n,data:n?n.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var s;return(s=this.tooltipManager)==null?void 0:s.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};A([W("beans")],$c.prototype,"beans",2);A([_e],$c.prototype,"postConstruct",1);var TAe=new GH,pb=class YN extends Ie{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=TAe.next(),this.cssClassManager=new bAe(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:i,showDelayOverride:r,hideDelayOverride:n,location:s,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new $c({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getTooltipShowDelayOverride:r!=null?()=>r:void 0,getTooltipHideDelayOverride:n!=null?()=>n:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(e,i){nJ(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const s=this.createComponentFromElement(n,o=>{o.getGui()&&this.copyAttributesFromNode(n,o.getGui())},i);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,i);const o=Array.prototype.slice.call(n.children);s.addItems(o)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,i)})}createComponentFromElement(e,i,r){const n=e.nodeName,s=r?r[e.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(n);if(o){YN.elementGettingCreated=e;const a=new o(s);return a.setParentComponent(this),this.createBean(a,null,i),a}return null}copyAttributesFromNode(e,i){sJ(e.attributes,(r,n)=>i.setAttribute(r,n))}swapComponentForNode(e,i,r){const n=e.getGui();i.replaceChild(n,r),i.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)}swapInComponentForQuerySelectors(e,i){const r=this;this.iterateOverQuerySelectors(n=>{r[n.attributeName]===i&&(r[n.attributeName]=e)})}iterateOverQuerySelectors(e){let i=Object.getPrototypeOf(this);for(;i!=null;){const r=i.__agComponentMetaData,n=oH(i.constructor);r&&r[n]&&r[n].querySelectors&&r[n].querySelectors.forEach(s=>e(s)),i=Object.getPrototypeOf(i)}}activateTabIndex(e){const i=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(r=>r.setAttribute("tabindex",i.toString()))}setTemplate(e,i){const r=Ys(e);this.setTemplateFromElement(r,i)}setTemplateFromElement(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(i=>{const r=s=>e[i.attributeName]=s;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)r(this.eGui);else{const s=this.eGui.querySelector(i.querySelector);s&&r(s.__agComponent||s)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,i){if(e!=null)if(i||(i=this.eGui),cb(e))i.appendChild(e);else{const r=e;i.appendChild(r.getGui())}}isDisplayed(){return this.displayed}setVisible(e,i={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:r}=i;eJ(this.eGui,e,{skipAriaHidden:r})}}setDisplayed(e,i={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:r}=i;kt(this.eGui,e,{skipAriaHidden:r});const n={type:YN.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,i,r){this.eGui.addEventListener(e,i,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,i))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)}getAttribute(e){const{eGui:i}=this;return i?i.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};pb.EVENT_DISPLAYED_CHANGED="displayedChanged";A([W("agStackComponentsRegistry")],pb.prototype,"agStackComponentsRegistry",2);A([oZ],pb.prototype,"preConstructOnComponent",1);A([oZ],pb.prototype,"createChildComponentsPreConstruct",1);var wt=pb;function Ge(t){return DAe.bind(this,`[ref=${t}]`,t)}function DAe(t,e,i,r,n){if(t===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof n=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}PAe(i,"querySelectors",{attributeName:r,querySelector:t,refSelector:e})}function PAe(t,e,i){const r=xAe(t,oH(t.constructor));r[e]||(r[e]=[]),r[e].push(i)}function xAe(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}var kH=class extends wt{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${i} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(i=>{if(i.getModelAsString){const r=i.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};A([Ge("eFloatingFilterText")],kH.prototype,"eFloatingFilterText",2);A([W("columnModel")],kH.prototype,"columnModel",2);var vJ=class{constructor(e,i,r,n){this.alive=!0,this.context=e,this.eParent=n,i.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){kt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var i,r;let n=!1;(i=this.dateComp)!=null&&i.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(n=!0),!n&&((r=this.dateComp)!=null&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ut("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},CJ=class{constructor(){this.customFilterOptions={}}init(e,i){this.filterOptions=e.filterOptions||i,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const i=[["displayKey"],["displayName"],["predicate","test"]],r=n=>n.some(s=>e[s]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!i.every(r)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const i=this.filterOptions[0];typeof i=="string"?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},yJ={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Z0=class SJ extends Ie{constructor(e,i={}){super(),this.eFocusableElement=e,this.callbacks=i,this.callbacks=tt({shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const n=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);n&&(n.focus(),r.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(SJ.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",i=>{if(!(i.defaultPrevented||Tl(i))){if(this.callbacks.shouldStopEventPropagation(i)){Ol(i);return}i.key===ce.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}};Z0.FOCUS_MANAGED_CLASS="ag-focus-managed";A([W("focusService")],Z0.prototype,"focusService",2);A([_e],Z0.prototype,"postConstruct",1);var hh=Z0,wJ="ag-resizer-wrapper",AAe=`<div class="${wJ}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,Wv=class extends Ie{constructor(e,i){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},i)}center(){const{clientHeight:e,clientWidth:i}=this.offsetParent,r=i/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(r,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:i,minWidth:r,width:n,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,c=0;const d=Bo(this.element);if(d){const h=this.findBoundaryElement(),f=window.getComputedStyle(h);if(f.minWidth!=null){const g=h.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-g}if(f.minHeight!=null){const g=h.offsetHeight-this.element.offsetHeight;u=parseInt(f.minHeight,10)-g}}if(this.minHeight=s||u,this.minWidth=r||c,n&&this.setWidth(n),o&&this.setHeight(o),(!n||!o)&&this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(d&&i){let h=this.boundaryEl,f=!0;if(h||(h=this.findBoundaryElement(),f=!1),h){const g=parseFloat(h.style.top),m=parseFloat(h.style.left);f?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,i){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(i=>{const n=!!e[i],s=this.getResizerElement(i),o={dragStartPixels:0,eElement:s,onDragStart:a=>this.onResizeStart(a,i),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,i)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(o),this.resizeListeners.push(o),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[i]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:i}=this.lastSize;i!==-1&&(this.element.style.width=`${i}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:i}=this.config,r=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)wp(r,e),e=PH(r),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(r.style.maxHeight="unset",r.style.minHeight="unset"):i?wp(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:i}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:n.top,a=e?0:s.top;let l=0;if(i){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();l=d-n.bottom}}return r+a-o-l}getWidth(){return this.element.offsetWidth}setWidth(e){const i=this.element,{popup:r}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Aa(i,e),e=rw(i),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,o=r?this.position.x:this.element.getBoundingClientRect().left;s&&e+o>s&&(e=s-o)}this.getWidth()!==e&&(n?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?Aa(i,e):(i.style.width=`${e}px`,i.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,i=0){const{forcePopupParentAsOffsetParent:r}=this.config,n=r?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:i})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const i=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,i){this.position.x=e,this.position.y=i}updateDragStartPosition(e,i){this.dragStartPosition={x:e,y:i}}calculateMouseMovement(e){const{e:i,isLeft:r,isTop:n,anywhereWithin:s,topBuffer:o}=e,a=i.clientX-this.dragStartPosition.x,l=i.clientY-this.dragStartPosition.y,u=this.shouldSkipX(i,!!r,!!s,a)?0:a,c=this.shouldSkipY(i,!!n,o,l)?0:l;return{movementX:u,movementY:c}}shouldSkipX(e,i,r,n){const s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:s.left;let u=l<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=a.right;return u?!0:(i?u=n<0&&e.clientX>l+o.left||n>0&&e.clientX<l+o.left:r?u=n<0&&e.clientX>a.right||n>0&&e.clientX<l+o.left:u=n<0&&e.clientX>a.right||n>0&&e.clientX<a.right,u)}shouldSkipY(e,i,r=0,n){const s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:s.top;let u=l<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=a.bottom;return u?!0:(i?u=n<0&&e.clientY>l+o.top+r||n>0&&e.clientY<l+o.top:u=n<0&&e.clientY>a.bottom||n>0&&e.clientY<a.bottom,u)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(AAe,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${wJ}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:n}=this.config;!r&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let i=0,r=0;for(let n=0;n<e.length;n++){const s=e[n],o=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let a=this.minHeight||0,l=this.minWidth||0;if(o){const u=window.getComputedStyle(s);u.minHeight&&(a=parseInt(u.minHeight,10)),u.minWidth&&(l=parseInt(u.minWidth,10))}else a=s.offsetHeight,l=s.offsetWidth;i+=a,r+=l}return{height:i,width:r}}applySizeToSiblings(e){let i=null;const r=this.getSiblings();if(r){for(let n=0;n<r.length;n++){const s=r[n];s!==i&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(i=r[n+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:i,forcePopupParentAsOffsetParent:r}=this.config,{isTop:n,isRight:s,isBottom:o,isLeft:a}=this.currentResizer,l=s||a,u=o||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:a,isTop:n}),h=this.position.x,f=this.position.y;let g=0,m=0;if(l&&c){const C=a?-1:1,S=this.getWidth(),y=S+c*C;let w=!1;a&&(g=S-y,(h+g<=0||y<=this.minWidth)&&(w=!0,g=0)),w||this.setWidth(y)}if(u&&d){const C=n?-1:1,S=this.getHeight(),y=S+d*C;let w=!1;n?(m=S-y,(f+m<=0||y<=this.minHeight)&&(w=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((i||r)&&g||m)&&this.offsetElement(h+g,f+m)}onResizeEnd(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const r={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent(r)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:i,y:r}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(i+s,r+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};A([W("popupService")],Wv.prototype,"popupService",2);A([W("resizeObserverService")],Wv.prototype,"resizeObserverService",2);A([W("dragService")],Wv.prototype,"dragService",2);var J0=class By extends wt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new hh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Wv(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,e),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=By.isUseApplyButton(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=By.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,i=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Ir(this.eButtonsPanel),this.buttonListeners.forEach(s=>s==null?void 0:s()),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&Cl(this.eButtonsPanel);return}const r=document.createDocumentFragment(),n=s=>{let o,a;switch(s){case"apply":o=this.translate("applyFilter"),a=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),a=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),a=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),a=c=>{this.onBtCancel(c)};break;default:console.warn("AG Grid: Unknown button type specified");return}const u=Ys(`<button
                    type="${s==="apply"?"submit":"button"}"
                    ref="${s}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);this.buttonListeners.push(this.addManagedListener(u,"click",a)),r.append(u)};NH(e).forEach(s=>n(s)),this.eButtonsPanel.append(r),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=By.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=vs(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,i){const r=()=>{this.onUiChanged(!1,"prevent"),i==null||i()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const i=this.getModelFromUi();if(!this.isModelValid(i))return!1;const r=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(r,i)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,i=!1,r){r&&r.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!i&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e,r=i&&i.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:i}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.getRefElement("applyFilterButton");n&&Wm(n,!r)}e&&!i||i==="immediately"?this.onBtApply(e):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const i=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gridOptionsService:n}=this;i?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,i){return By.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:i}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,yJ[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};A([W("rowModel")],J0.prototype,"rowModel",2);A([Ge("eFilterBody")],J0.prototype,"eFilterBody",2);A([_e],J0.prototype,"postConstruct",1);var BP=J0,VH=class extends wt{constructor(e,i){super(i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:i,labelWidth:r,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),i!=null&&this.setLabel(i),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Ir(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(kt(this.eLabel,!1),dr(this.eLabel,"presentation")):(kt(this.eLabel,!0),dr(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(aw(this.eLabel,e),this)}setDisabled(e){e=!!e;const i=this.getGui();return Wm(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};A([_e],VH.prototype,"postConstruct",1);var EJ=class extends VH{constructor(e,i,r){super(e,i),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:i,onValueChange:r}=this.config;e!=null&&this.setWidth(e),i!=null&&this.setValue(i),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const e=this.getAriaElement(),i=this.getLabelId();FZ(e)!==null?VP(e,""):VP(e,i??"")}setAriaLabel(e){return Ml(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,L.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Aa(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,i){return this.value===e?this:(this.previousValue=this.value,this.value=e,i||this.dispatchEvent({type:L.EVENT_FIELD_VALUE_CHANGED}),this)}},OAe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Pf=class extends EJ{constructor(e){if(super(e,(e==null?void 0:e.template)||OAe,e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:i,maxPickerHeight:r,variableWidth:n,minPickerWidth:s,maxPickerWidth:o}=e;i!=null&&(this.pickerGap=i),this.variableWidth=!!n,r!=null&&this.setPickerMaxHeight(r),s!=null&&this.setPickerMinWidth(s),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const i=this.getAriaElement();this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:r,inputWidth:n}=this.config;if(r){const s=tr(r,this.gridOptionsService);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Sc(e,!1),this.ariaRole&&dr(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const i=this.getFocusableElement();if(i!==this.eWrapper&&(e==null?void 0:e.target)===i)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ce.UP:case ce.DOWN:case ce.ENTER:case ce.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ce.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const r=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:s,modalPicker:o=!0}=this.config,a={modal:o,eChild:i,closeOnEsc:!0,closedCallback:()=>{const g=e.activeElement===e.body;this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:r(n,s)},l=this.popupService.addPopup(a),{maxPickerHeight:u,minPickerWidth:c,maxPickerWidth:d,variableWidth:h}=this;h?(c&&(i.style.minWidth=c),i.style.width=X0(rw(this.eWrapper)),d&&(i.style.maxWidth=d)):aw(i,d??rw(this.eWrapper));const f=u??`${ub(this.popupService.getPopupParent())}px`;return i.style.setProperty("max-height",f),i.style.position="absolute",this.alignPickerToComponent(),l.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:i}=this,r=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:i})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const i=this.getAriaElement();Sc(i,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var i;(i=this.pickerComponent)!=null&&i.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return aw(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};A([W("popupService")],Pf.prototype,"popupService",2);A([Ge("eLabel")],Pf.prototype,"eLabel",2);A([Ge("eWrapper")],Pf.prototype,"eWrapper",2);A([Ge("eDisplayField")],Pf.prototype,"eDisplayField",2);A([Ge("eIcon")],Pf.prototype,"eIcon",2);var eO=class DD extends wt{constructor(e="default",i=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=i,this.options=[],this.itemEls=[]}init(){const e=this.getGui();this.addManagedListener(e,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const i=e.key;switch(i){case ce.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case ce.DOWN:case ce.UP:const r=i===ce.DOWN;let n;if(e.preventDefault(),!this.highlightedEl)n=this.itemEls[r?0:this.itemEls.length-1];else{let o=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),n=this.itemEls[o]}this.highlightItem(n);break}}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){const{value:i,text:r}=e,n=r||i;return this.options.push({value:i,text:n}),this.renderOption(i,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Cl(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((i,r)=>{K0(i,r+1),j0(i,e.length)})}renderOption(e,i){const r=this.gridOptionsService.getDocument(),n=r.createElement("div");dr(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=r.createElement("span");n.appendChild(s),s.innerText=i,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListener(n,"mousemove",()=>this.highlightItem(n)),this.addManagedListener(n,"mousedown",o=>{o.preventDefault(),this.setValue(e)}),this.createManagedBean(new $c({getTooltipValue:()=>i,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,i){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(i),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),i||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(i=>i.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Bo(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(DD.ACTIVE_CLASS),Bm(this.highlightedEl,!0);const i=this.getGui(),r=i.getBoundingClientRect(),n=r.top+i.scrollTop,s=r.height,{offsetTop:o,offsetHeight:a}=e;(o+a>n+s||o<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Bo(this.highlightedEl)||(this.highlightedEl.classList.remove(DD.ACTIVE_CLASS),Bm(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:L.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:DD.EVENT_ITEM_SELECTED})}};eO.EVENT_ITEM_SELECTED="selectedItem";eO.ACTIVE_CLASS="ag-active-item";A([_e],eO.prototype,"init",1);var aK=eO,bJ=class RJ extends Pf{constructor(e){super(tt({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:e,value:i,placeholder:r}=this.config;e!=null&&this.addOptions(e),i!=null&&this.setValue(i,!0),r&&i==null&&(this.eDisplayField.textContent=r),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new aK("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",i),CH(this.getAriaElement(),e),this.listComponent.addManagedListener(this.listComponent,aK.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:RJ.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,L.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:r}=e;r===ce.TAB?this.hidePicker():!this.isPickerDisplayed||r!==ce.ENTER&&r!==ce.UP&&r!==ce.DOWN?super.onKeyDown(e):(i=this.listComponent)==null||i.handleKeyDown(e)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,i,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.innerHTML=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,i)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};bJ.EVENT_ITEM_SELECTED="selectedItem";var HH=bJ,sc=class extends EJ{constructor(e,i,r="text",n="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,i),this.inputType=r,this.displayFieldTag=n}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:i}=this.config;e!=null&&this.setInputName(e),i!=null&&this.setInputWidth(i),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return aw(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const i=this.eInput;return i.maxLength=e,this}setInputPlaceholder(e){return Ep(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ml(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Wm(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Ep(this.eInput,"autocomplete",null);else{const i=typeof e=="string"?e:"off";Ep(this.eInput,"autocomplete",i)}return this}};A([Ge("eLabel")],sc.prototype,"eLabel",2);A([Ge("eWrapper")],sc.prototype,"eWrapper",2);A([Ge("eInput")],sc.prototype,"eInput",2);var $H=class extends sc{constructor(e,i="ag-checkbox",r="checkbox"){super(e,i,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:i}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof i=="boolean"&&this.setPassive(i)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}getValue(){return this.isSelected()}setValue(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this}setName(e){const i=this.getInputElement();return i.name=e,this}isSelected(){return this.selected}setSelected(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,i||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,i,r){this.dispatchEvent({type:L.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:i,event:r});const n=this.getInputElement(),s={type:L.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:i};this.eventService.dispatchEvent(s)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const i=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,i,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},MAe=class extends $H{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,L.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},BH=class{constructor(e,i,r){this.localeService=e,this.optionsFactory=i,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const i=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(i){const n=e;let{conditions:s}=n;if(!s){const{condition1:l,condition2:u}=n;s=[l,u]}const o=s.map(l=>this.getModelAsString(l)),a=n.operator==="AND"?"andCondition":"orCondition";return o.join(` ${r(a,yJ[a])} `)}else{if(e.type===ar.BLANK||e.type===ar.NOT_BLANK)return r(e.type,e.type);{const n=e,s=this.optionsFactory.getCustomOption(n.type),{displayKey:o,displayName:a,numberOfInputs:l}=s||{};return o&&a&&l===0?(r(o,a),a):this.conditionToString(n,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var i;return this.valueFormatter?(i=this.valueFormatter(e??null))!=null?i:"":String(e)}},Ps=class Ig extends BP{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const i=this.optionsFactory.getCustomOption(e);if(i){const{numberOfInputs:n}=i;return n??1}const r=[Ig.EMPTY,Ig.NOT_BLANK,Ig.BLANK];return e&&r.indexOf(e)>=0?0:e===Ig.IN_RANGE?2:1}onFloatingFilterChanged(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((i,r)=>{r===0?i.setValue(e,!0):i.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;const r=!e.operator,n=!i.operator;if(!r&&n||r&&!n)return!1;let o;if(r){const a=e,l=i;o=this.areSimpleModelsEqual(a,l)}else{const a=e,l=i;o=a.operator===l.operator&&du(a.conditions,l.conditions,(u,c)=>this.areSimpleModelsEqual(u,c))}return o}shouldRefresh(e){var i,r,n;const s=this.getModel(),o=s?(i=s.conditions)!=null?i:[s]:null,a=(n=(r=e.filterOptions)==null?void 0:r.map(u=>typeof u=="string"?u:u.displayKey))!=null?n:this.getDefaultFilterOptions();return!(!(!o||o.every(u=>a.find(c=>c===u.type)!==void 0))||typeof e.maxNumConditions=="number"&&o&&o.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let r=e;r.conditions||(r.conditions=[r.condition1,r.condition2]);const n=this.validateAndUpdateConditions(r.conditions),s=this.getNumConditions();if(n<s)this.removeConditionsAndOperators(n);else if(n>s)for(let a=s;a<n;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),r.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),wa.resolve()}validateAndUpdateConditions(e){let i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),ut('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(e){var i;const r=this.getModel();if(r==null)return!0;const{operator:n}=r,s=[];if(n){const a=r;s.push(...(i=a.conditions)!=null?i:[])}else s.push(r);return s[n&&n==="OR"?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new CJ,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var i,r;e.suppressAndOrCondition!=null&&ut('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&ut('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(i=e.maxNumConditions)!=null?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(ut('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=e.numAlwaysVisibleConditions)!=null?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(ut('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ut('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new HH);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(i,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(i.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,i,r){const n=this.createManagedBean(new MAe);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),i.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(i=>typeof i=="string"?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(i=>{e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:i}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let i=-1,r=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?i=n:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{const n=(e=this.lastUiCompletePosition)!=null?e:this.getNumConditions()-2;if(i<n){this.removeConditionsAndOperators(n+1);const s=i+1,o=n-s;o>0&&this.removeConditionsAndOperators(s,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(e,i){this.eTypes.forEach((n,s)=>{const o=this.isConditionDisabled(s,e);n.setDisabled(o||this.filterListOptions.length<=1),s===1&&(Wm(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((n,s)=>{kt(n,this.isConditionBodyVisible(s))});const r=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((n,s)=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach((n,s)=>{n.setValue(r,!0)}),this.forEachInput((n,s,o,a)=>{this.setElementDisplayed(n,s<a),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,i){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,i),this.removeComponents(this.eJoinOperatorsAnd,r,i),this.removeComponents(this.eJoinOperatorsOr,r,i)}removeElements(e,i,r){this.removeItems(e,i,r).forEach(s=>Cl(s))}removeComponents(e,i,r){this.removeItems(e,i,r).forEach(s=>{Cl(s.getGui()),this.destroyBean(s)})}removeItems(e,i,r){return r==null?e.splice(i):e.splice(i,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const i=this.getInputs(0)[0];if(!i)return;i instanceof sc&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let i=-1,r=-1,n=!1;const s=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))i===-1&&(i=a,r=a);else{const l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<i;(l||u)&&(this.removeConditionsAndOperators(a,1),n=!0,u&&r--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,i){let r=this.translate(e);if(B0(this.filterPlaceholder)){const n=this.filterPlaceholder,s=this.eTypes[i].getValue(),o=this.translate(s);r=n({filterOptionKey:s,filterOption:o,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((i,r,n,s)=>{if(!(i instanceof sc))return;const o=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",a=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(o,n)),i.setInputAriaLabel(a)})}setElementValue(e,i,r){e instanceof sc&&e.setValue(i!=null?String(i):null,!0)}setElementDisplayed(e,i){e instanceof wt&&kt(e.getGui(),i)}setElementDisabled(e,i){e instanceof wt&&Wm(e.getGui(),i)}attachElementOnChange(e,i){e instanceof sc&&e.onValueChange(i)}forEachInput(e){this.getConditionTypes().forEach((i,r)=>{this.forEachPositionTypeInput(r,i,e)})}forEachPositionInput(e,i){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,i)}forEachPositionTypeInput(e,i,r){const n=this.getNumberOfInputs(i),s=this.getInputs(e);for(let o=0;o<s.length;o++){const a=s[o];a!=null&&r(a,o,e,n)}}isConditionDisabled(e,i){return this.isReadOnly()?!0:e===0?!1:e>i+1}isConditionBodyVisible(e){const i=this.getConditionType(e);return this.getNumberOfInputs(i)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===Ig.EMPTY||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,r)=>this.resetJoinOperatorAnd(i,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((i,r)=>this.resetJoinOperatorOr(i,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),wa.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,i,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i)),this.eJoinOperatorsOr.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i))}updateJoinOperatorDisabled(e,i){e.setDisabled(this.isReadOnly()||i>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,i){const r=this.mapValuesFromModel(e);this.forEachInput((n,s,o,a)=>{o===i&&this.setElementValue(n,r[s]!=null?r[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((i,r,n,s)=>{this.setElementValue(i,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,i){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,i){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type),o=this.evaluateCustomFilter(s,n,r);return o??(r==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(n,r,i,e))}evaluateCustomFilter(e,i,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!i.some(s=>s==null))return n(i,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}};Ps.EMPTY="empty";Ps.BLANK="blank";Ps.NOT_BLANK="notBlank";Ps.EQUALS="equals";Ps.NOT_EQUAL="notEqual";Ps.LESS_THAN="lessThan";Ps.LESS_THAN_OR_EQUAL="lessThanOrEqual";Ps.GREATER_THAN="greaterThan";Ps.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";Ps.IN_RANGE="inRange";Ps.CONTAINS="contains";Ps.NOT_CONTAINS="notContains";Ps.STARTS_WITH="startsWith";Ps.ENDS_WITH="endsWith";var ar=Ps,Vr=class Jr extends ar{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case Jr.EQUALS:case Jr.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Jr.GREATER_THAN:case Jr.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Jr.LESS_THAN:case Jr.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Jr.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Jr.BLANK:return!0;case Jr.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,i,r){const n=this.comparator(),s=e[0]!=null?n(e[0],i):0;switch(r.type){case Jr.EQUALS:return s===0;case Jr.NOT_EQUAL:return s!==0;case Jr.GREATER_THAN:return s>0;case Jr.GREATER_THAN_OR_EQUAL:return s>=0;case Jr.LESS_THAN:return s<0;case Jr.LESS_THAN_OR_EQUAL:return s<=0;case Jr.IN_RANGE:{const o=n(e[1],i);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case Jr.BLANK:return this.isBlank(i);case Jr.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},lK=1e3,uK=1/0,TJ=class extends BH{constructor(e,i,r){super(i,r),this.dateFilterParams=e}conditionToString(e,i){const{type:r}=e,{numberOfInputs:n}=i||{},s=r==ar.IN_RANGE||n===2,o=_o(e.dateFrom),a=_o(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const u=o!==null?Sm(o,l):"null",c=a!==null?Sm(a,l):"null";return`${u}-${c}`}return o!=null?Sm(o,l):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},WH=class DJ extends Vr{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=lK,this.maxValidYear=uK,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:i,dateTo:r,type:n}=e||{};return[i&&_o(i)||null,r&&_o(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,i){const r=i;return i==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const i=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))console.warn(`AG Grid: DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=i("minValidYear",lK),this.maxValidYear=i("maxValidYear",uK),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:_o(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:_o(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new TJ(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const i=new vJ(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,i){e.setDate(i)}setElementDisplayed(e,i){e.setDisplayed(i)}setElementDisabled(e,i){e.setDisabled(i)}getDefaultFilterOptions(){return DJ.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,i,r,n){const s=document.createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),i.push(s),e.appendChild(s),r.push(this.createDateCompWrapper(s))}removeValueElements(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)}removeDateComps(e,i,r){this.removeItems(e,i,r).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let i=!0;return this.forEachInput((r,n,s,o)=>{s!==e||!i||n>=o||(i=i&&this.isValidDateValue(r.getDate()))}),i}areSimpleModelsEqual(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type}getFilterType(){return"date"}createCondition(e){const i=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=Ec(n[0])),n.length>1&&(r.dateTo=Ec(n[1])),tt({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},r)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(i),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(r.getDate())}),i}translate(e){return e===Vr.LESS_THAN?super.translate("before"):e===Vr.GREATER_THAN?super.translate("after"):super.translate(e)}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};WH.DEFAULT_FILTER_OPTIONS=[Vr.EQUALS,Vr.NOT_EQUAL,Vr.LESS_THAN,Vr.GREATER_THAN,Vr.IN_RANGE,Vr.BLANK,Vr.NOT_BLANK];A([W("userComponentFactory")],WH.prototype,"userComponentFactory",2);var PJ=WH,xJ=class extends wt{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const i=e.operator;let r;i?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,i=!0){this.optionsFactory=new CJ,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),i||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const i=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=i||{};return r==null||r==1}isTypeEditable(e){const i=[ar.IN_RANGE,ar.EMPTY,ar.BLANK,ar.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0}},tO=class extends xJ{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return PJ.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new TJ(this.filterParams,this.localeService,this.optionsFactory);const i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(i),i){if(e){const r=e;this.dateComp.setDate(_o(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){kt(this.eDateWrapper,e),kt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),i=Ec(e);this.params.parentFilterInstance(r=>{if(r){const n=_o(i);r.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=BP.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:vs(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new vJ(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};A([W("userComponentFactory")],tO.prototype,"userComponentFactory",2);A([Ge("eReadOnlyText")],tO.prototype,"eReadOnlyText",2);A([Ge("eDateWrapper")],tO.prototype,"eDateWrapper",2);var AJ=class extends wt{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const i=this.gridOptionsService.getDocument(),r=this.eDateInput.getInputElement();this.addManagedListener(r,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||r.focus()}),this.addManagedListener(r,"input",n=>{n.target===i.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const i=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&wc(),i.type=r?"date":"text";const{minValidYear:n,maxValidYear:s,minValidDate:o,maxValidDate:a}=e.filterParams||{};if(o&&n&&ut("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),a&&s&&ut("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&a){const[l,u]=[o,a].map(c=>c instanceof Date?c:_o(c));l&&u&&l.getTime()>u.getTime()&&ut("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?i.min=Sm(o):i.min=o:n&&(i.min=`${n}-01-01`),a?a instanceof Date?i.max=Sm(a):i.max=a:s&&(i.max=`${s}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return _o(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Ec(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:q0()||SH()||wc()&&yH()>=14.1}};A([Ge("eDateInput")],AJ.prototype,"eDateInput",2);var fb=class extends sc{constructor(e,i="ag-text-field",r="text"){super(e,i,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,i){return this.eInput.value!==e&&(this.eInput.value=De(e)?e:""),super.setValue(e,i)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),i=r=>{Q0(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListener(this.eInput,"keydown",i),this.addManagedListener(this.eInput,"paste",r=>{var n;const s=(n=r.clipboardData)==null?void 0:n.getData("text");s&&s.split("").some(o=>!e.test(o))&&r.preventDefault()})}},OJ=class extends fb{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const s=parseFloat(this.eInput.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:e,min:i,max:r,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof i=="number"&&this.setMin(i),typeof r=="number"&&this.setMax(r),typeof n=="number"&&this.setStep(n)}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const i=parseFloat(e);return this.min!=null&&i<this.min?e=this.min.toString():this.max!=null&&i>this.max&&(e=this.max.toString()),e}adjustPrecision(e,i){if(this.precision==null)return e;if(i){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Ep(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Ep(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Ep(this.eInput,"step",e),this)}setValue(e,i){return this.setValueOrInputValue(r=>super.setValue(r,i),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(i=>super.setValue(i,!0),i=>{this.eInput.value=i},e)}setValueOrInputValue(e,i,r){if(De(r)){let n=this.isScientificNotation(r);if(n&&this.eInput.validity.valid)return e(r);if(!n){r=this.adjustPrecision(r);const s=this.normalizeValue(r);n=r!=s}if(n)return i(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},MJ=class extends BH{conditionToString(e,i){const{numberOfInputs:r}=i||{};return e.type==ar.IN_RANGE||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function qN(t){const{allowedCharPattern:e}=t??{};return e??null}var FJ=class IJ extends Vr{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[this.processValue(i),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,i)=>e===i?0:e<i?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new MJ(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return IJ.DEFAULT_FILTER_OPTIONS}setElementValue(e,i,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(e,n)}createValueElement(){const e=qN(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),dr(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i}createFromToElement(e,i,r,n){const s=this.createManagedBean(n?new fb({allowedCharPattern:n}):new OJ);s.addCssClass(`ag-filter-${r}`),s.addCssClass("ag-filter-filter"),i.push(s),e.appendChild(s.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(this.processValue(this.stringToFloat(r.getValue())))}),i}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let i=vu(e);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}hasInvalidInputs(){let e=!1;return this.forEachInput(i=>{if(!i.getInputElement().validity.valid){e=!0;return}}),e}};FJ.DEFAULT_FILTER_OPTIONS=[Vr.EQUALS,Vr.NOT_EQUAL,Vr.GREATER_THAN,Vr.GREATER_THAN_OR_EQUAL,Vr.LESS_THAN,Vr.LESS_THAN_OR_EQUAL,Vr.IN_RANGE,Vr.BLANK,Vr.NOT_BLANK];var LJ=FJ,_J=class extends BH{conditionToString(e,i){const{numberOfInputs:r}=i||{};return e.type==ar.IN_RANGE||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}},dl=class Lg extends ar{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const i=e&&e.trim();return i===""?e:i}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Lg.DEFAULT_FORMATTER:Lg.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new _J(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(Kp.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:r,filterText:n})=>e(i,r,n)):this.textFilterParams.textMatcher||Lg.DEFAULT_MATCHER}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,i){const r=[];return this.forEachPositionInput(e,(n,s,o,a)=>{var l;if(s<a){let u=vu(n.getValue());i&&this.textFilterParams.trimInput&&(u=(l=Lg.trimInput(u))!=null?l:null,n.setValue(u,!0)),r.push(u)}}),r}getDefaultFilterOptions(){return Lg.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),dr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,i,r){const n=this.createManagedBean(new fb);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),i.push(n),e.appendChild(n.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[i||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){const i=[ar.NOT_EQUAL,ar.NOT_CONTAINS,ar.BLANK];return e?i.indexOf(e)>=0:!1}evaluateNonNullValue(e,i,r,n){const s=e.map(g=>this.formatter(g))||[],o=this.formatter(i),{api:a,colDef:l,column:u,columnApi:c,context:d,textFormatter:h}=this.textFilterParams;if(r.type===ar.BLANK)return this.isBlank(i);if(r.type===ar.NOT_BLANK)return!this.isBlank(i);const f={api:a,colDef:l,column:u,columnApi:c,context:d,node:n.node,data:n.data,filterOption:r.type,value:o,textFormatter:h};return s.some(g=>this.matcher(Wi(tt({},f),{filterText:g})))}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};dl.DEFAULT_FILTER_OPTIONS=[ar.CONTAINS,ar.NOT_CONTAINS,ar.EQUALS,ar.NOT_EQUAL,ar.STARTS_WITH,ar.ENDS_WITH,ar.BLANK,ar.NOT_BLANK];dl.DEFAULT_FORMATTER=t=>t;dl.DEFAULT_LOWERCASE_FORMATTER=t=>t==null?null:t.toString().toLowerCase();dl.DEFAULT_MATCHER=({filterOption:t,value:e,filterText:i})=>{if(i==null)return!1;switch(t){case dl.CONTAINS:return e.indexOf(i)>=0;case dl.NOT_CONTAINS:return e.indexOf(i)<0;case dl.EQUALS:return e===i;case dl.NOT_EQUAL:return e!=i;case dl.STARTS_WITH:return e.indexOf(i)===0;case dl.ENDS_WITH:const r=e.lastIndexOf(i);return r>=0&&r===e.length-i.length;default:return!1}};var UH=dl,NJ=class extends Ie{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var i;this.eFloatingFilterTextInput=this.createManagedBean(new fb((i=this.params)==null?void 0:i.config));const r=this.eFloatingFilterTextInput.getGui();e.appendChild(r),this.addManagedListener(r,"input",n=>this.valueChangedListener(n)),this.addManagedListener(r,"keydown",n=>this.valueChangedListener(n))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,i){this.eFloatingFilterTextInput.setValue(e,i)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},gb=class extends xJ{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var i;this.params=e;const r=(i=e.browserAutoComplete)!=null?i:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:r}),this.applyActive=BP.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const n=BP.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=vs(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const i=this.floatingFilterInputService.getValue();Ir(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(i,!0)}getAriaLabel(e){const i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${i} ${r("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(e){const i=e.key===ce.ENTER;if(this.applyActive&&!i)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=UH.trimInput(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};A([W("columnModel")],gb.prototype,"columnModel",2);A([Ge("eFloatingFilterInputContainer")],gb.prototype,"eFloatingFilterInputContainer",2);A([_e],gb.prototype,"postConstruct",1);var FAe=class extends Ie{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new OJ),this.eFloatingFilterTextInput=this.createManagedBean(new fb),this.eFloatingFilterTextInput.setDisabled(!0);const i=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(r),this.setupListeners(i,n=>this.valueChangedListener(n)),this.setupListeners(r,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,i){this.getActiveInputElement().setValue(e,i)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,i){this.addManagedListener(e,"input",i),this.addManagedListener(e,"keydown",i)}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},IAe=class extends gb{init(e){var i;super.init(e),this.filterModelFormatter=new MJ(this.localeService,this.optionsFactory,(i=e.filterParams)==null?void 0:i.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){qN(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return LJ.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=qN(e.filterParams),this.allowedCharPattern?this.createManagedBean(new NJ({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new FAe)}},LAe=class extends gb{init(e){super.init(e),this.filterModelFormatter=new _J(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return UH.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new NJ)}},mb=class Wy{constructor(e,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Tu,this.eElement=e,this.preventMouseClick=i;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}addEventListener(e,i){this.eventService.addEventListener(e,i)}removeEventListener(e,i){this.eventService.removeEventListener(e,i)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===i;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:Wy.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e};this.eventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const i=this.getActiveTouch(e.touches);if(!i)return;!_H(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const i={type:Wy.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>Wy.DOUBLE_TAP_MILLIS){const r={type:Wy.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};mb.EVENT_TAP="tap";mb.EVENT_DOUBLE_TAP="doubleTap";mb.EVENT_LONG_TAP="longTap";mb.DOUBLE_TAP_MILLIS=500;var mn=mb,Bc=class GJ extends wt{constructor(e){super(),e||this.setTemplate(GJ.TEMPLATE)}attachCustomElements(e,i,r,n,s){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s}setupSort(e,i=!1){this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,i,r){if(i==null)return;const n=tr(e,this.gridOptionsService,r);n&&i.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const i=e==="asc";kt(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){const i=e==="desc";kt(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),r=e==null;kt(this.eSortNone,!i&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";kt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),r=(e=this.sortController.getDisplaySortIndexForColumn(this.column))!=null?e:-1,n=i.some(o=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(o))!=null?a:!1}),s=r>=0&&n;kt(this.eSortOrder,s,{skipAriaHidden:!0}),r>=0?this.eSortOrder.textContent=(r+1).toString():Ir(this.eSortOrder)}};Bc.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;A([Ge("eSortOrder")],Bc.prototype,"eSortOrder",2);A([Ge("eSortAsc")],Bc.prototype,"eSortAsc",2);A([Ge("eSortDesc")],Bc.prototype,"eSortDesc",2);A([Ge("eSortMixed")],Bc.prototype,"eSortMixed",2);A([Ge("eSortNone")],Bc.prototype,"eSortNone",2);A([W("columnModel")],Bc.prototype,"columnModel",2);A([W("sortController")],Bc.prototype,"sortController",2);var kJ=Bc,ns=class VJ extends wt{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)}workOutTemplate(){var e;let i=(e=this.params.template)!=null?e:VJ.TEMPLATE;return i=i&&i.trim?i.trim():i,i}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const i=jr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(e,i,r){if(i==null)return;const n=tr(e,this.gridOptionsService,r);n&&i.appendChild(n)}setupTap(){const{gridOptionsService:e}=this;if(e.get("suppressTouch"))return;const i=new mn(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&De(this.eMenu),s=n?new mn(this.eMenu,!0):i;if(this.params.enableMenu){const o=n?"EVENT_TAP":"EVENT_LONG_TAP",a=l=>this.params.showColumnMenuAfterMouseClick(l.touchStart);this.addManagedListener(s,mn[o],a)}if(this.params.enableSorting){const o=a=>{var l,u;const c=a.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(c)||(u=this.eFilterButton)!=null&&u.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,mn.EVENT_TAP,o)}if(this.params.enableFilterButton){const o=new mn(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>i.destroy()),n&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Cl(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var i,r,n,s;const{column:o}=this.params,a=this.menuService.isLegacyMenuEnabled();if(e&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter((r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new kJ(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,Ci.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",i=>{const r=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(r||s)){const l=this.gridOptionsService.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(l)}});const e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const i=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),n=!(i==null?void 0:i.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0}configureFilter(e,i,r){if(!e)return Cl(i),!1;const{column:n}=this.params;return this.addInIcon("filter",i,n),this.addManagedListener(n,Ci.EVENT_FILTER_CHANGED,r),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();kt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var i,r,n,s;return e?(r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui():(s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()}};ns.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;A([W("sortController")],ns.prototype,"sortController",2);A([W("menuService")],ns.prototype,"menuService",2);A([W("columnModel")],ns.prototype,"columnModel",2);A([Ge("eFilter")],ns.prototype,"eFilter",2);A([Ge("eFilterButton")],ns.prototype,"eFilterButton",2);A([Ge("eSortIndicator")],ns.prototype,"eSortIndicator",2);A([Ge("eMenu")],ns.prototype,"eMenu",2);A([Ge("eLabel")],ns.prototype,"eLabel",2);A([Ge("eText")],ns.prototype,"eText",2);A([Ge("eSortOrder")],ns.prototype,"eSortOrder",2);A([Ge("eSortAsc")],ns.prototype,"eSortAsc",2);A([Ge("eSortDesc")],ns.prototype,"eSortDesc",2);A([Ge("eSortMixed")],ns.prototype,"eSortMixed",2);A([Ge("eSortNone")],ns.prototype,"eSortNone",2);var XN=ns,vb=class HJ extends wt{constructor(){super(HJ.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ut("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=n=>{if(Tl(n))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const i=n=>{Ol(n)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(r,br.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,br.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,i){const r=new mn(e,!0);this.addManagedListener(r,mn.EVENT_TAP,i),this.addDestroyFunc(()=>r.destroy()),this.addManagedListener(e,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();kt(this.eOpenIcon,i),kt(this.eCloseIcon,!i)}else kt(this.eOpenIcon,!1),kt(this.eCloseIcon,!1)}addInIcon(e,i){const r=tr(e,this.gridOptionsService,null);r&&this.getRefElement(i).appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){kt(this.eOpenIcon,!1),kt(this.eCloseIcon,!1);return}}setupLabel(){var e;const{displayName:i,columnGroup:r}=this.params;if(De(i)){const n=jr(i,!0);this.getRefElement("agLabel").textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((e=r.getColGroupDef())!=null&&e.suppressStickyLabel))}};vb.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;A([W("columnModel")],vb.prototype,"columnModel",2);A([Ge("agOpened")],vb.prototype,"eOpenIcon",2);A([Ge("agClosed")],vb.prototype,"eCloseIcon",2);var _Ae=vb,xf=class extends wt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},zH=class $J extends xf{constructor(){super($J.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),De(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const i=e.key;(i===ce.LEFT||i===ce.UP||i===ce.RIGHT||i===ce.DOWN||e.shiftKey&&i===ce.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!De(e)&&!De(this.params.value)?this.params.value:this.params.parseValue(e)}};zH.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;A([Ge("eTextArea")],zH.prototype,"eTextArea",2);var NAe=zH,jH=class extends xf{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:i,valueFormatterService:r,gridOptionsService:n}=this,{values:s,value:o,eventKey:a}=e;if(gt(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=a!=null?a===ce.ENTER:!1;let l=!1;s.forEach(h=>{const f={value:h},g=r.formatValue(e.column,null,h),m=g!=null;f.text=m?g:h,i.addOption(f),l=l||o===h}),l?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:c,valueListMaxHeight:d}=e;u!=null&&i.setPickerGap(u),d!=null&&i.setPickerMaxHeight(d),c!=null&&i.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,HH.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};A([W("valueFormatterService")],jH.prototype,"valueFormatterService",2);A([Ge("eSelect")],jH.prototype,"eSelect",2);var Cb=class extends xf{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const i=this.eInput;this.cellEditorInput.init(i,e);let r;if(e.cellStartedEdit){this.focusAfterAttached=!0;const n=e.eventKey;n===ce.BACKSPACE||e.eventKey===ce.DELETE?r="":n&&n.length===1?r=n:(r=this.cellEditorInput.getStartValue(),n!==ce.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&i.setStartValue(r),this.addManagedListener(i.getGui(),"keydown",n=>{const{key:s}=n;(s===ce.PAGE_UP||s===ce.PAGE_DOWN)&&n.preventDefault()})}afterGuiAttached(){var e,i;const r=this.localeService.getLocaleTextFunc(),n=this.eInput;if(n.setInputAriaLabel(r("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;wc()||n.getFocusableElement().focus();const s=n.getInputElement();this.highlightAllOnFocus?s.select():(i=(e=this.cellEditorInput).setCaret)==null||i.call(e)}focusIn(){const e=this.eInput,i=e.getFocusableElement(),r=e.getInputElement();i.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};A([Ge("eInput")],Cb.prototype,"eInput",2);var GAe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,i){this.eInput=e,this.params=i,i.maxLength!=null&&e.setMaxLength(i.maxLength)}getValue(){const e=this.eInput.getValue();return!De(e)&&!De(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),i=De(e)&&e.length||0;i&&this.eInput.getInputElement().setSelectionRange(i,i)}},cK=class extends Cb{constructor(){super(new GAe)}},kAe="↑",VAe="↓",BJ=class extends wt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(i),e.appendChild(r),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,i){const r=Math.abs(i),n=e.formatValue(r),s=De(n)?n:r,o=i>=0;o?this.eDelta.textContent=kAe+s:this.eDelta.textContent=VAe+s,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ir(this.eDelta)}refresh(e,i=!1){const r=e.value;if(r===this.lastValue||(De(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:De(e.value)?this.eValue.textContent=r:Ir(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const n=r-this.lastValue;this.showDelta(e,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),i||this.setTimerToRemoveDelta(),this.lastValue=r,!0}};A([W("filterManager")],BJ.prototype,"filterManager",2);var WJ=class extends wt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-slide-current"),e.appendChild(i),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,i=!1){let r=e.value;return gt(r)&&(r=""),r===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(i||this.addSlideAnimation(),this.lastValue=r,De(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:De(e.value)?this.eCurrent.textContent=r:Ir(this.eCurrent),!0)}};A([W("filterManager")],WJ.prototype,"filterManager",2);var zi=class xi{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=xi.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,i){const r=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,r,i);this.dispatchLocalEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,i,r){return{type:xi.EVENT_DATA_CHANGED,node:this,oldData:i,newData:e,update:r}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new xi(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,i){const r=De(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);const s=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(s)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)}setRowSelectable(e,i){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_SELECTABLE_CHANGED)),i)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const r=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(xi.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${xi.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const i=[];let r=this;for(e&&(r=r.parent);r&&r.level>=0;)i.push(r.key),r=r.parent;return i.reverse(),i}isPixelInRange(e){return!De(this.rowTop)||!De(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_GROUP_CHANGED)))}setRowHeight(e,i=!1){this.rowHeight=e,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=vs(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,i=!0,r=0;const n=this.__autoHeights;if(n==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=n[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(a.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(u.includes(a)){e=!0;return}l=-1}else{e=!0;return}else i=!1;l>r&&(r=l)}),e)||((i||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r==this.rowHeight))return;this.setRowHeight(r);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,i){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_EXPANDED_CHANGED));const r=Object.assign({},this.createGlobalRowEvent(L.EVENT_ROW_GROUP_OPENED),{expanded:e,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,i,r){const s=(()=>{var l;return typeof e!="string"?e:(l=this.beans.columnModel.getGridColumn(e))!=null?l:this.beans.columnModel.getPrimaryColumn(e)})(),o=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,o,i,r),!1;const a=this.beans.valueService.setValue(this,s,i,r);return this.dispatchCellChangedEvent(s,i,o),this.checkRowSelectable(),a}getValueFromValueService(e){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!i,s=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),o=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),a=r&&s&&!o;return this.beans.valueService.getValue(e,this,!1,a)}dispatchEventForSaveValueReadOnly(e,i,r,n){const s=this.beans.gridOptionsService.addGridCommonParams({type:L.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:i,newValue:r,value:r,source:n});this.beans.eventService.dispatchEvent(s)}setGroupValue(e,i){const r=this.beans.columnModel.getGridColumn(e);gt(this.groupData)&&(this.groupData={});const n=r.getColId(),s=this.groupData[n];s!==i&&(this.groupData[n]=i,this.dispatchCellChangedEvent(r,i,s))}setAggData(e){const i=this.aggData;if(this.aggData=e,this.eventService){const r=n=>{const s=this.aggData?this.aggData[n]:void 0,o=i?i[n]:void 0;if(s===o)return;const a=this.beans.columnModel.lookupGridColumn(n);a&&this.dispatchCellChangedEvent(a,s,o)};for(const n in this.aggData)r(n);for(const n in e)n in this.aggData||r(n)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const r=this.beans.gridOptionsService.get("treeData"),n=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(r?!!n&&n(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(xi.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Po(this.childrenAfterGroup)}dispatchCellChangedEvent(e,i,r){const n={type:xi.EVENT_CELL_CHANGED,node:this,column:e,newValue:i,oldValue:r};this.dispatchLocalEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let i=!1,r=!1,n=!1;if(!((e=this.childrenAfterGroup)!=null&&e.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const o=this.childrenAfterGroup[s];let a=o.isSelected();if(!o.selectable){const l=o.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:i=!0;break;case!1:r=!0;break;default:n=!0;break}}if(!(n||i&&r))return i?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,i,r="api"){const n=!this.selectable&&e,s=this.selected===e;if(n||s)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(xi.EVENT_ROW_SELECTED));const a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(xi.EVENT_ROW_SELECTED))}const o=Wi(tt({},this.createGlobalRowEvent(L.EVENT_ROW_SELECTED)),{event:i||null,source:r});return this.beans.eventService.dispatchEvent(o),!0}setSelected(e,i=!1,r="api"){if(typeof r=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:i,rangeSelect:!1,source:r})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Wi(tt({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(e){let i=this.parent;for(;i;){if(i===e)return!0;i=i.parent}return!1}addEventListener(e,i){var r,n;this.eventService||(this.eventService=new Tu),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new uH(this.beans.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;if(!this.eventService)return;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(xi.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(xi.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let i=this,r=!0,n=!1,s=null;for(;r&&!n;){const o=i.parent;De(o)&&i.firstChild?o.rowGroupColumn===e&&(n=!0,s=o):r=!1,i=o}return n?s:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.key==null)return;const e=[];let i=this;for(;i.key!=null;)e.push(i.key),i=i.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),i=new xi(this.beans);Object.keys(this).forEach(r=>{e.has(r)||(i[r]=this[r])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};zi.ID_PREFIX_ROW_GROUP="row-group-";zi.ID_PREFIX_TOP_PINNED="t-";zi.ID_PREFIX_BOTTOM_PINNED="b-";zi.OBJECT_ID_SEQUENCE=0;zi.EVENT_ROW_SELECTED="rowSelected";zi.EVENT_DATA_CHANGED="dataChanged";zi.EVENT_CELL_CHANGED="cellChanged";zi.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";zi.EVENT_MASTER_CHANGED="masterChanged";zi.EVENT_GROUP_CHANGED="groupChanged";zi.EVENT_MOUSE_ENTER="mouseEnter";zi.EVENT_MOUSE_LEAVE="mouseLeave";zi.EVENT_HEIGHT_CHANGED="heightChanged";zi.EVENT_TOP_CHANGED="topChanged";zi.EVENT_DISPLAYED_CHANGED="displayedChanged";zi.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";zi.EVENT_LAST_CHILD_CHANGED="lastChildChanged";zi.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";zi.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";zi.EVENT_EXPANDED_CHANGED="expandedChanged";zi.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";zi.EVENT_SELECTABLE_CHANGED="selectableChanged";zi.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";zi.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";zi.EVENT_DRAGGING_CHANGED="draggingChanged";var Wt=zi,iO=class extends wt{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),i=this.rowNode.isSelected(),r=Y0(e,i),[n,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(n,s);this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(`${o} (${r})`)}onClicked(e,i,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:i,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{Ol(n)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{Ol(n);const s=this.gridOptionsService.get("groupSelectsFiltered"),o=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(o,s)?this.onClicked(!0,s,n||{})===0&&this.onClicked(!1,s,n):o?this.onClicked(!1,s,n):this.onClicked(!0,s,n||{})}),this.addManagedListener(this.rowNode,Wt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,i){return i&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,i,r;let n=this.rowNode.selectable;const s=this.getIsVisible();if(n)if(typeof s=="function"){const a=(e=this.overrides)==null?void 0:e.callbackParams;if(!this.column)n=s(Wi(tt({},a),{node:this.rowNode,data:this.rowNode.data}));else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);n=s(tt(tt({},a),l))}}else n=s??!1;if((i=this.column)==null?void 0:i.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!n),this.setVisible(!0),this.setDisplayed(!0);return}if((r=this.overrides)!=null&&r.removeHidden){this.setDisplayed(n);return}this.setVisible(n)}getIsVisible(){var e,i;return this.overrides?this.overrides.isVisible:(i=(e=this.column)==null?void 0:e.getColDef())==null?void 0:i.checkboxSelection}};A([Ge("eCheckbox")],iO.prototype,"eCheckbox",2);A([_e],iO.prototype,"postConstruct",1);var UJ=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(UJ||{}),Dt=class extends Ie{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=pa("columnMovePin",this.gridOptionsService,null),this.eHideIcon=pa("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=pa("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=pa("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=pa("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=pa("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=pa("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=pa("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=pa("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,i=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}removeDragSource(e){const i=this.dragSourceAndParamsList.find(r=>r.dragSource===e);i&&(this.dragService.removeDragSource(i.params),Us(this.dragSourceAndParamsList,i))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,i){this.dragging=!0,this.dragSource=e,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const i=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,i){var r,n,s,o;const a=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const u=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),c=this.findCurrentDropTarget(e,u);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(e,a,l,i),this.lastDropTarget!==null&&c===null&&((n=(r=this.dragSource).onGridExit)==null||n.call(r,this.dragItem)),this.lastDropTarget===null&&c!==null&&((o=(s=this.dragSource).onGridEnter)==null||o.call(s,this.dragItem)),this.enterDragTargetIfExists(c,e,a,l,i),this.lastDropTarget=c;else if(c&&c.onDragging){const d=this.createDropTargetEvent(c,e,a,l,i);c.onDragging(d)}}getAllContainersFromDropTarget(e){const i=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return i?r.concat(i):r}allContainersIntersect(e,i){for(const r of i){const n=r.getBoundingClientRect();if(n.width===0||n.height===0)return!1;const s=e.clientX>=n.left&&e.clientX<n.right,o=e.clientY>=n.top&&e.clientY<n.bottom;if(!s||!o)return!1}return!0}isMouseOnDropTarget(e,i){const r=this.getAllContainersFromDropTarget(i);let n=!1;for(const s of r)if(this.allContainersIntersect(e,s)){n=!0;break}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:n&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,i){const r=i.length;if(r===0)return null;if(r===1)return i[0];const s=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const o of s)for(const a of i)if(mZ(this.getAllContainersFromDropTarget(a)).indexOf(o)!==-1)return a;return null}enterDragTargetIfExists(e,i,r,n,s){if(e){if(e.onDragEnter){const o=this.createDropTargetEvent(e,i,r,n,s);e.onDragEnter(o)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,i,r,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const s=this.createDropTargetEvent(this.lastDropTarget,e,i,r,n);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(i=>i.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const i=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return i===r?null:i>r?0:1}getVerticalDirection(e){const i=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return i===r?null:i>r?0:1}createDropTargetEvent(e,i,r,n,s){const o=e.getContainer(),a=o.getBoundingClientRect(),{gridApi:l,columnApi:u,dragItem:c,dragSource:d}=this,h=i.clientX-a.left,f=i.clientY-a.top;return{event:i,x:h,y:f,vDirection:n,hDirection:r,dragSource:d,fromNudge:s,dragItem:c,api:l,columnApi:u,dropZoneTarget:o}}positionGhost(e){const i=this.eGhost;if(!i)return;const n=i.getBoundingClientRect().height,s=zZ()-2,o=jZ()-2,a=xH(i.offsetParent),{clientY:l,clientX:u}=e;let c=l-a.top-n/2,d=u-a.left-10;const h=this.gridOptionsService.getDocument(),f=h.defaultView||window,g=f.pageYOffset||h.documentElement.scrollTop,m=f.pageXOffset||h.documentElement.scrollLeft;s>0&&d+i.clientWidth>s+m&&(d=s+m-i.clientWidth),d<0&&(d=0),o>0&&c+i.clientHeight>o+g&&(c=o+g-i.clientHeight),c<0&&(c=0),i.style.left=`${d}px`,i.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Ys(Dt.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const i=this.eGhost.querySelector(".ag-dnd-ghost-label");let r=this.dragSource.dragItemName;B0(r)&&(r=r()),i.innerHTML=jr(r)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const n=this.gridOptionsService.getDocument();let s=null,o=null;try{s=n.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());const a=s.querySelector("body");a?o=a:s instanceof ShadowRoot?o=s:s instanceof Document?o=s==null?void 0:s.documentElement:o=s}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,i=!1){Ir(this.eGhostIcon);let r=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Dt.ICON_NOT_ALLOWED),e){case Dt.ICON_PINNED:r=this.ePinnedIcon;break;case Dt.ICON_MOVE:r=this.eMoveIcon;break;case Dt.ICON_LEFT:r=this.eLeftIcon;break;case Dt.ICON_RIGHT:r=this.eRightIcon;break;case Dt.ICON_GROUP:r=this.eGroupIcon;break;case Dt.ICON_AGGREGATE:r=this.eAggregateIcon;break;case Dt.ICON_PIVOT:r=this.ePivotIcon;break;case Dt.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;case Dt.ICON_HIDE:r=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(r===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&r&&this.eGhostIcon.appendChild(r)}};Dt.ICON_PINNED="pinned";Dt.ICON_MOVE="move";Dt.ICON_LEFT="left";Dt.ICON_RIGHT="right";Dt.ICON_GROUP="group";Dt.ICON_AGGREGATE="aggregate";Dt.ICON_PIVOT="pivot";Dt.ICON_NOT_ALLOWED="notAllowed";Dt.ICON_HIDE="hide";Dt.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;A([W("dragService")],Dt.prototype,"dragService",2);A([W("mouseEventService")],Dt.prototype,"mouseEventService",2);A([W("columnApi")],Dt.prototype,"columnApi",2);A([W("gridApi")],Dt.prototype,"gridApi",2);A([_e],Dt.prototype,"init",1);A([Ka],Dt.prototype,"clearDragSourceParamsList",1);Dt=A([je("dragAndDropService")],Dt);var Yp=class extends wt{constructor(e,i,r,n,s,o){super(),this.cellValueFn=e,this.rowNode=i,this.column=r,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(tr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.get("rowDragManaged")?new KJ(this,this.beans,this.rowNode,this.column):new jJ(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,i){this.setTemplateFromElement(e),this.addDragSource(i)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const i=this.beans.selectionService.getSelectedNodes();return i.indexOf(this.rowNode)!==-1?i:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&e&&ut("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const i=e.getColDef();if(i.rowDragText)return i.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var r;const n=this.getDragItem(),s=((r=n.rowNodes)==null?void 0:r.length)||1,o=this.getRowDragText(this.column);return o?o(n,s):s===1?this.cellValueFn():`${s} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};A([W("beans")],Yp.prototype,"beans",2);A([_e],Yp.prototype,"postConstruct",1);A([Ka],Yp.prototype,"removeDragSource",1);var zJ=class extends Ie{constructor(e,i,r){super(),this.parent=e,this.rowNode=i,this.column=r}setDisplayedOrVisible(e){const i={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,i);else{let r=!0,n=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=B0(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,i),this.parent.setVisible(r,i)):(this.parent.setDisplayed(r,i),this.parent.setVisible(!0,i))}}},jJ=class extends zJ{constructor(e,i,r,n){super(e,r,n),this.beans=i}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};A([_e],jJ.prototype,"postConstruct",1);var KJ=class extends zJ{constructor(e,i,r,n){super(e,r,n),this.beans=i}postConstruct(){this.addManagedListener(this.beans.eventService,L.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=i&&i.shouldPreventRowMove(),n=this.gridOptionsService.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),o=r&&!s||n;this.setDisplayedOrVisible(o)}};A([_e],KJ.prototype,"postConstruct",1);var Uv=class extends Ie{init(e,i,r,n,s,o,a){var l,u,c,d;this.params=a,this.eGui=i,this.eCheckbox=r,this.eExpanded=n,this.eContracted=s,this.comp=e,this.compClass=o;const{node:h,value:f,colDef:g}=a,m=this.isTopLevelFooter();if(!m){if(this.isEmbeddedRowMismatch())return;if(h.footer&&this.gridOptionsService.get("groupHideOpenParents")){const S=g&&g.showRowGroup,y=h.rowGroupColumn&&h.rowGroupColumn.getColId();if(S!==y)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!m){const C=a.node.footer&&a.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(P=>{var O;return P.getColId()===((O=a.colDef)==null?void 0:O.showRowGroup)}),y=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!a.node.footer&&(!a.node.group||a.node.rowGroupIndex!=null&&a.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(P=>{var O;return P.getColId()===((O=a.colDef)==null?void 0:O.showRowGroup)})),w=!h.group&&(((l=this.params.colDef)==null?void 0:l.field)||((u=this.params.colDef)==null?void 0:u.valueGetter)),E=this.isExpandable(),b=this.columnModel.isPivotMode()&&h.leafGroup&&((c=h.rowGroupColumn)==null?void 0:c.getColId())===((d=a.column)==null?void 0:d.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!E&&!w&&!y&&!C&&!b)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,i;const r=(e=this.params.colDef)==null?void 0:e.cellAriaRole,n=(i=this.params.column)==null?void 0:i.getColDef().cellAriaRole;return r||n||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eGridCell:i}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){NZ(i);return}const r=()=>{Sc(i,!!e.expanded)};this.expandListener=this.addManagedListener(e,Wt.EVENT_EXPANDED_CHANGED,r)||null,r()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const e=this.params.colDef;if(e==null||e.showRowGroup===!0)return!0;const r=this.columnModel.getRowGroupColumns();return!r||r.length===0?!0:r[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",i=this.params.pinned==="right",r=!e&&!i;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!i:!r:this.columnModel.isPinningLeft()?!e:!r}findDisplayedGroupNode(){const e=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent){let r=i.parent;for(;r!=null;){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}}gt(this.displayedGroupNode)&&(this.displayedGroupNode=i)}setupShowingValueForOpenedParent(){const e=this.params.node,i=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const s=e.rowGroupColumn.getId();if(i.isRowGroupDisplayed(s)){this.showingValueForOpenedParent=!1;return}}const n=e.groupData[i.getId()]!=null;this.showingValueForOpenedParent=n}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;const i=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(i),{valueFormatted:n,value:s}=i;let o=n;if(o==null){const a=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)==null?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&a?o=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o=s??null}this.comp.setInnerRenderer(r,o)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!e)return this.params;if(i!=null&&!i.isRowGroupDisplayed(e.getId()))return this.params;const n=this.params,{value:s,node:o}=this.params,a=this.valueFormatterService.formatValue(e,o,s);return Wi(tt({},n),{valueFormatted:a})}addFooterValue(){const e=this.params.footerValueGetter;let i="";if(e){const n=sH(this.params);n.value=this.params.value,typeof e=="function"?i=e(n):typeof e=="string"?i=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const r=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(r,i)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const i=this.userComponentFactory.getInnerRendererDetails(e,e),r=a=>a&&a.componentClass==this.compClass;if(i&&!r(i))return i;const n=this.displayedGroupNode.rowGroupColumn,s=n?n.getColDef():void 0;if(!s)return;const o=this.userComponentFactory.getCellRendererDetails(s,e);if(o&&!r(o))return o;if(r(o)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(n)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const i=this.params.column;return i==null||i.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const i=this.params,r=tr("groupExpanded",this.gridOptionsService,null),n=tr("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),n&&this.eContracted.appendChild(n);const s=i.eGridCell;!(((e=this.params.column)==null?void 0:e.isCellEditable(i.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,Wt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Wt.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Wt.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Wt.EVENT_HAS_CHILDREN_CHANGED,a)}onExpandClicked(e){Tl(e)||(Ol(e),this.onExpandOrContract(e))}onExpandOrContract(e){const i=this.displayedGroupNode,r=!i.expanded;!r&&i.sticky&&this.scrollToStickyNode(i),i.setExpanded(r,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!i))return!1;const n=this.params.column;return n!=null&&typeof n.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:i,columnModel:r}=this,{node:n}=e,s=this.isExpandable();if(s){const c=this.showingValueForOpenedParent?!0:n.expanded;this.comp.setExpandedDisplayed(c),this.comp.setContractedDisplayed(!c)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const o=r.isPivotMode(),a=o&&i.leafGroup,l=s&&!a,u=n.footer&&n.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),o?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,Wt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const e=this.params,i=e.node,r=!!e.colDef,n=this.gridOptionsService.get("treeData"),o=!r||n||e.colDef.showRowGroup===!0?i.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new Yp(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,i=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(i){const r=new iO;this.getContext().createBean(r),r.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(r.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(r))}this.comp.setCheckboxVisible(i)}onKeyDown(e){!(e.key===ce.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Tl(e))return;GP(this.eExpanded,e)||GP(this.eContracted,e)||this.onExpandOrContract(e)}};A([W("expressionService")],Uv.prototype,"expressionService",2);A([W("valueFormatterService")],Uv.prototype,"valueFormatterService",2);A([W("columnModel")],Uv.prototype,"columnModel",2);A([W("userComponentFactory")],Uv.prototype,"userComponentFactory",2);A([W("ctrlsService")],Uv.prototype,"ctrlsService",2);var Af=class YJ extends wt{constructor(){super(YJ.TEMPLATE)}init(e){const i={setInnerRenderer:(o,a)=>this.setRenderDetails(o,a),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setContractedDisplayed:o=>kt(this.eContracted,o),setExpandedDisplayed:o=>kt(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},r=this.createManagedBean(new Uv),n=!e.colDef,s=this.getGui();r.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&dr(s,r.getCellAriaRole())}setRenderDetails(e,i){if(e){const r=e.newAgStackInstance();if(!r)return;r.then(n=>{if(!n)return;const s=()=>this.context.destroyBean(n);this.isAlive()?(this.eValue.appendChild(n.getGui()),this.addDestroyFunc(s)):s()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};Af.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;A([Ge("eExpanded")],Af.prototype,"eExpanded",2);A([Ge("eContracted")],Af.prototype,"eContracted",2);A([Ge("eCheckbox")],Af.prototype,"eCheckbox",2);A([Ge("eValue")],Af.prototype,"eValue",2);A([Ge("eChildCount")],Af.prototype,"eChildCount",2);var dK=Af,rO=class qJ extends wt{constructor(){super(qJ.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=tr("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};rO.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;A([Ge("eLoadingIcon")],rO.prototype,"eLoadingIcon",2);A([Ge("eLoadingText")],rO.prototype,"eLoadingText",2);var HAe=rO,XJ=class QJ extends wt{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??QJ.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}};XJ.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var $Ae=XJ,ZJ=class JJ extends wt{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??JJ.DEFAULT_NO_ROWS_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}};ZJ.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var BAe=ZJ,WAe=class extends xf{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:i}=e;this.getGui().textContent=jr(i,!0)}},UAe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,i){this.eInput=e,this.params=i,i.max!=null&&e.setMax(i.max),i.min!=null&&e.setMin(i.min),i.precision!=null&&e.setPrecision(i.precision),i.step!=null&&e.setStep(i.step);const r=e.getInputElement();i.preventStepping?e.addManagedListener(r,"keydown",this.preventStepping):i.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ce.UP||e.key===ce.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!De(e)&&!De(this.params.value))return this.params.value;let i=this.params.parseValue(e);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}},zAe=class extends Cb{constructor(){super(new UAe)}},jAe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){const e=this.eInput.getDate();return!De(e)&&!De(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Ec(e,!1)}},KAe=class extends Cb{constructor(){super(new jAe)}},YAe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!De(e)&&!De(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,i;return Ec((i=this.parseDate((e=this.params.value)!=null?e:void 0))!=null?i:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}},eee=class extends Cb{constructor(){super(new YAe(()=>this.dataTypeService))}};A([W("dataTypeService")],eee.prototype,"dataTypeService",2);var KH=class tee extends wt{constructor(){super(tee.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);const i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),pH(i,"polite"),this.addManagedListener(i,"click",n=>{if(Ol(n),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)}),this.addManagedListener(i,"dblclick",n=>{Ol(n)});const r=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",n=>{if(n.key===ce.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===r.activeElement&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),n.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var i,r,n;let s,o=!0;if(e.node.group&&e.column){const d=e.column.getColId();d.startsWith($m)?s=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[d]!==void 0?s=(i=e.value)!=null?i:void 0:o=!1}else s=(r=e.value)!=null?r:void 0;if(!o){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);const a=e.disabled!=null?e.disabled:!((n=e.column)!=null&&n.isCellEditable(e.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),u=Y0(l,s),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(e){const{column:i,node:r,rowIndex:n,value:s}=this.params,o={type:L.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s};this.eventService.dispatchEvent(o);const a=this.params.node.setDataValue(this.params.column,e,"edit"),l={type:L.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:a};this.eventService.dispatchEvent(l)}};KH.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;A([Ge("eCheckbox")],KH.prototype,"eCheckbox",2);var qAe=KH,iee=class extends xf{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var i;this.params=e;const r=(i=e.value)!=null?i:void 0;this.eCheckbox.setValue(r),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(r),this.addManagedListener(this.eCheckbox,L.EVENT_FIELD_VALUE_CHANGED,s=>this.setAriaLabel(s.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const i=this.localeService.getLocaleTextFunc(),r=Y0(i,e),n=i("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}};A([Ge("eCheckbox")],iee.prototype,"eCheckbox",2);var XAe=class extends wt{constructor(){super(),this.setTemplate("<div></div>")}init(e){var i;this.params=e,this.cssClassPrefix=(i=this.params.cssClassPrefix)!=null?i:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const e=Ys(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(tr("check",this.gridOptionsService)):this.params.icon&&(cb(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){const e=Ys(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=Ys(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){const e=Ys(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),i=this.getGui();if(this.params.subMenu){const r=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Sc(i,!1),e.appendChild(tr(r,this.gridOptionsService))}i.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}destroy(){super.destroy()}},WP=class extends Ie{constructor(){super(...arguments),this.agGridDefaults={agDateInput:AJ,agColumnHeader:XN,agColumnGroupHeader:_Ae,agSortIndicator:kJ,agTextColumnFloatingFilter:LAe,agNumberColumnFloatingFilter:IAe,agDateColumnFloatingFilter:tO,agReadOnlyFloatingFilter:kH,agAnimateShowChangeCellRenderer:BJ,agAnimateSlideCellRenderer:WJ,agGroupCellRenderer:dK,agGroupRowRenderer:dK,agLoadingCellRenderer:HAe,agCheckboxCellRenderer:qAe,agCellEditor:cK,agTextCellEditor:cK,agNumberCellEditor:zAe,agDateCellEditor:KAe,agDateStringCellEditor:eee,agSelectCellEditor:jH,agLargeTextCellEditor:NAe,agCheckboxCellEditor:iee,agTextColumnFilter:UH,agNumberColumnFilter:LJ,agDateColumnFilter:PJ,agLoadingOverlay:$Ae,agNoRowsOverlay:BAe,agTooltipComponent:WAe,agMenuItem:XAe},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){this.gridOptions.components!=null&&Oo(this.gridOptions.components,(e,i)=>this.registerJsComponent(e,i))}registerDefaultComponent(e,i){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=i}registerJsComponent(e,i){this.jsComps[e]=i}retrieve(e,i){const r=(l,u)=>({componentFromFramework:u,component:l}),n=this.getFrameworkOverrides().frameworkComponent(i,this.gridOptions.components);if(n!=null)return r(n,!0);const s=this.jsComps[i];if(s){const l=this.getFrameworkOverrides().isFrameworkComponent(s);return r(s,l)}const o=this.agGridDefaults[i];if(o)return r(o,!1);const a=this.enterpriseAgDefaultCompsModule[i];return a?Gi.__assertRegistered(a,`AG Grid '${e}' component: ${i}`,this.context.getGridId()):yp(()=>{this.warnAboutMissingComponent(e,i)},"MissingComp"+i),null}warnAboutMissingComponent(e,i){const r=[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],n=db(i,r,!0,.8).values;console.warn(`AG Grid: Could not find '${i}' component. It was configured as "${e}: '${i}'" but it wasn't found in the list of registered components.`),n.length>0&&console.warn(`         Did you mean: [${n.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};A([W("gridOptions")],WP.prototype,"gridOptions",2);A([_e],WP.prototype,"init",1);WP=A([je("userComponentRegistry")],WP);var QAe={propertyName:"dateComponent",cellRenderer:!1},ZAe={propertyName:"headerComponent",cellRenderer:!1},JAe={propertyName:"headerGroupComponent",cellRenderer:!1},hK={propertyName:"cellRenderer",cellRenderer:!0},e0e={propertyName:"cellEditor",cellRenderer:!1},pK={propertyName:"innerRenderer",cellRenderer:!0},t0e={propertyName:"loadingOverlayComponent",cellRenderer:!1},i0e={propertyName:"noRowsOverlayComponent",cellRenderer:!1},r0e={propertyName:"tooltipComponent",cellRenderer:!1},QN={propertyName:"filter",cellRenderer:!1},n0e={propertyName:"floatingFilterComponent",cellRenderer:!1},s0e={propertyName:"toolPanel",cellRenderer:!1},o0e={propertyName:"statusPanel",cellRenderer:!1},a0e={propertyName:"fullWidthCellRenderer",cellRenderer:!0},l0e={propertyName:"loadingCellRenderer",cellRenderer:!0},u0e={propertyName:"groupRowRenderer",cellRenderer:!0},c0e={propertyName:"detailCellRenderer",cellRenderer:!0},d0e={propertyName:"menuItem",cellRenderer:!1},ree=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};ree.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var qp=class extends Ie{getHeaderCompDetails(e,i){return this.getCompDetails(e,ZAe,"agColumnHeader",i)}getHeaderGroupCompDetails(e){const i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,JAe,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,a0e,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,l0e,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,u0e,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,c0e,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,i){return this.getCompDetails(e,pK,null,i)}getFullWidthGroupRowInnerCellRenderer(e,i){return this.getCompDetails(e,pK,null,i)}getCellRendererDetails(e,i){return this.getCompDetails(e,hK,null,i)}getCellEditorDetails(e,i){return this.getCompDetails(e,e0e,"agCellEditor",i,!0)}getFilterDetails(e,i,r){return this.getCompDetails(e,QN,r,i,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,QAe,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,t0e,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,i0e,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,r0e,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,i){return this.getCompDetails(e,hK,null,i)}getFloatingFilterCompDetails(e,i,r){return this.getCompDetails(e,n0e,r,i)}getToolPanelCompDetails(e,i){return this.getCompDetails(e,s0e,null,i,!0)}getStatusPanelCompDetails(e,i){return this.getCompDetails(e,o0e,null,i,!0)}getMenuItemCompDetails(e,i){return this.getCompDetails(e,d0e,"agMenuItem",i,!0)}getCompDetails(e,i,r,n,s=!1){const{propertyName:o,cellRenderer:a}=i;let{compName:l,jsComp:u,fwComp:c,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:f}=this.getCompKeys(e,i,n);const g=y=>{const w=this.userComponentRegistry.retrieve(o,y);w&&(u=w.componentFromFramework?void 0:w.component,c=w.componentFromFramework?w.component:void 0)};if(l!=null&&g(l),u==null&&c==null&&r!=null&&g(r),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(o,u)),!u&&!c){s&&console.error(`AG Grid: Could not find component ${l}, did you forget to configure this component?`);return}const m=this.mergeParamsWithApplicationProvidedParams(e,i,n,d),C=u==null,S=u||c;return{componentFromFramework:C,componentClass:S,params:m,type:i,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(S,C,m,i)}}getCompKeys(e,i,r){const{propertyName:n}=i;let s,o,a,l,u,c;if(e){const d=e,h=d[n+"Selector"],f=h?h(r):null,g=m=>{typeof m=="string"?s=m:m!=null&&m!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(m)?a=m:o=m)};f?(g(f.component),l=f.params,u=f.popup,c=f.popupPosition):g(d[n])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}newAgStackInstance(e,i,r,n){const s=n.propertyName,o=!i;let a;if(o)a=new e;else{const u=this.componentMetadataProvider.retrieve(s);a=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,n)}const l=this.initComponent(a,r);return l==null?wa.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,i,r,n=null){const s=this.gridOptionsService.getGridCommonParams();Lo(s,r);const o=e,a=o&&o[i.propertyName+"Params"];if(typeof a=="function"){const l=a(r);Lo(s,l)}else typeof a=="object"&&Lo(s,a);return Lo(s,n),s}initComponent(e,i){if(this.context.createBean(e),e.init!=null)return e.init(i)}getDefaultFloatingFilterType(e,i){if(e==null)return null;let r=null,{compName:n,jsComp:s,fwComp:o}=this.getCompKeys(e,QN);return n?r=ree.getFloatingFilterType(n):s==null&&o==null&&e.filter===!0&&(r=i()),r}};A([W("gridOptions")],qp.prototype,"gridOptions",2);A([W("agComponentUtils")],qp.prototype,"agComponentUtils",2);A([W("componentMetadataProvider")],qp.prototype,"componentMetadataProvider",2);A([W("userComponentRegistry")],qp.prototype,"userComponentRegistry",2);A([ai("frameworkComponentWrapper")],qp.prototype,"frameworkComponentWrapper",2);qp=A([je("userComponentFactory")],qp);var UP=class{};UP.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0};UP.ALL_PROPERTIES=Object.keys(UP.ColDefPropertyMap);var h0e=UP,nee=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,i=!1){const r=i||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!r,this.tickDown=e.clientY>n.bottom-s&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const i=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(i-e),this.tickDown&&this.setVerticalPosition(i+e)}if(this.scrollHorizontally){const i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-e),this.tickRight&&this.setHorizontalPosition(i+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Xo=class extends Ie{constructor(e){super(),this.isMultiRowDrag=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const e=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new nee({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>e.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Dt.ICON_NOT_ALLOWED:Dt.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const i=this.gridOptionsService.get("rowDragMultiRow"),r=[...this.selectionService.getSelectedNodes()].sort((s,o)=>s.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(o)),n=e.dragItem.rowNode;return i&&r.indexOf(n)!==-1?(this.isMultiRowDrag=!0,r):(this.isMultiRowDrag=!1,[n])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(L.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(i=>{i.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:i}=e.dragSource;return i===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return!r.contains(n)}onEnterOrDragging(e){this.dispatchGridEvent(L.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const i=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)}doManagedDrag(e,i){const r=this.isFromThisGrid(e),n=this.gridOptionsService.get("rowDragManaged"),s=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],i):this.moveRows(s,i))}getRowIndexNumber(e){return parseInt(Xt(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const i=this.clientSideRowModel.getLastHighlightedRowNode(),r=i&&i.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes;let o=r?1:0;if(this.isFromThisGrid(e))s.forEach(a=>{a.rowTop<n&&(o-=1)}),this.moveRows(s,n,o);else{const a=this.gridOptionsService.getCallback("getRowId");let l=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&l--,this.clientSideRowModel.updateRowData({add:s.map(u=>u.data).filter(u=>!this.clientSideRowModel.getRowNode(a?a({data:u,level:0}):u.id)),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,i,r=0){this.clientSideRowModel.ensureRowsAtPixel(e,i,r)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ut("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let i={getContainer:e.getContainer};e.fromGrid?i=e:(e.onDragEnter&&(i.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_ENTER,r))}),e.onDragLeave&&(i.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_LEAVE,r))}),e.onDragging&&(i.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_MOVE,r))}),e.onDragStop&&(i.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_END,r))})),this.dragAndDropService.addDropTarget(tt({isInterestedIn:r=>r===2,getIconName:()=>Dt.ICON_MOVE,external:!0},i))}getRowDropZone(e){const i=this.getContainer.bind(this),r=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),o=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?a=>{r(a),e.onDragEnter(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_ENTER,a))}:r,onDragLeave:e.onDragLeave?a=>{n(a),e.onDragLeave(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_LEAVE,a))}:n,onDragging:e.onDragging?a=>{s(a),e.onDragging(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_MOVE,a))}:s,onDragStop:e.onDragStop?a=>{o(a),e.onDragStop(this.draggingToRowDragEvent(L.EVENT_ROW_DRAG_END,a))}:o,fromGrid:!0}:{getContainer:i,onDragEnter:r,onDragLeave:n,onDragging:s,onDragStop:o,fromGrid:!0}}draggingToRowDragEvent(e,i){const r=this.mouseEventService.getNormalisedPosition(i).y,n=r>this.paginationProxy.getCurrentPageHeight();let s=-1,o;n||(s=this.rowModel.getRowIndexAtPixel(r),o=this.rowModel.getRow(s));let a;switch(i.vDirection){case 1:a="down";break;case 0:a="up";break;default:a=null;break}return this.gridOptionsService.addGridCommonParams({type:e,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:s,overNode:o,y:r,vDirection:a})}dispatchGridEvent(e,i){const r=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent(L.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(L.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(i=>{i.setDragging(!1)})}};A([W("dragAndDropService")],Xo.prototype,"dragAndDropService",2);A([W("rowModel")],Xo.prototype,"rowModel",2);A([W("paginationProxy")],Xo.prototype,"paginationProxy",2);A([W("columnModel")],Xo.prototype,"columnModel",2);A([W("focusService")],Xo.prototype,"focusService",2);A([W("sortController")],Xo.prototype,"sortController",2);A([W("filterManager")],Xo.prototype,"filterManager",2);A([W("selectionService")],Xo.prototype,"selectionService",2);A([W("mouseEventService")],Xo.prototype,"mouseEventService",2);A([W("ctrlsService")],Xo.prototype,"ctrlsService",2);A([ai("rangeService")],Xo.prototype,"rangeService",2);A([_e],Xo.prototype,"postConstruct",1);var zP=class extends Ie{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const i=e.dragSource.eElement,r=e.mouseDownListener;if(i.removeEventListener("mousedown",r),e.touchEnabled){const n=e.touchStartListener;i.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const i=this.dragSources.find(r=>r.dragSource===e);i&&(this.removeListener(i),Us(this.dragSources,i))}isDragging(){return this.dragging}addDragSource(e){const i=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:n,stopPropagationForTouch:s}=e;r.addEventListener("mousedown",i);let o=null;const a=this.gridOptionsService.get("suppressTouch");n&&!a&&(o=l=>{DH(l.target)||(l.cancelable&&(l.preventDefault(),s&&l.stopPropagation()),this.onTouchStart(e,l))},r.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:o,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,i){this.currentDragParams=e,this.dragging=!1;const r=i.touches[0];this.touchLastTime=r,this.touchStart=r;const n=u=>this.onTouchMove(u,e.eElement),s=u=>this.onTouchUp(u,e.eElement),o=u=>{u.cancelable&&u.preventDefault()},a=i.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:o,options:{passive:!1}},{target:a,type:"touchmove",listener:n,options:{passive:!0}},{target:a,type:"touchend",listener:s,options:{passive:!0}},{target:a,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,i){const r=i;if(e.skipMouseEvent&&e.skipMouseEvent(i)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,i.button!==0))return;this.shouldPreventMouseEvent(i)&&i.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i,this.startTarget=i.target;const n=u=>this.onMouseMove(u,e.eElement),s=u=>this.onMouseUp(u,e.eElement),o=u=>u.preventDefault(),a=this.gridOptionsService.getRootNode(),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:s},{target:a,type:"contextmenu",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(i,e.eElement)}addTemporaryEvents(e){e.forEach(i=>{const{target:r,type:n,listener:s,options:o}=i;r.addEventListener(n,s,o)}),this.dragEndFunctions.push(()=>{e.forEach(i=>{const{target:r,type:n,listener:s,options:o}=i;r.removeEventListener(n,s,o)})})}isEventNearStartEvent(e,i){const{dragStartPixels:r}=this.currentDragParams,n=De(r)?r:4;return _H(e,i,n)}getFirstActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}onCommonMove(e,i,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,i))return;this.dragging=!0;const n={type:L.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(e)}onTouchMove(e,i){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,i)}onMouseMove(e,i){var r;wc()&&((r=this.gridOptionsService.getDocument().getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)}shouldPreventMouseEvent(e){const i=this.gridOptionsService.get("enableCellTextSelection"),r=e.type==="mousemove";return i&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const i=e.target,r=i==null?void 0:i.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,i){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,i)}onMouseUp(e,i){this.onUpCommon(e,i)}onUpCommon(e,i){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const r={type:L.EVENT_DRAG_STOPPED,target:i};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(r=>r()),this.dragEndFunctions.length=0}};A([W("mouseEventService")],zP.prototype,"mouseEventService",2);A([Ka],zP.prototype,"removeAllListeners",1);zP=A([je("dragService")],zP);var gL="ag-list-item-hovered",see=class extends Ie{constructor(e,i,r){super(),this.comp=e,this.virtualList=i,this.params=r,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const e={isInterestedIn:i=>i===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Dt.ICON_PINNED:Dt.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:i=>this.onDragging(i),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new nee({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:i=>e.scrollTop=i})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const i=this.getListDragItem(e),r=this.virtualList.getComponentAt(i.rowIndex);if(!r)return;const n=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===i.rowIndex&&this.lastHoveredListItem.position===i.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=i,KN(n,gL),KN(n,`ag-item-highlight-${i.position}`))}getListDragItem(e){const i=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(i).paddingTop),n=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),o=Math.max(0,(e.y-r+s)/n),a=this.params.getNumRows(this.comp)-1,l=Math.min(a,o)|0;return{rowIndex:l,position:Math.round(o)>o||o>a?"bottom":"top",component:this.virtualList.getComponentAt(l)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${gL}`).forEach(i=>{[gL,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(r=>{i.classList.remove(r)})}),this.lastHoveredListItem=null}};A([W("dragAndDropService")],see.prototype,"dragAndDropService",2);A([_e],see.prototype,"postConstruct",1);function lp(t){const e=t;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():t}var _t=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,i){this.detailGridInfoMap[e]=i}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let i=0;Oo(this.detailGridInfoMap,(r,n)=>{De(n)&&(e(n,i),i++)})}getDataAsCsv(e){if(Gi.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Gi.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,i){return Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===1?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){Gi.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,i){if(!e)return;const r=this.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${e}`;i===null?r.removeAttribute(n):r.setAttribute(n,i)}logMissingRowModel(e,...i){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`)}logDeprecation(e,i,r,n){ut(`Since ${e} api.${i} is deprecated. Please use ${r} instead. ${n}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(e={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(e))}flashCells(e={}){const i=r=>ut(`Since v31.1 api.flashCells parameter '${r}Delay' is deprecated. Please use '${r}Duration' instead.`);De(e.fadeDelay)&&i("fade"),De(e.flashDelay)&&i("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(e))}redrawRows(e={}){const i=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(i))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return ut("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,i,r){this.expansionService.setRowNodeExpanded(e,i,r)}onGroupExpandedOrCollapsed(){if(gt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,i,r){this.rowRenderer.addRenderedRowListener(e,i,r)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Gi.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){Gi.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(a=>a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:r,source:n,newValue:s}=e,o=r;this.selectionService.setNodesSelected({nodes:o,source:n??"api",newValue:s})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return gt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){if(gt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(gt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,i="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,i),"ensureVisible")}ensureIndexVisible(e,i){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,i),"ensureVisible")}ensureNodeVisible(e,i=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,i),"ensureVisible")}forEachLeafNode(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,i){this.rowModel.forEachNode(e,i)}forEachNodeAfterFilter(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(gt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,i){return ut("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,i)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){const i=this.columnModel.getPrimaryColumn(e);if(i)return this.filterManager.destroyFilter(i,"api")}getStatusPanel(e){if(!Gi.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;const i=this.statusBarService.getStatusPanel(e);return lp(i)}getColumnDef(e){const i=this.columnModel.getPrimaryColumn(e);return i?i.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(e))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,i){return this.filterManager.setColumnFilterModel(e,i)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,i,r){this.focusService.setFocusedCell({rowIndex:e,column:i,rowPinned:r,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const i=this.dragAndDropService.findExternalZone(e);i&&this.dragAndDropService.removeDropTarget(i)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return Gi.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const i=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return lp(i)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(De(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setRowCount(e,i){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,i);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,i);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,i){let r=this.columnModel.getPrimaryColumn(e);return gt(r)&&(r=this.columnModel.getGridColumn(e)),gt(r)?null:this.valueService.getValue(r,i)}addEventListener(e,i){this.apiEventService.addEventListener(e,i)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,i){this.apiEventService.removeEventListener(e,i)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){const e=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const i={type:L.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(i),this.destroyCalled=!0;const r=this.ctrlsService.getGridCtrl();r&&r.destroyGridUi(),this.context.destroy(),iZ(this,["isDestroyed"],e)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Gi.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}Gi.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Gi.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,i){if(Gi.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>i())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(e){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(e))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(e))}downloadChart(e){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(e))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(e))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(e.chartId))}createRangeChart(e){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(e))}createPivotChart(e){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(e))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(e))}updateChart(e){return this.assertChart("updateChart",()=>this.chartService.updateChart(e))}restoreChart(e,i){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(e,i))}assertClipboard(e,i){Gi.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&i()}copyToClipboard(e){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(e))}cutToClipboard(e){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(e))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(e))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(e))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(e,i){ut("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const r=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:r,buttonElement:i,positionBy:"button"})}showColumnMenuAfterMouseClick(e,i){ut("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let r=this.columnModel.getGridColumn(e);if(r||(r=this.columnModel.getPrimaryColumn(e)),!r){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:r,mouseEvent:i,positionBy:"mouse"})}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){const i=this.columnModel.getGridColumn(e);if(!i){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}showColumnMenu(e){const i=this.columnModel.getGridColumn(e);if(!i){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:i,positionBy:"auto"})}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(lp)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(lp)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const i=this.columnModel.getGridColumn(e.colKey);if(!i){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const r={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:i};e.rowPinned==null&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);const s=this.navigationService.getCellByPosition(r);s&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),s.startRowOrCellEdit(e.key))}addAggFunc(e,i){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:i})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,i){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,i)}applyServerSideRowData(e){var i,r;const n=(i=e.startRow)!=null?i:0,s=(r=e.route)!=null?r:[];if(n<0){console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,n,s):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(e))}applyTransactionAsync(e,i){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(e,i))}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions())}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,i){this.columnModel.setColumnGroupOpened(e,i,"api")}getColumnGroup(e,i){return this.columnModel.getColumnGroup(e,i)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,i){return this.columnModel.getDisplayNameForColumn(e,i)||""}getDisplayNameForColumnGroup(e,i){return this.columnModel.getDisplayNameForColumnGroup(e,i)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,i){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],i,"api")}setColumnsVisible(e,i){this.columnModel.setColumnsVisible(e,i,"api")}setColumnPinned(e,i){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],i,"api")}setColumnsPinned(e,i){this.columnModel.setColumnsPinned(e,i,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,i){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],i,"api")}moveColumnByIndex(e,i){this.columnModel.moveColumnByIndex(e,i,"api")}moveColumns(e,i){this.columnModel.moveColumns(e,i,"api")}moveRowGroupColumn(e,i){this.columnModel.moveRowGroupColumn(e,i,"api")}setColumnAggFunc(e,i){this.columnModel.setColumnAggFunc(e,i,"api")}setColumnWidth(e,i,r=!0,n="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:i}],!1,r,n)}setColumnWidths(e,i=!0,r="api"){this.columnModel.setColumnWidths(e,!1,i,r)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,i){return this.columnModel.getSecondaryPivotColumn(e,i)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,i){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:i,source:"api"})}autoSizeColumns(e,i){this.columnModel.autoSizeColumns({columns:e,skipHeader:i,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,i){this.updateGridOptions({[e]:i})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e){this.gos.updateGridOptions({options:e,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,i){ut(`set${e.charAt(0).toUpperCase()}${e.slice(1,e.length)} is deprecated. Please use 'api.setGridOption('${e}', newValue)' or 'api.updateGridOptions({ ${e}: newValue })' instead.`),this.setGridOption(e,i)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){ut("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e,i="api"){ut("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:i})}setAutoGroupColumnDef(e,i="api"){ut("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:i})}setDefaultColDef(e,i="api"){ut("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:i})}setColumnTypes(e,i="api"){ut("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:i})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){ut("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};A([ai("csvCreator")],_t.prototype,"csvCreator",2);A([ai("excelCreator")],_t.prototype,"excelCreator",2);A([W("rowRenderer")],_t.prototype,"rowRenderer",2);A([W("navigationService")],_t.prototype,"navigationService",2);A([W("filterManager")],_t.prototype,"filterManager",2);A([W("columnModel")],_t.prototype,"columnModel",2);A([W("selectionService")],_t.prototype,"selectionService",2);A([W("gridOptionsService")],_t.prototype,"gos",2);A([W("valueService")],_t.prototype,"valueService",2);A([W("alignedGridsService")],_t.prototype,"alignedGridsService",2);A([W("eventService")],_t.prototype,"eventService",2);A([W("pinnedRowModel")],_t.prototype,"pinnedRowModel",2);A([W("context")],_t.prototype,"context",2);A([W("rowModel")],_t.prototype,"rowModel",2);A([W("sortController")],_t.prototype,"sortController",2);A([W("paginationProxy")],_t.prototype,"paginationProxy",2);A([W("focusService")],_t.prototype,"focusService",2);A([W("dragAndDropService")],_t.prototype,"dragAndDropService",2);A([ai("rangeService")],_t.prototype,"rangeService",2);A([ai("clipboardService")],_t.prototype,"clipboardService",2);A([ai("aggFuncService")],_t.prototype,"aggFuncService",2);A([W("menuService")],_t.prototype,"menuService",2);A([W("valueCache")],_t.prototype,"valueCache",2);A([W("animationFrameService")],_t.prototype,"animationFrameService",2);A([ai("statusBarService")],_t.prototype,"statusBarService",2);A([ai("chartService")],_t.prototype,"chartService",2);A([ai("undoRedoService")],_t.prototype,"undoRedoService",2);A([ai("rowNodeBlockLoader")],_t.prototype,"rowNodeBlockLoader",2);A([ai("ssrmTransactionManager")],_t.prototype,"serverSideTransactionManager",2);A([W("ctrlsService")],_t.prototype,"ctrlsService",2);A([W("overlayService")],_t.prototype,"overlayService",2);A([ai("sideBarService")],_t.prototype,"sideBarService",2);A([W("stateService")],_t.prototype,"stateService",2);A([W("expansionService")],_t.prototype,"expansionService",2);A([W("apiEventService")],_t.prototype,"apiEventService",2);A([W("frameworkOverrides")],_t.prototype,"frameworkOverrides",2);A([_e],_t.prototype,"init",1);_t=A([je("gridApi")],_t);var No=class extends Ie{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const i=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(i,e):this.quickFilterParts.every(r=>i?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:i}=this;e?this.quickFilterParts=i?i(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return De(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const i=this.parseQuickFilter(e);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:No.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),r=e!==this.parser||i!==this.matcher;this.parser=e,this.matcher=i,r&&(this.setQuickFilterParts(),this.dispatchEvent({type:No.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:No.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,i){return this.columnModel.getAllColumnsForQuickFilter().some(n=>{const s=this.getQuickFilterTextForColumn(n,e);return De(s)&&s.indexOf(i)>=0})}doesRowPassQuickFilterCache(e,i){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(i)>=0}doesRowPassQuickFilterMatcher(e,i){let r;e?(this.checkGenerateQuickFilterAggregateText(i),r=i.quickFilterAggregateText):r=this.getQuickFilterAggregateText(i);const{quickFilterParts:n,matcher:s}=this;return s(n,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,i){let r=this.valueService.getValue(e,i,!0);const n=e.getColDef();if(n.getQuickFilterText){const s=this.gridOptionsService.addGridCommonParams({value:r,node:i,data:i.data,column:e,colDef:n});r=n.getQuickFilterText(s)}return De(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const i=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(n=>{const s=this.getQuickFilterTextForColumn(n,e);De(s)&&i.push(s)}),i.join(No.QUICK_FILTER_SEPARATOR)}};No.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";No.QUICK_FILTER_SEPARATOR=`
`;A([W("valueService")],No.prototype,"valueService",2);A([W("columnModel")],No.prototype,"columnModel",2);A([W("rowModel")],No.prototype,"rowModel",2);A([_e],No.prototype,"postConstruct",1);No=A([je("quickFilterService")],No);var Fl=class extends Ie{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,i,r;this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,L.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.addManagedListener(this.eventService,L.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:n})=>this.onAdvancedFilterEnabledChanged(n)),this.addManagedListener(this.eventService,L.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,No.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=tt({},(r=(i=(e=this.gridOptionsService.get("initialState"))==null?void 0:e.filter)==null?void 0:i.filterModel)!=null?r:{})}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const i=this.gridOptionsService.get("doesExternalFilterPass");return typeof i=="function"?i(e):!1}setFilterModel(e,i="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:i});return}const r=[],n=this.getFilterModel();if(e){const s=NH(Object.keys(e));this.allColumnFilters.forEach((o,a)=>{const l=e[a];r.push(this.setModelOnFilterWrapper(o.filterPromise,l)),s.delete(a)}),s.forEach(o=>{const a=this.columnModel.getPrimaryColumn(o)||this.columnModel.getGridColumn(o);if(!a){console.warn("AG Grid: setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a,"NO_UI");if(!l){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}r.push(this.setModelOnFilterWrapper(l.filterPromise,e[o]))})}else this.allColumnFilters.forEach(s=>{r.push(this.setModelOnFilterWrapper(s.filterPromise,null))});wa.all(r).then(()=>{const s=this.getFilterModel(),o=[];this.allColumnFilters.forEach((a,l)=>{const u=n?n[l]:null,c=s?s[l]:null;Kp.jsonEquals(u,c)||o.push(a.column)}),o.length>0&&this.onFilterChanged({columns:o,source:i})})}setModelOnFilterWrapper(e,i){return new wa(r=>{e.then(n=>{typeof n.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(n.setModel(i)||wa.resolve()).then(()=>r())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((i,r)=>{const n=this.getModelFromFilterWrapper(i);De(n)&&(e[r]=n)}),e}getModelFromFilterWrapper(e){var i;const n=e.filterPromise.resolveNow(null,s=>s);return n==null?(i=this.initialFilterModel[e.column.getColId()])!=null?i:null:typeof n.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):n.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var i;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(r=>this.disposeFilterWrapper(r,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(i=this.advancedFilterService)!=null&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,i){return this.doColumnFiltersPass(e,i,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=n=>n?n.isFilterActive?n.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,i=!!this.gridOptionsService.getGroupAggFiltering(),r=n=>{if(!n.isPrimary())return!0;const o=!this.columnModel.isPivotActive();return!n.isValueActive()||!o?!1:this.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(n=>{if(n.filterPromise.resolveNow(!1,e)){const s=n.filterPromise.resolveNow(null,o=>o);r(n.column)?this.activeAggregateFilters.push(s):this.activeColumnFilters.push(s)}})}updateFilterFlagInColumns(e,i){this.allColumnFilters.forEach(r=>{const n=r.filterPromise.resolveNow(!1,s=>s.isFilterActive());r.column.setFilterActive(n,e,i)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,i,r){const{data:n,aggData:s}=e,o=r?this.activeAggregateFilters:this.activeColumnFilters,a=r?s:n;for(let l=0;l<o.length;l++){const u=o[l];if(!(u==null||u===i)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:a}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const i=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()}onFilterChanged(e={}){const{source:i,filterInstance:r,additionalEventAttributes:n,columns:s}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(a=>{a.filterPromise&&a.filterPromise.then(l=>{l&&l!==r&&l.onAnyFilterChanged&&l.onAnyFilterChanged()})});const o={source:i,type:L.EVENT_FILTER_CHANGED,columns:s||[]};n&&Lo(o,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!((e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!=null?e:!1)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(i=>{i.filterPromise.then(r=>{r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:i})=>this.valueService.getValue(e,i,!0)}createGetValue(e){return(i,r)=>{const n=r?this.columnModel.getGridColumn(r):e;return n?this.valueService.getValue(n,i,!0):void 0}}getFilterComponent(e,i,r=!0){var n;if(r)return((n=this.getOrCreateFilterWrapper(e,i))==null?void 0:n.filterPromise)||null;const s=this.cachedFilter(e);return s?s.filterPromise:null}isFilterActive(e){const i=this.cachedFilter(e);return!!i&&i.filterPromise.resolveNow(!1,r=>r.isFilterActive())}getOrCreateFilterWrapper(e,i){if(!e.isFilterAllowed())return null;let r=this.cachedFilter(e);return r?i!=="NO_UI"&&this.putIntoGui(r,i):(r=this.createFilterWrapper(e,i),this.setColumnFilterWrapper(e,r)),r}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let i;if(Gi.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))i="agSetColumnFilter";else{const r=this.dataTypeService.getBaseDataType(e);r==="number"?i="agNumberColumnFilter":r==="date"||r==="dateString"?i="agDateColumnFilter":i="agTextColumnFilter"}return i}getDefaultFloatingFilter(e){let i;if(Gi.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))i="agSetColumnFloatingFilter";else{const r=this.dataTypeService.getBaseDataType(e);r==="number"?i="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?i="agDateColumnFloatingFilter":i="agTextColumnFloatingFilter"}return i}createFilterInstance(e){const i=this.getDefaultFilter(e),r=e.getColDef();let n;const s=Wi(tt({},this.createFilterParams(e,r)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(n,e)(a),doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(n,a)}),o=this.userComponentFactory.getFilterDetails(r,s,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a&&a.then(l=>n=l),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,i){return this.gridOptionsService.addGridCommonParams({column:e,colDef:sH(i),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,i){var r;const n={column:e,filterPromise:null,compiledElement:null,guiPromise:wa.resolve(null),compDetails:null},{filterPromise:s,compDetails:o}=this.createFilterInstance(e);return n.filterPromise=(r=s==null?void 0:s())!=null?r:null,n.compDetails=o,s&&this.putIntoGui(n,i),n}putIntoGui(e,i){const r=document.createElement("div");r.className="ag-filter",e.guiPromise=new wa(n=>{e.filterPromise.then(s=>{let o=s.getGui();De(o)||console.warn(`AG Grid: getGui method from filter returned ${o}, it should be a DOM element or an HTML template string.`),typeof o=="string"&&(o=Ys(o)),r.appendChild(o),n(r);const a={type:L.EVENT_FILTER_OPENED,column:e.column,source:i,eGui:r};this.eventService.dispatchEvent(a)})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((i,r)=>{let n;i.column.isPrimary()?n=this.columnModel.getPrimaryColumn(r):n=this.columnModel.getGridColumn(r),!n&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(r))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(i=>{i.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(i,"NO_UI")})}isFilterAllowed(e){var i,r;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const s=this.allColumnFilters.get(e.getColId());return(r=(i=s==null?void 0:s.filterPromise)==null?void 0:i.resolveNow(!0,o=>typeof(o==null?void 0:o.isFilterAllowed)=="function"?o==null?void 0:o.isFilterAllowed():!0))!=null?r:!0}getFloatingFilterCompDetails(e,i){const r=u=>{const c=this.getFilterComponent(e,"NO_UI");c!=null&&c.then(d=>{u(lp(d))})},n=e.getColDef(),s=Wi(tt({},this.createFilterParams(e,n)),{filterChangedCallback:()=>r(u=>this.filterChangedCallbackFactory(u,e)())}),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,QN,s);let a=this.userComponentFactory.getDefaultFloatingFilterType(n,()=>this.getDefaultFloatingFilter(e));a==null&&(a="agReadOnlyFloatingFilter");const l={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:i,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,l,a)}getCurrentFloatingFilterParentModel(e){const i=this.getFilterComponent(e,"NO_UI",!1);return i?i.resolveNow(null,r=>r&&r.getModel()):null}destroyFilter(e,i="api"){const r=e.getColId(),n=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],n&&(this.disposeFilterWrapper(n,i),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const i=this.allColumnListeners.get(e);i&&(this.allColumnListeners.delete(e),i())}disposeFilterWrapper(e,i){e.filterPromise.then(r=>{this.getContext().destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const n={type:L.EVENT_FILTER_DESTROYED,source:i,column:e.column};this.eventService.dispatchEvent(n)})}filterModifiedCallbackFactory(e,i){return()=>{const r={type:L.EVENT_FILTER_MODIFIED,column:i,filterInstance:e};this.eventService.dispatchEvent(r)}}filterChangedCallbackFactory(e,i){return r=>{var n;const s=(n=r==null?void 0:r.source)!=null?n:"api",o={filter:e,additionalEventAttributes:r,columns:[i],source:s};this.callOnFilterChangedOutsideRenderCycle(o)}}checkDestroyFilter(e){const i=this.allColumnFilters.get(e);if(!i)return;const r=i.column,{compDetails:n}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(i.compDetails,n)){this.destroyFilter(r,"paramsUpdated");return}const s=r.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(r,"paramsUpdated");return}i.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh(tt(Wi(tt({},this.createFilterParams(r,r.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(o,r),filterChangedCallback:this.filterChangedCallbackFactory(o,r),doesRowPassOtherFilter:l=>this.doesRowPassOtherFilters(o,l)}),s)):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,i){const r=e.getColId();this.allColumnFilters.set(r,i),this.allColumnListeners.set(r,this.addManagedListener(e,Ci.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(r)))}areFilterCompsDifferent(e,i){if(!i||!e)return!0;const{componentClass:r}=e,{componentClass:n}=i;return!(r===n||(r==null?void 0:r.render)&&(n==null?void 0:n.render)&&r.render===n.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:this.columnModel.getAllGridColumns().some(i=>i.getColDef().floatingFilter)}getFilterInstance(e,i){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const r=this.getFilterInstanceImpl(e,s=>{if(!i)return;const o=lp(s);i(o)});return lp(r)}getColumnFilterInstance(e){return new Promise(i=>{this.getFilterInstance(e,r=>{i(r)})})}getFilterInstanceImpl(e,i){const r=this.columnModel.getPrimaryColumn(e);if(!r)return;const n=this.getFilterComponent(r,"NO_UI"),s=n&&n.resolveNow(null,o=>o);return s?setTimeout(i,0,s):n&&n.then(o=>{i(o)}),s}warnAdvancedFilters(){ut("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var i;(i=this.advancedFilterService)==null||i.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:i})=>this.setFilterModel(e,i)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:i,resolve:r})=>{this.setColumnFilterModel(e,i).then(()=>r())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){const i=this.getFilterWrapper(e);return i?this.getModelFromFilterWrapper(i):null}setColumnFilterModel(e,i){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:e,model:i,resolve:o}),a}const r=this.columnModel.getPrimaryColumn(e),n=r?this.getOrCreateFilterWrapper(r,"NO_UI"):null;return n?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(n.filterPromise,i)):Promise.resolve()}getFilterWrapper(e){var i;const r=this.columnModel.getPrimaryColumn(e);return r&&(i=this.cachedFilter(r))!=null?i:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};A([W("valueService")],Fl.prototype,"valueService",2);A([W("columnModel")],Fl.prototype,"columnModel",2);A([W("rowModel")],Fl.prototype,"rowModel",2);A([W("userComponentFactory")],Fl.prototype,"userComponentFactory",2);A([W("rowRenderer")],Fl.prototype,"rowRenderer",2);A([W("dataTypeService")],Fl.prototype,"dataTypeService",2);A([W("quickFilterService")],Fl.prototype,"quickFilterService",2);A([ai("advancedFilterService")],Fl.prototype,"advancedFilterService",2);A([_e],Fl.prototype,"init",1);Fl=A([je("filterManager")],Fl);var YH=class extends wt{constructor(e,i){super(e),this.ctrl=i}getCtrl(){return this.ctrl}},Of=class oee extends YH{constructor(e){super(oee.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i={addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),addOrRemoveBodyCssClass:(r,n)=>this.eFloatingFilterBody.classList.toggle(r,n),setButtonWrapperDisplayed:r=>kt(this.eButtonWrapper,r),setCompDetails:r=>this.setCompDetails(r),getFloatingFilterComp:()=>this.compPromise,setWidth:r=>e.style.width=r,setMenuIcon:r=>this.eButtonShowMainFilter.appendChild(r)};this.ctrl.setComp(i,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};Of.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;A([Ge("eFloatingFilterBody")],Of.prototype,"eFloatingFilterBody",2);A([Ge("eButtonWrapper")],Of.prototype,"eButtonWrapper",2);A([Ge("eButtonShowMainFilter")],Of.prototype,"eButtonShowMainFilter",2);A([_e],Of.prototype,"postConstruct",1);A([Ka],Of.prototype,"destroyFloatingFilterComp",1);var p0e=Of,nO=class extends Ie{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),i={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=i.autoHeight?"ag-layout-auto-height":i.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,i)}getDomLayout(){var e;const i=(e=this.gridOptionsService.get("domLayout"))!=null?e:"normal";return["normal","print","autoHeight"].indexOf(i)===-1?(ut(`${i} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):i}};A([_e],nO.prototype,"postConstruct",1);var Wc=class extends Ie{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=vs(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=vs(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),i=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const r=this.gridOptionsService.get("debounceVerticalScrollbar"),n=r?vs(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=r?vs(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",n),i.onScrollCallback(s)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowContainerCtrl==null)return;e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const r=this.enableRtl?e:-e,n=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),o=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-r),o.setContainerTranslateX(r),n.setContainerTranslateX(r),s.setContainerTranslateX(r);const u=this.centerRowContainerCtrl.getViewportElement(),c=this.lastScrollSource[1]===0;e=Math.abs(e),c?a.setScrollPosition(e):ow(u,e,this.enableRtl)}isControllingScroll(e,i){return this.lastScrollSource[i]==null?(this.lastScrollSource[i]=e,!0):this.lastScrollSource[i]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const i=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:r}=i;if(this.shouldBlockScrollUpdate(1,r,!0))return;let n;e===0?n=sw(i,this.enableRtl):n=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let i;e===0?i=this.eBodyViewport.scrollTop:i=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,i,!0)&&(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,e===0?this.ctrlsService.getFakeVScrollComp().setScrollPosition(i):this.eBodyViewport.scrollTop=i,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const i=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const i={type:L.EVENT_BODY_SCROLL,direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const r=Wi(tt({},i),{type:L.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(r)},100)}shouldBlockScrollUpdate(e,i,r=!1){return r&&!Hc()?!1:e===0?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i)}shouldBlockVerticalScroll(e){const i=ub(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+i>r}shouldBlockHorizontalScroll(e){const i=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&nw()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+i>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,i=!1){const n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!i&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&nw()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),ow(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const i=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-i}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,i=null){const r=this.rowModel.getRowCount();let n=-1;for(let s=0;s<r;s++){const o=this.rowModel.getRow(s);if(typeof e=="function"){if(o&&e(o)){n=s;break}}else if(e===o||e===o.data){n=s;break}}n>=0&&this.ensureIndexVisible(n,i)}ensureIndexVisible(e,i){if(this.gridOptionsService.isDomLayout("print"))return;const r=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=r){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}const s=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{s||this.paginationProxy.goToPageWithIndex(e);const a=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),l=this.paginationProxy.getRow(e);let u;do{const c=l.rowTop,d=l.rowHeight,h=this.paginationProxy.getPixelOffset(),f=l.rowTop-h,g=f+l.rowHeight,m=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),S=m.top+C,y=m.bottom+C,w=y-S,E=this.heightScaler.getScrollPositionForPixel(f),b=this.heightScaler.getScrollPositionForPixel(g-w),D=Math.min((E+b)/2,f),P=S+a>f,O=y<g;let N=null;i==="top"?N=E:i==="bottom"?N=b:i==="middle"?N=D:P?N=E-a:O&&(N=b),N!==null&&(this.setVerticalScrollPosition(N),this.rowRenderer.redraw({afterScroll:!0})),u=c!==l.rowTop||d!==l.rowHeight}while(u);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,i="auto"){const r=this.columnModel.getGridColumn(e);if(!r||r.isPinned()||!this.columnModel.isColumnDisplayed(r))return;const n=this.getPositionedHorizontalScroll(r,i);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,i){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,i){const{columnBeforeStart:r,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl;let l=(a?r:n)||s,u=a?n:r;i!=="auto"&&(l=i==="start",u=i==="end");const c=i==="middle";if(l||u||c){const{colLeft:d,colMiddle:h,colRight:f}=this.getColumnBounds(e);return c?h-o/2:l?a?f:d:a?d-o:f-o}return null}isColumnOutsideViewport(e){const{start:i,end:r}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),o=this.enableRtl,a=o?i>s:r<s,l=o?r<n:i>n;return{columnBeforeStart:a,columnAfterEnd:l}}getColumnBounds(e){const i=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),n=e.getActualWidth(),s=e.getLeft(),o=i?-1:1,a=i?r-s:s,l=a+n*o,u=a+n/2*o;return{colLeft:a,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),r=i,n=e+i;return{start:r,end:n,width:e}}};A([W("ctrlsService")],Wc.prototype,"ctrlsService",2);A([W("animationFrameService")],Wc.prototype,"animationFrameService",2);A([W("paginationProxy")],Wc.prototype,"paginationProxy",2);A([W("rowModel")],Wc.prototype,"rowModel",2);A([W("rowContainerHeightService")],Wc.prototype,"heightScaler",2);A([W("rowRenderer")],Wc.prototype,"rowRenderer",2);A([W("columnModel")],Wc.prototype,"columnModel",2);A([_e],Wc.prototype,"postConstruct",1);var aee="ag-force-vertical-scroll",f0e="ag-selectable",g0e="ag-column-moving",xs=class extends Ie{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,i,r,n,s,o){this.comp=e,this.eGridBody=i,this.eBodyViewport=r,this.eTop=n,this.eBottom=s,this.eStickyTop=o,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new nO(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Wc(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,r,s,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(n),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(i=>{this.addManagedListener(i,"focusin",r=>{const{target:n}=r,s=Sp(n,"ag-root",i);i.classList.toggle("ag-has-focus",!s)}),this.addManagedListener(i,"focusout",r=>{const{target:n,relatedTarget:s}=r,o=i.contains(s),a=Sp(s,"ag-root",i);Sp(n,"ag-root",i)||(!o||a)&&i.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(g0e,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(f0e,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const i=e&&this.gridOptionsService.getScrollbarWidth()||0,r=bH()?16:0,n=`calc(100% + ${i+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const n=r.relatedTarget;if(HP(n)===null){this.rowRenderer.stopEditing();return}let s=i.some(o=>o.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!s){const o=this.popupService;s=o.getActivePopups().some(a=>a.contains(n))||o.isElementWithinCustomPopup(n)}s||this.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(r=>this.addManagedListener(r,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=i===-1?-1:e+i;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const i=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(i)}isVerticalScrollShowing(){const e=this.gridOptionsService.get("alwaysShowVerticalScroll"),i=e?aee:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(i,e),e||r&&rJ(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const i=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),r=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,i)};e(),this.addManagedListener(this.eventService,L.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&i&&this.addManagedListener(e,"wheel",r=>this.onFullWidthContainerWheel(r,i))}onFullWidthContainerWheel(e,i){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),i.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,i,r){if(!e&&!r)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:n}=e||i;(n===this.eBodyViewport||n===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Hc())return;const i=new mn(this.eBodyViewport),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListener(i,mn.EVENT_LONG_TAP,r),this.addDestroyFunc(()=>i.destroy())}onBodyViewportWheel(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Xo(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let i=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(i),this.comp.setBottomHeight(r),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(!e)this.comp.setStickyTopWidth("100%");else{const i=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${i}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const i=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;i>0&&(n+=i+1),r>0&&(n+=r+1),this.comp.setStickyTopTop(`${n}px`)}sizeColumnsToFit(e,i){const n=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,o=Df(this.eGridBody)-n;if(o>0){this.columnModel.sizeColumnsToFit(o,"sizeColumnsToFit",!1,e);return}i===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):i===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):i===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};A([W("animationFrameService")],xs.prototype,"animationFrameService",2);A([W("rowContainerHeightService")],xs.prototype,"rowContainerHeightService",2);A([W("ctrlsService")],xs.prototype,"ctrlsService",2);A([W("columnModel")],xs.prototype,"columnModel",2);A([W("scrollVisibleService")],xs.prototype,"scrollVisibleService",2);A([W("menuService")],xs.prototype,"menuService",2);A([W("headerNavigationService")],xs.prototype,"headerNavigationService",2);A([W("dragAndDropService")],xs.prototype,"dragAndDropService",2);A([W("pinnedRowModel")],xs.prototype,"pinnedRowModel",2);A([W("rowRenderer")],xs.prototype,"rowRenderer",2);A([W("popupService")],xs.prototype,"popupService",2);A([W("mouseEventService")],xs.prototype,"mouseEventService",2);A([W("rowModel")],xs.prototype,"rowModel",2);A([W("filterManager")],xs.prototype,"filterManager",2);var uy="ag-cell-range-selected",m0e="ag-cell-range-chart",v0e="ag-cell-range-single-cell",C0e="ag-cell-range-chart-category",y0e="ag-cell-range-handle",S0e="ag-cell-range-top",w0e="ag-cell-range-right",E0e="ag-cell-range-bottom",b0e="ag-cell-range-left",R0e=class{constructor(e,i){this.beans=e,this.cellCtrl=i}setComp(e,i){this.cellComp=e,this.eGui=i,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(uy,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${uy}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${uy}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${uy}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${uy}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(m0e,this.hasChartRange),Bm(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(v0e,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),i=this.isSingleCell(),r=!i&&e.top,n=!i&&e.right,s=!i&&e.bottom,o=!i&&e.left;this.cellComp.addOrRemoveCssClass(S0e,r),this.cellComp.addOrRemoveCssClass(w0e,n),this.cellComp.addOrRemoveCssClass(E0e,s),this.cellComp.addOrRemoveCssClass(b0e,o)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const i=e.getCellRanges();return i.length>0&&i.every(r=>xa([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.get("enableRtl");let i=!1,r=!1,n=!1,s=!1;const o=this.cellCtrl.getCellPosition().column,{rangeService:a,columnModel:l}=this.beans;let u,c;e?(u=l.getDisplayedColAfter(o),c=l.getDisplayedColBefore(o)):(u=l.getDisplayedColBefore(o),c=l.getDisplayedColAfter(o));const d=a.getCellRanges().filter(h=>a.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));u||(s=!0),c||(r=!0);for(let h=0;h<d.length&&!(i&&r&&n&&s);h++){const f=d[h],g=a.getRangeStartRow(f),m=a.getRangeEndRow(f);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!n&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(n=!0),!s&&u&&f.columns.indexOf(u)<0&&(s=!0),!r&&c&&f.columns.indexOf(c)<0&&(r=!0)}return{top:i,right:r,bottom:n,left:s}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(y0e,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:i}=this.beans,r=i.getCellRanges(),n=r.length;if(this.rangeCount<1||n<1)return!1;const s=Xt(r),o=this.cellCtrl.getCellPosition(),a=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.get("enableRangeHandle");let u=n===1&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){const d=r[0].type===1&&i.isCellInSpecificRange(o,r[0]);this.cellComp.addOrRemoveCssClass(C0e,d),u=s.type===0}return u&&s.endRow!=null&&i.isContiguousRange(s)&&i.isBottomRightCell(s,o)}addSelectionHandle(){const{gridOptionsService:e,rangeService:i}=this.beans,r=Xt(i.getCellRanges()).type,s=e.get("enableFillHandle")&&gt(r)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},T0e=class extends Ie{constructor(e,i){super(),this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,L.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();du(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,i)=>e+i.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),i=[];if(e===1)i.push(this.column);else{let r=this.column;const n=this.column.getPinned();for(let s=0;r&&s<e&&(i.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!(!r||gt(r)||n!==r.getPinned()));s++);}return i}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=Xt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.columnModel.getBodyContainerWidth();return i+r+(e||0)}return i+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},D0e=class extends Ie{constructor(e,i){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:i}=e,r=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,r,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let i;if(typeof e.cellStyle=="function"){const r=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;i=n(r)}else i=e.cellStyle;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const e=this.column.getColDef(),i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,i),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},bt=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};A([W("resizeObserverService")],bt.prototype,"resizeObserverService",2);A([W("paginationProxy")],bt.prototype,"paginationProxy",2);A([W("context")],bt.prototype,"context",2);A([W("columnApi")],bt.prototype,"columnApi",2);A([W("gridApi")],bt.prototype,"gridApi",2);A([W("gridOptionsService")],bt.prototype,"gridOptionsService",2);A([W("expressionService")],bt.prototype,"expressionService",2);A([W("environment")],bt.prototype,"environment",2);A([W("rowRenderer")],bt.prototype,"rowRenderer",2);A([W("templateService")],bt.prototype,"templateService",2);A([W("valueService")],bt.prototype,"valueService",2);A([W("eventService")],bt.prototype,"eventService",2);A([W("columnModel")],bt.prototype,"columnModel",2);A([W("headerNavigationService")],bt.prototype,"headerNavigationService",2);A([W("navigationService")],bt.prototype,"navigationService",2);A([W("columnAnimationService")],bt.prototype,"columnAnimationService",2);A([ai("rangeService")],bt.prototype,"rangeService",2);A([W("focusService")],bt.prototype,"focusService",2);A([W("popupService")],bt.prototype,"popupService",2);A([W("valueFormatterService")],bt.prototype,"valueFormatterService",2);A([W("stylingService")],bt.prototype,"stylingService",2);A([W("columnHoverService")],bt.prototype,"columnHoverService",2);A([W("userComponentFactory")],bt.prototype,"userComponentFactory",2);A([W("userComponentRegistry")],bt.prototype,"userComponentRegistry",2);A([W("animationFrameService")],bt.prototype,"animationFrameService",2);A([W("dragService")],bt.prototype,"dragService",2);A([W("dragAndDropService")],bt.prototype,"dragAndDropService",2);A([W("sortController")],bt.prototype,"sortController",2);A([W("filterManager")],bt.prototype,"filterManager",2);A([W("rowContainerHeightService")],bt.prototype,"rowContainerHeightService",2);A([W("frameworkOverrides")],bt.prototype,"frameworkOverrides",2);A([W("cellPositionUtils")],bt.prototype,"cellPositionUtils",2);A([W("rowPositionUtils")],bt.prototype,"rowPositionUtils",2);A([W("selectionService")],bt.prototype,"selectionService",2);A([ai("selectionHandleFactory")],bt.prototype,"selectionHandleFactory",2);A([W("rowCssClassCalculator")],bt.prototype,"rowCssClassCalculator",2);A([W("rowModel")],bt.prototype,"rowModel",2);A([W("ctrlsService")],bt.prototype,"ctrlsService",2);A([W("ctrlsFactory")],bt.prototype,"ctrlsFactory",2);A([W("agStackComponentsRegistry")],bt.prototype,"agStackComponentsRegistry",2);A([W("valueCache")],bt.prototype,"valueCache",2);A([W("rowNodeEventThrottle")],bt.prototype,"rowNodeEventThrottle",2);A([W("localeService")],bt.prototype,"localeService",2);A([W("valueParserService")],bt.prototype,"valueParserService",2);A([W("syncService")],bt.prototype,"syncService",2);A([W("ariaAnnouncementService")],bt.prototype,"ariaAnnouncementService",2);A([_e],bt.prototype,"postConstruct",1);bt=A([je("beans")],bt);var P0e=class extends bt{constructor(e,i,r){super(),this.cellCtrl=e,this.beans=i,this.column=r}onMouseEvent(e,i){if(!Tl(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:i,rangeService:r,gridOptionsService:n}=this.beans,s=e.ctrlKey||e.metaKey;r&&s&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,L.EVENT_CELL_CLICKED);i.dispatchEvent(o);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o)})},0),(n.get("singleClickEdit")||a.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Hc()||dH("dblclick"))return!1;const e=new Date().getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i}onCellDoubleClicked(e){const i=this.column.getColDef(),r=this.cellCtrl.createEvent(e,L.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellDoubleClicked(r)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:i,metaKey:r,shiftKey:n}=e,s=e.target,{cellCtrl:o,beans:a}=this,{eventService:l,rangeService:u,focusService:c}=a;if(this.isRightClickInExistingRange(e))return;const d=u&&u.getCellRanges().length!=0;if(!n||!d){const h=wc()&&!o.isEditing()&&!DH(s);o.focusCell(h)}if(n&&d&&!c.isCellFocused(o.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:f,rowIndex:g,rowPinned:m}=h,C=a.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:m}),S=C==null?void 0:C.getCellCtrl(f);S!=null&&S.isEditing()&&S.stopEditing(),c.setFocusedCell({column:f,rowIndex:g,rowPinned:m,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(u){const h=this.cellCtrl.getCellPosition();if(n)u.extendLatestRangeToCell(h);else{const f=i||r;u.setRangeToCell(h,f)}}l.dispatchEvent(this.cellCtrl.createEvent(e,L.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:i}=this.beans;if(i){const r=i.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(r&&n)return!0}return!1}containsWidget(e){return Sp(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const i=this.cellCtrl.createEvent(e,L.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const i=this.cellCtrl.createEvent(e,L.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const i=this.cellCtrl.getGui(),r=i.contains(e.target),n=i.contains(e.relatedTarget);return r&&n}destroy(){}},x0e=class extends Ie{constructor(e,i,r,n,s){super(),this.cellCtrl=e,this.beans=i,this.rowNode=n,this.rowCtrl=s}setComp(e){this.eGui=e}onKeyDown(e){const i=e.key;switch(i){case ce.ENTER:this.onEnterKeyDown(e);break;case ce.F2:this.onF2KeyDown(e);break;case ce.ESCAPE:this.onEscapeKeyDown(e);break;case ce.TAB:this.onTabKeyDown(e);break;case ce.BACKSPACE:case ce.DELETE:this.onBackspaceOrDeleteKeyDown(i,e);break;case ce.DOWN:case ce.UP:case ce.RIGHT:case ce.LEFT:this.onNavigationKeyDown(e,i);break}}onNavigationKeyDown(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,i){const{cellCtrl:r,beans:n,rowNode:s}=this,{gridOptionsService:o,rangeService:a,eventService:l}=n;r.isEditing()||(l.dispatchEvent({type:L.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),pJ(e,o.get("enableCellEditingOnBackspace"))?a&&o.get("enableRangeSelection")?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):r.isCellEditable()&&s.setDataValue(r.getColumn(),null,"cellClear"):r.startRowOrCellEdit(e,i),l.dispatchEvent({type:L.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){const i=e.shiftKey?ce.UP:ce.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ce.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ce.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(n,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:i}=this.beans;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){const r=this.rowNode.isSelected(),n=!r;if(n||!i.get("suppressRowDeselection")){const s=this.beans.gridOptionsService.get("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});r===void 0&&o===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},lee=class extends wt{constructor(e,i,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=i,this.eCell=r}postConstruct(){this.getGui().appendChild(tr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",i=>{i.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(i){const n=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});i(n)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};A([_e],lee.prototype,"postConstruct",1);var A0e="ag-column-first",O0e="ag-column-last",sO=class{static getHeaderClassesFromColDef(e,i,r,n){return gt(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,i,r,n)}static getToolPanelClassesFromColDef(e,i,r,n){return gt(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,i,r,n)}static refreshFirstAndLastStyles(e,i,r){e.addOrRemoveCssClass(A0e,r.isColumnAtEdge(i,"first")),e.addOrRemoveCssClass(O0e,r.isColumnAtEdge(i,"last"))}static getClassParams(e,i,r,n){return i.addGridCommonParams({colDef:e,column:r,columnGroup:n})}static getColumnClassesFromCollDef(e,i,r,n,s){if(gt(e))return[];let o;if(typeof e=="function"){const a=this.getClassParams(i,r,n,s);o=e(a)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}},M0e="ag-cell",F0e="ag-cell-auto-height",I0e="ag-cell-normal-height",L0e="ag-cell-focus",_0e="ag-cell-first-right-pinned",N0e="ag-cell-last-left-pinned",G0e="ag-cell-not-inline-editing",k0e="ag-column-hover",V0e="ag-cell-wrap-text",H0e=0,uee=class ZN extends Ie{constructor(e,i,r,n){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=i,this.beans=r,this.rowCtrl=n,this.instanceId=e.getId()+"-"+H0e++,this.colIdSanitised=jr(this.column.getId()),r.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new T0e(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellPositionFeature)==null||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new D0e(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellCustomStyleFeature)==null||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new P0e(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;(i=this.cellMouseListenerFeature)==null||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new x0e(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;(i=this.cellKeyboardListenerFeature)==null||i.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new R0e(this.beans,this),this.addDestroyFunc(()=>{var i;(i=this.cellRangeFeature)==null||i.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(e,i){const r=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&De(a))return Cm(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},n=this.beans.gridOptionsService.get("tooltipShowMode")==="whenTruncated";!i&&n&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:e!=null?()=>e:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new $c(s,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,i,r,n,s){var o,a,l,u;this.cellComp=e,this.eGui=i,this.printLayout=n,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(o=this.cellPositionFeature)==null||o.setComp(i),(a=this.cellCustomStyleFeature)==null||a.setComp(e),(l=this.tooltipFeature)==null||l.refreshToolTip(),(u=this.cellKeyboardListenerFeature)==null||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const i=e.parentElement,r=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,n=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:c,borderTopWidth:d}=dh(i),h=l+u+c+d,g=e.offsetHeight+h;if(a<5){const C=this.beans.gridOptionsService.getDocument(),S=!C||!C.contains(e),y=g==0;if(S||y){window.setTimeout(()=>n(a+1),0);return}}const m=Math.max(g,r);this.rowNode.setRowAutoHeight(m,this.column)},s=()=>n(0);s();const o=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var e;return(e=this.column.getColDef().cellAriaRole)!=null?e:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted!=null?this.valueFormatted:this.value}showValue(e=!1){const i=this.getValueToDisplay();let r;if(this.isCellRenderer()){const n=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n)}this.cellComp.setRenderDetails(r,i,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}refreshShouldDestroy(){const e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||r||n}startEditing(e=null,i=!1,r=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,i,r)});return}const n=this.createCellEditorParams(e,i),s=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(s,n);this.editCompDetails=o;const a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,a,l,this.beans.gridOptionsService.get("reactiveCustomComponents"));const u=this.createEvent(r,L.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const i={newValueExists:!1};if(e)return i;const r=this.cellComp.getCellEditor();return!r||r.isCancelAfterEnd&&r.isCancelAfterEnd()?i:{newValue:r.getValue(),newValueExists:!0}}saveNewValue(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;const r=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,r}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:r}=this.takeValueFromCellEditor(e),n=this.rowNode.getValueFromValueService(this.column);let s=!1;return r&&(s=this.saveNewValue(n,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,i,!e&&!!s),s}dispatchEditingStoppedEvent(e,i,r){const n=Wi(tt({},this.createEvent(null,L.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:r});this.beans.eventService.dispatchEvent(n)}createCellEditorParams(e,i){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,r,n,s)=>this.registerRowDragger(i,r,s),setTooltip:(i,r)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,r),this.refreshToolTip()}})}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.refreshCell(this):this.refreshCell(e)}refreshCell(e){var i,r,n;if(this.suppressRefreshCell||this.editing)return;const s=this.column.getColDef(),o=e!=null&&!!e.newData,a=e!=null&&!!e.suppressFlash||!!s.suppressCellFlash,l=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,u=e&&e.forceRefresh||l||o,c=!!this.cellComp,d=this.updateAndFormatValue(c),h=u||d;if(c){if(h){this.showValue(o);const f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),(i=this.cellCustomStyleFeature)==null||i.applyUserStyles(),(r=this.cellCustomStyleFeature)==null||r.applyClassesFromColDef()}this.refreshToolTip(),(n=this.cellCustomStyleFeature)==null||n.applyCellClassRules()}}stopEditingAndFocus(e=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(i)}navigateAfterEdit(e){if(this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")){const r=e?ce.UP:ce.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}}flashCell(e){var i,r;const n=(i=e==null?void 0:e.flashDuration)!=null?i:e==null?void 0:e.flashDelay,s=(r=e==null?void 0:e.fadeDuration)!=null?r:e==null?void 0:e.fadeDelay;this.animateCell("data-changed",n,s)}animateCell(e,i,r){if(!this.cellComp)return;const n=`ag-cell-${e}`,s=`ag-cell-${e}-animation`,{gridOptionsService:o}=this.beans;i||(i=o.get("cellFlashDuration")),De(r)||(r=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(s,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.eGui.style.transition="")},r))},i)})}onFlashCells(e){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var i;return(i=this.callValueFormatter(e))!=null?i:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const i=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(e,i){const r=this.column.getColDef();return r.equals?r.equals(e,i):e===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,ZN.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,ZN.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,i){return this.beans.gridOptionsService.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(e)}onKeyDown(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(e)}onMouseEvent(e,i){var r;(r=this.cellMouseListenerFeature)==null||r.onMouseEvent(e,i)}getGui(){return this.eGui}refreshToolTip(){var e;(e=this.tooltipFeature)==null||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:i,beans:r}=this;sO.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);vH(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)==null?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,i=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,i)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(_0e,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(N0e,e)}onCellFocused(e){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(L0e,i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const r=this.beans.gridOptionsService.get("editType")==="fullRow";!i&&!r&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:vu(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(M0e,!0),this.cellComp.addOrRemoveCssClass(G0e,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(F0e,e),this.cellComp.addOrRemoveCssClass(I0e,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(k0e,e)}onColDefChanged(){var e;if(!this.cellComp)return;if(this.column.isAutoHeight()!==this.isAutoHeight&&((e=this.rowCtrl)==null||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{const n=this.getCellEditor();if(n!=null&&n.refresh){const{eventKey:s,cellStartedEdit:o}=this.editCompDetails.params,a=this.createCellEditorParams(s,o),l=this.column.getColDef(),u=this.beans.userComponentFactory.getCellEditorDetails(l,a);n.refresh(u.params)}}}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(V0e,e)}dispatchCellContextMenuEvent(e){const i=this.column.getColDef(),r=this.createEvent(e,L.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new iO;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new lee(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,i,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,i);return}const n=this.createRowDragComp(e,i,r);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,i,r){const n=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),o=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!o){ut("managed row dragging is only allowed in the Client Side Row Model");return}if(n){ut("managed row dragging is not possible when doing pagination");return}}const a=new Yp(()=>this.value,this.rowNode,this.column,e,i,r);return this.beans.context.createBean(a),a}};uee.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var bp=uee,$0e=0,cee=class JN extends Ie{constructor(e,i,r,n,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=e,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=n,this.printLayout=s,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=e.id+"-"+$0e++,this.rowId=jr(e.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=jr(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,i,r){const n={rowComp:e,element:i,containerType:r};this.allRowGuis.push(n),r==="left"?this.leftGui=n:r==="right"?this.rightGui=n:r==="fullWidth"?this.fullWidthGui=n:this.centerGui=n,this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==e),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0;break}}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gridOptionsService.get("keepDetailRows")}setCached(e){const i=e?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=i)}initialiseRowComp(e){const i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>r.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Sc(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),i.setDomData(e.element,JN.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(e.element,JN.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=jr(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:i}=e;this.slideInAnimation[i]&&(HN(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(HN(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.get("enableRangeSelection")){ut("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),r=new Yp(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),n=this.createBean(r,this.beans.context);this.rowDragComps.push(n)}setupFullWidth(e){const i=this.getPinnedForContainer(e.containerType);if(this.rowType=="FullWidthDetail"&&!Gi.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const r=this.createFullWidthCompDetails(e.element,i);e.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,i;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(r=>{var n;return(n=r==null?void 0:r.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(i=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(e){const i=this.getCellCtrl(e);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(i)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&r}setRowType(){const e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(n);e?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,i=!1){if(this.isFullWidth())return;if(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,i,r=null){const n={list:[],map:{}},s=(o,a)=>{n.list.push(a),n.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=e.map[a];l||(l=new bp(o,this.rowNode,this.beans,this)),s(a,l)}),e.list.forEach(o=>{if(n.map[o.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(o,r)){s(o.getColumn().getInstanceId(),o);return}o.destroy()}),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(i=>{const r=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(r,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:const i=e;throw new Error(`Unhandled case: ${i}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const r=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const n=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,i){if(e.getColumn().getPinned()!=i)return!0;const o=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||a){const u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const i=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)}setAnimateFlags(e){if(this.isSticky()||!e)return;const i=De(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),n=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}getRowType(){return this.rowType}refreshFullWidth(){const e=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=e(this.fullWidthGui,null),r=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return i&&r&&n&&s}addListeners(){this.addManagedListener(this.rowNode,Wt.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Wt.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Wt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Wt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Wt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,L.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,L.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,L.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,L.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,L.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,L.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,L.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,L.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gridOptionsService.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[]}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Wt.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Wt.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=e===0,n=e===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),Sc(r.element,e&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:vu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const i=this.allRowGuis.find(l=>l.element.contains(e.target));if(!((i?i.element:null)===e.target))return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Tl(e))return;const i=this.allRowGuis.find(o=>o.element.contains(e.target)),r=i?i.element:null,n=r===e.target;let s=null;n||(s=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var i;const r=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&s.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,i){const r={list:[],map:{}};return e.list.forEach(n=>{n!==i&&(r.list.push(n),r.map[n.getInstanceId()]=n)}),r}onMouseEvent(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(e,i){const r=this.createRowEvent(e,i);return r.source=this,r}onRowDblClick(e){if(Tl(e))return;const i=this.createRowEventWithSource(L.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Sp(e.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(Tl(e)||this.lastMouseDownOnDragger)return;const r=this.createRowEventWithSource(L.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);const n=e.ctrlKey||e.metaKey,s=e.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const a=this.gridOptionsService.get("rowMultiSelectWithClick"),l=!this.gridOptionsService.get("suppressRowDeselection"),u="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):n?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:u});else{const c=a?!1:!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:s,event:e,source:u})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(e){if(this.rowType!=="FullWidthDetail"||!this.gridOptionsService.get("detailRowAutoHeight"))return;const i=()=>{const n=e.clientHeight;if(n!=null&&n>0){const s=()=>{this.rowNode.setRowHeight(n),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},r=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(r),i()}createFullWidthCompDetails(e,i){const r=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(n,s,o,a)=>this.addFullWidthRowDragging(n,s,o,a),setTooltip:(n,s)=>this.refreshRowTooltip(n,s)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(e,i){if(!this.fullWidthGui)return;const r={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new $c(r,this.beans))}addFullWidthRowDragging(e,i,r="",n){if(!this.isFullWidth())return;const s=new Yp(()=>r,this.rowNode,void 0,e,i,n);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const i="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(i,!0),n.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),r=this.editingRow;this.stoppingRowEdit=!0;let n=!1;for(const s of i){const o=s.stopEditing(e);r&&!e&&!n&&o&&(n=!0)}if(n){const s=this.createRowEvent(L.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}r&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-editing",e));const i=e?this.createRowEvent(L.EVENT_ROW_EDITING_STARTED):this.createRowEvent(L.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(e=null,i=null,r=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((s,o)=>{const a=o===i;return a?o.startEditing(e,a,r):o.startEditing(null,a,r),s?!0:o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(i=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,i){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"?"left":e==="right"?"right":null}getInitialRowClasses(e){const i=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gridOptionsService.getCallback("getRowStyle");let r;if(i){const n={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=i(n)}return r||e?Object.assign({},e,r):this.emptyStyle}onRowSelected(e){const i=this.beans.gridOptionsService.getDocument(),r=!!this.rowNode.isSelected();this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),Bm(n.element,r),n.element.contains(i.activeElement)&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const r=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(r)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Wt.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Wt.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(i.top,!0)-100,n=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(r,e),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,i){e?i(e):this.allRowGuis.forEach(i)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=s?`${Math.min(r,s)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,i){super.addEventListener(e,i)}removeEventListener(e,i){super.removeEventListener(e,i)}destroyFirstPass(e=!1){if(this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent(L.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=i=>(i.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const r=this.beans.paginationProxy.getPixelOffset();return e+r*(i?1:-1)}setRowTop(e){if(!this.printLayout&&De(e)){const i=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(r);i=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let i=null;return this.getAllCellCtrls().forEach(r=>{r.getColumn()==e&&(i=r)}),i!=null||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(e)>=0&&(i=r)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const i=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),n=this.rowNode.rowIndex%2===0,s=r+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",n),o.rowComp.addOrRemoveCssClass("ag-row-odd",!n),mH(o.element,s)})}};cee.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Rp=cee,ao=class extends Ie{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",i=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,i)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",dH("touchstart")?"touchstart":"mousedown"].forEach(r=>{const n=this.processMouseEvent.bind(this,r);this.addManagedListener(this.element,r,n)})}processMouseEvent(e,i){if(!this.mouseEventService.isEventFromThisGrid(i)||Tl(i))return;const r=this.getRowForEvent(i),n=this.mouseEventService.getRenderedCellForEvent(i);e==="contextmenu"?this.handleContextMenuMouseEvent(i,void 0,r,n):(n&&n.onMouseEvent(e,i),r&&r.onMouseEvent(e,i))}mockContextMenuForIPad(){if(!Hc())return;const e=new mn(this.element),i=r=>{const n=this.getRowForEvent(r.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,n,s)};this.addManagedListener(e,mn.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let i=e.target;for(;i;){const r=this.gridOptionsService.getDomData(i,Rp.DOM_DATA_KEY_ROW_CTRL);if(r)return r;i=i.parentElement}return null}handleContextMenuMouseEvent(e,i,r,n){const s=r?r.getRowNode():null,o=n?n.getColumn():null;let a=null;if(o){const c=e||i;n.dispatchCellContextMenuEvent(c??null),a=this.valueService.getValue(o,s)}const l=this.ctrlsService.getGridBodyCtrl(),u=n?n.getGui():l.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,rowNode:s,column:o,value:a,anchorToElement:u})}getControlsForEventTarget(e){return{cellCtrl:NP(this.gridOptionsService,e,bp.DOM_DATA_KEY_CELL_CTRL),rowCtrl:NP(this.gridOptionsService,e,Rp.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,i){const{cellCtrl:r,rowCtrl:n}=this.getControlsForEventTarget(i.target);i.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,i):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,i))}processCellKeyboardEvent(e,i,r){const n=e.getRowNode(),s=e.getColumn(),o=e.isEditing();if(!$P(this.gridOptionsService,r,n,s,o)&&i==="keydown"&&(!o&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),Q0(r)&&e.processCharacter(r)),i==="keydown"){const l=e.createEvent(r,L.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}}processFullWidthRowKeyboardEvent(e,i,r){const n=e.getRowNode(),s=this.focusService.getFocusedCell(),o=s&&s.column;if(!$P(this.gridOptionsService,r,n,o,!1)){const l=r.key;if(i==="keydown")switch(l){case ce.PAGE_HOME:case ce.PAGE_END:case ce.PAGE_UP:case ce.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case ce.UP:case ce.DOWN:e.onKeyboardNavigate(r);break;case ce.TAB:e.onTabKeyDown(r);break}}if(i==="keydown"){const l=e.createRowEvent(L.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(l)}}doGridOperations(e,i){if(!e.ctrlKey&&!e.metaKey||i||!this.mouseEventService.isEventFromThisGrid(e))return;const r=hJ(e);if(r===ce.A)return this.onCtrlAndA(e);if(r===ce.C)return this.onCtrlAndC(e);if(r===ce.D)return this.onCtrlAndD(e);if(r===ce.V)return this.onCtrlAndV(e);if(r===ce.X)return this.onCtrlAndX(e);if(r===ce.Y)return this.onCtrlAndY();if(r===ce.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:i,paginationProxy:r,rangeService:n}=this;if(n&&r.isRowsToRender()){const[s,o]=[i.isEmpty("top"),i.isEmpty("bottom")],a=s?null:"top";let l,u;o?(l=null,u=this.paginationProxy.getRowCount()-1):(l="bottom",u=i.getPinnedBottomRowData().length-1);const c=this.columnModel.getAllDisplayedColumns();if(Po(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l,columnStart:c[0],columnEnd:Xt(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);i!=null&&i.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);i!=null&&i.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);i!=null&&i.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};A([W("mouseEventService")],ao.prototype,"mouseEventService",2);A([W("valueService")],ao.prototype,"valueService",2);A([W("menuService")],ao.prototype,"menuService",2);A([W("ctrlsService")],ao.prototype,"ctrlsService",2);A([W("navigationService")],ao.prototype,"navigationService",2);A([W("focusService")],ao.prototype,"focusService",2);A([W("undoRedoService")],ao.prototype,"undoRedoService",2);A([W("columnModel")],ao.prototype,"columnModel",2);A([W("paginationProxy")],ao.prototype,"paginationProxy",2);A([W("pinnedRowModel")],ao.prototype,"pinnedRowModel",2);A([ai("rangeService")],ao.prototype,"rangeService",2);A([ai("clipboardService")],ao.prototype,"clipboardService",2);A([_e],ao.prototype,"postConstruct",1);var zv=class extends Ie{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,L.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),i=Df(e);if(i<=50)return;let r=this.getPinnedColumnsOverflowingViewport(i-50);const n=this.gridOptionsService.getCallback("processUnpinnedColumns");r.length&&(n&&(r=n({columns:r,viewportWidth:i})),this.columnModel.setColumnsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const i=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),n=i+r;if(n<e)return[];const s=[...this.columnModel.getDisplayedLeftColumns()],o=[...this.columnModel.getDisplayedRightColumns()];let a=0,l=0,u=0;const c=[];let d=n-u-e;for(;(l<s.length||a<o.length)&&d>0;){if(a<o.length){const h=o[a++];d-=h.getActualWidth(),c.push(h)}if(l<s.length&&d>0){const h=s[l++];d-=h.getActualWidth(),c.push(h)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),i=ub(e);if(this.bodyHeight!==i){this.bodyHeight=i;const r={type:L.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,i)}};A([W("ctrlsService")],zv.prototype,"ctrlsService",2);A([W("pinnedWidthService")],zv.prototype,"pinnedWidthService",2);A([W("columnModel")],zv.prototype,"columnModel",2);A([W("scrollVisibleService")],zv.prototype,"scrollVisibleService",2);A([_e],zv.prototype,"postConstruct",1);var qH=class extends Ie{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),i=e>0;kt(this.element,i),Aa(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};A([W("pinnedWidthService")],qH.prototype,"pinnedWidthService",2);A([_e],qH.prototype,"postConstruct",1);var XH=class extends Ie{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),i=e>0;kt(this.element,i),Aa(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};A([W("pinnedWidthService")],XH.prototype,"pinnedWidthService",2);A([_e],XH.prototype,"postConstruct",1);var oO=class extends Ie{constructor(e,i){super(),this.eContainer=e,this.eViewport=i}postConstruct(){this.addManagedListener(this.eventService,L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),i=e!=null?`${e}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}};A([W("rowContainerHeightService")],oO.prototype,"maxDivHeightScaler",2);A([_e],oO.prototype,"postConstruct",1);var aO=class extends Ie{constructor(e){super(),this.eContainer=e}postConstruct(){if(gt(this.rangeService))return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",i=>{if(i.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};A([ai("rangeService")],aO.prototype,"rangeService",2);A([W("dragService")],aO.prototype,"dragService",2);A([_e],aO.prototype,"postConstruct",1);var jv=class extends Ie{constructor(e,i=!1){super(),this.callback=e,this.addSpacer=i}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,L.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,i=this.gridOptionsService.isDomLayout("print"),r=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();let o;i?o=r+n+s:(o=r,this.addSpacer&&(this.gridOptionsService.get("enableRtl")?n:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.gridOptionsService.getScrollbarWidth())),this.callback(o)}};A([W("columnModel")],jv.prototype,"columnModel",2);A([W("scrollVisibleService")],jv.prototype,"scrollVisibleService",2);A([_e],jv.prototype,"postConstruct",1);function B0e(t){switch(t){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var W0e=Td([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),U0e=Td([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),Mf=class dee extends Ie{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name==="topFullWidth"||this.name==="stickyTopFullWidth"||this.name==="bottomFullWidth"||this.name==="fullWidth"}static getRowContainerCssClasses(e){const i=W0e.get(e),r=U0e.get(e);return{container:i,viewport:r}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new zv(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(e,i){e.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,i,r){this.comp=e,this.eContainer=i,this.eViewport=r,this.createManagedBean(new ao(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const n=["topCenter","topLeft","topRight"],s=["stickyTopCenter","stickyTopLeft","stickyTopRight"],o=["bottomCenter","bottomLeft","bottomRight"],a=["center","left","right"],l=[...n,...o,...a,...s],u=["center","left","right","fullWidth"],c=["center","topCenter","stickyTopCenter","bottomCenter"],d=["left","bottomLeft","topLeft","stickyTopLeft"],h=["right","bottomRight","topRight","stickyTopRight"];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new qH(this.eContainer)),this.addManagedListener(this.eventService,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(h,()=>{this.pinnedWidthFeature=this.createManagedBean(new XH(this.eContainer)),this.addManagedListener(this.eventService,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new oO(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(l,()=>this.createManagedBean(new aO(this.eContainer))),this.forContainers(c,()=>this.createManagedBean(new jv(f=>this.comp.setContainerWidth(`${f}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const r=()=>{const n=this.gridOptionsService.get("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(n||s)};this.addManagedPropertyListener("domLayout",r),r()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{const e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const i=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,r,e)}getCenterWidth(){return Df(this.eViewport)}getCenterViewportScrollLeft(){return sw(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return AH(this.eViewport)}getViewportScrollLeft(){return sw(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||iJ(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){ow(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!dee.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){if(!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=this.gridOptionsService.isDomLayout("print"),n=this.gridOptionsService.get("embedFullWidthRows")||i,s=this.getRowCtrls().filter(o=>{const a=o.isFullWidth();return this.isFullWithContainer?!n&&a:n||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};A([W("dragService")],Mf.prototype,"dragService",2);A([W("ctrlsService")],Mf.prototype,"ctrlsService",2);A([W("columnModel")],Mf.prototype,"columnModel",2);A([W("resizeObserverService")],Mf.prototype,"resizeObserverService",2);A([W("rowRenderer")],Mf.prototype,"rowRenderer",2);A([_e],Mf.prototype,"postConstruct",1);var hee=Mf,z0e=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Uc=class extends wt{constructor(){super(z0e)}init(){const e=(r,n)=>{const s=`${r}px`;n.style.minHeight=s,n.style.height=s},i={setRowAnimationCssOnBodyViewport:(r,n)=>this.setRowAnimationCssOnBodyViewport(r,n),setColumnCount:r=>VZ(this.getGui(),r),setRowCount:r=>kZ(this.getGui(),r),setTopHeight:r=>e(r,this.eTop),setBottomHeight:r=>e(r,this.eBottom),setTopDisplay:r=>this.eTop.style.display=r,setBottomDisplay:r=>this.eBottom.style.display=r,setStickyTopHeight:r=>this.eStickyTop.style.height=r,setStickyTopTop:r=>this.eStickyTop.style.top=r,setStickyTopWidth:r=>this.eStickyTop.style.width=r,setColumnMovingCss:(r,n)=>this.addOrRemoveCssClass(r,n),updateLayoutClasses:(r,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(o=>{o.toggle("ag-layout-auto-height",n.autoHeight),o.toggle("ag-layout-normal",n.normal),o.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(r,n)=>this.eBodyViewport.classList.toggle(aee,n),registerBodyViewportResizeListener:r=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,r);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:r=>this.eTop.style.overflowY=this.eBottom.style.overflowY=r,setCellSelectableCss:(r,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(s=>s.classList.toggle(r,n))},setBodyViewportWidth:r=>this.eBodyViewport.style.width=r};this.ctrl=this.createManagedBean(new xs),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&GZ(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,i){const r=this.eBodyViewport.classList;r.toggle("ag-row-animation",i),r.toggle("ag-row-no-animation",!i)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};A([W("resizeObserverService")],Uc.prototype,"resizeObserverService",2);A([ai("rangeService")],Uc.prototype,"rangeService",2);A([Ge("eBodyViewport")],Uc.prototype,"eBodyViewport",2);A([Ge("eStickyTop")],Uc.prototype,"eStickyTop",2);A([Ge("eTop")],Uc.prototype,"eTop",2);A([Ge("eBottom")],Uc.prototype,"eBottom",2);A([Ge("gridHeader")],Uc.prototype,"headerRootComp",2);A([Ge("eBody")],Uc.prototype,"eBody",2);A([_e],Uc.prototype,"init",1);var lw=class extends Ie{postConstruct(){this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e||this.columnAnimationService.isActive())return;const i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const r={type:L.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};A([W("ctrlsService")],lw.prototype,"ctrlsService",2);A([W("columnAnimationService")],lw.prototype,"columnAnimationService",2);A([_e],lw.prototype,"postConstruct",1);lw=A([je("scrollVisibleService")],lw);var zd=class extends Ie{constructor(){super(...arguments),this.gridInstanceId=zd.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[zd.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return NP(this.gridOptionsService,e.target,bp.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let i=e;for(;i;){const r=i[zd.GRID_DOM_KEY];if(De(r))return r===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(e){const i=this.getRenderedCellForEvent(e);return i?i.getCellPosition():null}getNormalisedPosition(e){const i=this.gridOptionsService.isDomLayout("normal"),r=e;let n,s;if(r.clientX!=null||r.clientY!=null?(n=r.clientX,s=r.clientY):(n=r.x,s=r.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();n+=l.left,s+=a.top}return{x:n,y:s}}};zd.gridInstanceSequence=new GH;zd.GRID_DOM_KEY="__ag_grid_instance";A([W("ctrlsService")],zd.prototype,"ctrlsService",2);zd=A([je("mouseEventService")],zd);var Es=class extends Ie{constructor(){super(),this.onPageDown=$N(this.onPageDown,100),this.onPageUp=$N(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,i=!1){const r=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e);let l=!1;switch(r){case ce.PAGE_HOME:case ce.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(r),l=!0);break;case ce.LEFT:case ce.RIGHT:case ce.UP:case ce.DOWN:if(!a)return!1;s&&!n&&!o&&(this.onCtrlUpDownLeftRight(r,a),l=!0);break;case ce.PAGE_DOWN:case ce.PAGE_UP:!s&&!n&&(l=this.handlePageUpDown(r,a,i));break}return l&&e.preventDefault(),l}handlePageUpDown(e,i,r){return r&&(i=this.focusService.getFocusedCell()),i?(e===ce.PAGE_UP?this.onPageUp(i):this.onPageDown(i),!0):!1}navigateTo(e){const{scrollIndex:i,scrollType:r,scrollColumn:n,focusIndex:s,focusColumn:o}=e;if(De(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),De(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:s,rowPinned:null,column:o};this.rangeService.setRangeToCell(a)}}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),o=r.top+n,a=this.paginationProxy.getRowIndexAtPixel(o+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),s=r.top,o=this.paginationProxy.getRowIndexAtPixel(s+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o,!0):this.navigateToNextPage(e,o,!0)}navigateToNextPage(e,i,r=!1){const n=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),o=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),u=r?(l==null?void 0:l.rowHeight)-n-a:n-a,c=(l==null?void 0:l.rowTop)+u;let d=this.paginationProxy.getRowIndexAtPixel(c+a);if(d===e.rowIndex){const f=r?-1:1;i=d=e.rowIndex+f}let h;r?(h="bottom",d<s&&(d=s),i<s&&(i=s)):(h="top",d>o&&(d=o),i>o&&(i=o)),this.isRowTallerThanView(d)&&(i=d,h="top"),this.navigateTo({scrollIndex:i,scrollType:h,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,i,r=!1){this.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,i=!1){var r;const n=i?-1:1,s=this.getViewportHeight(),o=this.paginationProxy.getPageLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const u=this.paginationProxy.getRow(l);if(u){const c=(r=u.rowHeight)!=null?r:0;if(a+c>s)break;a+=c}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth();let n=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=r),n}isRowTallerThanView(e){const i=this.paginationProxy.getRow(e);if(!i)return!1;const r=i.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,i){const r=this.cellNavigationService.getNextCellToFocus(e,i,!0),{rowIndex:n,column:s}=r;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onHomeOrEndKey(e){const i=e===ce.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),n=i?r[0]:Xt(r),s=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onTabKeyDown(e,i){const r=i.shiftKey;if(this.tabToNextCellCommon(e,r,i)){i.preventDefault();return}if(r){const{rowIndex:s,rowPinned:o}=e.getRowPosition();(o?s===0:s===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(i.preventDefault(),this.focusService.focusPreviousFromFirstCell(i)))}else e instanceof bp&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&i.preventDefault()}tabToNextCell(e,i){const r=this.focusService.getFocusedCell();if(!r)return!1;let n=this.getCellByPosition(r);return!n&&(n=this.rowRenderer.getRowByPosition(r),!n||!n.isFullWidth())?!1:this.tabToNextCellCommon(n,e,i)}tabToNextCellCommon(e,i,r){let n=e.isEditing();if(!n&&e instanceof bp){const a=e.getRowCtrl();a&&(n=a.isEditing())}let s;return n?this.gridOptionsService.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,i,r):s=this.moveToNextEditingCell(e,i,r):s=this.moveToNextCellNotEditing(e,i),s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,i,r=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const s=this.findNextCellToFocusOn(n,i,!0);return s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)}moveToNextEditingRow(e,i,r=null){const n=e.getCellPosition(),s=this.findNextCellToFocusOn(n,i,!0);if(s==null)return!1;const o=s.getCellPosition(),a=this.isCellEditable(n),l=this.isCellEditable(o),u=o&&n.rowIndex===o.rowIndex&&n.rowPinned===o.rowPinned;return a&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,r)),l?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,i){const r=this.columnModel.getAllDisplayedColumns();let n;e instanceof Rp?n=Wi(tt({},e.getRowPosition()),{column:i?r[0]:Xt(r)}):n=e.getCellPosition();const s=this.findNextCellToFocusOn(n,i,!1);if(s instanceof bp)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),i);return De(s)}findNextCellToFocusOn(e,i,r){let n=e;for(;;){e!==n&&(e=n),i||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,i);const s=this.gridOptionsService.getCallback("tabToNextCell");if(De(s)){const u=s({backwards:i,editing:r,previousCellPosition:e,nextCellPosition:n||null});De(u)?(u.floating&&(ut("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),n={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}):n=null}if(!n)return null;if(n.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+n.rowIndex,column:n.column},fromCell:!0}),null}const o=this.gridOptionsService.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const a=this.getCellByPosition(n);if(!a){const l=this.rowRenderer.getRowByPosition(n);if(!l||!l.isFullWidth()||r)continue;return l}if(!a.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(n),a}}isCellEditable(e){const i=this.lookupRowNodeForCell(e);return i?e.column.isCellEditable(i):!1}getCellByPosition(e){const i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,i,r,n){let s=r,o=!1;for(;s&&(s===r||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?i===ce.LEFT&&(s=this.getLastCellOfColSpan(s)):i===ce.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(i,s),o=gt(s);if(o&&e&&e.key===ce.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),n){const l=this.gridOptionsService.getCallback("navigateToNextCell");if(De(l)){const c=l({key:i,previousCellPosition:r,nextCellPosition:s||null,event:e});De(c)?(c.floating&&(ut("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(!s)return;if(s.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+s.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const a=this.getNormalisedPosition(s);a?this.focusPosition(a):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){this.ensureCellVisible(e);const i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,i=!1){const r=this.columnModel.getAllDisplayedColumns(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?Xt(r):r[0])};this.focusPosition(o);const a=s!=null?this.rowPositionUtils.before(o,s):!1,l={type:L.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,floating:o.rowPinned,fromBelow:a};return this.eventService.dispatchEvent(l),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const i=this.getCellByPosition(e);if(!i)return e;const r=i.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Xt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const i=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(e.rowIndex);!(i&&(r==null?void 0:r.sticky))&&gt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};A([W("mouseEventService")],Es.prototype,"mouseEventService",2);A([W("paginationProxy")],Es.prototype,"paginationProxy",2);A([W("focusService")],Es.prototype,"focusService",2);A([ai("rangeService")],Es.prototype,"rangeService",2);A([W("columnModel")],Es.prototype,"columnModel",2);A([W("rowModel")],Es.prototype,"rowModel",2);A([W("ctrlsService")],Es.prototype,"ctrlsService",2);A([W("rowRenderer")],Es.prototype,"rowRenderer",2);A([W("headerNavigationService")],Es.prototype,"headerNavigationService",2);A([W("rowPositionUtils")],Es.prototype,"rowPositionUtils",2);A([W("cellNavigationService")],Es.prototype,"cellNavigationService",2);A([W("pinnedRowModel")],Es.prototype,"pinnedRowModel",2);A([_e],Es.prototype,"postConstruct",1);Es=A([je("navigationService")],Es);var QH=class pee extends xf{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),pee.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),i=this.params,r=n=>{$P(this.gridOptionsService,n,i.node,i.column,!0)||i.onKeyDown(n)};this.addManagedListener(e,"keydown",r)}};QH.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";A([_e],QH.prototype,"postConstruct",1);var j0e=QH,K0e=class extends wt{constructor(e,i,r,n,s){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=i.getColumn(),this.rowNode=i.getRowNode(),this.rowCtrl=i.getRowCtrl(),this.eRow=n,this.cellCtrl=i;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);const a=this.getGui();this.forceWrapper=i.isForceWrapper(),this.refreshWrapper(!1);const l=(d,h)=>{h!=null&&h!=""?a.setAttribute(d,h):a.removeAttribute(d)};dr(a,i.getCellAriaRole()),l("col-id",i.getColumnIdSanitised());const u=i.getTabIndex();u!==void 0&&l("tabindex",u.toString());const c={addOrRemoveCssClass:(d,h)=>this.addOrRemoveCssClass(d,h),setUserStyles:d=>FH(a,d),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:d=>this.includeSelection=d,setIncludeRowDrag:d=>this.includeRowDrag=d,setIncludeDndSource:d=>this.includeDndSource=d,setRenderDetails:(d,h,f)=>this.setRenderDetails(d,h,f),setEditDetails:(d,h,f)=>this.setEditDetails(d,h,f),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};i.setComp(c,this.getGui(),this.eCellWrapper,r,s)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,i,r){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(r||s)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}setEditDetails(e,i,r){e?this.createCellEditorInstance(e,i,r):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const i=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=i||this.forceWrapper,n=r&&this.eCellWrapper==null;if(n){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const s=!r&&this.eCellWrapper!=null;s&&(Cl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);const o=!e&&r,a=o&&this.eCellValue==null;if(a){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const l=!o&&this.eCellValue!=null;l&&(Cl(this.eCellValue),this.eCellValue=void 0);const u=n||s||a||l;return u&&this.removeControls(),e||i&&this.addControls(),u}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,i,r){const n=this.editorVersion,s=e.newAgStackInstance();if(!s)return;const{params:o}=e;s.then(l=>this.afterCellEditorCreated(n,l,o,i,r)),gt(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const i=this.getParentOfValue();Ir(i);const r=e!=null?jr(e,!0):null;r!=null&&(i.textContent=r)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Cl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Cl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const i=this.cellRenderer.refresh(e.params);return i===!0||i===void 0}createCellRendererInstance(e){const r=!this.beans.gridOptionsService.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:s}=e,o=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const l=e.newAgStackInstance(),u=this.afterCellRendererCreated.bind(this,n,s);l&&l.then(u)};r&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,i,r){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const s=this.getParentOfValue();Ir(s),s.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,i,r,n,s){if(e!==this.editorVersion){this.beans.context.destroyBean(i);return}if(i.isCancelBeforeStart&&i.isCancelBeforeStart()){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing(!0);return}if(!i.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();const l=n||i.isPopup!==void 0&&i.isPopup();l?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,l),i.afterGuiAttached&&i.afterGuiAttached()}refreshEditStyles(e,i){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),(r=this.rowCtrl)==null||r.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,i){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const r=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new j0e(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const s=this.beans.popupService,o=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),a=i??(r.getPopupPosition?r.getPopupPosition():"over"),l=this.beans.gridOptionsService.get("enableRtl"),u={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=s.positionPopupByComponent.bind(s,u),d=this.beans.localeService.getLocaleTextFunc(),h=s.addPopup({modal:o,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&EH()&&e.focus({preventScroll:!0}),Ir(this.getParentOfValue())}},Y0e=class extends wt{constructor(e,i,r){super(),this.cellComps={},this.beans=i,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(r)),this.setTemplateFromElement(n);const s=this.getGui(),o=s.style;this.domOrder=this.rowCtrl.getDomOrder(),dr(s,"row");const a=this.rowCtrl.getTabIndex();a!=null&&s.setAttribute("tabindex",a.toString());const l={setDomOrder:u=>this.domOrder=u,setCellCtrls:u=>this.setCellCtrls(u),showFullWidth:u=>this.showFullWidth(u),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(u,c)=>this.addOrRemoveCssClass(u,c),setUserStyles:u=>FH(s,u),setTop:u=>o.top=u,setTransform:u=>o.transform=u,setRowIndex:u=>s.setAttribute("row-index",u),setRowId:u=>s.setAttribute("row-id",u),setRowBusinessKey:u=>s.setAttribute("row-business-key",u),refreshFullWidth:u=>this.refreshFullWidth(u)};e.setComp(l,this.getGui(),r),this.addDestroyFunc(()=>{e.unsetComp(r)})}getInitialStyle(e){const i=this.rowCtrl.getInitialTransform(e);return i?`transform: ${i}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=n=>{if(this.isAlive()){const s=n.getGui();this.getGui().appendChild(s),this.rowCtrl.setupDetailRowAutoHeight(s),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},r=e.newAgStackInstance();r&&r.then(i)}setCellCtrls(e){const i=Object.assign({},this.cellComps);e.forEach(n=>{const s=n.getInstanceId();this.cellComps[s]==null?this.newCellComp(n):i[s]=null});const r=Qd(i).filter(n=>n!=null);this.destroyCells(r),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const i=[];e.forEach(r=>{const n=this.cellComps[r.getInstanceId()];n&&i.push(n.getGui())}),MH(this.getGui(),i)}newCellComp(e){const i=new K0e(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Qd(this.cellComps).filter(i=>i!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(i=>{if(!i)return;const r=i.getCtrl().getInstanceId();this.cellComps[r]===i&&(i.detach(),i.destroy(),this.cellComps[r]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:i}=this;if(!i||!i.refresh)return!1;const r=e();return i.refresh(r)}};function q0e(){const t=wt.elementGettingCreated.getAttribute("name"),e=hee.getRowContainerCssClasses(t);let i;return t==="center"||t==="topCenter"||t==="stickyTopCenter"||t==="bottomCenter"?i=`<div class="${e.viewport}" ref="eViewport" role="presentation">
                <div class="${e.container}" ref="eContainer"></div>
            </div>`:i=`<div class="${e.container}" ref="eContainer"></div>`,i}var yb=class extends wt{constructor(){super(q0e()),this.rowComps={},this.name=wt.elementGettingCreated.getAttribute("name"),this.type=B0e(this.name)}postConstruct(){const e={setViewportHeight:r=>this.eViewport.style.height=r,setRowCtrls:({rowCtrls:r})=>this.setRowCtrls(r),setDomOrder:r=>{this.domOrder=r},setContainerWidth:r=>this.eContainer.style.width=r};this.createManagedBean(new hee(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const i=tt({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const r=n=>{const s=n.getInstanceId(),o=i[s];if(o)this.rowComps[s]=o,delete i[s],this.ensureDomOrder(o.getGui());else{if(!n.getRowNode().displayed)return;const a=new Y0e(n,this.beans,this.type);this.rowComps[s]=a,this.appendRow(a.getGui())}};e.forEach(r),Qd(i).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),dr(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?tJ(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(OH(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};A([W("beans")],yb.prototype,"beans",2);A([Ge("eViewport")],yb.prototype,"eViewport",2);A([Ge("eContainer")],yb.prototype,"eContainer",2);A([_e],yb.prototype,"postConstruct",1);A([Ka],yb.prototype,"preDestroy",1);var ZH=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const i=e.dragItem.columns;i&&i.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Dt.ICON_PINNED:Dt.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};A([W("columnModel")],ZH.prototype,"columnModel",2);A([W("gridOptionsService")],ZH.prototype,"gridOptionsService",2);var Tp=class{static attemptMoveColumns(e){const{isFromHeader:i,hDirection:r,xPosition:n,fromEnter:s,fakeEvent:o,pinned:a,gridOptionsService:l,columnModel:u}=e,c=r===0,d=r===1;let{allMovingColumns:h}=e;if(i){let b=[];h.forEach(D=>{var P;let O=null,N=D.getParent();for(;N!=null&&N.getDisplayedLeafColumns().length===1;)O=N,N=N.getParent();O!=null?(!!((P=O.getColGroupDef())!=null&&P.marryChildren)?O.getProvidedColumnGroup().getLeafColumns():O.getLeafColumns()).forEach(k=>{b.includes(k)||b.push(k)}):b.includes(D)||b.push(D)}),h=b}const f=h.slice();u.sortColumnsLikeGridColumns(f);const g=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:n,pinned:a,gridOptionsService:l,columnModel:u}),m=this.calculateOldIndex(f,u);if(g.length===0)return;const C=g[0];let S=m!==null&&!s;if(i&&(S=m!==null),S&&!o&&(c&&C>=m||d&&C<=m))return;const y=u.getAllDisplayedColumns();let w=[],E=null;for(let b=0;b<g.length;b++){const D=g[b],P=u.getProposedColumnOrder(f,D);if(!u.doesOrderPassRules(P))continue;const O=P.filter(_=>y.includes(_));if(E===null)E=O;else if(!du(O,E))break;const N=this.groupFragCount(P);w.push({move:D,fragCount:N})}if(w.length!==0)return w.sort((b,D)=>b.fragCount-D.fragCount),this.moveColumns(h,w[0].move,"uiColumnMoved",!1,u)}static moveColumns(e,i,r,n,s){return s.moveColumns(e,i,r,n),n?null:{columns:e,toIndex:i}}static calculateOldIndex(e,i){const r=i.getAllGridColumns(),n=pZ(e.map(u=>r.indexOf(u))),s=n[0];return Xt(n)-s!==n.length-1?null:s}static groupFragCount(e){function i(n){let s=[],o=n.getOriginalParent();for(;o!=null;)s.push(o),o=o.getOriginalParent();return s}let r=0;for(let n=0;n<e.length-1;n++){let s=i(e[n]),o=i(e[n+1]);[s,o]=s.length>o.length?[s,o]:[o,s],s.forEach(a=>{o.indexOf(a)===-1&&r++})}return r}static calculateValidMoves(e){const{movingCols:i,draggingRight:r,xPosition:n,pinned:s,gridOptionsService:o,columnModel:a}=e;if(o.get("suppressMovableColumns")||i.some(w=>w.getColDef().suppressMovable))return[];const u=a.getDisplayedColumns(s),c=a.getAllGridColumns(),d=u.filter(w=>xa(i,w)),h=u.filter(w=>!xa(i,w)),f=c.filter(w=>!xa(i,w));let g=0,m=n;if(r){let w=0;d.forEach(E=>w+=E.getActualWidth()),m-=w}if(m>0){for(let w=0;w<h.length;w++){const E=h[w];if(m-=E.getActualWidth(),m<0)break;g++}r&&g++}let C;if(g>0){const w=h[g-1];C=f.indexOf(w)+1}else C=f.indexOf(h[0]),C===-1&&(C=0);const S=[C],y=(w,E)=>w-E;if(r){let w=C+1;const E=c.length-1;for(;w<=E;)S.push(w),w++;S.sort(y)}else{let w=C;const E=c.length-1;let b=c[w];for(;w<=E&&u.indexOf(b)<0;)w++,S.push(w),b=c[w];w=C-1;const D=0;for(;w>=D;)S.push(w),w--;S.sort(y).reverse()}return S}static normaliseX(e,i,r,n,s){const o=s.getHeaderRowContainerCtrl(i).getViewport();return r&&(e-=o.getBoundingClientRect().left),n.get("enableRtl")&&(e=o.clientWidth-e),i==null&&(e+=s.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}},Kv=class{constructor(e,i){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=i,this.centerContainer=!De(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Dt.ICON_PINNED:Dt.ICON_MOVE}onDragEnter(e){const i=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,s=(i||[]).filter(o=>n[o.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.setColumnsPinned(i,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,i,r){if(e){const n=e.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColumnsVisible(n,i,r)}}setColumnsPinned(e,i,r){if(e){const n=e.filter(s=>!s.getColDef().lockPinned);this.columnModel.setColumnsPinned(n,i,r)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.centerContainer){const i=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=i+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>r-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,i=!1,r=!1,n=!1){var s;if(n){if(this.lastMovedInfo){const{columns:d,toIndex:h}=this.lastMovedInfo;Tp.moveColumns(d,h,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,gt(e.hDirection))return;const o=Tp.normaliseX(e.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);i||this.checkCenterForScrolling(o);const a=this.normaliseDirection(e.hDirection),l=e.dragSource.type,u=((s=e.dragSource.getDragItem().columns)==null?void 0:s.filter(d=>d.getColDef().lockPinned?d.getPinned()==this.pinned:!0))||[],c=Tp.attemptMoveColumns({allMovingColumns:u,isFromHeader:l===1,hDirection:a,xPosition:o,pinned:this.pinned,fromEnter:i,fakeEvent:r,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});c&&(this.lastMovedInfo=c)}normaliseDirection(e){if(this.gridOptionsService.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Dt.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Dt.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Dt.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let i=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?i=r.scrollHorizontally(-e):this.needToMoveRight&&(i=r.scrollHorizontally(e)),i!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const s=this.lastDraggingEvent.dragItem.columns.filter(o=>!o.getColDef().lockPinned);if(s.length>0&&(this.dragAndDropService.setGhostIcon(Dt.ICON_PINNED),this.failedMoveAttempts>7)){const o=this.needToMoveLeft?"left":"right";this.setColumnsPinned(s,o,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};A([W("columnModel")],Kv.prototype,"columnModel",2);A([W("dragAndDropService")],Kv.prototype,"dragAndDropService",2);A([W("gridOptionsService")],Kv.prototype,"gridOptionsService",2);A([W("ctrlsService")],Kv.prototype,"ctrlsService",2);A([_e],Kv.prototype,"init",1);var Yv=class extends Ie{constructor(e,i){super(),this.pinned=e,this.eContainer=i}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(e){return e===1||e===0&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new Kv(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new ZH(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};A([W("dragAndDropService")],Yv.prototype,"dragAndDropService",2);A([W("columnModel")],Yv.prototype,"columnModel",2);A([W("ctrlsService")],Yv.prototype,"ctrlsService",2);A([_e],Yv.prototype,"postConstruct",1);A([_e],Yv.prototype,"init",1);var qv=class fee extends YH{constructor(e){super(fee.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((s,o)=>{o!=null&&o!=""?e.setAttribute(s,o):e.removeAttribute(s)})("col-id",this.column.getColId());const r={setWidth:s=>e.style.width=s,addOrRemoveCssClass:(s,o)=>this.addOrRemoveCssClass(s,o),setAriaSort:s=>s?$Z(e,s):BZ(e),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(r,this.getGui(),this.eResize,this.eHeaderCompWrapper);const n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const i=this.headerCompVersion;e.newAgStackInstance().then(r=>this.afterCompCreated(i,r))}afterCompCreated(e,i){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};qv.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;A([Ge("eResize")],qv.prototype,"eResize",2);A([Ge("eHeaderCompWrapper")],qv.prototype,"eHeaderCompWrapper",2);A([_e],qv.prototype,"postConstruct",1);A([Ka],qv.prototype,"destroyHeaderComp",1);var X0e=qv,lO=class gee extends YH{constructor(e){super(gee.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i=(n,s)=>s!=null?e.setAttribute(n,s):e.removeAttribute(n);e.setAttribute("col-id",this.ctrl.getColId());const r={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setResizableDisplayed:n=>kt(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>i("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(r,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(e){const i=()=>this.destroyBean(e);if(!this.isAlive()){i();return}const r=this.getGui(),n=e.getGui();r.appendChild(n),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(r)}};lO.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;A([Ge("eResize")],lO.prototype,"eResize",2);A([_e],lO.prototype,"postConstruct",1);var Q0e=lO,JH=class extends wt{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){mH(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:i=>this.getGui().style.height=i,setTop:i=>this.getGui().style.top=i,setHeaderCtrls:(i,r)=>this.setHeaderCtrls(i,r),setWidth:i=>this.getGui().style.width=i};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,i){if(!this.isAlive())return;const r=this.headerComps;if(this.headerComps={},e.forEach(n=>{const s=n.getInstanceId();let o=r[s];delete r[s],o==null&&(o=this.createHeaderComp(n),this.getGui().appendChild(o.getGui())),this.headerComps[s]=o}),Oo(r,(n,s)=>{this.getGui().removeChild(s.getGui()),this.destroyBean(s)}),i){const n=Qd(this.headerComps);n.sort((o,a)=>{const l=o.getCtrl().getColumnGroupChild().getLeft(),u=a.getCtrl().getColumnGroupChild().getLeft();return l-u});const s=n.map(o=>o.getGui());MH(this.getGui(),s)}}createHeaderComp(e){let i;switch(this.ctrl.getType()){case"group":i=new Q0e(e);break;case"filter":i=new p0e(e);break;default:i=new X0e(e);break}return this.createBean(i),i.setParentComponent(this),i}};A([_e],JH.prototype,"init",1);A([Ka],JH.prototype,"destroyHeaderCtrls",1);var Z0e=0,zc=class mee extends Ie{constructor(e,i,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=r,this.beans=i,this.instanceId=e.getUniqueId()+"-"+Z0e++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(e){const{headerRowIndex:i,column:r}=this.focusService.getFocusedHeader();return dJ(this.gridOptionsService,e,i,r)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:i,beans:r}=this;sO.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const{beans:e,column:i}=this,r=e.columnModel.getAriaColumnIndex(i);vH(this.eGui,r)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var i;const n=this.gridOptionsService.getDocument().activeElement,s=e.key===ce.LEFT||e.key===ce.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),n!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const o=e.key===ce.LEFT!==this.gridOptionsService.get("enableRtl"),a=UJ[o?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const l=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(l,e.shiftKey),(i=this.resizeFeature)==null||i.toggleColumnResizing(!0)}else this.moveHeader(a)}getViewportAdjustedResizeDiff(e){let i=this.getResizeDiff(e);if(this.column.getPinned()){const n=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=Df(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(n+s+i>o)if(o>n+s)i=o-n-s;else return 0}return i}getResizeDiff(e){let i=e.key===ce.LEFT!==this.gridOptionsService.get("enableRtl");const r=this.column.getPinned(),n=this.gridOptionsService.get("enableRtl");return r&&n!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const i=this.getWrapperHasFocus();switch(e.key){case ce.PAGE_DOWN:case ce.PAGE_UP:case ce.PAGE_HOME:case ce.PAGE_END:i&&e.preventDefault()}}addDomData(){const e=mee.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,i,r){const n=e??i;this.gridOptionsService.get("preventDefaultOnContextMenu")&&n.preventDefault();const s=r instanceof Ci?r:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,e,i),this.dispatchColumnMouseEvent(L.EVENT_COLUMN_HEADER_CONTEXT_MENU,r)}dispatchColumnMouseEvent(e,i){const r={type:e,column:i};this.eventService.dispatchEvent(r)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};zc.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";A([W("pinnedWidthService")],zc.prototype,"pinnedWidthService",2);A([W("focusService")],zc.prototype,"focusService",2);A([W("userComponentFactory")],zc.prototype,"userComponentFactory",2);A([W("ctrlsService")],zc.prototype,"ctrlsService",2);A([W("dragAndDropService")],zc.prototype,"dragAndDropService",2);A([W("menuService")],zc.prototype,"menuService",2);A([_e],zc.prototype,"postConstruct",1);var uO=zc,cO=class extends Ie{constructor(e,i,r,n){super(),this.columnOrGroup=e,this.eCell=i,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Xt(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Ci.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),i=De(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),i=e.getLeft(),r=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,r),s=this.modifyLeftForPrintLayout(e,i);this.setLeft(n),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,i){if(!this.beans.gridOptionsService.isDomLayout("print")||e.getPinned()==="left")return i;const n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const s=this.beans.columnModel.getBodyContainerWidth();return n+s+i}return n+i}setLeft(e){if(De(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof Ci)this.columnOrGroup;else{const r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&HZ(this.ariaEl,r.length),r[0]}}};A([_e],cO.prototype,"postConstruct",1);var Sb=class extends Ie{constructor(e,i){super(),this.columns=e,this.element=i}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};A([W("columnHoverService")],Sb.prototype,"columnHoverService",2);A([_e],Sb.prototype,"postConstruct",1);var J0e=class extends uO{constructor(e,i,r){super(e,i,r),this.iconCreated=!1,this.column=e}setComp(e,i,r,n){this.comp=e,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=n,this.setGui(i),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Ci.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),i=!!e.filter,r=!!e.floatingFilter;this.active=i&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=tr("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new hh(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Ml(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const i=this.beans.columnModel;let r=this.column;do if(r=e?i.getDisplayedColBefore(r):i.getDisplayedColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const i=this.getWrapperHasFocus();switch(e.key){case ce.UP:case ce.DOWN:i||e.preventDefault();case ce.LEFT:case ce.RIGHT:if(i)return;e.stopPropagation();case ce.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ce.ESCAPE:i||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Sp(e.relatedTarget,"ag-floating-filter");if(r&&n&&e.target===this.eGui){const o=this.lastFocusEvent,a=!!(o&&o.key===ce.TAB);if(o&&a){const l=o.shiftKey;this.focusService.focusInto(this.eGui,l)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(){this.createManagedBean(new Sb([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};this.addManagedListener(this.eventService,L.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new cO(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,i=r=>{const n=this.comp.getFloatingFilterComp();n&&n.then(s=>{if(s){const o=e.getCurrentFloatingFilterParentModel(this.column);s.onParentModelChanged(o,r)}})};this.destroySyncListener=this.addManagedListener(this.column,Ci.EVENT_FILTER_CHANGED,i),e.isFilterActive(this.column)&&i(null)}setupWidth(){const e=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};this.addManagedListener(this.column,Ci.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Ci.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,i;const r=this.active;this.setupActive();const n=!r&&this.active;r&&!this.active&&((e=this.destroySyncListener)==null||e.call(this),(i=this.destroyFilterChangedListener)==null||i.call(this));const s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!s?this.updateCompDetails(s,n):o.then(a=>{var l;!a||this.beans.filterManager.areFilterCompsDifferent((l=this.userCompDetails)!=null?l:null,s)?this.updateCompDetails(s,n):this.updateFloatingFilterParams(s)})}updateCompDetails(e,i){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var i;if(!e)return;const r=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(n=>{let s=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(r)!==null&&(s=!0),!s&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(r)!==null&&ut("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},Xv=class extends Ie{constructor(e,i,r,n,s){super(),this.pinned=e,this.column=i,this.eResize=r,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let i,r;const n=()=>{if(kt(this.eResize,i),!i)return;const a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(a),r){const l=this.gridOptionsService.get("skipHeaderOnAutoSize"),u=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",l)};this.eResize.addEventListener("dblclick",u);const c=new mn(this.eResize);c.addEventListener(mn.EVENT_DOUBLE_TAP,u),e.push(()=>{this.eResize.removeEventListener("dblclick",u),c.removeEventListener(mn.EVENT_DOUBLE_TAP,u),c.destroy()})}},s=()=>{e.forEach(a=>a()),e.length=0},o=()=>{const a=this.column.isResizable(),l=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(a!==i||l!==r)&&(i=a,r=l,s(),n())};o(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(o)}onResizing(e,i){const{column:r,lastResizeAmount:n,resizeStartWidth:s}=this,o=this.normaliseResizeAmount(i),a=s+o,l=[{key:r,newWidth:a}];if(this.column.getPinned()){const u=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=Df(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(u+c+(o-n)>d)return}this.lastResizeAmount=o,this.columnModel.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let i=e;const r=this.pinned!=="left",n=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?r&&(i*=-1):n&&(i*=-1),i}};A([W("horizontalResizeService")],Xv.prototype,"horizontalResizeService",2);A([W("pinnedWidthService")],Xv.prototype,"pinnedWidthService",2);A([W("ctrlsService")],Xv.prototype,"ctrlsService",2);A([W("columnModel")],Xv.prototype,"columnModel",2);A([_e],Xv.prototype,"postConstruct",1);var e$=class extends Ie{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){const i=this.cbSelectAll,r=this.gridOptionsService.getDocument();i.isDisplayed()&&!i.getGui().contains(r.activeElement)&&(e.preventDefault(),i.setValue(!i.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new $H),this.cbSelectAll.addCssClass("ag-header-select-all"),dr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,L.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),lb(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const i=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${r})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return this.gridOptionsService.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const i=this.rowModel.getType();return i==="clientSide"||i==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${i}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),i=this.isFilteredOnly(),r=this.isCurrentPageOnly();let n="uiSelectAll";r?n="uiSelectAllCurrentPage":i&&(n="uiSelectAllFiltered");const s={source:n,justFiltered:i,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const i=e,r=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=i(r)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};A([W("rowModel")],e$.prototype,"rowModel",2);A([W("selectionService")],e$.prototype,"selectionService",2);var eOe=class extends uO{constructor(e,i,r){super(e,i,r),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,i,r,n){this.comp=e,this.setGui(i),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Xv(this.getPinned(),this.column,r,e,this)),this.createManagedBean(new Sb([this.column],i)),this.createManagedBean(new cO(this.column,i,this.beans)),this.createManagedBean(new hh(i,{shouldStopEventPropagation:s=>this.shouldStopEventPropagation(s),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Ci.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,i){var r,n;if(!this.column.isResizable())return;const s=this.column.getActualWidth(),o=(r=this.column.getMinWidth())!=null?r:0,a=(n=this.column.getMaxWidth())!=null?n:Number.MAX_SAFE_INTEGER,l=Math.min(Math.max(s+e,o),a);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:l}],i,!0,"uiColumnResized")}moveHeader(e){const{eGui:i,column:r,gridOptionsService:n,ctrlsService:s}=this,o=this.getPinned(),a=i.getBoundingClientRect().left,l=r.getActualWidth(),u=n.get("enableRtl"),c=e===0!==u,d=Tp.normaliseX(c?a-20:a+l+20,o,!0,n,s);Tp.attemptMoveColumns({allMovingColumns:[r],isFromHeader:!0,hDirection:e,xPosition:d,pinned:o,fromEnter:!1,fakeEvent:!1,gridOptionsService:n,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,r)=>{this.beans.sortController.setSortForColumn(this.column,i,!!r,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,r)=>{this.setupTooltip(i,r)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new e$(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ce.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ce.ENTER&&this.onEnterKeyDown(e),e.key===ce.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const i=e.shiftKey;this.beans.sortController.progressSort(this.column,i,"uiColumnSorted")}}showMenuOnKeyPress(e,i){const r=this.comp.getUserCompInstance();!r||!(r instanceof XN)||r.onMenuKeyboardShortcut(i)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",n=this.eGui,s=this.column.getColDef();!i&&r&&!s.headerComponent&&(i=()=>{const l=n.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},a=this.createManagedBean(new $c(o));this.refreshFunctions.push(()=>a.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const i=this.column.getColDef(),r=sO.getHeaderClassesFromColDef(i,this.gridOptionsService,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(s=>{n.has(s)?n.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),n.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:i,beans:r,displayName:n,dragAndDropService:s,gridOptionsService:o}=this,{columnModel:a}=r;let l=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?Dt.ICON_HIDE:Dt.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(i),dragItemName:n,onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),i.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>i.setMoving(!1,"uiColumnMoved"),onGridEnter:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];a.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];a.setColumnsVisible(h,!1,"uiColumnMoved")}}};s.addDragSource(u,!0)}createDragItem(e){const i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const i=this.comp.getUserCompInstance();return!i||!i.refresh?!1:i.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gridOptionsService.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};this.addManagedListener(this.column,Ci.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Ci.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Ci.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,Ci.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const e=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};this.addManagedListener(this.column,Ci.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){const e=()=>{const i=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:i,comp:r,beans:n}=this;if(!i.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",s>0);const{columnModel:a}=n,l=a.getColumnHeaderRowHeight();if(s===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}r.addOrRemoveCssClass("ag-header-span-total",o);const c=a.isPivotMode()?a.getPivotGroupHeaderHeight():a.getGroupHeaderHeight(),d=s*c;e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${l+d}px`)}setupAutoHeight(e){const{columnModel:i,resizeObserverService:r}=this.beans,n=c=>{if(!this.isAlive())return;const{paddingTop:d,paddingBottom:h,borderBottomWidth:f,borderTopWidth:g}=dh(this.getGui()),m=d+h+f+g,S=e.offsetHeight+m;if(c<5){const y=this.beans.gridOptionsService.getDocument(),w=!y||!y.contains(e),E=S==0;if(w||E){window.setTimeout(()=>n(c+1),0);return}}i.setColumnHeaderHeight(this.column,S)};let s=!1,o;const a=()=>{const c=this.column.isAutoHeaderHeight();c&&!s&&l(),!c&&s&&u()},l=()=>{s=!0,n(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),o=r.observeResize(e,()=>n(0))},u=()=>{s=!1,o&&o(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),o=void 0};a(),this.addDestroyFunc(()=>u()),this.addManagedListener(this.column,Ci.EVENT_WIDTH_CHANGED,()=>s&&n(0)),this.addManagedListener(this.eventService,Ci.EVENT_SORT_CHANGED,()=>{s&&window.setTimeout(()=>n(0))}),this.addRefreshFunction(a)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),i=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(OZ(i)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,i){i!=null?this.ariaDescriptionProperties.set(e,i):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){const e=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(e.activeElement))return;const i=Array.from(this.ariaDescriptionProperties.keys()).sort((r,n)=>r==="filter"?-1:n.charCodeAt(0)-r.charCodeAt(0)).map(r=>this.ariaDescriptionProperties.get(r)).join(". ");this.beans.ariaAnnouncementService.announceValue(i)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};this.addManagedListener(this.eventService,L.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent(L.EVENT_COLUMN_HEADER_CLICKED,this.column),r=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",r)}handleMouseOverChange(e){this.setActiveHeader(e);const r={type:e?L.EVENT_COLUMN_HEADER_MOUSE_OVER:L.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(r)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const i=this.comp.getUserCompInstance();return i instanceof XN?i.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},wb=class extends Ie{constructor(e,i,r,n){super(),this.eResize=i,this.comp=e,this.pinned=r,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.get("suppressAutoSize")){const i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||r.push(s.getColId())}),r.length>0&&this.columnModel.autoSizeColumns({columns:r,skipHeader:i,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const i=this.getInitialValues(e);this.storeLocalValues(i),this.toggleColumnResizing(!0)}onResizing(e,i,r="uiColumnResized"){const n=this.normaliseDragChange(i),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,r,e)}getInitialValues(e){const i=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(i),n=this.getSizeRatiosOfColumns(i,r),s={columnsToResize:i,resizeStartWidth:r,resizeRatios:n};let o=null;if(e&&(o=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),o){const a=o.getDisplayedLeafColumns(),l=s.groupAfterColumns=a.filter(c=>c.isResizable()),u=s.groupAfterStartWidth=this.getInitialSizeOfColumns(l);s.groupAfterRatios=this.getSizeRatiosOfColumns(l,u)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:i,resizeStartWidth:r,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:o,groupAfterRatios:a}=e;this.resizeCols=i,this.resizeStartWidth=r,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=a}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();i>r.resizeStartWidth&&this.resizeColumns(r,i,e,!0)}resizeColumnsFromLocalValues(e,i,r=!0){var n,s,o;if(!this.resizeCols||!this.resizeRatios)return;const a={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(n=this.resizeTakeFromCols)!=null?n:void 0,groupAfterStartWidth:(s=this.resizeTakeFromStartWidth)!=null?s:void 0,groupAfterRatios:(o=this.resizeTakeFromRatios)!=null?o:void 0};this.resizeColumns(a,e,i,r)}resizeColumns(e,i,r,n=!0){const{columnsToResize:s,resizeStartWidth:o,resizeRatios:a,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:c}=e,d=[];if(d.push({columns:s,ratios:a,width:i}),l){const h=i-o;d.push({columns:l,ratios:c,width:u-h})}this.columnModel.resizeColumnSets({resizeSets:d,finished:n,source:r}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(i=>i.isResizable())}getInitialSizeOfColumns(e){return e.reduce((i,r)=>i+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,i){return e.map(r=>r.getActualWidth()/i)}normaliseDragChange(e){let i=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(i*=-1):this.pinned==="right"&&(i*=-1),i}destroy(){super.destroy(),this.clearLocalValues()}};A([W("horizontalResizeService")],wb.prototype,"horizontalResizeService",2);A([W("autoWidthCalculator")],wb.prototype,"autoWidthCalculator",2);A([W("columnModel")],wb.prototype,"columnModel",2);A([_e],wb.prototype,"postConstruct",1);var vee=class extends Ie{constructor(e,i){super(),this.removeChildListenersFuncs=[],this.columnGroup=i,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,$r.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(i=>{i.addEventListener("widthChanged",e),i.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{i.removeEventListener("widthChanged",e),i.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}};A([_e],vee.prototype,"postConstruct",1);var tOe=class extends uO{constructor(e,i,r){super(e,i,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,i,r){this.comp=e,this.setGui(i),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const n=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Sb(s,i)),this.createManagedBean(new cO(this.column,i,this.beans)),this.createManagedBean(new vee(e,this.column)),this.resizeFeature=this.createManagedBean(new wb(e,r,n,this.column)),this.createManagedBean(new hh(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(L.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,i){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(i);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:i,eGui:r,column:n,gridOptionsService:s,ctrlsService:o}=this,a=s.get("enableRtl"),l=e===0,u=this.getPinned(),c=r.getBoundingClientRect(),d=c.left,h=c.width,f=Tp.normaliseX(l!==a?d-20:d+h+20,u,!0,s,o),g=n.getGroupId(),m=this.focusService.getFocusedHeader();Tp.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:f,pinned:u,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:i.columnModel});const C=n.getDisplayedLeafColumns(),S=l?C[0]:Xt(C);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(S,"auto"),!this.isAlive()&&m&&this.restoreFocus(g,n,m)}restoreFocus(e,i,r){const n=i.getLeafColumns();if(!n.length)return;const s=n[0].getParent();if(!s)return;const o=this.findGroupWidthId(s,e);o&&this.focusService.focusHeaderPosition({headerPosition:Wi(tt({},r),{column:o})})}findGroupWidthId(e,i){for(;e;){if(e.getGroupId()===i)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,n)=>{this.setupTooltip(r,n)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(){const e=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent(L.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),r=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",r)}handleMouseOverChange(e){const r={type:e?L.EVENT_COLUMN_HEADER_MOUSE_OVER:L.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(r)}setupTooltip(e,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.column.getColGroupDef(),n=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",s=this.eGui;!i&&n&&!(r!=null&&r.headerGroupComponent)&&(i=()=>{const a=s.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(r&&r.headerTooltip),shouldDisplayTooltip:i};r&&(o.getColDef=()=>r),this.createBean(new $c(o))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,br.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,br.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.column;this.expandable=e.isExpandable();const i=e.isExpanded();this.expandable?this.comp.setAriaExpanded(i?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),i=sO.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.column);this.column.isPadding()?(i.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&i.push("ag-header-span-height")):i.push("ag-header-group-cell-with-group"),i.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(){const i=this.column.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(n=>{this.addManagedListener(n,Ci.EVENT_MOVING_CHANGED,r)}),r()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const i=this.getWrapperHasFocus();if(!(!this.expandable||!i)&&e.key===ce.ENTER){const r=this.column,n=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:i,column:r,displayName:n,gridOptionsService:s,dragAndDropService:o}=this,{columnModel:a}=i,l=r.getProvidedColumnGroup().getLeafColumns();let u=!s.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>u?Dt.ICON_HIDE:Dt.ICON_NOT_ALLOWED,dragItemName:n,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{u=!s.get("suppressDragLeaveHidesColumns"),l.forEach(d=>d.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>l.forEach(d=>d.setMoving(!1,"uiColumnDragged")),onGridEnter:d=>{var h;if(u){const f=((h=d==null?void 0:d.columns)==null?void 0:h.filter(g=>!g.getColDef().lockVisible))||[];a.setColumnsVisible(f,!0,"uiColumnMoved")}},onGridExit:d=>{var h;if(u){const f=((h=d==null?void 0:d.columns)==null?void 0:h.filter(g=>!g.getColDef().lockVisible))||[];a.setColumnsVisible(f,!1,"uiColumnMoved")}}};o.addDragSource(c,!0)}getDragItemForGroup(e){const i=e.getProvidedColumnGroup().getLeafColumns(),r={};i.forEach(s=>r[s.getId()]=s.isVisible());const n=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(s=>{i.indexOf(s)>=0&&(n.push(s),Us(i,s))}),i.forEach(s=>n.push(s)),{columns:n,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.get("suppressMovableColumns")}},iOe=0,vS=class extends Ie{constructor(e,i,r){super(),this.instanceId=iOe++,this.rowIndex=e,this.pinned=i,this.type=r;const n=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,i=!0){this.comp=e,i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,L.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return vm(this.headerCellCtrls).find(i=>i.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{columnModel:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:i}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(i+"px")}getTopAndHeight(){const{columnModel:e,filterManager:i}=this.beans;let r=e.getHeaderRowCount();const n=[];let s=0;i.hasFloatingFilters()&&(r++,s=1);const o=e.getColumnGroupHeaderRowHeight(),a=e.getColumnHeaderRowHeight(),l=1+s,u=r-l;for(let h=0;h<u;h++)n.push(o);n.push(a);for(let h=0;h<s;h++)n.push(e.getFloatingFiltersHeight());let c=0;for(let h=0;h<this.rowIndex;h++)c+=n[h];const d=n[this.rowIndex];return{topOffset:c,rowHeight:d}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const i=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(i,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const i=this.getColumnsInViewport();for(const s of i)this.recycleAndCreateHeaderCtrls(s,e);const r=s=>{const{focusService:o,columnModel:a}=this.beans;return o.isHeaderWrapperFocused(s)?a.isDisplayed(s.getColumnGroupChild()):!1};if(e)for(const[s,o]of e)r(o)?this.headerCellCtrls.set(s,o):this.destroyBean(o);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,i){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let n;if(i&&(n=i.get(r),i.delete(r)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":n=this.createBean(new J0e(e,this.beans,this));break;case"group":n=this.createBean(new tOe(e,this.beans,this));break;default:n=this.createBean(new eOe(e,this.beans,this));break}this.headerCellCtrls.set(r,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const i=this.getActualDepth(),{columnModel:r}=this.beans;return["left",null,"right"].forEach(n=>{const s=r.getVirtualHeaderGroupRow(n,i);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,i){if(!this.headerCellCtrls)return!1;const n=Array.from(this.headerCellCtrls.values()).find(s=>s.getColumnGroupChild()==e);return n?n.focus(i):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}};A([W("beans")],vS.prototype,"beans",2);A([_e],vS.prototype,"postConstruct",1);var Ff=class extends Ie{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,i){this.comp=e,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const i=new Yv(this.pinned,e);this.createManagedBean(i)}refresh(e=!1){const i=new GH,r=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const l=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<l;u++){const c=this.createBean(new vS(i.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},s=()=>{const l=i.next(),u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==l);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new vS(l,this.pinned,"column")))},o=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const l=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){l();return}const u=i.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==u;(!e||c)&&l()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new vS(u,this.pinned,"filter")))};n(),s(),o();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(r)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new jv(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;const r=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const s=n==0,o=this.hidden!==s,a=this.gridOptionsService.get("enableRtl"),l=this.gridOptionsService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&e||!a&&i)?n+l:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!s),o&&(this.hidden=s,this.refresh())};this.addManagedListener(this.eventService,L.EVENT_LEFT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,L.EVENT_RIGHT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,r),this.addManagedListener(this.eventService,L.EVENT_SCROLLBAR_WIDTH_CHANGED,r)}getHeaderCtrlForColumn(e){if(e instanceof Ci)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const r=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(r)return r}}getHtmlElementForColumnHeader(e){const i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,i,r){const s=this.getAllCtrls()[e];return s?s.focusHeader(i,r):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};A([W("ctrlsService")],Ff.prototype,"ctrlsService",2);A([W("scrollVisibleService")],Ff.prototype,"scrollVisibleService",2);A([W("pinnedWidthService")],Ff.prototype,"pinnedWidthService",2);A([W("columnModel")],Ff.prototype,"columnModel",2);A([W("focusService")],Ff.prototype,"focusService",2);A([W("filterManager")],Ff.prototype,"filterManager",2);var If=class PD extends wt{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:r=>this.setDisplayed(r),setCtrls:r=>this.setCtrls(r),setCenterWidth:r=>this.eCenterContainer.style.width=r,setViewportScrollLeft:r=>this.getGui().scrollLeft=r,setPinnedContainerWidth:r=>{const n=this.getGui();n.style.width=r,n.style.maxWidth=r,n.style.minWidth=r}};this.createManagedBean(new Ff(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",i=this.pinned=="right",r=e?PD.PINNED_LEFT_TEMPLATE:i?PD.PINNED_RIGHT_TEMPLATE:PD.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let r;const n=s=>{const o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),r&&OH(this.eRowContainer,o,r),r=o};e.forEach(s=>{const o=s.getInstanceId(),a=i[o];delete i[o];const l=a||this.createBean(new JH(s));this.headerRowComps[o]=l,this.rowCompsList.push(l),n(l)}),Qd(i).forEach(s=>this.destroyRowComp(s))}};If.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>';If.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>';If.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;A([Ge("eCenterContainer")],If.prototype,"eCenterContainer",2);A([_e],If.prototype,"init",1);A([Ka],If.prototype,"destroyRowComps",1);var mL=If,Um=class extends Ie{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(i=>{this.gridBodyCon=i.gridBodyCtrl});const e=this.gridOptionsService.getDocument();this.addManagedListener(e,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,i,r){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;const{headerRowIndex:n,column:s}=i,o=this.getHeaderRowCount(),a=e===0;let{headerRowIndex:l,column:u,headerRowIndexWithoutSpan:c}=a?this.headerPositionUtils.getColumnVisibleParent(s,n):this.headerPositionUtils.getColumnVisibleChild(s,n),d=!1;return l<0&&(l=0,u=s,d=!0),l>=o?(l=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!u?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:u},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,i=!1,r){const n=this.focusService.getFocusedHeader(),s=e===2,o=this.gridOptionsService.get("enableRtl");let a,l;return this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,s!==o?(l="Before",a=this.headerPositionUtils.findHeader(n,l)):(l="After",a=this.headerPositionUtils.findHeader(n,l)),a||!i?this.focusService.focusHeaderPosition({headerPosition:a,direction:l,fromTab:i,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(n,l,r)}focusNextHeaderRow(e,i,r){const n=e.headerRowIndex;let s=null,o;if(i==="Before"?n>0&&(o=n-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),!s)return!1;const{column:a,headerRowIndex:l}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s==null?void 0:s.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:i,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,i="After"){if(e.getPinned())return;let r;if(e instanceof $r){const n=e.getDisplayedLeafColumns();r=i==="Before"?Xt(n):n[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}};A([W("focusService")],Um.prototype,"focusService",2);A([W("headerPositionUtils")],Um.prototype,"headerPositionUtils",2);A([W("ctrlsService")],Um.prototype,"ctrlsService",2);A([_e],Um.prototype,"postConstruct",1);Um=A([je("headerNavigationService")],Um);var Lf=class extends Ie{setComp(e,i,r){this.comp=e,this.eGui=i,this.createManagedBean(new hh(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",n),this.mockContextMenuForIPad(n),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let i=0,r=e.getHeaderRowCount(),n;this.filterManager.hasFloatingFilters()&&(r++,i=1);const o=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),l=1+i,u=r-l;if(n=i*e.getFloatingFiltersHeight(),n+=u*o,n+=a,this.headerHeight===n)return;this.headerHeight=n;const c=`${n+1}px`;this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:L.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const i=this.columnModel.getAllDisplayedColumns().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){const i=this.gridOptionsService.get("enableRtl"),r=e.shiftKey!==i?2:3;(this.headerNavigationService.navigateHorizontally(r,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let i=null;switch(e.key){case ce.LEFT:i=2;case ce.RIGHT:De(i)||(i=3),this.headerNavigationService.navigateHorizontally(i,!1,e);break;case ce.UP:i=0;case ce.DOWN:De(i)||(i=1),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const i=this.gridOptionsService.getDocument(),{relatedTarget:r}=e;!r&&this.eGui.contains(i.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,i,r){if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??i;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!Hc())return;const i=new mn(this.eGui),r=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListener(i,mn.EVENT_LONG_TAP,r),this.addDestroyFunc(()=>i.destroy())}};A([W("headerNavigationService")],Lf.prototype,"headerNavigationService",2);A([W("focusService")],Lf.prototype,"focusService",2);A([W("columnModel")],Lf.prototype,"columnModel",2);A([W("ctrlsService")],Lf.prototype,"ctrlsService",2);A([W("filterManager")],Lf.prototype,"filterManager",2);A([W("menuService")],Lf.prototype,"menuService",2);var Cee=class yee extends wt{constructor(){super(yee.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new Lf).setComp(e,this.getGui(),this.getFocusableElement());const r=n=>{this.createManagedBean(n),this.appendChild(n)};r(new mL("left")),r(new mL(null)),r(new mL("right"))}};Cee.TEMPLATE='<div class="ag-header" role="presentation"/>';A([_e],Cee.prototype,"postConstruct",1);var jP=class extends Ie{addResizeBar(e){const i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(i),()=>this.dragService.removeDragSource(i)}onDragStart(e,i){this.dragStartX=i.clientX,this.setResizeIcons();const r=i instanceof MouseEvent&&i.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,i){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};A([W("dragService")],jP.prototype,"dragService",2);A([W("ctrlsService")],jP.prototype,"ctrlsService",2);jP=A([je("horizontalResizeService")],jP);var Xp=class extends Ie{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,i,r){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:i,ePopup:n})},r,i.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,i,r){let n=-1,s="left";const o=this.menuService.isLegacyMenuEnabled();!o&&this.gridOptionsService.get("enableRtl")&&(n=1,s="right");let a=o?void 0:4*n,l=o?void 0:4;this.showPopup(e,u=>{this.popupService.positionPopupByComponent({type:r,eventSource:i,ePopup:u,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,i,o)}showPopup(e,i,r,n,s){const o=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!o||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const a=document.createElement("div");dr(a,"presentation"),a.classList.add("ag-menu"),s||a.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(a,"keydown",m=>this.trapFocusWithin(m,a)),o.guiPromise.then(m=>a.appendChild(m));let l;const u=()=>{var m;return(m=o.filterPromise)==null?void 0:m.then(C=>{var S;return(S=C==null?void 0:C.afterGuiDetached)==null?void 0:S.call(C)})},c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=m=>{e.setMenuVisible(!1,"contextMenu");const C=m instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&n&&Bo(n)){const S=this.focusService.findTabbableParent(n);S&&S.focus()}u(),this.dispatchVisibleChangedEvent(!1,r,e)},h=this.localeService.getLocaleTextFunc(),f=s&&r!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:d,positionCallback:()=>i(a),anchorToElement:c,ariaLabel:f});g&&(this.hidePopup=l=g.hideFunc),o.filterPromise.then(m=>{i(a),m.afterGuiAttached&&m.afterGuiAttached({container:r,hidePopup:l})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,i){e.key!==ce.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))}dispatchVisibleChangedEvent(e,i,r){const n={type:L.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:i,column:r??null};this.eventService.dispatchEvent(n)}isMenuEnabled(e){var i;return e.isFilterAllowed()&&((i=e.getColDef().menuTabs)!=null?i:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};A([W("filterManager")],Xp.prototype,"filterManager",2);A([W("popupService")],Xp.prototype,"popupService",2);A([W("focusService")],Xp.prototype,"focusService",2);A([W("ctrlsService")],Xp.prototype,"ctrlsService",2);A([W("menuService")],Xp.prototype,"menuService",2);Xp=A([je("filterMenuFactory")],Xp);var t$=class extends Ie{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:i,eTopGuard:r,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:c,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:f}=e;this.comp=i,this.eTopGuard=r,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=f,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h}postConstruct(){this.createManagedBean(new hh(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}const i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)}findNextElementOutsideAndFocus(e){const i=this.gridOptionsService.getDocument(),r=this.focusService.findFocusableElements(i.body,null,!0),n=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,o;e?(s=0,o=n):(s=n+1,o=r.length);const a=r.slice(s,o),l=this.gridOptionsService.get("tabIndex");a.sort((u,c)=>{const d=parseInt(u.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===l?1:d===l?-1:d===0?1:h===0?-1:d-h}),a[e?a.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};A([W("focusService")],t$.prototype,"focusService",2);A([_e],t$.prototype,"postConstruct",1);var Eb=class extends wt{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const i=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:n=>{i.forEach(s=>n!=null?s.setAttribute("tabindex",n):s.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new t$({comp:r,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const i=document.createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return i.classList.add("ag-tab-guard",r),dr(i,"presentation"),i}addTabGuards(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Ir(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,i){cb(e)||(e=e.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",e):super.appendChild(e,i)}},dO=class See extends Eb{constructor(e){super(See.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,i,r;return(r=(i=(e=this.activeItem)==null?void 0:e.tabbedItem)==null?void 0:i.afterDetachedCallback)==null?void 0:r.call(i)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}setupHeader(){const{enableCloseButton:e,cssClass:i}=this.params,r=(n,s)=>{n.classList.add(`ag-tabs-${s}`),i&&n.classList.add(`${i}-${s}`)};e?(this.setupCloseButton(r),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),r(this.eHeader,"header-wrapper"),dr(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,dr(this.eTabHeader,"tablist"),r(this.eTabHeader,"header")}setupCloseButton(e){const i=this.gridOptionsService.getDocument(),r=i.createElement("button");e(r,"close-button");const n=tr("close",this.gridOptionsService,void 0,!0);Ml(r,this.params.closeButtonAriaLabel),r.appendChild(n),this.addManagedListener(r,"click",()=>{var o,a;return(a=(o=this.params).onCloseClicked)==null?void 0:a.call(o)});const s=i.createElement("div");e(s,"close-button-wrapper"),dr(s,"presentation"),s.appendChild(r),this.eHeader.appendChild(s),this.eCloseButton=r}handleKeyDown(e){const i=this.gridOptionsService.getDocument();switch(e.key){case ce.RIGHT:case ce.LEFT:if(!this.eTabHeader.contains(i.activeElement))return;const r=e.key===ce.RIGHT,n=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),o=r!==n?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===o)return;e.preventDefault();const a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case ce.UP:case ce.DOWN:e.stopPropagation();break}}onTabKeyDown(e){var i,r,n,s;if(e.defaultPrevented)return;const{focusService:o,eHeader:a,eBody:l,activeItem:u,params:c}=this,{suppressTrapFocus:d,enableCloseButton:h}=c,g=this.gridOptionsService.getDocument().activeElement,m=e.target,C=e.shiftKey;if(a.contains(g)){e.preventDefault(),h&&C&&!((i=this.eCloseButton)!=null&&i.contains(g))?(r=this.eCloseButton)==null||r.focus():d&&C?(n=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,m))==null||n.focus():this.focusBody(e.shiftKey);return}let S=null;if(o.isTargetUnderManagedComponent(l,m)&&(C&&(S=this.focusService.findFocusableElementBeforeTabGuard(l,m)),!S&&!d&&(S=u.eHeaderButton)),!S&&l.contains(g)&&(S=o.findNextFocusableElement(l,!1,C),!S)){e.preventDefault(),d&&!C?this.forceFocusOutOfContainer(C):h&&!C?(s=this.eCloseButton)==null||s.focus():this.focusHeader();return}S&&(e.preventDefault(),S.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const i=document.createElement("span");dr(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eTabHeader.appendChild(i),Ml(i,e.titleLabel);const r={tabbedItem:e,eHeaderButton:i};this.items.push(r),i.addEventListener("click",this.showItemWrapper.bind(this,r))}showItem(e){const i=this.items.find(r=>r.tabbedItem===e);i&&this.showItemWrapper(i)}showItemWrapper(e){var i,r,n,s,o,a;const{tabbedItem:l,eHeaderButton:u}=e;if((r=(i=this.params).onItemClicked)==null||r.call(i,{item:l}),this.activeItem===e){(s=(n=this.params).onActiveItemClicked)==null||s.call(n);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Ir(this.eBody),l.bodyPromise.then(c=>{this.eBody.appendChild(c);const d=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,d),l.afterAttachedCallback&&l.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const h=l.getScrollableContainer&&l.getScrollableContainer()||c;this.lastScrollListener=this.addManagedListener(h,"scroll",()=>{this.tabbedItemScrollMap.set(l.name,h.scrollTop)});const f=this.tabbedItemScrollMap.get(l.name);f!==void 0&&setTimeout(()=>{h.scrollTop=f},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(a=(o=this.activeItem.tabbedItem).afterDetachedCallback)==null||a.call(o)),u.classList.add("ag-tab-selected"),this.activeItem=e}};A([W("focusService")],dO.prototype,"focusService",2);A([Ge("eHeader")],dO.prototype,"eHeader",2);A([Ge("eBody")],dO.prototype,"eBody",2);A([_e],dO.prototype,"postConstruct",1);var rOe=50,fK=class extends Ie{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,i){const r=this.gridOptionsService.getWindow(),n=()=>{const l=new r.ResizeObserver(i);return l.observe(e),()=>l.disconnect()},s=()=>{var l,u;let c=(l=e==null?void 0:e.clientWidth)!=null?l:0,d=(u=e==null?void 0:e.clientHeight)!=null?u:0,h=!0;const f=()=>{var g,m;if(h){const C=(g=e==null?void 0:e.clientWidth)!=null?g:0,S=(m=e==null?void 0:e.clientHeight)!=null?m:0;(C!==c||S!==d)&&(c=C,d=S,i()),this.doNextPolyfillTurn(f)}};return f(),()=>h=!1},o=this.gridOptionsService.get("suppressBrowserResizeObserver");return!!r.ResizeObserver&&!o?n():this.getFrameworkOverrides().wrapIncoming(()=>s(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const i=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],i.forEach(r=>r())};this.polyfillScheduled=!0,window.setTimeout(e,rOe)}};fK=A([je("resizeObserverService")],fK);var uw=class extends Ie{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const i=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&e===0){const r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,i,r){this.verifyAnimationFrameOn(r);const n={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[r],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,i){e.list.push(i),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const i=this.scrollGoingDown?1:-1;e.list.sort((r,n)=>r.index!==n.index?i*(n.index-r.index):n.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const i=this.createTasksP1,r=i.list,n=this.createTasksP2,s=n.list,o=this.destroyTasks,a=new Date().getTime();let l=new Date().getTime()-a;const u=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;u||l<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let h;if(r.length)this.sortTaskList(i),h=r.pop().task;else if(s.length)this.sortTaskList(n),h=s.pop().task;else if(o.length)h=o.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}l=new Date().getTime()-a}r.length||s.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const i=this.gridOptionsService.getWindow();i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let i=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}i||(i=!0,this.addDestroyTask(()=>{i=!1,e()}))}}};A([W("ctrlsService")],uw.prototype,"ctrlsService",2);A([W("paginationProxy")],uw.prototype,"paginationProxy",2);A([_e],uw.prototype,"init",1);uw=A([je("animationFrameService")],uw);var KP=class extends Ie{postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(e){if(!this.isClientSideRowModel)return;const i=new Set(e);this.rowModel.forEachNode(r=>{r.id&&i.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:i,id:r})=>{i&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,i,r){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,i,r),e.setExpanded(i))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};A([W("rowModel")],KP.prototype,"rowModel",2);A([_e],KP.prototype,"postConstruct",1);KP=A([je("expansionService")],KP);var Pu=class extends Ie{postConstruct(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!=null?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const i=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,i,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,i,r)}showContextMenu(e){var i,r,n;const{column:s,anchorToElement:o,rowNode:a,value:l}=e;(n=this.contextMenuFactory)==null||n.onContextMenu((i=e.mouseEvent)!=null?i:null,(r=e.touchEvent)!=null?r:null,a??null,s??null,l,o)}showColumnChooser(e){var i;(i=this.columnChooserFactory)==null||i.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:i,suppressHeaderMenuButton:r}=e.getColDef();return!(r??i)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Hc()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var i;const r=e.getColDef(),n=(i=r.floatingFilterComponentParams)==null?void 0:i.suppressFilterButton;return n!=null&&ut("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),r.suppressFloatingFilterButton==null?!n:!r.suppressFloatingFilterButton}getColumnMenuType(){var e;return(e=this.gridOptionsService.get("columnMenu"))!=null?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?e:!0}showColumnMenuCommon(e,i,r,n){const{column:s,positionBy:o}=i;if(o==="button"){const{buttonElement:a}=i;e.showMenuAfterButtonClick(s,a,r,n)}else if(o==="mouse"){const{mouseEvent:a}=i;e.showMenuAfterMouseEvent(s,a,r,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const a=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,a.getAnchorElementForMenu(n),r,!0)}))}};A([ai("enterpriseMenuFactory")],Pu.prototype,"enterpriseMenuFactory",2);A([W("filterMenuFactory")],Pu.prototype,"filterMenuFactory",2);A([ai("contextMenuFactory")],Pu.prototype,"contextMenuFactory",2);A([W("ctrlsService")],Pu.prototype,"ctrlsService",2);A([W("animationFrameService")],Pu.prototype,"animationFrameService",2);A([ai("columnChooserFactory")],Pu.prototype,"columnChooserFactory",2);A([W("filterManager")],Pu.prototype,"filterManager",2);A([_e],Pu.prototype,"postConstruct",1);Pu=A([je("menuService")],Pu);var zm=class extends Ie{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,i){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return i||n.push(r),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1}addElementsToContainerAndGetWidth(e){const i=document.createElement("form");i.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(o=>this.cloneItemIntoDummy(o,i)),r.appendChild(i);const n=i.offsetWidth;r.removeChild(i);const s=this.getAutoSizePadding();return n+s}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(e){let i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const n=r.getHtmlElementForColumnHeader(e);n!=null&&(i=n)}),i}cloneItemIntoDummy(e,i){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(l=>r.classList.contains(l))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(u=>a.classList.contains(u))){for(let u=0;u<a.classList.length;u++){const c=a.classList[u];c!="ag-row-position-absolute"&&s.add(c)}break}a=a.parentElement}n.appendChild(r),i.appendChild(n)}};A([W("rowRenderer")],zm.prototype,"rowRenderer",2);A([W("ctrlsService")],zm.prototype,"ctrlsService",2);A([W("rowCssClassCalculator")],zm.prototype,"rowCssClassCalculator",2);A([_e],zm.prototype,"postConstruct",1);zm=A([je("autoWidthCalculator")],zm);var bb=class extends Ie{constructor(e,i){super(),this.createRowCon=e,this.destroyRowCtrls=i,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],e);const i=[],r=this.rowRenderer.getFirstVisibleVerticalPixel(),n=o=>{var a,l,u;i.push(o);let c;if(this.isClientSide){let h=o;for(;h.isExpandable()&&h.expanded;)if(h.master)h=h.detailNode;else if(h.childrenAfterSort){if(h.childrenAfterSort.length===0)break;h=Xt(h.childrenAfterSort)}c=h.rowTop+h.rowHeight}else if(o.master)c=o.detailNode.rowTop+o.detailNode.rowHeight;else{const h=(a=o.childStore)==null?void 0:a.getStoreBounds();c=((l=h==null?void 0:h.heightPx)!=null?l:0)+((u=h==null?void 0:h.topPx)!=null?u:0)}const d=r+e+o.rowHeight;c<d?o.stickyRowTop=e+(c-d):o.stickyRowTop=e,e=0,i.forEach(h=>{const f=h.stickyRowTop+h.rowHeight;e<f&&(e=f)})};let s=0;for(;;){const o=r+e,a=this.rowModel.getRowIndexAtPixel(o),l=this.rowModel.getRow(a);if(l==null||l.level<0||s++===100)break;const u=[];let c=l.parent;for(;c.level>=0;)u.push(c),c=c.parent;const d=u.reverse().find(h=>i.indexOf(h)<0&&h.displayed);if(d){n(d);continue}if(l.isExpandable()&&l.expanded&&l.rowTop<o){n(l);continue}break}return this.refreshNodesAndContainerHeight(i,e)}refreshStickyNode(e){const i=[];for(let r=0;r<this.stickyRowCtrls.length;r++){const n=this.stickyRowCtrls[r].getRowNode();n!==e&&i.push(n)}this.refreshNodesAndContainerHeight(i,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,i){let r=!1;const n=this.stickyRowCtrls.filter(l=>e.indexOf(l.getRowNode())===-1),s=e.filter(l=>this.stickyRowCtrls.findIndex(u=>u.getRowNode()===l)===-1);(n.length||s.length)&&(r=!0);const o={};n.forEach(l=>{o[l.getRowNode().id]=l,this.stickyRowCtrls=this.stickyRowCtrls.filter(u=>u!==l)});for(const l of Object.values(o))l.getRowNode().sticky=!1;this.destroyRowCtrls(o,!1);const a=s.map(l=>(l.sticky=!0,this.createRowCon(l,!1,!1)));return this.stickyRowCtrls.push(...a),this.stickyRowCtrls.forEach(l=>l.setRowTop(l.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((l,u)=>u.getRowNode().rowIndex-l.getRowNode().rowIndex),this.containerHeight!==i&&(this.containerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),r=!0),r}};A([W("rowModel")],bb.prototype,"rowModel",2);A([W("rowRenderer")],bb.prototype,"rowRenderer",2);A([W("ctrlsService")],bb.prototype,"ctrlsService",2);A([_e],bb.prototype,"postConstruct",1);var Ga=class extends Ie{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onRangeSelectionChanged())},i=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener(L.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener(L.EVENT_COLUMN_MOVED,i),this.eventService.addEventListener(L.EVENT_COLUMN_PINNED,i),this.eventService.addEventListener(L.EVENT_COLUMN_VISIBLE,i)},n=()=>{this.eventService.removeEventListener(L.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener(L.EVENT_COLUMN_MOVED,i),this.eventService.removeEventListener(L.EVENT_COLUMN_PINNED,i),this.eventService.removeEventListener(L.EVENT_COLUMN_VISIBLE,i)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListener("enableRangeSelection",o=>{o.currentValue?r():n()}),this.gridOptionsService.get("enableRangeSelection")&&r()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,L.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,L.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,L.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new bb(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),i=e??3;this.cachedRowCtrls=new nOe(i)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Qd(this.rowCtrlsByRowIndex),i=Qd(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];i.length>0||r.length>0?this.allRowCtrls=[...e,...i,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(i=>i.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(i=>i.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,L.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,L.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,L.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(e))}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,L.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(i=>{const r=u=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===i&&u(c)})},n=()=>{r(u=>u.onLeftChanged())},s=()=>{r(u=>u.onWidthChanged())},o=()=>{r(u=>u.onFirstRightPinnedChanged())},a=()=>{r(u=>u.onLastLeftPinnedChanged())},l=()=>{r(u=>u.onColDefChanged())};i.addEventListener("leftChanged",n),i.addEventListener("widthChanged",s),i.addEventListener("firstRightPinnedChanged",o),i.addEventListener("lastLeftPinnedChanged",a),i.addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{i.removeEventListener("leftChanged",n),i.removeEventListener("widthChanged",s),i.removeEventListener("firstRightPinnedChanged",o),i.removeEventListener("lastLeftPinnedChanged",a),i.removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),i=e||this.gridOptionsService.get("embedFullWidthRows"),r=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const i={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(i)}getAllCellsForColumn(e){const i=[];return this.getAllRowCtrls().forEach(r=>{const n=r.getCellElement(e);n&&i.push(n)}),i}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,i){e.forEach(r=>{r.destroyFirstPass(),r.destroySecondPass()}),e.length=0,i&&i.forEach(r=>{const n=new Rp(r,this.beans,!1,!1,this.printLayout);e.push(n)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,i=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=s=>{const o=s[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const i=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(i==null)return null;const n=this.gridOptionsService.getDocument().activeElement,s=this.gridOptionsService.getDomData(n,bp.DOM_DATA_KEY_CELL_CTRL),o=this.gridOptionsService.getDomData(n,Rp.DOM_DATA_KEY_ROW_CTRL);return s||o?i:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&this.gridOptionsService.isAnimateRows(),s=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),i!=null&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const i=e.newData||e.newPage,r=this.gridOptionsService.get("suppressScrollOnNewData");i&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(e=!1){this.getAllRowCtrls().forEach(i=>{i.stopEditing(e)})}getAllCellCtrls(){const e=[],i=this.getAllRowCtrls(),r=i.length;for(let n=0;n<r;n++){const s=i[n].getAllCellCtrls(),o=s.length;for(let a=0;a<o;a++)e.push(s[a])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const r of Object.keys(this.rowCtrlsByRowIndex))i.push(this.rowCtrlsByRowIndex[r]);return i}addRenderedRowListener(e,i,r){const n=this.rowCtrlsByRowIndex[i];n&&n.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.flashCell(e))}refreshCells(e={}){const i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>r.refreshOrDestroyCell(i)),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(r=>{if(!r.isFullWidth())return;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var i;const r=this.getCellCtrls(e.rowNodes,e.columns).map(o=>o.getCellRenderer()).filter(o=>o!=null);if((i=e.columns)!=null&&i.length)return r;const n=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(s&&!this.isRowInMap(o.getRowNode(),s)||!o.isFullWidth())return;const a=o.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const u=a[l];u!=null&&n.push(u)}}),[...n,...r]}getCellEditorInstances(e){const i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const n=r.getCellEditor();n&&i.push(n)}),i}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(i=>{if(i.isEditing()){const r=i.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const i={top:{},bottom:{},normal:{}};return e.forEach(r=>{const n=r.id;r.rowPinned==="top"?i.top[n]=r:r.rowPinned==="bottom"?i.bottom[n]=r:i.normal[n]=r}),i}isRowInMap(e,i){const r=e.id,n=e.rowPinned;return n==="bottom"?i.bottom[r]!=null:n==="top"?i.top[r]!=null:i.normal[r]!=null}getRowCtrls(e){const i=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!i?r:r.filter(n=>{const s=n.getRowNode();return this.isRowInMap(s,i)})}getCellCtrls(e,i){let r;De(i)&&(r={},i.forEach(s=>{const o=this.columnModel.getGridColumn(s);De(o)&&(r[o.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(o=>{const a=o.getColumn().getId();r&&!r[a]||n.push(o)})}),n}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];Oo(this.rowCtrlsByRowIndex,(r,n)=>{n.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const i={};return Oo(this.rowCtrlsByRowIndex,(r,n)=>{const s=n.getRowNode();i[s.id]=n}),this.rowCtrlsByRowIndex={},i}removeRowCtrls(e,i=!1){e.forEach(r=>{const n=this.rowCtrlsByRowIndex[r];n&&(n.destroyFirstPass(i),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:i}=e;let r;this.stickyRowFeature&&EH()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;this.stickyRowFeature&&(o=this.stickyRowFeature.checkStickyRows());const a=this.firstRenderedRow!==n||this.lastRenderedRow!==s;if(!(i&&!o&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!o),r!=null)){const l=this.getCellToRestoreFocusToAfterRefresh();r!=null&&l==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,i){const r={};e.forEach(o=>r[o]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!r[o]);this.removeRowCtrls(s,i)}calculateIndexesToDraw(e){let i=QZ(this.firstRenderedRow,this.lastRenderedRow);const r=(s,o)=>{const a=o.getRowNode().rowIndex;a!=null&&(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&i.push(a)};Oo(this.rowCtrlsByRowIndex,r),Oo(e,r),i.sort((s,o)=>s-o);const n=[];for(let s=0;s<i.length;s++){const o=i[s],a=this.paginationProxy.getRow(o);a&&!a.sticky&&n.push(o)}return n}recycleRows(e,i=!1,r=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(i=!1),this.removeRowCompsNotToDraw(n,!i),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,i,r)}),e&&(r&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,i),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,i)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const i={type:L.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(i)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(i=>{const r=i.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const n=r.getRowNode();return!(i!=null&&!this.isRowInMap(n,i))})}createOrUpdateRowCtrl(e,i,r,n){let s,o=this.rowCtrlsByRowIndex[e];if(o||(s=this.paginationProxy.getRow(e),De(s)&&De(i)&&i[s.id]&&s.alreadyRendered&&(o=i[s.id],i[s.id]=null)),!o)if(s||(s=this.paginationProxy.getRow(e)),De(s))o=this.createRowCon(s,r,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,i){const r=[];Oo(e,(n,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!i),i?(this.zombieRowCtrls[s.getInstanceId()]=s,r.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),i&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),nZ(r))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),i=this.gridOptionsService.getRowHeightAsNumber();return e*i}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,i;if(!this.paginationProxy.isRowsToRender())e=0,i=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{const l=this.getRowBufferInPixels(),u=this.ctrlsService.getGridBodyCtrl(),c=this.gridOptionsService.get("suppressRowVirtualisation");let d=!1,h,f;do{const y=this.paginationProxy.getPixelOffset(),{pageFirstPixel:w,pageLastPixel:E}=this.paginationProxy.getCurrentPagePixelRange(),b=this.rowContainerHeightService.getDivStretchOffset(),D=u.getScrollFeature().getVScrollPosition(),P=D.top,O=D.bottom;c?(h=w+b,f=E+b):(h=Math.max(P+y-l,w)+b,f=Math.min(O+y+l,E)+b),this.firstVisibleVPixel=Math.max(P+y,w)+b,d=this.ensureAllRowsInRangeHaveHeightsCalculated(h,f)}while(d);let g=this.paginationProxy.getRowIndexAtPixel(h),m=this.paginationProxy.getRowIndexAtPixel(f);const C=this.paginationProxy.getPageFirstRow(),S=this.paginationProxy.getPageLastRow();g<C&&(g=C),m>S&&(m=S),e=g,i=m}const r=this.gridOptionsService.isDomLayout("normal"),n=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);r&&!n&&i-e>s&&(i=e+s);const o=e!==this.firstRenderedRow,a=i!==this.lastRenderedRow;if(o||a){this.firstRenderedRow=e,this.lastRenderedRow=i;const l={type:L.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:i};this.eventService.dispatchEvent(l)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:L.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,i){const r=this.paginationProxy.ensureRowHeightsValid(e,i,-1,-1);return r&&this.updateContainerHeights(),r}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),s=this.focusService.isRowNodeFocused(n),o=e.isEditing(),a=n.detail;return s||o||a?!!this.paginationProxy.isRowPresent(n):!1}createRowCon(e,i,r){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const s=this.gridOptionsService.get("suppressAnimationFrame"),o=r&&!s&&!this.printLayout;return new Rp(e,this.beans,i,o,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(i=>e[i].getRowNode())}getRowByPosition(e){let i;const{rowIndex:r}=e;switch(e.rowPinned){case"top":i=this.topRowCtrls[r];break;case"bottom":i=this.bottomRowCtrls[r];break;default:i=this.rowCtrlsByRowIndex[r],i||(i=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===r)||null);break}return i}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,i){if(e==null||i==null)return!1;const n=e>this.lastRenderedRow;return!(i<this.firstRenderedRow)&&!n}};A([W("animationFrameService")],Ga.prototype,"animationFrameService",2);A([W("paginationProxy")],Ga.prototype,"paginationProxy",2);A([W("columnModel")],Ga.prototype,"columnModel",2);A([W("pinnedRowModel")],Ga.prototype,"pinnedRowModel",2);A([W("rowModel")],Ga.prototype,"rowModel",2);A([W("focusService")],Ga.prototype,"focusService",2);A([W("beans")],Ga.prototype,"beans",2);A([W("rowContainerHeightService")],Ga.prototype,"rowContainerHeightService",2);A([W("ctrlsService")],Ga.prototype,"ctrlsService",2);A([_e],Ga.prototype,"postConstruct",1);Ga=A([je("rowRenderer")],Ga);var nOe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const i=this.entriesList[0];i.destroyFirstPass(),i.destroySecondPass(),this.removeFromCache(i)}}getRow(e){if(e==null||e.id==null)return null;const i=this.entriesMap[e.id];return i?(this.removeFromCache(i),i.setCached(!1),i.getRowNode()!=e?null:i):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const i=e.id,r=this.entriesMap[i];delete this.entriesMap[i],Us(this.entriesList,r)}removeFromCache(e){const i=e.getRowNode().id;delete this.entriesMap[i],Us(this.entriesList,e)}getEntries(){return this.entriesList}},e1=class extends Ie{formatValue(e,i,r,n,s=!0){let o=null,a;const l=e.getColDef();if(n?a=n:s&&(a=l.valueFormatter),a){const u=this.gridOptionsService.addGridCommonParams({value:r,node:i,data:i?i.data:null,colDef:l,column:e});typeof a=="function"?o=a(u):o=this.expressionService.evaluate(a,u)}else if(l.refData)return l.refData[r]||"";return o==null&&Array.isArray(r)&&(o=r.join(", ")),o}};A([W("expressionService")],e1.prototype,"expressionService",2);e1=A([je("valueFormatterService")],e1);var YP=class extends Ie{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(e){const i=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Po(i)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,i){const r=i==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Po(r))return 0;for(let n=0;n<r.length;n++){const s=r[n];if(s.rowTop+s.rowHeight-1>=e)return n}return r.length-1}setPinnedTopRowData(){const e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);const i={type:L.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)}setPinnedBottomRowData(){const e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);const i={type:L.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)}createNodesFromData(e,i){const r=[];if(e){let n=0;e.forEach((s,o)=>{const a=new Wt(this.beans);a.data=s;const l=i?Wt.ID_PREFIX_TOP_PINNED:Wt.ID_PREFIX_BOTTOM_PINNED;a.id=l+o,a.rowPinned=i?"top":"bottom",a.setRowTop(n),a.setRowHeight(this.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(o),n+=a.rowHeight,r.push(a)})}return r}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Po(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Po(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const i=Xt(e);return i.rowTop+i.rowHeight}};A([W("beans")],YP.prototype,"beans",2);A([_e],YP.prototype,"init",1);YP=A([je("pinnedRowModel")],YP);var i$=class{constructor(e,i){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:i,children:null},this.mapToItems[i.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,i){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],i);i(e.rowNode)}depthFirstSearchEverything(e,i,r){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const s=e.childrenAfterGroup[n];s.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],i,r):r&&i(s)}i(e)}forEachChangedNodeDepthFirst(e,i=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,i)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let i=e,r=0;for(;!this.mapToItems[i.id];){const n={rowNode:i,children:null};this.mapToItems[i.id]=n,r++,i=i.parent}return r}populateColumnsMap(e,i){if(!this.keepingColumns||!i)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),i.forEach(n=>this.nodeIdsToColumns[r.id][n.getId()]=!0),r=r.parent}linkPathItems(e,i){let r=e;for(let n=0;n<i;n++){const s=this.mapToItems[r.id],o=this.mapToItems[r.parent.id];o.children||(o.children=[]),o.children.push(s),r=r.parent}}addParentNode(e,i){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,i)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,i){if(!this.keepingColumns)return i;const r=this.nodeIdsToColumns[e.id];return i.filter(s=>r[s.getId()])}getNotValueColumnsForNode(e,i){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return i.filter(s=>!r[s.getId()])}},Qv=class Kh extends Ie{constructor(e){super(),this.state=Kh.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=Kh.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=Kh.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=Kh.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,i){this.successCommon(e,i)}pageLoaded(e,i,r){this.successCommon(e,{rowData:i,rowCount:r})}isRequestMostRecentAndLive(e){const i=e===this.version,r=this.isAlive();return i&&r}successCommon(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=Kh.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(e=!0){const i={type:Kh.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(i)}};Qv.EVENT_LOAD_COMPLETE="loadComplete";Qv.STATE_WAITING_TO_LOAD="needsLoading";Qv.STATE_LOADING="loading";Qv.STATE_LOADED="loaded";Qv.STATE_FAILED="failed";var gK=Qv,bc=class extends Ie{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Kp.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(gK.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Kp.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:bc.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:bc.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),i=this.blocks.filter(r=>r.getState()===gK.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(i.length),i.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(i=>{const{id:r,state:n}=i.getBlockStateJson();e[r]=n}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};bc.BLOCK_LOADED_EVENT="blockLoaded";bc.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";A([W("rowModel")],bc.prototype,"rowModel",2);A([_e],bc.prototype,"postConstruct",1);A([ml(0,vl("loggerFactory"))],bc.prototype,"setBeans",1);bc=A([je("rowNodeBlockLoader")],bc);var qP=class extends Ie{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,L.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,i,r,n){const s=this.rowModel.ensureRowHeightsValid(e,i,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s}isPaginateChildRows(){return this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.get("paginateChildRows")}onModelUpdated(e){this.calculatePages();const i={type:L.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(i)}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();const e={type:L.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e;const i={type:L.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(i)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return gt(this.topRowBounds)||gt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,i=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:i}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const i=this.getPageFirstRow(),r=this.getPageLastRow();for(let n=i;n<=r;n++){const s=this.getRow(n);s&&e(s)}}getType(){return this.rowModel.getType()}getRowBounds(e){const i=this.rowModel.getRowBounds(e);return i.rowIndex=e,i}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const i=this.getPageForIndex(e);this.goToPage(i)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return De(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:De(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:De(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:De(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:L.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(e,i){const r=this.pageSize;switch(i){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(r!==this.pageSize){const n={type:L.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(n)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(De(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:L.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const i=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(i),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};A([W("rowModel")],qP.prototype,"rowModel",2);A([_e],qP.prototype,"postConstruct",1);qP=A([je("paginationProxy")],qP);var t1=class extends Ie{processAllCellClasses(e,i,r,n){this.processClassRules(void 0,e.cellClassRules,i,r,n),this.processStaticCellClasses(e,i,r)}processClassRules(e,i,r,n,s){if(i==null&&e==null)return;const o={},a={},l=(u,c)=>{u.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(i){const u=Object.keys(i);for(let c=0;c<u.length;c++){const d=u[c],h=i[d];let f;typeof h=="string"?f=this.expressionService.evaluate(h,r):typeof h=="function"&&(f=h(r)),l(d,g=>{f?o[g]=!0:a[g]=!0})}}e&&s&&Object.keys(e).forEach(u=>l(u,c=>{o[c]||(a[c]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(n)}getStaticCellClasses(e,i){const{cellClass:r}=e;if(!r)return[];let n;return typeof r=="function"?n=r(i):n=r,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,i,r){this.getStaticCellClasses(e,i).forEach(s=>{r(s)})}};A([W("expressionService")],t1.prototype,"expressionService",2);t1=A([je("stylingService")],t1);var sOe=class extends $H{constructor(e){super(e,"ag-toggle-button")}setValue(e,i){return super.setValue(e,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},r$=class extends wt{constructor(e,i){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=i}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let i="";this.params.valueFormatter&&(i=this.params.valueFormatter(e)),this.populateWithRenderer(e,i)||this.populateWithoutRenderer(e,i),this.value=e}highlightString(e){const{parsedValue:i}=this;if(this.params.cellRenderer||!De(i))return;let r=De(e);if(r){const n=i==null?void 0:i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const s=n+e.length,o=jr(i.slice(0,n),!0),a=jr(i.slice(n,s),!0),l=jr(i.slice(s));this.renderValueWithoutRenderer(`${o}<span class="ag-rich-select-row-text-highlight">${a}</span>${l}`)}else r=!1}r||this.renderValueWithoutRenderer(i)}updateHighlighted(e){var i;const r=this.getGui(),n=`ag-rich-select-row-${this.getCompId()}`;if((i=r.parentElement)==null||i.setAttribute("id",n),e){const s=this.getParentComponent().getAriaElement();gH(s,n),this.wrapperEl.setAttribute("data-active-option",n)}Bm(r.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,i){const r=this.gridOptionsService.getDocument(),n=this.getGui(),s=r.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";const o=jr(De(i)?i:e,!0);this.parsedValue=De(o)?o:null,n.appendChild(s),this.renderValueWithoutRenderer(o),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})}renderValueWithoutRenderer(e){const i=this.getGui().querySelector("span");i&&(i.innerHTML=De(e)?e:"&nbsp;")}populateWithRenderer(e,i){let r,n;return this.params.cellRenderer&&(n=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:i,setTooltip:(s,o)=>{this.setTooltip({newTooltipText:s,shouldDisplayTooltip:o})}})),n&&(r=n.newAgStackInstance()),r&&LH(r,this.getGui()),r?(r.then(s=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(s)})}),!0):!1}onClick(){const e=this.getParentComponent(),i={type:L.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(i)}};A([W("userComponentFactory")],r$.prototype,"userComponentFactory",2);A([_e],r$.prototype,"postConstruct",1);var Rb=class wee extends Eb{constructor(e){super(wee.getTemplate((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:r="listbox",listName:n}=e||{};this.cssIdentifier=i,this.ariaRole=r,this.listName=n}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,L.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),r=this.eContainer;dr(r,this.ariaRole),Ml(r,i)}addResizeObserver(){const e=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),i=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(i)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const i=e.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=MZ(i)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case ce.UP:case ce.DOWN:this.navigate(e.key===ce.UP)&&e.preventDefault();break}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(Ol(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(this.lastFocusedRowIndex==null)return!1;const i=this.lastFocusedRowIndex+(e?-1:1);return i<0||i>=this.model.getRowCount()?!1:(this.focusRow(i),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const i=this.renderedRows.get(e);i&&i.eDiv.focus()},10)}getComponentAt(e){const i=this.renderedRows.get(e);return i&&i.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((i,r)=>e(i.rowComponent,r))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e,i=!0){const r=this.model.getRowCount();if(typeof e!="number"||e<0||e>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const n=e*this.rowHeight,s=n+this.rowHeight,o=this.getGui(),a=o.scrollTop,l=o.offsetHeight,u=a+l,c=i?0:this.rowHeight,d=a>n+c,h=u<s-c;if(d)return o.scrollTop=n,!0;if(h){const f=s-l;return o.scrollTop=f,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const i=this.model.getRowCount();this.eContainer.style.height=`${i*this.rowHeight}px`,aH(()=>this.eContainer.clientHeight>=i*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,i)=>this.removeRow(i))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const i=this.getGui(),r=i.scrollTop,n=r+i.offsetHeight,s=Math.floor(r/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(s,o,e)}ensureRowsRendered(e,i,r){this.renderedRows.forEach((n,s)=>{(s<e||s>i)&&s!==this.lastFocusedRowIndex&&this.removeRow(s)}),r&&this.refreshRows();for(let n=e;n<=i;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)}insertRow(e){const i=this.model.getRow(e),r=document.createElement("div");r.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),dr(r,this.ariaRole==="tree"?"treeitem":"option"),j0(r,this.model.getRowCount()),K0(r,e+1),r.setAttribute("tabindex","-1"),r.style.height=`${this.rowHeight}px`,r.style.top=`${this.rowHeight*e}px`;const n=this.componentCreator(i,r);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),r.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(e,{rowComponent:n,eDiv:r,value:i})}removeRow(e){const i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((i,r)=>{var n,s;if(r>=e)this.removeRow(r);else{const o=this.model.getRow(r);(s=(n=this.model).areRowsEqual)!=null&&s.call(n,i.value,o)?this.componentUpdater(o,i.rowComponent):this.removeRow(r)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};A([W("resizeObserverService")],Rb.prototype,"resizeObserverService",2);A([W("animationFrameService")],Rb.prototype,"animationFrameService",2);A([Ge("eContainer")],Rb.prototype,"eContainer",2);A([_e],Rb.prototype,"postConstruct",1);var Eee=Rb,oOe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,bee=class extends Pf{constructor(e){var i,r;super(Wi(tt({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=e==null?void 0:e.template)!=null?i:oOe,modalPicker:!1},e),{maxPickerHeight:(r=e==null?void 0:e.maxPickerHeight)!=null?r:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:n,value:s,valueList:o,searchStringCreator:a}=e||{};n!=null&&(this.cellRowHeight=n),s!==void 0&&(this.value=s),o!=null&&(this.values=o),a&&(this.searchStringCreator=a)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:e,placeholder:i}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(i),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:r=300}=this.config;this.clearSearchString=vs(this.clearSearchString,r),this.renderSelectedValue(),e&&(this.eInput.onValueChange(n=>this.searchTextFromString(n)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gridOptionsService.getDocument(),i=this.localeService.getLocaleTextFunc(),r=e.createElement("div");r.classList.add("ag-loading-text"),r.innerText=i("loadingOoo","Loading..."),this.eLoading=r}createListComponent(){this.listComponent=this.createBean(new Eee({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));const e=(l,u)=>{};this.listComponent.setComponentUpdater(e),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,L.EVENT_FIELD_PICKER_VALUE_SELECTED,l=>{this.onListValueSelected(l.value,l.fromEnterKey)});const{cellRowHeight:i}=this;i&&this.listComponent.setRowHeight(i);const r=this.listComponent.getGui(),n=this.listComponent.getAriaElement();this.addManagedListener(r,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(r,"mousedown",l=>l.preventDefault()),r.classList.add("ag-rich-select-list");const s=`ag-rich-select-list-${this.listComponent.getCompId()}`;n.setAttribute("id",s);const a=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Ml(n,a),CH(this.eWrapper,n)}renderSelectedValue(){const{value:e,eDisplayField:i,config:r}=this,{allowTyping:n,initialInputValue:s}=this.config,o=this.config.valueFormatter?this.config.valueFormatter(e):e;if(n){this.eInput.setValue(s??o);return}let a;r.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:o}));let l;if(a&&(l=a.newAgStackInstance()),l)Ir(i),LH(l,i),l.then(u=>{this.addDestroyFunc(()=>this.getContext().destroyBean(u))});else{if(De(this.value))i.innerText=o,i.classList.remove("ag-display-as-placeholder");else{const{placeholder:u}=r;De(u)?(i.innerHTML=`${jr(u)}`,i.classList.add("ag-display-as-placeholder")):Ir(i)}this.setTooltip({newTooltipText:o??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:e,value:i}=this;if(i==null||!e)return-1;for(let r=0;r<e.length;r++)if(e[r]===i)return r;return-1}highlightFilterMatch(){var e;(e=this.listComponent)==null||e.forEachRenderedRow((i,r)=>{i.highlightString(this.searchString)})}highlightSelectedValue(e){var i;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(i=this.listComponent)==null||i.forEachRenderedRow((r,n)=>{const s=e===-1?!1:this.highlightedItem===n;r.updateHighlighted(s)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:i,refresh:r}=e;this.listComponent&&this.currentList!==i&&(this.currentList=i,this.listComponent.setModel({getRowCount:()=>i.length,getRow:n=>i[n],areRowsEqual:(n,s)=>n===s}),r&&(this.values?this.listComponent.refresh(!0):(this.values=i,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,i;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(e=this.eLoading)!=null&&e.offsetParent&&((i=this.eLoading.parentElement)==null||i.removeChild(this.eLoading));const r=this.getCurrentValueIndex();r!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:i}=e;if(i===ce.BACKSPACE)this.searchString=this.searchString.slice(0,-1),i="";else if(!Q0(e))return;e.preventDefault(),this.searchTextFromCharacter(i)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){e==null&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:i=n=>n}=this.config;let r;return typeof e[0]=="number"||typeof e[0]=="string"?r=e.map(n=>i(n)):typeof e[0]=="object"&&this.searchStringCreator&&(r=this.searchStringCreator(e)),r}getSuggestionsAndFilteredValues(e,i){let r=[],n=[];if(!e.length)return{suggestions:r,filteredValues:n};const{searchType:s="fuzzy",filterList:o}=this.config;if(s==="fuzzy"){const a=db(this.searchString,i,!0);r=a.values;const l=a.indices;if(o&&l.length)for(let u=0;u<l.length;u++)n.push(this.values[l[u]])}else r=i.filter((a,l)=>{const u=a.toLocaleLowerCase(),c=this.searchString.toLocaleLowerCase(),d=s==="match"?u.startsWith(c):u.indexOf(c)!==-1;return o&&d&&n.push(this.values[l]),d});return{suggestions:r,filteredValues:n}}filterListModel(e){const{filterList:i}=this.config;i&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,i;const{values:r}=this,n=this.buildSearchStrings(r);if(!n){this.highlightSelectedValue(-1);return}const{suggestions:s,filteredValues:o}=this.getSuggestionsAndFilteredValues(this.searchString,n),{filterList:a,highlightMatch:l,searchType:u="fuzzy"}=this.config,c=o.length,d=!!(a&&this.searchString!=="");if(this.filterListModel(d?o:r),s.length){const h=d?0:n.indexOf(s[0]);this.selectListItem(h)}else if(this.highlightSelectedValue(-1),!d||c)(e=this.listComponent)==null||e.ensureIndexVisible(0);else if(d){this.getAriaElement().removeAttribute("data-active-option");const h=(i=this.listComponent)==null?void 0:i.getAriaElement();h&&gH(h,null)}l&&u!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;const i=(e=this.listComponent)==null?void 0:e.getGui(),r=this.currentList?this.currentList.length===0:!1;i==null||i.classList.toggle("ag-hidden",r)}clearSearchString(){this.searchString=""}selectListItem(e,i){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!i)&&!i&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,i,r){const n=this.currentList?this.currentList.indexOf(e):-1;return n===-1?this:(this.value=e,r||this.selectListItem(n),this.renderSelectedValue(),super.setValue(e,i))}createRowComponent(e){const i=new r$(this.config,this.eWrapper);i.setParentComponent(this.listComponent),this.getContext().createBean(i),i.setState(e);const{highlightMatch:r,searchType:n="fuzzy"}=this.config;return r&&n!=="fuzzy"&&i.highlightString(this.searchString),i}getRowForMouseEvent(e){const{listComponent:i}=this;if(!i)return-1;const n=(i==null?void 0:i.getGui()).getBoundingClientRect(),s=i.getScrollTop(),o=e.clientY-n.top+s;return Math.floor(o/i.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const i=this.getRowForMouseEvent(e);i!==-1&&i!=this.lastRowHovered&&(this.lastRowHovered=i,this.selectListItem(i,!0))}onNavigationKeyDown(e,i){e.preventDefault();const r=i===ce.DOWN;if(!this.isPickerDisplayed&&r){this.showPicker();return}const n=this.highlightedItem,o=n===-1?0:n+(r?1:-1);this.selectListItem(o)}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,i){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,i),this.hidePicker()}dispatchPickerEvent(e,i){const r={type:L.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:i,value:e};this.dispatchEvent(r)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const i=e.key,{allowTyping:r}=this.config;switch(i){case ce.LEFT:case ce.RIGHT:case ce.PAGE_HOME:case ce.PAGE_END:r||e.preventDefault();break;case ce.PAGE_UP:case ce.PAGE_DOWN:e.preventDefault();break;case ce.DOWN:case ce.UP:this.onNavigationKeyDown(e,i);break;case ce.ESCAPE:this.isPickerDisplayed&&(Bo(this.listComponent.getGui())&&(e.preventDefault(),Ol(e)),this.hidePicker());break;case ce.ENTER:this.onEnterKeyDown(e);break;case ce.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};A([W("userComponentFactory")],bee.prototype,"userComponentFactory",2);A([Ge("eInput")],bee.prototype,"eInput",2);var Tb=class Ree extends VH{constructor(e){super(e,Ree.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:e,maxValue:i,textFieldWidth:r,step:n,value:s,onValueChange:o}=this.config;e!=null&&this.setMinValue(e),i!=null&&this.setMaxValue(i),r!=null&&this.setTextFieldWidth(r),n!=null&&this.setStep(n),s!=null&&this.setValue(s),o!=null&&this.onValueChange(o)}onValueChange(e){const i=L.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,()=>{const r=parseFloat(this.eText.getValue());this.eSlider.setValue(r.toString(),!0),e(r||0)}),this.addManagedListener(this.eSlider,i,()=>{const r=this.eSlider.getValue();this.eText.setValue(r,!0),e(parseFloat(r))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,i){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),i||this.dispatchEvent({type:L.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};Tb.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;A([Ge("eLabel")],Tb.prototype,"eLabel",2);A([Ge("eSlider")],Tb.prototype,"eSlider",2);A([Ge("eText")],Tb.prototype,"eText",2);A([_e],Tb.prototype,"init",1);var _f=class _g extends wt{constructor(e={}){super(_g.getTemplate(e)),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:r,suppressEnabledCheckbox:n,expanded:s,suppressToggleExpandOnEnableChange:o,useToggle:a}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=i??!0,this.items=r||[],this.useToggle=a??!1,this.alignItems=e.alignItems||"center",this.expanded=s??!0,n!=null&&(this.suppressEnabledCheckbox=n),o!=null&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(e){const i=e.cssIdentifier||"default",r=e.direction||"vertical";return`
            <div class="ag-group ag-${i}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${r} ag-${i}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const n=this.items;this.items=[],this.addItems(n)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:i,suppressOpenCloseIcons:r}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(r??!1),this.refreshChildDisplay(),kt(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(n=>{this.setEnabled(n,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(n)}),i!=null&&this.onEnableChange(i)}refreshChildDisplay(){var e;kt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),(e=this.eTitleBar)==null||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const i=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(i),this}toggleGroupExpand(e){var i;let r=!1;if((i=this.eTitleBar)!=null&&i.isSuppressCollapse()&&!this.useToggle)e=!0,r=!0;else if(e=e??!this.expanded,this.expanded===e)return this;return this.expanded=e,this.refreshChildDisplay(),kt(this.eContainer,e),r||this.dispatchEvent({type:e?_g.EVENT_EXPANDED:_g.EVENT_COLLAPSED}),this}addItems(e){e.forEach(i=>this.addItem(i))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,i){const r=this.eContainer,n=e instanceof wt?e.getGui():e;n.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i?(r.insertAdjacentElement("afterbegin",n),this.items.unshift(n)):(r.appendChild(n),this.items.push(n))}hideItem(e,i){const r=this.items[i];kt(r,!e)}getItemIndex(e){const i=e instanceof wt?e.getGui():e;return this.items.indexOf(i)}setTitle(e){var i;return(i=this.eTitleBar)==null||i.setTitle(e),this}addCssClassToTitleBar(e){var i;(i=this.eTitleBar)==null||i.addCssClass(e)}dispatchEnableChangeEvent(e){const i={type:_g.EVENT_ENABLE_CHANGE,enabled:e};this.dispatchEvent(i)}setEnabled(e,i,r){var n;return this.enabled=e,this.refreshDisabledStyles(),r||this.toggleGroupExpand(e),i||(this.cbGroupEnabled.setValue(e),(n=this.eToggle)==null||n.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListener(this,_g.EVENT_ENABLE_CHANGE,i=>e(i.enabled)),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var i;return(i=this.eTitleBar)==null||i.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const i=!this.enabled;this.eContainer.classList.toggle("ag-disabled",i),(e=this.eTitleBar)==null||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&i),this.eContainer.classList.toggle("ag-disabled-group-container",i)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new mK(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,mK.EVENT_EXPAND_CHANGED,i=>this.toggleGroupExpand(i.expanded)),e}createToggleTitleBar(){var e;const i=this.createManagedBean(new sOe({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:r=>{this.setEnabled(r,!0),this.dispatchEnableChangeEvent(r)}}));return i.addCssClass("ag-group-title-bar"),i.addCssClass(`ag-${(e=this.params.cssIdentifier)!=null?e:"default"}-group-title-bar ag-unselectable`),this.eToggle=i,this.toggleGroupExpand(this.enabled),i}};_f.EVENT_EXPANDED="expanded";_f.EVENT_COLLAPSED="collapsed";_f.EVENT_ENABLE_CHANGE="enableChange";A([Ge("eToolbar")],_f.prototype,"eToolbar",2);A([Ge("cbGroupEnabled")],_f.prototype,"cbGroupEnabled",2);A([Ge("eContainer")],_f.prototype,"eContainer",2);A([_e],_f.prototype,"postConstruct",1);var Zv=class i1 extends wt{constructor(e={}){super(i1.getTemplate(e)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:r}=e;this.title=i,r!=null&&(this.suppressOpenCloseIcons=r)}static getTemplate(e){var i;const r=(i=e.cssIdentifier)!=null?i:"default";return`
            <div class="ag-group-title-bar ag-${r}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${r}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(pa("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(pa("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",e=>{switch(e.key){case ce.ENTER:case ce.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case ce.RIGHT:case ce.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===ce.RIGHT);break}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||Sc(this.getGui(),e)}refreshOpenCloseIcons(e){const i=!this.suppressOpenCloseIcons;kt(this.eGroupOpenedIcon,i&&e),kt(this.eGroupClosedIcon,i&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){const i={type:i1.EVENT_EXPAND_CHANGED,expanded:e};this.dispatchEvent(i)}setTitle(e){return this.eTitle.innerText=e||"",kt(this.getGui(),e!=null),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const i=this.getGui();e?(i.classList.add("ag-disabled-group-title-bar"),i.removeAttribute("tabindex")):(i.classList.remove("ag-disabled-group-title-bar"),typeof this.title=="string"?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex"))}};Zv.EVENT_EXPAND_CHANGED="expandedChanged";A([Ge("eGroupOpenedIcon")],Zv.prototype,"eGroupOpenedIcon",2);A([Ge("eGroupClosedIcon")],Zv.prototype,"eGroupClosedIcon",2);A([Ge("eTitle")],Zv.prototype,"eTitle",2);A([_e],Zv.prototype,"postConstruct",1);var mK=Zv,n$=class extends Eb{constructor(e=0,i){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=i??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const i=this.getParentComponent(),r=i&&i.getGui();r&&r.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case ce.UP:case ce.RIGHT:case ce.DOWN:case ce.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case ce.ESCAPE:this.closeIfIsChild()&&Ol(e);break}}handleFocusIn(e){var i,r;const n=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(n)&&(this.getGui().contains(n)||(r=(i=this.activeMenuItem)==null?void 0:i.getSubMenuGui())!=null&&r.contains(n))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var i;const r=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(r)||(i=this.activeMenuItem.getSubMenuGui())!=null&&i.contains(r)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&wa.all(e.map(i=>i==="separator"?wa.resolve({eGui:this.createSeparator()}):typeof i=="string"?(console.warn(`AG Grid: unrecognised menu item ${i}`),wa.resolve({eGui:null})):this.addItem(i))).then(i=>{i.forEach(r=>{r!=null&&r.eGui&&(this.appendChild(r.eGui),r.comp&&this.menuItems.push(r.comp))})})}addItem(e){const i=this.createManagedBean(new AT);return i.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(r=>r.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(i.setParentComponent(this),this.addManagedListener(i,AT.EVENT_CLOSE_MENU,r=>{this.dispatchEvent(r)}),this.addManagedListener(i,AT.EVENT_MENU_ITEM_ACTIVATED,r=>{this.activeMenuItem&&this.activeMenuItem!==r.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=r.menuItem}),{comp:i,eGui:i.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(i=>!i.isDisabled())[0];e&&e.activate()}createSeparator(){return Ys(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(e){switch(e){case ce.UP:case ce.DOWN:const r=this.findNextItem(e===ce.UP);r&&r!==this.activeMenuItem&&r.activate();return}const i=this.gridOptionsService.get("enableRtl")?ce.RIGHT:ce.LEFT;e===i?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const i=this.getParentComponent();return i&&i instanceof AT?(e&&e.preventDefault(),i.closeSubMenu(),i.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const i=this.menuItems.filter(s=>!s.isDisabled());if(!i.length)return;if(!this.activeMenuItem)return e?Xt(i):i[0];e&&i.reverse();let r,n=!1;for(let s=0;s<i.length;s++){const o=i[s];if(!n){o===this.activeMenuItem&&(n=!0);continue}r=o;break}return n&&!r?i[0]:r||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};A([W("focusService")],n$.prototype,"focusService",2);A([_e],n$.prototype,"postConstruct",1);var Tee=class extends Eb{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===ce.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};A([_e],Tee.prototype,"postConstruct",1);var Nf=class Ng extends Ie{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var i,r;const{menuItemDef:n,isAnotherSubMenuOpen:s,level:o,childComponent:a,contextParams:l}=e;return this.params=e.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=s,this.childComponent=a,this.contextParams=l,this.cssClassPrefix=(r=(i=this.params.menuItemParams)==null?void 0:i.cssClassPrefix)!=null?r:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Wi(tt({},n),{level:o,isAnotherSubMenuOpen:s,openSubMenu:c=>this.openSubMenu(c),closeSubMenu:()=>this.closeSubMenu(),closeMenu:c=>this.closeMenu(c),updateTooltip:(c,d)=>this.refreshTooltip(c,d),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(c=>{var d;this.menuItemComp=c;const h=(d=c.configureDefaults)==null?void 0:d.call(c);h&&this.configureDefaults(h===!0?void 0:h)})}addListeners(e,i){i!=null&&i.suppressClick||this.addManagedListener(e,"click",r=>this.onItemSelected(r)),i!=null&&i.suppressKeyboardSelect||this.addManagedListener(e,"keydown",r=>{(r.key===ce.ENTER||r.key===ce.SPACE)&&(r.preventDefault(),this.onItemSelected(r))}),i!=null&&i.suppressMouseDown||this.addManagedListener(e,"mousedown",r=>{r.stopPropagation(),r.preventDefault()}),i!=null&&i.suppressMouseOver||(this.addManagedListener(e,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){var i,r;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const n=Ys('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=n;let s,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const c=this.createBean(new Tee(this.childComponent));c.setParentComponent(this);const d=c.getGui(),h="mouseenter",f=()=>this.cancelDeactivate();d.addEventListener(h,f),s=()=>d.removeEventListener(h,f),n.appendChild(d),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const c=this.createBean(new n$(this.level+1,this.contextParams));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),n.appendChild(c.getGui()),this.addManagedListener(c,Ng.EVENT_CLOSE_MENU,d=>this.dispatchEvent(d)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(c),e&&(o=()=>{c.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:n}),l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var c,d;u&&u.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),s(),(d=(c=this.menuItemComp).setExpanded)==null||d.call(c,!1),this.eSubMenuGui=void 0},(r=(i=this.menuItemComp).setExpanded)==null||r.call(i,!0)}setAriaExpanded(e){this.suppressAria||Sc(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var i,r;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(r=(i=this.menuItemComp).setActive)==null||r.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(i=(e=this.menuItemComp).setActive)==null||i.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var i,r;(r=(i=this.menuItemComp).select)==null||r.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(tt({},this.contextParams)))):this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){const i={type:Ng.EVENT_CLOSE_MENU,event:e};this.dispatchEvent(i)}onItemActivated(){const e={type:Ng.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),Ng.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),Ng.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var i,r,n;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(()=>this.configureDefaults(e));return}let s=this.menuItemComp.getGui();const o=(r=(i=this.menuItemComp).getRootElement)==null?void 0:r.call(i);o&&(e!=null&&e.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=o),this.eGui=s,this.suppressRootStyles=!!(e!=null&&e.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(n=this.params.cssClasses)==null||n.forEach(a=>s.classList.add(a)),this.params.disabled&&s.classList.add(`${this.cssClassPrefix}-disabled`)),e!=null&&e.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!(e!=null&&e.suppressAria),this.suppressAria||(dr(s,"treeitem"),_Z(s,this.level+1),this.params.disabled&&fH(s,!0)),e!=null&&e.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!(e!=null&&e.suppressFocus)}refreshTooltip(e,i){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),!(!e||!this.menuItemComp)&&(this.tooltipFeature=this.createBean(new $c({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:i})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Nf.EVENT_CLOSE_MENU="closeMenu";Nf.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";Nf.ACTIVATION_DELAY=80;A([W("popupService")],Nf.prototype,"popupService",2);A([W("userComponentFactory")],Nf.prototype,"userComponentFactory",2);A([W("beans")],Nf.prototype,"beans",2);var AT=Nf,Gf=class r1 extends wt{constructor(e){super(r1.getTemplate(e)),this.config=e,this.closable=!0}static getTemplate(e){const i=e.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:e,closable:i,hideTitleBar:r,title:n,minWidth:s=250,width:o,minHeight:a=250,height:l,centered:u,popup:c,x:d,y:h}=this.config;this.positionableFeature=new Wv(this.getGui(),{minWidth:s,width:o,minHeight:a,height:l,centered:u,x:d,y:h,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const f=this.getGui();e&&this.setBodyComponent(e),r?kt(this.eTitleBar,!1):(n&&this.setTitle(n),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",g=>{const m=this.gridOptionsService.getDocument();if(f.contains(g.relatedTarget)||f.contains(m.activeElement)||this.eTitleBarButtons.contains(g.target)){g.preventDefault();return}const C=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");C&&C.focus()}),!(c&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const i=this.closeButtonComp=new wt(r1.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const r=i.getGui(),n=tr("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(n),this.addTitleBarButton(i),i.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,i){const r=this.eTitleBarButtons,n=r.children,s=n.length;i==null&&(i=s),i=Math.max(0,Math.min(i,s)),e.addCssClass("ag-panel-title-bar-button");const o=e.getGui();i===0?r.insertAdjacentElement("afterbegin",o):i===s?r.insertAdjacentElement("beforeend",o):n[i-1].insertAdjacentElement("afterend",o),e.setParentComponent(this)}getBodyHeight(){return ub(this.eContentWrapper)}getBodyWidth(){return Df(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&Bo(e)&&this.close(),super.destroy()}};Gf.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';A([Ge("eContentWrapper")],Gf.prototype,"eContentWrapper",2);A([Ge("eTitleBar")],Gf.prototype,"eTitleBar",2);A([Ge("eTitleBarButtons")],Gf.prototype,"eTitleBarButtons",2);A([Ge("eTitle")],Gf.prototype,"eTitle",2);A([_e],Gf.prototype,"postConstruct",1);var aOe=Gf,lOe=class extends aOe{constructor(e){super(Wi(tt({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:i,resizable:r,maximizable:n}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",s=>{this.popupService.bringPopupToFront(e)}),i&&this.setMovable(i),n&&this.setMaximizable(n),r&&this.setResizable(r)}renderComponent(){const e=this.getGui(),{alwaysOnTop:i,modal:r,title:n,afterGuiAttached:s}=this.config,o=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:r,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:i,ariaLabel:n||o("ariaLabelDialog","Dialog"),afterGuiAttached:s});a&&(this.close=a.hideFunc)}onClosed(e){var i,r;this.destroy(),(r=(i=this.config).closedCallback)==null||r.call(i,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:i,y:r,width:n,height:s}=this.lastPosition;this.setWidth(n),this.setHeight(s),this.positionableFeature.offsetElement(i,r)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){kt(this.maximizeIcon,!this.isMaximized),kt(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const i=this.eTitleBar;if(!i||e===this.isMaximizable)return;const r=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),r.addManagedListener(r.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new wt('<div class="ag-dialog-button"></span>')),i=e.getGui();return this.maximizeIcon=tr("maximize",this.gridOptionsService),i.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=tr("minimize",this.gridOptionsService),i.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};A([W("popupService")],lOe.prototype,"popupService",2);var uOe=0,Zd=class extends Ie{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedListener(this.eventService,L.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:i,ePopup:r}=e,n=this.getPopupIndex(r);if(n!==-1){const g=this.popupList[n];g.alignedToElement=i}const s=i.getBoundingClientRect(),o=this.getParentRect(),a=this.keepXYWithinBounds(r,s.top-o.top,0),l=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${l}px`;const c=o.right-o.left-l;let d;this.gridOptionsService.get("enableRtl")?(d=f(),d<0&&(d=h(),this.setAlignedStyles(r,"left")),d>c&&(d=0,this.setAlignedStyles(r,"right"))):(d=h(),d>c&&(d=f(),this.setAlignedStyles(r,"right")),d<0&&(d=0,this.setAlignedStyles(r,"left"))),r.style.left=`${d}px`,r.style.top=`${a}px`;function h(){return s.right-o.left-2}function f(){return s.left-o.left-l}}positionPopupUnderMouseEvent(e){const{ePopup:i,nudgeX:r,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:i,nudgeX:r,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const i=this.getParentRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}positionPopupByComponent(e){const{ePopup:i,nudgeX:r,nudgeY:n,keepWithinBounds:s,eventSource:o,alignSide:a="left",position:l="over",column:u,rowNode:c,type:d}=e,h=o.getBoundingClientRect(),f=this.getParentRect(),g=this.getPopupIndex(i);if(g!==-1){const C=this.popupList[g];C.alignedToElement=o}const m=()=>{let C=h.left-f.left;a==="right"&&(C-=i.offsetWidth-h.width);let S;return l==="over"?(S=h.top-f.top,this.setAlignedStyles(i,"over")):(this.setAlignedStyles(i,"under"),this.shouldRenderUnderOrAbove(i,h,f,e.nudgeY||0)==="under"?S=h.top-f.top+h.height:S=h.top-i.offsetHeight-(n||0)*2-f.top),{x:C,y:S}};this.positionPopup({ePopup:i,nudgeX:r,nudgeY:n,keepWithinBounds:s,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(d,i,o,null,u,c)})}shouldRenderUnderOrAbove(e,i,r,n){const s=r.bottom-i.bottom,o=i.top-r.top,a=e.offsetHeight+n;return s>a?"under":o>a||o>s?"above":"under"}setAlignedStyles(e,i){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(a=>{s.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`)}),!i)||(s.classList.add(`ag-has-popup-positioned-${i}`),e.classList.add(`ag-popup-positioned-${i}`))}callPostProcessPopup(e,i,r,n,s,o){const a=this.gridOptionsService.getCallback("postProcessPopup");a&&a({column:s,rowNode:o,ePopup:i,type:e,eventSource:r,mouseEvent:n})}positionPopup(e){const{ePopup:i,keepWithinBounds:r,nudgeX:n,nudgeY:s,skipObserver:o,updatePosition:a}=e,l={width:0,height:0},u=(c=!1)=>{let{x:d,y:h}=a();c&&i.clientWidth===l.width&&i.clientHeight===l.height||(l.width=i.clientWidth,l.height=i.clientHeight,n&&(d+=n),s&&(h+=s),r&&(d=this.keepXYWithinBounds(i,d,1),h=this.keepXYWithinBounds(i,h,0)),i.style.left=`${d}px`,i.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!o){const c=this.resizeObserverService.observeResize(i,()=>u(!0));setTimeout(()=>c(),Zd.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let i=this.getPopupParent();return i===e.body?i=e.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),xH(i)}keepXYWithinBounds(e,i,r){const n=r===0,s=n?"clientHeight":"clientWidth",o=n?"top":"left",a=n?"offsetHeight":"offsetWidth",l=n?"scrollTop":"scrollLeft",u=this.gridOptionsService.getDocument(),c=u.documentElement,d=this.getPopupParent(),h=d.getBoundingClientRect(),f=u.documentElement.getBoundingClientRect(),g=d===u.body,m=e[a];let S=g?(n?PH:rw)(c)+c[l]:d[s];g&&(S-=Math.abs(f[o]-h[o]));const y=S-m;return Math.min(Math.max(i,0),Math.abs(y))}addPopup(e){const i=this.gridOptionsService.getDocument(),{eChild:r,ariaLabel:n,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const l=this.getPopupIndex(r);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(r);const u=this.createPopupWrapper(r,n,!!s),c=this.addEventListenersToPopup(Wi(tt({},e),{wrapperEl:u}));return o&&o(),this.addPopupToPopupList(r,u,c,a),{hideFunc:c}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();De(e.style.top)||(e.style.top=`${r.top*-1}px`),De(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,i,r){const n=this.getPopupParent(),s=document.createElement("div"),{allThemes:o}=this.environment.getTheme();return o.length&&s.classList.add(...o),s.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||dr(e,"dialog"),Ml(e,i),s.appendChild(e),n.appendChild(s),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(){const{allThemes:e}=this.environment.getTheme();for(const i of this.popupList){for(const r of Array.from(i.wrapper.classList))r.startsWith("ag-theme-")&&i.wrapper.classList.remove(r);e.length&&i.wrapper.classList.add(...e)}}addEventListenersToPopup(e){const i=this.gridOptionsService.getDocument(),r=this.getPopupParent(),{wrapperEl:n,eChild:s,click:o,closedCallback:a,afterGuiAttached:l,closeOnEsc:u,modal:c}=e;let d=!1;const h=C=>{if(!n.contains(i.activeElement))return;C.key===ce.ESCAPE&&!Tl(C)&&m({keyboardEvent:C})},f=C=>m({mouseEvent:C}),g=C=>m({touchEvent:C}),m=(C={})=>{const{mouseEvent:S,touchEvent:y,keyboardEvent:w}=C;this.isEventFromCurrentPopup({mouseEvent:S,touchEvent:y},s)||d||(d=!0,r.removeChild(n),i.removeEventListener("keydown",h),i.removeEventListener("mousedown",f),i.removeEventListener("touchstart",g),i.removeEventListener("contextmenu",f),this.eventService.removeEventListener(L.EVENT_DRAG_STARTED,f),a&&a(S||y||w),this.removePopupFromPopupList(s))};return l&&l({hidePopup:m}),window.setTimeout(()=>{u&&i.addEventListener("keydown",h),c&&(i.addEventListener("mousedown",f),this.eventService.addEventListener(L.EVENT_DRAG_STARTED,f),i.addEventListener("touchstart",g),i.addEventListener("contextmenu",f))},0),m}addPopupToPopupList(e,i,r,n){this.popupList.push({element:e,wrapper:i,hideFunc:r,instanceId:uOe++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(i=>i.element===e)}setPopupPositionRelatedToElement(e,i){const r=this.getPopupIndex(e);if(r===-1)return;const n=this.popupList[r];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(o=>o&&o()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!i)return;const s=this.keepPopupPositionedRelativeTo({element:i,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(i=>i.element!==e)}keepPopupPositionedRelativeTo(e){const i=this.getPopupParent(),r=i.getBoundingClientRect(),{element:n,ePopup:s}=e,o=n.getBoundingClientRect(),a=r.top-o.top,l=r.left-o.left;let u=a,c=l;const d=s.style.top,h=parseInt(d.substring(0,d.length-1),10),f=s.style.left,g=parseInt(f.substring(0,f.length-1),10);return new wa(m=>{this.getFrameworkOverrides().setInterval(()=>{const C=i.getBoundingClientRect(),S=n.getBoundingClientRect();if(S.top==0&&S.left==0&&S.height==0&&S.width==0){e.hidePopup();return}const w=C.top-S.top;if(w!=u){const b=this.keepXYWithinBounds(s,h+a-w,0);s.style.top=`${b}px`}u=w;const E=C.left-S.left;if(E!=c){const b=this.keepXYWithinBounds(s,g+l-E,1);s.style.left=`${b}px`}c=E},200).then(C=>{m(()=>{C!=null&&window.clearInterval(C)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,i){const{mouseEvent:r,touchEvent:n}=e,s=r||n;if(!s)return!1;const o=this.getPopupIndex(i);if(o===-1)return!1;for(let a=o;a<this.popupList.length;a++){const l=this.popupList[a];if(GP(l.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const i=this.gridOptionsService.getDocument();for(;e&&e!==i.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,i){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(r))}bringPopupToFront(e){const i=this.getPopupParent(),r=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),n=r.length,s=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),o=s.length,a=this.getWrapper(e);if(!a||n<=1||!i.contains(e))return;const l=r.indexOf(a),u=a.querySelectorAll("div"),c=[];for(u.forEach(d=>{d.scrollTop!==0&&c.push([d,d.scrollTop])}),o?a.classList.contains("ag-always-on-top")?l!==n-1&&Xt(s).insertAdjacentElement("afterend",a):l!==n-o-1&&s[0].insertAdjacentElement("beforebegin",a):l!==n-1&&Xt(r).insertAdjacentElement("afterend",a);c.length;){const d=c.pop();d[0].scrollTop=d[1]}}};Zd.WAIT_FOR_POPUP_CONTENT_RESIZE=200;A([W("focusService")],Zd.prototype,"focusService",2);A([W("ctrlsService")],Zd.prototype,"ctrlsService",2);A([W("resizeObserverService")],Zd.prototype,"resizeObserverService",2);A([_e],Zd.prototype,"postConstruct",1);Zd=A([je("popupService")],Zd);var cOe=class extends wt{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,i){this.value=e,this.render(),this.updateSelected(i)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var i;let r=!1;if(De(e)){const n=(i=this.value)==null?void 0:i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){r=!0,this.hasHighlighting=!0;const s=n+e.length,o=jr(this.value.slice(0,n)),a=jr(this.value.slice(n,s)),l=jr(this.value.slice(s));this.getGui().lastElementChild.innerHTML=`${o}<b>${a}</b>${l}`}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=(e=jr(this.value))!=null?e:"&nbsp;"}},hO=class Dee extends xf{constructor(e){super(Dee.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Eee({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:i=>this.autocompleteEntries[i]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",i=>i.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,i){e.preventDefault();const r=this.autocompleteEntries.indexOf(this.selectedValue),n=i===ce.UP?r-1:r+1;this.checkSetSelectedValue(n)}setSearch(e){this.searchString=e,De(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,i){let r,n=!1;const s=e.toLocaleLowerCase(),o=i.filter(a=>{const u=a.toLocaleLowerCase().indexOf(s),c=u===0,d=u>=0;return d&&(!r||!n&&c||n===c&&a.length<r.length)&&(r=a,n=c),d});return!r&&o.length&&(r=o[0]),{topMatch:r,allMatches:o}}runSearch(){var e,i;const{autocompleteEntries:r}=this.params,n=r.map(u=>{var c;return(c=u.displayValue)!=null?c:u.key});let s,o;if(this.params.useFuzzySearch)s=db(this.searchString,n,!0).values,o=s.length?s[0]:void 0;else{const u=this.runContainsSearch(this.searchString,n);s=u.allMatches,o=u.topMatch}let a=r.filter(({key:u,displayValue:c})=>s.includes(c??u));if(!a.length&&this.selectedValue&&((i=(e=this.params)==null?void 0:e.forceLastSelection)!=null&&i.call(e,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!o)return;const l=s.indexOf(o);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const i=this.autocompleteEntries[e];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((r,n)=>{r.updateSelected(e===n)}))}createRowComponent(e){var i;const r=new cOe;return this.getContext().createBean(r),r.setState((i=e.displayValue)!=null?i:e.key,e===this.selectedValue),r}onMouseMove(e){const i=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),n=e.clientY-i.top+r,s=Math.floor(n/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!=null?e:null}};hO.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;A([Ge("eList")],hO.prototype,"eList",2);A([_e],hO.prototype,"init",1);var dOe=hO,kf=class Uy extends wt{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const i=vu(e);this.updateValue(i),this.updateAutocompleteList(i)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:Uy.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var i,r,n,s;const o=(r=(i=this.listGenerator)==null?void 0:i.call(this,e,this.lastPosition))!=null?r:{enabled:!1};if((!o.type||o.type!==((n=this.autocompleteListParams)==null?void 0:n.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,(s=this.autocompleteListParams)!=null&&s.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const i=e.key;switch(this.updateLastPosition(),i){case ce.ENTER:this.onEnterKeyDown(e);break;case ce.TAB:this.onTabKeyDown(e);break;case ce.DOWN:case ce.UP:this.onUpDownKeyDown(e,i);break;case ce.LEFT:case ce.RIGHT:case ce.PAGE_HOME:case ce.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case ce.ESCAPE:this.onEscapeKeyDown(e);break;case ce.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}}confirmSelection(){var e;const i=(e=this.autocompleteList)==null?void 0:e.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:Uy.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,i){var r;e.preventDefault(),this.isListOpen?(r=this.autocompleteList)==null||r.onNavigationKeyDown(e,i):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!=null?e:null)}setCaret(e,i){const r=this.gridOptionsService.getDocument();i&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();const n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(e,e),e===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!=null?e:0}validate(e){var i;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((i=this.validationMessage)!=null?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:Uy.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new dOe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),i={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},r=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(i),ariaLabel:this.listAriaLabel});this.hidePopup=r.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:Uy.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return vu(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:i,position:r,silent:n,updateListOnlyIfOpen:s,restoreFocus:o}=e;this.eAutocompleteInput.setValue(i,!0),this.setCaret(r??this.lastPosition,o),n||this.updateValue(i),(!s||this.isListOpen)&&this.updateAutocompleteList(i)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};kf.EVENT_VALUE_CHANGED="eventValueChanged";kf.EVENT_VALUE_CONFIRMED="eventValueConfirmed";kf.EVENT_OPTION_SELECTED="eventOptionSelected";kf.EVENT_VALID_CHANGED="eventValidChanged";A([W("popupService")],kf.prototype,"popupService",2);A([Ge("eAutocompleteInput")],kf.prototype,"eAutocompleteInput",2);A([_e],kf.prototype,"postConstruct",1);var ph=class xD extends wt{constructor(e,i,r,n){super(),this.dragSourceDropTarget=e,this.ghost=i,this.horizontal=r,this.template=n}init(){var e;this.setTemplate((e=this.template)!=null?e:xD.TEMPLATE);const i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(tr("columnDrag",this.gridOptionsService)),this.eButton.appendChild(tr("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.localeService.getLocaleTextFunc(),i=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(i,e),Ml(this.getGui(),i.join(". "))}addAdditionalAriaInstructions(e,i){if(this.isRemovable()){const r=i("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(r)}}setupTooltip(){const e=()=>{const i=this.getTooltip();this.setTooltip({newTooltipText:i})};e(),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return Dt.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:e,eDragHandle:i}=this,r=this.createGetDragItem(),n=this.getDefaultIconName(),s={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:i,getDefaultIconName:()=>n,getDragItem:r,dragItemName:this.getDisplayName()};e.addDragSource(s,!0),this.addDestroyFunc(()=>e.removeDragSource(s))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){kt(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:xD.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",r=>this.onKeyDown(r)),this.addManagedListener(this.eButton,"click",r=>{this.dispatchEvent(e),r.stopPropagation()});const i=new mn(this.eButton);this.addManagedListener(i,mn.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(e){e.key===ce.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchEvent({type:xD.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=this.getDisplayValue(),i=jr(e);this.eText.innerHTML=i}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${i}`,`ag-column-drop-${r}-cell${i}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};ph.EVENT_COLUMN_REMOVE="columnRemove";ph.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;A([W("dragAndDropService")],ph.prototype,"dragAndDropService",2);A([Ge("eText")],ph.prototype,"eText",2);A([Ge("eDragHandle")],ph.prototype,"eDragHandle",2);A([Ge("eButton")],ph.prototype,"eButton",2);A([_e],ph.prototype,"init",1);var hOe=ph,Db=class Xl extends wt{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state=Xl.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),dr(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:i,dragSource:r}=e;return i.contains(r.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Ir(this.getGui()),Ir(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new hh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new Wv(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Ml(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){const i=!this.horizontal;let r=e.key===ce.DOWN,n=e.key===ce.UP;if(!i){const o=this.gridOptionsService.get("enableRtl");r=!o&&e.key===ce.RIGHT||o&&e.key===ce.LEFT,n=!o&&e.key===ce.LEFT||o&&e.key===ce.RIGHT}if(!r&&!n)return;const s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,n);s&&(e.preventDefault(),s.focus())}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${i}`,`ag-column-drop-${r}${i}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const i=this.getNewInsertIndex(e);if(i<0)return!1;const r=this.minimumAllowedNewInsertIndex(),n=Math.max(r,i),s=n!==this.insertIndex;return s&&(this.insertIndex=n),s}getNewInsertIndex(e){const i=e.event,r=this.horizontal?i.clientX:i.clientY,n=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),s=n.findIndex(o=>this.horizontal?o.right>r&&o.left<r:o.top<r&&o.bottom>r);if(s===-1){const o=this.gridOptionsService.get("enableRtl");return n.every(u=>r>(this.horizontal?u.right:u.bottom))?o&&this.horizontal?0:this.childPillComponents.length:n.every(u=>r<(this.horizontal?u.left:u.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s}checkDragStartedBySelf(e){this.state===Xl.STATE_NOT_DRAGGING&&(this.state=Xl.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const i=this.getItems(e.dragSource.getDragItem());this.state=Xl.STATE_NEW_ITEMS_IN;const r=i.filter(s=>this.isItemDroppable(s,e)),n=r.every(s=>this.childPillComponents.map(o=>o.getItem()).indexOf(s)!==-1);if(r.length!==0){if(this.potentialDndItems=r,n){this.state=Xl.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){return hZ(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state===Xl.STATE_REARRANGE_ITEMS){const i=this.getItems(e.dragSource.getDragItem());this.removeItems(i)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state=Xl.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let e=!1;this.state===Xl.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),e=!0):e=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!e)&&this.refreshGui()}this.state=Xl.STATE_NOT_DRAGGING}removeItems(e){const i=this.getExistingItems().filter(r=>!xa(e,r));this.updateItems(i)}addItems(e){if(!e)return;const i=this.getExistingItems().slice(),r=e.filter(n=>i.indexOf(n)<0);BN(i,r,this.insertIndex),this.updateItems(i)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const i=this.getNonGhostItems().slice();return BN(i,e,this.insertIndex),du(i,this.getExistingItems())?!1:(this.updateItems(i),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,i=this.resizeEnabled,r=this.getFocusedItem();let n=this.focusService.findNextFocusableElement();n||(n=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(r,n)}getFocusedItem(){const e=this.getGui(),i=this.gridOptionsService.getDocument().activeElement;return e.contains(i)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1}restoreFocus(e,i){const r=this.getGui(),n=Array.from(r.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;n.length===0&&i.focus();const s=Math.min(n.length-1,e),o=n[s];o&&o.focus()}focusList(e){const i=e?this.childPillComponents.length-1:0;this.restoreFocus(i,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(i=>!xa(this.potentialDndItems,i)):e}addItemsToGui(){const i=this.getNonGhostItems().map(r=>this.createItemComponent(r,!1));if(this.isPotentialDndItems()){const r=this.potentialDndItems.map(n=>this.createItemComponent(n,!0));this.insertIndex>=i.length?i.push(...r):i.splice(this.insertIndex,0,...r)}this.appendChild(this.ePillDropList),i.forEach((r,n)=>{n>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(r.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,i)=>{const r=e.getGui();K0(r,i+1),j0(r,this.childPillComponents.length)})}createItemComponent(e,i){const r=this.createPillComponent(e,this.dropTarget,i,this.horizontal);return r.addEventListener(hOe.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(r),this.guiDestroyFunctions.push(()=>this.destroyBean(r)),i||this.childPillComponents.push(r),r}addIconAndTitleToGui(){const{title:e,icon:i}=this.params;if(!e||!i)return;const r=document.createElement("div");if(lb(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(i,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),r.appendChild(i),!this.horizontal){const n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=e,r.appendChild(n)}this.appendChild(r)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const i=document.createElement("span");i.innerHTML=e,this.addElementClasses(i,"empty-message"),this.ePillDropList.appendChild(i)}addArrow(e){if(this.horizontal){const i=this.gridOptionsService.get("enableRtl"),r=tr(i?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(r,"cell-separator"),e.appendChild(r)}}};Db.STATE_NOT_DRAGGING="notDragging";Db.STATE_NEW_ITEMS_IN="newItemsIn";Db.STATE_REARRANGE_ITEMS="rearrangeItems";A([W("focusService")],Db.prototype,"focusService",2);A([W("dragAndDropService")],Db.prototype,"dragAndDropService",2);var Qp=class extends Ie{getNextCellToFocus(e,i,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,i):this.getNextCellToFocusWithoutCtrlPressed(e,i)}getNextCellToFocusWithCtrlPressed(e,i){const r=e===ce.UP,n=e===ce.DOWN,s=e===ce.LEFT;let o,a;if(r||n)a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),o=i.column;else{const l=this.columnModel.getAllDisplayedColumns(),u=this.gridOptionsService.get("enableRtl");a=i.rowIndex,o=s!==u?l[0]:Xt(l)}return{rowIndex:a,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,i){let r=i,n=!1;for(;!n;){switch(e){case ce.UP:r=this.getCellAbove(r);break;case ce.DOWN:r=this.getCellBelow(r);break;case ce.RIGHT:this.gridOptionsService.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case ce.LEFT:this.gridOptionsService.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e);break}r?n=this.isCellGoodToFocusOn(r):n=!0}return r}isCellGoodToFocusOn(e){const i=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!i.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const i=this.columnModel.getDisplayedColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const i=this.columnModel.getDisplayedColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getRowBelow(e){const i=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const n=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(n);return s||{rowIndex:i+1,rowPinned:r}}getNextStickyPosition(e,i){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const r=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),n=i?-1:1,s=r.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=r[s+n];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}isLastRowInContainer(e){const i=e.rowPinned,r=e.rowIndex;return i==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=r:i==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=r:this.paginationProxy.getPageLastRow()<=r}getRowAbove(e){const i=e.rowIndex,r=e.rowPinned;if(r?i===0:i===this.paginationProxy.getPageFirstRow())return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const s=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(s,!0);return o||{rowIndex:i-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const i=this.columnModel.getAllDisplayedColumns();let r=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=i[0];const o=this.getRowBelow(e);if(gt(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}getNextTabbedCellBackwards(e){const i=this.columnModel.getAllDisplayedColumns();let r=e.rowIndex,n=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=Xt(i);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(gt(o)||!o.rowPinned&&!this.paginationProxy.isRowInPage(o))return null;r=o?o.rowIndex:null,n=o?o.rowPinned:null}return{rowIndex:r,column:s,rowPinned:n}}};A([W("columnModel")],Qp.prototype,"columnModel",2);A([W("rowModel")],Qp.prototype,"rowModel",2);A([W("rowRenderer")],Qp.prototype,"rowRenderer",2);A([W("pinnedRowModel")],Qp.prototype,"pinnedRowModel",2);A([W("paginationProxy")],Qp.prototype,"paginationProxy",2);Qp=A([je("cellNavigationService")],Qp);var jm=class extends Ie{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let i=(e=this.gridOptionsService.get("alignedGrids"))!=null?e:[];const r=typeof i=="function";typeof i=="function"&&(i=i());const n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return i.map(o=>{var a;if(!o){Hy("alignedGrids contains an undefined option."),r||Hy(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Hy(n());return}if(o instanceof _t)return o;const l=o;return"current"in l?(a=l.current)==null?void 0:a.api:(l.api||Hy(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),l.api)}).filter(o=>!!o&&!o.isDestroyed())}init(){this.addManagedListener(this.eventService,L.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(i=>{const r=i.__getAlignedGridService();e(r)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(i=>{i.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(i=>{i.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const i=[];return e.columns?e.columns.forEach(r=>{i.push(r)}):e.column&&i.push(e.column),i}getColumnIds(e){const i=[];return e.columns?e.columns.forEach(r=>{i.push(r.getColId())}):e.column&&i.push(e.column.getColId()),i}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case L.EVENT_COLUMN_MOVED:case L.EVENT_COLUMN_VISIBLE:case L.EVENT_COLUMN_PINNED:case L.EVENT_COLUMN_RESIZED:const i=e;this.processColumnEvent(i);break;case L.EVENT_COLUMN_GROUP_OPENED:const r=e;this.processGroupOpenedEvent(r);break;case L.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){e.columnGroups.forEach(i=>{let r=null;if(i){const n=i.getGroupId();r=this.columnModel.getProvidedColumnGroup(n)}i&&!r||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),this.columnModel.setColumnGroupOpened(r,i.isExpanded(),"alignedGridChanged"))})}processColumnEvent(e){var i;const r=e.column;let n=null;if(r&&(n=this.columnModel.getPrimaryColumn(r.getColId())),r&&!n)return;const s=this.getMasterColumns(e);switch(e.type){case L.EVENT_COLUMN_MOVED:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId}));this.columnModel.applyColumnState({state:h,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${c.toIndex}`)}break;case L.EVENT_COLUMN_VISIBLE:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${c.visible}`)}break;case L.EVENT_COLUMN_PINNED:{const c=e,h=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${c.pinned}`)}break;case L.EVENT_COLUMN_RESIZED:const l=e,u={};s.forEach(c=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${c.getActualWidth()}`),u[c.getId()]={key:c.getColId(),newWidth:c.getActualWidth()}}),(i=l.flexColumns)==null||i.forEach(c=>{u[c.getId()]&&delete u[c.getId()]}),this.columnModel.setColumnWidths(Object.values(u),!1,l.finished,"alignedGridChanged");break}const a=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(l=>{l.setGridOption("alwaysShowVerticalScroll",a)})}};A([W("columnModel")],jm.prototype,"columnModel",2);A([W("ctrlsService")],jm.prototype,"ctrlsService",2);A([ml(0,vl("loggerFactory"))],jm.prototype,"setBeans",1);A([_e],jm.prototype,"init",1);jm=A([je("alignedGridsService")],jm);var Km=class extends Ie{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,L.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var i;const{newValue:r,clearSelection:n,suppressFinishActions:s,rangeSelect:o,nodes:a,event:l,source:u="api"}=e;if(a.length===0)return 0;if(a.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const c=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=a.map(f=>f.footer?f.sibling:f);if(o){if(a.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let f=null;if(u==="checkboxSelected"&&r===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){const g=d[0];if(g!==f&&this.isMultiselect())return this.selectRange(g,f,r,u)}}this.lastRowNode=r?null:d[0];let h=0;for(let f=0;f<d.length;f++){const g=d[f];c&&g.group||g.selectThisNode(r,l,u)&&h++,this.groupSelectsChildren&&((i=g.childrenAfterGroup)!=null&&i.length)&&(h+=this.selectChildren(g,r,c,u))}if(!s&&(r&&(n||!this.isMultiselect())&&(h+=this.clearOtherNodes(d[0],u)),h>0)){this.updateGroupsFromChildrenSelections(u);const g={type:L.EVENT_SELECTION_CHANGED,source:u};this.eventService.dispatchEvent(g)}return h}selectRange(e,i,r=!0,n){const s=this.rowModel.getNodesInRangeForSelection(e,i);let o=0;s.forEach(l=>{if(l.group&&this.groupSelectsChildren)return;l.selectThisNode(r,void 0,n)&&o++}),this.updateGroupsFromChildrenSelections(n);const a={type:L.EVENT_SELECTION_CHANGED,source:n};return this.eventService.dispatchEvent(a),o}selectChildren(e,i,r,n){const s=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return gt(s)?0:this.setNodesSelected({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:n,nodes:s})}getLastSelectedNode(){const e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;const i=this.selectedNodes.get(Xt(e));return i||null}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(i=>{i&&e.push(i)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(i=>{i&&i.data&&e.push(i.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const i=new Map;this.selectedNodes.forEach((r,n)=>{r&&e(r)&&i.set(n,r)}),this.selectedNodes=i}updateGroupsFromChildrenSelections(e,i){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const n=this.rowModel.getRootNode();i||(i=new i$(!0,n),i.setInactive());let s=!1;return i.forEachChangedNodeDepthFirst(o=>{if(o!==n){const a=o.calculateSelectedFromChildren();s=o.selectThisNode(a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,i){const r=new Map;let n=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const o=this.selectedNodes.get(s.id);n+=o.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),this.groupSelectsChildren&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=s.calculateSelectedFromChildren();s.selectThisNode(o===null?!1:o,void 0,i)}),n}onRowSelected(e){const i=e.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes.set(i.id,i):this.selectedNodes.delete(i.id))}syncInRowNode(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)}syncInOldRowNode(e,i){if(De(i)&&e.id!==i.id&&i){const n=i.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(i.id,i)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const i=this.getSelectionCount();if(this.resetNodes(),i){const r={type:L.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(r)}}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const i=this.rowModel.getTopLevelNodes();if(i===null)return;const r=[];function n(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];if(l.isSelected())r.push(l);else{const u=l;u.group&&u.children&&n(u.children)}}}return n(i),r}isEmpty(){let e=0;return this.selectedNodes.forEach(i=>{i&&e++}),e===0}deselectAllRowNodes(e){const i=l=>l.selectThisNode(!1,void 0,n),r=this.rowModel.getType()==="clientSide",{source:n,justFiltered:s,justCurrentPage:o}=e;if(o||s){if(!r){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,o).forEach(i)}else this.selectedNodes.forEach(l=>{l&&i(l)}),this.reset(n);r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);const a={type:L.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(a)}getSelectedCounts(e,i){let r=0,n=0;const s=o=>{this.groupSelectsChildren&&o.group||(o.isSelected()?r++:o.selectable&&n++)};return this.getNodesToSelect(e,i).forEach(s),{selectedCount:r,notSelectedCount:n}}getSelectAllState(e,i){const{selectedCount:r,notSelectedCount:n}=this.getSelectedCounts(e,i);return r===0&&n===0?!1:r>0&&n>0?null:r>0}hasNodesToSelect(e=!1,i=!1){return this.getNodesToSelect(e,i).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,i=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const r=[];if(i)return this.paginationProxy.forEachNodeOnPage(s=>{if(!s.group){r.push(s);return}if(!s.expanded){const o=a=>{var l;r.push(a),(l=a.childrenAfterFilter)!=null&&l.length&&a.childrenAfterFilter.forEach(o)};o(s);return}this.groupSelectsChildren||r.push(s)}),r;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(s=>{r.push(s)}),r):(n.forEachNode(s=>{r.push(s)}),r)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:i,justFiltered:r,justCurrentPage:n}=e,s=a=>a.selectThisNode(!0,void 0,i);this.getNodesToSelect(r,n).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);const o={type:L.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(o)}getSelectionState(){const e=[];return this.selectedNodes.forEach(i=>{i!=null&&i.id&&e.push(i.id)}),e.length?e:null}setSelectionState(e,i){if(!Array.isArray(e))return;const r=new Set(e),n=[];this.rowModel.forEachNode(s=>{r.has(s.id)&&n.push(s)}),this.setNodesSelected({newValue:!0,nodes:n,source:i})}};A([W("rowModel")],Km.prototype,"rowModel",2);A([W("paginationProxy")],Km.prototype,"paginationProxy",2);A([_e],Km.prototype,"init",1);Km=A([je("selectionService")],Km);var XP=class{constructor(e){this.viaApi=(i,...r)=>(ut(`Since v31, 'columnApi.${i}' is deprecated and moved to 'api.${i}'.`),this.api[i](...r)),this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,i){this.viaApi("setColumnGroupOpened",e,i)}getColumnGroup(e,i){return this.viaApi("getColumnGroup",e,i)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,i){return this.viaApi("getDisplayNameForColumn",e,i)}getDisplayNameForColumnGroup(e,i){return this.viaApi("getDisplayNameForColumnGroup",e,i)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,i){this.viaApi("setColumnVisible",e,i)}setColumnsVisible(e,i){this.viaApi("setColumnsVisible",e,i)}setColumnPinned(e,i){this.viaApi("setColumnPinned",e,i)}setColumnsPinned(e,i){this.viaApi("setColumnsPinned",e,i)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,i){this.viaApi("moveColumn",e,i)}moveColumnByIndex(e,i){this.viaApi("moveColumnByIndex",e,i)}moveColumns(e,i){this.viaApi("moveColumns",e,i)}moveRowGroupColumn(e,i){this.viaApi("moveRowGroupColumn",e,i)}setColumnAggFunc(e,i){this.viaApi("setColumnAggFunc",e,i)}setColumnWidth(e,i,r=!0,n){this.viaApi("setColumnWidth",e,i,r,n)}setColumnWidths(e,i=!0,r){this.viaApi("setColumnWidths",e,i,r)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,i){return this.viaApi("getPivotResultColumn",e,i)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,i){return this.viaApi("autoSizeColumn",e,i)}autoSizeColumns(e,i){this.viaApi("autoSizeColumns",e,i)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};A([W("gridApi")],XP.prototype,"api",2);XP=A([je("columnApi")],XP);var Zp=class extends Ie{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(L.EVENT_CELL_VALUE_CHANGED,e,i),this.addDestroyFunc(()=>this.eventService.removeEventListener(L.EVENT_CELL_VALUE_CHANGED,e,i)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValue(e,i,r=!1,n=!1){if(this.initialised||this.init(),!i)return;const s=e.getColDef(),o=s.field,a=e.getColId(),l=i.data;let u;const c=i.groupData&&i.groupData[a]!==void 0,d=!n&&i.aggData&&i.aggData[a]!==void 0,h=this.isSsrm&&n&&!!e.getColDef().aggFunc,f=this.isSsrm&&i.footer&&i.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===i.field);if(r&&s.filterValueGetter?u=this.executeFilterValueGetter(s.filterValueGetter,l,e,i):this.isTreeData&&d?u=i.aggData[a]:this.isTreeData&&s.valueGetter?u=this.executeValueGetter(s.valueGetter,l,e,i):this.isTreeData&&o&&l?u=Cm(l,o,e.isFieldContainsDots()):c?u=i.groupData[a]:d?u=i.aggData[a]:s.valueGetter?u=this.executeValueGetter(s.valueGetter,l,e,i):f?u=Cm(l,i.field,e.isFieldContainsDots()):o&&l&&!h&&(u=Cm(l,o,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const g=u.substring(1);u=this.executeValueGetter(g,l,e,i)}if(u==null){const g=this.getOpenedGroup(i,e);if(g!=null)return g}return u}getOpenedGroup(e,i){if(!this.gridOptionsService.get("showOpenedGroup")||!i.getColDef().showRowGroup)return;const n=i.getColDef().showRowGroup;let s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(n===!0||n===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,i,r,n){const s=this.columnModel.getPrimaryColumn(i);if(!e||!s)return!1;gt(e.data)&&(e.data={});const{field:o,valueSetter:a}=s.getColDef();if(gt(o)&&gt(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const l=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(s,e),newValue:r,colDef:s.getColDef(),column:s});l.newValue=r;let u;if(De(a)?typeof a=="function"?u=a(l):u=this.expressionService.evaluate(a,l):u=this.setValueUsingField(e.data,o,r,s.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(s,e);const c={type:L.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:e.data,node:e,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:n};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){const i=e.colDef.onCellValueChanged;typeof i=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{i({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})}setValueUsingField(e,i,r,n){if(!i)return!1;let s=!1;if(!n)s=e[i]===r,s||(e[i]=r);else{const o=i.split(".");let a=e;for(;o.length>0&&a;){const l=o.shift();o.length===0?(s=a[l]===r,s||(a[l]=r)):a=a[l]}}return!s}executeFilterValueGetter(e,i,r,n){const s=this.gridOptionsService.addGridCommonParams({data:i,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(s):this.expressionService.evaluate(e,s)}executeValueGetter(e,i,r,n){const s=r.getColId(),o=this.valueCache.getValue(n,s);if(o!==void 0)return o;const a=this.gridOptionsService.addGridCommonParams({data:i,node:n,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,n)});let l;return typeof e=="function"?l=e(a):l=this.expressionService.evaluate(e,a),this.valueCache.setValue(n,s,l),l}getValueCallback(e,i){const r=this.columnModel.getPrimaryColumn(i);return r?this.getValue(r,e):null}getKeyForNode(e,i){const r=this.getValue(e,i),n=e.getColDef().keyCreator;let s=r;if(n){const o=this.gridOptionsService.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:i,data:i.data});s=n(o)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&ut("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}};A([W("expressionService")],Zp.prototype,"expressionService",2);A([W("columnModel")],Zp.prototype,"columnModel",2);A([W("valueCache")],Zp.prototype,"valueCache",2);A([W("dataTypeService")],Zp.prototype,"dataTypeService",2);A([_e],Zp.prototype,"init",1);Zp=A([je("valueService")],Zp);var n1=class extends Ie{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,i){if(typeof e=="string")return this.evaluateExpression(e,i);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup)}catch(r){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",i),console.log("Exception = "+r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const i=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};A([ml(0,vl("loggerFactory"))],n1.prototype,"setBeans",1);n1=A([je("expressionService")],n1);var vK=class extends Ie{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,i){const r=this.templateCache[e];if(r)return r;let n=this.waitingCallbacks[e];const s=this;if(!n){n=[],this.waitingCallbacks[e]=n;const o=new XMLHttpRequest;o.onload=function(){s.handleHttpResult(this,e)},o.open("GET",e),o.send()}return i&&n.push(i),null}handleHttpResult(e,i){if(e.status!==200||e.response===null){console.warn(`AG Grid: Unable to get template error ${e.status} - ${i}`);return}this.templateCache[i]=e.response||e.responseText;const r=this.waitingCallbacks[i];for(let n=0;n<r.length;n++){const s=r[n];s()}}};vK=A([je("templateService")],vK);var s1=class extends Ie{setBeans(e){this.logging=e.get("debug")}create(e){return new Pee(e,this.isLogging.bind(this))}isLogging(){return this.logging}};A([ml(0,vl("gridOptionsService"))],s1.prototype,"setBeans",1);s1=A([je("loggerFactory")],s1);var Pee=class{constructor(e,i){this.name=e,this.isLoggingFunc=i}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},Vf=class extends Ie{setComp(e,i,r){this.view=e,this.eGridHostDiv=i,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:s=>s===1||s===0,getIconName:()=>Dt.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new nO(this.view)),this.addRtlSupport();const n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>n()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const i=this.focusService.findTabbableParent(this.getGui());return((e=i==null?void 0:i.getAttribute("row-id"))==null?void 0:e.startsWith("detail"))||!1}showDropZones(){return Gi.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Gi.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Gi.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Gi.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const e={type:L.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const i=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),s=r.findIndex(o=>o.contains(i.activeElement))+(e?-1:1);return s<=0||s>=r.length?!1:this.focusService.focusInto(r[s])}focusInnerElement(e){const i=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(e){if(i.length>1)return this.focusService.focusInto(Xt(i),!0);const n=Xt(r);if(this.focusService.focusGridView(n,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(r[0]))return!0;for(let n=1;n<i.length;n++)if(this.focusService.focusInto(i[n]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};A([W("focusService")],Vf.prototype,"focusService",2);A([W("resizeObserverService")],Vf.prototype,"resizeObserverService",2);A([W("columnModel")],Vf.prototype,"columnModel",2);A([W("ctrlsService")],Vf.prototype,"ctrlsService",2);A([W("mouseEventService")],Vf.prototype,"mouseEventService",2);A([W("dragAndDropService")],Vf.prototype,"dragAndDropService",2);var Pb=class extends Eb{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:r=>this.addCssClass(r),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:r=>{this.getGui().style.userSelect=r??"",this.getGui().style.webkitUserSelect=r??""},setCursor:r=>{this.getGui().style.cursor=r??""}};this.ctrl=this.createManagedBean(new Vf);const i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.ctrl.focusInnerElement(r),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,i){const r=this.eRootWrapperBody.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",n=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${r}
                <ag-pagination></ag-pagination>
                ${n}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(i=>Bo(i))}};A([W("loggerFactory")],Pb.prototype,"loggerFactory",2);A([Ge("gridBody")],Pb.prototype,"gridBodyComp",2);A([Ge("sideBar")],Pb.prototype,"sideBarComp",2);A([Ge("rootWrapperBody")],Pb.prototype,"eRootWrapperBody",2);A([_e],Pb.prototype,"postConstruct",1);var Ym=class extends Ie{progressSort(e,i,r){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,i,r)}setSortForColumn(e,i,r,n){i!=="asc"&&i!=="desc"&&(i=null);const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();let o=[e];if(s&&e.getColDef().showRowGroup){const u=this.columnModel.getSourceColumnsForGroupColumn(e),c=u==null?void 0:u.filter(d=>d.isSortable());c&&(o=[e,...c])}o.forEach(u=>u.setSort(i,n));const a=(r||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),l=[];if(!a){const u=this.clearSortBarTheseColumns(o,n);l.push(...u)}this.updateSortIndex(e),l.push(...o),this.dispatchSortChangedEvents(n,l)}updateSortIndex(e){const i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),n=i&&r||e,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(l=>l.setSortIndex(null));const o=s.filter(l=>i&&l.getColDef().showRowGroup?!1:l!==n);(n.getSort()?[...o,n]:o).forEach((l,u)=>{l.setSortIndex(u)})}onSortChanged(e,i){this.dispatchSortChangedEvents(e,i)}isSortActive(){const i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(r=>!!r.getSort());return i&&i.length>0}dispatchSortChangedEvents(e,i){const r={type:L.EVENT_SORT_CHANGED,source:e};i&&(r.columns=i),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,i){const r=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(n=>{e.includes(n)||(n.getSort()&&r.push(n),n.setSort(void 0,i))}),r}getNextSortDirection(e){let i;if(e.getColDef().sortingOrder?i=e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=Ym.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${i}`),null;const r=i.indexOf(e.getSort()),n=r<0,s=r==i.length-1;let o;return n||s?o=i[0]:o=i[r+1],Ym.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(o=>!!o.getSort());if(this.columnModel.isPivotMode()){const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(a=>{const l=!!a.getAggFunc(),u=!a.isPrimary(),c=o?this.columnModel.getGroupDisplayColumnForGroup(a.getId()):a.getColDef().showRowGroup;return l||u||c})}const i=this.columnModel.getRowGroupColumns().filter(o=>!!o.getSort()),r={};e.forEach((o,a)=>r[o.getId()]=a),e.sort((o,a)=>{const l=o.getSortIndex(),u=a.getSortIndex();if(l!=null&&u!=null)return l-u;if(l==null&&u==null){const c=r[o.getId()],d=r[a.getId()];return c>d?1:-1}else return u==null?-1:1});const n=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!i.length;n&&(e=[...new Set(e.map(o=>{var a;return(a=this.columnModel.getGroupDisplayColumnForGroup(o.getId()))!=null?a:o}))]);const s=new Map;return e.forEach((o,a)=>s.set(o,a)),n&&i.forEach(o=>{const a=this.columnModel.getGroupDisplayColumnForGroup(o.getId());s.set(o,s.get(a))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,i],[r,n])=>i-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=!!e.getColDef().showRowGroup;return i&&r}getDisplaySortForColumn(e){const i=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(i!=null&&i.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...i]:i,s=n[0].getSort();return n.every(a=>a.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};Ym.DEFAULT_SORTING_ORDER=["asc","desc",null];A([W("columnModel")],Ym.prototype,"columnModel",2);Ym=A([je("sortController")],Ym);var bi=class extends Ie{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",bi.toggleKeyboardMode),e.addEventListener("mousedown",bi.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",bi.toggleKeyboardMode),e.addEventListener("mousedown",bi.toggleKeyboardMode))}static toggleKeyboardMode(e){const i=bi.keyboardModeActive,r=e.type==="keydown";r&&(e.ctrlKey||e.metaKey||e.altKey)||i!==r&&(bi.keyboardModeActive=r)}static unregisterGridCompController(e){bi.removeKeyboardModeEvents(e)}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,L.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const e=this.gridOptionsService.getDocument();bi.addKeyboardModeEvents(e),bi.instanceCount++,this.addDestroyFunc(()=>{bi.instanceCount--,bi.unregisterGridCompController(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(e.getId());e!==i&&this.clearFocusedCell()}isKeyboardMode(){return bi.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,Rp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,uO.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,i){let r=e;for(;r;){if(this.gridOptionsService.getDomData(r,i))return!1;r=r.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:i,column:r}=this.focusedCellPosition,n={rowIndex:e,rowPinned:i,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:i});return s&&(n.isFullWidthCell=s.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=tt({type:L.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:i,rowIndex:r,rowPinned:n,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1}=e,a=this.columnModel.getGridColumn(i);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition=a?{rowIndex:r,rowPinned:vu(n),column:a}:null;const l=Wi(tt({type:L.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:o,floating:null});this.eventService.dispatchEvent(l)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const i=e.getColumnGroupChild(),r=e.getRowIndex(),n=e.getPinned(),{column:s,headerRowIndex:o}=this.focusedHeaderPosition;return i===s&&r===o&&n==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,i){this.focusedHeaderPosition={headerRowIndex:e,column:i}}focusHeaderPosition(e){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:i,fromTab:r,allowUserOverride:n,event:s,fromCell:o,rowWithoutSpanValue:a}=e;let{headerPosition:l}=e;if(o&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(l);if(n){const d=this.getFocusedHeader(),h=this.headerNavigationService.getHeaderRowCount();if(r){const f=this.gridOptionsService.getCallback("tabToNextHeader");f&&(l=f({backwards:i==="Before",previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:h}))}else{const f=this.gridOptionsService.getCallback("navigateToNextHeader");if(f&&s){const g={key:s.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:h,event:s};l=f(g)}}}if(!l)return!1;if(l.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(l):this.focusGridView(l.column);this.headerNavigationService.scrollToColumn(l.column,i);const c=this.ctrlsService.getHeaderRowContainerCtrl(l.column.getPinned()).focusHeader(l.headerRowIndex,l.column,s);return c&&(a!=null||o)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(a??-1),c}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){const i=this.headerNavigationService.getHeaderRowCount()-1,r=Xt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:r},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===vu(i)}findFocusableElements(e,i,r=!1){const n=JZ;let s=TH;i&&(s+=", "+i),r&&(s+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(u=>Bo(u)),a=Array.prototype.slice.apply(e.querySelectorAll(s));return a.length?((u,c)=>u.filter(d=>c.indexOf(d)===-1))(o,a):o}focusInto(e,i=!1,r=!1){const n=this.findFocusableElements(e,null,r),s=i?Xt(n):n[0];return s?(s.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,i){if(!i)return null;const r=this.findFocusableElements(e),n=r.indexOf(i);if(n===-1)return null;let s=-1;for(let o=n-1;o>=0;o--)if(r[o].classList.contains("ag-tab-guard-top")){s=o;break}return s<=0?null:r[s-1]}findNextFocusableElement(e=this.eGridDiv,i,r){const n=this.findFocusableElements(e,i?':not([tabindex="-1"])':null),o=this.gridOptionsService.getDocument().activeElement;let a;i?a=n.findIndex(u=>u.contains(o)):a=n.indexOf(o);const l=a+(r?-1:1);return l<0||l>=n.length?null:n[l]}isTargetUnderManagedComponent(e,i){if(!i)return!1;const r=e.querySelectorAll(`.${hh.FOCUS_MANAGED_CLASS}`);if(!r.length)return!1;for(let n=0;n<r.length;n++)if(r[n].contains(i))return!0;return!1}findTabbableParent(e,i=5){let r=0;for(;e&&HP(e)===null&&++r<=i;)e=e.parentElement;return HP(e)===null?null:e}focusGridView(e,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!r)return!1;const{rowIndex:n,rowPinned:s}=r,o=this.getFocusedHeader();if(!e&&o&&(e=o.column),n==null||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:n,column:e,rowPinned:s}),this.setFocusedCell({rowIndex:n,column:e,rowPinned:vu(s),forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:n,rowPinned:s,column:e};this.rangeService.setRangeToCell(a)}return!0}focusNextGridCoreContainer(e,i=!1){return!i&&this.gridCtrl.focusNextInnerContainer(e)?!0:((i||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e==null?void 0:e.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(e,i){var r,n;const s=(n=i?void 0:this.advancedFilterFocusColumn)!=null?n:(r=this.columnModel.getAllDisplayedColumns())==null?void 0:r[0];return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};bi.keyboardModeActive=!1;bi.instanceCount=0;A([W("eGridDiv")],bi.prototype,"eGridDiv",2);A([W("columnModel")],bi.prototype,"columnModel",2);A([W("headerNavigationService")],bi.prototype,"headerNavigationService",2);A([W("headerPositionUtils")],bi.prototype,"headerPositionUtils",2);A([W("rowRenderer")],bi.prototype,"rowRenderer",2);A([W("rowPositionUtils")],bi.prototype,"rowPositionUtils",2);A([W("cellPositionUtils")],bi.prototype,"cellPositionUtils",2);A([ai("rangeService")],bi.prototype,"rangeService",2);A([W("navigationService")],bi.prototype,"navigationService",2);A([W("ctrlsService")],bi.prototype,"ctrlsService",2);A([W("filterManager")],bi.prototype,"filterManager",2);A([ai("advancedFilterService")],bi.prototype,"advancedFilterService",2);A([_e],bi.prototype,"init",1);bi=A([je("focusService")],bi);var CK=class extends Ie{setMouseOver(e){this.selectedColumns=e;const i={type:L.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(i)}clearMouseOver(){this.selectedColumns=null;const e={type:L.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};CK=A([je("columnHoverService")],CK);var QP=class extends Ie{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}const i=r=>{for(;r.length;){const n=r.pop();n&&n()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>i(this.executeNextFuncs),0),window.setTimeout(()=>{i(this.executeLaterFuncs),e()},200)})}};A([W("ctrlsService")],QP.prototype,"ctrlsService",2);A([_e],QP.prototype,"postConstruct",1);QP=A([je("columnAnimationService")],QP);var cw=class extends Ie{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,L.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const i=()=>{const r=this.gridOptionsService.getRowHeightAsNumber(),n=Math.floor(e/r);this.paginationProxy.setPageSize(n,"autoCalculated")};this.isBodyRendered?vs(()=>i(),50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};A([W("ctrlsService")],cw.prototype,"ctrlsService",2);A([W("paginationProxy")],cw.prototype,"paginationProxy",2);A([_e],cw.prototype,"postConstruct",1);cw=A([je("paginationAutoPageSizeService")],cw);var o1=class extends Ie{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,i,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=r)}getValue(e,i){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[i]}};A([_e],o1.prototype,"init",1);o1=A([je("valueCache")],o1);var pOe="paste",dw=class extends Ie{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,L.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==pOe&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,i){if(this.gridOptionsService.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gridOptionsService.get("aggregateOnlyChangedColumns"),s=new i$(n,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(o=>{r.push(o)})}this.rowRenderer.refreshCells({rowNodes:r})}};A([W("rowModel")],dw.prototype,"rowModel",2);A([W("rowRenderer")],dw.prototype,"rowRenderer",2);A([_e],dw.prototype,"init",1);dw=A([je("changeDetectionService")],dw);var a1=class extends Ie{adaptFunction(e,i){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(i):null}adaptCellRendererFunction(e){class i{refresh(n){return!1}getGui(){return this.eGui}init(n){const s=e(n),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=Ys("<span>"+s+"</span>");return}if(s==null){this.eGui=Ys("<span></span>");return}this.eGui=s}}return i}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};A([W("componentMetadataProvider")],a1.prototype,"componentMetadataProvider",2);a1=A([je("agComponentUtils")],a1);var ZP=class extends Ie{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};A([W("agComponentUtils")],ZP.prototype,"agComponentUtils",2);A([_e],ZP.prototype,"postConstruct",1);ZP=A([je("componentMetadataProvider")],ZP);var fOe=25,yK=10,vL=8,gOe=4,CL=4,yL=6,mOe=16,SK=14,SL=8,vOe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:gOe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:vL*7,headerCellMinWidth:48,listItemHeight:vL*4,rowHeight:vL*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:CL*8,headerCellMinWidth:24,listItemHeight:CL*6,rowHeight:CL*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:yL*8,headerCellMinWidth:36,listItemHeight:yL*4,rowHeight:yL*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:SK+SL*4.25,headerCellMinWidth:36,listItemHeight:mOe+SL,rowHeight:SK+SL*3.5,chartMenuPanelWidth:260}},wK={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},JP=class extends Ie{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const i=(e=this.getTheme().el)!=null?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:L.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:i,el:r}=this.getTheme();if(!i||i.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});const n=this.calculatedSizes[i][e];return n??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,r),this.calculatedSizes[i][e])}calculateValueForSassProperty(e,i,r){const n="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),s=vOe[n][e],o=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!wK[e])return s;const a=wK[e],l=o.createElement("div"),u=Array.from(r.classList);l.classList.add(i,...u),l.style.position="absolute";const c=a.reduce((h,f)=>{const g=o.createElement("div");return g.style.position="static",g.classList.add(f),h.appendChild(g),g},l);let d=0;if(o.body){o.body.appendChild(l);const h=e.toLowerCase().indexOf("height")!==-1?"height":"width";d=parseInt(window.getComputedStyle(c)[h],10),o.body.removeChild(l)}return d||s}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let i=this.eGridDiv,r=null,n=[];for(;i;)if(r=e.exec(i.className),!r)i=i.parentElement||void 0;else{const o=i.className.match(e);o&&(n=o);break}if(!r)return{allThemes:n};const s=r[0];return{theme:s,el:i,themeFamily:s.replace(/-dark$/,""),allThemes:n}}getFromTheme(e,i){var r;return(r=this.getSassVariable(i))!=null?r:e}getDefaultRowHeight(){return this.getFromTheme(fOe,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=this.gridOptionsService.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${i}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),i):e!=""?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return De(e)?Math.max(e,yK):yK}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};A([W("eGridDiv")],JP.prototype,"eGridDiv",2);A([_e],JP.prototype,"postConstruct",1);JP=A([je("environment")],JP);var hw=class extends Ie{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,L.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=UZ(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(i!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${i} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(i)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const i=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:L.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const i=this.modelHeight-this.getUiBodyHeight(),r=e/i;return this.maxScrollY*r}};A([W("ctrlsService")],hw.prototype,"ctrlsService",2);A([ml(0,vl("loggerFactory"))],hw.prototype,"agWire",1);A([_e],hw.prototype,"postConstruct",1);hw=A([je("rowContainerHeightService")],hw);var pw=class extends Ie{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const i=!!this.gridOptionsService.get("rowSelection"),r=this.gridOptionsService.get("isRowSelectable");if(!i||!r)return;const n=this.gridOptionsService.get("groupSelectsChildren"),s=this.rowModel.getType()==="clientSide"&&n,o=[],a=l=>{if(e&&!l.group)return;if(s&&l.group){const c=l.childrenAfterGroup.some(d=>d.selectable===!0);l.setRowSelectable(c,!0);return}const u=r?r(l):!0;l.setRowSelectable(u,!0),!u&&l.isSelected()&&o.push(l)};if(s){const l=this.rowModel;new i$(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof Km&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};A([W("rowModel")],pw.prototype,"rowModel",2);A([W("selectionService")],pw.prototype,"selectionService",2);A([_e],pw.prototype,"init",1);pw=A([je("selectableService")],pw);var Qo=class extends wt{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:i,btPrevious:r,btNext:n,btLast:s,pageSizeComp:o}=this;this.activateTabIndex([i,r,n,s]),i.insertAdjacentElement("afterbegin",tr(e?"last":"first",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",tr(e?"next":"previous",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",tr(e?"previous":"next",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",tr(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const i=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,L.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:i,fn:r}=e;this.addManagedListener(i,"click",r),this.addManagedListener(i,"keydown",n=>{(n.key===ce.ENTER||n.key===ce.SPACE)&&(n.preventDefault(),r())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage(),r=e?i+1:0;this.lbCurrent.textContent=this.formatNumber(r)}formatNumber(e){const i=this.gridOptionsService.getCallback("paginationNumberFormatter");if(i)return i({value:e});const r=this.localeService.getLocaleTextFunc(),n=r("thousandSeparator",","),s=r("decimalSeparator",".");return RH(e,n,s)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),i=e("page","Page"),r=e("to","to"),n=e("of","of"),s=e("firstPage","First Page"),o=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),l=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${u}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${r}</span>
                    <span id="ag-${u}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${n}</span>
                    <span id="ag-${u}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${u}-start-page">${i}</span>
                        <span id="ag-${u}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${n}</span>
                        <span id="ag-${u}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),s=e===r-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!i||n||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,i){fH(e,i),e.classList.toggle("ag-disabled",i)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let s,o;if(this.isZeroPagesToDisplay()?s=o=0:(s=i*e+1,o=s+i-1,r&&o>n&&(o=n)),this.lbFirstRowOnPage.textContent=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){const a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(o)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return e&&i===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(r===1){const n=this.paginationProxy.getRow(0);if(n&&n.group&&!(n.groupData||n.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(i),this.lbRecordCount.textContent=this.formatNumber(r);else{const n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};A([W("paginationProxy")],Qo.prototype,"paginationProxy",2);A([W("rowNodeBlockLoader")],Qo.prototype,"rowNodeBlockLoader",2);A([Ge("btFirst")],Qo.prototype,"btFirst",2);A([Ge("btPrevious")],Qo.prototype,"btPrevious",2);A([Ge("btNext")],Qo.prototype,"btNext",2);A([Ge("btLast")],Qo.prototype,"btLast",2);A([Ge("lbRecordCount")],Qo.prototype,"lbRecordCount",2);A([Ge("lbFirstRowOnPage")],Qo.prototype,"lbFirstRowOnPage",2);A([Ge("lbLastRowOnPage")],Qo.prototype,"lbLastRowOnPage",2);A([Ge("lbCurrent")],Qo.prototype,"lbCurrent",2);A([Ge("lbTotal")],Qo.prototype,"lbTotal",2);A([Ge("pageSizeComp")],Qo.prototype,"pageSizeComp",2);A([_e],Qo.prototype,"postConstruct",1);var pO=class xee extends wt{constructor(){super(xee.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,i){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new nO(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)}showOverlay(e,i,r){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(n=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,this.updateListenerDestroyFunc=r,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(e=this.updateListenerDestroyFunc)==null||e.call(this),Ir(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};pO.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`;A([W("overlayService")],pO.prototype,"overlayService",2);A([Ge("eOverlayWrapper")],pO.prototype,"eOverlayWrapper",2);A([_e],pO.prototype,"postConstruct",1);var fw=class extends Ie{getFirstRow(){let e=0,i;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:e,rowPinned:i}}getLastRow(){let e,i=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return r?(i="bottom",e=r-1):this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageLastRow()):n&&(i="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:i}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,i){return!e&&!i?!0:e&&!i||!e&&i?!1:e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned}before(e,i){switch(e.rowPinned){case"top":if(i.rowPinned!=="top")return!0;break;case"bottom":if(i.rowPinned!=="bottom")return!1;break;default:if(De(i.rowPinned))return i.rowPinned!=="top";break}return e.rowIndex<i.rowIndex}rowMax(e){let i;return e.forEach(r=>{(i===void 0||this.before(i,r))&&(i=r)}),i}rowMin(e){let i;return e.forEach(r=>{(i===void 0||this.before(r,i))&&(i=r)}),i}};A([W("rowModel")],fw.prototype,"rowModel",2);A([W("pinnedRowModel")],fw.prototype,"pinnedRowModel",2);A([W("paginationProxy")],fw.prototype,"paginationProxy",2);fw=A([je("rowPositionUtils")],fw);var EK=class extends Ie{createId(e){const{rowIndex:i,rowPinned:r,column:n}=e;return this.createIdFromValues({rowIndex:i,column:n,rowPinned:r})}createIdFromValues(e){const{rowIndex:i,rowPinned:r,column:n}=e;return`${i}.${r??"null"}.${n.getId()}`}equals(e,i){const r=e.column===i.column,n=e.rowPinned===i.rowPinned,s=e.rowIndex===i.rowIndex;return r&&n&&s}};EK=A([je("cellPositionUtils")],EK);var zy=class{constructor(e){this.cellValueChanges=e}},wL=class extends zy{constructor(e,i,r,n){super(e),this.initialRange=i,this.finalRange=r,this.ranges=n}},Aee=class Oee{constructor(e){this.actionStack=[],this.maxStackSize=e||Oee.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};Aee.DEFAULT_STACK_SIZE=10;var bK=Aee,Il=class extends Ie{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const i={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,i),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,i);if(!(r||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:a,column:l,oldValue:u,value:c}=e,d={rowPinned:o,rowIndex:a,columnId:l.getColId(),newValue:c,oldValue:u};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const e=this.gridOptionsService.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new bK(e),this.redoStack=new bK(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,L.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,L.EVENT_MODEL_UPDATED,i=>{i.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,L.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const i={type:L.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(i);const r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),n={type:L.EVENT_UNDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(n)}redo(e){const i={type:L.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(i);const r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),n={type:L.EVENT_REDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(n)}undoRedo(e,i,r,n,s){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,a=>a[n],s),o instanceof wL?this.processRange(o.ranges||[o[r]]):this.processCell(o.cellValueChanges),i.push(o),!0)}processAction(e,i,r){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:o,columnId:a}=n,l={rowIndex:s,rowPinned:o},u=this.getRowNode(l);u.displayed&&u.setDataValue(a,i(n),r)})}processRange(e){let i;this.rangeService.removeAllCellRanges(!0),e.forEach((r,n)=>{if(!r)return;const s=r.startRow,o=r.endRow;n===e.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};this.rangeService.addCellRange(a)})}processCell(e){const i=e[0],{rowIndex:r,rowPinned:n}=i,s={rowIndex:r,rowPinned:n},o=this.getRowNode(s),a={rowPinned:i.rowPinned,rowIndex:o.rowIndex,columnId:i.columnId};this.setLastFocusedCell(a,!!this.rangeService)}setLastFocusedCell(e,i){const{rowIndex:r,columnId:n,rowPinned:s}=e,o=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(n);if(!a)return;o.ensureIndexVisible(r),o.ensureColumnVisible(a);const l={rowIndex:r,column:a,rowPinned:s};this.focusService.setFocusedCell(Wi(tt({},l),{forceBrowserFocus:!0})),i&&this.rangeService.setRangeToCell(l)}addRowEditingListeners(){this.addManagedListener(this.eventService,L.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,L.EVENT_ROW_EDITING_STOPPED,()=>{const e=new zy(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,L.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,L.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new zy(this.cellValueChanges);this.pushActionsToUndoStack(r)}})}addPasteListeners(){this.addManagedListener(this.eventService,L.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,L.EVENT_PASTE_END,()=>{const e=new zy(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,L.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,L.EVENT_FILL_END,e=>{const i=new wL(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(i),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,L.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,L.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?e=new wL(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new zy(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};A([W("focusService")],Il.prototype,"focusService",2);A([W("ctrlsService")],Il.prototype,"ctrlsService",2);A([W("rowModel")],Il.prototype,"rowModel",2);A([W("pinnedRowModel")],Il.prototype,"pinnedRowModel",2);A([W("cellPositionUtils")],Il.prototype,"cellPositionUtils",2);A([W("rowPositionUtils")],Il.prototype,"rowPositionUtils",2);A([W("columnModel")],Il.prototype,"columnModel",2);A([ai("rangeService")],Il.prototype,"rangeService",2);A([_e],Il.prototype,"init",1);Il=A([je("undoRedoService")],Il);var ex=class extends Ie{findHeader(e,i){let r,n,s;if(e.column instanceof $r?(n=`getDisplayedGroup${i}`,r=this.columnModel[n](e.column)):(s=`getDisplayedCol${i}`,r=this.columnModel[s](e.column)),!r)return;let{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const u=[r];for(;r.getParent();)r=r.getParent(),u.push(r);r=u[u.length-1-o]}const{column:a,headerRowIndex:l}=this.getHeaderIndexToFocus(r,o);return{column:a,headerRowIndex:l}}getHeaderIndexToFocus(e,i){let r;if(e instanceof $r&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;r=n.getLeafColumns()[0];let s=r;for(;s!==n;)i++,s=s.getParent()}return{column:r||e,headerRowIndex:i}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(i=>i.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,i){const r=this.getHeaderRowType(i),n=r==="filter",s=r==="column";let o=n?e:e.getParent(),a=i-1,l=a;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;o&&o.isPadding();)o=o.getParent(),a--;l=a,a<0&&(o=e,a=i,l=void 0)}return{column:o,headerRowIndex:a,headerRowIndexWithoutSpan:l}}getColumnVisibleChild(e,i,r="After"){const n=this.getHeaderRowType(i);let s=e,o=i+1,a=o;if(n==="group"){const l=e.getDisplayedLeafColumns(),u=r==="After"?l[0]:Xt(l),c=[];let d=u;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(s=u,u.isSpanHeaderHeight())for(let h=c.length-1;h>=0;h--){const f=c[h];if(!f.isPadding()){s=f;break}o++}else s=Xt(c),s||(s=u)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getHeaderRowType(e){const i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)}findColAtEdgeForHeaderRow(e,i){const r=this.columnModel.getAllDisplayedColumns(),n=r[i==="start"?0:r.length-1];if(!n)return;const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getRowType(e);if(o=="group"){const a=this.columnModel.getColumnGroupAtLevel(n,e);return{headerRowIndex:e,column:a}}return{headerRowIndex:o==null?-1:e,column:n}}};A([W("columnModel")],ex.prototype,"columnModel",2);A([W("ctrlsService")],ex.prototype,"ctrlsService",2);ex=A([je("headerPositionUtils")],ex);var RK=class{buildColumnDefs(e,i,r){const n=[],s={};return e.forEach(o=>{const a=this.createDefFromColumn(o,i,r);let l=!0,u=a,c=o.getOriginalParent(),d=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const f=s[c.getGroupId()];if(f){f.children.push(u),l=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[u],s[h.groupId]=h,u=h,c=c.getOriginalParent()),c!=null&&d===c){l=!1;break}d=c}l&&n.push(u)}),n}createDefFromGroup(e){const i=LP(e.getColGroupDef(),["children"]);return i&&(i.groupId=e.getGroupId()),i}createDefFromColumn(e,i,r){const n=LP(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?i.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?r.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}};RK=A([je("columnDefFactory")],RK);var tx=class{getInitialRowClasses(e){const i=[];return De(e.extraCssClass)&&i.push(e.extraCssClass),i.push("ag-row"),i.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&i.push("ag-opacity-zero"),i.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&i.push("ag-row-pinned"),e.rowNode.isSelected()&&i.push("ag-row-selected"),e.rowNode.footer&&i.push("ag-row-footer"),i.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&i.push("ag-row-loading"),e.fullWidthRow&&i.push("ag-full-width-row"),e.expandable&&(i.push("ag-row-group"),i.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&i.push("ag-row-dragging"),UN(i,this.processClassesFromGridOptions(e.rowNode)),UN(i,this.preProcessRowClassRules(e.rowNode)),i.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&i.push("ag-row-first"),e.lastRowOnPage&&i.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&i.push("ag-cell-last-left-pinned"),e.pinned==="right"&&i.push("ag-cell-first-right-pinned")),i}processClassesFromGridOptions(e){const i=[],r=o=>{typeof o=="string"?i.push(o):Array.isArray(o)&&o.forEach(a=>i.push(a))},n=this.gridOptionsService.get("rowClass");if(n){if(typeof n=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(n)}const s=this.gridOptionsService.getCallback("getRowClass");if(s){const o={data:e.data,node:e,rowIndex:e.rowIndex},a=s(o);r(a)}return i}preProcessRowClassRules(e){const i=[];return this.processRowClassRules(e,r=>{i.push(r)},r=>{}),i}processRowClassRules(e,i,r){const n=this.gridOptionsService.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),n,i,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};A([W("stylingService")],tx.prototype,"stylingService",2);A([W("gridOptionsService")],tx.prototype,"gridOptionsService",2);tx=A([je("rowCssClassCalculator")],tx);var gw=class extends Ie{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,i){const r=(s,o)=>({currentPos:o,rowNode:s}),n=e.map(r);return n.sort(this.compareRowNodes.bind(this,i)),n.map(s=>s.rowNode)}compareRowNodes(e,i,r){const n=i.rowNode,s=r.rowNode;for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.sort==="desc",c=this.getValue(n,l.column),d=this.getValue(s,l.column);let h;const f=this.getComparator(l,n);if(f?h=f(c,d,n,s,u):h=Kp.defaultComparator(c,d,this.isAccentedSort),!isNaN(h)&&h!==0)return l.sort==="asc"?h:h*-1}return i.currentPos-r.currentPos}getComparator(e,i){const r=e.column,n=r.getColDef().comparator;if(n!=null)return n;if(!r.getColDef().showRowGroup)return;const s=!i.group&&r.getColDef().field;if(!s)return;const o=this.columnModel.getPrimaryColumn(s);if(o)return o.getColDef().comparator}getValue(e,i){var r,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,e,!1,!1);if(e.rowGroupColumn===i){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const l=(r=e.allLeafChildren)==null?void 0:r[0];return l?this.valueService.getValue(i,l,!1,!1):void 0}const a=this.columnModel.getGroupDisplayColumnForGroup(i.getId());return a?(n=e.groupData)==null?void 0:n[a.getId()]:void 0}if(!(e.group&&i.getColDef().showRowGroup))return this.valueService.getValue(i,e,!1,!1)}};A([W("valueService")],gw.prototype,"valueService",2);A([W("columnModel")],gw.prototype,"columnModel",2);A([_e],gw.prototype,"init",1);gw=A([je("rowNodeSorter")],gw);var AD=class extends Ie{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(i=>i(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};AD.NAME="ctrlsService";AD=A([je(AD.NAME)],AD);var TK=class extends Ie{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const i=this.registry[e];if(i!=null)return new i}};TK=A([je("ctrlsFactory")],TK);var Hf=class extends wt{constructor(e,i){super(e),this.direction=i,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,L.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",wH()||Hc())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=bH(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],r=this.getGui();e.forEach(n=>this.addManagedListener(r,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),i.forEach(n=>this.addManagedListener(r,n,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const i=this.getViewport();aH(()=>Bo(i),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};A([Ge("eViewport")],Hf.prototype,"eViewport",2);A([Ge("eContainer")],Hf.prototype,"eContainer",2);A([W("scrollVisibleService")],Hf.prototype,"scrollVisibleService",2);A([W("ctrlsService")],Hf.prototype,"ctrlsService",2);A([W("animationFrameService")],Hf.prototype,"animationFrameService",2);var Jv=class Mee extends Hf{constructor(){super(Mee.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new jv(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.gridOptionsService.getScrollbarWidth();r&&(i+=n),Aa(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=n);let s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=n),Aa(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),n=e&&this.gridOptionsService.getScrollbarWidth()||0,o=r?0:n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),wp(this.getGui(),o),wp(this.eViewport,o),wp(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return sw(this.getViewport(),this.enableRtl)}setScrollPosition(e){Bo(this.getViewport())||this.attemptSettingScrollPosition(e),ow(this.getViewport(),e,this.enableRtl)}};Jv.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;A([Ge("eLeftSpacer")],Jv.prototype,"eLeftSpacer",2);A([Ge("eRightSpacer")],Jv.prototype,"eRightSpacer",2);A([W("columnModel")],Jv.prototype,"columnModel",2);A([W("pinnedRowModel")],Jv.prototype,"pinnedRowModel",2);A([_e],Jv.prototype,"postConstruct",1);var ix=class extends Ie{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,L.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),i=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:L.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:L.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};A([W("columnModel")],ix.prototype,"columnModel",2);A([_e],ix.prototype,"postConstruct",1);ix=A([je("pinnedWidthService")],ix);var mw=class extends Ie{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(r=>this.eventService.dispatchEvent(r)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()}};A([W("animationFrameService")],mw.prototype,"animationFrameService",2);A([W("rowModel")],mw.prototype,"rowModel",2);A([_e],mw.prototype,"postConstruct",1);mw=A([je("rowNodeEventThrottle")],mw);var COe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},pd=(t,e)=>{var i;return((i=e.rowModelType)!=null?i:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},yOe={enableRowGroup:pd,rowGroup:pd,rowGroupIndex:pd,enablePivot:pd,enableValue:pd,pivot:pd,pivotIndex:pd,aggFunc:pd,cellEditor:t=>t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var e;const i=["columnsMenuTab","generalMenuTab"];return(e=t.menuTabs)!=null&&e.some(r=>i.includes(r))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>rm},rm={objectName:"colDef",allProperties:h0e.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:COe,validations:yOe},SOe={enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},wOe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},EOe={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:t=>{var e;const i=(e=t.rowModelType)!=null?e:"clientSide";switch(i){case"clientSide":const r=`treeData requires 'getDataPath' in the ${i} row model.`;return t.getDataPath?null:r;case"serverSide":const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:n}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:t=>{var e;switch((e=t.rowModelType)!=null?e:"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>rm,defaultColDef:()=>rm,defaultColGroupDef:()=>rm,autoGroupColumnDef:()=>rm},bOe={objectName:"gridOptions",allProperties:[...Du.ALL_PROPERTIES,...PZ.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:SOe,validations:EOe},pi=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Tu,this.globalEventHandlerFactory=e=>(i,r)=>{if(this.destroyed)return;const n=bD.has(i);if(n&&!e||!n&&e)return;const s=PZ.getCallbackForEvent(i),o=this.gridOptions[s];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(r)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new XP(this.api);const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var i;return(i=this.gridOptions[e])!=null?i:wOe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return De(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(r=>{const n=r;return n.api=this.api,n.columnApi=this.columnApi,n.context=this.context,e(n)})}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const i=parseInt(e);return isNaN(i)?void 0:i}}static toConstrainedNum(e,i){return r=>{const n=pi.toNumber(r);if(!(n==null||n<e||n>i))return n}}static getCoercedValue(e,i){const r=pi.PROPERTY_COERCIONS.get(e);return r?r(i):i}static getCoercedGridOptions(e){const i={};return Object.entries(e).forEach(([r,n])=>{const s=pi.getCoercedValue(r,n);i[r]=s}),i}updateGridOptions({options:e,source:i="api"}){const r={id:pi.changeSetId++,properties:[]},n=[];Object.entries(e).forEach(([s,o])=>{i==="api"&&sAe[s]&&ut(`${s} is an initial property and cannot be updated.`);const a=pi.getCoercedValue(s,o),l=typeof a=="object"&&i==="api",u=this.gridOptions[s];if(l||u!==a){this.gridOptions[s]=a;const c={type:s,currentValue:a,previousValue:u,changeSet:r,source:i};n.push(c)}}),this.validationService.processGridOptions(this.gridOptions),r.properties=n.map(s=>s.type),n.forEach(s=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${s.type} from `,s.previousValue," to  ",s.currentValue),this.propertyEventService.dispatchEvent(s)})}addEventListener(e,i){this.propertyEventService.addEventListener(e,i)}removeEventListener(e,i){this.propertyEventService.removeEventListener(e,i)}getScrollbarWidth(){if(this.scrollbarWidth==null){const i=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:KZ();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:L.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&gt(this.gridOptions.rowModelType)}isDomLayout(e){var i;return((i=this.gridOptions.domLayout)!=null?i:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,i=!1,r){if(r==null&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:r,estimated:!0};const s={node:e,data:e.data},o=this.getCallback("getRowHeight")(s);if(this.isNumeric(o))return o===0&&ut("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||gt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,i){const r=e[this.getDomDataKey()];return r?r[i]:void 0}setDomData(e,i,r){const n=this.getDomDataKey();let s=e[n];gt(s)&&(s={},e[n]=s),s[i]=r}getDocument(){let e=null;return this.gridOptions.getDocument&&De(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&De(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return De(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return()=>!0}isGroupIncludeFooterTrueOrCallback(){const e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"}getGroupIncludeFooter(){const e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){const i=e;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,i}};pi.PROPERTY_COERCIONS=new Map([...Du.BOOLEAN_PROPERTIES.map(t=>[t,pi.toBoolean]),...Du.NUMBER_PROPERTIES.map(t=>[t,pi.toNumber]),["groupAggFiltering",t=>typeof t=="function"?t:pi.toBoolean(t)],["pageSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",pi.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",pi.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",pi.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",pi.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",pi.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",pi.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",pi.toConstrainedNum(0,Number.MAX_VALUE)]]);pi.changeSetId=0;A([W("gridOptions")],pi.prototype,"gridOptions",2);A([W("eventService")],pi.prototype,"eventService",2);A([W("environment")],pi.prototype,"environment",2);A([W("frameworkOverrides")],pi.prototype,"frameworkOverrides",2);A([W("eGridDiv")],pi.prototype,"eGridDiv",2);A([W("validationService")],pi.prototype,"validationService",2);A([W("gridApi")],pi.prototype,"api",2);A([_e],pi.prototype,"init",1);A([Ka],pi.prototype,"destroy",1);pi=A([je("gridOptionsService")],pi);var DK=class extends Ie{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(r,n,s)=>e({key:r,defaultValue:n,variableValues:s});const i=this.gridOptionsService.get("localeText");return(r,n,s)=>{let o=i&&i[r];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??n}}};DK=A([je("localeService")],DK);var Fee=class Iee extends Hf{constructor(){super(Iee.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new oO(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,L.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,n=r===0&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Aa(this.getGui(),n),Aa(this.eViewport,n),Aa(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),s=r.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,i){!i&&!Bo(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};Fee.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;A([_e],Fee.prototype,"postConstruct",1);var PK={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},xK=["january","february","march","april","may","june","july","august","september","october","november","december"],Jd=class extends Ie{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(im(e.source))})}processDataTypeDefinitions(){var e;const i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(([n,s])=>{this.dataTypeDefinitions[n]=Wi(tt({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})});const r=(e=this.gridOptionsService.get("dataTypeDefinitions"))!=null?e:{};this.dataTypeMatchers={},Object.entries(r).forEach(([n,s])=>{const o=this.processDataTypeDefinition(s,r,[n],i);o&&(this.dataTypeDefinitions[n]=o,s.dataTypeMatcher&&(this.dataTypeMatchers[n]=s.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(n=>{const s=this.dataTypeMatchers[n];s&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=s??i[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,i){const r=tt(tt({},e),i);return e.columnTypes&&i.columnTypes&&i.appendColumnTypes&&(r.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(i.columnTypes)]),r}processDataTypeDefinition(e,i,r,n){let s;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let a=n[o];const l=i[o];if(a&&l&&(a=l),!this.validateDataTypeDefinition(e,a,o))return;s=this.mergeDataTypeDefinitions(a,e)}else{if(r.includes(o)){ut('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const a=i[o];if(!this.validateDataTypeDefinition(e,a,o))return;const l=this.processDataTypeDefinition(a,i,[...r,o],n);if(!l)return;s=this.mergeDataTypeDefinitions(l,e)}return Wi(tt({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})}validateDataTypeDefinition(e,i,r){return i?i.baseDataType!==e.baseDataType?(ut('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ut(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return i=>{var r,n;if((r=i.node)!=null&&r.group){const s=i.column.getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(Wi(tt({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(Wi(tt({},i),{value:i.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&i.column.isRowGroupActive()){if(typeof i.value!="string"||(n=e.dataTypeMatcher)!=null&&n.call(e,i.value))return e.valueFormatter(i);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(i)}}updateColDefAndGetDataTypeDefinitionColumnType(e,i,r){let{cellDataType:n}=i;const{field:s}=i;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,i)?this.inferCellDataType(s,r):!1),!n){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[n];if(!o){ut(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,r),o.columnTypes}updateColDefAndGetColumnType(e,i,r){var n,s;const o=this.updateColDefAndGetDataTypeDefinitionColumnType(e,i,r),a=(s=(n=i.type)!=null?n:o)!=null?s:e.type;return e.type=a,a?this.convertColumnTypes(a):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const i=this.columnStateUpdatesPendingInference[e.getColId()];if(!i)return;const r=n=>{i.add(n.key)};e.addEventListener(Ci.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(Ci.EVENT_STATE_UPDATED,r))}canInferCellDataType(e,i){var r;if(this.rowModel.getType()!=="clientSide")return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(i,n))return!1;const s=i.type===null?e.type:i.type;if(s){const o=(r=this.gridOptionsService.get("columnTypes"))!=null?r:{};if(this.convertColumnTypes(s).some(l=>{const u=o[l.trim()];return u&&this.doColDefPropsPreventInference(u,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,i){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,n])=>this.doesColDefPropPreventInference(e,i,r,n))}doesColDefPropPreventInference(e,i,r,n){if(!i[r])return!1;const s=e[r];return s===null?(i[r]=!1,!1):n===void 0?!!s:s===n}inferCellDataType(e,i){var r;if(!e)return;let n;const s=this.getInitialData();if(s){const a=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");n=Cm(s,e,a)}else this.initWaitForRowData(i);if(n==null)return;const[o]=(r=Object.entries(this.dataTypeMatchers).find(([a,l])=>l(n)))!=null?r:["object"];return o}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const i=this.rowModel.getRootNode().allLeafChildren;if(i!=null&&i.length)return i[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();const r=this.addManagedListener(this.eventService,L.EVENT_ROW_DATA_UPDATE_STARTED,n=>{const{firstRowData:s}=n;if(!s)return;r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,i),this.columnStateUpdatesPendingInference={},i&&this.columnModel.processResizeOperations();const o={type:L.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(o)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,i){this.initialData=e;const r=[];this.columnStateUpdateListenerDestroyFuncs.forEach(o=>o()),this.columnStateUpdateListenerDestroyFuncs=[];const n={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([o,a])=>{const l=this.columnModel.getGridColumn(o);if(!l)return;const u=l.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(l,"cellDataTypeInferred"))return;const c=l.getColDef();if(i&&c.type&&c.type!==u.type){const d=this.getUpdatedColumnState(l,a);d.rowGroup&&d.rowGroupIndex==null&&(n[o]=d),d.pivot&&d.pivotIndex==null&&(s[o]=d),r.push(d)}}),i&&r.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(n,s)),r.length&&this.columnModel.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,i){const r=this.columnModel.getColumnStateFromColDef(e);return i.forEach(n=>{delete r[n],n==="rowGroup"?delete r.rowGroupIndex:n==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const i=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=i.valueParser!==r.valueParser,this.hasObjectValueFormatter=i.valueFormatter!==r.valueFormatter}convertColumnTypes(e){let i=[];return e instanceof Array?e.some(n=>typeof n!="string")?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):i=e:typeof e=="string"?i=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),i}getDateStringTypeDefinition(e){var i;return e?(i=this.getDataTypeDefinition(e))!=null?i:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const i=e.getColDef();if(i.cellDataType)return this.dataTypeDefinitions[i.cellDataType]}getBaseDataType(e){var i;return(i=this.getDataTypeDefinition(e))==null?void 0:i.baseDataType}checkType(e,i){var r;if(i==null)return!0;const n=(r=this.getDataTypeDefinition(e))==null?void 0:r.dataTypeMatcher;return n?n(i):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&ut('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&ut('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,i,r){const n=(l,u,c)=>{let d=l.getColDef().valueFormatter;return d===i.groupSafeValueFormatter&&(d=i.valueFormatter),this.valueFormatterService.formatValue(l,u,c,d)},s=Gi.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),o=this.localeService.getLocaleTextFunc(),a=l=>{const{filterParams:u}=e;e.filterParams=typeof u=="object"?tt(tt({},u),l):l};switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&a({comparator:(l,u)=>{const c=l==null?0:parseInt(l),d=u==null?0:parseInt(u);return c===d?0:c>d?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===ce.SPACE,a(s?{valueFormatter:l=>De(l.value)?o(String(l.value),l.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,u)=>u,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,u)=>u===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=l=>n(l.column,l.node,l.value),s&&a({valueFormatter:l=>{const u=n(l.column,l.node,l.value);return De(u)?u:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,u)=>{if(u===1&&l!=null){const c=xK[Number(l)-1];return o(c,PK[c])}return l??o("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=u=>n(u.column,u.node,u.value);const l=i.dateParser;a(s?{valueFormatter:u=>{const c=n(u.column,u.node,u.value);return De(c)?c:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:u=>{const c=l(u??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(u,c)=>{if(c===1&&u!=null){const d=xK[Number(u)-1];return o(d,PK[d])}return u??o("blanks","(Blanks)")}}:{comparator:(u,c)=>{const d=l(c);return c==null||d<u?-1:d>u?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,u)=>{const c=this.columnModel.getPrimaryColumn(r),d=c==null?void 0:c.getColDef();if(!c||!d)return 0;const h=l==null?"":n(c,null,l),f=u==null?"":n(c,null,u);return h===f?0:h>f?1:-1},e.keyCreator=l=>n(l.column,l.node,l.value),s?a({valueFormatter:l=>{const u=n(l.column,l.node,l.value);return De(u)?u:o("blanks","(Blanks)")}}):e.filterValueGetter=l=>n(l.column,l.node,this.valueService.getValue(l.column,l.node));break}}}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),i=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var n,s;return((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?i("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:ew(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var n,s;return r.newValue==null?r.newValue:((s=(n=r.newValue)==null?void 0:n.trim)==null?void 0:s.call(n))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>_o(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>{var n;return r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?i("invalidDate","Invalid Date"):(n=Ec(r.value,!1))!=null?n:""},dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>{var n;return(n=_o(r))!=null?n:void 0},dateFormatter:r=>{var n;return(n=Ec(r??null,!1))!=null?n:void 0},valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>{var n;return(n=ew(r.value))!=null?n:""}}}}};A([W("rowModel")],Jd.prototype,"rowModel",2);A([W("columnModel")],Jd.prototype,"columnModel",2);A([W("columnUtils")],Jd.prototype,"columnUtils",2);A([W("valueService")],Jd.prototype,"valueService",2);A([W("valueFormatterService")],Jd.prototype,"valueFormatterService",2);A([_e],Jd.prototype,"init",1);Jd=A([je("dataTypeService")],Jd);var l1=class extends Ie{parseValue(e,i,r,n){const s=e.getColDef(),o=this.gridOptionsService.addGridCommonParams({node:i,data:i==null?void 0:i.data,oldValue:n,newValue:r,colDef:s,column:e}),a=s.valueParser;return De(a)?typeof a=="function"?a(o):this.expressionService.evaluate(a,o):r}};A([W("expressionService")],l1.prototype,"expressionService",2);l1=A([je("valueParserService")],l1);var qm=class extends Ie{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gridOptionsService.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=Gi.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new Pee("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){const e={type:L.EVENT_GRID_READY};this.eventService.dispatchEvent(e)}setColumnDefs(e){const i=this.gridOptionsService.get("columnDefs");if(i){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(i);return}this.columnModel.setColumnDefs(i,im(e.source))}}};A([W("ctrlsService")],qm.prototype,"ctrlsService",2);A([W("columnModel")],qm.prototype,"columnModel",2);A([W("rowModel")],qm.prototype,"rowModel",2);A([_e],qm.prototype,"postConstruct",1);qm=A([je("syncService")],qm);var Xm=class extends Ie{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,L.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const e={},i=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(i,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const e={},i=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(i,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,i,r){const n=e.newAgStackInstance(),s=this.addManagedPropertyListener(r,({currentValue:o})=>{n.then(a=>{a.refresh&&a.refresh(this.gridOptionsService.addGridCommonParams(tt({},o??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(n,i,s)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),i=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!i?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};A([W("userComponentFactory")],Xm.prototype,"userComponentFactory",2);A([W("paginationProxy")],Xm.prototype,"paginationProxy",2);A([W("columnModel")],Xm.prototype,"columnModel",2);A([_e],Xm.prototype,"postConstruct",1);Xm=A([je("overlayService")],Xm);var oo=class extends Ie{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=vs(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=vs(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=vs(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(e=this.gridOptionsService.get("initialState"))!=null?e:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const i=this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,({source:s})=>{s==="gridInitializing"&&(i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),r=this.addManagedListener(this.eventService,L.EVENT_ROW_COUNT_READY,()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),n=this.addManagedListener(this.eventService,L.EVENT_FIRST_DATA_RENDERED,()=>{n==null||n(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,L.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,L.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var e;const i=(e=this.gridOptionsService.get("initialState"))!=null?e:{};this.setColumnState(i),this.setColumnGroupState(i),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,L.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,L.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,L.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var e;const{filter:i,rowGroupExpansion:r,rowSelection:n,pagination:s}=(e=this.gridOptionsService.get("initialState"))!=null?e:{},o=this.gridOptionsService.get("advancedFilterModel");(i||o)&&this.setFilterState(i,o),r&&this.setRowGroupExpansionState(r),n&&this.setRowSelectionState(n),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,L.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,L.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,L.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,L.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,L.EVENT_PAGINATION_CHANGED,a=>{(a.newPage||a.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var e;const{scroll:i,rangeSelection:r,focusedCell:n,columnOrder:s}=(e=this.gridOptionsService.get("initialState"))!=null?e:{};n&&this.setFocusedCellState(n),r&&this.setRangeSelectionState(r),i&&this.setScrollState(i),this.setColumnPivotState(!!(s!=null&&s.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,L.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,L.EVENT_RANGE_SELECTION_CHANGED,o=>{o.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,L.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const e=this.columnModel.isPivotMode(),i=[],r=[],n=[],s=[],o=[],a=[],l=[],u=[],c=[],d=this.columnModel.getColumnState();for(let h=0;h<d.length;h++){const{colId:f,sort:g,sortIndex:m,rowGroup:C,rowGroupIndex:S,aggFunc:y,pivot:w,pivotIndex:E,pinned:b,hide:D,width:P,flex:O}=d[h];c.push(f),g&&(i[m??0]={colId:f,sort:g}),C&&(r[S??0]=f),typeof y=="string"&&n.push({colId:f,aggFunc:y}),w&&(s[E??0]=f),b&&(b==="right"?a:o).push(f),D&&l.push(f),(O||P)&&u.push({colId:f,flex:O??void 0,width:P})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:i,rowGroup:r,aggregation:n,pivot:s,columnPinning:o,columnVisibility:a,columnSizing:l,columnOrder:u}=e,c={},d=m=>{let C=c[m];return C||(C={colId:m},c[m]=C,C)};i&&i.sortModel.forEach(({colId:m,sort:C},S)=>{const y=d(m);y.sort=C,y.sortIndex=S}),r&&r.groupColIds.forEach((m,C)=>{const S=d(m);S.rowGroup=!0,S.rowGroupIndex=C}),n&&n.aggregationModel.forEach(({colId:m,aggFunc:C})=>{d(m).aggFunc=C}),s&&(s.pivotColIds.forEach((m,C)=>{const S=d(m);S.pivot=!0,S.pivotIndex=C}),this.gridOptionsService.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"})),o&&(o.leftColIds.forEach(m=>{d(m).pinned="left"}),o.rightColIds.forEach(m=>{d(m).pinned="right"})),a&&a.hiddenColIds.forEach(m=>{d(m).hide=!0}),l&&l.columnSizingModel.forEach(({colId:m,flex:C,width:S})=>{const y=d(m);y.flex=C??null,y.width=S});const h=u==null?void 0:u.orderedColIds,f=!!(h!=null&&h.length),g=f?h.map(m=>d(m)):Object.values(c);if(g.length){this.columnStates=g;const m={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:g,applyOrder:f,defaultState:m},"gridInitializing")}}setColumnPivotState(e){const i=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(i){let n=[];for(const s of i)this.columnModel.getSecondaryColumn(s.colId)&&n.push(s);this.columnModel.applyColumnState({state:n,applyOrder:e},"gridInitializing")}r&&this.columnModel.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnModel.getColumnGroupState(),i=[];return e.forEach(({groupId:r,open:n})=>{n&&i.push(r)}),i.length?{openColumnGroupIds:i}:void 0}setColumnGroupState(e){var i;if(!e.hasOwnProperty("columnGroup"))return;const r=new Set((i=e.columnGroup)==null?void 0:i.openColumnGroupIds),s=this.columnModel.getColumnGroupState().map(({groupId:o})=>{const a=r.has(o);return a&&r.delete(o),{groupId:o,open:a}});r.forEach(o=>{s.push({groupId:o,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnModel.setColumnGroupState(s,"gridInitializing")}getFilterState(){var e;let i=this.filterManager.getFilterModel();i&&Object.keys(i).length===0&&(i=void 0);const r=(e=this.filterManager.getAdvancedFilterModel())!=null?e:void 0;return i||r?{filterModel:i,advancedFilterModel:r}:void 0}setFilterState(e,i){const{filterModel:r,advancedFilterModel:n}=e??{advancedFilterModel:i};r&&this.filterManager.setFilterModel(r,"columnFilter"),n&&this.filterManager.setAdvancedFilterModel(n)}getRangeSelectionState(){var e;const i=(e=this.rangeService)==null?void 0:e.getCellRanges().map(r=>{const{id:n,type:s,startRow:o,endRow:a,columns:l,startColumn:u}=r;return{id:n,type:s,startRow:o,endRow:a,colIds:l.map(c=>c.getColId()),startColId:u.getColId()}});return i!=null&&i.length?{cellRanges:i}:void 0}setRangeSelectionState(e){var i;if(!this.gridOptionsService.get("enableRangeSelection"))return;const r=e.cellRanges.map(n=>Wi(tt({},n),{columns:n.colIds.map(s=>this.columnModel.getGridColumn(s)),startColumn:this.columnModel.getGridColumn(n.startColId)}));(i=this.rangeService)==null||i.setCellRanges(r)}getScrollState(){var e,i,r;if(!this.isClientSideRowModel)return;const n=(e=this.ctrlsService.getGridBodyCtrl())==null?void 0:e.getScrollFeature(),{left:s}=(i=n==null?void 0:n.getHScrollPosition())!=null?i:{left:0},{top:o}=(r=n==null?void 0:n.getVScrollPosition())!=null?r:{top:0};return o||s?{top:o,left:s}:void 0}setScrollState(e){var i;if(!this.isClientSideRowModel)return;const{top:r,left:n}=e;(i=this.ctrlsService.getGridBodyCtrl())==null||i.getScrollFeature().setScrollPosition(r,n)}getSideBarState(){var e,i;return(i=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:i.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:i,rowIndex:r,rowPinned:n}=e;return{colId:i.getColId(),rowIndex:r,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:i,rowIndex:r,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(i),rowIndex:r,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const e=this.paginationProxy.getCurrentPage(),i=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!i))return{page:e,pageSize:i}}setPaginationState(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;const i=this.selectionService.getSelectionState();return!i||!Array.isArray(i)&&(i.selectAll===!1||i.selectAllChildren===!1)&&!((e=i==null?void 0:i.toggledNodes)!=null&&e.length)?void 0:i}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const i=this.getColumnState();let r=!1;Object.entries(i).forEach(([n,s])=>{VN(s,this.cachedState[n])||(r=!0)}),this.cachedState=tt(tt({},this.cachedState),i),r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,i){const r=this.cachedState[e];this.setCachedStateValue(e,i),VN(i,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,i){this.cachedState=Wi(tt({},this.cachedState),{[e]:i})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(i=>this.queuedUpdateSources.add(i)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const i={type:L.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(i)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};A([W("filterManager")],oo.prototype,"filterManager",2);A([ai("rangeService")],oo.prototype,"rangeService",2);A([W("ctrlsService")],oo.prototype,"ctrlsService",2);A([ai("sideBarService")],oo.prototype,"sideBarService",2);A([W("focusService")],oo.prototype,"focusService",2);A([W("columnModel")],oo.prototype,"columnModel",2);A([W("paginationProxy")],oo.prototype,"paginationProxy",2);A([W("rowModel")],oo.prototype,"rowModel",2);A([W("selectionService")],oo.prototype,"selectionService",2);A([W("expansionService")],oo.prototype,"expansionService",2);A([W("columnAnimationService")],oo.prototype,"columnAnimationService",2);A([_e],oo.prototype,"postConstruct",1);oo=A([je("stateService")],oo);var rx=class extends Ie{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,bOe)}processColumnDefs(e){this.processOptions(e,rm)}processOptions(e,i){const{validations:r,deprecations:n,allProperties:s,propertyExceptions:o,objectName:a,docsUrl:l}=i;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(n)],s,a,l);const u=new Set;Object.keys(e).forEach(d=>{var h;const f=n[d];if(f)if("renamed"in f){const{renamed:E,version:b}=f;u.add(`As of v${b}, ${String(d)} is deprecated. Please use ${String(E)} instead.`),e[E]=e[d]}else{const{message:E,version:b}=f;u.add(`As of v${b}, ${String(d)} is deprecated. ${E??""}`)}const g=e[d];if(g==null||g===!1)return;const m=r[d];let C;if(m)if(typeof m=="function"){const E=m(e,this.gridOptions);if(!E)return;if("objectName"in E){const b=e[d];if(Array.isArray(b)){b.forEach(D=>{this.processOptions(D,E)});return}this.processOptions(e[d],E);return}C=E}else C=m;else return;const{module:S,dependencies:y,supportedRowModels:w}=C;if(w){const E=(h=this.gridOptions.rowModelType)!=null?h:"clientSide";if(!w.includes(E)){u.add(`${String(d)} is not supported with the '${E}' row model.`);return}}if(S){const E=Array.isArray(S)?S:[S];let b=!0;if(E.forEach(D=>{Gi.__assertRegistered(D,String(d),this.context.getGridId())||(b=!1,u.add(`${String(d)} is only available when ${D} is loaded.`))}),!b)return}if(y){const E=this.checkForWarning(d,y,e);if(E){u.add(E);return}}}),u.size>0&&u.forEach(d=>{ut(d)})}checkForWarning(e,i,r){if(typeof i=="function")return i(r,this.gridOptions);const s=Object.entries(i).find(([l,u])=>{const c=r[l];return!u.includes(c)});if(!s)return null;const[o,a]=s;return a.length>1?`'${String(e)}' requires '${o}' to be one of [${a.join(", ")}].`:`'${String(e)}' requires '${o}' to be ${a[0]}.`}checkProperties(e,i,r,n,s){const o=["__ob__","__v_skip","__metadata__"],a=aJ(Object.getOwnPropertyNames(e),[...o,...i,...r],r);if(Oo(a,(l,u)=>{ut(`invalid ${n} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}`)}),Object.keys(a).length>0&&s){const l=this.getFrameworkOverrides().getDocLink(s);ut(`to see all the valid ${n} properties please check: ${l}`)}}};A([W("gridOptions")],rx.prototype,"gridOptions",2);A([_e],rx.prototype,"init",1);rx=A([je("validationService")],rx);var u1=class extends Ie{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new uH(this.getFrameworkOverrides())}addEventListener(e,i){const r=this.frameworkEventWrappingService.wrap(i),n=this.gridOptionsService.useAsyncEvents()&&!bD.has(e),s=n?this.asyncEventListeners:this.syncEventListeners;s.has(e)||s.set(e,new Set),s.get(e).add(r),this.eventService.addEventListener(e,r,n)}removeEventListener(e,i){var r;const n=this.frameworkEventWrappingService.unwrap(i),s=this.asyncEventListeners.get(e),o=!!(s!=null&&s.delete(n));o||(r=this.syncEventListeners.get(e))==null||r.delete(n),this.eventService.removeEventListener(e,n,o)}addGlobalListener(e){const i=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gridOptionsService.useAsyncEvents()){const n=(o,a)=>{bD.has(o)&&i(o,a)},s=(o,a)=>{bD.has(o)||i(o,a)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:s}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(i),this.eventService.addGlobalListener(i,!1)}removeGlobalListener(e){const i=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(i)){const{syncListener:n,asyncListener:s}=this.globalEventListenerPairs.get(i);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(i),this.eventService.removeGlobalListener(i,!1)}destroyEventListeners(e,i){e.forEach((r,n)=>{r.forEach(s=>this.eventService.removeEventListener(n,s,i)),r.clear()}),e.clear()}destroyGlobalListeners(e,i){e.forEach(r=>this.eventService.removeGlobalListener(r,i)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:i})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(i,!0)}),this.globalEventListenerPairs.clear()}};A([_e],u1.prototype,"postConstruct",1);u1=A([je("apiEventService")],u1);var fO=class extends wt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const i=Number(e);isNaN(i)||i<1||i===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(i,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,L.EVENT_PAGINATION_CHANGED,e=>this.handlePaginationChanged(e))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const i=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(i)?this.selectPageSizeComp.setValue(i.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Ir(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),r=!i||!e.includes(i);r&&(e.unshift(""),ut(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const n=this.localeService.getLocaleTextFunc(),s=n("pageSizeSelectorLabel","Page Size:"),o=e.map(l=>({value:String(l),text:String(l)})),a=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new HH).addOptions(o).setValue(String(r?"":i)).setAriaLabel(a).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=r}getPageSizeSelectorValues(){const e=[20,50,100],i=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(i)||!this.validateValues(i)?e:[...i].sort((r,n)=>r-n)}validateValues(e){if(!e.length)return ut(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let i=0;i<e.length;i++){const r=e[i],n=typeof r=="number",s=r>0;if(!n)return ut(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!s)return ut(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};A([W("localeService")],fO.prototype,"localeService",2);A([W("gridOptionsService")],fO.prototype,"gridOptionsService",2);A([W("paginationProxy")],fO.prototype,"paginationProxy",2);A([_e],fO.prototype,"init",1);var nx=class extends Ie{constructor(){super(),this.descriptionContainer=null,this.announceValue=vs(this.announceValue.bind(this),200)}postConstruct(){const e=this.gridOptionsService.getDocument(),i=this.descriptionContainer=e.createElement("div");i.classList.add("ag-aria-description-container"),pH(i,"polite"),LZ(i,"additions text"),IZ(i,!0),this.eGridDiv.appendChild(i)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Ir(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};A([W("eGridDiv")],nx.prototype,"eGridDiv",2);A([_e],nx.prototype,"postConstruct",1);nx=A([je("ariaAnnouncementService")],nx);var eC=typeof global>"u"?{}:global;eC.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;eC.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;eC.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;eC.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;eC.Node=typeof Node>"u"?{}:Node;eC.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var ROe=Object.defineProperty,TOe=Object.getOwnPropertyDescriptor,ss=(t,e,i,r)=>{for(var n=r>1?void 0:r?TOe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&ROe(e,i,n),n},DOe=class{setBeans(e){this.beans=e}getFileName(e){const i=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${i}`:e}getData(e){const i=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(i,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},POe=class{constructor(e){this.groupColumns=[];const{columnModel:i,valueService:r,gridOptionsService:n,valueFormatterService:s,valueParserService:o,processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:c}=e;this.columnModel=i,this.valueService=r,this.gridOptionsService=n,this.valueFormatterService=s,this.valueParserService=o,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(i=>!!i.getColDef().showRowGroup)}extractHeaderValue(e){const i=this.getHeaderName(this.processHeaderCallback,e);return i??""}extractRowCellValue(e,i,r,n,s){const a=(!this.gridOptionsService.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,i)?this.createValueForGroupNode(e,s):this.valueService.getValue(e,s);return this.processCell({accumulatedRowIndex:r,rowNode:s,column:e,value:a,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,i,r){var n;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(i)!==-1){if(((n=e.groupData)==null?void 0:n[i.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){const l=i.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&a}getHeaderName(e,i){return e?e(this.gridOptionsService.addGridCommonParams({column:i})):this.columnModel.getDisplayNameForColumn(i,"csv",!0)}createValueForGroupNode(e,i){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:e,node:i}));const r=this.gridOptionsService.get("treeData"),n=this.gridOptionsService.get("suppressGroupMaintainValueType"),s=u=>{var c,d;if(r||n)return u.key;const h=(c=u.groupData)==null?void 0:c[e.getId()];return!h||!u.rowGroupColumn||u.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:(d=this.valueFormatterService.formatValue(u.rowGroupColumn,u,h))!=null?d:h},o=i.footer,a=[s(i)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;i.parent;)i=i.parent,a.push(s(i));const l=a.reverse().join(" -> ");return o?`Total ${l}`:l}processCell(e){var i;const{accumulatedRowIndex:r,rowNode:n,column:s,value:o,processCellCallback:a,type:l}=e;return a?{value:(i=a(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:r,column:s,node:n,value:o,type:l,parseValue:u=>this.valueParserService.parseValue(s,n,u,this.valueService.getValue(s,n)),formatValue:u=>{var c;return(c=this.valueFormatterService.formatValue(s,n,u))!=null?c:u}})))!=null?i:""}:s.getColDef().useValueFormatterForExport!==!1?{value:o??"",valueFormatted:this.valueFormatterService.formatValue(s,n,o)}:{value:o??""}}},xOe=class{static download(e,i){const r=document.defaultView||window;if(!r){console.warn("AG Grid: There is no `window` associated with the current `document`");return}const n=document.createElement("a"),s=r.URL.createObjectURL(i);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(()=>{r.URL.revokeObjectURL(s)},0)}},AK=`\r
`,AOe=class extends POe{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:i,columnSeparator:r}=e;this.suppressQuotes=i,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,AK),this.result+=e):e.forEach(i=>{this.beginNewLine(),i.forEach((r,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,i,r,n){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(n)}appendEmptyCells(e){for(let i=1;i<=e;i++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,i){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,i,r){var n;i!=0&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,i,i,"csv",r);this.result+=this.putInQuotes((n=s.valueFormatted)!=null?n:s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let i;return typeof e=="string"?i=e:typeof e.toString=="function"?i=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),i=""),'"'+i.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=AK),this.isFirstLine=!1}},xu=class extends DOe{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(e){const i=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},i,e)}export(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}const i=this.getMergedParams(e),r=this.getData(i),n=new Blob(["\uFEFF",r],{type:"text/plain"}),s=typeof i.fileName=="function"?i.fileName(this.gridOptionsService.getGridCommonParams()):i.fileName;xOe.download(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,i=!1){const r=i?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:i,valueService:r,gridOptionsService:n,valueFormatterService:s,valueParserService:o}=this,{processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:h}=e;return new AOe({columnModel:i,valueService:r,gridOptionsService:n,valueFormatterService:s,valueParserService:o,processCellCallback:a||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:h||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};ss([W("columnModel")],xu.prototype,"columnModel",2);ss([W("valueService")],xu.prototype,"valueService",2);ss([W("gridSerializer")],xu.prototype,"gridSerializer",2);ss([W("gridOptionsService")],xu.prototype,"gridOptionsService",2);ss([W("valueFormatterService")],xu.prototype,"valueFormatterService",2);ss([W("valueParserService")],xu.prototype,"valueParserService",2);ss([_e],xu.prototype,"postConstruct",1);xu=ss([je("csvCreator")],xu);var Au=class extends Ie{serialize(e,i={}){const{allColumns:r,columnKeys:n,skipRowGroups:s}=i,o=this.getColumnsToExport(r,s,n);return Kp.compose(this.prepareSession(o),this.prependContent(i),this.exportColumnGroups(i,o),this.exportHeaders(i,o),this.processPinnedTopRows(i,o),this.processRows(i,o),this.processPinnedBottomRows(i,o),this.appendContent(i))(e).parse()}processRow(e,i,r,n){const s=i.shouldRowBeSkipped||(()=>!1),o=this.gridOptionsService.get("groupRemoveSingleChildren"),a=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=i.rowPositions!=null||!!i.onlySelected,c=this.gridOptionsService.get("groupHideOpenParents")&&!u,d=this.columnModel.isPivotMode()?n.leafGroup:!n.group,h=!!n.footer;i.skipRowGroups;const f=a&&n.leafGroup,g=n.allChildrenCount===1&&(o||f);if(!d&&!h&&(i.skipRowGroups||g||c)||i.onlySelected&&!n.isSelected()||i.skipPinnedTop&&n.rowPinned==="top"||i.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!d&&!h||s(this.gridOptionsService.addGridCommonParams({node:n})))return;const S=e.onNewBodyRow(n);if(r.forEach((y,w)=>{S.onColumn(y,w,n)}),i.getCustomContentBelowRow){const y=i.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:n}));y&&e.addCustomContent(y)}}appendContent(e){return i=>{const r=e.appendContent;return r&&i.addCustomContent(r),i}}prependContent(e){return i=>{const r=e.prependContent;return r&&i.addCustomContent(r),i}}prepareSession(e){return i=>(i.prepare(e),i)}exportColumnGroups(e,i){return r=>{if(!e.skipColumnGroupHeaders){const n=new EZ,s=this.displayedGroupCreator.createDisplayedGroups(i,n,null);this.recursivelyAddHeaderGroups(s,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,i){return r=>{if(!e.skipColumnHeaders){const n=r.onNewHeaderRow();i.forEach((s,o)=>{n.onColumn(s,o,void 0)})}return r}}processPinnedTopRows(e,i){return r=>{const n=this.processRow.bind(this,r,e,i);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedTopRow(n),r}}processRows(e,i){return r=>{const n=this.rowModel,s=n.getType(),o=s==="clientSide",a=s==="serverSide",l=!o&&e.onlySelected,u=this.processRow.bind(this,r,e,i),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,h)=>d.rowIndex-h.rowIndex).map(d=>n.getRow(d.rowIndex)).forEach(u);else if(this.columnModel.isPivotMode())o?n.forEachPivotNode(u,!0):a?n.forEachNodeAfterFilterAndSort(u,!0):n.forEachNode(u);else if(e.onlySelectedAllPages||l){const d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(u)}else c==="all"?n.forEachNode(u):o||a?n.forEachNodeAfterFilterAndSort(u,!0):n.forEachNode(u);return r}}replicateSortedOrder(e){const i=this.sortController.getSortOptions(),r=(n,s)=>{var o,a,l,u;return n.rowIndex!=null&&s.rowIndex!=null?n.rowIndex-s.rowIndex:n.level===s.level?((o=n.parent)==null?void 0:o.id)===((a=s.parent)==null?void 0:a.id)?this.rowNodeSorter.compareRowNodes(i,{rowNode:n,currentPos:(l=n.rowIndex)!=null?l:-1},{rowNode:s,currentPos:(u=s.rowIndex)!=null?u:-1}):r(n.parent,s.parent):n.level>s.level?r(n.parent,s):r(n,s.parent)};e.sort(r)}processPinnedBottomRows(e,i){return r=>{const n=this.processRow.bind(this,r,e,i);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedBottomRow(n),r}}getColumnsToExport(e=!1,i=!1,r){const n=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);const s=this.gridOptionsService.get("treeData");let o=[];return e&&!n?o=this.columnModel.getAllGridColumns():o=this.columnModel.getAllDisplayedColumns(),i&&!s&&(o=o.filter(a=>a.getColId()!==$m)),o}recursivelyAddHeaderGroups(e,i,r){const n=[];e.forEach(s=>{const o=s;o.getChildren&&o.getChildren().forEach(a=>n.push(a))}),e.length>0&&e[0]instanceof $r&&this.doAddHeaderHeader(i,e,r),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,i,r)}doAddHeaderHeader(e,i,r){const n=e.onNewHeaderGroupingRow();let s=0;i.forEach(o=>{const a=o;let l;r?l=r(this.gridOptionsService.addGridCommonParams({columnGroup:a})):l=this.columnModel.getDisplayNameForColumnGroup(a,"header");const u=a.getLeafColumns().reduce((c,d,h,f)=>{let g=Kp.last(c);return d.getColumnGroupShow()==="open"?(!g||g[1]!=null)&&(g=[h],c.push(g)):g&&g[1]==null&&(g[1]=h-1),h===f.length-1&&g&&g[1]==null&&(g[1]=h),c},[]);n.onColumn(a,l||"",s++,a.getLeafColumns().length-1,u)})}};ss([W("displayedGroupCreator")],Au.prototype,"displayedGroupCreator",2);ss([W("columnModel")],Au.prototype,"columnModel",2);ss([W("rowModel")],Au.prototype,"rowModel",2);ss([W("pinnedRowModel")],Au.prototype,"pinnedRowModel",2);ss([W("selectionService")],Au.prototype,"selectionService",2);ss([W("rowNodeSorter")],Au.prototype,"rowNodeSorter",2);ss([W("sortController")],Au.prototype,"sortController",2);Au=ss([je("gridSerializer")],Au);var OOe="31.2.1",MOe={version:OOe,moduleName:lH.CsvExportModule,beans:[xu,Au]},s$=Object.defineProperty,FOe=Object.defineProperties,IOe=Object.getOwnPropertyDescriptor,LOe=Object.getOwnPropertyDescriptors,sx=Object.getOwnPropertySymbols,Lee=Object.prototype.hasOwnProperty,_ee=Object.prototype.propertyIsEnumerable,OK=(t,e,i)=>e in t?s$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,it=(t,e)=>{for(var i in e||(e={}))Lee.call(e,i)&&OK(t,i,e[i]);if(sx)for(var i of sx(e))_ee.call(e,i)&&OK(t,i,e[i]);return t},Ui=(t,e)=>FOe(t,LOe(e)),_Oe=(t,e)=>{var i={};for(var r in t)Lee.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&sx)for(var r of sx(t))e.indexOf(r)<0&&_ee.call(t,r)&&(i[r]=t[r]);return i},bn=(t,e)=>{for(var i in e)s$(t,i,{get:e[i],enumerable:!0})},x=(t,e,i,r)=>{for(var n=r>1?void 0:r?IOe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&s$(e,i,n),n},yl=(t,e)=>(i,r)=>e(i,r,t),Nee={};bn(Nee,{attrToBoolean:()=>ox,attrToNumber:()=>jd,attrToString:()=>NOe,defaultComparator:()=>GOe,exists:()=>Te,jsonEquals:()=>c1,makeNull:()=>Cu,missing:()=>ht,missingOrEmpty:()=>xo,toStringOrNull:()=>vw,values:()=>Dp});function Cu(t){return t==null||t===""?null:t}function Te(t,e=!1){return t!=null&&(t!==""||e)}function ht(t){return!Te(t)}function xo(t){return t==null||t.length===0}function vw(t){return t!=null&&typeof t.toString=="function"?t.toString():null}function jd(t){if(t===void 0)return;if(t===null||t==="")return null;if(typeof t=="number")return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function ox(t){if(t!==void 0)return t===null||t===""?!1:typeof t=="boolean"?t:/true/i.test(t)}function NOe(t){if(!(t==null||t===""))return t}function c1(t,e){const i=t?JSON.stringify(t):null,r=e?JSON.stringify(e):null;return i===r}function GOe(t,e,i=!1){const r=t==null,n=e==null;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),r&&n)return 0;if(r)return-1;if(n)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof t!="string"||!i)return s(t,e);try{return t.localeCompare(e)}catch{return s(t,e)}}function Dp(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(i=>e.push(i)),e}return Object.values(t)}var kOe=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=vw(t);let i=0;for(;;){let r;if(t?(r=t,i!==0&&(r+="_"+i)):e?(r=e,i!==0&&(r+="_"+i)):r=i,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);i++}}},Gee={};bn(Gee,{cloneObject:()=>o$,deepCloneDefinition:()=>ax,getAllValuesInObject:()=>eh,getValueUsingField:()=>wm,isNonNullObject:()=>lx,iterateObject:()=>Jn,mergeDeep:()=>Go,removeAllReferences:()=>kee});function Jn(t,e){if(t!=null){if(Array.isArray(t)){for(let i=0;i<t.length;i++)e(i.toString(),t[i]);return}for(const[i,r]of Object.entries(t))e(i,r)}}function o$(t){const e={},i=Object.keys(t);for(let r=0;r<i.length;r++){const n=i[r],s=t[n];e[n]=s}return e}function ax(t,e){if(!t)return;const i=t,r={};return Object.keys(i).forEach(n=>{if(e&&e.indexOf(n)>=0)return;const s=i[n];lx(s)&&s.constructor===Object?r[n]=ax(s):r[n]=s}),r}function eh(t){if(!t)return[];const e=Object;if(typeof e.values=="function")return e.values(t);const i=[];for(const r in t)t.hasOwnProperty(r)&&t.propertyIsEnumerable(r)&&i.push(t[r]);return i}function Go(t,e,i=!0,r=!1){Te(e)&&Jn(e,(n,s)=>{let o=t[n];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},t[n]=o),lx(s)&&lx(o)&&!Array.isArray(o)?Go(o,s,i,r):(i||s!==void 0)&&(t[n]=s))})}function wm(t,e,i){if(!e||!t)return;if(!i)return t[e];const r=e.split(".");let n=t;for(let s=0;s<r.length;s++){if(n==null)return;n=n[r[s]]}return n}function kee(t,e=[],i){Object.keys(t).forEach(o=>{typeof t[o]=="object"&&!e.includes(o)&&(t[o]=void 0)});const r=Object.getPrototypeOf(t),n={},s=o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${i}`;Object.getOwnPropertyNames(r).forEach(o=>{if(typeof r[o]=="function"&&!e.includes(o)){const l=()=>{console.warn(s(o))};n[o]={value:l,writable:!0}}}),Object.defineProperties(t,n)}function lx(t){return typeof t=="object"&&t!==null}var Vee={};bn(Vee,{compose:()=>VOe,debounce:()=>Cs,doOnce:()=>Pp,errorOnce:()=>up,executeAfter:()=>$ee,executeInAWhile:()=>Hee,executeNextVMTurn:()=>d1,getFunctionName:()=>gO,isFunction:()=>mO,noop:()=>HOe,throttle:()=>h1,waitUntil:()=>a$,warnOnce:()=>ct});var MK={};function Pp(t,e){MK[e]||(t(),MK[e]=!0)}function ct(t){Pp(()=>console.warn("AG Grid: "+t),t)}function up(t){Pp(()=>console.error("AG Grid: "+t),t)}function gO(t){if(t.name)return t.name;const e=/function\s+([^\(]+)/.exec(t.toString());return e&&e.length===2?e[1].trim():null}function mO(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Hee(t){$ee(t,400)}var EL=[],bL=!1;function d1(t){EL.push(t),!bL&&(bL=!0,window.setTimeout(()=>{const e=EL.slice();EL.length=0,bL=!1,e.forEach(i=>i())},0))}function $ee(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(i=>i()),e)}function Cs(t,e){let i;return function(...r){const n=this;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,r)},e)}}function h1(t,e){let i=0;return function(...r){const n=this,s=new Date().getTime();s-i<e||(i=s,t.apply(n,r))}}function a$(t,e,i=100,r){const n=new Date().getTime();let s=null,o=!1;const a=()=>{const l=new Date().getTime()-n>i;(t()||l)&&(e(),o=!0,s!=null&&(window.clearInterval(s),s=null),l&&r&&console.warn(r))};a(),o||(s=window.setInterval(a,10))}function VOe(...t){return e=>t.reduce((i,r)=>r(i),e)}var HOe=()=>{},Bee=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(Bee||{}),vO=class ci{static register(e){ci.__register(e,!0,void 0)}static registerModules(e){ci.__registerModules(e,!0,void 0)}static __register(e,i,r){ci.runVersionChecks(e),r!==void 0?(ci.areGridScopedModules=!0,ci.gridModulesMap[r]===void 0&&(ci.gridModulesMap[r]={}),ci.gridModulesMap[r][e.moduleName]=e):ci.globalModulesMap[e.moduleName]=e,ci.setModuleBased(i)}static __unRegisterGridModules(e){delete ci.gridModulesMap[e]}static __registerModules(e,i,r){ci.setModuleBased(i),e&&e.forEach(n=>ci.__register(n,i,r))}static isValidModuleVersion(e){const[i,r]=e.version.split(".")||[],[n,s]=ci.currentModuleVersion.split(".")||[];return i===n&&r===s}static runVersionChecks(e){if(ci.currentModuleVersion||(ci.currentModuleVersion=e.version),e.version?ci.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const i=e.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(e){ci.moduleBased===void 0?ci.moduleBased=e:ci.moduleBased!==e&&Pp(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){ci.isBundled=!0}static __assertRegistered(e,i,r){var n;if(this.__isRegistered(e,r))return!0;const s=i+e;let o;if(ci.isBundled)o=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(ci.moduleBased||ci.moduleBased===void 0){let a=(n=Object.entries(Bee).find(([l,u])=>u===e))==null?void 0:n[0];o=`AG Grid: unable to use ${i} as the ${a} is not registered${ci.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${e}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Pp(()=>{console.warn(o)},s),!1}static __warnEnterpriseChartDisabled(e){const r="ag-charts-enterprise"+":"+e,s=`AG Grid: the '${e}' chart type is not supported in AG Charts Community as 'ag-grid-charts-enterprise' or '@ag-grid-enterprise/charts-enterprise' hasn't been loaded. See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`;Pp(()=>{console.warn(s)},r)}static __isRegistered(e,i){var r;return!!ci.globalModulesMap[e]||!!((r=ci.gridModulesMap[i])!=null&&r[e])}static __getRegisteredModules(e){return[...Dp(ci.globalModulesMap),...Dp(ci.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var i;return Dp((i=ci.gridModulesMap[e])!=null?i:{})||[]}static __isPackageBased(){return!ci.moduleBased}};vO.globalModulesMap={};vO.gridModulesMap={};vO.areGridScopedModules=!1;var ei=vO,$Oe=class{constructor(t,e){if(this.beanWrappers={},this.destroyed=!1,!t||!t.beanClasses)return;this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Dp(this.beanWrappers).map(t=>t.beanInstance)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t}wireBeans(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),Te(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Jn(this.beanWrappers,(e,i)=>{let r;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(r=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const n=this.getBeansForParameters(r,i.bean.name),s=new(i.bean.bind.apply(i.bean,[null,...n]));i.beanInstance=s});const t=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${t}`)}createBeanWrapper(t){const e=t.__agBeanMetaData;if(!e){let r;t.prototype.constructor?r=gO(t.prototype.constructor):r=""+t,console.error(`Context item ${r} is not a bean`);return}const i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i}autoWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(i,r)=>{const n=i.agClassAttributes;n&&n.forEach(s=>{const o=this.lookupBeanInstance(r,s.beanName,s.optional);e[s.attributeName]=o})})})}methodWireBeans(t){t.forEach(e=>{this.forEachMetaDataInHierarchy(e,(i,r)=>{Jn(i.autowireMethods,(n,s)=>{if(n==="agConstructor")return;const o=this.getBeansForParameters(s,r);e[n].apply(e,o)})})})}forEachMetaDataInHierarchy(t,e){let i=Object.getPrototypeOf(t);for(;i!=null;){const r=i.constructor;if(r.hasOwnProperty("__agBeanMetaData")){const n=r.__agBeanMetaData,s=this.getBeanName(r);e(n,s)}i=Object.getPrototypeOf(i)}}getBeanName(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;const e=t.toString();return e.substring(9,e.indexOf("("))}getBeansForParameters(t,e){const i=[];return t&&Jn(t,(r,n)=>{const s=this.lookupBeanInstance(e,n);i[Number(r)]=s}),i}lookupBeanInstance(t,e,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${e} is used after the grid is destroyed!`),null;if(e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];const r=this.beanWrappers[e];return r?r.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${e} while initialising ${t}`),null)}callLifeCycleMethods(t,e){t.forEach(i=>this.callLifeCycleMethodsOnBean(i,e))}callLifeCycleMethodsOnBean(t,e,i){const r={};this.forEachMetaDataInHierarchy(t,s=>{const o=s[e];o&&o.forEach(a=>{a!=i&&(r[a]=!0)})}),Object.keys(r).forEach(s=>t[s]())}getBean(t){return this.lookupBeanInstance("getBean",t,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,ei.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(t){t&&this.destroyBeans([t])}destroyBeans(t){return t?(t.forEach(e=>{this.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy");const i=e;typeof i.destroy=="function"&&i.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function Wee(t,e,i){const r=Jp(t.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(e)}function Me(t,e,i){const r=Jp(t.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(e)}function As(t,e,i){const r=Jp(t.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(e)}function We(t){return e=>{const i=Jp(e);i.beanName=t}}function V(t){return(e,i,r)=>{Uee(e,t,!1,e,i,null)}}function Kt(t){return(e,i,r)=>{Uee(e,t,!0,e,i,null)}}function Uee(t,e,i,r,n,s){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof s=="number"){console.error("AG Grid: Autowired should be on an attribute");return}const o=Jp(t.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:n,beanName:e,optional:i})}function Ra(t){return(e,i,r)=>{const n=typeof e=="function"?e:e.constructor;let s;if(typeof r=="number"){let o;i?(s=Jp(n),o=i):(s=Jp(n),o="agConstructor"),s.autowireMethods||(s.autowireMethods={}),s.autowireMethods[o]||(s.autowireMethods[o]={}),s.autowireMethods[o][r]=t}}}function Jp(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var Ll=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(t,e,i=null,r=null){if(this.frameworkOverrides=e,this.gridOptionsService=t,i){const n=t.useAsyncEvents();this.addGlobalListener(i,n)}r&&this.addGlobalListener(r,!1)}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,i){const r=e?this.allAsyncListeners:this.allSyncListeners;let n=r.get(t);return!n&&i&&(n=new Set,r.set(t,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(t,e,i=!1){this.getListeners(t,i,!0).add(e)}removeEventListener(t,e,i=!1){const r=this.getListeners(t,i,!1);r&&(r.delete(e),r.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){let e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){var i;const r=t.type;if(e&&"event"in t){const l=t.event;l instanceof Event&&(t.eventPath=l.composedPath())}const n=(l,u)=>l.forEach(c=>{if(!u.has(c))return;const d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(t)):()=>c(t);e?this.dispatchAsync(d):d()}),s=(i=this.getListeners(r,e,!1))!=null?i:new Set,o=new Set(s);o.size>0&&n(o,s),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>l(r,t)):()=>l(r,t);e?this.dispatchAsync(u):u()})}dispatchAsync(t){this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}};x([yl(0,Ra("gridOptionsService")),yl(1,Ra("frameworkOverrides")),yl(2,Ra("globalEventListener")),yl(3,Ra("globalSyncEventListener"))],Ll.prototype,"setBeans",1);Ll=x([We("eventService")],Ll);var l$=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=i=>{this.frameworkOverrides.wrapOutgoing(()=>t(i))},this.wrappedListeners.set(t,e)),e}wrapGlobal(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=(i,r)=>{this.frameworkOverrides.wrapOutgoing(()=>t(i,r))},this.wrappedGlobalListeners.set(t,e)),e}unwrap(t){var e;return(e=this.wrappedListeners.get(t))!=null?e:t}unwrapGlobal(t){var e;return(e=this.wrappedGlobalListeners.get(t))!=null?e:t}},BOe={resizable:!0,sortable:!0},WOe=0;function zee(){return WOe++}var kr=class jee{constructor(e,i,r,n){this.instanceId=zee(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Ll,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=i,this.colId=r,this.primary=n,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const i=e.sortIndex,r=e.initialSortIndex;i!==void 0?i!==null&&(this.sortIndex=i):r!==null&&(this.sortIndex=r);const n=e.hide,s=e.initialHide;n!==void 0?this.visible=!n:this.visible=!s,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const o=e.flex,a=e.initialFlex;o!==void 0?this.flex=o:a!==void 0&&(this.flex=a)}setColDef(e,i,r){this.colDef=e,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=Te(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Te(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=Te(this.colDef.tooltipField)||Te(this.colDef.tooltipValueGetter)||Te(this.colDef.tooltipComponent)}resetActualWidth(e){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(ht(this.colDef)||ht(this.colDef.showRowGroup))return!1;const i=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===e;return i||r}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(e,i){var r,n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new l$(this.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const i=this.createColumnFunctionCallbackParams(e),r=this.colDef.suppressNavigable;return r(i)}return!1}isCellEditable(e){return e.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){var i;return(i=this.colDef[e])!=null?i:BOe[e]}isColumnFunc(e,i){if(typeof i=="boolean")return i;if(typeof i=="function"){const r=this.createColumnFunctionCallbackParams(e);return i(r)}return!1}setMoving(e,i){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,i){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,i){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return ht(this.sort)}isSorting(){return Te(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,i){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(e,i,r){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const n=this.createColumnEvent("filterChanged",i);r&&Go(n,r),this.eventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,i){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(e,i){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,i){const r=e===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const i=e.getPaddingLevel()+1;let r=!0;for(;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:i,isSpanningTotal:r}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}createBaseColDefParams(e){return this.gridOptionsService.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(ht(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.colSpan(i);return Math.max(r,1)}getRowSpan(e){if(ht(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(e),r=this.colDef.rowSpan(i);return Math.max(r,1)}setActualWidth(e,i,r=!1){this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&i!=="flex"&&i!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return this.maxWidth!=null?e>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){Te(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,i){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,i){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,i){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(e){ct("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let i=this.getColDef().menuTabs;return i==null&&(i=e),i}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:jee.EVENT_STATE_UPDATED,key:e})}};kr.EVENT_MOVING_CHANGED="movingChanged";kr.EVENT_LEFT_CHANGED="leftChanged";kr.EVENT_WIDTH_CHANGED="widthChanged";kr.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";kr.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";kr.EVENT_VISIBLE_CHANGED="visibleChanged";kr.EVENT_FILTER_CHANGED="filterChanged";kr.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";kr.EVENT_SORT_CHANGED="sortChanged";kr.EVENT_COL_DEF_CHANGED="colDefChanged";kr.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";kr.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";kr.EVENT_PIVOT_CHANGED="columnPivotChanged";kr.EVENT_VALUE_CHANGED="columnValueChanged";kr.EVENT_STATE_UPDATED="columnStateUpdated";x([V("gridOptionsService")],kr.prototype,"gridOptionsService",2);x([V("columnUtils")],kr.prototype,"columnUtils",2);x([V("columnHoverService")],kr.prototype,"columnHoverService",2);x([V("frameworkOverrides")],kr.prototype,"frameworkOverrides",2);x([Me],kr.prototype,"initialise",1);var yi=kr,CO=class jy{constructor(e,i,r,n){this.localEventService=new Ll,this.expandable=!1,this.instanceId=zee(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=i,this.expanded=!!e&&!!e.openByDefault,this.padding=r,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,i){this.colGroupDef=e,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e;const i={type:jy.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(i=>{i instanceof yi?e.push(i):i instanceof jy&&i.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,i=!1,r=!1;const n=this.findChildrenRemovingPadding();for(let o=0,a=n.length;o<a;o++){const l=n[o];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,r=!0):u==="closed"?(i=!0,r=!0):(e=!0,i=!0)}const s=e&&i&&r;if(this.expandable!==s){this.expandable=s;const o={type:jy.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(o)}}findChildrenRemovingPadding(){const e=[],i=r=>{r.forEach(n=>{n instanceof jy&&n.isPadding()?i(n.children):e.push(n)})};return i(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}};CO.EVENT_EXPANDED_CHANGED="expandedChanged";CO.EVENT_EXPANDABLE_CHANGED="expandableChanged";x([As],CO.prototype,"destroy",1);var Rr=CO,UOe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Kee={};bn(Kee,{addSafePassiveEventListener:()=>rte,createEventPath:()=>tte,getCtrlForEventTarget:()=>ux,getEventPath:()=>ite,isElementInEventPath:()=>cx,isEventSupported:()=>c$,isStopPropagationForAgGrid:()=>Dl,stopPropagationForAgGrid:()=>_l});var Yee={};bn(Yee,{areEqual:()=>hu,existsAndNotEmpty:()=>qee,flatten:()=>Jee,forEachReverse:()=>YOe,includes:()=>Ho,insertArrayIntoArray:()=>p1,insertIntoArray:()=>Cw,last:()=>Qt,moveInArray:()=>f1,pushAll:()=>g1,removeAllFromArray:()=>Zee,removeAllFromUnorderedArray:()=>Qee,removeFromArray:()=>zs,removeFromUnorderedArray:()=>u$,removeRepeatsFromArray:()=>jOe,shallowCompare:()=>zOe,sortNumerically:()=>Xee,toStrings:()=>KOe});function qee(t){return t!=null&&t.length>0}function Qt(t){if(!(!t||!t.length))return t[t.length-1]}function hu(t,e,i){return t==null&&e==null?!0:t!=null&&e!=null&&t.length===e.length&&t.every((r,n)=>i?i(r,e[n]):e[n]===r)}function zOe(t,e){return hu(t,e)}function Xee(t){return t.sort((e,i)=>e-i)}function jOe(t,e){if(t)for(let i=t.length-2;i>=0;i--){const r=t[i]===e,n=t[i+1]===e;r&&n&&t.splice(i+1,1)}}function u$(t,e){const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.pop())}function zs(t,e){const i=t.indexOf(e);i>=0&&t.splice(i,1)}function Qee(t,e){for(let i=0;i<e.length;i++)u$(t,e[i])}function Zee(t,e){for(let i=0;i<e.length;i++)zs(t,e[i])}function Cw(t,e,i){t.splice(i,0,e)}function p1(t,e,i){if(!(t==null||e==null))for(let r=e.length-1;r>=0;r--){const n=e[r];Cw(t,n,i)}}function f1(t,e,i){Zee(t,e),e.slice().reverse().forEach(r=>Cw(t,r,i))}function Ho(t,e){return t.indexOf(e)>-1}function Jee(t){return[].concat.apply([],t)}function g1(t,e){e==null||t==null||e.forEach(i=>t.push(i))}function KOe(t){return t.map(vw)}function YOe(t,e){if(t!=null)for(let i=t.length-1;i>=0;i--)e(t[i],i)}var ete="__ag_Grid_Stop_Propagation",qOe=["touchstart","touchend","touchmove","touchcancel","scroll"],RL={};function _l(t){t[ete]=!0}function Dl(t){return t[ete]===!0}var c$=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof RL[i]=="boolean")return RL[i];const r=document.createElement(t[i]||"div");return i="on"+i,RL[i]=i in r}})();function ux(t,e,i){let r=e;for(;r;){const n=t.getDomData(r,i);if(n)return n;r=r.parentElement}return null}function cx(t,e){return!e||!t?!1:ite(e).indexOf(t)>=0}function tte(t){const e=[];let i=t.target;for(;i;)e.push(i),i=i.parentElement;return e}function ite(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():tte(e)}function rte(t,e,i,r){const s=Ho(qOe,i)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,i,r,s)}var jc=class nte{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:nte.EVENT_DESTROYED})}addEventListener(e,i){this.localEventService||(this.localEventService=new Ll),this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService&&this.localEventService.removeEventListener(e,i)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,i,r){if(this.destroyed)return;e instanceof HTMLElement?rte(this.getFrameworkOverrides(),e,i,r):e.addEventListener(i,r);const n=()=>(e.removeEventListener(i,r),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null);return this.destroyFunctions.push(n),n}setupGridOptionListener(e,i){this.gridOptionsService.addEventListener(e,i);const r=()=>(this.gridOptionsService.removeEventListener(e,i),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==r),null);return this.destroyFunctions.push(r),r}addManagedPropertyListener(e,i){return this.destroyed?()=>null:this.setupGridOptionListener(e,i)}addManagedPropertyListeners(e,i){if(this.destroyed)return;const r=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[r])return;this.lastChangeSetIdLookup[r]=s.changeSet.id}const o={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};i(o)};e.forEach(s=>this.setupGridOptionListener(s,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,i){const r=this.createBean(e,i);return this.addDestroyFunc(this.destroyBean.bind(this,e,i)),r}createBean(e,i,r){return(i||this.getContext()).createBean(e,r)}destroyBean(e,i){return(i||this.getContext()).destroyBean(e)}destroyBeans(e,i){return e&&e.forEach(r=>this.destroyBean(r,i)),[]}};jc.EVENT_DESTROYED="destroyed";x([V("frameworkOverrides")],jc.prototype,"frameworkOverrides",2);x([V("context")],jc.prototype,"context",2);x([V("eventService")],jc.prototype,"eventService",2);x([V("gridOptionsService")],jc.prototype,"gridOptionsService",2);x([V("localeService")],jc.prototype,"localeService",2);x([V("environment")],jc.prototype,"environment",2);x([As],jc.prototype,"destroy",1);var Pe=jc,Qm=class extends Pe{setBeans(t){this.logger=t.create("ColumnFactory")}createColumnTree(t,e,i,r){const n=new kOe,{existingCols:s,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);n.addExistingKeys(a);const l=this.recursivelyCreateColumns(t,0,e,s,n,o,r),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);const c=this.balanceColumnTree(l,0,u,n),d=(h,f)=>{h instanceof Rr&&h.setupExpandable(),h.setOriginalParent(f)};return this.columnUtils.depthFirstOriginalTreeSearch(null,c,d),{columnTree:c,treeDept:u}}extractExistingTreeData(t){const e=[],i=[],r=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,n=>{if(n instanceof Rr){const s=n;i.push(s)}else{const s=n;r.push(s.getId()),e.push(s)}}),{existingCols:e,existingGroups:i,existingColKeys:r}}createForAutoGroups(t,e){return t.map(i=>this.createAutoGroupTreeItem(e,i))}createAutoGroupTreeItem(t,e){const i=this.findDepth(t);let r=e;for(let n=i-1;n>=0;n--){const s=new Rr(null,`FAKE_PATH_${e.getId()}}_${n}`,!0,n);this.createBean(s),s.setChildren([r]),r.setOriginalParent(s),r=s}return i===0&&e.setOriginalParent(null),r}findDepth(t){let e=0,i=t;for(;i&&i[0]&&i[0]instanceof Rr;)e++,i=i[0].getChildren();return e}balanceColumnTree(t,e,i,r){const n=[];for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof Rr){const a=o,l=this.balanceColumnTree(a.getChildren(),e+1,i,r);a.setChildren(l),n.push(a)}else{let a,l;for(let u=i-1;u>=e;u--){const c=r.getUniqueKey(null,null),d=this.createMergedColGroupDef(null),h=new Rr(d,c,!0,e);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(n.push(a),t.some(c=>c instanceof Rr)){l.setChildren([o]);continue}else{l.setChildren(t);break}n.push(o)}}return n}findMaxDept(t,e){let i=e;for(let r=0;r<t.length;r++){const n=t[r];if(n instanceof Rr){const s=n,o=this.findMaxDept(s.getChildren(),e+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(t,e,i,r,n,s,o){if(!t)return[];const a=new Array(t.length);for(let l=0;l<a.length;l++){const u=t[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(i,u,e,r,n,s,o):a[l]=this.createColumn(i,u,r,n,o)}return a}createColumnGroup(t,e,i,r,n,s,o){const a=this.createMergedColGroupDef(e),l=n.getUniqueKey(a.groupId||null,null),u=new Rr(a,l,!1,i);this.createBean(u);const c=this.findExistingGroup(e,s);c&&s.splice(c.idx,1);let d=c==null?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,i+1,t,r,n,s,o);return u.setChildren(h),u}createMergedColGroupDef(t){const e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,i,r,n){const s=this.findExistingColumn(e,i);s&&(i==null||i.splice(s.idx,1));let o=s==null?void 0:s.column;if(o){const a=this.addColumnDefaultAndTypes(e,o.getColId());o.setColDef(a,e,n),this.applyColumnState(o,a,n)}else{const a=r.getUniqueKey(e.colId,e.field),l=this.addColumnDefaultAndTypes(e,a);o=new yi(l,e,a,t),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(t,e,i){const r=jd(e.flex);if(r!==void 0&&t.setFlex(r),t.getFlex()<=0){const a=jd(e.width);if(a!=null)t.setActualWidth(a,i);else{const l=t.getActualWidth();t.setActualWidth(l,i)}}e.sort!==void 0&&(e.sort=="asc"||e.sort=="desc"?t.setSort(e.sort,i):t.setSort(void 0,i));const s=jd(e.sortIndex);s!==void 0&&t.setSortIndex(s);const o=ox(e.hide);o!==void 0&&t.setVisible(!o,i),e.pinned!==void 0&&t.setPinned(e.pinned)}findExistingColumn(t,e){if(e)for(let i=0;i<e.length;i++){const r=e[i].getUserProvidedColDef();if(!r)continue;if(t.colId!=null){if(e[i].getId()===t.colId)return{idx:i,column:e[i]};continue}if(t.field!=null){if(r.field===t.field)return{idx:i,column:e[i]};continue}if(r===t)return{idx:i,column:e[i]}}}findExistingGroup(t,e){if(t.groupId!=null)for(let r=0;r<e.length;r++){const n=e[r];if(n.getColGroupDef()&&n.getId()===t.groupId)return{idx:r,group:n}}}addColumnDefaultAndTypes(t,e){const i={},r=this.gridOptionsService.get("defaultColDef");Go(i,r,!1,!0);const n=this.dataTypeService.updateColDefAndGetColumnType(i,t,e);n&&this.assignColumnTypes(n,i),Go(i,t,!1,!0);const s=this.gridOptionsService.get("autoGroupColumnDef"),o=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&s&&o&&Go(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(t,e){if(!t.length)return;const i=Object.assign({},UOe),r=this.gridOptionsService.get("columnTypes")||{};Jn(r,(n,s)=>{n in i?console.warn(`AG Grid: the column type '${n}' is a default column type and cannot be overridden.`):(s.type&&ct("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[n]=s)}),t.forEach(n=>{const s=i[n.trim()];s?Go(e,s,!1,!0):console.warn("AG Grid: colDef.type '"+n+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return t.children!==void 0}};x([V("columnUtils")],Qm.prototype,"columnUtils",2);x([V("dataTypeService")],Qm.prototype,"dataTypeService",2);x([yl(0,Ra("loggerFactory"))],Qm.prototype,"setBeans",1);Qm=x([We("columnFactory")],Qm);var yO=class Ql{constructor(e,i,r,n){this.displayedChildren=[],this.localEventService=new Ll,this.groupId=i,this.partId=r,this.providedColumnGroup=e,this.pinned=n}static createUniqueId(e,i){return e+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return Ql.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof Ql&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){const i=Qt(this.displayedChildren).getLeft();this.setLeft(i)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(Ql.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let i=!1;return this.children.forEach(r=>{e===r&&(i=!0),r instanceof Ql&&r.isChildInThisGroupDeepSearch(e)&&(i=!0)}),i}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(i=>{e+=i.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(i=>{i instanceof yi?e.push(i):i instanceof Ql&&i.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(i=>{i instanceof yi?e.push(i):i instanceof Ql&&i.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(Ql.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(r=>{if(r instanceof Ql&&(!r.displayedChildren||!r.displayedChildren.length))return;switch(r.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(r);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(r);break;default:this.displayedChildren.push(r);break}}),this.localEventService.dispatchEvent(this.createAgEvent(Ql.EVENT_DISPLAYED_CHILDREN_CHANGED))}};yO.EVENT_LEFT_CHANGED="leftChanged";yO.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";x([V("gridOptionsService")],yO.prototype,"gridOptionsService",2);var Br=yO,F=class{};F.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";F.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";F.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";F.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded";F.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";F.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";F.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";F.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";F.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";F.EVENT_COLUMN_MOVED="columnMoved";F.EVENT_COLUMN_VISIBLE="columnVisible";F.EVENT_COLUMN_PINNED="columnPinned";F.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";F.EVENT_COLUMN_RESIZED="columnResized";F.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";F.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns";F.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide";F.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation";F.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";F.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver";F.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave";F.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked";F.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu";F.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";F.EVENT_ROW_GROUP_OPENED="rowGroupOpened";F.EVENT_ROW_DATA_UPDATED="rowDataUpdated";F.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";F.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";F.EVENT_CHART_CREATED="chartCreated";F.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";F.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";F.EVENT_CHART_DESTROYED="chartDestroyed";F.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";F.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";F.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";F.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";F.EVENT_MODEL_UPDATED="modelUpdated";F.EVENT_CUT_START="cutStart";F.EVENT_CUT_END="cutEnd";F.EVENT_PASTE_START="pasteStart";F.EVENT_PASTE_END="pasteEnd";F.EVENT_FILL_START="fillStart";F.EVENT_FILL_END="fillEnd";F.EVENT_RANGE_DELETE_START="rangeDeleteStart";F.EVENT_RANGE_DELETE_END="rangeDeleteEnd";F.EVENT_UNDO_STARTED="undoStarted";F.EVENT_UNDO_ENDED="undoEnded";F.EVENT_REDO_STARTED="redoStarted";F.EVENT_REDO_ENDED="redoEnded";F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";F.EVENT_CELL_CLICKED="cellClicked";F.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";F.EVENT_CELL_MOUSE_DOWN="cellMouseDown";F.EVENT_CELL_CONTEXT_MENU="cellContextMenu";F.EVENT_CELL_VALUE_CHANGED="cellValueChanged";F.EVENT_CELL_EDIT_REQUEST="cellEditRequest";F.EVENT_ROW_VALUE_CHANGED="rowValueChanged";F.EVENT_CELL_FOCUSED="cellFocused";F.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";F.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";F.EVENT_ROW_SELECTED="rowSelected";F.EVENT_SELECTION_CHANGED="selectionChanged";F.EVENT_TOOLTIP_SHOW="tooltipShow";F.EVENT_TOOLTIP_HIDE="tooltipHide";F.EVENT_CELL_KEY_DOWN="cellKeyDown";F.EVENT_CELL_MOUSE_OVER="cellMouseOver";F.EVENT_CELL_MOUSE_OUT="cellMouseOut";F.EVENT_FILTER_CHANGED="filterChanged";F.EVENT_FILTER_MODIFIED="filterModified";F.EVENT_FILTER_OPENED="filterOpened";F.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";F.EVENT_SORT_CHANGED="sortChanged";F.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";F.EVENT_ROW_CLICKED="rowClicked";F.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";F.EVENT_GRID_READY="gridReady";F.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";F.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";F.EVENT_VIEWPORT_CHANGED="viewportChanged";F.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";F.EVENT_FIRST_DATA_RENDERED="firstDataRendered";F.EVENT_DRAG_STARTED="dragStarted";F.EVENT_DRAG_STOPPED="dragStopped";F.EVENT_CHECKBOX_CHANGED="checkboxChanged";F.EVENT_ROW_EDITING_STARTED="rowEditingStarted";F.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";F.EVENT_CELL_EDITING_STARTED="cellEditingStarted";F.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";F.EVENT_BODY_SCROLL="bodyScroll";F.EVENT_BODY_SCROLL_END="bodyScrollEnd";F.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";F.EVENT_PAGINATION_CHANGED="paginationChanged";F.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";F.EVENT_STORE_REFRESHED="storeRefreshed";F.EVENT_STATE_UPDATED="stateUpdated";F.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged";F.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged";F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";F.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";F.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";F.EVENT_FLASH_CELLS="flashCells";F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";F.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";F.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";F.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";F.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";F.EVENT_ROW_DRAG_ENTER="rowDragEnter";F.EVENT_ROW_DRAG_MOVE="rowDragMove";F.EVENT_ROW_DRAG_LEAVE="rowDragLeave";F.EVENT_ROW_DRAG_END="rowDragEnd";F.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";F.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";F.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";F.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";F.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";F.EVENT_STORE_UPDATED="storeUpdated";F.EVENT_FILTER_DESTROYED="filterDestroyed";F.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";F.EVENT_ROW_COUNT_READY="rowCountReady";F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";F.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";F.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";F.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";F.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var OD=new Set([F.EVENT_GRID_PRE_DESTROYED]),ste=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let i;return typeof e!="number"?i=0:i=e+1,this.existingIds[t]=i,i}},Zm="ag-Grid-AutoColumn",yw=class extends Pe{createAutoGroupColumns(t){const e=[],i=this.gridOptionsService.get("treeData");let r=this.gridOptionsService.isGroupMultiAutoColumn();return i&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?t.forEach((n,s)=>{e.push(this.createOneAutoGroupColumn(n,s))}):e.push(this.createOneAutoGroupColumn()),e}updateAutoGroupColumns(t,e){t.forEach((i,r)=>this.updateOneAutoGroupColumn(i,r,e))}createOneAutoGroupColumn(t,e){let i;t?i=`${Zm}-${t.getId()}`:i=Zm;const r=this.createAutoGroupColDef(i,t,e);r.colId=i;const n=new yi(r,null,i,!0);return this.context.createBean(n),n}updateOneAutoGroupColumn(t,e,i){const r=t.getColDef(),n=typeof r.showRowGroup=="string"?r.showRowGroup:void 0,s=n!=null?this.columnModel.getPrimaryColumn(n):void 0,o=this.createAutoGroupColDef(t.getId(),s??void 0,e);t.setColDef(o,null,i),this.columnFactory.applyColumnState(t,o,i)}createAutoGroupColDef(t,e,i){let r=this.createBaseColDef(e);const n=this.gridOptionsService.get("autoGroupColumnDef");Go(r,n),r=this.columnFactory.addColumnDefaultAndTypes(r,t),this.gridOptionsService.get("treeData")||ht(r.field)&&ht(r.valueGetter)&&ht(r.filterValueGetter)&&r.filter!=="agGroupColumnFilter"&&(r.filter=!1),i&&i>0&&(r.headerCheckboxSelection=!1);const s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=r.valueGetter||r.field!=null;return s&&!o&&(r.sortIndex=void 0,r.initialSort=void 0),r}createBaseColDef(t){const e=this.gridOptionsService.get("autoGroupColumnDef"),r={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererSelector)||(r.cellRenderer="agGroupCellRenderer"),t){const s=t.getColDef();Object.assign(r,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(r,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),r.showRowGroup=t.getColId()}else r.showRowGroup=!0;return r}};x([V("columnModel")],yw.prototype,"columnModel",2);x([V("columnFactory")],yw.prototype,"columnFactory",2);yw=x([We("autoGroupColService")],yw);var ote={};bn(ote,{camelCaseToHumanText:()=>ate,camelCaseToHyphenated:()=>lte,capitalise:()=>JOe,escapeString:()=>Kr,utf8_encode:()=>ZOe});var XOe=/[&<>"']/g,QOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ZOe(t){const e=String.fromCharCode;function i(d){const h=[];if(!d)return[];const f=d.length;let g=0,m,C;for(;g<f;)m=d.charCodeAt(g++),m>=55296&&m<=56319&&g<f?(C=d.charCodeAt(g++),(C&64512)==56320?h.push(((m&1023)<<10)+(C&1023)+65536):(h.push(m),g--)):h.push(m);return h}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function n(d,h){return e(d>>h&63|128)}function s(d){if(d>=0&&d<=31&&d!==10)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(d&4294967168))return e(d);let h="";return d&4294965248?d&4294901760?d&4292870144||(h=e(d>>18&7|240),h+=n(d,12),h+=n(d,6)):(r(d),h=e(d>>12&15|224),h+=n(d,6)):h=e(d>>6&31|192),h+=e(d&63|128),h}const o=i(t),a=o.length;let l=-1,u,c="";for(;++l<a;)u=o[l],c+=s(u);return c}function JOe(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}function Kr(t,e){if(t==null)return null;const i=t.toString().toString();return e?i:i.replace(XOe,r=>QOe[r])}function ate(t){if(!t||t==null)return null;const e=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return t.replace(e,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}function lte(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var ute={};bn(ute,{convertToMap:()=>Dd,keys:()=>tMe,mapById:()=>eMe});function Dd(t){const e=new Map;return t.forEach(i=>e.set(i[0],i[1])),e}function eMe(t,e){const i=new Map;return t.forEach(r=>i.set(e(r),r)),i}function tMe(t){const e=[];return t.forEach((i,r)=>e.push(r)),e}var ln=class extends Pe{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");const t=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.buildAutoGroupColumns(nm(e.source))),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(nm(e.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],e=>this.onSharedColDefChanged(nm(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gridOptionsService.get("pivotMode"),nm(e.source))),this.addManagedListener(this.eventService,F.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(t){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(t))}onAutoGroupColumnDefChanged(t){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t)}onSharedColDefChanged(t){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,t),this.createColumnsFromColumnDefs(!0,t))}setColumnDefs(t,e){const i=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(i,e)}recreateColumnDefs(t){this.onSharedColDefChanged(t)}destroyOldColumns(t,e){const i={};if(!t)return;this.columnUtils.depthFirstOriginalTreeSearch(null,t,n=>{i[n.getInstanceId()]=n}),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,n=>{i[n.getInstanceId()]=null});const r=Object.values(i).filter(n=>n!=null);this.destroyBeans(r)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(t,e){const i=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const r=this.primaryColumns,n=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,n,e);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(l=>this.primaryColumnsMap[l.getId()]=l),this.extractRowGroupColumns(e,r),this.extractPivotColumns(e,r),this.extractValueColumns(e,r),this.ready=!0;const o=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||o||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),this.changeEventsDispatching=!0,i&&i(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(e)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(t){const e={type:F.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(e),t==="gridInitializing"&&this.onColumnsReady()}dispatchEverythingChanged(t){const e={type:F.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(e)}orderGridColumnsLikePrimary(){const t=this.primaryColumns;if(!t)return;const e=t.filter(r=>this.gridColumns.indexOf(r)>=0),i=this.gridColumns.filter(r=>e.indexOf(r)<0);this.gridColumns=[...i,...e],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(t){let e=t;const i=[];for(;e!=null;)i.push(e),e=this.getDisplayedColAfter(e);return i}checkViewportColumns(t=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const i={type:F.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(i)}setViewportPosition(t,e,i=!1){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(t){return t&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(t,e){if(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=t,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);const i={type:F.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}getSecondaryPivotColumn(t,e){if(ht(this.secondaryColumns))return null;const i=this.getPrimaryColumn(e);let r=null;return this.secondaryColumns.forEach(n=>{const s=n.getColDef().pivotKeys,o=n.getColDef().pivotValueColumn;hu(s,t)&&o===i&&(r=n)}),r}setBeans(t){this.logger=t.create("columnModel")}setFirstRightAndLastLeftPinned(t){let e,i;this.gridOptionsService.get("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?Qt(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?Qt(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(r=>{r.setLastLeftPinned(r===e,t),r.setFirstRightPinned(r===i,t)})}autoSizeColumns(t){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(t));return}const{columns:e,skipHeader:i,skipHeaderGroups:r,stopAtGroup:n,source:s="api"}=t;this.animationFrameService.flushAllFrames();const o=[];let a=-1;const l=i??this.gridOptionsService.get("skipHeaderOnAutoSize"),u=r??l;for(;a!==0;)a=0,this.actionOnGridColumns(e,c=>{if(o.indexOf(c)>=0)return!1;const d=this.autoWidthCalculator.getPreferredWidthForColumn(c,l);if(d>0){const h=this.normaliseColumnWidth(c,d);c.setActualWidth(h,s),o.push(c),a++}return!0},s);u||this.autoSizeColumnGroupsByColumns(e,s,n),this.dispatchColumnResizedEvent(o,!0,"autosizeColumns")}dispatchColumnResizedEvent(t,e,i,r=null){if(t&&t.length){const n={type:F.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:e,source:i};this.eventService.dispatchEvent(n)}}dispatchColumnChangedEvent(t,e,i){const r={type:t,columns:e,column:e&&e.length==1?e[0]:null,source:i};this.eventService.dispatchEvent(r)}dispatchColumnMovedEvent(t){const{movedColumns:e,source:i,toIndex:r,finished:n}=t,s={type:F.EVENT_COLUMN_MOVED,columns:e,column:e&&e.length===1?e[0]:null,toIndex:r,finished:n,source:i};this.eventService.dispatchEvent(s)}dispatchColumnPinnedEvent(t,e){if(!t.length)return;const i=t.length===1?t[0]:null,r=this.getCommonValue(t,s=>s.getPinned()),n={type:F.EVENT_COLUMN_PINNED,pinned:r??null,columns:t,column:i,source:e};this.eventService.dispatchEvent(n)}dispatchColumnVisibleEvent(t,e){if(!t.length)return;const i=t.length===1?t[0]:null,r=this.getCommonValue(t,s=>s.isVisible()),n={type:F.EVENT_COLUMN_VISIBLE,visible:r,columns:t,column:i,source:e};this.eventService.dispatchEvent(n)}autoSizeColumn(t,e,i){t&&this.autoSizeColumns({columns:[t],skipHeader:i,skipHeaderGroups:!0,source:e})}autoSizeColumnGroupsByColumns(t,e,i){const r=new Set;this.getGridColumns(t).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||r.add(l),l=l.getParent()});let s;const o=[];for(const a of r){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(s=l.getHeaderCtrlForColumn(a),s)break;s&&s.resizeLeafColumnsToFit(e)}return o}autoSizeAllColumns(t,e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(t,e));return}const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:t})}getColumnsFromTree(t){const e=[],i=r=>{for(let n=0;n<r.length;n++){const s=r[n];s instanceof yi?e.push(s):s instanceof Rr&&i(s.getChildren())}};return i(t),e}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(t){return this.getAllDisplayedColumns().indexOf(t)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(t,e,i,r){const n=[];let s=null;for(let o=0;o<e.length;o++){const a=e[o],l=e.length-o,u=Math.min(a.getColSpan(t),l),c=[a];if(u>1){const h=u-1;for(let f=1;f<=h;f++)c.push(e[o+f]);o+=h}let d;i?(d=!1,c.forEach(h=>{i(h)&&(d=!0)})):d=!0,d&&(n.length===0&&s&&(r&&r(a))&&n.push(s),n.push(a)),s=a}return n}getViewportCenterColumnsForRow(t){if(!this.colSpanActive)return this.viewportColumnsCenter;const e=r=>{const n=r.getLeft();return Te(n)&&n>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,i,e)}isColumnAtEdge(t,e){const i=this.getAllDisplayedColumns();if(!i.length)return!1;const r=e==="first";let n;if(t instanceof Br){const s=t.getDisplayedLeafColumns();if(!s.length)return!1;n=r?s[0]:Qt(s)}else n=t;return(r?i[0]:Qt(i))===n}getAriaColumnIndex(t){let e;return t instanceof Br?e=t.getLeafColumns()[0]:e=t,this.ariaOrderColumns.indexOf(e)+1}isColumnInHeaderViewport(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;const e=t.getLeft()||0,i=e+t.getActualWidth(),r=this.viewportLeft-200,n=this.viewportRight+200,s=e<r&&i<r,o=e>n&&i>n;return!s&&!o}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(t,e,i,r,n,s){if(!t||xo(t))return;let o=!1;if(t.forEach(l=>{if(!l)return;const u=this.getPrimaryColumn(l);if(u){if(i){if(e.indexOf(u)>=0)return;e.push(u)}else{if(e.indexOf(u)<0)return;zs(e,u)}r(u),o=!0}}),!o)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);const a={type:n,columns:e,column:e.length===1?e[0]:null,source:s};this.eventService.dispatchEvent(a)}setRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,F.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),e)}setRowGroupActive(t,e,i){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,i),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([e],!1,i),!t&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([e],!0,i))}addRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),F.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}removeRowGroupColumns(t,e){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),F.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}addPivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!0,i=>i.setPivotActive(!0,e),F.EVENT_COLUMN_PIVOT_CHANGED,e)}setPivotColumns(t,e){this.setPrimaryColumnList(t,this.pivotColumns,F.EVENT_COLUMN_PIVOT_CHANGED,!0,(i,r)=>{r.setPivotActive(i,e)},e)}removePivotColumns(t,e){this.updatePrimaryColumnList(t,this.pivotColumns,!1,i=>i.setPivotActive(!1,e),F.EVENT_COLUMN_PIVOT_CHANGED,e)}setPrimaryColumnList(t,e,i,r,n,s){if(!this.gridColumns)return;const o=new Map;e.forEach((a,l)=>o.set(a,l)),e.length=0,Te(t)&&t.forEach(a=>{const l=this.getPrimaryColumn(a);l&&e.push(l)}),e.forEach((a,l)=>{const u=o.get(a);if(u===void 0){o.set(a,0);return}r&&u!==l||o.delete(a)}),(this.primaryColumns||[]).forEach(a=>{const l=e.indexOf(a)>=0;n(l,a)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(i,[...o.keys()],s)}setValueColumns(t,e){this.setPrimaryColumnList(t,this.valueColumns,F.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),e)}setValueActive(t,e,i){if(t!==e.isValueActive()&&(e.setValueActive(t,i),t&&!e.getAggFunc())){const r=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(r)}}addValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),F.EVENT_COLUMN_VALUE_CHANGED,e)}removeValueColumns(t,e){this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),F.EVENT_COLUMN_VALUE_CHANGED,e)}normaliseColumnWidth(t,e){const i=t.getMinWidth();Te(i)&&e<i&&(e=i);const r=t.getMaxWidth();return Te(r)&&t.isGreaterThanMax(e)&&(e=r),e}getPrimaryOrGridColumn(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)}setColumnWidths(t,e,i,r){const n=[];t.forEach(s=>{const o=this.getPrimaryOrGridColumn(s.key);if(!o)return;if(n.push({width:s.newWidth,ratios:[1],columns:[o]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(e=!e),e){const l=this.getDisplayedColAfter(o);if(!l)return;const u=o.getActualWidth()-s.newWidth,c=l.getActualWidth()+u;n.push({width:c,ratios:[1],columns:[l]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:i,source:r})}checkMinAndMaxWidthsForSet(t){const{columns:e,width:i}=t;let r=0,n=0,s=!0;e.forEach(l=>{const u=l.getMinWidth();r+=u||0;const c=l.getMaxWidth();Te(c)&&c>0?n+=c:s=!1});const o=i>=r,a=!s||i<=n;return o&&a}resizeColumnSets(t){const{resizeSets:e,finished:i,source:r}=t;if(!(!e||e.every(c=>this.checkMinAndMaxWidthsForSet(c)))){if(i){const c=e&&e.length>0?e[0].columns:null;this.dispatchColumnResizedEvent(c,i,r)}return}const s=[],o=[];e.forEach(c=>{const{width:d,columns:h,ratios:f}=c,g={},m={};h.forEach(y=>o.push(y));let C=!0,S=0;for(;C;){if(S++,S>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}C=!1;const y=[];let w=0,E=d;h.forEach((D,P)=>{if(m[D.getId()])E-=g[D.getId()];else{y.push(D);const N=f[P];w+=N}});const b=1/w;y.forEach((D,P)=>{const O=P===y.length-1;let N;O?N=E:(N=Math.round(f[P]*d*b),E-=N);const _=D.getMinWidth(),I=D.getMaxWidth();Te(_)&&N<_?(N=_,m[D.getId()]=!0,C=!0):Te(I)&&I>0&&N>I&&(N=I,m[D.getId()]=!0,C=!0),g[D.getId()]=N})}h.forEach(y=>{const w=g[y.getId()];y.getActualWidth()!==w&&(y.setActualWidth(w,r),s.push(y))})});const a=s.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(r),this.updateBodyWidths(),this.checkViewportColumns());const u=o.concat(l);(a||i)&&this.dispatchColumnResizedEvent(u,i,r,l)}setColumnAggFunc(t,e,i){if(!t)return;const r=this.getPrimaryColumn(t);r&&(r.setAggFunc(e),this.dispatchColumnChangedEvent(F.EVENT_COLUMN_VALUE_CHANGED,[r],i))}moveRowGroupColumn(t,e,i){if(this.isRowGroupEmpty())return;const r=this.rowGroupColumns[t],n=this.rowGroupColumns.slice(t,e);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,r);const s={type:F.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:n,column:n.length===1?n[0]:null,source:i};this.eventService.dispatchEvent(s)}moveColumns(t,e,i,r=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),e>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const n=this.getGridColumns(t);this.doesMovePassRules(n,e)&&(f1(this.gridColumns,n,e),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:n,source:i,toIndex:e,finished:r}),this.columnAnimationService.finish())}doesMovePassRules(t,e){const i=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(i)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){const i=this.gridColumns.slice();return f1(i,t,e),i}sortColumnsLikeGridColumns(t){!t||t.length<=1||t.filter(i=>this.gridColumns.indexOf(i)<0).length>0||t.sort((i,r)=>{const n=this.gridColumns.indexOf(i),s=this.gridColumns.indexOf(r);return n-s})}doesMovePassLockedPositions(t){let e=0,i=!0;const r=n=>n?n===!0||n==="left"?0:2:1;return t.forEach(n=>{const s=r(n.getColDef().lockPosition);s<e&&(i=!1),e=s}),i}doesMovePassMarryChildren(t){let e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{if(!(i instanceof Rr))return;const r=i,n=r.getColGroupDef();if(!(n&&n.marryChildren))return;const o=[];r.getLeafColumns().forEach(d=>{const h=t.indexOf(d);o.push(h)});const a=Math.max.apply(Math,o),l=Math.min.apply(Math,o),u=a-l,c=r.getLeafColumns().length-1;u>c&&(e=!1)}),e}moveColumnByIndex(t,e,i){if(!this.gridColumns)return;const r=this.gridColumns[t];this.moveColumns([r],e,i)}getColumnDefs(){if(!this.primaryColumns)return;const t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((e,i)=>this.gridColumns.indexOf(e)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&t.sort((e,i)=>this.lastPrimaryOrder.indexOf(e)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=i;const n={type:F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(n);const s={type:F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var t;return(t=this.gridColumns)!=null?t:[]}isEmpty(){return xo(this.gridColumns)}isRowGroupEmpty(){return xo(this.rowGroupColumns)}setColumnsVisible(t,e=!1,i){this.applyColumnState({state:t.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!e}))},i)}setColumnsPinned(t,e,i){if(!this.gridColumns)return;if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let r;e===!0||e==="left"?r="left":e==="right"?r="right":r=null,this.actionOnGridColumns(t,n=>n.getPinned()!==r?(n.setPinned(r),!0):!1,i,()=>({type:F.EVENT_COLUMN_PINNED,pinned:r,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(t,e,i,r){if(xo(t))return;const n=[];if(t.forEach(s=>{if(!s)return;const o=this.getGridColumn(s);if(!o)return;e(o)!==!1&&n.push(o)}),!!n.length&&(this.updateDisplayedColumns(i),Te(r)&&r)){const s=r();s.columns=n,s.column=n.length===1?n[0]:null,this.eventService.dispatchEvent(s)}}getDisplayedColBefore(t){const e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i>0?e[i-1]:null}getDisplayedColAfter(t){const e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i<e.length-1?e[i+1]:null}getDisplayedGroupAfter(t){return this.getDisplayedGroupAtDirection(t,"After")}getDisplayedGroupBefore(t){return this.getDisplayedGroupAtDirection(t,"Before")}getDisplayedGroupAtDirection(t,e){const i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),r=t.getDisplayedLeafColumns(),n=e==="After"?Qt(r):r[0],s=`getDisplayedCol${e}`;for(;;){const o=this[s](n);if(!o)return null;const a=this.getColumnGroupAtLevel(o,i);if(a!==t)return a}}getColumnGroupAtLevel(t,e){let i=t.getParent(),r,n;for(;r=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),!(r+n<=e);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(t){const e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,r=t.isValueActive()?t.getAggFunc():null,n=t.getSort()!=null?t.getSort():null,s=t.getSortIndex()!=null?t.getSortIndex():null,o=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:n,sortIndex:s,aggFunc:r,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:i,flex:o}}getColumnState(){if(ht(this.primaryColumns)||!this.isAlive())return[];const e=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(e),e}orderColumnStateList(t){const e=Dd(this.gridColumns.map((i,r)=>[i.getColId(),r]));t.sort((i,r)=>{const n=e.has(i.colId)?e.get(i.colId):-1,s=e.has(r.colId)?e.get(r.colId):-1;return n-s})}resetColumnState(t){if(xo(this.primaryColumns))return;const e=this.getColumnsFromTree(this.primaryColumnTree),i=[];let r=1e3,n=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach(o=>{const a=this.getColumnStateFromColDef(o);ht(a.rowGroupIndex)&&a.rowGroup&&(a.rowGroupIndex=r++),ht(a.pivotIndex)&&a.pivot&&(a.pivotIndex=n++),i.push(a)}),this.applyColumnState({state:i,applyOrder:!0},t)}getColumnStateFromColDef(t){const e=(g,m)=>g??m??null,i=t.getColDef(),r=e(i.sort,i.initialSort),n=e(i.sortIndex,i.initialSortIndex),s=e(i.hide,i.initialHide),o=e(i.pinned,i.initialPinned),a=e(i.width,i.initialWidth),l=e(i.flex,i.initialFlex);let u=e(i.rowGroupIndex,i.initialRowGroupIndex),c=e(i.rowGroup,i.initialRowGroup);u==null&&(c==null||c==!1)&&(u=null,c=null);let d=e(i.pivotIndex,i.initialPivotIndex),h=e(i.pivot,i.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);const f=e(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:r,sortIndex:n,hide:s,pinned:o,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:f}}applyColumnState(t,e){if(xo(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(s,o,a)=>{const l=this.compareColumnStatesAndDispatchEvents(e);this.autoGroupsNeedBuilding=!0;const u=o.slice(),c={},d={},h=[],f=[];let g=0;const m=this.rowGroupColumns.slice(),C=this.pivotColumns.slice();s.forEach(E=>{const b=E.colId||"";if(b.startsWith(Zm)){h.push(E),f.push(E);return}const P=a(b);P?(this.syncColumnWithStateItem(P,E,t.defaultState,c,d,!1,e),zs(u,P)):(f.push(E),g+=1)});const S=E=>this.syncColumnWithStateItem(E,null,t.defaultState,c,d,!1,e);u.forEach(S);const y=(E,b,D,P)=>{const O=E[D.getId()],N=E[P.getId()],_=O!=null,I=N!=null;if(_&&I)return O-N;if(_)return-1;if(I)return 1;const k=b.indexOf(D),B=b.indexOf(P),U=k>=0,K=B>=0;return U&&K?k-B:U?-1:1};this.rowGroupColumns.sort(y.bind(this,c,m)),this.pivotColumns.sort(y.bind(this,d,C)),this.updateGridColumns();const w=this.groupAutoColumns?this.groupAutoColumns.slice():[];return h.forEach(E=>{const b=this.getAutoColumn(E.colId);zs(w,b),this.syncColumnWithStateItem(b,E,t.defaultState,null,null,!0,e)}),w.forEach(S),this.applyOrderAfterApplyState(t),this.updateDisplayedColumns(e),this.dispatchEverythingChanged(e),l(),{unmatchedAndAutoStates:f,unmatchedCount:g}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:n}=i(t.state||[],this.primaryColumns||[],s=>this.getPrimaryColumn(s));return(r.length>0||Te(t.defaultState))&&(n=i(r,this.secondaryColumns||[],s=>this.getSecondaryColumn(s)).unmatchedCount),this.columnAnimationService.finish(),n===0}applyOrderAfterApplyState(t){if(!t.applyOrder||!t.state)return;let e=[];const i={};t.state.forEach(n=>{if(!n.colId||i[n.colId])return;const s=this.gridColumnsMap[n.colId];s&&(e.push(s),i[n.colId]=!0)});let r=0;if(this.gridColumns.forEach(n=>{const s=n.getColId();if(i[s]!=null)return;s.startsWith(Zm)?Cw(e,n,r++):e.push(n)}),e=this.placeLockedColumns(e),!this.doesMovePassMarryChildren(e)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=e}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),r={};return i.forEach(n=>{r[n.colId]=n}),()=>{const n=this.getPrimaryAndSecondaryAndAutoColumns(),s=(m,C,S,y)=>{const w=C.map(y),E=S.map(y);if(hu(w,E))return;const D=new Set(C);S.forEach(N=>{D.delete(N)||D.add(N)});const P=[...D],O={type:m,columns:P,column:P.length===1?P[0]:null,source:t};this.eventService.dispatchEvent(O)},o=m=>{const C=[];return n.forEach(S=>{const y=r[S.getColId()];y&&m(y,S)&&C.push(S)}),C},a=m=>m.getColId();s(F.EVENT_COLUMN_ROW_GROUP_CHANGED,e.rowGroupColumns,this.rowGroupColumns,a),s(F.EVENT_COLUMN_PIVOT_CHANGED,e.pivotColumns,this.pivotColumns,a);const u=o((m,C)=>{const S=m.aggFunc!=null,y=S!=C.isValueActive(),w=S&&m.aggFunc!=C.getAggFunc();return y||w});u.length>0&&this.dispatchColumnChangedEvent(F.EVENT_COLUMN_VALUE_CHANGED,u,t);const c=(m,C)=>m.width!=C.getActualWidth();this.dispatchColumnResizedEvent(o(c),!0,t);const d=(m,C)=>m.pinned!=C.getPinned();this.dispatchColumnPinnedEvent(o(d),t);const h=(m,C)=>m.hide==C.isVisible();this.dispatchColumnVisibleEvent(o(h),t);const g=o((m,C)=>m.sort!=C.getSort()||m.sortIndex!=C.getSortIndex());g.length>0&&this.sortController.dispatchSortChangedEvents(t,g),this.normaliseColumnMovedEventForColumnState(i,t)}}getCommonValue(t,e){if(!t||t.length==0)return;const i=e(t[0]);for(let r=1;r<t.length;r++)if(i!==e(t[r]))return;return i}normaliseColumnMovedEventForColumnState(t,e){const i=this.getColumnState(),r={};i.forEach(l=>r[l.colId]=l);const n={};t.forEach(l=>{r[l.colId]&&(n[l.colId]=!0)});const s=t.filter(l=>n[l.colId]),o=i.filter(l=>n[l.colId]),a=[];o.forEach((l,u)=>{const c=s&&s[u];if(c&&c.colId!==l.colId){const d=this.getGridColumn(c.colId);d&&a.push(d)}}),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:e,finished:!0})}syncColumnWithStateItem(t,e,i,r,n,s,o){if(!t)return;const a=(w,E)=>{const b={value1:void 0,value2:void 0};let D=!1;return e&&(e[w]!==void 0&&(b.value1=e[w],D=!0),Te(E)&&e[E]!==void 0&&(b.value2=e[E],D=!0)),!D&&i&&(i[w]!==void 0&&(b.value1=i[w]),Te(E)&&i[E]!==void 0&&(b.value2=i[E])),b},l=a("hide").value1;l!==void 0&&t.setVisible(!l,o);const u=a("pinned").value1;u!==void 0&&t.setPinned(u);const c=this.columnUtils.calculateColMinWidth(t.getColDef()),d=a("flex").value1;if(d!==void 0&&t.setFlex(d),d==null){const w=a("width").value1;w!=null&&c!=null&&w>=c&&t.setActualWidth(w,o)}const h=a("sort").value1;h!==void 0&&(h==="desc"||h==="asc"?t.setSort(h,o):t.setSort(void 0,o));const f=a("sortIndex").value1;if(f!==void 0&&t.setSortIndex(f),s||!t.isPrimary())return;const g=a("aggFunc").value1;g!==void 0&&(typeof g=="string"?(t.setAggFunc(g),t.isValueActive()||(t.setValueActive(!0,o),this.valueColumns.push(t))):(Te(g)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,o),zs(this.valueColumns,t))));const{value1:m,value2:C}=a("rowGroup","rowGroupIndex");(m!==void 0||C!==void 0)&&(typeof C=="number"||m?(t.isRowGroupActive()||(t.setRowGroupActive(!0,o),this.rowGroupColumns.push(t)),r&&typeof C=="number"&&(r[t.getId()]=C)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,o),zs(this.rowGroupColumns,t)));const{value1:S,value2:y}=a("pivot","pivotIndex");(S!==void 0||y!==void 0)&&(typeof y=="number"||S?(t.isPivotActive()||(t.setPivotActive(!0,o),this.pivotColumns.push(t)),n&&typeof y=="number"&&(n[t.getId()]=y)):t.isPivotActive()&&(t.setPivotActive(!1,o),zs(this.pivotColumns,t)))}getGridColumns(t){return this.getColumns(t,this.getGridColumn.bind(this))}getColumns(t,e){const i=[];return t&&t.forEach(r=>{const n=e(r);n&&i.push(n)}),i}getColumnWithValidation(t){if(t==null)return null;const e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e}getPrimaryColumn(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(t){return this.gridColumnsMap[t]}getSecondaryColumn(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(t,e,i){if(!t||!i)return null;if(typeof t=="string"&&i[t])return i[t];for(let r=0;r<e.length;r++)if(this.columnsMatch(e[r],t))return e[r];return this.getAutoColumn(t)}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e)return null;if(e===!0)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(e);return i?[i]:null}getAutoColumn(t){return!this.groupAutoColumns||!Te(this.groupAutoColumns)||ht(this.groupAutoColumns)?null:this.groupAutoColumns.find(e=>this.columnsMatch(e,t))||null}columnsMatch(t,e){const i=t===e,r=t.getColDef()===e,n=t.getColId()==e;return i||r||n}getDisplayNameForColumn(t,e,i=!1){if(!t)return null;const r=this.getHeaderName(t.getColDef(),t,null,null,e);return i?this.wrapHeaderNameWithAggFunc(t,r):r}getDisplayNameForProvidedColumnGroup(t,e,i){const r=e?e.getColGroupDef():null;return r?this.getHeaderName(r,null,t,e,i):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,i,r,n){const s=t.headerValueGetter;if(s){const o=this.gridOptionsService.addGridCommonParams({colDef:t,column:e,columnGroup:i,providedColumnGroup:r,location:n});return typeof s=="function"?s(o):typeof s=="string"?this.expressionService.evaluate(s,o):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return ate(t.field)}return""}wrapHeaderNameWithAggFunc(t,e){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return e;const i=t.getColDef().pivotValueColumn,r=Te(i);let n=null,s;if(r){const o=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,a=t.getColDef().pivotTotalColumnIds!==void 0;if(o&&!a)return e;n=i?i.getAggFunc():null,s=!0}else{const o=t.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();o&&a?(n=t.getAggFunc(),s=!0):s=!1}if(s){const o=typeof n=="string"?n:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${e})`}return e}getColumnGroup(t,e){if(!t)return null;if(t instanceof Br)return t;const i=this.getAllDisplayedTrees(),r=typeof e=="number";let n=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,s=>{if(s instanceof Br){const o=s;let a;r?a=t===o.getGroupId()&&e===o.getPartId():a=t===o.getGroupId(),a&&(n=o)}}),n}isReady(){return this.ready}extractValueColumns(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(i,r)=>i.setValueActive(r,t),()=>{},()=>{},i=>{const r=i.aggFunc;if(r===null||r==="")return null;if(r!==void 0)return!!r},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueColumns.forEach(i=>{const r=i.getColDef();r.aggFunc!=null&&r.aggFunc!=""?i.setAggFunc(r.aggFunc):i.getAggFunc()||i.setAggFunc(r.initialAggFunc)})}extractRowGroupColumns(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(i,r)=>i.setRowGroupActive(r,t),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(t=[],e=[],i,r,n,s,o){const a=[],l=[];(this.primaryColumns||[]).forEach(d=>{const h=t.indexOf(d)<0,f=d.getColDef(),g=ox(s(f)),m=ox(o(f)),C=jd(r(f)),S=jd(n(f));let y;g!==void 0?y=g:C!==void 0?C===null?y=!1:y=C>=0:h?m!==void 0?y=m:S!==void 0?y=S!=null&&S>=0:y=!1:y=e.indexOf(d)>=0,y&&((h?C!=null||S!=null:C!=null)?a.push(d):l.push(d))});const u=d=>{const h=r(d.getColDef()),f=n(d.getColDef());return h??f};a.sort((d,h)=>{const f=u(d),g=u(h);return f===g?0:f<g?-1:1});const c=[].concat(a);return e.forEach(d=>{l.indexOf(d)>=0&&c.push(d)}),l.forEach(d=>{c.indexOf(d)<0&&c.push(d)}),e.forEach(d=>{c.indexOf(d)<0&&i(d,!1)}),c.forEach(d=>{e.indexOf(d)<0&&i(d,!0)}),c}extractPivotColumns(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(i,r)=>i.setPivotActive(r,t),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(t){if(!this.primaryColumnTree)return;const e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,i=>{if(i instanceof Rr){const r=i.getColGroupDef(),n={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};e.push(n)}}),this.setColumnGroupState(e,t)}getColumnGroupState(){const t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,e=>{e instanceof Rr&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})}),t}setColumnGroupState(t,e){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const i=[];if(t.forEach(r=>{const n=r.groupId,s=r.open,o=this.getProvidedColumnGroup(n);o&&o.isExpanded()!==s&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+s+")"),o.setExpanded(s),i.push(o))}),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),i.length){const r={type:F.EVENT_COLUMN_GROUP_OPENED,columnGroup:Rr.length===1?i[0]:void 0,columnGroups:i};this.eventService.dispatchEvent(r)}this.columnAnimationService.finish()}setColumnGroupOpened(t,e,i){let r;t instanceof Rr?r=t.getId():r=t||"",this.setColumnGroupState([{groupId:r,open:e}],i)}getProvidedColumnGroup(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");let e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof Rr&&i.getId()===t&&(e=i)}),e}calculateColumnsForDisplay(){let t;return this.pivotMode&&ht(this.secondaryColumns)?t=this.gridColumns.filter(e=>{const i=this.groupAutoColumns&&Ho(this.groupAutoColumns,e),r=this.valueColumns&&Ho(this.valueColumns,e);return i||r}):t=this.gridColumns.filter(e=>this.groupAutoColumns&&Ho(this.groupAutoColumns,e)||e.isVisible()),t}checkColSpanActiveInCols(t){let e=!1;return t.forEach(i=>{Te(i.getColDef().colSpan)&&(e=!0)}),e}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const t=e=>{const i=e.getColDef(),r=i.showRowGroup;i&&Te(r)&&(this.groupDisplayColumns.push(e),typeof r=="string"?this.groupDisplayColumnsMap[r]=e:r===!0&&this.getRowGroupColumns().forEach(n=>{this.groupDisplayColumnsMap[n.getId()]=e}))};this.gridColumns.forEach(t)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(t){return this.groupDisplayColumnsMap[t]}updateDisplayedColumns(t){const e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)}isSecondaryColumnsPresent(){return Te(this.secondaryColumns)}setSecondaryColumns(t,e){if(!this.gridColumns)return;const i=t;if(!(!i&&ht(this.secondaryColumns))){if(i){this.processSecondaryColumnDefinitions(t);const r=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,e);this.destroyOldColumns(this.secondaryBalancedTree,r.columnTree),this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(n=>this.secondaryColumnsMap[n.getId()]=n),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}}processSecondaryColumnDefinitions(t){const e=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!e&&!i)return;const r=n=>{n.forEach(s=>{if(Te(s.children)){const a=s;i&&i(a),r(a.children)}else e&&e(s)})};t&&r(t)}updateGridColumns(){const t=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const r=Dd(this.groupAutoColumns.map(n=>[n,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(n=>!r.has(n)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(n=>!r.has(n)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let i;if(this.secondaryColumns&&this.secondaryBalancedTree){const r=this.secondaryColumns.some(n=>this.gridColumnsMap[n.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,r&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(r=>this.gridColumnsMap[r.getId()]=r),this.setAutoHeightActive(),!hu(t,this.gridBalancedTree)){const r={type:F.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(t=>t.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||ct("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(t){if(ht(t))return;const e=Dd(t.map((l,u)=>[l,u]));let i=!0;if(this.gridColumns.forEach(l=>{e.has(l)&&(i=!1)}),i)return;const r=Dd(this.gridColumns.map(l=>[l,!0])),n=t.filter(l=>r.has(l)),s=Dd(n.map(l=>[l,!0])),o=this.gridColumns.filter(l=>!s.has(l)),a=n.slice();o.forEach(l=>{let u=l.getOriginalParent();if(!u){a.push(l);return}const c=[];for(;!c.length&&u;)u.getLeafColumns().forEach(g=>{const m=a.indexOf(g)>=0,C=c.indexOf(g)<0;m&&C&&c.push(g)}),u=u.getOriginalParent();if(!c.length){a.push(l);return}const d=c.map(f=>a.indexOf(f)),h=Math.max(...d);Cw(a,l,h+1)}),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var t;let e=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!=null?t:[];this.groupAutoColumns&&(e=e.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?e:e.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(t){const e=[],i=[],r=[];return t.forEach(n=>{const s=n.getColDef().lockPosition;s==="right"?r.push(n):s==="left"||s===!0?e.push(n):i.push(n)}),[...e,...i,...r]}addAutoGroupToGridColumns(){if(ht(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const e={type:F.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)}deriveDisplayedColumns(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(e=>e.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const t=this.getAllGridColumns(),e=[],i=[],r=[];for(const n of t){const s=n.getPinned();s?s===!0||s==="left"?e.push(n):r.push(n):i.push(n)}this.ariaOrderColumns=e.concat(i).concat(r)}joinDisplayedColumns(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(t){if(!this.primaryColumns)return;const e=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),i=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(r=>{if(i){let n=this.getWidthOfColsInList(r);r.forEach(s=>{n-=s.getActualWidth(),s.setLeft(n,t)})}else{let n=0;r.forEach(s=>{s.setLeft(n,t),n+=s.getActualWidth()})}Qee(e,r)}),e.forEach(r=>{r.setLeft(null,t)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(t=>{t.forEach(e=>{e instanceof Br&&e.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,i=>{i instanceof yi&&e.push(i)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(t,e){let i;switch(t){case"left":i=this.viewportRowLeft[e];break;case"right":i=this.viewportRowRight[e];break;default:i=this.viewportRowCenter[e];break}return ht(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const t={};this.headerViewportColumns.forEach(i=>t[i.getId()]=!0);const e=(i,r,n)=>{let s=!1;for(let o=0;o<i.length;o++){const a=i[o];let l=!1;if(a instanceof yi)l=t[a.getId()]===!0;else{const c=a.getDisplayedChildren();c&&(l=e(c,r,n+1))}l&&(s=!0,r[n]||(r[n]=[]),r[n].push(a))}return s};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const t=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const e=this.viewportColumns.map(t).join("#"),i=this.viewportColumnsHash!==e;return i&&(this.viewportColumnsHash=e,this.calculateHeaderRows()),i}refreshFlexedColumns(t={}){var e;const i=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];let r=-1;if(t.resizingCols){const h=new Set(t.resizingCols);let f=this.displayedColumnsCenter;for(let g=f.length-1;g>=0;g--)if(h.has(f[g])){r=g;break}}let n=0,s=[],o=0,a=0;for(let h=0;h<this.displayedColumnsCenter.length;h++)this.displayedColumnsCenter[h].getFlex()&&h>r?(s.push(this.displayedColumnsCenter[h]),a+=this.displayedColumnsCenter[h].getFlex(),o+=(e=this.displayedColumnsCenter[h].getMinWidth())!=null?e:0):n+=this.displayedColumnsCenter[h].getActualWidth();if(!s.length)return[];let l=[];n+o>this.flexViewportWidth&&(s.forEach(h=>{var f;return h.setActualWidth((f=h.getMinWidth())!=null?f:0,i)}),l=s,s=[]);const u=[];let c;e:for(;;){c=this.flexViewportWidth-n;const h=c/a;for(let f=0;f<s.length;f++){const g=s[f],m=h*g.getFlex();let C=0;const S=g.getMinWidth(),y=g.getMaxWidth();if(Te(S)&&m<S?C=S:Te(y)&&m>y&&(C=y),C){g.setActualWidth(C,i),u$(s,g),a-=g.getFlex(),l.push(g),n+=g.getActualWidth();continue e}u[f]=Math.round(m)}break}let d=c;return s.forEach((h,f)=>{h.setActualWidth(Math.min(u[f],d),i),l.push(h),d-=u[f]}),t.skipSetLeft||this.setLeftValues(i),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,i,s),s}sizeColumnsToFit(t,e="sizeColumnsToFit",i,r){var n,s,o,a,l;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(t,e,i,r));return}const u={};r&&((n=r==null?void 0:r.columnLimits)==null||n.forEach(S=>{var y=S,{key:w}=y,E=_Oe(y,["key"]);u[typeof w=="string"?w:w.getColId()]=E}));const c=this.getAllDisplayedColumns(),d=t===this.getWidthOfColsInList(c);if(t<=0||!c.length||d)return;const h=[],f=[];c.forEach(S=>{S.getColDef().suppressSizeToFit===!0?f.push(S):h.push(S)});const g=h.slice(0);let m=!1;const C=S=>{zs(h,S),f.push(S)};for(h.forEach(S=>{var y,w;S.resetActualWidth(e);const E=u==null?void 0:u[S.getId()],b=(y=E==null?void 0:E.minWidth)!=null?y:r==null?void 0:r.defaultMinWidth,D=(w=E==null?void 0:E.maxWidth)!=null?w:r==null?void 0:r.defaultMaxWidth,P=S.getActualWidth();typeof b=="number"&&P<b?S.setActualWidth(b,e,!0):typeof D=="number"&&P>D&&S.setActualWidth(D,e,!0)});!m;){m=!0;const S=t-this.getWidthOfColsInList(f);if(S<=0)h.forEach(y=>{var w,E;const b=(E=(w=u==null?void 0:u[y.getId()])==null?void 0:w.minWidth)!=null?E:r==null?void 0:r.defaultMinWidth;if(typeof b=="number"){y.setActualWidth(b,e,!0);return}y.setMinimum(e)});else{const y=S/this.getWidthOfColsInList(h);let w=S;for(let E=h.length-1;E>=0;E--){const b=h[E],D=u==null?void 0:u[b.getId()],P=(s=D==null?void 0:D.minWidth)!=null?s:r==null?void 0:r.defaultMinWidth,O=(o=D==null?void 0:D.maxWidth)!=null?o:r==null?void 0:r.defaultMaxWidth,N=(a=b.getMinWidth())!=null?a:0,_=(l=b.getMaxWidth())!=null?l:Number.MAX_VALUE,I=typeof P=="number"&&P>N?P:b.getMinWidth(),k=typeof O=="number"&&O<_?O:b.getMaxWidth();let B=Math.round(b.getActualWidth()*y);Te(I)&&B<I?(B=I,C(b),m=!1):Te(k)&&B>k?(B=k,C(b),m=!1):E===0&&(B=w),b.setActualWidth(B,e,!0),w-=B}}}g.forEach(S=>{S.fireColumnWidthChangedEvent(e)}),this.setLeftValues(e),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(g,!0,e)}buildDisplayedTrees(t){const e=[],i=[],r=[];t.forEach(s=>{switch(s.getPinned()){case"left":e.push(s);break;case"right":i.push(s);break;default:r.push(s);break}});const n=new ste;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,n,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,n,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(r,n,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const t=e=>{this.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)}isDisplayed(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,e=>{e instanceof Br&&e.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))&&!i&&!e){const s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||t)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){return this.gridOptionsService.get("groupDisplayType")==="custom"?!0:this.gridOptionsService.get("treeDataDisplayType")==="custom"}autoColsEqual(t,e){return hu(t,e,(i,r)=>i.getColId()===r.getColId())}getWidthOfColsInList(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}getFirstDisplayedColumn(){const t=this.gridOptionsService.get("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(let i=0;i<e.length;i++){const r=this[e[i]]();if(r.length)return t?Qt(r):r[0]}return null}setColumnHeaderHeight(t,e){if(t.setAutoHeaderHeight(e)){const r={type:F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(r)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...e)}getHeaderHeight(){var t;return(t=this.gridOptionsService.get("headerHeight"))!=null?t:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var t;return(t=this.gridOptionsService.get("floatingFiltersHeight"))!=null?t:this.getHeaderHeight()}getGroupHeaderHeight(){var t;return(t=this.gridOptionsService.get("groupHeaderHeight"))!=null?t:this.getHeaderHeight()}getPivotHeaderHeight(){var t;return(t=this.gridOptionsService.get("pivotHeaderHeight"))!=null?t:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var t;return(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))!=null?t:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(t,e){const i=t.getUserProvidedColDef();if(!i)return!1;const r=this.columnFactory.addColumnDefaultAndTypes(i,t.getColId());return t.setColDef(r,i,e),!0}isColumnGroupingLocked(t){const e=this.gridOptionsService.get("groupLockGroupColumns");if(!t.isRowGroupActive()||e===0)return!1;if(e===-1)return!0;const i=this.rowGroupColumns.findIndex(r=>r.getColId()===t.getColId());return e>i}generateColumnStateForRowGroupAndPivotIndexes(t,e){let i={};const r=(n,s,o,a,l,u)=>{if(!s.length||!this.primaryColumns)return[];const c=Object.keys(n),d=new Set(c),h=new Set(c),f=new Set(s.map(b=>{const D=b.getColId();return h.delete(D),D}).concat(c)),g=[],m={};let C=0;for(let b=0;b<this.primaryColumns.length;b++){const D=this.primaryColumns[b].getColId();f.has(D)&&(g.push(D),m[D]=C++)}let S=1e3,y=!1,w=0;const E=b=>{const D=m[b];for(let P=w;P<D;P++){const O=g[P];h.has(O)&&(n[O][l]=S++,h.delete(O))}w=D};s.forEach(b=>{const D=b.getColId();if(d.has(D))E(D),n[D][l]=S++;else{const P=b.getColDef();(P[l]===null||P[l]===void 0&&P[u]==null)&&(y||(P[o]||P[o]===void 0&&P[a]?E(D):(h.forEach(_=>{n[_][l]=S+m[_]}),S+=g.length,y=!0)),i[D]||(i[D]={colId:D}),i[D][l]=S++)}})};return r(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),r(e,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}onColumnsReady(){const t=this.gridOptionsService.get("autoSizeStrategy");if(!t)return;const{type:e}=t;setTimeout(()=>{if(e==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:r,defaultMaxWidth:n}=t,s=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:r,defaultMaxWidth:n,columnLimits:s})}else e==="fitProvidedWidth"&&this.sizeColumnsToFit(t.width,"sizeColumnsToFit")})}onFirstDataRendered(){const t=this.gridOptionsService.get("autoSizeStrategy");if((t==null?void 0:t.type)!=="fitCellContents")return;const{colIds:e,skipHeader:i}=t;setTimeout(()=>{e?this.autoSizeColumns({columns:e,skipHeader:i,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",i)})}};x([V("expressionService")],ln.prototype,"expressionService",2);x([V("columnFactory")],ln.prototype,"columnFactory",2);x([V("displayedGroupCreator")],ln.prototype,"displayedGroupCreator",2);x([V("ctrlsService")],ln.prototype,"ctrlsService",2);x([V("autoWidthCalculator")],ln.prototype,"autoWidthCalculator",2);x([V("columnUtils")],ln.prototype,"columnUtils",2);x([V("columnAnimationService")],ln.prototype,"columnAnimationService",2);x([V("autoGroupColService")],ln.prototype,"autoGroupColService",2);x([Kt("aggFuncService")],ln.prototype,"aggFuncService",2);x([Kt("valueCache")],ln.prototype,"valueCache",2);x([Kt("animationFrameService")],ln.prototype,"animationFrameService",2);x([V("sortController")],ln.prototype,"sortController",2);x([V("columnDefFactory")],ln.prototype,"columnDefFactory",2);x([Me],ln.prototype,"init",1);x([As],ln.prototype,"destroyColumns",1);x([yl(0,Ra("loggerFactory"))],ln.prototype,"setBeans",1);ln=x([We("columnModel")],ln);function nm(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}var m1=class extends Pe{calculateColMinWidth(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(t){const e=this.calculateColMinWidth(t),i=this.calculateColMaxWidth(t);let r;const n=jd(t.width),s=jd(t.initialWidth);return n!=null?r=n:s!=null?r=s:r=200,Math.max(Math.min(r,i),e)}getOriginalPathForColumn(t,e){const i=[];let r=!1;const n=(s,o)=>{for(let a=0;a<s.length;a++){if(r)return;const l=s[a];l instanceof Rr?(n(l.getChildren(),o+1),i[o]=l):l===t&&(r=!0)}};return n(e,0),r?i:null}depthFirstOriginalTreeSearch(t,e,i){e&&e.forEach(r=>{r instanceof Rr&&this.depthFirstOriginalTreeSearch(r,r.getChildren(),i),i(r,t)})}depthFirstAllColumnTreeSearch(t,e){t&&t.forEach(i=>{i instanceof Br&&this.depthFirstAllColumnTreeSearch(i.getChildren(),e),e(i)})}depthFirstDisplayedColumnTreeSearch(t,e){t&&t.forEach(i=>{i instanceof Br&&this.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),e),e(i)})}};m1=x([We("columnUtils")],m1);var v1=class extends Pe{createDisplayedGroups(t,e,i,r){const n=this.mapOldGroupsById(r),s=[];let o=t;for(;o.length;){const a=o;o=[];let l=0;const u=c=>{const d=l;l=c;const h=a[d],g=(h instanceof Br?h.getProvidedColumnGroup():h).getOriginalParent();if(g==null){for(let C=d;C<c;C++)s.push(a[C]);return}const m=this.createColumnGroup(g,e,n,i);for(let C=d;C<c;C++)m.addChild(a[C]);o.push(m)};for(let c=1;c<a.length;c++){const d=a[c],f=(d instanceof Br?d.getProvidedColumnGroup():d).getOriginalParent(),g=a[l],C=(g instanceof Br?g.getProvidedColumnGroup():g).getOriginalParent();f!==C&&u(c)}l<a.length&&u(a.length)}return this.setupParentsIntoColumns(s,null),s}createColumnGroup(t,e,i,r){const n=t.getGroupId(),s=e.getInstanceIdForKey(n),o=Br.createUniqueId(n,s);let a=i[o];return a&&a.getProvidedColumnGroup()!==t&&(a=null),Te(a)?a.reset():(a=new Br(t,n,s,r),this.context.createBean(a)),a}mapOldGroupsById(t){const e={},i=r=>{r.forEach(n=>{if(n instanceof Br){const s=n;e[n.getUniqueId()]=s,i(s.getChildren())}})};return t&&i(t),e}setupParentsIntoColumns(t,e){t.forEach(i=>{if(i.setParent(e),i instanceof Br){const r=i;this.setupParentsIntoColumns(r.getChildren(),r)}})}};v1=x([We("displayedGroupCreator")],v1);var iMe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},gn=class{};gn.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode"];gn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];gn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];gn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];gn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"];gn.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];gn.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems"];gn.FUNCTION_PROPERTIES=[...gn.FUNCTIONAL_PROPERTIES,...gn.CALLBACK_PROPERTIES];gn.ALL_PROPERTIES=[...gn.ARRAY_PROPERTIES,...gn.OBJECT_PROPERTIES,...gn.STRING_PROPERTIES,...gn.NUMBER_PROPERTIES,...gn.FUNCTION_PROPERTIES,...gn.BOOLEAN_PROPERTIES];var Ou=gn,Pr=class MD{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(e,i){typeof e!="object"&&(e={});const r=it({},e);return MD.getGridOptionKeys().forEach(s=>{const o=i[s];typeof o<"u"&&o!==MD.VUE_OMITTED_PROPERTY&&(r[s]=o)}),r}static processOnChange(e,i){if(!e)return;const r={};let n=!1;if(Object.keys(e).filter(o=>MD.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{r[o]=e[o],n=!0}),!n)return;i.__internalUpdateGridOptions(r);const s={type:F.EVENT_COMPONENT_STATE_CHANGED};Jn(r,(o,a)=>{s[o]=a}),i.dispatchEvent(s)}};Pr.EVENTS=Dp(F);Pr.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Pr.EXCLUDED_INTERNAL_EVENTS=[F.EVENT_SCROLLBAR_WIDTH_CHANGED,F.EVENT_CHECKBOX_CHANGED,F.EVENT_HEIGHT_SCALE_CHANGED,F.EVENT_BODY_HEIGHT_CHANGED,F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,F.EVENT_SCROLL_VISIBILITY_CHANGED,F.EVENT_COLUMN_HOVER_CHANGED,F.EVENT_FLASH_CELLS,F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,F.EVENT_DISPLAYED_ROWS_CHANGED,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,F.EVENT_STORE_UPDATED,F.EVENT_COLUMN_PANEL_ITEM_DRAG_START,F.EVENT_COLUMN_PANEL_ITEM_DRAG_END,F.EVENT_FILL_START,F.EVENT_FILL_END,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,F.EVENT_FULL_WIDTH_ROW_FOCUSED,F.EVENT_HEADER_HEIGHT_CHANGED,F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,F.EVENT_CELL_FOCUS_CLEARED,F.EVENT_GRID_STYLES_CHANGED,F.EVENT_FILTER_DESTROYED,F.EVENT_ROW_DATA_UPDATE_STARTED,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,F.EVENT_DATA_TYPES_INFERRED,F.EVENT_FIELD_VALUE_CHANGED,F.EVENT_FIELD_PICKER_VALUE_SELECTED,F.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,F.EVENT_SUPPRESS_MENU_HIDE_CHANGED,F.EVENT_SUPPRESS_FIELD_DOT_NOTATION,F.EVENT_ROW_COUNT_READY,F.EVENT_SIDE_BAR_UPDATED];Pr.PUBLIC_EVENTS=Pr.EVENTS.filter(t=>!Ho(Pr.EXCLUDED_INTERNAL_EVENTS,t));Pr.EVENT_CALLBACKS=Pr.EVENTS.map(t=>Pr.getCallbackForEvent(t));Pr.STRING_PROPERTIES=Ou.STRING_PROPERTIES;Pr.OBJECT_PROPERTIES=Ou.OBJECT_PROPERTIES;Pr.ARRAY_PROPERTIES=Ou.ARRAY_PROPERTIES;Pr.NUMBER_PROPERTIES=Ou.NUMBER_PROPERTIES;Pr.BOOLEAN_PROPERTIES=Ou.BOOLEAN_PROPERTIES;Pr.FUNCTION_PROPERTIES=Ou.FUNCTION_PROPERTIES;Pr.ALL_PROPERTIES=Ou.ALL_PROPERTIES;Pr.ALL_PROPERTIES_AND_CALLBACKS=[...Pr.ALL_PROPERTIES,...Pr.EVENT_CALLBACKS];Pr.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Pr.ALL_PROPERTIES_AND_CALLBACKS);var dx=Pr,C1=class extends Pe{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(t){t&&t.forEach(e=>this.addComponent(e))}addComponent(t){const i=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=t.componentClass}getComponentClass(t){return this.componentsMappedByName[t]}};C1=x([We("agStackComponentsRegistry")],C1);var cte={};bn(cte,{getAriaCheckboxStateName:()=>EO,getAriaLabel:()=>fte,getAriaLevel:()=>rMe,getAriaPosInSet:()=>pte,getAriaSortState:()=>hte,removeAriaExpanded:()=>Cte,removeAriaSort:()=>Rte,setAriaActiveDescendant:()=>f$,setAriaAtomic:()=>gte,setAriaChecked:()=>sMe,setAriaColCount:()=>wte,setAriaColIndex:()=>m$,setAriaColSpan:()=>Ete,setAriaControls:()=>v$,setAriaDescribedBy:()=>nMe,setAriaDisabled:()=>p$,setAriaExpanded:()=>Rc,setAriaHidden:()=>xb,setAriaLabel:()=>Nl,setAriaLabelledBy:()=>hx,setAriaLevel:()=>vte,setAriaLive:()=>h$,setAriaMultiSelectable:()=>yte,setAriaPosInSet:()=>wO,setAriaRelevant:()=>mte,setAriaRole:()=>hr,setAriaRowCount:()=>Ste,setAriaRowIndex:()=>g$,setAriaSelected:()=>Jm,setAriaSetSize:()=>SO,setAriaSort:()=>bte});function Xa(t,e,i){i==null||typeof i=="string"&&i==""?d$(t,e):Qa(t,e,i)}function Qa(t,e,i){t.setAttribute(dte(e),i.toString())}function d$(t,e){t.removeAttribute(dte(e))}function dte(t){return`aria-${t}`}function hr(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function hte(t){let e;return t==="asc"?e="ascending":t==="desc"?e="descending":t==="mixed"?e="other":e="none",e}function rMe(t){return parseInt(t.getAttribute("aria-level"),10)}function pte(t){return parseInt(t.getAttribute("aria-posinset"),10)}function fte(t){return t.getAttribute("aria-label")}function Nl(t,e){Xa(t,"label",e)}function hx(t,e){Xa(t,"labelledby",e)}function nMe(t,e){Xa(t,"describedby",e)}function h$(t,e){Xa(t,"live",e)}function gte(t,e){Xa(t,"atomic",e)}function mte(t,e){Xa(t,"relevant",e)}function vte(t,e){Xa(t,"level",e)}function p$(t,e){Xa(t,"disabled",e)}function xb(t,e){Xa(t,"hidden",e)}function f$(t,e){Xa(t,"activedescendant",e)}function Rc(t,e){Qa(t,"expanded",e)}function Cte(t){d$(t,"expanded")}function SO(t,e){Qa(t,"setsize",e)}function wO(t,e){Qa(t,"posinset",e)}function yte(t,e){Qa(t,"multiselectable",e)}function Ste(t,e){Qa(t,"rowcount",e)}function g$(t,e){Qa(t,"rowindex",e)}function wte(t,e){Qa(t,"colcount",e)}function m$(t,e){Qa(t,"colindex",e)}function Ete(t,e){Qa(t,"colspan",e)}function bte(t,e){Qa(t,"sort",e)}function Rte(t){d$(t,"sort")}function Jm(t,e){Xa(t,"selected",e)}function sMe(t,e){Qa(t,"checked",e===void 0?"mixed":e)}function v$(t,e){Xa(t,"controls",e.id),hx(e,t.id)}function EO(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var Tte={};bn(Tte,{browserSupportsPreventScroll:()=>w$,getBodyHeight:()=>xte,getBodyWidth:()=>Pte,getMaxDivHeight:()=>Dte,getSafariVersion:()=>C$,getScrollbarWidth:()=>Ate,getTabIndex:()=>px,isBrowserChrome:()=>bO,isBrowserFirefox:()=>y$,isBrowserSafari:()=>Mu,isIOSUserAgent:()=>Kc,isInvisibleScrollbar:()=>E$,isMacOsUserAgent:()=>S$});var TL,OT,DL,PL,xL,AL,y1,S1;function Mu(){return TL===void 0&&(TL=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),TL}function C$(){if(OT===void 0)if(Mu()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(OT=t[1]!=null?parseFloat(t[1]):0)}else OT=0;return OT}function bO(){if(DL===void 0){const t=window;DL=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return DL}function y$(){return PL===void 0&&(PL=/(firefox)/i.test(navigator.userAgent)),PL}function S$(){return xL===void 0&&(xL=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),xL}function Kc(){return AL===void 0&&(AL=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),AL}function w$(){return!Mu()||C$()>=15}function px(t){if(!t)return null;const e=t.tabIndex,i=t.getAttribute("tabIndex");return e===-1&&(i===null||i===""&&!y$())?null:e.toString()}function Dte(){if(!document.body)return-1;let t=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const r=t*2;if(i.style.height=r+"px",r>e||i.clientHeight!==r)break;t=r}return document.body.removeChild(i),t}function Pte(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientWidth)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientWidth)||-1}function xte(){var t,e,i;return(i=(t=document.body)==null?void 0:t.clientHeight)!=null?i:window.innerHeight||((e=document.documentElement)==null?void 0:e.clientHeight)||-1}function Ate(){return S1==null&&Ote(),S1}function Ote(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let i=e.offsetWidth-e.clientWidth;i===0&&e.clientWidth===0&&(i=null),e.parentNode&&e.parentNode.removeChild(e),i!=null&&(S1=i,y1=i===0)}function E$(){return y1==null&&Ote(),y1}var Mte={};bn(Mte,{dateToFormattedString:()=>bm,parseDateTimeFromString:()=>qs,serialiseDate:()=>Oa});var Fte={};bn(Fte,{cleanNumber:()=>oMe,createArrayOfNumbers:()=>Ite,decToHex:()=>aMe,formatNumberCommas:()=>b$,formatNumberTwoDecimalPlacesAndCommas:()=>lMe,padStartWidthZeros:()=>Em,sum:()=>uMe});function Em(t,e){return t.toString().padStart(e,"0")}function Ite(t,e){const i=[];for(let r=t;r<=e;r++)i.push(r);return i}function oMe(t){return typeof t=="string"&&(t=parseInt(t,10)),typeof t=="number"?Math.floor(t):null}function aMe(t,e){let i="";for(let r=0;r<e;r++)i+=String.fromCharCode(t&255),t>>>=8;return i}function lMe(t,e,i){return typeof t!="number"?"":b$(Math.round(t*100)/100,e,i)}function b$(t,e,i){return typeof t!="number"?"":t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function uMe(t){return t==null?null:t.reduce((e,i)=>e+i,0)}function Oa(t,e=!0,i="-"){if(!t)return null;let r=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(n=>Em(n,2)).join(i);return e&&(r+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(n=>Em(n,2)).join(":")),r}var OL=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function bm(t,e="YYYY-MM-DD"){const i=Em(t.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>r[t.getMonth()],MMM:()=>r[t.getMonth()].slice(0,3),MM:()=>Em(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${OL(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${OL(t.getDate())}`,DD:()=>Em(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>n[t.getDay()],ddd:()=>n[t.getDay()].slice(0,3),dd:()=>n[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${OL(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return e.replace(o,a=>a in s?s[a]():a)}function qs(t){if(!t)return null;const[e,i]=t.split(" ");if(!e)return null;const r=e.split("-").map(d=>parseInt(d,10));if(r.filter(d=>!isNaN(d)).length!==3)return null;const[n,s,o]=r,a=new Date(n,s-1,o);if(a.getFullYear()!==n||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,u,c]=i.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}var Lte={};bn(Lte,{FOCUSABLE_EXCLUDE:()=>R$,FOCUSABLE_SELECTOR:()=>_te,addOrRemoveAttribute:()=>yu,addStylesToElement:()=>M$,bindCellRendererToHtmlElement:()=>I$,clearElement:()=>Lr,copyNodeList:()=>Hte,ensureDomOrder:()=>A$,formatSize:()=>RO,getAbsoluteHeight:()=>D$,getAbsoluteWidth:()=>Sw,getElementRectWithOffset:()=>P$,getElementSize:()=>fh,getInnerHeight:()=>Ab,getInnerWidth:()=>$f,getScrollLeft:()=>Ew,insertWithDomOrder:()=>Gte,isElementChildOfClass:()=>xp,isFocusableFormField:()=>T$,isHorizontalScrollShowing:()=>kte,isInDOM:()=>x$,isNodeOrElement:()=>Ob,isRtlNegativeScroll:()=>ww,isVerticalScrollShowing:()=>Vte,isVisible:()=>Wo,iterateNamedNodeMap:()=>$te,loadTemplate:()=>Xs,nodeListForEach:()=>F$,radioCssClass:()=>w1,removeFromParent:()=>Sl,setDisabled:()=>ev,setDisplayed:()=>Vt,setDomChildOrder:()=>O$,setElementHeight:()=>cMe,setElementWidth:()=>Rw,setFixedHeight:()=>Ap,setFixedWidth:()=>Ma,setScrollLeft:()=>bw,setVisible:()=>Nte});var MT;function w1(t,e,i){const r=t.parentElement;let n=r&&r.firstChild;for(;n;)e&&n.classList.toggle(e,n===t),i&&n.classList.toggle(i,n!==t),n=n.nextSibling}var _te="[tabindex], input, select, button, textarea, [href]",R$="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function T$(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,r=e.call(t,"input, select, button, textarea"),n=e.call(t,R$),s=Wo(t);return r&&!n&&s}function Vt(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-hidden",!e),r||xb(t,!e)}function Nte(t,e,i={}){const{skipAriaHidden:r}=i;t.classList.toggle("ag-invisible",!e),r||xb(t,!e)}function ev(t,e){const i="disabled",r=e?n=>n.setAttribute(i,""):n=>n.removeAttribute(i);r(t),F$(t.querySelectorAll("input"),n=>r(n))}function xp(t,e,i){let r=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,typeof i=="number"){if(++r>i)break}else if(t===i)break}return!1}function fh(t){const{height:e,width:i,borderTopWidth:r,borderRightWidth:n,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:f,marginLeft:g,boxSizing:m}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m}}function Ab(t){const e=fh(t);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function $f(t){const e=fh(t);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function D$(t){const e=fh(t),i=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+i)}function Sw(t){const e=fh(t),i=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+i)}function P$(t){const e=t.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:r,borderRightWidth:n,borderBottomWidth:s}=fh(t);return{top:e.top+(i||0),left:e.left+(r||0),right:e.right+(n||0),bottom:e.bottom+(s||0)}}function ww(){if(typeof MT=="boolean")return MT;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(t),t.scrollLeft=1,MT=Math.floor(t.scrollLeft)===0,document.body.removeChild(t),MT}function Ew(t,e){let i=t.scrollLeft;return e&&(i=Math.abs(i),bO()&&!ww()&&(i=t.scrollWidth-t.clientWidth-i)),i}function bw(t,e,i){i&&(ww()?e*=-1:(Mu()||bO())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function Lr(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function Sl(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function x$(t){return!!t.offsetParent}function Wo(t){const e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!x$(t)||window.getComputedStyle(t).visibility!=="visible")}function Xs(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function A$(t,e,i){i&&i.nextSibling===e||(i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e))}function O$(t,e){for(let i=0;i<e.length;i++){const r=e[i],n=t.children[i];n!==r&&t.insertBefore(r,n)}}function Gte(t,e,i){i?i.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function M$(t,e){if(e)for(const[i,r]of Object.entries(e)){if(!i||!i.length||r==null)continue;const n=lte(i),s=r.toString(),o=s.replace(/\s*!important/g,""),a=o.length!=s.length?"important":void 0;t.style.setProperty(n,o,a)}}function kte(t){return t.clientWidth<t.scrollWidth}function Vte(t){return t.clientHeight<t.scrollHeight}function Rw(t,e){e==="flex"?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):Ma(t,e)}function Ma(t,e){e=RO(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function cMe(t,e){e==="flex"?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):Ap(t,e)}function Ap(t,e){e=RO(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function RO(t){return typeof t=="number"?`${t}px`:t}function Ob(t){return t instanceof Node||t instanceof HTMLElement}function Hte(t){if(t==null)return[];const e=[];return F$(t,i=>e.push(i)),e}function $te(t,e){if(t)for(let i=0;i<t.length;i++){const r=t[i];e(r.name,r.value)}}function yu(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i.toString())}function F$(t,e){if(t!=null)for(let i=0;i<t.length;i++)e(t[i])}function I$(t,e){t.then(i=>{const r=i.getGui();r!=null&&(typeof r=="object"?e.appendChild(r):e.innerHTML=r)})}var Bte={};bn(Bte,{fuzzyCheckStrings:()=>Wte,fuzzySuggestions:()=>Mb});function Wte(t,e,i){const r={},n=t.filter(s=>!e.some(o=>o===s));return n.length>0&&n.forEach(s=>r[s]=Mb(s,i).values),r}function Mb(t,e,i,r){let n=e.map((a,l)=>({value:a,relevance:dMe(t.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(n.sort((a,l)=>l.relevance-a.relevance),i&&(n=n.filter(a=>a.relevance!==0)),n.length>0&&r&&r>0){const l=n[0].relevance*r;n=n.filter(u=>l-u.relevance<0)}const s=[],o=[];for(const a of n)s.push(a.value),o.push(a.idx);return{values:s,indices:o}}function dMe(t,e){const i=t.replace(/\s/g,""),r=e.replace(/\s/g,"");let n=0,s=-1;for(let o=0;o<i.length;o++){const a=r.indexOf(i[o],s+1);a!==-1&&(s=a,n+=100-s*100/1e4*100)}return n}var Ute={};bn(Ute,{createIcon:()=>fa,createIconNoSpan:()=>ir,iconNameClassMap:()=>zte});var zte={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function fa(t,e,i){const r=ir(t,e,i);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const n=document.createElement("span");return n.appendChild(r),n}function ir(t,e,i,r){let n=null;const s=i&&i.getColDef().icons;if(s&&(n=s[t]),e&&!n){const o=e.get("icons");o&&(n=o[t])}if(n){let o;if(typeof n=="function")o=n();else if(typeof n=="string")o=n;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Xs(o);if(Ob(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=zte[t];return a||(r?a=t:(console.warn(`AG Grid: Did not find icon ${t}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),hr(o,"presentation"),o}}var jte={};bn(jte,{isDeleteKey:()=>qte,isEventFromPrintableCharacter:()=>TO,isUserSuppressingHeaderKeyboardEvent:()=>Kte,isUserSuppressingKeyboardEvent:()=>fx,normaliseQwertyAzerty:()=>Yte});var de=class{};de.BACKSPACE="Backspace";de.TAB="Tab";de.ENTER="Enter";de.ESCAPE="Escape";de.SPACE=" ";de.LEFT="ArrowLeft";de.UP="ArrowUp";de.RIGHT="ArrowRight";de.DOWN="ArrowDown";de.DELETE="Delete";de.F2="F2";de.PAGE_UP="PageUp";de.PAGE_DOWN="PageDown";de.PAGE_HOME="Home";de.PAGE_END="End";de.A="KeyA";de.C="KeyC";de.D="KeyD";de.V="KeyV";de.X="KeyX";de.Y="KeyY";de.Z="KeyZ";var hMe=65,pMe=67,fMe=86,gMe=68,mMe=90,vMe=89;function TO(t){return t.altKey||t.ctrlKey||t.metaKey?!1:t.key.length===1}function fx(t,e,i,r,n){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=t.addGridCommonParams({event:e,editing:n,column:r,node:i,data:i.data,colDef:r.getColDef()});return!!(s&&s(o))}function Kte(t,e,i,r){const n=r.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!Te(s))return!1;const o=t.addGridCommonParams({colDef:n,column:r,headerRowIndex:i,event:e});return!!s(o)}function Yte(t){const{keyCode:e}=t;let i;switch(e){case hMe:i=de.A;break;case pMe:i=de.C;break;case fMe:i=de.V;break;case gMe:i=de.D;break;case mMe:i=de.Z;break;case vMe:i=de.Y;break;default:i=t.code}return i}function qte(t,e=!1){return t===de.DELETE?!0:!e&&t===de.BACKSPACE?S$():!1}var Xte={};bn(Xte,{areEventsNear:()=>L$});function L$(t,e,i){if(i===0)return!1;const r=Math.abs(t.clientX-e.clientX),n=Math.abs(t.clientY-e.clientY);return Math.max(r,n)<=i}var Qte={};bn(Qte,{sortRowNodesByOrder:()=>CMe});function CMe(t,e){if(!t)return!1;const i=(o,a)=>{const l=e[o.id],u=e[a.id],c=l!==void 0,d=u!==void 0,h=c&&d,f=!c&&!d;return h?l-u:f?o.__objectId-a.__objectId:c?1:-1};let r,n,s=!1;for(let o=0;o<t.length-1;o++)if(r=t[o],n=t[o+1],i(r,n)>0){s=!0;break}return s?(t.sort(i),!0):!1}var Zte={};bn(Zte,{convertToSet:()=>_$});function _$(t){const e=new Set;return t.forEach(i=>e.add(i)),e}var yMe=it(it(it(it(it(it(it(it(it(it(it(it(it(it(it(it(it(it({},cte),Yee),Tte),Mte),Lte),Kee),Vee),Bte),Nee),Ute),jte),ute),Xte),Fte),Gee),Qte),Zte),ote),ft=yMe,tv=class{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){const t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}},Tr=class FD{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(i=>this.onDone(i),i=>this.onReject(i))}static all(e){return new FD(i=>{let r=e.length;const n=new Array(r);e.forEach((s,o)=>{s.then(a=>{n[o]=a,r--,r===0&&i(n)})})})}static resolve(e=null){return new FD(i=>i(e))}then(e){return new FD(i=>{this.status===1?i(e(this.resolution)):this.waiters.push(r=>i(e(r)))})}resolveNow(e,i){return this.status===1?i(this.resolution):e}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(i=>i(e))}onReject(e){console.warn("TBI")}},Fb=class{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(r=>this.addCssClass(r));return}if(this.cssClassStates[t]!==!0&&t.length){const r=this.getGui();r&&r.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(r=>this.removeCssClass(r));return}if(this.cssClassStates[t]!==!1&&t.length){const r=this.getGui();r&&r.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){const e=this.getGui();return e?e.classList.contains(t):!1}addOrRemoveCssClass(t,e){if(!t)return;if(t.indexOf(" ")>=0){const r=(t||"").split(" ");if(r.length>1){r.forEach(n=>this.addOrRemoveCssClass(n,e));return}}if(this.cssClassStates[t]!==e&&t.length){const r=this.getGui();r&&r.classList.toggle(t,e),this.cssClassStates[t]=e}}},Ib=class Yh extends Pe{constructor(e,i,r,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=n,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===0&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===1&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const i=this.gridOptionsService.get(e);return i<0&&ct(`${e} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(e){var i,r;return e==="show"?(i=this.tooltipShowDelayOverride)!=null?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(r=this.tooltipHideDelayOverride)!=null?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Kc()&&(Yh.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const r=e.relatedTarget,n=this.parentComp.getGui(),s=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Yh.isLocked)return;let i=0;e&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const e=new Date().getTime(),i=Yh.lastTooltipHideTime;return e-i<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=it({},this.parentComp.getTooltipParams());if(!Te(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),Yh.lastTooltipHideTime=new Date().getTime());const i={type:F.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=0}newTooltipComponentCallback(e,i){if(this.state!==2||this.tooltipInstanceCount!==e){this.getContext().destroyBean(i);return}const n=i.getGui();this.tooltipComp=i,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===0?(this.tooltipMouseEnterListener=this.addManagedListener(n,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(n,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(n,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(n,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:F.EVENT_TOOLTIP_SHOW,tooltipGui:n,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var i;const r=this.parentComp.getGui(),n=(i=this.tooltipComp)==null?void 0:i.getGui(),s=e.relatedTarget;n!=null&&n.contains(s)||(this.isInteractingWithTooltip=!1,r.contains(s)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Ui(it({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Ui(it({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,i=this.tooltipComp,r=this.tooltipTrigger===0?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{e(),this.getContext().destroyBean(i)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Yh.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){Yh.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Ib.isLocked=!1;x([V("popupService")],Ib.prototype,"popupService",2);x([V("userComponentFactory")],Ib.prototype,"userComponentFactory",2);x([Me],Ib.prototype,"postConstruct",1);var SMe=Ib,Yc=class extends Pe{constructor(t,e){super(),this.ctrl=t,e&&(this.beans=e)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){const e="title",i=this.ctrl.getGui();i&&(t!=null&&t!=""?i.setAttribute(e,t):i.removeAttribute(e))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,e,i,r;if(this.tooltipManager!=null)return;const n={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new SMe(n,(e=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:e.call(t),(r=(i=this.ctrl).getTooltipHideDelayOverride)==null?void 0:r.call(i),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const t=this.ctrl,e=t.getColumn?t.getColumn():void 0,i=t.getColDef?t.getColDef():void 0,r=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:i,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:r,data:r?r.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0,hideTooltipCallback:()=>{var n;return(n=this.tooltipManager)==null?void 0:n.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};x([V("beans")],Yc.prototype,"beans",2);x([Me],Yc.prototype,"postConstruct",1);var wMe=new tv,Lb=class E1 extends Pe{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=wMe.next(),this.cssClassManager=new Fb(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:i,showDelayOverride:r,hideDelayOverride:n,location:s,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new Yc({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getTooltipShowDelayOverride:r!=null?()=>r:void 0,getTooltipHideDelayOverride:n!=null?()=>n:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(e,i){Hte(e.childNodes).forEach(n=>{if(!(n instanceof HTMLElement))return;const s=this.createComponentFromElement(n,o=>{o.getGui()&&this.copyAttributesFromNode(n,o.getGui())},i);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,i);const o=Array.prototype.slice.call(n.children);s.addItems(o)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,i)})}createComponentFromElement(e,i,r){const n=e.nodeName,s=r?r[e.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(n);if(o){E1.elementGettingCreated=e;const a=new o(s);return a.setParentComponent(this),this.createBean(a,null,i),a}return null}copyAttributesFromNode(e,i){$te(e.attributes,(r,n)=>i.setAttribute(r,n))}swapComponentForNode(e,i,r){const n=e.getGui();i.replaceChild(n,r),i.insertBefore(document.createComment(r.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)}swapInComponentForQuerySelectors(e,i){const r=this;this.iterateOverQuerySelectors(n=>{r[n.attributeName]===i&&(r[n.attributeName]=e)})}iterateOverQuerySelectors(e){let i=Object.getPrototypeOf(this);for(;i!=null;){const r=i.__agComponentMetaData,n=gO(i.constructor);r&&r[n]&&r[n].querySelectors&&r[n].querySelectors.forEach(s=>e(s)),i=Object.getPrototypeOf(i)}}activateTabIndex(e){const i=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(r=>r.setAttribute("tabindex",i.toString()))}setTemplate(e,i){const r=Xs(e);this.setTemplateFromElement(r,i)}setTemplateFromElement(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(i=>{const r=s=>e[i.attributeName]=s;if(i.refSelector&&this.getAttribute("ref")===i.refSelector)r(this.eGui);else{const s=this.eGui.querySelector(i.querySelector);s&&r(s.__agComponent||s)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,i){if(e!=null)if(i||(i=this.eGui),Ob(e))i.appendChild(e);else{const r=e;i.appendChild(r.getGui())}}isDisplayed(){return this.displayed}setVisible(e,i={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:r}=i;Nte(this.eGui,e,{skipAriaHidden:r})}}setDisplayed(e,i={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:r}=i;Vt(this.eGui,e,{skipAriaHidden:r});const n={type:E1.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,i,r){this.eGui.addEventListener(e,i,r),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,i))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)}getAttribute(e){const{eGui:i}=this;return i?i.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};Lb.EVENT_DISPLAYED_CHANGED="displayedChanged";x([V("agStackComponentsRegistry")],Lb.prototype,"agStackComponentsRegistry",2);x([Wee],Lb.prototype,"preConstructOnComponent",1);x([Wee],Lb.prototype,"createChildComponentsPreConstruct",1);var Et=Lb;function ke(t){return EMe.bind(this,`[ref=${t}]`,t)}function EMe(t,e,i,r,n){if(t===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof n=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}bMe(i,"querySelectors",{attributeName:r,querySelector:t,refSelector:e})}function bMe(t,e,i){const r=RMe(t,gO(t.constructor));r[e]||(r[e]=[]),r[e].push(i)}function RMe(t,e){return t.__agComponentMetaData||(t.__agComponentMetaData={}),t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={}),t.__agComponentMetaData[e]}var N$=class extends Et{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(e=>{if(e.getModelAsString){const i=e.getModelAsString(t);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}};x([ke("eFloatingFilterText")],N$.prototype,"eFloatingFilterText",2);x([V("columnModel")],N$.prototype,"columnModel",2);var Jte=class{constructor(t,e,i,r){this.alive=!0,this.context=t,this.eParent=r,e.getDateCompDetails(i).newAgStackInstance().then(o=>{if(!this.alive){t.destroyBean(o);return}this.dateComp=o,o&&(r.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached(),this.tempValue&&o.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){Vt(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)}updateParams(t){var e,i;let r=!1;(e=this.dateComp)!=null&&e.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(t)!==null&&(r=!0),!r&&((i=this.dateComp)!=null&&i.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(t)!==null&&ct("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)}},eie=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(t=>{if(typeof t=="string")return;const e=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(n=>t[n]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${r}'`),!1);if(!e.every(i)){this.filterOptions=this.filterOptions.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}},tie={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},DO=class iie extends Pe{constructor(e,i={}){super(),this.eFocusableElement=e,this.callbacks=i,this.callbacks=it({shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;const n=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);n&&(n.focus(),r.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(iie.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",i=>{if(!(i.defaultPrevented||Dl(i))){if(this.callbacks.shouldStopEventPropagation(i)){_l(i);return}i.key===de.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}};DO.FOCUS_MANAGED_CLASS="ag-focus-managed";x([V("focusService")],DO.prototype,"focusService",2);x([Me],DO.prototype,"postConstruct",1);var gh=DO,rie="ag-resizer-wrapper",TMe=`<div class="${rie}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,tC=class extends Pe{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent,i=e/2-this.getWidth()/2,r=t/2-this.getHeight()/2;this.offsetElement(i,r)}initialisePosition(){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:i,width:r,minHeight:n,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const c=Wo(this.element);if(c){const d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){const f=d.offsetWidth-this.element.offsetWidth;u=parseInt(h.minWidth,10)-f}if(h.minHeight!=null){const f=d.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-f}}if(this.minHeight=n||l,this.minWidth=i||u,r&&this.setWidth(r),s&&this.setHeight(s),(!r||!s)&&this.refreshSize(),t)this.center();else if(o||a)this.offsetElement(o,a);else if(c&&e){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){const f=parseFloat(d.style.top),g=parseFloat(d.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(f)?0:f):this.setPosition(g,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;const i=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{const r=!!t[e],n=this.getResizerElement(e),s={dragStartPixels:0,eElement:n,onDragStart:o=>this.onResizeStart(o,e),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,e)};(r||!this.isAlive()&&!r)&&(r?(this.dragService.addDragSource(s),this.resizeListeners.push(s),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[e]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;e!==-1&&(this.element.style.width=`${e}px`),t!==-1&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config,i=this.element;let r=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Ap(i,t),t=D$(i),r=!0;else if(t=Math.max(this.minHeight,t),this.positioned){const n=this.getAvailableHeight();n&&t>n&&(t=n)}this.getHeight()!==t&&(r?(i.style.maxHeight="unset",i.style.minHeight="unset"):e?Ap(i,t):(i.style.height=`${t}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),s=t?this.position.y:r.top,o=t?0:n.top;let a=0;if(e){const u=this.element.parentElement;if(u){const{bottom:c}=u.getBoundingClientRect();a=c-r.bottom}}return i+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element,{popup:i}=this.config;let r=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Ma(e,t),t=Sw(e),r=!0;else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:n}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;n&&t+s>n&&(t=n-s)}this.getWidth()!==t&&(r?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?Ma(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:i}=this.config,r=i?this.boundaryEl:this.element;r&&(this.popupService.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(t){if(!this.config.forcePopupParentAsOffsetParent)return;const e=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),e):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:i,isTop:r,anywhereWithin:n,topBuffer:s}=t,o=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y,l=this.shouldSkipX(e,!!i,!!n,o)?0:o,u=this.shouldSkipY(e,!!r,s,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(t,e,i,r){const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left;let l=a<=0&&s.left>=t.clientX||s.right<=t.clientX&&s.right<=o.right;return l?!0:(e?l=r<0&&t.clientX>a+s.left||r>0&&t.clientX<a+s.left:i?l=r<0&&t.clientX>o.right||r>0&&t.clientX<a+s.left:l=r<0&&t.clientX>o.right||r>0&&t.clientX<o.right,l)}shouldSkipY(t,e,i=0,r){const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top;let l=a<=0&&s.top>=t.clientY||s.bottom<=t.clientY&&s.bottom<=o.bottom;return l?!0:(e?l=r<0&&t.clientY>a+s.top+i||r>0&&t.clientY<a+s.top:l=r<0&&t.clientY>o.bottom||r>0&&t.clientY<o.bottom,l)}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const t=this.element;if(!t)return;const i=new DOMParser().parseFromString(TMe,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${rie}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:r}=this.config;!i&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0,i=0;for(let r=0;r<t.length;r++){const n=t[r],s=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(n);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=n.offsetHeight,a=n.offsetWidth;e+=o,i+=a}return{height:e,width:i}}applySizeToSiblings(t){let e=null;const i=this.getSiblings();if(i){for(let r=0;r<i.length;r++){const n=i[r];n!==e&&(t?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(e=i[r+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;const{popup:e,forcePopupParentAsOffsetParent:i}=this.config,{isTop:r,isRight:n,isBottom:s,isLeft:o}=this.currentResizer,a=n||o,l=s||r,{movementX:u,movementY:c}=this.calculateMouseMovement({e:t,isLeft:o,isTop:r}),d=this.position.x,h=this.position.y;let f=0,g=0;if(a&&u){const m=o?-1:1,C=this.getWidth(),S=C+u*m;let y=!1;o&&(f=C-S,(d+f<=0||S<=this.minWidth)&&(y=!0,f=0)),y||this.setWidth(S)}if(l&&c){const m=r?-1:1,C=this.getHeight(),S=C+c*m;let y=!1;r?(g=C-S,(h+g<=0||S<=this.minHeight)&&(y=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(y=!0),y||this.setHeight(S)}this.updateDragStartPosition(t.clientX,t.clientY),((e||i)&&f||g)&&this.offsetElement(d+f,h+g)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const i={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(i)}refreshSize(){const t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;const{x:e,y:i}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:n,movementY:s}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(e+n,i+s),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};x([V("popupService")],tC.prototype,"popupService",2);x([V("resizeObserverService")],tC.prototype,"resizeObserverService",2);x([V("dragService")],tC.prototype,"dragService",2);var PO=class Ky extends Et{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new gh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new tC(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);const r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(r,e),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Ky.isUseApplyButton(e),this.resetButtonsPanel()}updateParams(e){this.providedFilterParams=e,this.applyActive=Ky.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:e}=this.providedFilterParams,i=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Lr(this.eButtonsPanel),this.buttonListeners.forEach(s=>s==null?void 0:s()),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&Sl(this.eButtonsPanel);return}const r=document.createDocumentFragment(),n=s=>{let o,a;switch(s){case"apply":o=this.translate("applyFilter"),a=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),a=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),a=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),a=c=>{this.onBtCancel(c)};break;default:console.warn("AG Grid: Unknown button type specified");return}const u=Xs(`<button
                    type="${s==="apply"?"submit":"button"}"
                    ref="${s}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);this.buttonListeners.push(this.addManagedListener(u,"click",a)),r.append(u)};_$(e).forEach(s=>n(s)),this.eButtonsPanel.append(r),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Ky.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Cs(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,i){const r=()=>{this.onUiChanged(!1,"prevent"),i==null||i()};e!=null?this.setModelIntoUi(e).then(r):this.resetUiToDefaults().then(r)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const i=this.getModelFromUi();if(!this.isModelValid(i))return!1;const r=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(r,i)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,i=!1,r){r&&r.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!i&&this.close(r)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e,r=i&&i.key;let n;(r==="Enter"||r==="Space")&&(n={keyboardEvent:i}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const r=this.isModelValid(this.getModelFromUi()),n=this.getRefElement("applyFilterButton");n&&ev(n,!r)}e&&!i||i==="immediately"?this.onBtApply(e):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const i=e==="floatingFilter"||e==="columnFilter",{positionableFeature:r,gridOptionsService:n}=this;i?(r.restoreLastSize(),r.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,i){return Ky.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:i}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}refresh(e){return this.providedFilterParams=e,!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,tie[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}};x([V("rowModel")],PO.prototype,"rowModel",2);x([ke("eFilterBody")],PO.prototype,"eFilterBody",2);x([Me],PO.prototype,"postConstruct",1);var gx=PO,G$=class extends Et{constructor(t,e){super(e),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:i,labelAlignment:r,disabled:n}=this.config;n!=null&&this.setDisabled(n),t!=null&&this.setLabelSeparator(t),e!=null&&this.setLabel(e),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){Lr(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Vt(this.eLabel,!1),hr(this.eLabel,"presentation")):(Vt(this.eLabel,!0),hr(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)}setLabelAlignment(t){const i=this.getGui().classList;return i.toggle("ag-label-align-left",t==="left"),i.toggle("ag-label-align-right",t==="right"),i.toggle("ag-label-align-top",t==="top"),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return this.label==null?this:(Rw(this.eLabel,t),this)}setDisabled(t){t=!!t;const e=this.getGui();return ev(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}};x([Me],G$.prototype,"postConstruct",1);var nie=class extends G${constructor(t,e,i){super(t,e),this.className=i}postConstruct(){super.postConstruct();const{width:t,value:e,onValueChange:i}=this.config;t!=null&&this.setWidth(t),e!=null&&this.setValue(e),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const t=this.getAriaElement(),e=this.getLabelId();fte(t)!==null?hx(t,""):hx(t,e??"")}setAriaLabel(t){return Nl(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this}onValueChange(t){return this.addManagedListener(this,F.EVENT_FIELD_VALUE_CHANGED,()=>t(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return Ma(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){return this.value===t?this:(this.previousValue=this.value,this.value=t,e||this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED}),this)}},DMe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Bf=class extends nie{constructor(t){if(super(t,(t==null?void 0:t.template)||DMe,t==null?void 0:t.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=t==null?void 0:t.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!t)return;const{pickerGap:e,maxPickerHeight:i,variableWidth:r,minPickerWidth:n,maxPickerWidth:s}=t;e!=null&&(this.pickerGap=e),this.variableWidth=!!r,i!=null&&this.setPickerMaxHeight(i),n!=null&&this.setPickerMinWidth(n),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);const e=this.getAriaElement();this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:i,inputWidth:r}=this.config;if(i){const n=ir(i,this.gridOptionsService);n&&this.eIcon.appendChild(n)}r!=null&&this.setInputWidth(r)}setupAria(){const t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Rc(t,!1),this.ariaRole&&hr(t,this.ariaRole)}onLabelOrWrapperMouseDown(t){if(t){const e=this.getFocusableElement();if(e!==this.eWrapper&&(t==null?void 0:t.target)===e)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(t){switch(t.key){case de.UP:case de.DOWN:case de.ENTER:case de.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case de.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const t=this.gridOptionsService.getDocument(),e=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:r,pickerAriaLabelValue:n,modalPicker:s=!0}=this.config,o={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const f=t.activeElement===t.body;this.beforeHidePicker(),f&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(r,n)},a=this.popupService.addPopup(o),{maxPickerHeight:l,minPickerWidth:u,maxPickerWidth:c,variableWidth:d}=this;d?(u&&(e.style.minWidth=u),e.style.width=RO(Sw(this.eWrapper)),c&&(e.style.maxWidth=c)):Rw(e,c??Sw(this.eWrapper));const h=l??`${Ab(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",h),e.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:t}=this.config,{pickerGap:e}=this,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(t){if(!this.isAlive())return;const e=this.getAriaElement();Rc(e,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(t){var e;(e=this.pickerComponent)!=null&&e.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(t){return Rw(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}setPickerGap(t){return this.pickerGap=t,this}setPickerMinWidth(t){return typeof t=="number"&&(t=`${t}px`),this.minPickerWidth=t??void 0,this}setPickerMaxWidth(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerWidth=t??void 0,this}setPickerMaxHeight(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerHeight=t??void 0,this}destroy(){this.hidePicker(),super.destroy()}};x([V("popupService")],Bf.prototype,"popupService",2);x([ke("eLabel")],Bf.prototype,"eLabel",2);x([ke("eWrapper")],Bf.prototype,"eWrapper",2);x([ke("eDisplayField")],Bf.prototype,"eDisplayField",2);x([ke("eIcon")],Bf.prototype,"eIcon",2);var xO=class ID extends Et{constructor(e="default",i=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=i,this.options=[],this.itemEls=[]}init(){const e=this.getGui();this.addManagedListener(e,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(e,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const i=e.key;switch(i){case de.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case de.DOWN:case de.UP:const r=i===de.DOWN;let n;if(e.preventDefault(),!this.highlightedEl)n=this.itemEls[r?0:this.itemEls.length-1];else{let o=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),n=this.itemEls[o]}this.highlightItem(n);break}}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){const{value:i,text:r}=e,n=r||i;return this.options.push({value:i,text:n}),this.renderOption(i,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Sl(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((i,r)=>{wO(i,r+1),SO(i,e.length)})}renderOption(e,i){const r=this.gridOptionsService.getDocument(),n=r.createElement("div");hr(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const s=r.createElement("span");n.appendChild(s),s.innerText=i,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListener(n,"mousemove",()=>this.highlightItem(n)),this.addManagedListener(n,"mousedown",o=>{o.preventDefault(),this.setValue(e)}),this.createManagedBean(new Yc({getTooltipValue:()=>i,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})),this.getGui().appendChild(n)}setValue(e,i){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(i),this;const r=this.options.findIndex(n=>n.value===e);if(r!==-1){const n=this.options[r];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[r]),i||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(i=>i.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Wo(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(ID.ACTIVE_CLASS),Jm(this.highlightedEl,!0);const i=this.getGui(),r=i.getBoundingClientRect(),n=r.top+i.scrollTop,s=r.height,{offsetTop:o,offsetHeight:a}=e;(o+a>n+s||o<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Wo(this.highlightedEl)||(this.highlightedEl.classList.remove(ID.ACTIVE_CLASS),Jm(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:ID.EVENT_ITEM_SELECTED})}};xO.EVENT_ITEM_SELECTED="selectedItem";xO.ACTIVE_CLASS="ag-active-item";x([Me],xO.prototype,"init",1);var FK=xO,sie=class oie extends Bf{constructor(e){super(it({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{options:e,value:i,placeholder:r}=this.config;e!=null&&this.addOptions(e),i!=null&&this.setValue(i,!0),r&&i==null&&(this.eDisplayField.textContent=r),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new FK("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",i),v$(this.getAriaElement(),e),this.listComponent.addManagedListener(this.listComponent,FK.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:oie.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,F.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:r}=e;r===de.TAB?this.hidePicker():!this.isPickerDisplayed||r!==de.ENTER&&r!==de.UP&&r!==de.DOWN?super.onKeyDown(e):(i=this.listComponent)==null||i.handleKeyDown(e)}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,i,r){if(this.value===e||!this.listComponent)return this;if(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return s==null&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.innerHTML=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,i)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};sie.EVENT_ITEM_SELECTED="selectedItem";var AO=sie,wl=class extends nie{constructor(t,e,i="text",r="input"){super(t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${r} ref="eInput" class="ag-input-field-input"></${r}>
                </div>
            </div>`,e),this.inputType=i,this.displayFieldTag=r}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:t,inputWidth:e}=this.config;t!=null&&this.setInputName(t),e!=null&&this.setInputWidth(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>this.setValue(t.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return Rw(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){const e=this.eInput;return e.maxLength=t,this}setInputPlaceholder(t){return yu(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return Nl(this.eInput,t),this.refreshAriaLabelledBy(),this}setDisabled(t){return ev(this.eInput,t),super.setDisabled(t)}setAutoComplete(t){if(t===!0)yu(this.eInput,"autocomplete",null);else{const e=typeof t=="string"?t:"off";yu(this.eInput,"autocomplete",e)}return this}};x([ke("eLabel")],wl.prototype,"eLabel",2);x([ke("eWrapper")],wl.prototype,"eWrapper",2);x([ke("eInput")],wl.prototype,"eInput",2);var OO=class extends wl{constructor(t,e="ag-checkbox",i="checkbox"){super(t,e,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:t,passive:e}=this.config;typeof t=="boolean"&&this.setReadOnly(t),typeof e=="boolean"&&this.setPassive(e)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;const t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){const e=this.getInputElement();return e.name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,i){this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:e,event:i});const r=this.getInputElement(),n={type:F.EVENT_CHECKBOX_CHANGED,id:r.id,name:r.name,selected:t,previousValue:e};this.eventService.dispatchEvent(n)}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;const e=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)}},aie=class extends OO{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,F.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}},k$=class{constructor(t,e,i){this.localeService=t,this.optionsFactory=e,this.valueFormatter=i}getModelAsString(t){if(!t)return null;const e=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(e){const r=t;let{conditions:n}=r;if(!n){const{condition1:a,condition2:l}=r;n=[a,l]}const s=n.map(a=>this.getModelAsString(a)),o=r.operator==="AND"?"andCondition":"orCondition";return s.join(` ${i(o,tie[o])} `)}else{if(t.type===lr.BLANK||t.type===lr.NOT_BLANK)return i(t.type,t.type);{const r=t,n=this.optionsFactory.getCustomOption(r.type),{displayKey:s,displayName:o,numberOfInputs:a}=n||{};return s&&o&&a===0?(i(s,o),o):this.conditionToString(r,n)}}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){var e;return this.valueFormatter?(e=this.valueFormatter(t??null))!=null?e:"":String(t)}},Os=class Gg extends gx{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const i=this.optionsFactory.getCustomOption(e);if(i){const{numberOfInputs:n}=i;return n??1}const r=[Gg.EMPTY,Gg.NOT_BLANK,Gg.BLANK];return e&&r.indexOf(e)>=0?0:e===Gg.IN_RANGE?2:1}onFloatingFilterChanged(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((i,r)=>{r===0?i.setValue(e,!0):i.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;const r=!e.operator,n=!i.operator;if(!r&&n||r&&!n)return!1;let o;if(r){const a=e,l=i;o=this.areSimpleModelsEqual(a,l)}else{const a=e,l=i;o=a.operator===l.operator&&hu(a.conditions,l.conditions,(u,c)=>this.areSimpleModelsEqual(u,c))}return o}shouldRefresh(e){var i,r,n;const s=this.getModel(),o=s?(i=s.conditions)!=null?i:[s]:null,a=(n=(r=e.filterOptions)==null?void 0:r.map(u=>typeof u=="string"?u:u.displayKey))!=null?n:this.getDefaultFilterOptions();return!(!(!o||o.every(u=>a.find(c=>c===u.type)!==void 0))||typeof e.maxNumConditions=="number"&&o&&o.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let r=e;r.conditions||(r.conditions=[r.condition1,r.condition2]);const n=this.validateAndUpdateConditions(r.conditions),s=this.getNumConditions();if(n<s)this.removeConditionsAndOperators(n);else if(n>s)for(let a=s;a<n;a++)this.createJoinOperatorPanel(),this.createOption();const o=r.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),r.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Tr.resolve()}validateAndUpdateConditions(e){let i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),ct('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(e){var i;const r=this.getModel();if(r==null)return!0;const{operator:n}=r,s=[];if(n){const a=r;s.push(...(i=a.conditions)!=null?i:[])}else s.push(r);return s[n&&n==="OR"?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new eie,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var i,r;e.suppressAndOrCondition!=null&&ct('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&ct('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(i=e.maxNumConditions)!=null?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(ct('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=e.numAlwaysVisibleConditions)!=null?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(ct('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ct('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new AO);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);const r=this.getNumConditions()-1;this.forEachPositionInput(r,n=>this.resetInput(n)),this.addChangedListeners(e,r)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(i,n,s),this.resetJoinOperatorOr(r,n,s),this.isReadOnly()||(i.onValueChange(this.listener),r.onValueChange(this.listener))}createJoinOperator(e,i,r){const n=this.createManagedBean(new aie);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${r}`),i.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(i=>typeof i=="string"?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(i=>{e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:i}=e,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let i=-1,r=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?i=n:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{const n=(e=this.lastUiCompletePosition)!=null?e:this.getNumConditions()-2;if(i<n){this.removeConditionsAndOperators(n+1);const s=i+1,o=n-s;o>0&&this.removeConditionsAndOperators(s,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(e,i){this.eTypes.forEach((n,s)=>{const o=this.isConditionDisabled(s,e);n.setDisabled(o||this.filterListOptions.length<=1),s===1&&(ev(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((n,s)=>{Vt(n,this.isConditionBodyVisible(s))});const r=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((n,s)=>{n.setValue(!r,!0)}),this.eJoinOperatorsOr.forEach((n,s)=>{n.setValue(r,!0)}),this.forEachInput((n,s,o,a)=>{this.setElementDisplayed(n,s<a),this.setElementDisabled(n,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,i){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);const r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,i),this.removeComponents(this.eJoinOperatorsAnd,r,i),this.removeComponents(this.eJoinOperatorsOr,r,i)}removeElements(e,i,r){this.removeItems(e,i,r).forEach(s=>Sl(s))}removeComponents(e,i,r){this.removeItems(e,i,r).forEach(s=>{Sl(s.getGui()),this.destroyBean(s)})}removeItems(e,i,r){return r==null?e.splice(i):e.splice(i,r)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const i=this.getInputs(0)[0];if(!i)return;i instanceof wl&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let i=-1,r=-1,n=!1;const s=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))i===-1&&(i=a,r=a);else{const l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<i;(l||u)&&(this.removeConditionsAndOperators(a,1),n=!0,u&&r--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(r,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r}getPlaceholderText(e,i){let r=this.translate(e);if(mO(this.filterPlaceholder)){const n=this.filterPlaceholder,s=this.eTypes[i].getValue(),o=this.translate(s);r=n({filterOptionKey:s,filterOption:o,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((i,r,n,s)=>{if(!(i instanceof wl))return;const o=r===0&&s>1?"inRangeStart":r===0?"filterOoo":"inRangeEnd",a=r===0&&s>1?e("ariaFilterFromValue","Filter from value"):r===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(o,n)),i.setInputAriaLabel(a)})}setElementValue(e,i,r){e instanceof wl&&e.setValue(i!=null?String(i):null,!0)}setElementDisplayed(e,i){e instanceof Et&&Vt(e.getGui(),i)}setElementDisabled(e,i){e instanceof Et&&ev(e.getGui(),i)}attachElementOnChange(e,i){e instanceof wl&&e.onValueChange(i)}forEachInput(e){this.getConditionTypes().forEach((i,r)=>{this.forEachPositionTypeInput(r,i,e)})}forEachPositionInput(e,i){const r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,i)}forEachPositionTypeInput(e,i,r){const n=this.getNumberOfInputs(i),s=this.getInputs(e);for(let o=0;o<s.length;o++){const a=s[o];a!=null&&r(a,o,e,n)}}isConditionDisabled(e,i){return this.isReadOnly()?!0:e===0?!1:e>i+1}isConditionBodyVisible(e){const i=this.getConditionType(e);return this.getNumberOfInputs(i)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===Gg.EMPTY||this.getValues(e).some(r=>r==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,r)=>this.resetJoinOperatorAnd(i,r,this.joinOperatorId+r)),this.eJoinOperatorsOr.forEach((i,r)=>this.resetJoinOperatorOr(i,r,this.joinOperatorId+r)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Tr.resolve()}resetType(e){const r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),r)}resetJoinOperatorOr(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),r)}resetJoinOperator(e,i,r,n,s){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i)),this.eJoinOperatorsOr.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i))}updateJoinOperatorDisabled(e,i){e.setDisabled(this.isReadOnly()||i>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,i){const r=this.mapValuesFromModel(e);this.forEachInput((n,s,o,a)=>{o===i&&this.setElementValue(n,r[s]!=null?r[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((i,r,n,s)=>{this.setElementValue(i,r===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,i){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,r=>{this.attachElementOnChange(r,this.listener)}))}individualConditionPasses(e,i){const r=this.getCellValue(e.node),n=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type),o=this.evaluateCustomFilter(s,n,r);return o??(r==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(n,r,i,e))}evaluateCustomFilter(e,i,r){if(e==null)return;const{predicate:n}=e;if(n!=null&&!i.some(s=>s==null))return n(i,r)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}};Os.EMPTY="empty";Os.BLANK="blank";Os.NOT_BLANK="notBlank";Os.EQUALS="equals";Os.NOT_EQUAL="notEqual";Os.LESS_THAN="lessThan";Os.LESS_THAN_OR_EQUAL="lessThanOrEqual";Os.GREATER_THAN="greaterThan";Os.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";Os.IN_RANGE="inRange";Os.CONTAINS="contains";Os.NOT_CONTAINS="notContains";Os.STARTS_WITH="startsWith";Os.ENDS_WITH="endsWith";var lr=Os,Hr=class en extends lr{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case en.EQUALS:case en.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case en.GREATER_THAN:case en.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case en.LESS_THAN:case en.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case en.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case en.BLANK:return!0;case en.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,i,r){const n=this.comparator(),s=e[0]!=null?n(e[0],i):0;switch(r.type){case en.EQUALS:return s===0;case en.NOT_EQUAL:return s!==0;case en.GREATER_THAN:return s>0;case en.GREATER_THAN_OR_EQUAL:return s>=0;case en.LESS_THAN:return s<0;case en.LESS_THAN_OR_EQUAL:return s<=0;case en.IN_RANGE:{const o=n(e[1],i);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case en.BLANK:return this.isBlank(i);case en.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},IK=1e3,LK=1/0,lie=class extends k${constructor(t,e,i){super(e,i),this.dateFilterParams=t}conditionToString(t,e){const{type:i}=t,{numberOfInputs:r}=e||{},n=i==lr.IN_RANGE||r===2,s=qs(t.dateFrom),o=qs(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){const l=s!==null?bm(s,a):"null",u=o!==null?bm(o,a):"null";return`${l}-${u}`}return s!=null?bm(s,a):`${i}`}updateParams(t){super.updateParams(t),this.dateFilterParams=t.dateFilterParams}},V$=class uie extends Hr{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=IK,this.maxValidYear=LK,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:i,dateTo:r,type:n}=e||{};return[i&&qs(i)||null,r&&qs(r)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,i){const r=i;return i==null||r<e?-1:r>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const i=(r,n)=>{if(e[r]!=null)if(isNaN(e[r]))console.warn(`AG Grid: DateFilter ${r} is not a number`);else return e[r]==null?n:Number(e[r]);return n};this.minValidYear=i("minValidYear",IK),this.maxValidYear=i("maxValidYear",LK),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:qs(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:qs(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new lie(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const i=new Jte(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,i){e.setDate(i)}setElementDisplayed(e,i){e.setDisplayed(i)}setElementDisabled(e,i){e.setDisabled(i)}getDefaultFilterOptions(){return uie.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,i,r,n){const s=document.createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),i.push(s),e.appendChild(s),r.push(this.createDateCompWrapper(s))}removeValueElements(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)}removeDateComps(e,i,r){this.removeItems(e,i,r).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let i=!0;return this.forEachInput((r,n,s,o)=>{s!==e||!i||n>=o||(i=i&&this.isValidDateValue(r.getDate()))}),i}areSimpleModelsEqual(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type}getFilterType(){return"date"}createCondition(e){const i=this.getConditionType(e),r={},n=this.getValues(e);return n.length>0&&(r.dateFrom=Oa(n[0])),n.length>1&&(r.dateTo=Oa(n[1])),it({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},r)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(i),n.setInputAriaLabel(r)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(r.getDate())}),i}translate(e){return e===Hr.LESS_THAN?super.translate("before"):e===Hr.GREATER_THAN?super.translate("after"):super.translate(e)}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};V$.DEFAULT_FILTER_OPTIONS=[Hr.EQUALS,Hr.NOT_EQUAL,Hr.LESS_THAN,Hr.GREATER_THAN,Hr.IN_RANGE,Hr.BLANK,Hr.NOT_BLANK];x([V("userComponentFactory")],V$.prototype,"userComponentFactory",2);var cie=V$,die=class extends Et{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t==null?void 0:t.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}const e=t.operator;let i;e?i=t.conditions[0]:i=t,this.lastType=i.type}canWeEditAfterModelFromParentFilter(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;const i=t;return this.isTypeEditable(i.type)}init(t){this.setSimpleParams(t,!1)}setSimpleParams(t,e=!0){this.optionsFactory=new eie,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t),{numberOfInputs:i}=e||{};return i==null||i==1}isTypeEditable(t){const e=[lr.IN_RANGE,lr.EMPTY,lr.BLANK,lr.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}},MO=class extends die{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return cie.DEFAULT_FILTER_OPTIONS}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new lie(this.filterParams,this.localeService,this.optionsFactory);const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){const e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(e),e){if(t){const i=t;this.dateComp.setDate(qs(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}setEditable(t){Vt(this.eDateWrapper,t),Vt(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(super.setLastTypeFromModel(t),this.updateCompOnModelChange(t))}onDateChanged(){const t=this.dateComp.getDate(),e=Oa(t);this.params.parentFilterInstance(i=>{if(i){const r=qs(e);i.onFloatingFilterChanged(this.getLastType()||null,r)}})}getDateComponentParams(){const t=gx.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Cs(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new Jte(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const t=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}};x([V("userComponentFactory")],MO.prototype,"userComponentFactory",2);x([ke("eReadOnlyText")],MO.prototype,"eReadOnlyText",2);x([ke("eDateWrapper")],MO.prototype,"eDateWrapper",2);var hie=class extends Et{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(t){this.params=t,this.setParams(t);const e=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement();this.addManagedListener(i,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||i.focus()}),this.addManagedListener(i,"input",r=>{r.target===e.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(t){const e=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&Mu(),e.type=i?"date":"text";const{minValidYear:r,maxValidYear:n,minValidDate:s,maxValidDate:o}=t.filterParams||{};if(s&&r&&ct("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&n&&ct("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&o){const[a,l]=[s,o].map(u=>u instanceof Date?u:qs(u));a&&l&&a.getTime()>l.getTime()&&ct("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?e.min=bm(s):e.min=s:r&&(e.min=`${r}-01-01`),o?o instanceof Date?e.max=bm(o):e.max=o:n&&(e.max=`${n}-12-31`)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t,this.setParams(t)}getDate(){return qs(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(Oa(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:bO()||y$()||Mu()&&C$()>=14.1}};x([ke("eDateInput")],hie.prototype,"eDateInput",2);var Wf=class extends wl{constructor(t,e="ag-text-field",i="text"){super(t,e,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){return this.eInput.value!==t&&(this.eInput.value=Te(t)?t:""),super.setValue(t,e)}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`),e=i=>{TO(i)&&i.key&&!t.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",e),this.addManagedListener(this.eInput,"paste",i=>{var r;const n=(r=i.clipboardData)==null?void 0:r.getData("text");n&&n.split("").some(s=>!t.test(s))&&i.preventDefault()})}},H$=class extends Wf{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const n=parseFloat(this.eInput.value),s=isNaN(n)?"":this.normalizeValue(n.toString());this.value!==s&&this.setValue(s)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:t,min:e,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof e=="number"&&this.setMin(e),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}normalizeValue(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));const e=parseFloat(t);return this.min!=null&&e<this.min?t=this.min.toString():this.max!=null&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(this.precision==null)return t;if(e){const r=parseFloat(t).toFixed(this.precision);return parseFloat(r).toString()}const i=String(t).split(".");if(i.length>1){if(i[1].length<=this.precision)return t;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(t){return this.min===t?this:(this.min=t,yu(this.eInput,"min",t),this)}setMax(t){return this.max===t?this:(this.max=t,yu(this.eInput,"max",t),this)}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t?this:(this.step=t,yu(this.eInput,"step",t),this)}setValue(t,e){return this.setValueOrInputValue(i=>super.setValue(i,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,i){if(Te(i)){let r=this.isScientificNotation(i);if(r&&this.eInput.validity.valid)return t(i);if(!r){i=this.adjustPrecision(i);const n=this.normalizeValue(i);r=i!=n}if(r)return e(i)}return t(i)}getValue(){if(!this.eInput.validity.valid)return;const t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return typeof t=="string"&&t.includes("e")}},pie=class extends k${conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type==lr.IN_RANGE||i===2?`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`:t.filter!=null?this.formatValue(t.filter):`${t.type}`}};function b1(t){const{allowedCharPattern:e}=t??{};return e??null}var fie=class gie extends Hr{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[this.processValue(i),this.processValue(r)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,i)=>e===i?0:e<i?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new pie(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return gie.DEFAULT_FILTER_OPTIONS}setElementValue(e,i,r){const n=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(e,n)}createValueElement(){const e=b1(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),hr(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i}createFromToElement(e,i,r,n){const s=this.createManagedBean(n?new Wf({allowedCharPattern:n}):new H$);s.addCssClass(`ag-filter-${r}`),s.addCssClass("ag-filter-filter"),i.push(s),e.appendChild(s.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}getValues(e){const i=[];return this.forEachPositionInput(e,(r,n,s,o)=>{n<o&&i.push(this.processValue(this.stringToFloat(r.getValue())))}),i}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let i=Cu(e);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValues(e);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}hasInvalidInputs(){let e=!1;return this.forEachInput(i=>{if(!i.getInputElement().validity.valid){e=!0;return}}),e}};fie.DEFAULT_FILTER_OPTIONS=[Hr.EQUALS,Hr.NOT_EQUAL,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL,Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL,Hr.IN_RANGE,Hr.BLANK,Hr.NOT_BLANK];var mie=fie,vie=class extends k${conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type==lr.IN_RANGE||i===2?`${t.filter}-${t.filterTo}`:t.filter!=null?`${t.filter}`:`${t.type}`}},hl=class kg extends lr{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const i=e&&e.trim();return i===""?e:i}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?kg.DEFAULT_FORMATTER:kg.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new vie(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ft.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:r,filterText:n})=>e(i,r,n)):this.textFilterParams.textMatcher||kg.DEFAULT_MATCHER}createCondition(e){const i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(r.filter=n[0]),n.length>1&&(r.filterTo=n[1]),r}getFilterType(){return"text"}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,i){const r=[];return this.forEachPositionInput(e,(n,s,o,a)=>{var l;if(s<a){let u=Cu(n.getValue());i&&this.textFilterParams.trimInput&&(u=(l=kg.trimInput(u))!=null?l:null,n.setValue(u,!0)),r.push(u)}}),r}getDefaultFilterOptions(){return kg.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),hr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,i,r){const n=this.createManagedBean(new Wf);n.addCssClass(`ag-filter-${r}`),n.addCssClass("ag-filter-filter"),i.push(n),e.appendChild(n.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}mapValuesFromModel(e){const{filter:i,filterTo:r,type:n}=e||{};return[i||null,r||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){const i=[lr.NOT_EQUAL,lr.NOT_CONTAINS,lr.BLANK];return e?i.indexOf(e)>=0:!1}evaluateNonNullValue(e,i,r,n){const s=e.map(g=>this.formatter(g))||[],o=this.formatter(i),{api:a,colDef:l,column:u,columnApi:c,context:d,textFormatter:h}=this.textFilterParams;if(r.type===lr.BLANK)return this.isBlank(i);if(r.type===lr.NOT_BLANK)return!this.isBlank(i);const f={api:a,colDef:l,column:u,columnApi:c,context:d,node:n.node,data:n.data,filterOption:r.type,value:o,textFormatter:h};return s.some(g=>this.matcher(Ui(it({},f),{filterText:g})))}getModelAsString(e){var i;return(i=this.filterModelFormatter.getModelAsString(e))!=null?i:""}};hl.DEFAULT_FILTER_OPTIONS=[lr.CONTAINS,lr.NOT_CONTAINS,lr.EQUALS,lr.NOT_EQUAL,lr.STARTS_WITH,lr.ENDS_WITH,lr.BLANK,lr.NOT_BLANK];hl.DEFAULT_FORMATTER=t=>t;hl.DEFAULT_LOWERCASE_FORMATTER=t=>t==null?null:t.toString().toLowerCase();hl.DEFAULT_MATCHER=({filterOption:t,value:e,filterText:i})=>{if(i==null)return!1;switch(t){case hl.CONTAINS:return e.indexOf(i)>=0;case hl.NOT_CONTAINS:return e.indexOf(i)<0;case hl.EQUALS:return e===i;case hl.NOT_EQUAL:return e!=i;case hl.STARTS_WITH:return e.indexOf(i)===0;case hl.ENDS_WITH:const r=e.lastIndexOf(i);return r>=0&&r===e.length-i.length;default:return!1}};var $$=hl,Cie=class extends Pe{constructor(t){super(),this.params=t,this.valueChangedListener=()=>{}}setupGui(t){var e;this.eFloatingFilterTextInput=this.createManagedBean(new Wf((e=this.params)==null?void 0:e.config));const i=this.eFloatingFilterTextInput.getGui();t.appendChild(i),this.addManagedListener(i,"input",r=>this.valueChangedListener(r)),this.addManagedListener(i,"keydown",r=>this.valueChangedListener(r))}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}},_b=class extends die{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.setupFloatingFilterInputService(t),super.init(t),this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){var e;this.params=t;const i=(e=t.browserAutoComplete)!=null?e:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:i}),this.applyActive=gx.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const r=gx.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=Cs(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.setTextInputParams(t)}recreateFloatingFilterInputService(t){const e=this.floatingFilterInputService.getValue();Lr(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)}getAriaLabel(t){const e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${e} ${i("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(t){const e=t.key===de.ENTER;if(this.applyActive&&!e)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=$$.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(r=>{r&&r.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}};x([V("columnModel")],_b.prototype,"columnModel",2);x([ke("eFloatingFilterInputContainer")],_b.prototype,"eFloatingFilterInputContainer",2);x([Me],_b.prototype,"postConstruct",1);var PMe=class extends Pe{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new H$),this.eFloatingFilterTextInput=this.createManagedBean(new Wf),this.eFloatingFilterTextInput.setDisabled(!0);const e=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();t.appendChild(e),t.appendChild(i),this.setupListeners(e,r=>this.valueChangedListener(r)),this.setupListeners(i,r=>this.valueChangedListener(r))}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)}},xMe=class extends _b{init(t){var e;super.init(t),this.filterModelFormatter=new pie(this.localeService,this.optionsFactory,(e=t.filterParams)==null?void 0:e.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){b1(t.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return mie.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.allowedCharPattern=b1(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Cie({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new PMe)}},AMe=class extends _b{init(t){super.init(t),this.filterModelFormatter=new vie(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return $$.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Cie)}},Nb=class Yy{constructor(e,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Ll,this.eElement=e,this.preventMouseClick=i;const r=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",r,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}addEventListener(e,i){this.eventService.addEventListener(e,i)}removeEventListener(e,i){this.eventService.removeEventListener(e,i)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{const r=this.touchStart===i;if(this.touching&&r&&!this.moved){this.moved=!0;const n={type:Yy.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e};this.eventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const i=this.getActiveTouch(e.touches);if(!i)return;!L$(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const i={type:Yy.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>Yy.DOUBLE_TAP_MILLIS){const r={type:Yy.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};Nb.EVENT_TAP="tap";Nb.EVENT_DOUBLE_TAP="doubleTap";Nb.EVENT_LONG_TAP="longTap";Nb.DOUBLE_TAP_MILLIS=500;var vn=Nb,qc=class yie extends Et{constructor(e){super(),e||this.setTemplate(yie.TEMPLATE)}attachCustomElements(e,i,r,n,s){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=r,this.eSortMixed=n,this.eSortNone=s}setupSort(e,i=!1){this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,i,r){if(i==null)return;const n=ir(e,this.gridOptionsService,r);n&&i.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const i=e==="asc";Vt(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){const i=e==="desc";Vt(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),r=e==null;Vt(this.eSortNone,!i&&r,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Vt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),r=(e=this.sortController.getDisplaySortIndexForColumn(this.column))!=null?e:-1,n=i.some(o=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(o))!=null?a:!1}),s=r>=0&&n;Vt(this.eSortOrder,s,{skipAriaHidden:!0}),r>=0?this.eSortOrder.textContent=(r+1).toString():Lr(this.eSortOrder)}};qc.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;x([ke("eSortOrder")],qc.prototype,"eSortOrder",2);x([ke("eSortAsc")],qc.prototype,"eSortAsc",2);x([ke("eSortDesc")],qc.prototype,"eSortDesc",2);x([ke("eSortMixed")],qc.prototype,"eSortMixed",2);x([ke("eSortNone")],qc.prototype,"eSortNone",2);x([V("columnModel")],qc.prototype,"columnModel",2);x([V("sortController")],qc.prototype,"sortController",2);var B$=qc,os=class Sie extends Et{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)}workOutTemplate(){var e;let i=(e=this.params.template)!=null?e:Sie.TEMPLATE;return i=i&&i.trim?i.trim():i,i}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const i=Kr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(e,i,r){if(i==null)return;const n=ir(e,this.gridOptionsService,r);n&&i.appendChild(n)}setupTap(){const{gridOptionsService:e}=this;if(e.get("suppressTouch"))return;const i=new vn(this.getGui(),!0),r=this.shouldSuppressMenuHide(),n=r&&Te(this.eMenu),s=n?new vn(this.eMenu,!0):i;if(this.params.enableMenu){const o=n?"EVENT_TAP":"EVENT_LONG_TAP",a=l=>this.params.showColumnMenuAfterMouseClick(l.touchStart);this.addManagedListener(s,vn[o],a)}if(this.params.enableSorting){const o=a=>{var l,u;const c=a.touchStart.target;r&&((l=this.eMenu)!=null&&l.contains(c)||(u=this.eFilterButton)!=null&&u.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,vn.EVENT_TAP,o)}if(this.params.enableFilterButton){const o=new vn(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>i.destroy()),n&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Sl(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){var i,r,n,s;const{column:o}=this.params,a=this.menuService.isLegacyMenuEnabled();if(e&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter((r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new B$(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,yi.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",i=>{const r=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(r||s)){const l=this.gridOptionsService.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(l)}});const e=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const i=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),n=!(i==null?void 0:i.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0}configureFilter(e,i,r){if(!e)return Sl(i),!1;const{column:n}=this.params;return this.addInIcon("filter",i,n),this.addManagedListener(n,yi.EVENT_FILTER_CHANGED,r),r(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Vt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){var i,r,n,s;return e?(r=(i=this.eFilterButton)!=null?i:this.eMenu)!=null?r:this.getGui():(s=(n=this.eMenu)!=null?n:this.eFilterButton)!=null?s:this.getGui()}};os.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;x([V("sortController")],os.prototype,"sortController",2);x([V("menuService")],os.prototype,"menuService",2);x([V("columnModel")],os.prototype,"columnModel",2);x([ke("eFilter")],os.prototype,"eFilter",2);x([ke("eFilterButton")],os.prototype,"eFilterButton",2);x([ke("eSortIndicator")],os.prototype,"eSortIndicator",2);x([ke("eMenu")],os.prototype,"eMenu",2);x([ke("eLabel")],os.prototype,"eLabel",2);x([ke("eText")],os.prototype,"eText",2);x([ke("eSortOrder")],os.prototype,"eSortOrder",2);x([ke("eSortAsc")],os.prototype,"eSortAsc",2);x([ke("eSortDesc")],os.prototype,"eSortDesc",2);x([ke("eSortMixed")],os.prototype,"eSortMixed",2);x([ke("eSortNone")],os.prototype,"eSortNone",2);var R1=os,Gb=class wie extends Et{constructor(){super(wie.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ct("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=n=>{if(Dl(n))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const i=n=>{_l(n)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const r=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(r,Rr.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(r,Rr.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,i){const r=new vn(e,!0);this.addManagedListener(r,vn.EVENT_TAP,i),this.addDestroyFunc(()=>r.destroy()),this.addManagedListener(e,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();Vt(this.eOpenIcon,i),Vt(this.eCloseIcon,!i)}else Vt(this.eOpenIcon,!1),Vt(this.eCloseIcon,!1)}addInIcon(e,i){const r=ir(e,this.gridOptionsService,null);r&&this.getRefElement(i).appendChild(r)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Vt(this.eOpenIcon,!1),Vt(this.eCloseIcon,!1);return}}setupLabel(){var e;const{displayName:i,columnGroup:r}=this.params;if(Te(i)){const n=Kr(i,!0);this.getRefElement("agLabel").textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((e=r.getColGroupDef())!=null&&e.suppressStickyLabel))}};Gb.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;x([V("columnModel")],Gb.prototype,"columnModel",2);x([ke("agOpened")],Gb.prototype,"eOpenIcon",2);x([ke("agClosed")],Gb.prototype,"eCloseIcon",2);var OMe=Gb,Uf=class extends Et{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){const t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}},W$=class Eie extends Uf{constructor(){super(Eie.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Te(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const i=e.key;(i===de.LEFT||i===de.UP||i===de.RIGHT||i===de.DOWN||e.shiftKey&&i===de.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!Te(e)&&!Te(this.params.value)?this.params.value:this.params.parseValue(e)}};W$.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;x([ke("eTextArea")],W$.prototype,"eTextArea",2);var MMe=W$,U$=class extends Uf{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(t){this.focusAfterAttached=t.cellStartedEdit;const{eSelect:e,valueFormatterService:i,gridOptionsService:r}=this,{values:n,value:s,eventKey:o}=t;if(ht(n)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=o!=null?o===de.ENTER:!1;let a=!1;n.forEach(d=>{const h={value:d},f=i.formatValue(t.column,null,d),g=f!=null;h.text=g?f:d,e.addOption(h),a=a||s===d}),a?e.setValue(t.value,!0):t.values.length&&e.setValue(t.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=t;l!=null&&e.setPickerGap(l),c!=null&&e.setPickerMaxHeight(c),u!=null&&e.setPickerMaxWidth(u),r.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,AO.EVENT_ITEM_SELECTED,()=>t.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};x([V("valueFormatterService")],U$.prototype,"valueFormatterService",2);x([ke("eSelect")],U$.prototype,"eSelect",2);var kb=class extends Uf{constructor(t){super(`
            <div class="ag-cell-edit-wrapper">
                ${t.getTemplate()}
            </div>`),this.cellEditorInput=t}init(t){this.params=t;const e=this.eInput;this.cellEditorInput.init(e,t);let i;if(t.cellStartedEdit){this.focusAfterAttached=!0;const r=t.eventKey;r===de.BACKSPACE||t.eventKey===de.DELETE?i="":r&&r.length===1?i=r:(i=this.cellEditorInput.getStartValue(),r!==de.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&e.setStartValue(i),this.addManagedListener(e.getGui(),"keydown",r=>{const{key:n}=r;(n===de.PAGE_UP||n===de.PAGE_DOWN)&&r.preventDefault()})}afterGuiAttached(){var t,e;const i=this.localeService.getLocaleTextFunc(),r=this.eInput;if(r.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Mu()||r.getFocusableElement().focus();const n=r.getInputElement();this.highlightAllOnFocus?n.select():(e=(t=this.cellEditorInput).setCaret)==null||e.call(t)}focusIn(){const t=this.eInput,e=t.getFocusableElement(),i=t.getInputElement();e.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};x([ke("eInput")],kb.prototype,"eInput",2);var FMe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)}getValue(){const t=this.eInput.getValue();return!Te(t)&&!Te(this.params.value)?this.params.value:this.params.parseValue(t)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue(),e=Te(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}},_K=class extends kb{constructor(){super(new FMe)}},IMe="↑",LMe="↓",bie=class extends Et{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),t.appendChild(e),t.appendChild(i),this.setTemplateFromElement(t)}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)}showDelta(t,e){const i=Math.abs(e),r=t.formatValue(i),n=Te(r)?r:i,s=e>=0;s?this.eDelta.textContent=IMe+n:this.eDelta.textContent=LMe+n,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Lr(this.eDelta)}refresh(t,e=!1){const i=t.value;if(i===this.lastValue||(Te(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:Te(t.value)?this.eValue.textContent=i:Lr(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const r=i-this.lastValue;this.showDelta(t,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),e||this.setTimerToRemoveDelta(),this.lastValue=i,!0}};x([V("filterManager")],bie.prototype,"filterManager",2);var Rie=class extends Et{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-slide-current"),t.appendChild(e),this.setTemplateFromElement(t),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(t){this.refresh(t,!0)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=e,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(t,e=!1){let i=t.value;return ht(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(e||this.addSlideAnimation(),this.lastValue=i,Te(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:Te(t.value)?this.eCurrent.textContent=i:Lr(this.eCurrent),!0)}};x([V("filterManager")],Rie.prototype,"filterManager",2);var ji=class Ai{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ai.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,i){const r=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,r,i);this.dispatchLocalEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,i,r){return{type:Ai.EVENT_DATA_CHANGED,node:this,oldData:i,newData:e,update:r}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new Ai(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,i){const r=Te(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);const s=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(s)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)}setRowSelectable(e,i){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_SELECTABLE_CHANGED)),i)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const r=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(Ai.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${Ai.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const i=[];let r=this;for(e&&(r=r.parent);r&&r.level>=0;)i.push(r.key),r=r.parent;return i.reverse(),i}isPixelInRange(e){return!Te(this.rowTop)||!Te(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_GROUP_CHANGED)))}setRowHeight(e,i=!1){this.rowHeight=e,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Cs(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,i=!0,r=0;const n=this.__autoHeights;if(n==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=n[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(a.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(u.includes(a)){e=!0;return}l=-1}else{e=!0;return}else i=!1;l>r&&(r=l)}),e)||((i||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r==this.rowHeight))return;this.setRowHeight(r);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,i){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_EXPANDED_CHANGED));const r=Object.assign({},this.createGlobalRowEvent(F.EVENT_ROW_GROUP_OPENED),{expanded:e,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gridOptionsService.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,i,r){const s=(()=>{var l;return typeof e!="string"?e:(l=this.beans.columnModel.getGridColumn(e))!=null?l:this.beans.columnModel.getPrimaryColumn(e)})(),o=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,o,i,r),!1;const a=this.beans.valueService.setValue(this,s,i,r);return this.dispatchCellChangedEvent(s,i,o),this.checkRowSelectable(),a}getValueFromValueService(e){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!i,s=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),o=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),a=r&&s&&!o;return this.beans.valueService.getValue(e,this,!1,a)}dispatchEventForSaveValueReadOnly(e,i,r,n){const s=this.beans.gridOptionsService.addGridCommonParams({type:F.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),data:this.data,node:this,oldValue:i,newValue:r,value:r,source:n});this.beans.eventService.dispatchEvent(s)}setGroupValue(e,i){const r=this.beans.columnModel.getGridColumn(e);ht(this.groupData)&&(this.groupData={});const n=r.getColId(),s=this.groupData[n];s!==i&&(this.groupData[n]=i,this.dispatchCellChangedEvent(r,i,s))}setAggData(e){const i=this.aggData;if(this.aggData=e,this.eventService){const r=n=>{const s=this.aggData?this.aggData[n]:void 0,o=i?i[n]:void 0;if(s===o)return;const a=this.beans.columnModel.lookupGridColumn(n);a&&this.dispatchCellChangedEvent(a,s,o)};for(const n in this.aggData)r(n);for(const n in e)n in this.aggData||r(n)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const r=this.beans.gridOptionsService.get("treeData"),n=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(r?!!n&&n(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Ai.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&xo(this.childrenAfterGroup)}dispatchCellChangedEvent(e,i,r){const n={type:Ai.EVENT_CELL_CHANGED,node:this,column:e,newValue:i,oldValue:r};this.dispatchLocalEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let i=!1,r=!1,n=!1;if(!((e=this.childrenAfterGroup)!=null&&e.length))return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const o=this.childrenAfterGroup[s];let a=o.isSelected();if(!o.selectable){const l=o.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:i=!0;break;case!1:r=!0;break;default:n=!0;break}}if(!(n||i&&r))return i?!0:r?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,i,r="api"){const n=!this.selectable&&e,s=this.selected===e;if(n||s)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(Ai.EVENT_ROW_SELECTED));const a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(Ai.EVENT_ROW_SELECTED))}const o=Ui(it({},this.createGlobalRowEvent(F.EVENT_ROW_SELECTED)),{event:i||null,source:r});return this.beans.eventService.dispatchEvent(o),!0}setSelected(e,i=!1,r="api"){if(typeof r=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:i,rangeSelect:!1,source:r})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Ui(it({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(e){let i=this.parent;for(;i;){if(i===e)return!0;i=i.parent}return!1}addEventListener(e,i){var r,n;this.eventService||(this.eventService=new Ll),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new l$(this.beans.frameworkOverrides));const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))!=null?n:i;this.eventService.addEventListener(e,s)}removeEventListener(e,i){var r,n;if(!this.eventService)return;const s=(n=(r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))!=null?n:i;this.eventService.removeEventListener(e,s),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(Ai.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(Ai.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let i=this,r=!0,n=!1,s=null;for(;r&&!n;){const o=i.parent;Te(o)&&i.firstChild?o.rowGroupColumn===e&&(n=!0,s=o):r=!1,i=o}return n?s:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.key==null)return;const e=[];let i=this;for(;i.key!=null;)e.push(i.key),i=i.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),i=new Ai(this.beans);Object.keys(this).forEach(r=>{e.has(r)||(i[r]=this[r])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};ji.ID_PREFIX_ROW_GROUP="row-group-";ji.ID_PREFIX_TOP_PINNED="t-";ji.ID_PREFIX_BOTTOM_PINNED="b-";ji.OBJECT_ID_SEQUENCE=0;ji.EVENT_ROW_SELECTED="rowSelected";ji.EVENT_DATA_CHANGED="dataChanged";ji.EVENT_CELL_CHANGED="cellChanged";ji.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";ji.EVENT_MASTER_CHANGED="masterChanged";ji.EVENT_GROUP_CHANGED="groupChanged";ji.EVENT_MOUSE_ENTER="mouseEnter";ji.EVENT_MOUSE_LEAVE="mouseLeave";ji.EVENT_HEIGHT_CHANGED="heightChanged";ji.EVENT_TOP_CHANGED="topChanged";ji.EVENT_DISPLAYED_CHANGED="displayedChanged";ji.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";ji.EVENT_LAST_CHILD_CHANGED="lastChildChanged";ji.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";ji.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";ji.EVENT_EXPANDED_CHANGED="expandedChanged";ji.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";ji.EVENT_SELECTABLE_CHANGED="selectableChanged";ji.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";ji.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";ji.EVENT_DRAGGING_CHANGED="draggingChanged";var Ot=ji,FO=class extends Et{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),i=EO(t,e),[r,n]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=t(r,n);this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(t,e,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:e,event:i,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",r=>{_l(r)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",r=>{_l(r);const n=this.gridOptionsService.get("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,n)?this.onClicked(!0,n,r||{})===0&&this.onClicked(!1,n,r):s?this.onClicked(!1,n,r):this.onClicked(!0,n,r||{})}),this.addManagedListener(this.rowNode,Ot.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,r),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,r),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var t,e,i;let r=this.rowNode.selectable;const n=this.getIsVisible();if(r)if(typeof n=="function"){const o=(t=this.overrides)==null?void 0:t.callbackParams;if(!this.column)r=n(Ui(it({},o),{node:this.rowNode,data:this.rowNode.data}));else{const a=this.column.createColumnFunctionCallbackParams(this.rowNode);r=n(it(it({},o),a))}}else r=n??!1;if((e=this.column)==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!r),this.setVisible(!0),this.setDisplayed(!0);return}if((i=this.overrides)!=null&&i.removeHidden){this.setDisplayed(r);return}this.setVisible(r)}getIsVisible(){var t,e;return this.overrides?this.overrides.isVisible:(e=(t=this.column)==null?void 0:t.getColDef())==null?void 0:e.checkboxSelection}};x([ke("eCheckbox")],FO.prototype,"eCheckbox",2);x([Me],FO.prototype,"postConstruct",1);var Tie=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(Tie||{}),Rt=class extends Pe{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=fa("columnMovePin",this.gridOptionsService,null),this.eHideIcon=fa("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=fa("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=fa("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=fa("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=fa("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=fa("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=fa("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=fa("dropNotAllowed",this.gridOptionsService,null)}addDragSource(t,e=!1){const i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:i,dragSource:t}),this.dragService.addDragSource(i)}removeDragSource(t){const e=this.dragSourceAndParamsList.find(i=>i.dragSource===t);e&&(this.dragService.removeDragSource(e.params),zs(this.dragSourceAndParamsList,e))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(t,e){var i,r,n,s;const o=this.getHorizontalDirection(t),a=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);const l=this.dropTargets.filter(c=>this.isMouseOnDropTarget(t,c)),u=this.findCurrentDropTarget(t,l);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(t,o,a,e),this.lastDropTarget!==null&&u===null&&((r=(i=this.dragSource).onGridExit)==null||r.call(i,this.dragItem)),this.lastDropTarget===null&&u!==null&&((s=(n=this.dragSource).onGridEnter)==null||s.call(n,this.dragItem)),this.enterDragTargetIfExists(u,t,o,a,e),this.lastDropTarget=u;else if(u&&u.onDragging){const c=this.createDropTargetEvent(u,t,o,a,e);u.onDragging(c)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null,i=[[t.getContainer()]];return e?i.concat(e):i}allContainersIntersect(t,e){for(const i of e){const r=i.getBoundingClientRect();if(r.width===0||r.height===0)return!1;const n=t.clientX>=r.left&&t.clientX<r.right,s=t.clientY>=r.top&&t.clientY<r.bottom;if(!n||!s)return!1}return!0}isMouseOnDropTarget(t,e){const i=this.getAllContainersFromDropTarget(e);let r=!1;for(const n of i)if(this.allContainersIntersect(t,n)){r=!0;break}return e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement)?!1:r&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(t,e){const i=e.length;if(i===0)return null;if(i===1)return e[0];const n=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);for(const s of n)for(const o of e)if(Jee(this.getAllContainersFromDropTarget(o)).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(t,e,i,r,n){if(t){if(t.onDragEnter){const s=this.createDropTargetEvent(t,e,i,r,n);t.onDragEnter(s)}this.setGhostIcon(t.getIconName?t.getIconName():null)}}leaveLastTargetIfExists(t,e,i,r){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const n=this.createDropTargetEvent(this.lastDropTarget,t,e,i,r);this.lastDropTarget.onDragLeave(n)}this.setGhostIcon(null)}}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===t.getContainer())||null}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX,i=t.clientX;return e===i?null:e>i?0:1}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY,i=t.clientY;return e===i?null:e>i?0:1}createDropTargetEvent(t,e,i,r,n){const s=t.getContainer(),o=s.getBoundingClientRect(),{gridApi:a,columnApi:l,dragItem:u,dragSource:c}=this,d=e.clientX-o.left,h=e.clientY-o.top;return{event:e,x:d,y:h,vDirection:r,hDirection:i,dragSource:c,fromNudge:n,dragItem:u,api:a,columnApi:l,dropZoneTarget:s}}positionGhost(t){const e=this.eGhost;if(!e)return;const r=e.getBoundingClientRect().height,n=Pte()-2,s=xte()-2,o=P$(e.offsetParent),{clientY:a,clientX:l}=t;let u=a-o.top-r/2,c=l-o.left-10;const d=this.gridOptionsService.getDocument(),h=d.defaultView||window,f=h.pageYOffset||d.documentElement.scrollTop,g=h.pageXOffset||d.documentElement.scrollLeft;n>0&&c+e.clientWidth>n+g&&(c=n+g-e.clientWidth),c<0&&(c=0),s>0&&u+e.clientHeight>s+f&&(u=s+f-e.clientHeight),u<0&&(u=0),e.style.left=`${c}px`,e.style.top=`${u}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Xs(Rt.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:t}=this.environment.getTheme();t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const e=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;mO(i)&&(i=i()),e.innerHTML=Kr(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const r=this.gridOptionsService.getDocument();let n=null,s=null;try{n=r.fullscreenElement}catch{}finally{n||(n=this.gridOptionsService.getRootNode());const o=n.querySelector("body");o?s=o:n instanceof ShadowRoot?s=n:n instanceof Document?s=n==null?void 0:n.documentElement:s=n}this.eGhostParent=s,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(t,e=!1){Lr(this.eGhostIcon);let i=null;switch(t||(t=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():Rt.ICON_NOT_ALLOWED),t){case Rt.ICON_PINNED:i=this.ePinnedIcon;break;case Rt.ICON_MOVE:i=this.eMoveIcon;break;case Rt.ICON_LEFT:i=this.eLeftIcon;break;case Rt.ICON_RIGHT:i=this.eRightIcon;break;case Rt.ICON_GROUP:i=this.eGroupIcon;break;case Rt.ICON_AGGREGATE:i=this.eAggregateIcon;break;case Rt.ICON_PIVOT:i=this.ePivotIcon;break;case Rt.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case Rt.ICON_HIDE:i=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),!(i===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};Rt.ICON_PINNED="pinned";Rt.ICON_MOVE="move";Rt.ICON_LEFT="left";Rt.ICON_RIGHT="right";Rt.ICON_GROUP="group";Rt.ICON_AGGREGATE="aggregate";Rt.ICON_PIVOT="pivot";Rt.ICON_NOT_ALLOWED="notAllowed";Rt.ICON_HIDE="hide";Rt.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;x([V("dragService")],Rt.prototype,"dragService",2);x([V("mouseEventService")],Rt.prototype,"mouseEventService",2);x([V("columnApi")],Rt.prototype,"columnApi",2);x([V("gridApi")],Rt.prototype,"gridApi",2);x([Me],Rt.prototype,"init",1);x([As],Rt.prototype,"clearDragSourceParamsList",1);Rt=x([We("dragAndDropService")],Rt);var ef=class extends Et{constructor(t,e,i,r,n,s){super(),this.cellValueFn=t,this.rowNode=e,this.column=i,this.customGui=r,this.dragStartPixels=n,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ir("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const t=this.gridOptionsService.get("rowDragManaged")?new xie(this,this.beans,this.rowNode,this.column):new Pie(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t),this.addDragSource(e)}getSelectedNodes(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return e.indexOf(this.rowNode)!==-1?e:[this.rowNode]}checkCompatibility(){const t=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&t&&ct("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();const e=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var i;const r=this.getDragItem(),n=((i=r.rowNodes)==null?void 0:i.length)||1,s=this.getRowDragText(this.column);return s?s(r,n):n===1?this.cellValueFn():`${n} ${e("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};x([V("beans")],ef.prototype,"beans",2);x([Me],ef.prototype,"postConstruct",1);x([As],ef.prototype,"removeDragSource",1);var Die=class extends Pe{constructor(t,e,i){super(),this.parent=t,this.rowNode=e,this.column=i}setDisplayedOrVisible(t){const e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let i=!0,r=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),r=mO(this.column.getColDef().rowDrag)),r?(this.parent.setDisplayed(!0,e),this.parent.setVisible(i,e)):(this.parent.setDisplayed(i,e),this.parent.setVisible(!0,e))}}},Pie=class extends Die{constructor(t,e,i,r){super(t,i,r),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)}};x([Me],Pie.prototype,"postConstruct",1);var xie=class extends Die{constructor(t,e,i,r){super(t,i,r),this.beans=e}postConstruct(){this.addManagedListener(this.beans.eventService,F.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=e&&e.shouldPreventRowMove(),r=this.gridOptionsService.get("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!n||r;this.setDisplayedOrVisible(s)}};x([Me],xie.prototype,"postConstruct",1);var zf=class extends Pe{init(t,e,i,r,n,s,o){var a,l,u,c;this.params=o,this.eGui=e,this.eCheckbox=i,this.eExpanded=r,this.eContracted=n,this.comp=t,this.compClass=s;const{node:d,value:h,colDef:f}=o,g=this.isTopLevelFooter();if(!g){if(this.isEmbeddedRowMismatch())return;if(d.footer&&this.gridOptionsService.get("groupHideOpenParents")){const C=f&&f.showRowGroup,S=d.rowGroupColumn&&d.rowGroupColumn.getColId();if(C!==S)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){const m=o.node.footer&&o.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(D=>{var P;return D.getColId()===((P=o.colDef)==null?void 0:P.showRowGroup)}),S=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!o.node.footer&&(!o.node.group||o.node.rowGroupIndex!=null&&o.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(D=>{var P;return D.getColId()===((P=o.colDef)==null?void 0:P.showRowGroup)})),y=!d.group&&(((a=this.params.colDef)==null?void 0:a.field)||((l=this.params.colDef)==null?void 0:l.valueGetter)),w=this.isExpandable(),E=this.columnModel.isPivotMode()&&d.leafGroup&&((u=d.rowGroupColumn)==null?void 0:u.getColId())===((c=o.column)==null?void 0:c.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!w&&!y&&!S&&!m&&!E)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var t,e;const i=(t=this.params.colDef)==null?void 0:t.cellAriaRole,r=(e=this.params.column)==null?void 0:e.getColDef().cellAriaRole;return i||r||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:t,eGridCell:e}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){Cte(e);return}const i=()=>{Rc(e,!!t.expanded)};this.expandListener=this.addManagedListener(t,Ot.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const t=this.params.colDef;if(t==null||t.showRowGroup===!0)return!0;const i=this.columnModel.getRowGroupColumns();return!i||i.length===0?!0:i[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;const t=this.params.pinned==="left",e=this.params.pinned==="right",i=!t&&!e;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!e:!i:this.columnModel.isPinningLeft()?!t:!i}findDisplayedGroupNode(){const t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent){let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&t.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}ht(this.displayedGroupNode)&&(this.displayedGroupNode=e)}setupShowingValueForOpenedParent(){const t=this.params.node,e=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}if(t.rowGroupColumn!=null){const n=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(n)){this.showingValueForOpenedParent=!1;return}}const r=t.groupData[e.getId()]!=null;this.showingValueForOpenedParent=r}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var t;const e=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(e),{valueFormatted:r,value:n}=e;let s=r;if(s==null){const o=this.displayedGroupNode.rowGroupColumn&&((t=this.params.column)==null?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&o?s=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):s=n??null}this.comp.setInnerRenderer(i,s)}adjustParamsWithDetailsFromRelatedColumn(){const t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(e!=null&&!e.isRowGroupDisplayed(t.getId()))return this.params;const r=this.params,{value:n,node:s}=this.params,o=this.valueFormatterService.formatValue(t,s,n);return Ui(it({},r),{valueFormatted:o})}addFooterValue(){const t=this.params.footerValueGetter;let e="";if(t){const r=o$(this.params);r.value=this.params.value,typeof t=="function"?e=t(r):typeof t=="string"?e=this.expressionService.evaluate(t,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,e)}getInnerCompDetails(t){if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);const e=this.userComponentFactory.getInnerRendererDetails(t,t),i=o=>o&&o.componentClass==this.compClass;if(e&&!i(e))return e;const r=this.displayedGroupNode.rowGroupColumn,n=r?r.getColDef():void 0;if(!n)return;const s=this.userComponentFactory.getCellRendererDetails(n,t);if(s&&!i(s))return s;if(i(s)&&n.cellRendererParams&&n.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(n.cellRendererParams,t)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ot.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const t=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow()&&t!=null&&t>=0?`(${t})`:"";this.comp.setChildCount(r)}isShowRowGroupForThisRow(){if(this.gridOptionsService.get("treeData"))return!0;const t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;const e=this.params.column;return e==null||e.isRowGroupDisplayed(t.getId())}addExpandAndContract(){var t;const e=this.params,i=ir("groupExpanded",this.gridOptionsService,null),r=ir("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),r&&this.eContracted.appendChild(r);const n=e.eGridCell;!(((t=this.params.column)==null?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(n,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Ot.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ot.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ot.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ot.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,Ot.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(t){Dl(t)||(_l(t),this.onExpandOrContract(t))}onExpandOrContract(t){const e=this.displayedGroupNode,i=!e.expanded;!i&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(i,t)}scrollToStickyNode(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!(t.isExpandable()&&!t.footer&&!e))return!1;const r=this.params.column;return r!=null&&typeof r.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:t,displayedGroupNode:e,columnModel:i}=this,{node:r}=t,n=this.isExpandable();if(n){const u=this.showingValueForOpenedParent?!0:r.expanded;this.comp.setExpandedDisplayed(u),this.comp.setContractedDisplayed(!u)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const s=i.isPivotMode(),o=s&&e.leafGroup,a=n&&!o,l=r.footer&&r.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",o):l||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,Ot.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.get("groupHideOpenParents"))return;const t=this.params,e=t.node,i=!!t.colDef,r=this.gridOptionsService.get("treeData"),s=!i||r||t.colDef.showRowGroup===!0?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const t=new ef(()=>this.params.value,this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}isUserWantsSelected(){const t=this.params.checkbox;return typeof t=="function"||t===!0}addCheckboxIfNeeded(){const t=this.displayedGroupNode,e=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(e){const i=new FO;this.getContext().createBean(i),i.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(e)}onKeyDown(t){!(t.key===de.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t)}onCellDblClicked(t){if(Dl(t))return;cx(this.eExpanded,t)||cx(this.eContracted,t)||this.onExpandOrContract(t)}};x([V("expressionService")],zf.prototype,"expressionService",2);x([V("valueFormatterService")],zf.prototype,"valueFormatterService",2);x([V("columnModel")],zf.prototype,"columnModel",2);x([V("userComponentFactory")],zf.prototype,"userComponentFactory",2);x([V("ctrlsService")],zf.prototype,"ctrlsService",2);var jf=class Aie extends Et{constructor(){super(Aie.TEMPLATE)}init(e){const i={setInnerRenderer:(o,a)=>this.setRenderDetails(o,a),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setContractedDisplayed:o=>Vt(this.eContracted,o),setExpandedDisplayed:o=>Vt(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},r=this.createManagedBean(new zf),n=!e.colDef,s=this.getGui();r.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&hr(s,r.getCellAriaRole())}setRenderDetails(e,i){if(e){const r=e.newAgStackInstance();if(!r)return;r.then(n=>{if(!n)return;const s=()=>this.context.destroyBean(n);this.isAlive()?(this.eValue.appendChild(n.getGui()),this.addDestroyFunc(s)):s()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};jf.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;x([ke("eExpanded")],jf.prototype,"eExpanded",2);x([ke("eContracted")],jf.prototype,"eContracted",2);x([ke("eCheckbox")],jf.prototype,"eCheckbox",2);x([ke("eValue")],jf.prototype,"eValue",2);x([ke("eChildCount")],jf.prototype,"eChildCount",2);var NK=jf,IO=class Oie extends Et{constructor(){super(Oie.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=ir("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};IO.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;x([ke("eLoadingIcon")],IO.prototype,"eLoadingIcon",2);x([ke("eLoadingText")],IO.prototype,"eLoadingText",2);var _Me=IO,Mie=class Fie extends Et{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??Fie.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("loadingOoo","Loading...")})}}};Mie.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var NMe=Mie,Iie=class Lie extends Et{constructor(){super()}destroy(){super.destroy()}init(e){const i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??Lie.DEFAULT_NO_ROWS_TEMPLATE),!i){const r=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=r("noRowsToShow","No Rows To Show")})}}};Iie.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var GMe=Iie,kMe=class extends Uf{constructor(){super('<div class="ag-tooltip"></div>')}init(t){const{value:e}=t;this.getGui().textContent=Kr(e,!0)}},VMe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);const i=t.getInputElement();e.preventStepping?t.addManagedListener(i,"keydown",this.preventStepping):e.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(t){(t.key===de.UP||t.key===de.DOWN)&&t.preventDefault()}getValue(){const t=this.eInput.getValue();if(!Te(t)&&!Te(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}},HMe=class extends kb{constructor(){super(new VMe)}},$Me=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.eInput.getDate();return!Te(t)&&!Te(this.params.value)?this.params.value:t??null}getStartValue(){const{value:t}=this.params;if(t instanceof Date)return Oa(t,!1)}},BMe=class extends kb{constructor(){super(new $Me)}},WMe=class{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.formatDate(this.eInput.getDate());return!Te(t)&&!Te(this.params.value)?this.params.value:this.params.parseValue(t??"")}getStartValue(){var t,e;return Oa((e=this.parseDate((t=this.params.value)!=null?t:void 0))!=null?e:null,!1)}parseDate(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)}formatDate(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)}},_ie=class extends kb{constructor(){super(new WMe(()=>this.dataTypeService))}};x([V("dataTypeService")],_ie.prototype,"dataTypeService",2);var z$=class Nie extends Et{constructor(){super(Nie.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e);const i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),h$(i,"polite"),this.addManagedListener(i,"click",n=>{if(_l(n),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)}),this.addManagedListener(i,"dblclick",n=>{_l(n)});const r=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",n=>{if(n.key===de.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===r.activeElement&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),n.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var i,r,n;let s,o=!0;if(e.node.group&&e.column){const d=e.column.getColId();d.startsWith(Zm)?s=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[d]!==void 0?s=(i=e.value)!=null?i:void 0:o=!1}else s=(r=e.value)!=null?r:void 0;if(!o){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);const a=e.disabled!=null?e.disabled:!((n=e.column)!=null&&n.isCellEditable(e.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),u=EO(l,s),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(e){const{column:i,node:r,rowIndex:n,value:s}=this.params,o={type:F.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s};this.eventService.dispatchEvent(o);const a=this.params.node.setDataValue(this.params.column,e,"edit"),l={type:F.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:r.data,node:r,rowIndex:n,rowPinned:r.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:a};this.eventService.dispatchEvent(l)}};z$.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;x([ke("eCheckbox")],z$.prototype,"eCheckbox",2);var UMe=z$,Gie=class extends Uf{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(t){var e;this.params=t;const i=(e=t.value)!=null?e:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,F.EVENT_FIELD_VALUE_CHANGED,n=>this.setAriaLabel(n.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc(),i=EO(e,t),r=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${r} (${i})`)}};x([ke("eCheckbox")],Gie.prototype,"eCheckbox",2);var zMe=class extends Et{constructor(){super(),this.setTemplate("<div></div>")}init(t){var e;this.params=t,this.cssClassPrefix=(e=this.params.cssClassPrefix)!=null?e:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const t=Xs(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?t.appendChild(ir("check",this.gridOptionsService)):this.params.icon&&(Ob(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}addName(){const t=Xs(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(t)}addShortcut(){if(this.params.isCompact)return;const t=Xs(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(t)}addSubMenu(){const t=Xs(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),e=this.getGui();if(this.params.subMenu){const i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Rc(e,!1),t.appendChild(ir(i,this.gridOptionsService))}e.appendChild(t)}getClassName(t){return`${this.cssClassPrefix}-${t}`}destroy(){super.destroy()}},Tw=class extends Pe{constructor(){super(...arguments),this.agGridDefaults={agDateInput:hie,agColumnHeader:R1,agColumnGroupHeader:OMe,agSortIndicator:B$,agTextColumnFloatingFilter:AMe,agNumberColumnFloatingFilter:xMe,agDateColumnFloatingFilter:MO,agReadOnlyFloatingFilter:N$,agAnimateShowChangeCellRenderer:bie,agAnimateSlideCellRenderer:Rie,agGroupCellRenderer:NK,agGroupRowRenderer:NK,agLoadingCellRenderer:_Me,agCheckboxCellRenderer:UMe,agCellEditor:_K,agTextCellEditor:_K,agNumberCellEditor:HMe,agDateCellEditor:BMe,agDateStringCellEditor:_ie,agSelectCellEditor:U$,agLargeTextCellEditor:MMe,agCheckboxCellEditor:Gie,agTextColumnFilter:$$,agNumberColumnFilter:mie,agDateColumnFilter:cie,agLoadingOverlay:NMe,agNoRowsOverlay:GMe,agTooltipComponent:kMe,agMenuItem:zMe},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){this.gridOptions.components!=null&&Jn(this.gridOptions.components,(t,e)=>this.registerJsComponent(t,e))}registerDefaultComponent(t,e){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=e}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const i=(a,l)=>({componentFromFramework:l,component:a}),r=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(r!=null)return i(r,!0);const n=this.jsComps[e];if(n){const a=this.getFrameworkOverrides().isFrameworkComponent(n);return i(n,a)}const s=this.agGridDefaults[e];if(s)return i(s,!1);const o=this.enterpriseAgDefaultCompsModule[e];return o?ei.__assertRegistered(o,`AG Grid '${t}' component: ${e}`,this.context.getGridId()):Pp(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){const i=[...Object.keys(this.agGridDefaults).filter(n=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(n)),...Object.keys(this.jsComps)],r=Mb(e,i,!0,.8).values;console.warn(`AG Grid: Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),r.length>0&&console.warn(`         Did you mean: [${r.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};x([V("gridOptions")],Tw.prototype,"gridOptions",2);x([Me],Tw.prototype,"init",1);Tw=x([We("userComponentRegistry")],Tw);var jMe={propertyName:"dateComponent",cellRenderer:!1},KMe={propertyName:"headerComponent",cellRenderer:!1},YMe={propertyName:"headerGroupComponent",cellRenderer:!1},GK={propertyName:"cellRenderer",cellRenderer:!0},qMe={propertyName:"cellEditor",cellRenderer:!1},kK={propertyName:"innerRenderer",cellRenderer:!0},XMe={propertyName:"loadingOverlayComponent",cellRenderer:!1},QMe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},ZMe={propertyName:"tooltipComponent",cellRenderer:!1},T1={propertyName:"filter",cellRenderer:!1},JMe={propertyName:"floatingFilterComponent",cellRenderer:!1},eFe={propertyName:"toolPanel",cellRenderer:!1},tFe={propertyName:"statusPanel",cellRenderer:!1},iFe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},rFe={propertyName:"loadingCellRenderer",cellRenderer:!0},nFe={propertyName:"groupRowRenderer",cellRenderer:!0},sFe={propertyName:"detailCellRenderer",cellRenderer:!0},oFe={propertyName:"menuItem",cellRenderer:!1},kie=class{static getFloatingFilterType(t){return this.filterToFloatingFilterMapping[t]}};kie.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var th=class extends Pe{getHeaderCompDetails(t,e){return this.getCompDetails(t,KMe,"agColumnHeader",e)}getHeaderGroupCompDetails(t){const e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,YMe,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,iFe,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,rFe,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,nFe,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,sFe,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,e){return this.getCompDetails(t,kK,null,e)}getFullWidthGroupRowInnerCellRenderer(t,e){return this.getCompDetails(t,kK,null,e)}getCellRendererDetails(t,e){return this.getCompDetails(t,GK,null,e)}getCellEditorDetails(t,e){return this.getCompDetails(t,qMe,"agCellEditor",e,!0)}getFilterDetails(t,e,i){return this.getCompDetails(t,T1,i,e,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,jMe,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,XMe,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,QMe,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,ZMe,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,e){return this.getCompDetails(t,GK,null,e)}getFloatingFilterCompDetails(t,e,i){return this.getCompDetails(t,JMe,i,e)}getToolPanelCompDetails(t,e){return this.getCompDetails(t,eFe,null,e,!0)}getStatusPanelCompDetails(t,e){return this.getCompDetails(t,tFe,null,e,!0)}getMenuItemCompDetails(t,e){return this.getCompDetails(t,oFe,"agMenuItem",e,!0)}getCompDetails(t,e,i,r,n=!1){const{propertyName:s,cellRenderer:o}=e;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}=this.getCompKeys(t,e,r);const f=S=>{const y=this.userComponentRegistry.retrieve(s,S);y&&(l=y.componentFromFramework?void 0:y.component,u=y.componentFromFramework?y.component:void 0)};if(a!=null&&f(a),l==null&&u==null&&i!=null&&f(i),l&&o&&!this.agComponentUtils.doesImplementIComponent(l)&&(l=this.agComponentUtils.adaptFunction(s,l)),!l&&!u){n&&console.error(`AG Grid: Could not find component ${a}, did you forget to configure this component?`);return}const g=this.mergeParamsWithApplicationProvidedParams(t,e,r,c),m=l==null,C=l||u;return{componentFromFramework:m,componentClass:C,params:g,type:e,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(C,m,g,e)}}getCompKeys(t,e,i){const{propertyName:r}=e;let n,s,o,a,l,u;if(t){const c=t,d=c[r+"Selector"],h=d?d(i):null,f=g=>{typeof g=="string"?n=g:g!=null&&g!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(g)?o=g:s=g)};h?(f(h.component),a=h.params,l=h.popup,u=h.popupPosition):f(c[r])}return{compName:n,jsComp:s,fwComp:o,paramsFromSelector:a,popupFromSelector:l,popupPositionFromSelector:u}}newAgStackInstance(t,e,i,r){const n=r.propertyName,s=!e;let o;if(s)o=new t;else{const l=this.componentMetadataProvider.retrieve(n);o=this.frameworkComponentWrapper.wrap(t,l.mandatoryMethodList,l.optionalMethodList,r)}const a=this.initComponent(o,i);return a==null?Tr.resolve(o):a.then(()=>o)}mergeParamsWithApplicationProvidedParams(t,e,i,r=null){const n=this.gridOptionsService.getGridCommonParams();Go(n,i);const s=t,o=s&&s[e.propertyName+"Params"];if(typeof o=="function"){const a=o(i);Go(n,a)}else typeof o=="object"&&Go(n,o);return Go(n,r),n}initComponent(t,e){if(this.context.createBean(t),t.init!=null)return t.init(e)}getDefaultFloatingFilterType(t,e){if(t==null)return null;let i=null,{compName:r,jsComp:n,fwComp:s}=this.getCompKeys(t,T1);return r?i=kie.getFloatingFilterType(r):n==null&&s==null&&t.filter===!0&&(i=e()),i}};x([V("gridOptions")],th.prototype,"gridOptions",2);x([V("agComponentUtils")],th.prototype,"agComponentUtils",2);x([V("componentMetadataProvider")],th.prototype,"componentMetadataProvider",2);x([V("userComponentRegistry")],th.prototype,"userComponentRegistry",2);x([Kt("frameworkComponentWrapper")],th.prototype,"frameworkComponentWrapper",2);th=x([We("userComponentFactory")],th);var mx=class{};mx.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0};mx.ALL_PROPERTIES=Object.keys(mx.ColDefPropertyMap);var aFe=mx,Vie=class{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){const i=e||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=t.clientX<r.left+n,this.tickRight=t.clientX>r.right-n,this.tickUp=t.clientY<r.top+n&&!i,this.tickDown=t.clientY>r.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){const e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Zo=class extends Pe{constructor(t){super(),this.isMultiRowDrag=!1,this.eContainer=t}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new Vie({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(t){return t===2}getIconName(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Rt.ICON_NOT_ALLOWED:Rt.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];const e=this.gridOptionsService.get("rowDragMultiRow"),i=[...this.selectionService.getSelectedNodes()].sort((n,s)=>n.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(n)-this.getRowIndexNumber(s)),r=t.dragItem.rowNode;return e&&i.indexOf(r)!==-1?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[r])}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(F.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(t){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:r}=t;return!i.contains(r)}onEnterOrDragging(t){this.dispatchGridEvent(F.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){const i=this.isFromThisGrid(t),r=this.gridOptionsService.get("rowDragManaged"),n=t.dragItem.rowNodes;r&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(n[0],e):this.moveRows(n,e))}getRowIndexNumber(t){return parseInt(Qt(t.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode(),i=e&&e.highlighted===1,r=this.mouseEventService.getNormalisedPosition(t).y,n=t.dragItem.rowNodes;let s=i?1:0;if(this.isFromThisGrid(t))n.forEach(o=>{o.rowTop<r&&(s-=1)}),this.moveRows(n,r,s);else{const o=this.gridOptionsService.getCallback("getRowId");let a=this.clientSideRowModel.getRowIndexAtPixel(r)+1;this.clientSideRowModel.getHighlightPosition(r)===0&&a--,this.clientSideRowModel.updateRowData({add:n.map(l=>l.data).filter(l=>!this.clientSideRowModel.getRowNode(o?o({data:l,level:0}):l.id)),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,i=0){this.clientSideRowModel.ensureRowsAtPixel(t,e,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer()){ct("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let e={getContainer:t.getContainer};t.fromGrid?e=t:(t.onDragEnter&&(e.onDragEnter=i=>{t.onDragEnter(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_ENTER,i))}),t.onDragLeave&&(e.onDragLeave=i=>{t.onDragLeave(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_LEAVE,i))}),t.onDragging&&(e.onDragging=i=>{t.onDragging(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_MOVE,i))}),t.onDragStop&&(e.onDragStop=i=>{t.onDragStop(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(it({isInterestedIn:i=>i===2,getIconName:()=>Rt.ICON_MOVE,external:!0},e))}getRowDropZone(t){const e=this.getContainer.bind(this),i=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),n=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:e,onDragEnter:t.onDragEnter?o=>{i(o),t.onDragEnter(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_ENTER,o))}:i,onDragLeave:t.onDragLeave?o=>{r(o),t.onDragLeave(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_LEAVE,o))}:r,onDragging:t.onDragging?o=>{n(o),t.onDragging(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_MOVE,o))}:n,onDragStop:t.onDragStop?o=>{s(o),t.onDragStop(this.draggingToRowDragEvent(F.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:e,onDragEnter:i,onDragLeave:r,onDragging:n,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(t,e){const i=this.mouseEventService.getNormalisedPosition(e).y,r=i>this.paginationProxy.getCurrentPageHeight();let n=-1,s;r||(n=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(n));let o;switch(e.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gridOptionsService.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:n,overNode:s,y:i,vDirection:o})}dispatchGridEvent(t,e){const i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)}onDragLeave(t){this.dispatchGridEvent(F.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)}onDragStop(t){this.dispatchGridEvent(F.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}};x([V("dragAndDropService")],Zo.prototype,"dragAndDropService",2);x([V("rowModel")],Zo.prototype,"rowModel",2);x([V("paginationProxy")],Zo.prototype,"paginationProxy",2);x([V("columnModel")],Zo.prototype,"columnModel",2);x([V("focusService")],Zo.prototype,"focusService",2);x([V("sortController")],Zo.prototype,"sortController",2);x([V("filterManager")],Zo.prototype,"filterManager",2);x([V("selectionService")],Zo.prototype,"selectionService",2);x([V("mouseEventService")],Zo.prototype,"mouseEventService",2);x([V("ctrlsService")],Zo.prototype,"ctrlsService",2);x([Kt("rangeService")],Zo.prototype,"rangeService",2);x([Me],Zo.prototype,"postConstruct",1);var Dw=class extends Pe{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(t){const e=t.dragSource.eElement,i=t.mouseDownListener;if(e.removeEventListener("mousedown",i),t.touchEnabled){const r=t.touchStartListener;e.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(t){const e=this.dragSources.find(i=>i.dragSource===t);e&&(this.removeListener(e),zs(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t),{eElement:i,includeTouch:r,stopPropagationForTouch:n}=t;i.addEventListener("mousedown",e);let s=null;const o=this.gridOptionsService.get("suppressTouch");r&&!o&&(s=a=>{T$(a.target)||(a.cancelable&&(a.preventDefault(),n&&a.stopPropagation()),this.onTouchStart(t,a))},i.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:s,touchEnabled:!!r})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;const i=e.touches[0];this.touchLastTime=i,this.touchStart=i;const r=l=>this.onTouchMove(l,t.eElement),n=l=>this.onTouchUp(l,t.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=e.target,a=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:n,options:{passive:!0}},{target:o,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,t.eElement)}onMouseDown(t,e){const i=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,e.button!==0))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;const r=l=>this.onMouseMove(l,t.eElement),n=l=>this.onMouseUp(l,t.eElement),s=l=>l.preventDefault(),o=this.gridOptionsService.getRootNode(),a=[{target:o,type:"mousemove",listener:r},{target:o,type:"mouseup",listener:n},{target:o,type:"contextmenu",listener:s}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{const{target:i,type:r,listener:n,options:s}=e;i.addEventListener(r,n,s)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{const{target:i,type:r,listener:n,options:s}=e;i.removeEventListener(r,n,s)})})}isEventNearStartEvent(t,e){const{dragStartPixels:i}=this.currentDragParams,r=Te(i)?i:4;return L$(t,e,r)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;const r={type:F.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(r),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)}onTouchMove(t,e){const i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,e)}onMouseMove(t,e){var i;Mu()&&((i=this.gridOptionsService.getDocument().getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){const e=this.gridOptionsService.get("enableCellTextSelection"),i=t.type==="mousemove";return e&&i&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const e=t.target,i=e==null?void 0:e.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(t,e){let i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);const i={type:F.EVENT_DRAG_STOPPED,target:e};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};x([V("mouseEventService")],Dw.prototype,"mouseEventService",2);x([As],Dw.prototype,"removeAllListeners",1);Dw=x([We("dragService")],Dw);var ML="ag-list-item-hovered",Hie=class extends Pe{constructor(t,e,i){super(),this.comp=t,this.virtualList=e,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const t={isInterestedIn:e=>e===this.params.dragSourceType,getIconName:()=>this.moveBlocked?Rt.ICON_PINNED:Rt.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(t)}createAutoScrollService(){const t=this.virtualList.getGui();this.autoScrollService=new Vie({scrollContainer:t,scrollAxis:"y",getVerticalPosition:()=>t.scrollTop,setVerticalPosition:e=>t.scrollTop=e})}onDragging(t){if(!this.currentDragValue||this.moveBlocked)return;const e=this.getListDragItem(t),i=this.virtualList.getComponentAt(e.rowIndex);if(!i)return;const r=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===e.rowIndex&&this.lastHoveredListItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=e,w1(r,ML),w1(r,`ag-item-highlight-${e.position}`))}getListDragItem(t){const e=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(e).paddingTop),r=this.virtualList.getRowHeight(),n=this.virtualList.getScrollTop(),s=Math.max(0,(t.y-i+n)/r),o=this.params.getNumRows(this.comp)-1,a=Math.min(o,s)|0;return{rowIndex:a,position:Math.round(s)>s||s>o?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${ML}`).forEach(e=>{[ML,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(i=>{e.classList.remove(i)})}),this.lastHoveredListItem=null}};x([V("dragAndDropService")],Hie.prototype,"dragAndDropService",2);x([Me],Hie.prototype,"postConstruct",1);function cp(t){const e=t;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():t}var It=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}__getModel(){return this.rowModel}getGridId(){return this.context.getGridId()}addDetailGridInfo(t,e){this.detailGridInfoMap[t]=e}removeDetailGridInfo(t){this.detailGridInfoMap[t]=void 0}getDetailGridInfo(t){return this.detailGridInfoMap[t]}forEachDetailGridInfo(t){let e=0;Jn(this.detailGridInfoMap,(i,r)=>{Te(r)&&(t(r,e),e++)})}getDataAsCsv(t){if(ei.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)}exportDataAsCsv(t){ei.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)}assertNotExcelMultiSheet(t,e){return ei.__assertRegistered("@ag-grid-enterprise/excel-export","api."+t,this.context.getGridId())?this.excelCreator.getFactoryMode()===1?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1}getDataAsExcel(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)}exportDataAsExcel(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)}getSheetDataForExcel(t){if(ei.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(t)}getMultipleSheetsAsExcel(t){if(ei.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)}exportMultipleSheetsAsExcel(t){ei.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)}setGridAriaProperty(t,e){if(!t)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;e===null?i.removeAttribute(r):i.setAttribute(r,e)}logMissingRowModel(t,...e){console.error(`AG Grid: api.${t} can only be called when gridOptions.rowModelType is ${e.join(" or ")}`)}logDeprecation(t,e,i,r){ct(`Since ${t} api.${e} is deprecated. Please use ${i} instead. ${r}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(t){return this.pinnedRowModel.getPinnedTopRow(t)}getPinnedBottomRow(t){return this.pinnedRowModel.getPinnedBottomRow(t)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(t={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(t))}flashCells(t={}){const e=i=>ct(`Since v31.1 api.flashCells parameter '${i}Delay' is deprecated. Please use '${i}Duration' instead.`);Te(t.fadeDelay)&&e("fade"),Te(t.flashDelay)&&e("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(t))}redrawRows(t={}){const e=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(e))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return ct("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(t,e,i){this.expansionService.setRowNodeExpanded(t,e,i)}onGroupExpandedOrCollapsed(){if(ht(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(t)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(t){return this.rowModel.getRowNode(t)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(t,e,i){this.rowRenderer.addRenderedRowListener(t,e,i)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return ei.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(t){this.filterManager.setAdvancedFilterModel(t)}showAdvancedFilterBuilder(){ei.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(t){if(!t.nodes.every(o=>o.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):o.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:i,source:r,newValue:n}=t,s=i;this.selectionService.setNodesSelected({nodes:s,source:r??"api",newValue:n})}selectAll(t="apiSelectAll"){this.selectionService.selectAllRowNodes({source:t})}deselectAll(t="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:t})}selectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}deselectAllFiltered(t="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}getServerSideSelectionState(){return ht(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(t){if(ht(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(t,"api")}selectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}deselectAllOnCurrentPage(t="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(ht(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(t,e="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e),"ensureVisible")}ensureIndexVisible(t,e){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e),"ensureVisible")}ensureNodeVisible(t,e=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e),"ensureVisible")}forEachLeafNode(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(t)}forEachNode(t,e){this.rowModel.forEachNode(t,e)}forEachNodeAfterFilter(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(t)}forEachNodeAfterFilterAndSort(t){if(ht(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)}getFilterInstance(t,e){return ct("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)}getColumnFilterInstance(t){return this.filterManager.getColumnFilterInstance(t)}destroyFilter(t){const e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")}getStatusPanel(t){if(!ei.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;const e=this.statusBarService.getStatusPanel(t);return cp(e)}getColumnDef(t){const e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(t="api"){this.filterManager.onFilterChanged({source:t})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(t){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(t))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(t){return this.filterManager.getColumnFilterModel(t)}setColumnFilterModel(t,e){return this.filterManager.setColumnFilterModel(t,e)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(t,e,i){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:i,forceBrowserFocus:!0})}addRowDropZone(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)}removeRowDropZone(t){const e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)}getRowDropZoneParams(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)}assertSideBarLoaded(t){return ei.__assertRegistered("@ag-grid-enterprise/side-bar","api."+t,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)}setSideBarPosition(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)}openToolPanel(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(t){if(this.assertSideBarLoaded("getToolPanelInstance")){const e=this.sideBarService.getSideBarComp().getToolPanelInstance(t);return cp(e)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(Te(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setRowCount(t,e){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(t,e);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(t,e);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(t,e){let i=this.columnModel.getPrimaryColumn(t);return ht(i)&&(i=this.columnModel.getGridColumn(t)),ht(i)?null:this.valueService.getValue(i,e)}addEventListener(t,e){this.apiEventService.addEventListener(t,e)}addGlobalListener(t){this.apiEventService.addGlobalListener(t)}removeEventListener(t,e){this.apiEventService.removeEventListener(t,e)}removeGlobalListener(t){this.apiEventService.removeGlobalListener(t)}dispatchEvent(t){this.eventService.dispatchEvent(t)}destroy(){const t=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const e={type:F.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;const i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy(),kee(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(ei.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(t){if(this.rangeService){this.rangeService.addCellRange(t);return}ei.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),ei.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(t,e){if(ei.__assertRegistered("@ag-grid-enterprise/charts","api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>e())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(t){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(t))}getChartImageDataURL(t){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(t))}downloadChart(t){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(t))}openChartToolPanel(t){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(t))}closeChartToolPanel(t){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(t.chartId))}createRangeChart(t){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(t))}createPivotChart(t){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(t))}createCrossFilterChart(t){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(t))}updateChart(t){return this.assertChart("updateChart",()=>this.chartService.updateChart(t))}restoreChart(t,e){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(t,e))}assertClipboard(t,e){ei.__assertRegistered("@ag-grid-enterprise/clipboard","api"+t,this.context.getGridId())&&e()}copyToClipboard(t){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(t))}cutToClipboard(t){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(t))}copySelectedRowsToClipboard(t){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(t))}copySelectedRangeToClipboard(t){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(t))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(t,e){ct("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const i=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:i,buttonElement:e,positionBy:"button"})}showColumnMenuAfterMouseClick(t,e){ct("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let i=this.columnModel.getGridColumn(t);if(i||(i=this.columnModel.getPrimaryColumn(t)),!i){console.error(`AG Grid: column '${t}' not found`);return}this.menuService.showColumnMenu({column:i,mouseEvent:e,positionBy:"mouse"})}showColumnChooser(t){this.menuService.showColumnChooser({chooserParams:t})}showColumnFilter(t){const e=this.columnModel.getGridColumn(t);if(!e){console.error(`AG Grid: column '${t}' not found`);return}this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"})}showColumnMenu(t){const e=this.columnModel.getGridColumn(t);if(!e){console.error(`AG Grid: column '${t}' not found`);return}this.menuService.showColumnMenu({column:e,positionBy:"auto"})}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(t){return this.navigationService.tabToNextCell(!1,t)}tabToPreviousCell(t){return this.navigationService.tabToNextCell(!0,t)}getCellRendererInstances(t={}){return this.rowRenderer.getCellRendererInstances(t).map(cp)}getCellEditorInstances(t={}){return this.rowRenderer.getCellEditorInstances(t).map(cp)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(t=!1){this.rowRenderer.stopEditing(t)}startEditingCell(t){const e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn(`AG Grid: no column found for ${t.colKey}`);return}const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};t.rowPinned==null&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);const n=this.navigationService.getCellByPosition(i);n&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),n.startRowOrCellEdit(t.key))}addAggFunc(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})}addAggFuncs(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(t)}applyServerSideTransactionAsync(t,e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)}applyServerSideRowData(t){var e,i;const r=(e=t.startRow)!=null?e:0,n=(i=t.route)!=null?i:[];if(r<0){console.warn(`AG Grid: invalid value ${t.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,r,n):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(t))}applyTransactionAsync(t,e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(t,e))}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions())}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(t){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(t)}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(t){return this.rowModel.getRow(t)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(t){this.paginationProxy.goToPage(t)}sizeColumnsToFit(t){typeof t=="number"?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)}setColumnGroupOpened(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")}getColumnGroup(t,e){return this.columnModel.getColumnGroup(t,e)}getProvidedColumnGroup(t){return this.columnModel.getProvidedColumnGroup(t)}getDisplayNameForColumn(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""}getDisplayNameForColumnGroup(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""}getColumn(t){return this.columnModel.getPrimaryColumn(t)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(t){return this.columnModel.applyColumnState(t,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(t){this.columnModel.setColumnGroupState(t,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(t){return this.columnModel.getDisplayedColAfter(t)}getDisplayedColBefore(t){return this.columnModel.getDisplayedColBefore(t)}setColumnVisible(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")}setColumnsVisible(t,e){this.columnModel.setColumnsVisible(t,e,"api")}setColumnPinned(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")}setColumnsPinned(t,e){this.columnModel.setColumnsPinned(t,e,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")}moveColumnByIndex(t,e){this.columnModel.moveColumnByIndex(t,e,"api")}moveColumns(t,e){this.columnModel.moveColumns(t,e,"api")}moveRowGroupColumn(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")}setColumnAggFunc(t,e){this.columnModel.setColumnAggFunc(t,e,"api")}setColumnWidth(t,e,i=!0,r="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,r)}setColumnWidths(t,e=!0,i="api"){this.columnModel.setColumnWidths(t,!1,e,i)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)}setValueColumns(t){this.columnModel.setValueColumns(t,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")}removeValueColumns(t){this.columnModel.removeValueColumns(t,"api")}addValueColumn(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")}addValueColumns(t){this.columnModel.addValueColumns(t,"api")}setRowGroupColumns(t){this.columnModel.setRowGroupColumns(t,"api")}removeRowGroupColumn(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")}removeRowGroupColumns(t){this.columnModel.removeRowGroupColumns(t,"api")}addRowGroupColumn(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")}addRowGroupColumns(t){this.columnModel.addRowGroupColumns(t,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(t){this.columnModel.setPivotColumns(t,"api")}removePivotColumn(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")}removePivotColumns(t){this.columnModel.removePivotColumns(t,"api")}addPivotColumn(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")}addPivotColumns(t){this.columnModel.addPivotColumns(t,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})}autoSizeColumns(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})}autoSizeAllColumns(t){this.columnModel.autoSizeAllColumns("api",t)}setPivotResultColumns(t){this.columnModel.setSecondaryColumns(t,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(t){return this.gos.get(t)}setGridOption(t,e){this.updateGridOptions({[t]:e})}updateGridOptions(t){this.gos.updateGridOptions({options:t})}__internalUpdateGridOptions(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(t,e){ct(`set${t.charAt(0).toUpperCase()}${t.slice(1,t.length)} is deprecated. Please use 'api.setGridOption('${t}', newValue)' or 'api.updateGridOptions({ ${t}: newValue })' instead.`),this.setGridOption(t,e)}setPivotMode(t){this.deprecatedUpdateGridOption("pivotMode",t)}setPinnedTopRowData(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)}setPinnedBottomRowData(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)}setPopupParent(t){this.deprecatedUpdateGridOption("popupParent",t)}setSuppressModelUpdateAfterUpdateTransaction(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)}setDataTypeDefinitions(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)}setPagination(t){this.deprecatedUpdateGridOption("pagination",t)}paginationSetPageSize(t){this.deprecatedUpdateGridOption("paginationPageSize",t)}setSideBar(t){this.deprecatedUpdateGridOption("sideBar",t)}setSuppressClipboardPaste(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)}setGroupRemoveSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)}setGroupRemoveLowestSingleChildren(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)}setGroupDisplayType(t){this.deprecatedUpdateGridOption("groupDisplayType",t)}setGroupIncludeFooter(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)}setGroupIncludeTotalFooter(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)}setRowClass(t){this.deprecatedUpdateGridOption("rowClass",t)}setDeltaSort(t){this.deprecatedUpdateGridOption("deltaSort",t)}setSuppressRowDrag(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)}setSuppressMoveWhenRowDragging(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)}setSuppressRowClickSelection(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)}setEnableAdvancedFilter(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)}setIncludeHiddenColumnsInAdvancedFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)}setAdvancedFilterParent(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)}setAdvancedFilterBuilderParams(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)}setQuickFilter(t){ct("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})}setExcludeHiddenColumnsFromQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)}setIncludeHiddenColumnsInQuickFilter(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)}setQuickFilterParser(t){this.deprecatedUpdateGridOption("quickFilterParser",t)}setQuickFilterMatcher(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)}setAlwaysShowHorizontalScroll(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)}setAlwaysShowVerticalScroll(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)}setFunctionsReadOnly(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)}setColumnDefs(t,e="api"){ct("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})}setAutoGroupColumnDef(t,e="api"){ct("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})}setDefaultColDef(t,e="api"){ct("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})}setColumnTypes(t,e="api"){ct("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})}setTreeData(t){this.deprecatedUpdateGridOption("treeData",t)}setServerSideDatasource(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)}setCacheBlockSize(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)}setDatasource(t){this.deprecatedUpdateGridOption("datasource",t)}setViewportDatasource(t){this.deprecatedUpdateGridOption("viewportDatasource",t)}setRowData(t){this.deprecatedUpdateGridOption("rowData",t)}setEnableCellTextSelection(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)}setHeaderHeight(t){this.deprecatedUpdateGridOption("headerHeight",t)}setDomLayout(t){this.deprecatedUpdateGridOption("domLayout",t)}setFillHandleDirection(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)}setGroupHeaderHeight(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)}setFloatingFiltersHeight(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)}setPivotHeaderHeight(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)}setPivotGroupHeaderHeight(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)}setAnimateRows(t){this.deprecatedUpdateGridOption("animateRows",t)}setIsExternalFilterPresent(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)}setDoesExternalFilterPass(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)}setNavigateToNextCell(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)}setTabToNextCell(t){this.deprecatedUpdateGridOption("tabToNextCell",t)}setTabToNextHeader(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)}setNavigateToNextHeader(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)}setRowGroupPanelShow(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)}setGetGroupRowAgg(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)}setGetBusinessKeyForNode(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)}setGetChildCount(t){this.deprecatedUpdateGridOption("getChildCount",t)}setProcessRowPostCreate(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)}setGetRowId(t){ct("getRowId is a static property and can no longer be updated.")}setGetRowClass(t){this.deprecatedUpdateGridOption("getRowClass",t)}setIsFullWidthRow(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)}setIsRowSelectable(t){this.deprecatedUpdateGridOption("isRowSelectable",t)}setIsRowMaster(t){this.deprecatedUpdateGridOption("isRowMaster",t)}setPostSortRows(t){this.deprecatedUpdateGridOption("postSortRows",t)}setGetDocument(t){this.deprecatedUpdateGridOption("getDocument",t)}setGetContextMenuItems(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)}setGetMainMenuItems(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)}setProcessCellForClipboard(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)}setSendToClipboard(t){this.deprecatedUpdateGridOption("sendToClipboard",t)}setProcessCellFromClipboard(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)}setProcessPivotResultColDef(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)}setProcessPivotResultColGroupDef(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)}setPostProcessPopup(t){this.deprecatedUpdateGridOption("postProcessPopup",t)}setInitialGroupOrderComparator(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)}setGetChartToolbarItems(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)}setPaginationNumberFormatter(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)}setGetServerSideGroupLevelParams(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)}setIsServerSideGroupOpenByDefault(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)}setIsApplyServerSideTransaction(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)}setIsServerSideGroup(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)}setGetServerSideGroupKey(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)}setGetRowStyle(t){this.deprecatedUpdateGridOption("getRowStyle",t)}setGetRowHeight(t){this.deprecatedUpdateGridOption("getRowHeight",t)}};x([Kt("csvCreator")],It.prototype,"csvCreator",2);x([Kt("excelCreator")],It.prototype,"excelCreator",2);x([V("rowRenderer")],It.prototype,"rowRenderer",2);x([V("navigationService")],It.prototype,"navigationService",2);x([V("filterManager")],It.prototype,"filterManager",2);x([V("columnModel")],It.prototype,"columnModel",2);x([V("selectionService")],It.prototype,"selectionService",2);x([V("gridOptionsService")],It.prototype,"gos",2);x([V("valueService")],It.prototype,"valueService",2);x([V("alignedGridsService")],It.prototype,"alignedGridsService",2);x([V("eventService")],It.prototype,"eventService",2);x([V("pinnedRowModel")],It.prototype,"pinnedRowModel",2);x([V("context")],It.prototype,"context",2);x([V("rowModel")],It.prototype,"rowModel",2);x([V("sortController")],It.prototype,"sortController",2);x([V("paginationProxy")],It.prototype,"paginationProxy",2);x([V("focusService")],It.prototype,"focusService",2);x([V("dragAndDropService")],It.prototype,"dragAndDropService",2);x([Kt("rangeService")],It.prototype,"rangeService",2);x([Kt("clipboardService")],It.prototype,"clipboardService",2);x([Kt("aggFuncService")],It.prototype,"aggFuncService",2);x([V("menuService")],It.prototype,"menuService",2);x([V("valueCache")],It.prototype,"valueCache",2);x([V("animationFrameService")],It.prototype,"animationFrameService",2);x([Kt("statusBarService")],It.prototype,"statusBarService",2);x([Kt("chartService")],It.prototype,"chartService",2);x([Kt("undoRedoService")],It.prototype,"undoRedoService",2);x([Kt("rowNodeBlockLoader")],It.prototype,"rowNodeBlockLoader",2);x([Kt("ssrmTransactionManager")],It.prototype,"serverSideTransactionManager",2);x([V("ctrlsService")],It.prototype,"ctrlsService",2);x([V("overlayService")],It.prototype,"overlayService",2);x([Kt("sideBarService")],It.prototype,"sideBarService",2);x([V("stateService")],It.prototype,"stateService",2);x([V("expansionService")],It.prototype,"expansionService",2);x([V("apiEventService")],It.prototype,"apiEventService",2);x([V("frameworkOverrides")],It.prototype,"frameworkOverrides",2);x([Me],It.prototype,"init",1);It=x([We("gridApi")],It);var Qs=class extends Pe{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(t){const e=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(e,t):this.quickFilterParts.every(i=>e?this.doesRowPassQuickFilterCache(t,i):this.doesRowPassQuickFilterNoCache(t,i))}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:t,parser:e}=this;t?this.quickFilterParts=e?e(t):t.split(" "):this.quickFilterParts=null}parseQuickFilter(t){return Te(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(t!=null&&typeof t!="string"){console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof t}`);return}const e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchEvent({type:Qs.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const t=this.gridOptionsService.get("quickFilterParser"),e=this.gridOptionsService.get("quickFilterMatcher"),i=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:Qs.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:Qs.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(t,e){return this.columnModel.getAllColumnsForQuickFilter().some(r=>{const n=this.getQuickFilterTextForColumn(r,t);return Te(n)&&n.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let i;t?(this.checkGenerateQuickFilterAggregateText(e),i=e.quickFilterAggregateText):i=this.getQuickFilterAggregateText(e);const{quickFilterParts:r,matcher:n}=this;return n(r,i)}checkGenerateQuickFilterAggregateText(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))}getQuickFilterTextForColumn(t,e){let i=this.valueService.getValue(t,e,!0);const r=t.getColDef();if(r.getQuickFilterText){const n=this.gridOptionsService.addGridCommonParams({value:i,node:e,data:e.data,column:t,colDef:r});i=r.getQuickFilterText(n)}return Te(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(t){const e=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(r=>{const n=this.getQuickFilterTextForColumn(r,t);Te(n)&&e.push(n)}),e.join(Qs.QUICK_FILTER_SEPARATOR)}};Qs.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";Qs.QUICK_FILTER_SEPARATOR=`
`;x([V("valueService")],Qs.prototype,"valueService",2);x([V("columnModel")],Qs.prototype,"columnModel",2);x([V("rowModel")],Qs.prototype,"rowModel",2);x([Me],Qs.prototype,"postConstruct",1);Qs=x([We("quickFilterService")],Qs);var ka=class extends Pe{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var t,e,i;this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,F.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",r=>this.setAdvancedFilterModel(r.currentValue)),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:r})=>this.onAdvancedFilterEnabledChanged(r)),this.addManagedListener(this.eventService,F.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Qs.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=it({},(i=(e=(t=this.gridOptionsService.get("initialState"))==null?void 0:t.filter)==null?void 0:e.filterModel)!=null?i:{})}isExternalFilterPresentCallback(){const t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1}doesExternalFilterPass(t){const e=this.gridOptionsService.get("doesExternalFilterPass");return typeof e=="function"?e(t):!1}setFilterModel(t,e="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:e});return}const i=[],r=this.getFilterModel();if(t){const n=_$(Object.keys(t));this.allColumnFilters.forEach((s,o)=>{const a=t[o];i.push(this.setModelOnFilterWrapper(s.filterPromise,a)),n.delete(o)}),n.forEach(s=>{const o=this.columnModel.getPrimaryColumn(s)||this.columnModel.getGridColumn(s);if(!o){console.warn("AG Grid: setFilterModel() - no column found for colId: "+s);return}if(!o.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);return}const a=this.getOrCreateFilterWrapper(o,"NO_UI");if(!a){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s);return}i.push(this.setModelOnFilterWrapper(a.filterPromise,t[s]))})}else this.allColumnFilters.forEach(n=>{i.push(this.setModelOnFilterWrapper(n.filterPromise,null))});Tr.all(i).then(()=>{const n=this.getFilterModel(),s=[];this.allColumnFilters.forEach((o,a)=>{const l=r?r[a]:null,u=n?n[a]:null;ft.jsonEquals(l,u)||s.push(o.column)}),s.length>0&&this.onFilterChanged({columns:s,source:e})})}setModelOnFilterWrapper(t,e){return new Tr(i=>{t.then(r=>{typeof r.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(r.setModel(e)||Tr.resolve()).then(()=>i())})})}getFilterModel(){const t={};return this.allColumnFilters.forEach((e,i)=>{const r=this.getModelFromFilterWrapper(e);Te(r)&&(t[i]=r)}),t}getModelFromFilterWrapper(t){var e;const r=t.filterPromise.resolveNow(null,n=>n);return r==null?(e=this.initialFilterModel[t.column.getColId()])!=null?e:null:typeof r.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):r.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){var e;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(i=>this.disposeFilterWrapper(i,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(e=this.advancedFilterService)!=null&&e.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var t;return!!((t=this.advancedFilterService)!=null&&t.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const t=r=>r?r.isFilterActive?r.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,e=!!this.gridOptionsService.getGroupAggFiltering(),i=r=>{if(!r.isPrimary())return!0;const s=!this.columnModel.isPivotActive();return!r.isValueActive()||!s?!1:this.columnModel.isPivotMode()?!0:e};this.allColumnFilters.forEach(r=>{if(r.filterPromise.resolveNow(!1,t)){const n=r.filterPromise.resolveNow(null,s=>s);i(r.column)?this.activeAggregateFilters.push(n):this.activeColumnFilters.push(n)}})}updateFilterFlagInColumns(t,e){this.allColumnFilters.forEach(i=>{const r=i.filterPromise.resolveNow(!1,n=>n.isFilterActive());i.column.setFilterActive(r,t,e)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(t,e,i){const{data:r,aggData:n}=t,s=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?n:r;for(let a=0;a<s.length;a++){const l=s[a];if(!(l==null||l===e)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:o}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(t){const e=()=>this.onFilterChanged(t);this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}onFilterChanged(t={}){const{source:e,filterInstance:i,additionalEventAttributes:r,columns:n}=t;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",r),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(a=>{a&&a!==i&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const s={source:e,type:F.EVENT_FILTER_CHANGED,columns:n||[]};r&&Go(s,r),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var t;return!((t=this.gridOptionsService.get("allowShowChangeAfterFilter"))!=null?t:!1)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))}onNewRowsLoaded(t){this.allColumnFilters.forEach(e=>{e.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}createGetValue(t){return(e,i)=>{const r=i?this.columnModel.getGridColumn(i):t;return r?this.valueService.getValue(r,e,!0):void 0}}getFilterComponent(t,e,i=!0){var r;if(i)return((r=this.getOrCreateFilterWrapper(t,e))==null?void 0:r.filterPromise)||null;const n=this.cachedFilter(t);return n?n.filterPromise:null}isFilterActive(t){const e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(t,e){if(!t.isFilterAllowed())return null;let i=this.cachedFilter(t);return i?e!=="NO_UI"&&this.putIntoGui(i,e):(i=this.createFilterWrapper(t,e),this.setColumnFilterWrapper(t,i)),i}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){let e;if(ei.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFilter";else{const i=this.dataTypeService.getBaseDataType(t);i==="number"?e="agNumberColumnFilter":i==="date"||i==="dateString"?e="agDateColumnFilter":e="agTextColumnFilter"}return e}getDefaultFloatingFilter(t){let e;if(ei.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))e="agSetColumnFloatingFilter";else{const i=this.dataTypeService.getBaseDataType(t);i==="number"?e="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?e="agDateColumnFloatingFilter":e="agTextColumnFloatingFilter"}return e}createFilterInstance(t){const e=this.getDefaultFilter(t),i=t.getColDef();let r;const n=Ui(it({},this.createFilterParams(t,i)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,t)(),filterChangedCallback:o=>this.filterChangedCallbackFactory(r,t)(o),doesRowPassOtherFilter:o=>this.doesRowPassOtherFilters(r,o)}),s=this.userComponentFactory.getFilterDetails(i,n,e);return s?{filterPromise:()=>{const o=s.newAgStackInstance();return o&&o.then(a=>r=a),o},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return this.gridOptionsService.addGridCommonParams({column:t,colDef:o$(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(t,e){var i;const r={column:t,filterPromise:null,compiledElement:null,guiPromise:Tr.resolve(null),compDetails:null},{filterPromise:n,compDetails:s}=this.createFilterInstance(t);return r.filterPromise=(i=n==null?void 0:n())!=null?i:null,r.compDetails=s,n&&this.putIntoGui(r,e),r}putIntoGui(t,e){const i=document.createElement("div");i.className="ag-filter",t.guiPromise=new Tr(r=>{t.filterPromise.then(n=>{let s=n.getGui();Te(s)||console.warn(`AG Grid: getGui method from filter returned ${s}, it should be a DOM element or an HTML template string.`),typeof s=="string"&&(s=Xs(s)),i.appendChild(s),r(i);const o={type:F.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:i};this.eventService.dispatchEvent(o)})})}onColumnsChanged(){const t=[];this.allColumnFilters.forEach((e,i)=>{let r;e.column.isPrimary()?r=this.columnModel.getPrimaryColumn(i):r=this.columnModel.getGridColumn(i),!r&&(t.push(e.column),this.disposeFilterWrapper(e,"columnChanged"),this.disposeColumnListener(i))}),t.length>0?this.onFilterChanged({columns:t,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const t=this.columnModel.getGroupAutoColumns();t==null||t.forEach(e=>{e.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(e,"NO_UI")})}isFilterAllowed(t){var e,i;if(this.isAdvancedFilterEnabled()||!t.isFilterAllowed())return!1;const n=this.allColumnFilters.get(t.getColId());return(i=(e=n==null?void 0:n.filterPromise)==null?void 0:e.resolveNow(!0,s=>typeof(s==null?void 0:s.isFilterAllowed)=="function"?s==null?void 0:s.isFilterAllowed():!0))!=null?i:!0}getFloatingFilterCompDetails(t,e){const i=l=>{const u=this.getFilterComponent(t,"NO_UI");u!=null&&u.then(c=>{l(cp(c))})},r=t.getColDef(),n=Ui(it({},this.createFilterParams(t,r)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,t)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(r,T1,n);let o=this.userComponentFactory.getDefaultFloatingFilterType(r,()=>this.getDefaultFloatingFilter(t));o==null&&(o="agReadOnlyFloatingFilter");const a={column:t,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:i,showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(r,a,o)}getCurrentFloatingFilterParentModel(t){const e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(t,e="api"){const i=t.getColId(),r=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],r&&(this.disposeFilterWrapper(r,e),this.onFilterChanged({columns:[t],source:"api"}))}disposeColumnListener(t){const e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(i=>{this.getContext().destroyBean(i),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId());const r={type:F.EVENT_FILTER_DESTROYED,source:e,column:t.column};this.eventService.dispatchEvent(r)})}filterModifiedCallbackFactory(t,e){return()=>{const i={type:F.EVENT_FILTER_MODIFIED,column:e,filterInstance:t};this.eventService.dispatchEvent(i)}}filterChangedCallbackFactory(t,e){return i=>{var r;const n=(r=i==null?void 0:i.source)!=null?r:"api",s={filter:t,additionalEventAttributes:i,columns:[e],source:n};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e)return;const i=e.column,{compDetails:r}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,r)){this.destroyFilter(i,"paramsUpdated");return}const n=i.getColDef().filterParams;if(!e.filterPromise){this.destroyFilter(i,"paramsUpdated");return}e.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh(it(Ui(it({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,i),filterChangedCallback:this.filterChangedCallbackFactory(s,i),doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(s,a)}),n)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(t,e){const i=t.getColId();this.allColumnFilters.set(i,e),this.allColumnListeners.set(i,this.addManagedListener(t,yi.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(i)))}areFilterCompsDifferent(t,e){if(!e||!t)return!0;const{componentClass:i}=t,{componentClass:r}=e;return!(i===r||(i==null?void 0:i.render)&&(r==null?void 0:r.render)&&i.render===r.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:this.columnModel.getAllGridColumns().some(e=>e.getColDef().floatingFilter)}getFilterInstance(t,e){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const i=this.getFilterInstanceImpl(t,n=>{if(!e)return;const s=cp(n);e(s)});return cp(i)}getColumnFilterInstance(t){return new Promise(e=>{this.getFilterInstance(t,i=>{e(i)})})}getFilterInstanceImpl(t,e){const i=this.columnModel.getPrimaryColumn(t);if(!i)return;const r=this.getFilterComponent(i,"NO_UI"),n=r&&r.resolveNow(null,s=>s);return n?setTimeout(e,0,n):r&&r.then(s=>{e(s)}),n}warnAdvancedFilters(){ct("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){var e;(e=this.advancedFilterService)==null||e.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:t,source:e})=>this.setFilterModel(t,e)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:t,model:e,resolve:i})=>{this.setColumnFilterModel(t,e).then(()=>i())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(t=>this.setAdvancedFilterModel(t)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){const e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let s=()=>{};const o=new Promise(a=>{s=a});return this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:s}),o}const i=this.columnModel.getPrimaryColumn(t),r=i?this.getOrCreateFilterWrapper(i,"NO_UI"):null;return r?(s=>new Promise(o=>{s.then(a=>o(a))}))(this.setModelOnFilterWrapper(r.filterPromise,e)):Promise.resolve()}getFilterWrapper(t){var e;const i=this.columnModel.getPrimaryColumn(t);return i&&(e=this.cachedFilter(i))!=null?e:null}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};x([V("valueService")],ka.prototype,"valueService",2);x([V("columnModel")],ka.prototype,"columnModel",2);x([V("rowModel")],ka.prototype,"rowModel",2);x([V("userComponentFactory")],ka.prototype,"userComponentFactory",2);x([V("rowRenderer")],ka.prototype,"rowRenderer",2);x([V("dataTypeService")],ka.prototype,"dataTypeService",2);x([V("quickFilterService")],ka.prototype,"quickFilterService",2);x([Kt("advancedFilterService")],ka.prototype,"advancedFilterService",2);x([Me],ka.prototype,"init",1);ka=x([We("filterManager")],ka);var j$=class extends Et{constructor(t,e){super(t),this.ctrl=e}getCtrl(){return this.ctrl}},Kf=class $ie extends j${constructor(e){super($ie.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i={addOrRemoveCssClass:(r,n)=>this.addOrRemoveCssClass(r,n),addOrRemoveBodyCssClass:(r,n)=>this.eFloatingFilterBody.classList.toggle(r,n),setButtonWrapperDisplayed:r=>Vt(this.eButtonWrapper,r),setCompDetails:r=>this.setCompDetails(r),getFloatingFilterComp:()=>this.compPromise,setWidth:r=>e.style.width=r,setMenuIcon:r=>this.eButtonShowMainFilter.appendChild(r)};this.ctrl.setComp(i,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};Kf.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;x([ke("eFloatingFilterBody")],Kf.prototype,"eFloatingFilterBody",2);x([ke("eButtonWrapper")],Kf.prototype,"eButtonWrapper",2);x([ke("eButtonShowMainFilter")],Kf.prototype,"eButtonShowMainFilter",2);x([Me],Kf.prototype,"postConstruct",1);x([As],Kf.prototype,"destroyFloatingFilterComp",1);var lFe=Kf,LO=class extends Pe{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout(),e={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},i=e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,e)}getDomLayout(){var t;const e=(t=this.gridOptionsService.get("domLayout"))!=null?t:"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ct(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}};x([Me],LO.prototype,"postConstruct",1);var Xc=class extends Pe{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=Cs(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Cs(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));const i=this.gridOptionsService.get("debounceVerticalScrollbar"),r=i?Cs(this.onVScroll.bind(this),100):this.onVScroll.bind(this),n=i?Cs(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",r),e.onScrollCallback(n)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){if(this.centerRowContainerCtrl==null)return;t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?t:-t,r=this.ctrlsService.getTopCenterRowContainerCtrl(),n=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),o=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),s.setContainerTranslateX(i),r.setContainerTranslateX(i),n.setContainerTranslateX(i);const l=this.centerRowContainerCtrl.getViewportElement(),u=this.lastScrollSource[1]===0;t=Math.abs(t),u?o.setScrollPosition(t):bw(l,t,this.enableRtl)}isControllingScroll(t,e){return this.lastScrollSource[e]==null?(this.lastScrollSource[e]=t,!0):this.lastScrollSource[e]===t}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(t){const e=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:i}=e;if(this.shouldBlockScrollUpdate(1,i,!0))return;let r;t===0?r=Ew(e,this.enableRtl):r=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(r)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(t){let e;t===0?e=this.eBodyViewport.scrollTop:e=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(0,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t===0?this.ctrlsService.getFakeVScrollComp().setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){const e=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(t){const e={type:F.EVENT_BODY_SCROLL,direction:t===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=Ui(it({},e),{type:F.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(t,e,i=!1){return i&&!Kc()?!1:t===0?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e)}shouldBlockVerticalScroll(t){const e=Ab(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return t<0||t+e>i}shouldBlockHorizontalScroll(t){const e=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&ww()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){const r=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(1,t)&&(this.enableRtl&&ww()?t=t>0?0:r:t=Math.min(Math.max(t,0),r)),bw(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const i=this.rowModel.getRowCount();let r=-1;for(let n=0;n<i;n++){const s=this.rowModel.getRow(n);if(typeof t=="function"){if(s&&t(s)){r=n;break}}else if(t===s||t===s.data){r=n;break}}r>=0&&this.ensureIndexVisible(r,e)}ensureIndexVisible(t,e){if(this.gridOptionsService.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=i){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}const n=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{n||this.paginationProxy.goToPageWithIndex(t);const o=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),a=this.paginationProxy.getRow(t);let l;do{const u=a.rowTop,c=a.rowHeight,d=this.paginationProxy.getPixelOffset(),h=a.rowTop-d,f=h+a.rowHeight,g=this.getVScrollPosition(),m=this.heightScaler.getDivStretchOffset(),C=g.top+m,S=g.bottom+m,y=S-C,w=this.heightScaler.getScrollPositionForPixel(h),E=this.heightScaler.getScrollPositionForPixel(f-y),b=Math.min((w+E)/2,h),D=C+o>h,P=S<f;let O=null;e==="top"?O=w:e==="bottom"?O=E:e==="middle"?O=b:D?O=w-o:P&&(O=E),O!==null&&(this.setVerticalScrollPosition(O),this.rowRenderer.redraw({afterScroll:!0})),l=u!==a.rowTop||c!==a.rowHeight}while(l);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(t,e="auto"){const i=this.columnModel.getGridColumn(t);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const r=this.getPositionedHorizontalScroll(i,e);this.getFrameworkOverrides().wrapIncoming(()=>{r!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(r),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowContainerCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:i,columnAfterEnd:r}=this.isColumnOutsideViewport(t),n=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:r)||n,l=o?r:i;e!=="auto"&&(a=e==="start",l=e==="end");const u=e==="middle";if(a||l||u){const{colLeft:c,colMiddle:d,colRight:h}=this.getColumnBounds(t);return u?d-s/2:a?o?h:c:o?c-s:h-s}return null}isColumnOutsideViewport(t){const{start:e,end:i}=this.getViewportBounds(),{colLeft:r,colRight:n}=this.getColumnBounds(t),s=this.enableRtl,o=s?e>n:i<n,a=s?i<r:e>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(t){const e=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),r=t.getActualWidth(),n=t.getLeft(),s=e?-1:1,o=e?i-n:n,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=e,r=t+e;return{start:i,end:r,width:t}}};x([V("ctrlsService")],Xc.prototype,"ctrlsService",2);x([V("animationFrameService")],Xc.prototype,"animationFrameService",2);x([V("paginationProxy")],Xc.prototype,"paginationProxy",2);x([V("rowModel")],Xc.prototype,"rowModel",2);x([V("rowContainerHeightService")],Xc.prototype,"heightScaler",2);x([V("rowRenderer")],Xc.prototype,"rowRenderer",2);x([V("columnModel")],Xc.prototype,"columnModel",2);x([Me],Xc.prototype,"postConstruct",1);var Bie="ag-force-vertical-scroll",uFe="ag-selectable",cFe="ag-column-moving",as=class extends Pe{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,i,r,n,s){this.comp=t,this.eGridBody=e,this.eBodyViewport=i,this.eTop=r,this.eBottom=n,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",o=>this.setCellTextSelection(o.currentValue)),this.createManagedBean(new LO(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Xc(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,i,n,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(r),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(t){t.forEach(e=>{this.addManagedListener(e,"focusin",i=>{const{target:r}=i,n=xp(r,"ag-root",e);e.classList.toggle("ag-has-focus",!n)}),this.addManagedListener(e,"focusout",i=>{const{target:r,relatedTarget:n}=i,s=e.contains(n),o=xp(n,"ag-root",e);xp(r,"ag-root",e)||(!s||o)&&e.classList.remove("ag-has-focus")})})}setColumnMovingCss(t){this.comp.setColumnMovingCss(cFe,t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss(uFe,t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);const e=t&&this.gridOptionsService.getScrollbarWidth()||0,i=E$()?16:0,r=`calc(100% + ${e+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(r))}onGridColumnsChanged(){const t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.get("stopEditingWhenCellsLoseFocus"))return;const t=i=>{const r=i.relatedTarget;if(px(r)===null){this.rowRenderer.stopEditing();return}let n=e.some(s=>s.contains(r))&&this.mouseEventService.isElementInThisGrid(r);if(!n){const s=this.popupService;n=s.getActivePopups().some(o=>o.contains(r))||s.isElementWithinCustomPopup(r)}n||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];e.forEach(i=>this.addManagedListener(i,"focusout",t))}updateRowCount(){const t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=e===-1?-1:t+e;this.comp.setRowCount(i)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){const e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)}isVerticalScrollShowing(){const t=this.gridOptionsService.get("alwaysShowVerticalScroll"),e=t?Bie:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||i&&Vte(this.eBodyViewport)}setupRowAnimationCssClass(){const t=()=>{const e=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),i=e?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,e)};t(),this.addManagedListener(this.eventService,F.EVENT_HEIGHT_SCALE_CHANGED,t),this.addManagedPropertyListener("animateRows",t)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const t=this.eBodyViewport.querySelector(".ag-full-width-container"),e=this.eBodyViewport.querySelector(".ag-center-cols-viewport");t&&e&&this.addManagedListener(t,"wheel",i=>this.onFullWidthContainerWheel(i,e))}onFullWidthContainerWheel(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))}onBodyViewportContextMenu(t,e,i){if(!t&&!i)return;this.gridOptionsService.get("preventDefaultOnContextMenu")&&(t||i).preventDefault();const{target:r}=t||e;(r===this.eBodyViewport||r===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(t){if(!Kc())return;const e=new vn(this.eBodyViewport),i=r=>{t(void 0,r.touchStart,r.touchEvent)};this.addManagedListener(e,vn.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()}onStickyTopWheel(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Zo(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:t}=this;let e=t.getPinnedTopTotalHeight(),i=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e),this.comp.setBottomHeight(i),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(t){if(!t)this.comp.setStickyTopWidth("100%");else{const e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let r=0;e>0&&(r+=e+1),i>0&&(r+=i+1),this.comp.setStickyTopTop(`${r}px`)}sizeColumnsToFit(t,e){const r=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,s=$f(this.eGridBody)-r;if(s>0){this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,t);return}e===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):e===100?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):e===500?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}};x([V("animationFrameService")],as.prototype,"animationFrameService",2);x([V("rowContainerHeightService")],as.prototype,"rowContainerHeightService",2);x([V("ctrlsService")],as.prototype,"ctrlsService",2);x([V("columnModel")],as.prototype,"columnModel",2);x([V("scrollVisibleService")],as.prototype,"scrollVisibleService",2);x([V("menuService")],as.prototype,"menuService",2);x([V("headerNavigationService")],as.prototype,"headerNavigationService",2);x([V("dragAndDropService")],as.prototype,"dragAndDropService",2);x([V("pinnedRowModel")],as.prototype,"pinnedRowModel",2);x([V("rowRenderer")],as.prototype,"rowRenderer",2);x([V("popupService")],as.prototype,"popupService",2);x([V("mouseEventService")],as.prototype,"mouseEventService",2);x([V("rowModel")],as.prototype,"rowModel",2);x([V("filterManager")],as.prototype,"filterManager",2);var cy="ag-cell-range-selected",dFe="ag-cell-range-chart",hFe="ag-cell-range-single-cell",pFe="ag-cell-range-chart-category",fFe="ag-cell-range-handle",gFe="ag-cell-range-top",mFe="ag-cell-range-right",vFe="ag-cell-range-bottom",CFe="ag-cell-range-left",yFe=class{constructor(t,e){this.beans=t,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(cy,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${cy}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${cy}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${cy}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${cy}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(dFe,this.hasChartRange),Jm(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(hFe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.top,r=!e&&t.right,n=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass(gFe,i),this.cellComp.addOrRemoveCssClass(mFe,r),this.cellComp.addOrRemoveCssClass(vFe,n),this.cellComp.addOrRemoveCssClass(CFe,s)}isSingleCell(){const{rangeService:t}=this.beans;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;const e=t.getCellRanges();return e.length>0&&e.every(i=>Ho([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const t=this.beans.gridOptionsService.get("enableRtl");let e=!1,i=!1,r=!1,n=!1;const s=this.cellCtrl.getCellPosition().column,{rangeService:o,columnModel:a}=this.beans;let l,u;t?(l=a.getDisplayedColAfter(s),u=a.getDisplayedColBefore(s)):(l=a.getDisplayedColBefore(s),u=a.getDisplayedColAfter(s));const c=o.getCellRanges().filter(d=>o.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));l||(n=!0),u||(i=!0);for(let d=0;d<c.length&&!(e&&i&&r&&n);d++){const h=c[d],f=o.getRangeStartRow(h),g=o.getRangeEndRow(h);!e&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(e=!0),!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!n&&l&&h.columns.indexOf(l)<0&&(n=!0),!i&&u&&h.columns.indexOf(u)<0&&(i=!0)}return{top:e,right:i,bottom:r,left:n}}refreshHandle(){if(!this.beans.rangeService||this.beans.context.isDestroyed())return;const t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(fFe,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,i=e.getCellRanges(),r=i.length;if(this.rangeCount<1||r<1)return!1;const n=Qt(i),s=this.cellCtrl.getCellPosition(),o=t.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),a=t.get("enableRangeHandle");let l=r===1&&!this.cellCtrl.isEditing()&&(o||a);if(this.hasChartRange){const c=i[0].type===1&&e.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(pFe,c),l=n.type===0}return l&&n.endRow!=null&&e.isContiguousRange(n)&&e.isBottomRightCell(n,s)}addSelectionHandle(){const{gridOptionsService:t,rangeService:e}=this.beans,i=Qt(e.getCellRanges()).type,n=t.get("enableFillHandle")&&ht(i)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},SFe=class extends Pe{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(t){this.eGui=t,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const t=this.getColSpanningList();hu(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const t=this.column.getColSpan(this.rowNode),e=[];if(t===1)e.push(this.column);else{let i=this.column;const r=this.column.getPinned();for(let n=0;i&&n<t&&(e.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||ht(i)||r!==i.getPinned()));n++);}return e}onLeftChanged(){if(!this.eGui)return;const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?t=Qt(this.colsSpanning):t=this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;const e=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.columnModel.getBodyContainerWidth();return e+i+(t||0)}return e+(t||0)}applyRowSpan(t){if(this.rowSpan===1&&!t)return;const i=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},wFe=class extends Pe{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef(),{cellClassRules:e}=t,i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,i,r=>this.cellComp.addOrRemoveCssClass(r,!0),r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.cellClassRules=e}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle)return;let e;if(typeof t.cellStyle=="function"){const i=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),r=t.cellStyle;e=r(i)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){const t=this.column.getColDef(),e=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},Ct=class{postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};x([V("resizeObserverService")],Ct.prototype,"resizeObserverService",2);x([V("paginationProxy")],Ct.prototype,"paginationProxy",2);x([V("context")],Ct.prototype,"context",2);x([V("columnApi")],Ct.prototype,"columnApi",2);x([V("gridApi")],Ct.prototype,"gridApi",2);x([V("gridOptionsService")],Ct.prototype,"gridOptionsService",2);x([V("expressionService")],Ct.prototype,"expressionService",2);x([V("environment")],Ct.prototype,"environment",2);x([V("rowRenderer")],Ct.prototype,"rowRenderer",2);x([V("templateService")],Ct.prototype,"templateService",2);x([V("valueService")],Ct.prototype,"valueService",2);x([V("eventService")],Ct.prototype,"eventService",2);x([V("columnModel")],Ct.prototype,"columnModel",2);x([V("headerNavigationService")],Ct.prototype,"headerNavigationService",2);x([V("navigationService")],Ct.prototype,"navigationService",2);x([V("columnAnimationService")],Ct.prototype,"columnAnimationService",2);x([Kt("rangeService")],Ct.prototype,"rangeService",2);x([V("focusService")],Ct.prototype,"focusService",2);x([V("popupService")],Ct.prototype,"popupService",2);x([V("valueFormatterService")],Ct.prototype,"valueFormatterService",2);x([V("stylingService")],Ct.prototype,"stylingService",2);x([V("columnHoverService")],Ct.prototype,"columnHoverService",2);x([V("userComponentFactory")],Ct.prototype,"userComponentFactory",2);x([V("userComponentRegistry")],Ct.prototype,"userComponentRegistry",2);x([V("animationFrameService")],Ct.prototype,"animationFrameService",2);x([V("dragService")],Ct.prototype,"dragService",2);x([V("dragAndDropService")],Ct.prototype,"dragAndDropService",2);x([V("sortController")],Ct.prototype,"sortController",2);x([V("filterManager")],Ct.prototype,"filterManager",2);x([V("rowContainerHeightService")],Ct.prototype,"rowContainerHeightService",2);x([V("frameworkOverrides")],Ct.prototype,"frameworkOverrides",2);x([V("cellPositionUtils")],Ct.prototype,"cellPositionUtils",2);x([V("rowPositionUtils")],Ct.prototype,"rowPositionUtils",2);x([V("selectionService")],Ct.prototype,"selectionService",2);x([Kt("selectionHandleFactory")],Ct.prototype,"selectionHandleFactory",2);x([V("rowCssClassCalculator")],Ct.prototype,"rowCssClassCalculator",2);x([V("rowModel")],Ct.prototype,"rowModel",2);x([V("ctrlsService")],Ct.prototype,"ctrlsService",2);x([V("ctrlsFactory")],Ct.prototype,"ctrlsFactory",2);x([V("agStackComponentsRegistry")],Ct.prototype,"agStackComponentsRegistry",2);x([V("valueCache")],Ct.prototype,"valueCache",2);x([V("rowNodeEventThrottle")],Ct.prototype,"rowNodeEventThrottle",2);x([V("localeService")],Ct.prototype,"localeService",2);x([V("valueParserService")],Ct.prototype,"valueParserService",2);x([V("syncService")],Ct.prototype,"syncService",2);x([V("ariaAnnouncementService")],Ct.prototype,"ariaAnnouncementService",2);x([Me],Ct.prototype,"postConstruct",1);Ct=x([We("beans")],Ct);var EFe=class extends Ct{constructor(t,e,i){super(),this.cellCtrl=t,this.beans=e,this.column=i}onMouseEvent(t,e){if(!Dl(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e);break}}onCellClicked(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}const{eventService:e,rangeService:i,gridOptionsService:r}=this.beans,n=t.ctrlKey||t.metaKey;i&&n&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const s=this.cellCtrl.createEvent(t,F.EVENT_CELL_CLICKED);e.dispatchEvent(s);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(s)})},0),(r.get("singleClickEdit")||o.singleClickEdit)&&!r.get("suppressClickEdit")&&!(t.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Kc()||c$("dblclick"))return!1;const t=new Date().getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){const e=this.column.getColDef(),i=this.cellCtrl.createEvent(t,F.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof e.onCellDoubleClicked=="function"&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{e.onCellDoubleClicked(i)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,t)}onMouseDown(t){const{ctrlKey:e,metaKey:i,shiftKey:r}=t,n=t.target,{cellCtrl:s,beans:o}=this,{eventService:a,rangeService:l,focusService:u}=o;if(this.isRightClickInExistingRange(t))return;const c=l&&l.getCellRanges().length!=0;if(!r||!c){const d=Mu()&&!s.isEditing()&&!T$(n);s.focusCell(d)}if(r&&c&&!u.isCellFocused(s.getCellPosition())){t.preventDefault();const d=u.getFocusedCell();if(d){const{column:h,rowIndex:f,rowPinned:g}=d,m=o.rowRenderer.getRowByPosition({rowIndex:f,rowPinned:g}),C=m==null?void 0:m.getCellCtrl(h);C!=null&&C.isEditing()&&C.stopEditing(),u.setFocusedCell({column:h,rowIndex:f,rowPinned:g,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(n)){if(l){const d=this.cellCtrl.getCellPosition();if(r)l.extendLatestRangeToCell(d);else{const h=e||i;l.setRangeToCell(d,h)}}a.dispatchEvent(this.cellCtrl.createEvent(t,F.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;if(e){const i=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),r=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&r)return!0}return!1}containsWidget(t){return xp(t,"ag-selection-checkbox",3)}onMouseOut(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,F.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}onMouseOver(t){if(this.mouseStayingInsideCell(t))return;const e=this.cellCtrl.createEvent(t,F.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;const e=this.cellCtrl.getGui(),i=e.contains(t.target),r=e.contains(t.relatedTarget);return i&&r}destroy(){}},bFe=class extends Pe{constructor(t,e,i,r,n){super(),this.cellCtrl=t,this.beans=e,this.rowNode=r,this.rowCtrl=n}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case de.ENTER:this.onEnterKeyDown(t);break;case de.F2:this.onF2KeyDown(t);break;case de.ESCAPE:this.onEscapeKeyDown(t);break;case de.TAB:this.onTabKeyDown(t);break;case de.BACKSPACE:case de.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case de.DOWN:case de.UP:case de.RIGHT:case de.LEFT:this.onNavigationKeyDown(t,e);break}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;const e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:i,beans:r,rowNode:n}=this,{gridOptionsService:s,rangeService:o,eventService:a}=r;i.isEditing()||(a.dispatchEvent({type:F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),qte(t,s.get("enableCellEditingOnBackspace"))?o&&s.get("enableRangeSelection")?o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&n.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(t,e),a.dispatchEvent({type:F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){const e=t.shiftKey?de.UP:de.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(de.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(de.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;const r=t.key;r===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(r,t),t.preventDefault())}onSpaceKeyDown(t){const{gridOptionsService:e}=this.beans;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){const i=this.rowNode.isSelected(),r=!i;if(r||!e.get("suppressRowDeselection")){const n=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:r,rangeSelect:t.shiftKey,groupSelectsFiltered:n,event:t,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:n,event:t,source:"spaceKey"})}}t.preventDefault()}destroy(){super.destroy()}},Wie=class extends Et{constructor(t,e,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=i}postConstruct(){this.getGui().appendChild(ir("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const r=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",r),t.dataTransfer.setData("text/plain",r)}catch{}};if(e){const r=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});e(r)}else i()}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}};x([Me],Wie.prototype,"postConstruct",1);var RFe="ag-column-first",TFe="ag-column-last",_O=class{static getHeaderClassesFromColDef(t,e,i,r){return ht(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,r)}static getToolPanelClassesFromColDef(t,e,i,r){return ht(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,r)}static refreshFirstAndLastStyles(t,e,i){t.addOrRemoveCssClass(RFe,i.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass(TFe,i.isColumnAtEdge(e,"last"))}static getClassParams(t,e,i,r){return e.addGridCommonParams({colDef:t,column:i,columnGroup:r})}static getColumnClassesFromCollDef(t,e,i,r,n){if(ht(t))return[];let s;if(typeof t=="function"){const o=this.getClassParams(e,i,r,n);s=t(o)}else s=t;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}},DFe="ag-cell",PFe="ag-cell-auto-height",xFe="ag-cell-normal-height",AFe="ag-cell-focus",OFe="ag-cell-first-right-pinned",MFe="ag-cell-last-left-pinned",FFe="ag-cell-not-inline-editing",IFe="ag-column-hover",LFe="ag-cell-wrap-text",_Fe=0,Uie=class D1 extends Pe{constructor(e,i,r,n){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=i,this.beans=r,this.rowCtrl=n,this.instanceId=e.getId()+"-"+_Fe++,this.colIdSanitised=Kr(this.column.getId()),r.gridOptionsService.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new SFe(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellPositionFeature)==null||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new wFe(this,this.beans),this.addDestroyFunc(()=>{var i;(i=this.cellCustomStyleFeature)==null||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new EFe(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;(i=this.cellMouseListenerFeature)==null||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new bFe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;(i=this.cellKeyboardListenerFeature)==null||i.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new yFe(this.beans,this),this.addDestroyFunc(()=>{var i;(i=this.cellRangeFeature)==null||i.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(e,i){const r=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&Te(a))return wm(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},n=this.beans.gridOptionsService.get("tooltipShowMode")==="whenTruncated";!i&&n&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:e!=null?()=>e:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new Yc(s,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(e,i,r,n,s){var o,a,l,u;this.cellComp=e,this.eGui=i,this.printLayout=n,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(o=this.cellPositionFeature)==null||o.setComp(i),(a=this.cellCustomStyleFeature)==null||a.setComp(e),(l=this.tooltipFeature)==null||l.refreshToolTip(),(u=this.cellKeyboardListenerFeature)==null||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const i=e.parentElement,r=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,n=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:c,borderTopWidth:d}=fh(i),h=l+u+c+d,g=e.offsetHeight+h;if(a<5){const C=this.beans.gridOptionsService.getDocument(),S=!C||!C.contains(e),y=g==0;if(S||y){window.setTimeout(()=>n(a+1),0);return}}const m=Math.max(g,r);this.rowNode.setRowAutoHeight(m,this.column)},s=()=>n(0);s();const o=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var e;return(e=this.column.getColDef().cellAriaRole)!=null?e:"gridcell"}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted!=null?this.valueFormatted:this.value}showValue(e=!1){const i=this.getValueToDisplay();let r;if(this.isCellRenderer()){const n=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n)}this.cellComp.setRenderDetails(r,i,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}refreshShouldDestroy(){const e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||r||n}startEditing(e=null,i=!1,r=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,i,r)});return}const n=this.createCellEditorParams(e,i),s=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(s,n);this.editCompDetails=o;const a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,a,l,this.beans.gridOptionsService.get("reactiveCustomComponents"));const u=this.createEvent(r,F.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const i={newValueExists:!1};if(e)return i;const r=this.cellComp.getCellEditor();return!r||r.isCancelAfterEnd&&r.isCancelAfterEnd()?i:{newValue:r.getValue(),newValueExists:!0}}saveNewValue(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;const r=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,r}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:r}=this.takeValueFromCellEditor(e),n=this.rowNode.getValueFromValueService(this.column);let s=!1;return r&&(s=this.saveNewValue(n,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,i,!e&&!!s),s}dispatchEditingStoppedEvent(e,i,r){const n=Ui(it({},this.createEvent(null,F.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:r});this.beans.eventService.dispatchEvent(n)}createCellEditorParams(e,i){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,r,n,s)=>this.registerRowDragger(i,r,s),setTooltip:(i,r)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,r),this.refreshToolTip()}})}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.refreshCell(this):this.refreshCell(e)}refreshCell(e){var i,r,n;if(this.suppressRefreshCell||this.editing)return;const s=this.column.getColDef(),o=e!=null&&!!e.newData,a=e!=null&&!!e.suppressFlash||!!s.suppressCellFlash,l=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,u=e&&e.forceRefresh||l||o,c=!!this.cellComp,d=this.updateAndFormatValue(c),h=u||d;if(c){if(h){this.showValue(o);const f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),(i=this.cellCustomStyleFeature)==null||i.applyUserStyles(),(r=this.cellCustomStyleFeature)==null||r.applyClassesFromColDef()}this.refreshToolTip(),(n=this.cellCustomStyleFeature)==null||n.applyCellClassRules()}}stopEditingAndFocus(e=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(i)}navigateAfterEdit(e){if(this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")){const r=e?de.UP:de.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}}flashCell(e){var i,r;const n=(i=e==null?void 0:e.flashDuration)!=null?i:e==null?void 0:e.flashDelay,s=(r=e==null?void 0:e.fadeDuration)!=null?r:e==null?void 0:e.fadeDelay;this.animateCell("data-changed",n,s)}animateCell(e,i,r){if(!this.cellComp)return;const n=`ag-cell-${e}`,s=`ag-cell-${e}-animation`,{gridOptionsService:o}=this.beans;i||(i=o.get("cellFlashDuration")),Te(r)||(r=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(s,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.eGui.style.transition="")},r))},i)})}onFlashCells(e){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var i;return(i=this.callValueFormatter(e))!=null?i:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const i=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(e,i){const r=this.column.getColDef();return r.equals?r.equals(e,i):e===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,D1.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,D1.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,i){return this.beans.gridOptionsService.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(e)}onKeyDown(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(e)}onMouseEvent(e,i){var r;(r=this.cellMouseListenerFeature)==null||r.onMouseEvent(e,i)}getGui(){return this.eGui}refreshToolTip(){var e;(e=this.tooltipFeature)==null||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:i,beans:r}=this;_O.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);m$(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)==null?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,i=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,i)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(OFe,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(MFe,e)}onCellFocused(e){if(this.beans.gridOptionsService.get("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(AFe,i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const r=this.beans.gridOptionsService.get("editType")==="fullRow";!i&&!r&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Cu(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(DFe,!0),this.cellComp.addOrRemoveCssClass(FFe,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(PFe,e),this.cellComp.addOrRemoveCssClass(xFe,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(IFe,e)}onColDefChanged(){var e;if(!this.cellComp)return;if(this.column.isAutoHeight()!==this.isAutoHeight&&((e=this.rowCtrl)==null||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{const n=this.getCellEditor();if(n!=null&&n.refresh){const{eventKey:s,cellStartedEdit:o}=this.editCompDetails.params,a=this.createCellEditorParams(s,o),l=this.column.getColDef(),u=this.beans.userComponentFactory.getCellEditorDetails(l,a);n.refresh(u.params)}}}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(LFe,e)}dispatchCellContextMenuEvent(e){const i=this.column.getColDef(),r=this.createEvent(e,F.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new FO;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Wie(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,i,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,i);return}const n=this.createRowDragComp(e,i,r);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,i,r){const n=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),o=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!o){ct("managed row dragging is only allowed in the Client Side Row Model");return}if(n){ct("managed row dragging is not possible when doing pagination");return}}const a=new ef(()=>this.value,this.rowNode,this.column,e,i,r);return this.beans.context.createBean(a),a}};Uie.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Op=Uie,NFe=0,zie=class P1 extends Pe{constructor(e,i,r,n,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=e,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=n,this.printLayout=s,this.suppressRowTransform=this.gridOptionsService.get("suppressRowTransform"),this.instanceId=e.id+"-"+NFe++,this.rowId=Kr(e.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Kr(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,i,r){const n={rowComp:e,element:i,containerType:r};this.allRowGuis.push(n),r==="left"?this.leftGui=n:r==="right"?this.rightGui=n:r==="fullWidth"?this.fullWidthGui=n:this.centerGui=n,this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==e),e){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0;break}}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gridOptionsService.get("keepDetailRows")}setCached(e){const i=e?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=i)}initialiseRowComp(e){const i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const r=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>r.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Rc(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),i.setDomData(e.element,P1.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(e.element,P1.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=Kr(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:i}=e;this.slideInAnimation[i]&&(d1(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(d1(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.get("enableRangeSelection")){ct("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),r=new ef(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),n=this.createBean(r,this.beans.context);this.rowDragComps.push(n)}setupFullWidth(e){const i=this.getPinnedForContainer(e.containerType);if(this.rowType=="FullWidthDetail"&&!ei.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const r=this.createFullWidthCompDetails(e.element,i);e.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,i;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(r=>{var n;return(n=r==null?void 0:r.rowComp)==null?void 0:n.getFullWidthCellRenderer()}):[(i=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(e){const i=this.getCellCtrl(e);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(i)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&r}setRowType(){const e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(n);e?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,i=!1){if(this.isFullWidth())return;if(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,i,r=null){const n={list:[],map:{}},s=(o,a)=>{n.list.push(a),n.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=e.map[a];l||(l=new Op(o,this.rowNode,this.beans,this)),s(a,l)}),e.list.forEach(o=>{if(n.map[o.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(o,r)){s(o.getColumn().getInstanceId(),o);return}o.destroy()}),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(i=>{const r=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(r,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:const i=e;throw new Error(`Unhandled case: ${i}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const r=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const n=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,i){if(e.getColumn().getPinned()!=i)return!0;const o=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||a){const u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}getDomOrder(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const i=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)}setAnimateFlags(e){if(this.isSticky()||!e)return;const i=Te(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),n=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}getRowType(){return this.rowType}refreshFullWidth(){const e=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=e(this.fullWidthGui,null),r=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return i&&r&&n&&s}addListeners(){this.addManagedListener(this.rowNode,Ot.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Ot.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Ot.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Ot.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Ot.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,F.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,F.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,F.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,F.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,F.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,F.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(e,F.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gridOptionsService.get("rowDragEntireRow")){this.allRowGuis.forEach(r=>{this.addRowDraggerToRow(r)});return}this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[]}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Ot.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Ot.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=e===0,n=e===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),Rc(r.element,e&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Cu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const i=this.allRowGuis.find(l=>l.element.contains(e.target));if(!((i?i.element:null)===e.target))return;const s=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Dl(e))return;const i=this.allRowGuis.find(o=>o.element.contains(e.target)),r=i?i.element:null,n=r===e.target;let s=null;n||(s=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var i;const r=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",n),n&&s.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,i){const r={list:[],map:{}};return e.list.forEach(n=>{n!==i&&(r.list.push(n),r.map[n.getInstanceId()]=n)}),r}onMouseEvent(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(e,i){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(e,i){const r=this.createRowEvent(e,i);return r.source=this,r}onRowDblClick(e){if(Dl(e))return;const i=this.createRowEventWithSource(F.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=xp(e.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(Dl(e)||this.lastMouseDownOnDragger)return;const r=this.createRowEventWithSource(F.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);const n=e.ctrlKey||e.metaKey,s=e.shiftKey;if(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))return;const a=this.gridOptionsService.get("rowMultiSelectWithClick"),l=!this.gridOptionsService.get("suppressRowDeselection"),u="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):n?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:u});else{const c=a?!1:!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:s,event:e,source:u})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()}setupDetailRowAutoHeight(e){if(this.rowType!=="FullWidthDetail"||!this.gridOptionsService.get("detailRowAutoHeight"))return;const i=()=>{const n=e.clientHeight;if(n!=null&&n>0){const s=()=>{this.rowNode.setRowHeight(n),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},r=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(r),i()}createFullWidthCompDetails(e,i){const r=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(n,s,o,a)=>this.addFullWidthRowDragging(n,s,o,a),setTooltip:(n,s)=>this.refreshRowTooltip(n,s)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(r)}}refreshRowTooltip(e,i){if(!this.fullWidthGui)return;const r={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Yc(r,this.beans))}addFullWidthRowDragging(e,i,r="",n){if(!this.isFullWidth())return;const s=new ef(()=>r,this.rowNode,void 0,e,i,n);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const i="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(i,!0),n.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),r=this.editingRow;this.stoppingRowEdit=!0;let n=!1;for(const s of i){const o=s.stopEditing(e);r&&!e&&!n&&o&&(n=!0)}if(n){const s=this.createRowEvent(F.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}r&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-editing",e));const i=e?this.createRowEvent(F.EVENT_ROW_EDITING_STARTED):this.createRowEvent(F.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(e=null,i=null,r=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((s,o)=>{const a=o===i;return a?o.startEditing(e,a,r):o.startEditing(null,a,r),s?!0:o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(i=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,i){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"?"left":e==="right"?"right":null}getInitialRowClasses(e){const i=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gridOptionsService.getCallback("getRowStyle");let r;if(i){const n={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=i(n)}return r||e?Object.assign({},e,r):this.emptyStyle}onRowSelected(e){const i=this.beans.gridOptionsService.getDocument(),r=!!this.rowNode.isSelected();this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",r),Jm(n.element,r),n.element.contains(i.activeElement)&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))return;const r=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(r)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Ot.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Ot.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(i.top,!0)-100,n=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(r,e),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,i){e?i(e):this.allRowGuis.forEach(i)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=s?`${Math.min(r,s)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,i){super.addEventListener(e,i)}removeEventListener(e,i){super.removeEventListener(e,i)}destroyFirstPass(e=!1){if(this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent(F.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=i=>(i.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const r=this.beans.paginationProxy.getPixelOffset();return e+r*(i?1:-1)}setRowTop(e){if(!this.printLayout&&Te(e)){const i=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,n=this.applyPaginationOffset(r);i=this.rowNode.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let i=null;return this.getAllCellCtrls().forEach(r=>{r.getColumn()==e&&(i=r)}),i!=null||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(e)>=0&&(i=r)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const i=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),n=this.rowNode.rowIndex%2===0,s=r+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(i),o.rowComp.addOrRemoveCssClass("ag-row-even",n),o.rowComp.addOrRemoveCssClass("ag-row-odd",!n),g$(o.element,s)})}};zie.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Mp=zie,lo=class extends Pe{constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,e)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",c$("touchstart")?"touchstart":"mousedown"].forEach(i=>{const r=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,r)})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||Dl(e))return;const i=this.getRowForEvent(e),r=this.mouseEventService.getRenderedCellForEvent(e);t==="contextmenu"?this.handleContextMenuMouseEvent(e,void 0,i,r):(r&&r.onMouseEvent(t,e),i&&i.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!Kc())return;const t=new vn(this.element),e=i=>{const r=this.getRowForEvent(i.touchEvent),n=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,r,n)};this.addManagedListener(t,vn.EVENT_LONG_TAP,e),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){const i=this.gridOptionsService.getDomData(e,Mp.DOM_DATA_KEY_ROW_CTRL);if(i)return i;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,i,r){const n=i?i.getRowNode():null,s=r?r.getColumn():null;let o=null;if(s){const u=t||e;r.dispatchCellContextMenuEvent(u??null),o=this.valueService.getValue(s,n)}const a=this.ctrlsService.getGridBodyCtrl(),l=r?r.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:n,column:s,value:o,anchorToElement:l})}getControlsForEventTarget(t){return{cellCtrl:ux(this.gridOptionsService,t,Op.DOM_DATA_KEY_CELL_CTRL),rowCtrl:ux(this.gridOptionsService,t,Mp.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:i,rowCtrl:r}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(i?this.processCellKeyboardEvent(i,t,e):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,t,e))}processCellKeyboardEvent(t,e,i){const r=t.getRowNode(),n=t.getColumn(),s=t.isEditing();if(!fx(this.gridOptionsService,i,r,n,s)&&e==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(i)||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),TO(i)&&t.processCharacter(i)),e==="keydown"){const a=t.createEvent(i,F.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}}processFullWidthRowKeyboardEvent(t,e,i){const r=t.getRowNode(),n=this.focusService.getFocusedCell(),s=n&&n.column;if(!fx(this.gridOptionsService,i,r,s,!1)){const a=i.key;if(e==="keydown")switch(a){case de.PAGE_HOME:case de.PAGE_END:case de.PAGE_UP:case de.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case de.UP:case de.DOWN:t.onKeyboardNavigate(i);break;case de.TAB:t.onTabKeyDown(i);break}}if(e==="keydown"){const a=t.createRowEvent(F.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(a)}}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;const i=Yte(t);if(i===de.A)return this.onCtrlAndA(t);if(i===de.C)return this.onCtrlAndC(t);if(i===de.D)return this.onCtrlAndD(t);if(i===de.V)return this.onCtrlAndV(t);if(i===de.X)return this.onCtrlAndX(t);if(i===de.Y)return this.onCtrlAndY();if(i===de.Z)return this.onCtrlAndZ(t)}onCtrlAndA(t){const{pinnedRowModel:e,paginationProxy:i,rangeService:r}=this;if(r&&i.isRowsToRender()){const[n,s]=[e.isEmpty("top"),e.isEmpty("bottom")],o=n?null:"top";let a,l;s?(a=null,l=this.paginationProxy.getRowCount()-1):(a="bottom",l=e.getPinnedBottomRowData().length-1);const u=this.columnModel.getAllDisplayedColumns();if(xo(u))return;r.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:u[0],columnEnd:Qt(u)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};x([V("mouseEventService")],lo.prototype,"mouseEventService",2);x([V("valueService")],lo.prototype,"valueService",2);x([V("menuService")],lo.prototype,"menuService",2);x([V("ctrlsService")],lo.prototype,"ctrlsService",2);x([V("navigationService")],lo.prototype,"navigationService",2);x([V("focusService")],lo.prototype,"focusService",2);x([V("undoRedoService")],lo.prototype,"undoRedoService",2);x([V("columnModel")],lo.prototype,"columnModel",2);x([V("paginationProxy")],lo.prototype,"paginationProxy",2);x([V("pinnedRowModel")],lo.prototype,"pinnedRowModel",2);x([Kt("rangeService")],lo.prototype,"rangeService",2);x([Kt("clipboardService")],lo.prototype,"clipboardService",2);x([Me],lo.prototype,"postConstruct",1);var iC=class extends Pe{constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,F.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const t=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=$f(t);if(e<=50)return;let i=this.getPinnedColumnsOverflowingViewport(e-50);const r=this.gridOptionsService.getCallback("processUnpinnedColumns");i.length&&(r&&(i=r({columns:i,viewportWidth:e})),this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(t){const e=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),r=e+i;if(r<t)return[];const n=[...this.columnModel.getDisplayedLeftColumns()],s=[...this.columnModel.getDisplayedRightColumns()];let o=0,a=0,l=0;const u=[];let c=r-l-t;for(;(a<n.length||o<s.length)&&c>0;){if(o<s.length){const d=s[o++];c-=d.getActualWidth(),u.push(d)}if(a<n.length&&c>0){const d=n[a++];c-=d.getActualWidth(),u.push(d)}}return u}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=Ab(t);if(this.bodyHeight!==e){this.bodyHeight=e;const i={type:F.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)}};x([V("ctrlsService")],iC.prototype,"ctrlsService",2);x([V("pinnedWidthService")],iC.prototype,"pinnedWidthService",2);x([V("columnModel")],iC.prototype,"columnModel",2);x([V("scrollVisibleService")],iC.prototype,"scrollVisibleService",2);x([Me],iC.prototype,"postConstruct",1);var K$=class extends Pe{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;Vt(this.element,e),Ma(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};x([V("pinnedWidthService")],K$.prototype,"pinnedWidthService",2);x([Me],K$.prototype,"postConstruct",1);var Y$=class extends Pe{constructor(t){super(),this.element=t}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;Vt(this.element,e),Ma(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};x([V("pinnedWidthService")],Y$.prototype,"pinnedWidthService",2);x([Me],Y$.prototype,"postConstruct",1);var NO=class extends Pe{constructor(t,e){super(),this.eContainer=t,this.eViewport=e}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight(),e=t!=null?`${t}px`:"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)}};x([V("rowContainerHeightService")],NO.prototype,"maxDivHeightScaler",2);x([Me],NO.prototype,"postConstruct",1);var GO=class extends Pe{constructor(t){super(),this.eContainer=t}postConstruct(){if(ht(this.rangeService))return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",e=>{if(e.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};x([Kt("rangeService")],GO.prototype,"rangeService",2);x([V("dragService")],GO.prototype,"dragService",2);x([Me],GO.prototype,"postConstruct",1);var rC=class extends Pe{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()}setWidth(){const{columnModel:t}=this,e=this.gridOptionsService.isDomLayout("print"),i=t.getBodyContainerWidth(),r=t.getDisplayedColumnsLeftWidth(),n=t.getDisplayedColumnsRightWidth();let s;e?s=i+r+n:(s=i,this.addSpacer&&(this.gridOptionsService.get("enableRtl")?r:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)}};x([V("columnModel")],rC.prototype,"columnModel",2);x([V("scrollVisibleService")],rC.prototype,"scrollVisibleService",2);x([Me],rC.prototype,"postConstruct",1);var Mr=(t=>(t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth",t.TOP_LEFT="topLeft",t.TOP_RIGHT="topRight",t.TOP_CENTER="topCenter",t.TOP_FULL_WIDTH="topFullWidth",t.STICKY_TOP_LEFT="stickyTopLeft",t.STICKY_TOP_RIGHT="stickyTopRight",t.STICKY_TOP_CENTER="stickyTopCenter",t.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",t.BOTTOM_LEFT="bottomLeft",t.BOTTOM_RIGHT="bottomRight",t.BOTTOM_CENTER="bottomCenter",t.BOTTOM_FULL_WIDTH="bottomFullWidth",t))(Mr||{});function jie(t){switch(t){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var GFe=Dd([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),kFe=Dd([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"]]),Yf=class Kie extends Pe{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name==="topFullWidth"||this.name==="stickyTopFullWidth"||this.name==="bottomFullWidth"||this.name==="fullWidth"}static getRowContainerCssClasses(e){const i=GFe.get(e),r=kFe.get(e);return{container:i,viewport:r}}static getPinned(e){switch(e){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new iC(this)))}registerWithCtrlsService(){switch(this.name){case"center":this.ctrlsService.registerCenterRowContainerCtrl(this);break;case"left":this.ctrlsService.registerLeftRowContainerCtrl(this);break;case"right":this.ctrlsService.registerRightRowContainerCtrl(this);break;case"topCenter":this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case"topLeft":this.ctrlsService.registerTopLeftRowContainerCon(this);break;case"topRight":this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case"stickyTopCenter":this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case"stickyTopLeft":this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case"stickyTopRight":this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case"bottomCenter":this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case"bottomLeft":this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case"bottomRight":this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(e,i){e.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,i,r){this.comp=e,this.eContainer=i,this.eViewport=r,this.createManagedBean(new lo(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const n=["topCenter","topLeft","topRight"],s=["stickyTopCenter","stickyTopLeft","stickyTopRight"],o=["bottomCenter","bottomLeft","bottomRight"],a=["center","left","right"],l=[...n,...o,...a,...s],u=["center","left","right","fullWidth"],c=["center","topCenter","stickyTopCenter","bottomCenter"],d=["left","bottomLeft","topLeft","stickyTopLeft"],h=["right","bottomRight","topRight","stickyTopRight"];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new K$(this.eContainer)),this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(h,()=>{this.pinnedWidthFeature=this.createManagedBean(new Y$(this.eContainer)),this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new NO(this.eContainer,this.name==="center"?r:void 0))),this.forContainers(l,()=>this.createManagedBean(new GO(this.eContainer))),this.forContainers(c,()=>this.createManagedBean(new rC(f=>this.comp.setContainerWidth(`${f}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth"].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const r=()=>{const n=this.gridOptionsService.get("ensureDomOrder"),s=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(n||s)};this.addManagedPropertyListener("domLayout",r),r()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter"],()=>{const e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const i=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,r,e)}getCenterWidth(){return $f(this.eViewport)}getCenterViewportScrollLeft(){return Ew(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return x$(this.eViewport)}getViewportScrollLeft(){return Ew(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||kte(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){bw(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!Kie.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){if(!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=this.gridOptionsService.isDomLayout("print"),n=this.gridOptionsService.get("embedFullWidthRows")||i,s=this.getRowCtrls().filter(o=>{const a=o.isFullWidth();return this.isFullWithContainer?!n&&a:n||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};x([V("dragService")],Yf.prototype,"dragService",2);x([V("ctrlsService")],Yf.prototype,"ctrlsService",2);x([V("columnModel")],Yf.prototype,"columnModel",2);x([V("resizeObserverService")],Yf.prototype,"resizeObserverService",2);x([V("rowRenderer")],Yf.prototype,"rowRenderer",2);x([Me],Yf.prototype,"postConstruct",1);var vx=Yf,VFe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Hu=class extends Et{constructor(){super(VFe)}init(){const e=(r,n)=>{const s=`${r}px`;n.style.minHeight=s,n.style.height=s},i={setRowAnimationCssOnBodyViewport:(r,n)=>this.setRowAnimationCssOnBodyViewport(r,n),setColumnCount:r=>wte(this.getGui(),r),setRowCount:r=>Ste(this.getGui(),r),setTopHeight:r=>e(r,this.eTop),setBottomHeight:r=>e(r,this.eBottom),setTopDisplay:r=>this.eTop.style.display=r,setBottomDisplay:r=>this.eBottom.style.display=r,setStickyTopHeight:r=>this.eStickyTop.style.height=r,setStickyTopTop:r=>this.eStickyTop.style.top=r,setStickyTopWidth:r=>this.eStickyTop.style.width=r,setColumnMovingCss:(r,n)=>this.addOrRemoveCssClass(r,n),updateLayoutClasses:(r,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(o=>{o.toggle("ag-layout-auto-height",n.autoHeight),o.toggle("ag-layout-normal",n.normal),o.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(r,n)=>this.eBodyViewport.classList.toggle(Bie,n),registerBodyViewportResizeListener:r=>{const n=this.resizeObserverService.observeResize(this.eBodyViewport,r);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:r=>this.eTop.style.overflowY=this.eBottom.style.overflowY=r,setCellSelectableCss:(r,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(s=>s.classList.toggle(r,n))},setBodyViewportWidth:r=>this.eBodyViewport.style.width=r};this.ctrl=this.createManagedBean(new as),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&yte(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,i){const r=this.eBodyViewport.classList;r.toggle("ag-row-animation",i),r.toggle("ag-row-no-animation",!i)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};x([V("resizeObserverService")],Hu.prototype,"resizeObserverService",2);x([Kt("rangeService")],Hu.prototype,"rangeService",2);x([ke("eBodyViewport")],Hu.prototype,"eBodyViewport",2);x([ke("eStickyTop")],Hu.prototype,"eStickyTop",2);x([ke("eTop")],Hu.prototype,"eTop",2);x([ke("eBottom")],Hu.prototype,"eBottom",2);x([ke("gridHeader")],Hu.prototype,"headerRootComp",2);x([ke("eBody")],Hu.prototype,"eBody",2);x([Me],Hu.prototype,"init",1);var iv=class extends Pe{postConstruct(){this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const t=this.ctrlsService.getCenterRowContainerCtrl();if(!t||this.columnAnimationService.isActive())return;const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}setScrollsVisible(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;const i={type:F.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};x([V("ctrlsService")],iv.prototype,"ctrlsService",2);x([V("columnAnimationService")],iv.prototype,"columnAnimationService",2);x([Me],iv.prototype,"postConstruct",1);iv=x([We("scrollVisibleService")],iv);var cc=class extends Pe{constructor(){super(...arguments),this.gridInstanceId=cc.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(t){t[cc.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(t){return ux(this.gridOptionsService,t.target,Op.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let e=t;for(;e;){const i=e[cc.GRID_DOM_KEY];if(Te(i))return i===this.gridInstanceId;e=e.parentElement}return!1}getCellPositionForEvent(t){const e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null}getNormalisedPosition(t){const e=this.gridOptionsService.isDomLayout("normal"),i=t;let r,n;if(i.clientX!=null||i.clientY!=null?(r=i.clientX,n=i.clientY):(r=i.x,n=i.y),e){const s=this.ctrlsService.getGridBodyCtrl(),o=s.getScrollFeature().getVScrollPosition(),a=s.getScrollFeature().getHScrollPosition();r+=a.left,n+=o.top}return{x:r,y:n}}};cc.gridInstanceSequence=new tv;cc.GRID_DOM_KEY="__ag_grid_instance";x([V("ctrlsService")],cc.prototype,"ctrlsService",2);cc=x([We("mouseEventService")],cc);var is=class extends Pe{constructor(){super(),this.onPageDown=h1(this.onPageDown,100),this.onPageUp=h1(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){const i=t.key,r=t.altKey,n=t.ctrlKey||t.metaKey,s=!!this.rangeService&&t.shiftKey,o=this.mouseEventService.getCellPositionForEvent(t);let a=!1;switch(i){case de.PAGE_HOME:case de.PAGE_END:!n&&!r&&(this.onHomeOrEndKey(i),a=!0);break;case de.LEFT:case de.RIGHT:case de.UP:case de.DOWN:if(!o)return!1;n&&!r&&!s&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case de.PAGE_DOWN:case de.PAGE_UP:!n&&!r&&(a=this.handlePageUpDown(i,o,e));break}return a&&t.preventDefault(),a}handlePageUpDown(t,e,i){return i&&(e=this.focusService.getFocusedCell()),e?(t===de.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0):!1}navigateTo(t){const{scrollIndex:e,scrollType:i,scrollColumn:r,focusIndex:n,focusColumn:s}=t;if(Te(r)&&!r.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(r),Te(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const o={rowIndex:n,rowPinned:null,column:s};this.rangeService.setRangeToCell(o)}}onPageDown(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.getViewportHeight(),n=this.paginationProxy.getPixelOffset(),s=i.top+r,o=this.paginationProxy.getRowIndexAtPixel(s+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o):this.navigateToNextPage(t,o)}onPageUp(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.paginationProxy.getPixelOffset(),n=i.top,s=this.paginationProxy.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,s,!0):this.navigateToNextPage(t,s,!0)}navigateToNextPage(t,e,i=!1){const r=this.getViewportHeight(),n=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),o=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRow(t.rowIndex),l=i?(a==null?void 0:a.rowHeight)-r-o:r-o,u=(a==null?void 0:a.rowTop)+l;let c=this.paginationProxy.getRowIndexAtPixel(u+o);if(c===t.rowIndex){const h=i?-1:1;e=c=t.rowIndex+h}let d;i?(d="bottom",c<n&&(c=n),e<n&&(e=n)):(d="top",c>s&&(c=s),e>s&&(e=s)),this.isRowTallerThanView(c)&&(e=c,d="top"),this.navigateTo({scrollIndex:e,scrollType:d,scrollColumn:null,focusIndex:c,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,i=!1){this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(t,i);this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){var i;const r=e?-1:1,n=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow();let o=0,a=t.rowIndex;for(;a>=0&&a<=s;){const l=this.paginationProxy.getRow(a);if(l){const u=(i=l.rowHeight)!=null?i:0;if(o+u>n)break;o+=u}a+=r}return Math.max(0,Math.min(a,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth();let r=e.bottom-e.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(r-=i),r}isRowTallerThanView(t){const e=this.paginationProxy.getRow(t);if(!e)return!1;const i=e.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const i=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:r,column:n}=i;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:n,focusIndex:r,focusColumn:n})}onHomeOrEndKey(t){const e=t===de.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),r=e?i[0]:Qt(i),n=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r})}onTabKeyDown(t,e){const i=e.shiftKey;if(this.tabToNextCellCommon(t,i,e)){e.preventDefault();return}if(i){const{rowIndex:n,rowPinned:s}=t.getRowPosition();(s?n===0:n===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof Op&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&e.preventDefault()}tabToNextCell(t,e){const i=this.focusService.getFocusedCell();if(!i)return!1;let r=this.getCellByPosition(i);return!r&&(r=this.rowRenderer.getRowByPosition(i),!r||!r.isFullWidth())?!1:this.tabToNextCellCommon(r,t,e)}tabToNextCellCommon(t,e,i){let r=t.isEditing();if(!r&&t instanceof Op){const o=t.getRowCtrl();o&&(r=o.isEditing())}let n;return r?this.gridOptionsService.get("editType")==="fullRow"?n=this.moveToNextEditingRow(t,e,i):n=this.moveToNextEditingCell(t,e,i):n=this.moveToNextCellNotEditing(t,e),n||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,i=null){const r=t.getCellPosition();t.getGui().focus(),t.stopEditing();const n=this.findNextCellToFocusOn(r,e,!0);return n==null?!1:(n.startEditing(null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(t,e,i=null){const r=t.getCellPosition(),n=this.findNextCellToFocusOn(r,e,!0);if(n==null)return!1;const s=n.getCellPosition(),o=this.isCellEditable(r),a=this.isCellEditable(s),l=s&&r.rowIndex===s.rowIndex&&r.rowPinned===s.rowPinned;return o&&t.setFocusOutOnEditor(),l||(t.getRowCtrl().stopEditing(),n.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(t,e){const i=this.columnModel.getAllDisplayedColumns();let r;t instanceof Mp?r=Ui(it({},t.getRowPosition()),{column:e?i[0]:Qt(i)}):r=t.getCellPosition();const n=this.findNextCellToFocusOn(r,e,!1);if(n instanceof Op)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),e);return Te(n)}findNextCellToFocusOn(t,e,i){let r=t;for(;;){t!==r&&(t=r),e||(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextTabbedCell(r,e);const n=this.gridOptionsService.getCallback("tabToNextCell");if(Te(n)){const l=n({backwards:e,editing:i,previousCellPosition:t,nextCellPosition:r||null});Te(l)?(l.floating&&(ct("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),r={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):r=null}if(!r)return null;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:r.column},fromCell:!0}),null}const s=this.gridOptionsService.get("editType")==="fullRow";if(i&&!s&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const o=this.getCellByPosition(r);if(!o){const a=this.rowRenderer.getRowByPosition(r);if(!a||!a.isFullWidth()||i)continue;return a}if(!o.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(r),o}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);return e?t.column.isCellEditable(e):!1}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)}navigateToNextCell(t,e,i,r){let n=i,s=!1;for(;n&&(n===i||!this.isValidNavigateCell(n));)this.gridOptionsService.get("enableRtl")?e===de.LEFT&&(n=this.getLastCellOfColSpan(n)):e===de.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextCellToFocus(e,n),s=ht(n);if(s&&t&&t.key===de.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),r){const a=this.gridOptionsService.getCallback("navigateToNextCell");if(Te(a)){const u=a({key:e,previousCellPosition:i,nextCellPosition:n||null,event:t});Te(u)?(u.floating&&(ct("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),n={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):n=null}}if(!n)return;if(n.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:i.column},event:t||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(n);o?this.focusPosition(o):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e=!1){const i=this.columnModel.getAllDisplayedColumns(),r=this.rowRenderer.getRowByPosition(t);if(!r||!r.isFullWidth())return!1;const n=this.focusService.getFocusedCell(),s={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?Qt(i):i[0])};this.focusPosition(s);const o=n!=null?this.rowPositionUtils.before(s,n):!1,a={type:F.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:o};return this.eventService.dispatchEvent(a),!0}focusPosition(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e)return t;const i=e.getColSpanningList();return i.length===1?t:{rowIndex:t.rowIndex,column:Qt(i),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(t.rowIndex);!(e&&(i==null?void 0:i.sticky))&&ht(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}};x([V("mouseEventService")],is.prototype,"mouseEventService",2);x([V("paginationProxy")],is.prototype,"paginationProxy",2);x([V("focusService")],is.prototype,"focusService",2);x([Kt("rangeService")],is.prototype,"rangeService",2);x([V("columnModel")],is.prototype,"columnModel",2);x([V("rowModel")],is.prototype,"rowModel",2);x([V("ctrlsService")],is.prototype,"ctrlsService",2);x([V("rowRenderer")],is.prototype,"rowRenderer",2);x([V("headerNavigationService")],is.prototype,"headerNavigationService",2);x([V("rowPositionUtils")],is.prototype,"rowPositionUtils",2);x([V("cellNavigationService")],is.prototype,"cellNavigationService",2);x([V("pinnedRowModel")],is.prototype,"pinnedRowModel",2);x([Me],is.prototype,"postConstruct",1);is=x([We("navigationService")],is);var q$=class Yie extends Uf{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),Yie.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),i=this.params,r=n=>{fx(this.gridOptionsService,n,i.node,i.column,!0)||i.onKeyDown(n)};this.addManagedListener(e,"keydown",r)}};q$.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";x([Me],q$.prototype,"postConstruct",1);var qie=q$,HFe=class extends Et{constructor(e,i,r,n,s){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=i.getColumn(),this.rowNode=i.getRowNode(),this.rowCtrl=i.getRowCtrl(),this.eRow=n,this.cellCtrl=i;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);const a=this.getGui();this.forceWrapper=i.isForceWrapper(),this.refreshWrapper(!1);const l=(d,h)=>{h!=null&&h!=""?a.setAttribute(d,h):a.removeAttribute(d)};hr(a,i.getCellAriaRole()),l("col-id",i.getColumnIdSanitised());const u=i.getTabIndex();u!==void 0&&l("tabindex",u.toString());const c={addOrRemoveCssClass:(d,h)=>this.addOrRemoveCssClass(d,h),setUserStyles:d=>M$(a,d),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:d=>this.includeSelection=d,setIncludeRowDrag:d=>this.includeRowDrag=d,setIncludeDndSource:d=>this.includeDndSource=d,setRenderDetails:(d,h,f)=>this.setRenderDetails(d,h,f),setEditDetails:(d,h,f)=>this.setEditDetails(d,h,f),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};i.setComp(c,this.getGui(),this.eCellWrapper,r,s)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,i,r){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(r||s)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}setEditDetails(e,i,r){e?this.createCellEditorInstance(e,i,r):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const i=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=i||this.forceWrapper,n=r&&this.eCellWrapper==null;if(n){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const s=!r&&this.eCellWrapper!=null;s&&(Sl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);const o=!e&&r,a=o&&this.eCellValue==null;if(a){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const l=!o&&this.eCellValue!=null;l&&(Sl(this.eCellValue),this.eCellValue=void 0);const u=n||s||a||l;return u&&this.removeControls(),e||i&&this.addControls(),u}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,i,r){const n=this.editorVersion,s=e.newAgStackInstance();if(!s)return;const{params:o}=e;s.then(l=>this.afterCellEditorCreated(n,l,o,i,r)),ht(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const i=this.getParentOfValue();Lr(i);const r=e!=null?Kr(e,!0):null;r!=null&&(i.textContent=r)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Sl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Sl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const i=this.cellRenderer.refresh(e.params);return i===!0||i===void 0}createCellRendererInstance(e){const r=!this.beans.gridOptionsService.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:s}=e,o=()=>{if(this.rendererVersion!==n||!this.isAlive())return;const l=e.newAgStackInstance(),u=this.afterCellRendererCreated.bind(this,n,s);l&&l.then(u)};r&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,i,r){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const s=this.getParentOfValue();Lr(s),s.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,i,r,n,s){if(e!==this.editorVersion){this.beans.context.destroyBean(i);return}if(i.isCancelBeforeStart&&i.isCancelBeforeStart()){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing(!0);return}if(!i.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();const l=n||i.isPopup!==void 0&&i.isPopup();l?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,l),i.afterGuiAttached&&i.afterGuiAttached()}refreshEditStyles(e,i){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),(r=this.rowCtrl)==null||r.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,i){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const r=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new qie(e));const n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);const s=this.beans.popupService,o=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),a=i??(r.getPopupPosition?r.getPopupPosition():"over"),l=this.beans.gridOptionsService.get("enableRtl"),u={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=s.positionPopupByComponent.bind(s,u),d=this.beans.localeService.getLocaleTextFunc(),h=s.addPopup({modal:o,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&w$()&&e.focus({preventScroll:!0}),Lr(this.getParentOfValue())}},$Fe=class extends Et{constructor(e,i,r){super(),this.cellComps={},this.beans=i,this.rowCtrl=e;const n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(r)),this.setTemplateFromElement(n);const s=this.getGui(),o=s.style;this.domOrder=this.rowCtrl.getDomOrder(),hr(s,"row");const a=this.rowCtrl.getTabIndex();a!=null&&s.setAttribute("tabindex",a.toString());const l={setDomOrder:u=>this.domOrder=u,setCellCtrls:u=>this.setCellCtrls(u),showFullWidth:u=>this.showFullWidth(u),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(u,c)=>this.addOrRemoveCssClass(u,c),setUserStyles:u=>M$(s,u),setTop:u=>o.top=u,setTransform:u=>o.transform=u,setRowIndex:u=>s.setAttribute("row-index",u),setRowId:u=>s.setAttribute("row-id",u),setRowBusinessKey:u=>s.setAttribute("row-business-key",u),refreshFullWidth:u=>this.refreshFullWidth(u)};e.setComp(l,this.getGui(),r),this.addDestroyFunc(()=>{e.unsetComp(r)})}getInitialStyle(e){const i=this.rowCtrl.getInitialTransform(e);return i?`transform: ${i}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){const i=n=>{if(this.isAlive()){const s=n.getGui();this.getGui().appendChild(s),this.rowCtrl.setupDetailRowAutoHeight(s),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},r=e.newAgStackInstance();r&&r.then(i)}setCellCtrls(e){const i=Object.assign({},this.cellComps);e.forEach(n=>{const s=n.getInstanceId();this.cellComps[s]==null?this.newCellComp(n):i[s]=null});const r=eh(i).filter(n=>n!=null);this.destroyCells(r),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const i=[];e.forEach(r=>{const n=this.cellComps[r.getInstanceId()];n&&i.push(n.getGui())}),O$(this.getGui(),i)}newCellComp(e){const i=new HFe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=eh(this.cellComps).filter(i=>i!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(i=>{if(!i)return;const r=i.getCtrl().getInstanceId();this.cellComps[r]===i&&(i.detach(),i.destroy(),this.cellComps[r]=null)})}refreshFullWidth(e){const{fullWidthCellRenderer:i}=this;if(!i||!i.refresh)return!1;const r=e();return i.refresh(r)}};function BFe(){const t=Et.elementGettingCreated.getAttribute("name"),e=vx.getRowContainerCssClasses(t);let i;return t==="center"||t==="topCenter"||t==="stickyTopCenter"||t==="bottomCenter"?i=`<div class="${e.viewport}" ref="eViewport" role="presentation">
                <div class="${e.container}" ref="eContainer"></div>
            </div>`:i=`<div class="${e.container}" ref="eContainer"></div>`,i}var nC=class extends Et{constructor(){super(BFe()),this.rowComps={},this.name=Et.elementGettingCreated.getAttribute("name"),this.type=jie(this.name)}postConstruct(){const e={setViewportHeight:r=>this.eViewport.style.height=r,setRowCtrls:({rowCtrls:r})=>this.setRowCtrls(r),setDomOrder:r=>{this.domOrder=r},setContainerWidth:r=>this.eContainer.style.width=r};this.createManagedBean(new vx(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const i=it({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const r=n=>{const s=n.getInstanceId(),o=i[s];if(o)this.rowComps[s]=o,delete i[s],this.ensureDomOrder(o.getGui());else{if(!n.getRowNode().displayed)return;const a=new $Fe(n,this.beans,this.type);this.rowComps[s]=a,this.appendRow(a.getGui())}};e.forEach(r),eh(i).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),hr(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?Gte(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(A$(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};x([V("beans")],nC.prototype,"beans",2);x([ke("eViewport")],nC.prototype,"eViewport",2);x([ke("eContainer")],nC.prototype,"eContainer",2);x([Me],nC.prototype,"postConstruct",1);x([As],nC.prototype,"preDestroy",1);var X$=class{constructor(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}onDragEnter(t){if(this.clearColumnsList(),this.gridOptionsService.get("functionsReadOnly"))return;const e=t.dragItem.columns;e&&e.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Rt.ICON_PINNED:Rt.ICON_MOVE:null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};x([V("columnModel")],X$.prototype,"columnModel",2);x([V("gridOptionsService")],X$.prototype,"gridOptionsService",2);var Fp=class{static attemptMoveColumns(t){const{isFromHeader:e,hDirection:i,xPosition:r,fromEnter:n,fakeEvent:s,pinned:o,gridOptionsService:a,columnModel:l}=t,u=i===0,c=i===1;let{allMovingColumns:d}=t;if(e){let E=[];d.forEach(b=>{var D;let P=null,O=b.getParent();for(;O!=null&&O.getDisplayedLeafColumns().length===1;)P=O,O=O.getParent();P!=null?(!!((D=P.getColGroupDef())!=null&&D.marryChildren)?P.getProvidedColumnGroup().getLeafColumns():P.getLeafColumns()).forEach(I=>{E.includes(I)||E.push(I)}):E.includes(b)||E.push(b)}),d=E}const h=d.slice();l.sortColumnsLikeGridColumns(h);const f=this.calculateValidMoves({movingCols:h,draggingRight:c,xPosition:r,pinned:o,gridOptionsService:a,columnModel:l}),g=this.calculateOldIndex(h,l);if(f.length===0)return;const m=f[0];let C=g!==null&&!n;if(e&&(C=g!==null),C&&!s&&(u&&m>=g||c&&m<=g))return;const S=l.getAllDisplayedColumns();let y=[],w=null;for(let E=0;E<f.length;E++){const b=f[E],D=l.getProposedColumnOrder(h,b);if(!l.doesOrderPassRules(D))continue;const P=D.filter(N=>S.includes(N));if(w===null)w=P;else if(!hu(P,w))break;const O=this.groupFragCount(D);y.push({move:b,fragCount:O})}if(y.length!==0)return y.sort((E,b)=>E.fragCount-b.fragCount),this.moveColumns(d,y[0].move,"uiColumnMoved",!1,l)}static moveColumns(t,e,i,r,n){return n.moveColumns(t,e,i,r),r?null:{columns:t,toIndex:e}}static calculateOldIndex(t,e){const i=e.getAllGridColumns(),r=Xee(t.map(l=>i.indexOf(l))),n=r[0];return Qt(r)-n!==r.length-1?null:n}static groupFragCount(t){function e(r){let n=[],s=r.getOriginalParent();for(;s!=null;)n.push(s),s=s.getOriginalParent();return n}let i=0;for(let r=0;r<t.length-1;r++){let n=e(t[r]),s=e(t[r+1]);[n,s]=n.length>s.length?[n,s]:[s,n],n.forEach(o=>{s.indexOf(o)===-1&&i++})}return i}static calculateValidMoves(t){const{movingCols:e,draggingRight:i,xPosition:r,pinned:n,gridOptionsService:s,columnModel:o}=t;if(s.get("suppressMovableColumns")||e.some(y=>y.getColDef().suppressMovable))return[];const l=o.getDisplayedColumns(n),u=o.getAllGridColumns(),c=l.filter(y=>Ho(e,y)),d=l.filter(y=>!Ho(e,y)),h=u.filter(y=>!Ho(e,y));let f=0,g=r;if(i){let y=0;c.forEach(w=>y+=w.getActualWidth()),g-=y}if(g>0){for(let y=0;y<d.length;y++){const w=d[y];if(g-=w.getActualWidth(),g<0)break;f++}i&&f++}let m;if(f>0){const y=d[f-1];m=h.indexOf(y)+1}else m=h.indexOf(d[0]),m===-1&&(m=0);const C=[m],S=(y,w)=>y-w;if(i){let y=m+1;const w=u.length-1;for(;y<=w;)C.push(y),y++;C.sort(S)}else{let y=m;const w=u.length-1;let E=u[y];for(;y<=w&&l.indexOf(E)<0;)y++,C.push(y),E=u[y];y=m-1;const b=0;for(;y>=b;)C.push(y),y--;C.sort(S).reverse()}return C}static normaliseX(t,e,i,r,n){const s=n.getHeaderRowContainerCtrl(e).getViewport();return i&&(t-=s.getBoundingClientRect().left),r.get("enableRtl")&&(t=s.clientWidth-t),e==null&&(t+=n.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t}},sC=class{constructor(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!Te(t)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Rt.ICON_PINNED:Rt.ICON_MOVE}onDragEnter(t){const e=t.dragItem.columns;if(t.dragSource.type===0)this.setColumnsVisible(e,!0,"uiColumnDragged");else{const r=t.dragItem.visibleState,n=(e||[]).filter(s=>r[s.getId()]);this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,i){if(t){const r=t.filter(n=>!n.getColDef().lockVisible);this.columnModel.setColumnsVisible(r,e,i)}}setColumnsPinned(t,e,i){if(t){const r=t.filter(n=>!n.getColDef().lockPinned);this.columnModel.setColumnsPinned(r,e,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(t){if(this.centerContainer){const e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(t=this.lastDraggingEvent,e=!1,i=!1,r=!1){var n;if(r){if(this.lastMovedInfo){const{columns:c,toIndex:d}=this.lastMovedInfo;Fp.moveColumns(c,d,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,ht(t.hDirection))return;const s=Fp.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(s);const o=this.normaliseDirection(t.hDirection),a=t.dragSource.type,l=((n=t.dragSource.getDragItem().columns)==null?void 0:n.filter(c=>c.getColDef().lockPinned?c.getPinned()==this.pinned:!0))||[],u=Fp.attemptMoveColumns({allMovingColumns:l,isFromHeader:a===1,hDirection:o,xPosition:s,pinned:this.pinned,fromEnter:e,fakeEvent:i,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});u&&(this.lastMovedInfo=u)}normaliseDirection(t){if(this.gridOptionsService.get("enableRtl"))switch(t){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${t}`)}else return t}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Rt.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Rt.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Rt.ICON_MOVE))}moveInterval(){let t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);let e=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const n=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);if(n.length>0&&(this.dragAndDropService.setGhostIcon(Rt.ICON_PINNED),this.failedMoveAttempts>7)){const s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(n,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};x([V("columnModel")],sC.prototype,"columnModel",2);x([V("dragAndDropService")],sC.prototype,"dragAndDropService",2);x([V("gridOptionsService")],sC.prototype,"gridOptionsService",2);x([V("ctrlsService")],sC.prototype,"ctrlsService",2);x([Me],sC.prototype,"init",1);var oC=class extends Pe{constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(t){return t===1||t===0&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new sC(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new X$(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&t.dragSource.type===0}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}};x([V("dragAndDropService")],oC.prototype,"dragAndDropService",2);x([V("columnModel")],oC.prototype,"columnModel",2);x([V("ctrlsService")],oC.prototype,"ctrlsService",2);x([Me],oC.prototype,"postConstruct",1);x([Me],oC.prototype,"init",1);var aC=class Xie extends j${constructor(e){super(Xie.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((s,o)=>{o!=null&&o!=""?e.setAttribute(s,o):e.removeAttribute(s)})("col-id",this.column.getColId());const r={setWidth:s=>e.style.width=s,addOrRemoveCssClass:(s,o)=>this.addOrRemoveCssClass(s,o),setAriaSort:s=>s?bte(e,s):Rte(e),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(r,this.getGui(),this.eResize,this.eHeaderCompWrapper);const n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const i=this.headerCompVersion;e.newAgStackInstance().then(r=>this.afterCompCreated(i,r))}afterCompCreated(e,i){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};aC.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;x([ke("eResize")],aC.prototype,"eResize",2);x([ke("eHeaderCompWrapper")],aC.prototype,"eHeaderCompWrapper",2);x([Me],aC.prototype,"postConstruct",1);x([As],aC.prototype,"destroyHeaderComp",1);var WFe=aC,kO=class Qie extends j${constructor(e){super(Qie.TEMPLATE,e)}postConstruct(){const e=this.getGui(),i=(n,s)=>s!=null?e.setAttribute(n,s):e.removeAttribute(n);e.setAttribute("col-id",this.ctrl.getColId());const r={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setResizableDisplayed:n=>Vt(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>i("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(r,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(e){const i=()=>this.destroyBean(e);if(!this.isAlive()){i();return}const r=this.getGui(),n=e.getGui();r.appendChild(n),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(r)}};kO.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;x([ke("eResize")],kO.prototype,"eResize",2);x([Me],kO.prototype,"postConstruct",1);var UFe=kO,x1=(t=>(t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter",t))(x1||{}),Q$=class extends Et{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){g$(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:i=>this.getGui().style.height=i,setTop:i=>this.getGui().style.top=i,setHeaderCtrls:(i,r)=>this.setHeaderCtrls(i,r),setWidth:i=>this.getGui().style.width=i};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,i){if(!this.isAlive())return;const r=this.headerComps;if(this.headerComps={},e.forEach(n=>{const s=n.getInstanceId();let o=r[s];delete r[s],o==null&&(o=this.createHeaderComp(n),this.getGui().appendChild(o.getGui())),this.headerComps[s]=o}),Jn(r,(n,s)=>{this.getGui().removeChild(s.getGui()),this.destroyBean(s)}),i){const n=eh(this.headerComps);n.sort((o,a)=>{const l=o.getCtrl().getColumnGroupChild().getLeft(),u=a.getCtrl().getColumnGroupChild().getLeft();return l-u});const s=n.map(o=>o.getGui());O$(this.getGui(),s)}}createHeaderComp(e){let i;switch(this.ctrl.getType()){case"group":i=new UFe(e);break;case"filter":i=new lFe(e);break;default:i=new WFe(e);break}return this.createBean(i),i.setParentComponent(this),i}};x([Me],Q$.prototype,"init",1);x([As],Q$.prototype,"destroyHeaderCtrls",1);var zFe=0,Qc=class Zie extends Pe{constructor(e,i,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=r,this.beans=i,this.instanceId=e.getUniqueId()+"-"+zFe++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(e){const{headerRowIndex:i,column:r}=this.focusService.getFocusedHeader();return Kte(this.gridOptionsService,e,i,r)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:e,column:i,beans:r}=this;_O.refreshFirstAndLastStyles(e,i,r.columnModel)}refreshAriaColIndex(){const{beans:e,column:i}=this,r=e.columnModel.getAriaColumnIndex(i);m$(this.eGui,r)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){var i;const n=this.gridOptionsService.getDocument().activeElement,s=e.key===de.LEFT||e.key===de.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),n!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const o=e.key===de.LEFT!==this.gridOptionsService.get("enableRtl"),a=Tie[o?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const l=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(l,e.shiftKey),(i=this.resizeFeature)==null||i.toggleColumnResizing(!0)}else this.moveHeader(a)}getViewportAdjustedResizeDiff(e){let i=this.getResizeDiff(e);if(this.column.getPinned()){const n=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),o=$f(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(n+s+i>o)if(o>n+s)i=o-n-s;else return 0}return i}getResizeDiff(e){let i=e.key===de.LEFT!==this.gridOptionsService.get("enableRtl");const r=this.column.getPinned(),n=this.gridOptionsService.get("enableRtl");return r&&n!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const i=this.getWrapperHasFocus();switch(e.key){case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:i&&e.preventDefault()}}addDomData(){const e=Zie.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,i,r){const n=e??i;this.gridOptionsService.get("preventDefaultOnContextMenu")&&n.preventDefault();const s=r instanceof yi?r:void 0;this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,e,i),this.dispatchColumnMouseEvent(F.EVENT_COLUMN_HEADER_CONTEXT_MENU,r)}dispatchColumnMouseEvent(e,i){const r={type:e,column:i};this.eventService.dispatchEvent(r)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};Qc.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";x([V("pinnedWidthService")],Qc.prototype,"pinnedWidthService",2);x([V("focusService")],Qc.prototype,"focusService",2);x([V("userComponentFactory")],Qc.prototype,"userComponentFactory",2);x([V("ctrlsService")],Qc.prototype,"ctrlsService",2);x([V("dragAndDropService")],Qc.prototype,"dragAndDropService",2);x([V("menuService")],Qc.prototype,"menuService",2);x([Me],Qc.prototype,"postConstruct",1);var VO=Qc,HO=class extends Pe{constructor(t,e,i,r){super(),this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=r,this.beans=i}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Qt(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,yi.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),e=Te(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const t=this.getColumnOrGroup(),e=t.getLeft(),i=t.getOldLeft(),r=this.modifyLeftForPrintLayout(t,i),n=this.modifyLeftForPrintLayout(t,e);this.setLeft(r),this.actualLeft=n,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!this.beans.gridOptionsService.isDomLayout("print")||t.getPinned()==="left")return e;const r=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){const n=this.beans.columnModel.getBodyContainerWidth();return r+n+e}return r+e}setLeft(t){if(Te(t)&&(this.eCell.style.left=`${t}px`),this.columnOrGroup instanceof yi)this.columnOrGroup;else{const i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&Ete(this.ariaEl,i.length),i[0]}}};x([Me],HO.prototype,"postConstruct",1);var Vb=class extends Pe{constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};x([V("columnHoverService")],Vb.prototype,"columnHoverService",2);x([Me],Vb.prototype,"postConstruct",1);var jFe=class extends VO{constructor(t,e,i){super(t,e,i),this.iconCreated=!1,this.column=t}setComp(t,e,i,r){this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=r,this.setGui(e),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,yi.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const t=this.column.getColDef(),e=!!t.filter,i=!!t.floatingFilter;this.active=e&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const t=ir("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(){this.createManagedBean(new gh(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();Nl(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),n.focus();return}const s=this.findNextColumnWithFloatingFilter(t.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){const e=this.beans.columnModel;let i=this.column;do if(i=t?e.getDisplayedColBefore(i):e.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case de.UP:case de.DOWN:e||t.preventDefault();case de.LEFT:case de.RIGHT:if(e)return;t.stopPropagation();case de.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case de.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;const i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),r=!!t.relatedTarget&&xp(t.relatedTarget,"ag-floating-filter");if(i&&r&&t.target===this.eGui){const s=this.lastFocusEvent,o=!!(s&&s.key===de.TAB);if(s&&o){const a=s.shiftKey;this.focusService.focusInto(this.eGui,a)}}const n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}setupHover(){this.createManagedBean(new Vb([this.column],this.eGui));const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,F.EVENT_COLUMN_HOVER_CHANGED,t),t()}setupLeft(){const t=new HO(this.column,this.eGui,this.beans);this.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const t=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){const t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:t}=this.beans,e=i=>{const r=this.comp.getFloatingFilterComp();r&&r.then(n=>{if(n){const s=t.getCurrentFloatingFilterParentModel(this.column);n.onParentModelChanged(s,i)}})};this.destroySyncListener=this.addManagedListener(this.column,yi.EVENT_FILTER_CHANGED,e),t.isFilterActive(this.column)&&e(null)}setupWidth(){const t=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};this.addManagedListener(this.column,yi.EVENT_WIDTH_CHANGED,t),t()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,yi.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const t=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var t,e;const i=this.active;this.setupActive();const r=!i&&this.active;i&&!this.active&&((t=this.destroySyncListener)==null||t.call(this),(e=this.destroyFilterChangedListener)==null||e.call(this));const n=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!n?this.updateCompDetails(n,r):s.then(o=>{var a;!o||this.beans.filterManager.areFilterCompsDifferent((a=this.userCompDetails)!=null?a:null,n)?this.updateCompDetails(n,r):this.updateFloatingFilterParams(n)})}updateCompDetails(t,e){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),e&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(t){var e;if(!t)return;const i=t.params;(e=this.comp.getFloatingFilterComp())==null||e.then(r=>{let n=!1;r!=null&&r.refresh&&typeof r.refresh=="function"&&r.refresh(i)!==null&&(n=!0),!n&&(r!=null&&r.onParamsUpdated)&&typeof r.onParamsUpdated=="function"&&r.onParamsUpdated(i)!==null&&ct("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},lC=class extends Pe{constructor(t,e,i,r,n){super(),this.pinned=t,this.column=e,this.eResize=i,this.comp=r,this.ctrl=n}postConstruct(){const t=[];let e,i;const r=()=>{if(Vt(this.eResize,e),!e)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(o),i){const a=this.gridOptionsService.get("skipHeaderOnAutoSize"),l=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const u=new vn(this.eResize);u.addEventListener(vn.EVENT_DOUBLE_TAP,l),t.push(()=>{this.eResize.removeEventListener("dblclick",l),u.removeEventListener(vn.EVENT_DOUBLE_TAP,l),u.destroy()})}},n=()=>{t.forEach(o=>o()),t.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gridOptionsService.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==e||a!==i)&&(e=o,i=a,n(),r())};s(),this.addDestroyFunc(n),this.ctrl.addRefreshFunction(s)}onResizing(t,e){const{column:i,lastResizeAmount:r,resizeStartWidth:n}=this,s=this.normaliseResizeAmount(e),o=n+s,a=[{key:i,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),u=this.pinnedWidthService.getPinnedRightWidth(),c=$f(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+u+(s-r)>c)return}this.lastResizeAmount=s,this.columnModel.setColumnWidths(a,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t;const i=this.pinned!=="left",r=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?i&&(e*=-1):r&&(e*=-1),e}};x([V("horizontalResizeService")],lC.prototype,"horizontalResizeService",2);x([V("pinnedWidthService")],lC.prototype,"pinnedWidthService",2);x([V("ctrlsService")],lC.prototype,"ctrlsService",2);x([V("columnModel")],lC.prototype,"columnModel",2);x([Me],lC.prototype,"postConstruct",1);var Z$=class extends Pe{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t}onSpaceKeyDown(t){const e=this.cbSelectAll,i=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(i.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new OO),this.cbSelectAll.addCssClass("ag-header-select-all"),hr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,F.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),xb(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);const e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),r=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${r} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${r} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){return this.gridOptionsService.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${t} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(t){const e=this.rowModel.getType();return e==="clientSide"||e==="serverSide"?!0:(console.warn(`AG Grid: ${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${e}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),i=this.isCurrentPageOnly();let r="uiSelectAll";i?r="uiSelectAllCurrentPage":e&&(r="uiSelectAllFiltered");const n={source:r,justFiltered:e,justCurrentPage:i};t?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){let t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){const e=t,i=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});t=e(i)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};x([V("rowModel")],Z$.prototype,"rowModel",2);x([V("selectionService")],Z$.prototype,"selectionService",2);var KFe=class extends VO{constructor(t,e,i){super(t,e,i),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,i,r){this.comp=t,this.setGui(e),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(r),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new lC(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new Vb([this.column],e)),this.createManagedBean(new HO(this.column,e,this.beans)),this.createManagedBean(new gh(e,{shouldStopEventPropagation:n=>this.shouldStopEventPropagation(n),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,yi.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(t,e){var i,r;if(!this.column.isResizable())return;const n=this.column.getActualWidth(),s=(i=this.column.getMinWidth())!=null?i:0,o=(r=this.column.getMaxWidth())!=null?r:Number.MAX_SAFE_INTEGER,a=Math.min(Math.max(n+t,s),o);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:a}],e,!0,"uiColumnResized")}moveHeader(t){const{eGui:e,column:i,gridOptionsService:r,ctrlsService:n}=this,s=this.getPinned(),o=e.getBoundingClientRect().left,a=i.getActualWidth(),l=r.get("enableRtl"),u=t===0!==l,c=Fp.normaliseX(u?o-20:o+a+20,s,!0,r,n);Fp.attemptMoveColumns({allMovingColumns:[i],isFromHeader:!0,hDirection:t,xPosition:c,pinned:s,fromEnter:!1,fakeEvent:!1,gridOptionsService:r,columnModel:this.beans.columnModel}),n.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,"auto")}setupUserComp(){const t=this.lookupUserCompDetails();this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(){const t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)}createParams(){return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,i)=>{this.beans.sortController.setSortForColumn(this.column,e,!!i,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(e,i)=>{this.setupTooltip(e,i)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new Z$(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===de.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===de.ENTER&&this.onEnterKeyDown(t),t.key===de.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)}onEnterKeyDown(t){if(t.ctrlKey||t.metaKey)this.showMenuOnKeyPress(t,!0);else if(this.sortable){const e=t.shiftKey;this.beans.sortController.progressSort(this.column,e,"uiColumnSorted")}}showMenuOnKeyPress(t,e){const i=this.comp.getUserCompInstance();!i||!(i instanceof R1)||i.onMenuKeyboardShortcut(e)&&t.preventDefault()}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",r=this.eGui,n=this.column.getColDef();!e&&i&&!n.headerComponent&&(e=()=>{const a=r.querySelector(".ag-header-cell-text");return a?a.scrollWidth>a.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:e},o=this.createManagedBean(new Yc(s));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const t=()=>{const e=this.column.getColDef(),i=_O.getHeaderClassesFromColDef(e,this.gridOptionsService,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(n=>{r.has(n)?r.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),r.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.refreshFunctions.push(t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;const{column:e,beans:i,displayName:r,dragAndDropService:n,gridOptionsService:s}=this,{columnModel:o}=i;let a=!this.gridOptionsService.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>a?Rt.ICON_HIDE:Rt.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(e),dragItemName:r,onDragStarted:()=>{a=!s.get("suppressDragLeaveHidesColumns"),e.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>e.setMoving(!1,"uiColumnMoved"),onGridEnter:u=>{var c;if(a){const d=((c=u==null?void 0:u.columns)==null?void 0:c.filter(h=>!h.getColDef().lockVisible))||[];o.setColumnsVisible(d,!0,"uiColumnMoved")}},onGridExit:u=>{var c;if(a){const d=((c=u==null?void 0:u.columns)==null?void 0:c.filter(h=>!h.getColDef().lockVisible))||[];o.setColumnsVisible(d,!1,"uiColumnMoved")}}};n.addDragSource(l,!0)}createDragItem(t){const e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(t){this.refreshFunctions.push(t)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(t=>t())}refreshHeaderComp(){const t=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();return!e||!e.refresh?!1:e.refresh(t)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const t=this.column.getColDef();return!!(!this.gridOptionsService.get("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};this.addManagedListener(this.column,yi.EVENT_WIDTH_CHANGED,t),t()}setupMovingCss(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,yi.EVENT_MOVING_CHANGED,t),t()}setupMenuClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,yi.EVENT_MENU_VISIBLE_CHANGED,t),t()}setupSortableClass(){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.eventService,yi.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const t=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};this.addManagedListener(this.column,yi.EVENT_FILTER_ACTIVE_CHANGED,t),t()}setupWrapTextClass(){const t=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.addRefreshFunction(t)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:i,beans:r}=this;if(!e.isSpanHeaderHeight()){t.style.removeProperty("top"),t.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:n,isSpanningTotal:s}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",n>0);const{columnModel:o}=r,a=o.getColumnHeaderRowHeight();if(n===0){i.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),t.style.setProperty("height",`${a}px`);return}i.addOrRemoveCssClass("ag-header-span-total",s);const u=o.isPivotMode()?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight(),c=n*u;t.style.setProperty("top",`${-c}px`),t.style.setProperty("height",`${a+c}px`)}setupAutoHeight(t){const{columnModel:e,resizeObserverService:i}=this.beans,r=u=>{if(!this.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:h,borderTopWidth:f}=fh(this.getGui()),g=c+d+h+f,C=t.offsetHeight+g;if(u<5){const S=this.beans.gridOptionsService.getDocument(),y=!S||!S.contains(t),w=C==0;if(y||w){window.setTimeout(()=>r(u+1),0);return}}e.setColumnHeaderHeight(this.column,C)};let n=!1,s;const o=()=>{const u=this.column.isAutoHeaderHeight();u&&!n&&a(),!u&&n&&l()},a=()=>{n=!0,r(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=i.observeResize(t,()=>r(0))},l=()=>{n=!1,s&&s(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};o(),this.addDestroyFunc(()=>l()),this.addManagedListener(this.column,yi.EVENT_WIDTH_CHANGED,()=>n&&r(0)),this.addManagedListener(this.eventService,yi.EVENT_SORT_CHANGED,()=>{n&&window.setTimeout(()=>r(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc(),e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(hte(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(t,e){e!=null?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}announceAriaDescription(){const t=this.beans.gridOptionsService.getDocument();if(!this.eGui.contains(t.activeElement))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((i,r)=>i==="filter"?-1:r.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const t=()=>{if(!this.gridOptionsService.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};this.addManagedListener(this.eventService,F.EVENT_COLUMN_HOVER_CHANGED,t),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),e=()=>this.dispatchColumnMouseEvent(F.EVENT_COLUMN_HEADER_CLICKED,this.column),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",e),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(t){this.setActiveHeader(t);const i={type:t?F.EVENT_COLUMN_HEADER_MOUSE_OVER:F.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(i)}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){const e=this.comp.getUserCompInstance();return e instanceof R1?e.getAnchorElementForMenu(t):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},Hb=class extends Pe{constructor(t,e,i,r){super(),this.eResize=e,this.comp=t,this.pinned=i,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsService.get("suppressAutoSize")){const e=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(n=>{n.getColDef().suppressAutoSize||i.push(n.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){const e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)}onResizing(t,e,i="uiColumnResized"){const r=this.normaliseDragChange(e),n=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(n,i,t)}getInitialValues(t){const e=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(e),r=this.getSizeRatiosOfColumns(e,i),n={columnsToResize:e,resizeStartWidth:i,resizeRatios:r};let s=null;if(t&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){const o=s.getDisplayedLeafColumns(),a=n.groupAfterColumns=o.filter(u=>u.isResizable()),l=n.groupAfterStartWidth=this.getInitialSizeOfColumns(a);n.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(t){const{columnsToResize:e,resizeStartWidth:i,resizeRatios:r,groupAfterColumns:n,groupAfterStartWidth:s,groupAfterRatios:o}=t;this.resizeCols=e,this.resizeStartWidth=i,this.resizeRatios=r,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();e>i.resizeStartWidth&&this.resizeColumns(i,e,t,!0)}resizeColumnsFromLocalValues(t,e,i=!0){var r,n,s;if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(r=this.resizeTakeFromCols)!=null?r:void 0,groupAfterStartWidth:(n=this.resizeTakeFromStartWidth)!=null?n:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!=null?s:void 0};this.resizeColumns(o,t,e,i)}resizeColumns(t,e,i,r=!0){const{columnsToResize:n,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=t,c=[];if(c.push({columns:n,ratios:o,width:e}),a){const d=e-s;c.push({columns:a,ratios:u,width:l-d})}this.columnModel.resizeColumnSets({resizeSets:c,finished:r,source:i}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}getSizeRatiosOfColumns(t,e){return t.map(i=>i.getActualWidth()/e)}normaliseDragChange(t){let e=t;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(e*=-1):this.pinned==="right"&&(e*=-1),e}destroy(){super.destroy(),this.clearLocalValues()}};x([V("horizontalResizeService")],Hb.prototype,"horizontalResizeService",2);x([V("autoWidthCalculator")],Hb.prototype,"autoWidthCalculator",2);x([V("columnModel")],Hb.prototype,"columnModel",2);x([Me],Hb.prototype,"postConstruct",1);var Jie=class extends Pe{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Br.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",t===0)}};x([Me],Jie.prototype,"postConstruct",1);var YFe=class extends VO{constructor(t,e,i){super(t,e,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const r=this.getGui();this.setDragSource(r)}},this.column=t}setComp(t,e,i){this.comp=t,this.setGui(e),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const r=this.getParentRowCtrl().getPinned(),n=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Vb(n,e)),this.createManagedBean(new HO(this.column,e,this.beans)),this.createManagedBean(new Jie(t,this.column)),this.resizeFeature=this.createManagedBean(new Hb(t,i,r,this.column)),this.createManagedBean(new gh(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(F.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(t,e){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+t,"uiColumnResized",!0)}moveHeader(t){const{beans:e,eGui:i,column:r,gridOptionsService:n,ctrlsService:s}=this,o=n.get("enableRtl"),a=t===0,l=this.getPinned(),u=i.getBoundingClientRect(),c=u.left,d=u.width,h=Fp.normaliseX(a!==o?c-20:c+d+20,l,!0,n,s),f=r.getGroupId(),g=this.focusService.getFocusedHeader();Fp.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:n,columnModel:e.columnModel});const m=r.getDisplayedLeafColumns(),C=a?m[0]:Qt(m);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&g&&this.restoreFocus(f,r,g)}restoreFocus(t,e,i){const r=e.getLeafColumns();if(!r.length)return;const n=r[0].getParent();if(!n)return;const s=this.findGroupWidthId(n,t);s&&this.focusService.focusHeaderPosition({headerPosition:Ui(it({},i),{column:s})})}findGroupWidthId(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null}resizeLeafColumnsToFit(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(){const t=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:i=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),i,"gridInitializing")},setTooltip:(i,r)=>{this.setupTooltip(i,r)}}),e=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(e)}addHeaderMouseListeners(){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),e=()=>this.dispatchColumnMouseEvent(F.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t),this.addManagedListener(this.getGui(),"click",e),this.addManagedListener(this.getGui(),"contextmenu",i)}handleMouseOverChange(t){const i={type:t?F.EVENT_COLUMN_HEADER_MOUSE_OVER:F.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)}setupTooltip(t,e){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const i=this.column.getColGroupDef(),r=this.gridOptionsService.get("tooltipShowMode")==="whenTruncated",n=this.eGui;!e&&r&&!(i!=null&&i.headerGroupComponent)&&(e=()=>{const o=n.querySelector(".ag-header-group-text");return o?o.scrollWidth>o.clientWidth:!0});const s={getColumn:()=>this.column,getGui:()=>n,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(i&&i.headerTooltip),shouldDisplayTooltip:e};i&&(s.getColDef=()=>i),this.createBean(new Yc(s))}setupExpandable(){const t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,Rr.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,Rr.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const t=this.column;this.expandable=t.isExpandable();const e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const t=this.column.getColGroupDef(),e=_O.getHeaderClassesFromColDef(t,this.gridOptionsService,null,this.column);this.column.isPadding()?(e.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&e.push("ag-header-span-height")):e.push("ag-header-group-cell-with-group"),e.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const e=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());e.forEach(r=>{this.addManagedListener(r,yi.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(!(!this.expandable||!e)&&t.key===de.ENTER){const i=this.column,r=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!t))return;const{beans:e,column:i,displayName:r,gridOptionsService:n,dragAndDropService:s}=this,{columnModel:o}=e,a=i.getProvidedColumnGroup().getLeafColumns();let l=!n.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>l?Rt.ICON_HIDE:Rt.ICON_NOT_ALLOWED,dragItemName:r,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),a.forEach(c=>c.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(c=>c.setMoving(!1,"uiColumnDragged")),onGridEnter:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:c=>{var d;if(l){const h=((d=c==null?void 0:c.columns)==null?void 0:d.filter(f=>!f.getColDef().lockVisible))||[];o.setColumnsVisible(h,!1,"uiColumnMoved")}}};s.addDragSource(u,!0)}getDragItemForGroup(t){const e=t.getProvidedColumnGroup().getLeafColumns(),i={};e.forEach(n=>i[n.getId()]=n.isVisible());const r=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(n=>{e.indexOf(n)>=0&&(r.push(n),zs(e,n))}),e.forEach(n=>r.push(n)),{columns:r,visibleState:i}}isSuppressMoving(){let t=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsService.get("suppressMovableColumns")}},qFe=0,CS=class extends Pe{constructor(t,e,i){super(),this.instanceId=qFe++,this.rowIndex=t,this.pinned=e,this.type=i;const r=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${r}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(t,e=!0){this.comp=t,e&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,F.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_VIRTUAL_COLUMNS_CHANGED,t=>this.onVirtualColumnsChanged(t.afterScroll)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",t=>this.isEnsureDomOrder=t.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(t){if(this.headerCellCtrls)return Dp(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){const{columnModel:t}=this.beans;return this.isPrintLayout?this.pinned!=null?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null):t.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px"),this.comp.setHeight(e+"px")}getTopAndHeight(){const{columnModel:t,filterManager:e}=this.beans;let i=t.getHeaderRowCount();const r=[];let n=0;e.hasFloatingFilters()&&(i++,n=1);const s=t.getColumnGroupHeaderRowHeight(),o=t.getColumnHeaderRowHeight(),a=1+n,l=i-a;for(let d=0;d<l;d++)r.push(s);r.push(o);for(let d=0;d<n;d++)r.push(t.getFloatingFiltersHeight());let u=0;for(let d=0;d<this.rowIndex;d++)u+=r[d];const c=r[this.rowIndex];return{topOffset:u,rowHeight:c}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=!1){const e=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,i,t)}getHeaderCtrls(){const t=this.headerCellCtrls;this.headerCellCtrls=new Map;const e=this.getColumnsInViewport();for(const n of e)this.recycleAndCreateHeaderCtrls(n,t);const i=n=>{const{focusService:s,columnModel:o}=this.beans;return s.isHeaderWrapperFocused(n)?o.isDisplayed(n.getColumnGroupChild()):!1};if(t)for(const[n,s]of t)i(s)?this.headerCellCtrls.set(n,s):this.destroyBean(s);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls||t.isEmptyGroup())return;const i=t.getUniqueId();let r;if(e&&(r=e.get(i),e.delete(i)),r&&r.getColumnGroupChild()!=t&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":r=this.createBean(new jFe(t,this.beans,this));break;case"group":r=this.createBean(new YFe(t,this.beans,this));break;default:r=this.createBean(new KFe(t,this.beans,this));break}this.headerCellCtrls.set(i,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let t=[];const e=this.getActualDepth(),{columnModel:i}=this.beans;return["left",null,"right"].forEach(r=>{const n=i.getVirtualHeaderGroupRow(r,e);t=t.concat(n)}),t}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(t,e){if(!this.headerCellCtrls)return!1;const r=Array.from(this.headerCellCtrls.values()).find(n=>n.getColumnGroupChild()==t);return r?r.focus(e):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}};x([V("beans")],CS.prototype,"beans",2);x([Me],CS.prototype,"postConstruct",1);var mh=class extends Pe{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(t){const e=new oC(this.pinned,t);this.createManagedBean(e)}refresh(t=!1){const e=new tv,i=this.focusService.getFocusHeaderToUseAfterRefresh(),r=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const u=this.createBean(new CS(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(u)}},n=()=>{const a=e.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!t||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new CS(a,this.pinned,"column")))},s=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=e.next();if(this.filtersRowCtrl){const u=this.filtersRowCtrl.getRowIndex()!==l;(!t||u)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new CS(l,this.pinned,"filter")))};r(),n(),s();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})}getAllCtrls(){const t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new rC(t=>this.comp.setCenterWidth(`${t}px`),!0))}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}setupPinnedWidth(){if(this.pinned==null)return;const t=this.pinned==="left",e=this.pinned==="right";this.hidden=!0;const i=()=>{const r=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(r==null)return;const n=r==0,s=this.hidden!==n,o=this.gridOptionsService.get("enableRtl"),a=this.gridOptionsService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&t||!o&&e)?r+a:r;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!n),s&&(this.hidden=n,this.refresh())};this.addManagedListener(this.eventService,F.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,F.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,F.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(t){if(t instanceof yi)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(let e=0;e<this.groupsRowCtrls.length;e++){const i=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(i)return i}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){const i=this.getAllCtrls()[t];return i?i.getType():void 0}focusHeader(t,e,i){const n=this.getAllCtrls()[t];return n?n.focusHeader(e,i):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};x([V("ctrlsService")],mh.prototype,"ctrlsService",2);x([V("scrollVisibleService")],mh.prototype,"scrollVisibleService",2);x([V("pinnedWidthService")],mh.prototype,"pinnedWidthService",2);x([V("columnModel")],mh.prototype,"columnModel",2);x([V("focusService")],mh.prototype,"focusService",2);x([V("filterManager")],mh.prototype,"filterManager",2);var qf=class LD extends Et{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:r=>this.setDisplayed(r),setCtrls:r=>this.setCtrls(r),setCenterWidth:r=>this.eCenterContainer.style.width=r,setViewportScrollLeft:r=>this.getGui().scrollLeft=r,setPinnedContainerWidth:r=>{const n=this.getGui();n.style.width=r,n.style.maxWidth=r,n.style.minWidth=r}};this.createManagedBean(new mh(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",i=this.pinned=="right",r=e?LD.PINNED_LEFT_TEMPLATE:i?LD.PINNED_RIGHT_TEMPLATE:LD.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let r;const n=s=>{const o=s.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),r&&A$(this.eRowContainer,o,r),r=o};e.forEach(s=>{const o=s.getInstanceId(),a=i[o];delete i[o];const l=a||this.createBean(new Q$(s));this.headerRowComps[o]=l,this.rowCompsList.push(l),n(l)}),eh(i).forEach(s=>this.destroyRowComp(s))}};qf.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>';qf.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>';qf.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;x([ke("eCenterContainer")],qf.prototype,"eCenterContainer",2);x([Me],qf.prototype,"init",1);x([As],qf.prototype,"destroyRowComps",1);var FL=qf,tf=class extends Pe{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl});const t=this.gridOptionsService.getDocument();this.addManagedListener(t,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0}navigateVertically(t,e,i){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;const{headerRowIndex:r,column:n}=e,s=this.getHeaderRowCount(),o=t===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:u}=o?this.headerPositionUtils.getColumnVisibleParent(n,r):this.headerPositionUtils.getColumnVisibleChild(n,r),c=!1;return a<0&&(a=0,l=n,c=!0),a>=s?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!c&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=!1,i){const r=this.focusService.getFocusedHeader(),n=t===2,s=this.gridOptionsService.get("enableRtl");let o,a;return this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,n!==s?(a="Before",o=this.headerPositionUtils.findHeader(r,a)):(a="After",o=this.headerPositionUtils.findHeader(r,a)),o||!e?this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:e,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(r,a,i)}focusNextHeaderRow(t,e,i){const r=t.headerRowIndex;let n=null,s;if(e==="Before"?r>0&&(s=r-1,this.currentHeaderRowWithoutSpan-=1,n=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=r+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),n=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!n)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(n.column,n==null?void 0:n.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:e,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(t,e="After"){if(t.getPinned())return;let i;if(t instanceof Br){const r=t.getDisplayedLeafColumns();i=e==="Before"?Qt(r):r[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};x([V("focusService")],tf.prototype,"focusService",2);x([V("headerPositionUtils")],tf.prototype,"headerPositionUtils",2);x([V("ctrlsService")],tf.prototype,"ctrlsService",2);x([Me],tf.prototype,"postConstruct",1);tf=x([We("headerNavigationService")],tf);var vh=class extends Pe{setComp(t,e,i){this.comp=t,this.eGui=e,this.createManagedBean(new gh(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const r=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",r),this.mockContextMenuForIPad(r),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:t}=this;let e=0,i=t.getHeaderRowCount(),r;this.filterManager.hasFloatingFilters()&&(i++,e=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),a=1+e,l=i-a;if(r=e*t.getFloatingFiltersHeight(),r+=l*s,r+=o,this.headerHeight===r)return;this.headerHeight=r;const u=`${r+1}px`;this.comp.setHeightAndMinHeight(u),this.eventService.dispatchEvent({type:F.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const e=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gridOptionsService.get("enableRtl"),i=t.shiftKey!==e?2:3;(this.headerNavigationService.navigateHorizontally(i,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case de.LEFT:e=2;case de.RIGHT:Te(e)||(e=3),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case de.UP:e=0;case de.DOWN:Te(e)||(e=1),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}}onFocusOut(t){const e=this.gridOptionsService.getDocument(),{relatedTarget:i}=t;!i&&this.eGui.contains(e.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(t,e,i){if(!t&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:r}=t??e;(r===this.eGui||r===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,t,i)}mockContextMenuForIPad(t){if(!Kc())return;const e=new vn(this.eGui),i=r=>{t(void 0,r.touchStart,r.touchEvent)};this.addManagedListener(e,vn.EVENT_LONG_TAP,i),this.addDestroyFunc(()=>e.destroy())}};x([V("headerNavigationService")],vh.prototype,"headerNavigationService",2);x([V("focusService")],vh.prototype,"focusService",2);x([V("columnModel")],vh.prototype,"columnModel",2);x([V("ctrlsService")],vh.prototype,"ctrlsService",2);x([V("filterManager")],vh.prototype,"filterManager",2);x([V("menuService")],vh.prototype,"menuService",2);var J$=class ere extends Et{constructor(){super(ere.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(n,s)=>this.addOrRemoveCssClass(n,s),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new vh).setComp(e,this.getGui(),this.getFocusableElement());const r=n=>{this.createManagedBean(n),this.appendChild(n)};r(new FL("left")),r(new FL(null)),r(new FL("right"))}};J$.TEMPLATE='<div class="ag-header" role="presentation"/>';x([Me],J$.prototype,"postConstruct",1);var XFe=J$,Pw=class extends Pe{addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();const i=e instanceof MouseEvent&&e.shiftKey===!0;t.onResizeStart(i)}setResizeIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}};x([V("dragService")],Pw.prototype,"dragService",2);x([V("ctrlsService")],Pw.prototype,"ctrlsService",2);Pw=x([We("horizontalResizeService")],Pw);var ih=class extends Pe{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e,i){this.showPopup(t,r=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:i,mouseEvent:e,ePopup:r})},i,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,i){let r=-1,n="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gridOptionsService.get("enableRtl")&&(r=1,n="right");let o=s?void 0:4*r,a=s?void 0:4;this.showPopup(t,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:e,ePopup:l,nudgeX:o,nudgeY:a,alignSide:n,keepWithinBounds:!0,position:"under",column:t})},i,e,s)}showPopup(t,e,i,r,n){const s=t?this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU"):void 0;if(!s||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");hr(o,"presentation"),o.classList.add("ag-menu"),n||o.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(o,"keydown",g=>this.trapFocusWithin(g,o)),s.guiPromise.then(g=>o.appendChild(g));let a;const l=()=>{var g;return(g=s.filterPromise)==null?void 0:g.then(m=>{var C;return(C=m==null?void 0:m.afterGuiDetached)==null?void 0:C.call(m)})},u=this.menuService.isColumnMenuAnchoringEnabled()?r??this.ctrlsService.getGridBodyCtrl().getGui():void 0,c=g=>{t.setMenuVisible(!1,"contextMenu");const m=g instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),m&&r&&Wo(r)){const C=this.focusService.findTabbableParent(r);C&&C.focus()}l(),this.dispatchVisibleChangedEvent(!1,i,t)},d=this.localeService.getLocaleTextFunc(),h=n&&i!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),f=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:c,positionCallback:()=>e(o),anchorToElement:u,ariaLabel:h});f&&(this.hidePopup=a=f.hideFunc),s.filterPromise.then(g=>{e(o),g.afterGuiAttached&&g.afterGuiAttached({container:i,hidePopup:a})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,t)}trapFocusWithin(t,e){t.key!==de.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}dispatchVisibleChangedEvent(t,e,i){const r={type:F.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:t,switchingTab:!1,key:e,column:i??null};this.eventService.dispatchEvent(r)}isMenuEnabled(t){var e;return t.isFilterAllowed()&&((e=t.getColDef().menuTabs)!=null?e:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}};x([V("filterManager")],ih.prototype,"filterManager",2);x([V("popupService")],ih.prototype,"popupService",2);x([V("focusService")],ih.prototype,"focusService",2);x([V("ctrlsService")],ih.prototype,"ctrlsService",2);x([V("menuService")],ih.prototype,"menuService",2);ih=x([We("filterMenuFactory")],ih);var _D=(t=>(t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",t))(_D||{}),$O=class extends Pe{constructor(t){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:e,eTopGuard:i,eBottomGuard:r,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:s,focusInnerElement:o,onFocusIn:a,onFocusOut:l,shouldStopEventPropagation:u,onTabKeyDown:c,handleKeyDown:d,eFocusableElement:h}=t;this.comp=e,this.eTopGuard=i,this.eBottomGuard=r,this.providedFocusInnerElement=o,this.eFocusableElement=h,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.providedFocusIn=a,this.providedFocusOut=l,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=d}postConstruct(){this.createManagedBean(new gh(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedListener(t,"focus",this.onFocus.bind(this)))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}const e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}findNextElementOutsideAndFocus(t){const e=this.gridOptionsService.getDocument(),i=this.focusService.findFocusableElements(e.body,null,!0),r=i.indexOf(t?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let n,s;t?(n=0,s=r):(n=r+1,s=i.length);const o=i.slice(n,s),a=this.gridOptionsService.get("tabIndex");o.sort((l,u)=>{const c=parseInt(l.getAttribute("tabindex")||"0"),d=parseInt(u.getAttribute("tabindex")||"0");return d===a?1:c===a?-1:c===0?1:d===0?-1:c-d}),o[t?o.length-1:0].focus()}onFocusIn(t){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(t),this.deactivateTabGuards())}onFocusOut(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())}onTabKeyDown(t){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(this.focusTrapActive||t.defaultPrevented)return;const e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();const i=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),t.preventDefault())}focusInnerElement(t=!1){const e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){if(this.forcingFocusOut)return;const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,e.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(t){return t===this.eTopGuard||t===this.eBottomGuard}};x([V("focusService")],$O.prototype,"focusService",2);x([Me],$O.prototype,"postConstruct",1);var $b=class extends Et{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const i=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:n=>{i.forEach(s=>n!=null?s.setAttribute("tabindex",n):s.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new $O({comp:r,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(e){const i=document.createElement("div"),r=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return i.classList.add("ag-tab-guard",r),hr(i,"presentation"),i}addTabGuards(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Lr(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,i){Ob(e)||(e=e.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",e):super.appendChild(e,i)}},BO=class tre extends $b{constructor(e){super(tre.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,i,r;return(r=(i=(e=this.activeItem)==null?void 0:e.tabbedItem)==null?void 0:i.afterDetachedCallback)==null?void 0:r.call(i)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}setupHeader(){const{enableCloseButton:e,cssClass:i}=this.params,r=(n,s)=>{n.classList.add(`ag-tabs-${s}`),i&&n.classList.add(`${i}-${s}`)};e?(this.setupCloseButton(r),this.eTabHeader=this.gridOptionsService.getDocument().createElement("div"),r(this.eHeader,"header-wrapper"),hr(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,hr(this.eTabHeader,"tablist"),r(this.eTabHeader,"header")}setupCloseButton(e){const i=this.gridOptionsService.getDocument(),r=i.createElement("button");e(r,"close-button");const n=ir("close",this.gridOptionsService,void 0,!0);Nl(r,this.params.closeButtonAriaLabel),r.appendChild(n),this.addManagedListener(r,"click",()=>{var o,a;return(a=(o=this.params).onCloseClicked)==null?void 0:a.call(o)});const s=i.createElement("div");e(s,"close-button-wrapper"),hr(s,"presentation"),s.appendChild(r),this.eHeader.appendChild(s),this.eCloseButton=r}handleKeyDown(e){const i=this.gridOptionsService.getDocument();switch(e.key){case de.RIGHT:case de.LEFT:if(!this.eTabHeader.contains(i.activeElement))return;const r=e.key===de.RIGHT,n=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),o=r!==n?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===o)return;e.preventDefault();const a=this.items[o];this.showItemWrapper(a),a.eHeaderButton.focus();break;case de.UP:case de.DOWN:e.stopPropagation();break}}onTabKeyDown(e){var i,r,n,s;if(e.defaultPrevented)return;const{focusService:o,eHeader:a,eBody:l,activeItem:u,params:c}=this,{suppressTrapFocus:d,enableCloseButton:h}=c,g=this.gridOptionsService.getDocument().activeElement,m=e.target,C=e.shiftKey;if(a.contains(g)){e.preventDefault(),h&&C&&!((i=this.eCloseButton)!=null&&i.contains(g))?(r=this.eCloseButton)==null||r.focus():d&&C?(n=this.focusService.findFocusableElementBeforeTabGuard(this.gridOptionsService.getDocument().body,m))==null||n.focus():this.focusBody(e.shiftKey);return}let S=null;if(o.isTargetUnderManagedComponent(l,m)&&(C&&(S=this.focusService.findFocusableElementBeforeTabGuard(l,m)),!S&&!d&&(S=u.eHeaderButton)),!S&&l.contains(g)&&(S=o.findNextFocusableElement(l,!1,C),!S)){e.preventDefault(),d&&!C?this.forceFocusOutOfContainer(C):h&&!C?(s=this.eCloseButton)==null||s.focus():this.focusHeader();return}S&&(e.preventDefault(),S.focus())}focusInnerElement(e){e?this.focusHeader():this.focusBody(!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){this.focusService.focusInto(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const i=document.createElement("span");hr(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eTabHeader.appendChild(i),Nl(i,e.titleLabel);const r={tabbedItem:e,eHeaderButton:i};this.items.push(r),i.addEventListener("click",this.showItemWrapper.bind(this,r))}showItem(e){const i=this.items.find(r=>r.tabbedItem===e);i&&this.showItemWrapper(i)}showItemWrapper(e){var i,r,n,s,o,a;const{tabbedItem:l,eHeaderButton:u}=e;if((r=(i=this.params).onItemClicked)==null||r.call(i,{item:l}),this.activeItem===e){(s=(n=this.params).onActiveItemClicked)==null||s.call(n);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Lr(this.eBody),l.bodyPromise.then(c=>{this.eBody.appendChild(c);const d=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,d),l.afterAttachedCallback&&l.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const h=l.getScrollableContainer&&l.getScrollableContainer()||c;this.lastScrollListener=this.addManagedListener(h,"scroll",()=>{this.tabbedItemScrollMap.set(l.name,h.scrollTop)});const f=this.tabbedItemScrollMap.get(l.name);f!==void 0&&setTimeout(()=>{h.scrollTop=f},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(a=(o=this.activeItem.tabbedItem).afterDetachedCallback)==null||a.call(o)),u.classList.add("ag-tab-selected"),this.activeItem=e}};x([V("focusService")],BO.prototype,"focusService",2);x([ke("eHeader")],BO.prototype,"eHeader",2);x([ke("eBody")],BO.prototype,"eBody",2);x([Me],BO.prototype,"postConstruct",1);var QFe=50,A1=class extends Pe{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(t,e){const i=this.gridOptionsService.getWindow(),r=()=>{const a=new i.ResizeObserver(e);return a.observe(t),()=>a.disconnect()},n=()=>{var a,l;let u=(a=t==null?void 0:t.clientWidth)!=null?a:0,c=(l=t==null?void 0:t.clientHeight)!=null?l:0,d=!0;const h=()=>{var f,g;if(d){const m=(f=t==null?void 0:t.clientWidth)!=null?f:0,C=(g=t==null?void 0:t.clientHeight)!=null?g:0;(m!==u||C!==c)&&(u=m,c=C,e()),this.doNextPolyfillTurn(h)}};return h(),()=>d=!1},s=this.gridOptionsService.get("suppressBrowserResizeObserver");return!!i.ResizeObserver&&!s?r():this.getFrameworkOverrides().wrapIncoming(()=>n(),"resize-observer")}doNextPolyfillTurn(t){this.polyfillFunctions.push(t),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const t=()=>{const e=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],e.forEach(i=>i())};this.polyfillScheduled=!0,window.setTimeout(t,QFe)}};A1=x([We("resizeObserverService")],A1);var rv=class extends Pe{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(t){const e=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&t===0){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t}init(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,i){this.verifyAnimationFrameOn(i);const r={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],r),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;const e=this.scrollGoingDown?1:-1;t.list.sort((i,r)=>i.index!==r.index?e*(r.index-i.index):r.createOrder-i.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1,i=e.list,r=this.createTasksP2,n=r.list,s=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=t<=0,u=this.ctrlsService.getGridBodyCtrl();for(;l||a<t;){if(!u.getScrollFeature().scrollGridIfNeeded()){let d;if(i.length)this.sortTaskList(e),d=i.pop().task;else if(n.length)this.sortTaskList(r),d=n.pop().task;else if(s.length)d=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(d)||d()}a=new Date().getTime()-o}i.length||n.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=this.gridOptionsService.getWindow();e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{if(!this.isOn()){window.setTimeout(t,0);return}e||(e=!0,this.addDestroyTask(()=>{e=!1,t()}))}}};x([V("ctrlsService")],rv.prototype,"ctrlsService",2);x([V("paginationProxy")],rv.prototype,"paginationProxy",2);x([Me],rv.prototype,"init",1);rv=x([We("animationFrameService")],rv);var xw=class extends Pe{postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(t){if(!this.isClientSideRowModel)return;const e=new Set(t);this.rowModel.forEachNode(i=>{i.id&&e.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const t=[];return this.rowModel.forEachNode(({expanded:e,id:i})=>{e&&i&&t.push(i)}),t}expandAll(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,i){t&&(i&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,e,i),t.setExpanded(e))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};x([V("rowModel")],xw.prototype,"rowModel",2);x([Me],xw.prototype,"postConstruct",1);xw=x([We("expansionService")],xw);var Gl=class extends Pe{postConstruct(){var t;this.activeMenuFactory=(t=this.enterpriseMenuFactory)!=null?t:this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){const e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,!0)}showHeaderContextMenu(t,e,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,i)}showContextMenu(t){var e,i,r;const{column:n,anchorToElement:s,rowNode:o,value:a}=t;(r=this.contextMenuFactory)==null||r.onContextMenu((e=t.mouseEvent)!=null?e:null,(i=t.touchEvent)!=null?i:null,o??null,n??null,a,s)}showColumnChooser(t){var e;(e=this.columnChooserFactory)==null||e.showColumnChooser(t)}hidePopupMenu(){var t;(t=this.contextMenuFactory)==null||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var t;(t=this.columnChooserFactory)==null||t.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){const{suppressMenu:e,suppressHeaderMenuButton:i}=t.getColDef();return!(i??e)&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){return!t.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(t)}isHeaderContextMenuEnabled(t){return!(t!=null&&t.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const t=!this.isSuppressMenuHide();return!(Kc()&&t)}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){return this.filterManager.isFilterAllowed(t)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(t){var e;const i=t.getColDef(),r=(e=i.floatingFilterComponentParams)==null?void 0:e.suppressFilterButton;return r!=null&&ct("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!r:!i.suppressFloatingFilterButton}getColumnMenuType(){var t;return(t=this.gridOptionsService.get("columnMenu"))!=null?t:"legacy"}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){const t=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?t:!0}showColumnMenuCommon(t,e,i,r){const{column:n,positionBy:s}=e;if(s==="button"){const{buttonElement:o}=e;t.showMenuAfterButtonClick(n,o,i,r)}else if(s==="mouse"){const{mouseEvent:o}=e;t.showMenuAfterMouseEvent(n,o,i,r)}else n&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()).getHeaderCtrlForColumn(n);t.showMenuAfterButtonClick(n,o.getAnchorElementForMenu(r),i,!0)}))}};x([Kt("enterpriseMenuFactory")],Gl.prototype,"enterpriseMenuFactory",2);x([V("filterMenuFactory")],Gl.prototype,"filterMenuFactory",2);x([Kt("contextMenuFactory")],Gl.prototype,"contextMenuFactory",2);x([V("ctrlsService")],Gl.prototype,"ctrlsService",2);x([V("animationFrameService")],Gl.prototype,"animationFrameService",2);x([Kt("columnChooserFactory")],Gl.prototype,"columnChooserFactory",2);x([V("filterManager")],Gl.prototype,"filterManager",2);x([Me],Gl.prototype,"postConstruct",1);Gl=x([We("menuService")],Gl);var rf=class extends Pe{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCtrl=t.centerRowContainerCtrl})}getPreferredWidthForColumn(t,e){const i=this.getHeaderCellForColumn(t);if(!i)return-1;const r=this.rowRenderer.getAllCellsForColumn(t);return e||r.push(i),this.addElementsToContainerAndGetWidth(r)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();t.forEach(s=>this.cloneItemIntoDummy(s,e)),i.appendChild(e);const r=e.offsetWidth;i.removeChild(e);const n=this.getAutoSizePadding();return r+n}getAutoSizePadding(){return this.gridOptionsService.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const r=i.getHtmlElementForColumnHeader(t);r!=null&&(e=r)}),e}cloneItemIntoDummy(t,e){const i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const r=document.createElement("div"),n=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(n.add("ag-header","ag-header-row"),r.style.position="static"):n.add("ag-row");let o=t.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const u=o.classList[l];u!="ag-row-position-absolute"&&n.add(u)}break}o=o.parentElement}r.appendChild(i),e.appendChild(r)}};x([V("rowRenderer")],rf.prototype,"rowRenderer",2);x([V("ctrlsService")],rf.prototype,"ctrlsService",2);x([V("rowCssClassCalculator")],rf.prototype,"rowCssClassCalculator",2);x([Me],rf.prototype,"postConstruct",1);rf=x([We("autoWidthCalculator")],rf);var Bb=class extends Pe{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let t=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],t);const e=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),r=s=>{var o,a,l;e.push(s);let u;if(this.isClientSide){let d=s;for(;d.isExpandable()&&d.expanded;)if(d.master)d=d.detailNode;else if(d.childrenAfterSort){if(d.childrenAfterSort.length===0)break;d=Qt(d.childrenAfterSort)}u=d.rowTop+d.rowHeight}else if(s.master)u=s.detailNode.rowTop+s.detailNode.rowHeight;else{const d=(o=s.childStore)==null?void 0:o.getStoreBounds();u=((a=d==null?void 0:d.heightPx)!=null?a:0)+((l=d==null?void 0:d.topPx)!=null?l:0)}const c=i+t+s.rowHeight;u<c?s.stickyRowTop=t+(u-c):s.stickyRowTop=t,t=0,e.forEach(d=>{const h=d.stickyRowTop+d.rowHeight;t<h&&(t=h)})};let n=0;for(;;){const s=i+t,o=this.rowModel.getRowIndexAtPixel(s),a=this.rowModel.getRow(o);if(a==null||a.level<0||n++===100)break;const l=[];let u=a.parent;for(;u.level>=0;)l.push(u),u=u.parent;const c=l.reverse().find(d=>e.indexOf(d)<0&&d.displayed);if(c){r(c);continue}if(a.isExpandable()&&a.expanded&&a.rowTop<s){r(a);continue}break}return this.refreshNodesAndContainerHeight(e,t)}refreshStickyNode(t){const e=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const r=this.stickyRowCtrls[i].getRowNode();r!==t&&e.push(r)}this.refreshNodesAndContainerHeight(e,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(t,e){let i=!1;const r=this.stickyRowCtrls.filter(a=>t.indexOf(a.getRowNode())===-1),n=t.filter(a=>this.stickyRowCtrls.findIndex(l=>l.getRowNode()===a)===-1);(r.length||n.length)&&(i=!0);const s={};r.forEach(a=>{s[a.getRowNode().id]=a,this.stickyRowCtrls=this.stickyRowCtrls.filter(l=>l!==a)});for(const a of Object.values(s))a.getRowNode().sticky=!1;this.destroyRowCtrls(s,!1);const o=n.map(a=>(a.sticky=!0,this.createRowCon(a,!1,!1)));return this.stickyRowCtrls.push(...o),this.stickyRowCtrls.forEach(a=>a.setRowTop(a.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e),i=!0),i}};x([V("rowModel")],Bb.prototype,"rowModel",2);x([V("rowRenderer")],Bb.prototype,"rowRenderer",2);x([V("ctrlsService")],Bb.prototype,"ctrlsService",2);x([Me],Bb.prototype,"postConstruct",1);var Uo=class extends Pe{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const t=()=>{this.getAllCellCtrls().forEach(s=>s.onRangeSelectionChanged())},e=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener(F.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.addEventListener(F.EVENT_COLUMN_MOVED,e),this.eventService.addEventListener(F.EVENT_COLUMN_PINNED,e),this.eventService.addEventListener(F.EVENT_COLUMN_VISIBLE,e)},r=()=>{this.eventService.removeEventListener(F.EVENT_RANGE_SELECTION_CHANGED,t),this.eventService.removeEventListener(F.EVENT_COLUMN_MOVED,e),this.eventService.removeEventListener(F.EVENT_COLUMN_PINNED,e),this.eventService.removeEventListener(F.EVENT_COLUMN_VISIBLE,e)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListener("enableRangeSelection",s=>{s.currentValue?i():r()}),this.gridOptionsService.get("enableRangeSelection")&&i()}}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,F.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,F.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gridOptionsService.isGroupRowsSticky()){const t=this.rowModel.getType();(t==="clientSide"||t==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Bb(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.get("keepDetailRows")){const t=this.getKeepDetailRowsCount(),e=t??3;this.cachedRowCtrls=new ZFe(e)}}getKeepDetailRowsCount(){return this.gridOptionsService.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const t=eh(this.rowCtrlsByRowIndex),e=eh(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];e.length>0||i.length>0?this.allRowCtrls=[...t,...e,...i]:this.allRowCtrls=t}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}registerCellEventListeners(){this.addManagedListener(this.eventService,F.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,F.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,F.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(e=>e.onFlashCells(t))}),this.addManagedListener(this.eventService,F.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,F.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(e=>{const i=l=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===e&&l(u)})},r=()=>{i(l=>l.onLeftChanged())},n=()=>{i(l=>l.onWidthChanged())},s=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};e.addEventListener("leftChanged",r),e.addEventListener("widthChanged",n),e.addEventListener("firstRightPinnedChanged",s),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",r),e.removeEventListener("widthChanged",n),e.removeEventListener("firstRightPinnedChanged",s),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.get("embedFullWidthRows"),i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){const e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)}getAllCellsForColumn(t){const e=[];return this.getAllRowCtrls().forEach(i=>{const r=i.getCellElement(t);r&&e.push(r)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){t.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),t.length=0,e&&e.forEach(i=>{const r=new Mp(i,this.beans,!1,!1,this.printLayout);t.push(r)})}onPinnedRowDataChanged(){const t={recycleRows:!0};this.redrawAfterModelUpdate(t)}redrawRow(t,e=!1){var i;if(t.sticky)this.stickyRowFeature.refreshStickyNode(t);else if((i=this.cachedRowCtrls)!=null&&i.has(t)){this.cachedRowCtrls.removeRow(t);return}else{const r=n=>{const s=n[t.rowIndex];s&&s.getRowNode()===t&&(s.destroyFirstPass(),s.destroySecondPass(),n[t.rowIndex]=this.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}e||this.dispatchDisplayedRowsChanged(!1)}redrawRows(t){if(t!=null){t==null||t.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){const e=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(e==null)return null;const r=this.gridOptionsService.getDocument().activeElement,n=this.gridOptionsService.getDomData(r,Op.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(r,Mp.DOM_DATA_KEY_ROW_CTRL);return n||s?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);const i=!t.domLayoutChanged&&!!t.recycleRows,r=t.animate&&this.gridOptionsService.isAnimateRows(),n=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(n,r),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),e!=null&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){const e=t.newData||t.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");e&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){const t=[],e=this.getAllRowCtrls(),i=e.length;for(let r=0;r<i;r++){const n=e[r].getAllCellCtrls(),s=n.length;for(let o=0;o<s;o++)t.push(n[o])}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],e=[...this.topRowCtrls,...this.bottomRowCtrls,...t];for(const i of Object.keys(this.rowCtrlsByRowIndex))e.push(this.rowCtrlsByRowIndex[i]);return e}addRenderedRowListener(t,e,i){const r=this.rowCtrlsByRowIndex[e];r&&r.addEventListener(t,i)}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach(e=>e.flashCell(t))}refreshCells(t={}){const e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>i.refreshOrDestroyCell(e)),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(i=>{if(!i.isFullWidth())return;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(t){var e;const i=this.getCellCtrls(t.rowNodes,t.columns).map(s=>s.getCellRenderer()).filter(s=>s!=null);if((e=t.columns)!=null&&e.length)return i;const r=[],n=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(n&&!this.isRowInMap(s.getRowNode(),n)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(l)}}),[...r,...i]}getCellEditorInstances(t){const e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{const r=i.getCellEditor();r&&e.push(r)}),e}getEditingCells(){const t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){const i=e.getCellPosition();t.push(i)}}),t}mapRowNodes(t){if(!t)return;const e={top:{},bottom:{},normal:{}};return t.forEach(i=>{const r=i.id;i.rowPinned==="top"?e.top[r]=i:i.rowPinned==="bottom"?e.bottom[r]=i:e.normal[r]=i}),e}isRowInMap(t,e){const i=t.id,r=t.rowPinned;return r==="bottom"?e.bottom[i]!=null:r==="top"?e.top[i]!=null:e.normal[i]!=null}getRowCtrls(t){const e=this.mapRowNodes(t),i=this.getAllRowCtrls();return!t||!e?i:i.filter(r=>{const n=r.getRowNode();return this.isRowInMap(n,e)})}getCellCtrls(t,e){let i;Te(e)&&(i={},e.forEach(n=>{const s=this.columnModel.getGridColumn(n);Te(s)&&(i[s.getId()]=!0)}));const r=[];return this.getRowCtrls(t).forEach(n=>{n.getAllCellCtrls().forEach(s=>{const o=s.getColumn().getId();i&&!i[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}getRowsToRecycle(){const t=[];Jn(this.rowCtrlsByRowIndex,(i,r)=>{r.getRowNode().id==null&&t.push(i)}),this.removeRowCtrls(t);const e={};return Jn(this.rowCtrlsByRowIndex,(i,r)=>{const n=r.getRowNode();e[n.id]=r}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t,e=!1){t.forEach(i=>{const r=this.rowCtrlsByRowIndex[i];r&&(r.destroyFirstPass(e),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(t={}){const{afterScroll:e}=t;let i;this.stickyRowFeature&&w$()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const r=this.firstRenderedRow,n=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());const o=this.firstRenderedRow!==r||this.lastRenderedRow!==n;if(!(e&&!s&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e&&!s),i!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(t,e){const i={};t.forEach(s=>i[s]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!i[s]);this.removeRowCtrls(n,e)}calculateIndexesToDraw(t){let e=Ite(this.firstRenderedRow,this.lastRenderedRow);const i=(n,s)=>{const o=s.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&e.push(o)};Jn(this.rowCtrlsByRowIndex,i),Jn(t,i),e.sort((n,s)=>n-s);const r=[];for(let n=0;n<e.length;n++){const s=e[n],o=this.paginationProxy.getRow(s);o&&!o.sticky&&r.push(s)}return r}recycleRows(t,e=!1,i=!1){const r=this.calculateIndexesToDraw(t);(this.printLayout||i)&&(e=!1),this.removeRowCompsNotToDraw(r,!e),r.forEach(n=>{this.createOrUpdateRowCtrl(n,t,e,i)}),t&&(i&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,e)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){const e={type:F.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(e)}onDisplayedColumnsChanged(){const t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach(e=>{const i=e.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const r=i.getRowNode();return!(e!=null&&!this.isRowInMap(r,e))})}createOrUpdateRowCtrl(t,e,i,r){let n,s=this.rowCtrlsByRowIndex[t];if(s||(n=this.paginationProxy.getRow(t),Te(n)&&Te(e)&&e[n.id]&&n.alreadyRendered&&(s=e[n.id],e[n.id]=null)),!s)if(n||(n=this.paginationProxy.getRow(t)),Te(n))s=this.createRowCon(n,i,r);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s}destroyRowCtrls(t,e){const i=[];Jn(t,(r,n)=>{if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);return}n.destroyFirstPass(!e),e?(this.zombieRowCtrls[n.getInstanceId()]=n,i.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[n.getInstanceId()]})):n.destroySecondPass()}}),e&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),Hee(i))}getRowBuffer(){return this.gridOptionsService.get("rowBuffer")}getRowBufferInPixels(){const t=this.getRowBuffer(),e=this.gridOptionsService.getRowHeightAsNumber();return t*e}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let t,e;if(!this.paginationProxy.isRowsToRender())t=0,e=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),u=this.gridOptionsService.get("suppressRowVirtualisation");let c=!1,d,h;do{const S=this.paginationProxy.getPixelOffset(),{pageFirstPixel:y,pageLastPixel:w}=this.paginationProxy.getCurrentPagePixelRange(),E=this.rowContainerHeightService.getDivStretchOffset(),b=l.getScrollFeature().getVScrollPosition(),D=b.top,P=b.bottom;u?(d=y+E,h=w+E):(d=Math.max(D+S-a,y)+E,h=Math.min(P+S+a,w)+E),this.firstVisibleVPixel=Math.max(D+S,y)+E,c=this.ensureAllRowsInRangeHaveHeightsCalculated(d,h)}while(c);let f=this.paginationProxy.getRowIndexAtPixel(d),g=this.paginationProxy.getRowIndexAtPixel(h);const m=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();f<m&&(f=m),g>C&&(g=C),t=f,e=g}const i=this.gridOptionsService.isDomLayout("normal"),r=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),n=Math.max(this.getRowBuffer(),500);i&&!r&&e-t>n&&(e=t+n);const s=t!==this.firstRenderedRow,o=e!==this.lastRenderedRow;if(s||o){this.firstRenderedRow=t,this.lastRenderedRow=e;const a={type:F.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e};this.eventService.dispatchEvent(a)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const t={type:F.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(t)})}ensureAllRowsInRangeHaveHeightsCalculated(t,e){const i=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const r=t.getRowNode(),n=this.focusService.isRowNodeFocused(r),s=t.isEditing(),o=r.detail;return n||s||o?!!this.paginationProxy.isRowPresent(r):!1}createRowCon(t,e,i){const r=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(r)return r;const n=this.gridOptionsService.get("suppressAnimationFrame"),s=i&&!n&&!this.printLayout;return new Mp(t,this.beans,e,s,this.printLayout)}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.keys(t).map(e=>t[e].getRowNode())}getRowByPosition(t){let e;const{rowIndex:i}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[i];break;case"bottom":e=this.bottomRowCtrls[i];break;default:e=this.rowCtrlsByRowIndex[i],e||(e=this.getStickyTopRowCtrls().find(r=>r.getRowNode().rowIndex===i)||null);break}return e}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}isRangeInRenderedViewport(t,e){if(t==null||e==null)return!1;const r=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!r}};x([V("animationFrameService")],Uo.prototype,"animationFrameService",2);x([V("paginationProxy")],Uo.prototype,"paginationProxy",2);x([V("columnModel")],Uo.prototype,"columnModel",2);x([V("pinnedRowModel")],Uo.prototype,"pinnedRowModel",2);x([V("rowModel")],Uo.prototype,"rowModel",2);x([V("focusService")],Uo.prototype,"focusService",2);x([V("beans")],Uo.prototype,"beans",2);x([V("rowContainerHeightService")],Uo.prototype,"rowContainerHeightService",2);x([V("ctrlsService")],Uo.prototype,"ctrlsService",2);x([Me],Uo.prototype,"postConstruct",1);Uo=x([We("rowRenderer")],Uo);var ZFe=class{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(t==null||t.id==null)return null;const e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}has(t){return this.entriesMap[t.id]!=null}removeRow(t){const e=t.id,i=this.entriesMap[e];delete this.entriesMap[e],zs(this.entriesList,i)}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e],zs(this.entriesList,t)}getEntries(){return this.entriesList}},Cx=class extends Pe{formatValue(t,e,i,r,n=!0){let s=null,o;const a=t.getColDef();if(r?o=r:n&&(o=a.valueFormatter),o){const l=this.gridOptionsService.addGridCommonParams({value:i,node:e,data:e?e.data:null,colDef:a,column:t});typeof o=="function"?s=o(l):s=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s}};x([V("expressionService")],Cx.prototype,"expressionService",2);Cx=x([We("valueFormatterService")],Cx);var Aw=class extends Pe{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(t){const e=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return xo(e)}isRowsToRender(t){return!this.isEmpty(t)}getRowAtPixel(t,e){const i=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(xo(i))return 0;for(let r=0;r<i.length;r++){const n=i[r];if(n.rowTop+n.rowHeight-1>=t)return r}return i.length-1}setPinnedTopRowData(){const t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0);const e={type:F.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)}setPinnedBottomRowData(){const t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1);const e={type:F.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)}createNodesFromData(t,e){const i=[];if(t){let r=0;t.forEach((n,s)=>{const o=new Ot(this.beans);o.data=n;const a=e?Ot.ID_PREFIX_TOP_PINNED:Ot.ID_PREFIX_BOTTOM_PINNED;o.id=a+s,o.rowPinned=e?"top":"bottom",o.setRowTop(r),o.setRowHeight(this.gridOptionsService.getRowHeightForNode(o).height),o.setRowIndex(s),r+=o.rowHeight,i.push(o)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(t){return this.pinnedTopRows[t]}getPinnedBottomRow(t){return this.pinnedBottomRows[t]}forEachPinnedTopRow(t){xo(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)}forEachPinnedBottomRow(t){xo(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(t){if(!t||t.length===0)return 0;const e=Qt(t);return e.rowTop+e.rowHeight}};x([V("beans")],Aw.prototype,"beans",2);x([Me],Aw.prototype,"init",1);Aw=x([We("pinnedRowModel")],Aw);var WO=class{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)}depthFirstSearchEverything(t,e,i){if(t.childrenAfterGroup)for(let r=0;r<t.childrenAfterGroup.length;r++){const n=t.childrenAfterGroup[r];n.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,i):i&&e(n)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,i=0;for(;!this.mapToItems[e.id];){const r={rowNode:e,children:null};this.mapToItems[e.id]=r,i++,e=e.parent}return i}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let i=t;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(r=>this.nodeIdsToColumns[i.id][r.getId()]=!0),i=i.parent}linkPathItems(t,e){let i=t;for(let r=0;r<e;r++){const n=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(n),i=i.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;const i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;const i=this.nodeIdsToColumns[t.id];return e.filter(n=>i[n.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[t.id];return e.filter(n=>!i[n.getId()])}},uC=class qh extends Pe{constructor(e){super(),this.state=qh.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=qh.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=qh.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=qh.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,i){this.successCommon(e,i)}pageLoaded(e,i,r){this.successCommon(e,{rowData:i,rowCount:r})}isRequestMostRecentAndLive(e){const i=e===this.version,r=this.isAlive();return i&&r}successCommon(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=qh.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(e=!0){const i={type:qh.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(i)}};uC.EVENT_LOAD_COMPLETE="loadComplete";uC.STATE_WAITING_TO_LOAD="needsLoading";uC.STATE_LOADING="loading";uC.STATE_LOADED="loaded";uC.STATE_FAILED="failed";var O1=uC,Fu=class extends Pe{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const t=this.gridOptionsService.get("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=ft.debounce(this.performCheckBlocksToLoad.bind(this),t))}setBeans(t){this.logger=t.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const t=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(t==null)return 2;if(!(t<=0))return t}addBlock(t){this.blocks.push(t),t.addEventListener(O1.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(t){ft.removeFromArray(this.blocks,t)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Fu.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:Fu.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const t=this.getAvailableLoadingCount(),e=this.blocks.filter(i=>i.getState()===O1.STATE_WAITING_TO_LOAD).slice(0,t);this.registerLoads(e.length),e.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const t={};return this.blocks.forEach(e=>{const{id:i,state:r}=e.getBlockStateJson();t[i]=r}),t}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Fu.BLOCK_LOADED_EVENT="blockLoaded";Fu.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";x([V("rowModel")],Fu.prototype,"rowModel",2);x([Me],Fu.prototype,"postConstruct",1);x([yl(0,Ra("loggerFactory"))],Fu.prototype,"setBeans",1);Fu=x([We("rowNodeBlockLoader")],Fu);var Ow=class extends Pe{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,F.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(t,e,i,r){const n=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return n&&this.calculatePages(),n}isPaginateChildRows(){return this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.get("paginateChildRows")}onModelUpdated(t){this.calculatePages();const e={type:F.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,newPageSize:t?t.newPageSize:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(e)}onPaginationGridOptionChanged(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();const t={type:F.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)}onPageSizeGridOptionChanged(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")}goToPage(t){if(!this.active||this.currentPage===t||typeof this.currentPage!="number")return;this.currentPage=t;const e={type:F.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(e)}getPixelOffset(){return this.pixelOffset}getRow(t){return this.rowModel.getRow(t)}getRowNode(t){return this.rowModel.getRowNode(t)}getRowIndexAtPixel(t){return this.rowModel.getRowIndexAtPixel(t)}getCurrentPageHeight(){return ht(this.topRowBounds)||ht(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const t=this.topRowBounds?this.topRowBounds.rowTop:0,e=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:e}}isRowPresent(t){return this.rowModel.isRowPresent(t)?t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(t){return this.rowModel.forEachNode(t)}forEachNodeOnPage(t){const e=this.getPageFirstRow(),i=this.getPageLastRow();for(let r=e;r<=i;r++){const n=this.getRow(r);n&&t(n)}}getType(){return this.rowModel.getType()}getRowBounds(t){const e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return this.active?this.getPageForIndex(t.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){return Te(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:Te(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Te(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Te(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:F.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}setPageSize(t,e){const i=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){const r={type:F.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(r)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Te(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:F.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const e=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const r=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=r-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};x([V("rowModel")],Ow.prototype,"rowModel",2);x([Me],Ow.prototype,"postConstruct",1);Ow=x([We("paginationProxy")],Ow);var yx=class extends Pe{processAllCellClasses(t,e,i,r){this.processClassRules(void 0,t.cellClassRules,e,i,r),this.processStaticCellClasses(t,e,i)}processClassRules(t,e,i,r,n){if(e==null&&t==null)return;const s={},o={},a=(l,u)=>{l.split(" ").forEach(c=>{c.trim()!=""&&u(c)})};if(e){const l=Object.keys(e);for(let u=0;u<l.length;u++){const c=l[u],d=e[c];let h;typeof d=="string"?h=this.expressionService.evaluate(d,i):typeof d=="function"&&(h=d(i)),a(c,f=>{h?s[f]=!0:o[f]=!0})}}t&&n&&Object.keys(t).forEach(l=>a(l,u=>{s[u]||(o[u]=!0)})),n&&Object.keys(o).forEach(n),Object.keys(s).forEach(r)}getStaticCellClasses(t,e){const{cellClass:i}=t;if(!i)return[];let r;return typeof i=="function"?r=i(e):r=i,typeof r=="string"&&(r=[r]),r||[]}processStaticCellClasses(t,e,i){this.getStaticCellClasses(t,e).forEach(n=>{i(n)})}};x([V("expressionService")],yx.prototype,"expressionService",2);yx=x([We("stylingService")],yx);var ire=class extends OO{constructor(t){super(t,"ag-toggle-button")}setValue(t,e){return super.setValue(t,e),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},JFe=class extends wl{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const i=super.setValue(t,e);return this.eInput.value=t,i}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}},eIe=class extends Wf{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const t=Mu();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||t||this.eInput.focus()}),this.eInput.step="any"}onWheel(t){document.activeElement===this.eInput&&t.preventDefault()}setMin(t){var e;const i=t instanceof Date?(e=Oa(t??null,!1))!=null?e:void 0:t;return this.min===i?this:(this.min=i,yu(this.eInput,"min",i),this)}setMax(t){var e;const i=t instanceof Date?(e=Oa(t??null,!1))!=null?e:void 0:t;return this.max===i?this:(this.max=i,yu(this.eInput,"max",i),this)}setStep(t){return this.step===t?this:(this.step=t,yu(this.eInput,"step",t),this)}getDate(){var t;if(this.eInput.validity.valid)return(t=qs(this.getValue()))!=null?t:void 0}setDate(t,e){this.setValue(Oa(t??null,!1),e)}},tIe=class extends wl{constructor(t){super(t,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:t,max:e,step:i}=this.config;t!=null&&this.setMinValue(t),e!=null&&this.setMaxValue(e),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",t=>{const e=t.target.value;this.setValue(e)})}setMinValue(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this}setMaxValue(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this}setStep(t){return this.eInput.setAttribute("step",t.toString()),this}setValue(t,e){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());const i=super.setValue(t,e);return this.eInput.value=t,i}},eB=class extends Et{constructor(t,e){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=t,this.wrapperEl=e}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(t){let e="";this.params.valueFormatter&&(e=this.params.valueFormatter(t)),this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.value=t}highlightString(t){const{parsedValue:e}=this;if(this.params.cellRenderer||!Te(e))return;let i=Te(t);if(i){const r=e==null?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(r>=0){const n=r+t.length,s=Kr(e.slice(0,r),!0),o=Kr(e.slice(r,n),!0),a=Kr(e.slice(n));this.renderValueWithoutRenderer(`${s}<span class="ag-rich-select-row-text-highlight">${o}</span>${a}`)}else i=!1}i||this.renderValueWithoutRenderer(e)}updateHighlighted(t){var e;const i=this.getGui(),r=`ag-rich-select-row-${this.getCompId()}`;if((e=i.parentElement)==null||e.setAttribute("id",r),t){const n=this.getParentComponent().getAriaElement();f$(n,r),this.wrapperEl.setAttribute("data-active-option",r)}Jm(i.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)}populateWithoutRenderer(t,e){const i=this.gridOptionsService.getDocument(),r=this.getGui(),n=i.createElement("span");n.style.overflow="hidden",n.style.textOverflow="ellipsis";const s=Kr(Te(e)?e:t,!0);this.parsedValue=Te(s)?s:null,r.appendChild(n),this.renderValueWithoutRenderer(s),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})}renderValueWithoutRenderer(t){const e=this.getGui().querySelector("span");e&&(e.innerHTML=Te(t)?t:"&nbsp;")}populateWithRenderer(t,e){let i,r;return this.params.cellRenderer&&(r=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:e,setTooltip:(n,s)=>{this.setTooltip({newTooltipText:n,shouldDisplayTooltip:s})}})),r&&(i=r.newAgStackInstance()),i&&I$(i,this.getGui()),i?(i.then(n=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(n)})}),!0):!1}onClick(){const t=this.getParentComponent(),e={type:F.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t==null||t.dispatchEvent(e)}};x([V("userComponentFactory")],eB.prototype,"userComponentFactory",2);x([Me],eB.prototype,"postConstruct",1);var Wb=class rre extends $b{constructor(e){super(rre.getTemplate((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.isHeightFromTheme=!0;const{cssIdentifier:i="default",ariaRole:r="listbox",listName:n}=e||{};this.cssIdentifier=i,this.ariaRole=r,this.listName=n}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),r=this.eContainer;hr(r,this.ariaRole),Nl(r,i)}addResizeObserver(){const e=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),i=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(i)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const i=e.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=pte(i)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){switch(e.key){case de.UP:case de.DOWN:this.navigate(e.key===de.UP)&&e.preventDefault();break}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(_l(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(this.lastFocusedRowIndex==null)return!1;const i=this.lastFocusedRowIndex+(e?-1:1);return i<0||i>=this.model.getRowCount()?!1:(this.focusRow(i),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const i=this.renderedRows.get(e);i&&i.eDiv.focus()},10)}getComponentAt(e){const i=this.renderedRows.get(e);return i&&i.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((i,r)=>e(i.rowComponent,r))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(e,i=!0){const r=this.model.getRowCount();if(typeof e!="number"||e<0||e>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const n=e*this.rowHeight,s=n+this.rowHeight,o=this.getGui(),a=o.scrollTop,l=o.offsetHeight,u=a+l,c=i?0:this.rowHeight,d=a>n+c,h=u<s-c;if(d)return o.scrollTop=n,!0;if(h){const f=s-l;return o.scrollTop=f,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const i=this.model.getRowCount();this.eContainer.style.height=`${i*this.rowHeight}px`,a$(()=>this.eContainer.clientHeight>=i*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,i)=>this.removeRow(i))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const i=this.getGui(),r=i.scrollTop,n=r+i.offsetHeight,s=Math.floor(r/this.rowHeight),o=Math.floor(n/this.rowHeight);this.ensureRowsRendered(s,o,e)}ensureRowsRendered(e,i,r){this.renderedRows.forEach((n,s)=>{(s<e||s>i)&&s!==this.lastFocusedRowIndex&&this.removeRow(s)}),r&&this.refreshRows();for(let n=e;n<=i;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)}insertRow(e){const i=this.model.getRow(e),r=document.createElement("div");r.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),hr(r,this.ariaRole==="tree"?"treeitem":"option"),SO(r,this.model.getRowCount()),wO(r,e+1),r.setAttribute("tabindex","-1"),r.style.height=`${this.rowHeight}px`,r.style.top=`${this.rowHeight*e}px`;const n=this.componentCreator(i,r);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),r.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",r):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",r):this.eContainer.appendChild(r),this.renderedRows.set(e,{rowComponent:n,eDiv:r,value:i})}removeRow(e){const i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((i,r)=>{var n,s;if(r>=e)this.removeRow(r);else{const o=this.model.getRow(r);(s=(n=this.model).areRowsEqual)!=null&&s.call(n,i.value,o)?this.componentUpdater(o,i.rowComponent):this.removeRow(r)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};x([V("resizeObserverService")],Wb.prototype,"resizeObserverService",2);x([V("animationFrameService")],Wb.prototype,"animationFrameService",2);x([ke("eContainer")],Wb.prototype,"eContainer",2);x([Me],Wb.prototype,"postConstruct",1);var nre=Wb,iIe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,tB=class extends Bf{constructor(t){var e,i;super(Ui(it({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(e=t==null?void 0:t.template)!=null?e:iIe,modalPicker:!1},t),{maxPickerHeight:(i=t==null?void 0:t.maxPickerHeight)!=null?i:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:r,value:n,valueList:s,searchStringCreator:o}=t||{};r!=null&&(this.cellRowHeight=r),n!==void 0&&(this.value=n),s!=null&&(this.values=s),o&&(this.searchStringCreator=o)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:t,placeholder:e}=this.config;t?(this.eInput.setAutoComplete(!1).setInputPlaceholder(e),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=Cs(this.clearSearchString,i),this.renderSelectedValue(),t&&(this.eInput.onValueChange(r=>this.searchTextFromString(r)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const t=this.gridOptionsService.getDocument(),e=this.localeService.getLocaleTextFunc(),i=t.createElement("div");i.classList.add("ag-loading-text"),i.innerText=e("loadingOoo","Loading..."),this.eLoading=i}createListComponent(){this.listComponent=this.createBean(new nre({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));const t=(a,l)=>{};this.listComponent.setComponentUpdater(t),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,F.EVENT_FIELD_PICKER_VALUE_SELECTED,a=>{this.onListValueSelected(a.value,a.fromEnterKey)});const{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);const i=this.listComponent.getGui(),r=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",a=>a.preventDefault()),i.classList.add("ag-rich-select-list");const n=`ag-rich-select-list-${this.listComponent.getCompId()}`;r.setAttribute("id",n);const o=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Nl(r,o),v$(this.eWrapper,r)}renderSelectedValue(){const{value:t,eDisplayField:e,config:i}=this,{allowTyping:r,initialInputValue:n}=this.config,s=this.config.valueFormatter?this.config.valueFormatter(t):t;if(r){this.eInput.setValue(n??s);return}let o;i.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:t,valueFormatted:s}));let a;if(o&&(a=o.newAgStackInstance()),a)Lr(e),I$(a,e),a.then(l=>{this.addDestroyFunc(()=>this.getContext().destroyBean(l))});else{if(Te(this.value))e.innerText=s,e.classList.remove("ag-display-as-placeholder");else{const{placeholder:l}=i;Te(l)?(e.innerHTML=`${Kr(l)}`,e.classList.add("ag-display-as-placeholder")):Lr(e)}this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:t,value:e}=this;if(e==null||!t)return-1;for(let i=0;i<t.length;i++)if(t[i]===e)return i;return-1}highlightFilterMatch(){var t;(t=this.listComponent)==null||t.forEachRenderedRow((e,i)=>{e.highlightString(this.searchString)})}highlightSelectedValue(t){var e;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(e=this.listComponent)==null||e.forEachRenderedRow((i,r)=>{const n=t===-1?!1:this.highlightedItem===r;i.updateHighlighted(n)})}setRowHeight(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)}createPickerComponent(){const{values:t}=this;return t&&this.setValueList({valueList:t}),this.listComponent}setSearchStringCreator(t){this.searchStringCreator=t}setValueList(t){const{valueList:e,refresh:i}=t;this.listComponent&&this.currentList!==e&&(this.currentList=e,this.listComponent.setModel({getRowCount:()=>e.length,getRow:r=>e[r],areRowsEqual:(r,n)=>r===n}),i&&(this.values?this.listComponent.refresh(!0):(this.values=e,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var t,e;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(t=this.eLoading)!=null&&t.offsetParent&&((e=this.eLoading.parentElement)==null||e.removeChild(this.eLoading));const i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const t=this.eInput.getFocusableElement();t.focus(),t.select()}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(t){let{key:e}=t;if(e===de.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!TO(t))return;t.preventDefault(),this.searchTextFromCharacter(e)}searchTextFromCharacter(t){this.searchString+=t,this.runSearch(),this.clearSearchString()}searchTextFromString(t){t==null&&(t=""),this.searchString=t,this.runSearch()}buildSearchStrings(t){const{valueFormatter:e=r=>r}=this.config;let i;return typeof t[0]=="number"||typeof t[0]=="string"?i=t.map(r=>e(r)):typeof t[0]=="object"&&this.searchStringCreator&&(i=this.searchStringCreator(t)),i}getSuggestionsAndFilteredValues(t,e){let i=[],r=[];if(!t.length)return{suggestions:i,filteredValues:r};const{searchType:n="fuzzy",filterList:s}=this.config;if(n==="fuzzy"){const o=Mb(this.searchString,e,!0);i=o.values;const a=o.indices;if(s&&a.length)for(let l=0;l<a.length;l++)r.push(this.values[a[l]])}else i=e.filter((o,a)=>{const l=o.toLocaleLowerCase(),u=this.searchString.toLocaleLowerCase(),c=n==="match"?l.startsWith(u):l.indexOf(u)!==-1;return s&&c&&r.push(this.values[a]),c});return{suggestions:i,filteredValues:r}}filterListModel(t){const{filterList:e}=this.config;e&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())}runSearch(){var t,e;const{values:i}=this,r=this.buildSearchStrings(i);if(!r){this.highlightSelectedValue(-1);return}const{suggestions:n,filteredValues:s}=this.getSuggestionsAndFilteredValues(this.searchString,r),{filterList:o,highlightMatch:a,searchType:l="fuzzy"}=this.config,u=s.length,c=!!(o&&this.searchString!=="");if(this.filterListModel(c?s:i),n.length){const d=c?0:r.indexOf(n[0]);this.selectListItem(d)}else if(this.highlightSelectedValue(-1),!c||u)(t=this.listComponent)==null||t.ensureIndexVisible(0);else if(c){this.getAriaElement().removeAttribute("data-active-option");const d=(e=this.listComponent)==null?void 0:e.getAriaElement();d&&f$(d,null)}a&&l!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var t;const e=(t=this.listComponent)==null?void 0:t.getGui(),i=this.currentList?this.currentList.length===0:!1;e==null||e.classList.toggle("ag-hidden",i)}clearSearchString(){this.searchString=""}selectListItem(t,e){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length)return;this.listComponent.ensureIndexVisible(t,!e)&&!e&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}setValue(t,e,i){const r=this.currentList?this.currentList.indexOf(t):-1;return r===-1?this:(this.value=t,i||this.selectListItem(r),this.renderSelectedValue(),super.setValue(t,e))}createRowComponent(t){const e=new eB(this.config,this.eWrapper);e.setParentComponent(this.listComponent),this.getContext().createBean(e),e.setState(t);const{highlightMatch:i,searchType:r="fuzzy"}=this.config;return i&&r!=="fuzzy"&&e.highlightString(this.searchString),e}getRowForMouseEvent(t){const{listComponent:e}=this;if(!e)return-1;const r=(e==null?void 0:e.getGui()).getBoundingClientRect(),n=e.getScrollTop(),s=t.clientY-r.top+n;return Math.floor(s/e.getRowHeight())}onPickerMouseMove(t){if(!this.listComponent)return;const e=this.getRowForMouseEvent(t);e!==-1&&e!=this.lastRowHovered&&(this.lastRowHovered=e,this.selectListItem(e,!0))}onNavigationKeyDown(t,e){t.preventDefault();const i=e===de.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}const r=this.highlightedItem,s=r===-1?0:r+(i?1:-1);this.selectListItem(s)}onEnterKeyDown(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(t,e){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,e),this.hidePicker()}dispatchPickerEvent(t,e){const i={type:F.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:e,value:t};this.dispatchEvent(i)}getFocusableElement(){const{allowTyping:t}=this.config;return t?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(t){const e=t.key,{allowTyping:i}=this.config;switch(e){case de.LEFT:case de.RIGHT:case de.PAGE_HOME:case de.PAGE_END:i||t.preventDefault();break;case de.PAGE_UP:case de.PAGE_DOWN:t.preventDefault();break;case de.DOWN:case de.UP:this.onNavigationKeyDown(t,e);break;case de.ESCAPE:this.isPickerDisplayed&&(Wo(this.listComponent.getGui())&&(t.preventDefault(),_l(t)),this.hidePicker());break;case de.ENTER:this.onEnterKeyDown(t);break;case de.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(t)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};x([V("userComponentFactory")],tB.prototype,"userComponentFactory",2);x([ke("eInput")],tB.prototype,"eInput",2);var cC=class sre extends G${constructor(e){super(e,sre.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:e,maxValue:i,textFieldWidth:r,step:n,value:s,onValueChange:o}=this.config;e!=null&&this.setMinValue(e),i!=null&&this.setMaxValue(i),r!=null&&this.setTextFieldWidth(r),n!=null&&this.setStep(n),s!=null&&this.setValue(s),o!=null&&this.onValueChange(o)}onValueChange(e){const i=F.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,()=>{const r=parseFloat(this.eText.getValue());this.eSlider.setValue(r.toString(),!0),e(r||0)}),this.addManagedListener(this.eSlider,i,()=>{const r=this.eSlider.getValue();this.eText.setValue(r,!0),e(parseFloat(r))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e,i){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),i||this.dispatchEvent({type:F.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};cC.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;x([ke("eLabel")],cC.prototype,"eLabel",2);x([ke("eSlider")],cC.prototype,"eSlider",2);x([ke("eText")],cC.prototype,"eText",2);x([Me],cC.prototype,"init",1);var rIe=cC,Ch=class Vg extends Et{constructor(e={}){super(Vg.getTemplate(e)),this.params=e,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:i,items:r,suppressEnabledCheckbox:n,expanded:s,suppressToggleExpandOnEnableChange:o,useToggle:a}=e;this.cssIdentifier=e.cssIdentifier||"default",this.enabled=i??!0,this.items=r||[],this.useToggle=a??!1,this.alignItems=e.alignItems||"center",this.expanded=s??!0,n!=null&&(this.suppressEnabledCheckbox=n),o!=null&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(e){const i=e.cssIdentifier||"default",r=e.direction||"vertical";return`
            <div class="ag-group ag-${i}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${r} ag-${i}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const n=this.items;this.items=[],this.addItems(n)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:i,suppressOpenCloseIcons:r}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(r??!1),this.refreshChildDisplay(),Vt(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(n=>{this.setEnabled(n,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(n)}),i!=null&&this.onEnableChange(i)}refreshChildDisplay(){var e;Vt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),(e=this.eTitleBar)==null||e.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const i=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(i),this}toggleGroupExpand(e){var i;let r=!1;if((i=this.eTitleBar)!=null&&i.isSuppressCollapse()&&!this.useToggle)e=!0,r=!0;else if(e=e??!this.expanded,this.expanded===e)return this;return this.expanded=e,this.refreshChildDisplay(),Vt(this.eContainer,e),r||this.dispatchEvent({type:e?Vg.EVENT_EXPANDED:Vg.EVENT_COLLAPSED}),this}addItems(e){e.forEach(i=>this.addItem(i))}prependItem(e){this.insertItem(e,!0)}addItem(e){this.insertItem(e,!1)}insertItem(e,i){const r=this.eContainer,n=e instanceof Et?e.getGui():e;n.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i?(r.insertAdjacentElement("afterbegin",n),this.items.unshift(n)):(r.appendChild(n),this.items.push(n))}hideItem(e,i){const r=this.items[i];Vt(r,!e)}getItemIndex(e){const i=e instanceof Et?e.getGui():e;return this.items.indexOf(i)}setTitle(e){var i;return(i=this.eTitleBar)==null||i.setTitle(e),this}addCssClassToTitleBar(e){var i;(i=this.eTitleBar)==null||i.addCssClass(e)}dispatchEnableChangeEvent(e){const i={type:Vg.EVENT_ENABLE_CHANGE,enabled:e};this.dispatchEvent(i)}setEnabled(e,i,r){var n;return this.enabled=e,this.refreshDisabledStyles(),r||this.toggleGroupExpand(e),i||(this.cbGroupEnabled.setValue(e),(n=this.eToggle)==null||n.setValue(e)),this}isEnabled(){return this.enabled}onEnableChange(e){return this.addManagedListener(this,Vg.EVENT_ENABLE_CHANGE,i=>e(i.enabled)),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){var i;return(i=this.eTitleBar)==null||i.hideOpenCloseIcons(e),this}refreshDisabledStyles(){var e;const i=!this.enabled;this.eContainer.classList.toggle("ag-disabled",i),(e=this.eTitleBar)==null||e.refreshDisabledStyles(this.suppressEnabledCheckbox&&i),this.eContainer.classList.toggle("ag-disabled-group-container",i)}setupTitleBar(){const e=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",e.getGui())}createDefaultTitleBar(){const e=this.createManagedBean(new VK(this.params));return this.eTitleBar=e,e.refreshOnExpand(this.expanded),this.addManagedListener(e,VK.EVENT_EXPAND_CHANGED,i=>this.toggleGroupExpand(i.expanded)),e}createToggleTitleBar(){var e;const i=this.createManagedBean(new ire({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:r=>{this.setEnabled(r,!0),this.dispatchEnableChangeEvent(r)}}));return i.addCssClass("ag-group-title-bar"),i.addCssClass(`ag-${(e=this.params.cssIdentifier)!=null?e:"default"}-group-title-bar ag-unselectable`),this.eToggle=i,this.toggleGroupExpand(this.enabled),i}};Ch.EVENT_EXPANDED="expanded";Ch.EVENT_COLLAPSED="collapsed";Ch.EVENT_ENABLE_CHANGE="enableChange";x([ke("eToolbar")],Ch.prototype,"eToolbar",2);x([ke("cbGroupEnabled")],Ch.prototype,"cbGroupEnabled",2);x([ke("eContainer")],Ch.prototype,"eContainer",2);x([Me],Ch.prototype,"postConstruct",1);var nIe=Ch,dC=class M1 extends Et{constructor(e={}){super(M1.getTemplate(e)),this.suppressOpenCloseIcons=!1;const{title:i,suppressOpenCloseIcons:r}=e;this.title=i,r!=null&&(this.suppressOpenCloseIcons=r)}static getTemplate(e){var i;const r=(i=e.cssIdentifier)!=null?i:"default";return`
            <div class="ag-group-title-bar ag-${r}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${r}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${r}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(fa("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(fa("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",e=>{switch(e.key){case de.ENTER:case de.SPACE:e.preventDefault(),this.dispatchExpandChanged();break;case de.RIGHT:case de.LEFT:e.preventDefault(),this.dispatchExpandChanged(e.key===de.RIGHT);break}})}refreshOnExpand(e){this.refreshAriaStatus(e),this.refreshOpenCloseIcons(e)}refreshAriaStatus(e){this.suppressOpenCloseIcons||Rc(this.getGui(),e)}refreshOpenCloseIcons(e){const i=!this.suppressOpenCloseIcons;Vt(this.eGroupOpenedIcon,i&&e),Vt(this.eGroupClosedIcon,i&&!e)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(e){const i={type:M1.EVENT_EXPAND_CHANGED,expanded:e};this.dispatchEvent(i)}setTitle(e){return this.eTitle.innerText=e||"",Vt(this.getGui(),e!=null),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(e){const i=this.getGui();e?(i.classList.add("ag-disabled-group-title-bar"),i.removeAttribute("tabindex")):(i.classList.remove("ag-disabled-group-title-bar"),typeof this.title=="string"?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex"))}};dC.EVENT_EXPAND_CHANGED="expandedChanged";x([ke("eGroupOpenedIcon")],dC.prototype,"eGroupOpenedIcon",2);x([ke("eGroupClosedIcon")],dC.prototype,"eGroupClosedIcon",2);x([ke("eTitle")],dC.prototype,"eTitle",2);x([Me],dC.prototype,"postConstruct",1);var VK=dC,iB=class extends $b{constructor(t=0,e){super('<div class="ag-menu-list" role="tree"></div>'),this.level=t,this.menuItems=[],this.params=e??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.handleFocusIn(t),onFocusOut:t=>this.handleFocusOut(t)})}onTabKeyDown(t){const e=this.getParentComponent(),i=e&&e.getGui();i&&i.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)}handleKeyDown(t){switch(t.key){case de.UP:case de.RIGHT:case de.DOWN:case de.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case de.ESCAPE:this.closeIfIsChild()&&_l(t);break}}handleFocusIn(t){var e,i;const r=t.relatedTarget;!this.tabGuardCtrl.isTabGuard(r)&&(this.getGui().contains(r)||(i=(e=this.activeMenuItem)==null?void 0:e.getSubMenuGui())!=null&&i.contains(r))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(t){var e;const i=t.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||(e=this.activeMenuItem.getSubMenuGui())!=null&&e.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(t){t!=null&&Tr.all(t.map(e=>e==="separator"?Tr.resolve({eGui:this.createSeparator()}):typeof e=="string"?(console.warn(`AG Grid: unrecognised menu item ${e}`),Tr.resolve({eGui:null})):this.addItem(e))).then(e=>{e.forEach(i=>{i!=null&&i.eGui&&(this.appendChild(i.eGui),i.comp&&this.menuItems.push(i.comp))})})}addItem(t){const e=this.createManagedBean(new FT);return e.init({menuItemDef:t,isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(e.setParentComponent(this),this.addManagedListener(e,FT.EVENT_CLOSE_MENU,i=>{this.dispatchEvent(i)}),this.addManagedListener(e,FT.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem}),{comp:e,eGui:e.getGui()}))}activateFirstItem(){const t=this.menuItems.filter(e=>!e.isDisabled())[0];t&&t.activate()}createSeparator(){return Xs(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(t){switch(t){case de.UP:case de.DOWN:const i=this.findNextItem(t===de.UP);i&&i!==this.activeMenuItem&&i.activate();return}const e=this.gridOptionsService.get("enableRtl")?de.RIGHT:de.LEFT;t===e?this.closeIfIsChild():this.openChild()}closeIfIsChild(t){const e=this.getParentComponent();return e&&e instanceof FT?(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(t){const e=this.menuItems.filter(n=>!n.isDisabled());if(!e.length)return;if(!this.activeMenuItem)return t?Qt(e):e[0];t&&e.reverse();let i,r=!1;for(let n=0;n<e.length;n++){const s=e[n];if(!r){s===this.activeMenuItem&&(r=!0);continue}i=s;break}return r&&!i?e[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};x([V("focusService")],iB.prototype,"focusService",2);x([Me],iB.prototype,"postConstruct",1);var ore=class extends $b{constructor(t){super(),this.wrappedComponent=t,this.setTemplateFromElement(t.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)})}handleKeyDown(t){t.key===de.ESCAPE&&this.closePanel()}onTabKeyDown(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())}closePanel(){const t=this.parentComponent;t.closeSubMenu(),setTimeout(()=>t.getGui().focus(),0)}};x([Me],ore.prototype,"postConstruct",1);var Xf=class Hg extends Pe{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(e){var i,r;const{menuItemDef:n,isAnotherSubMenuOpen:s,level:o,childComponent:a,contextParams:l}=e;return this.params=e.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=s,this.childComponent=a,this.contextParams=l,this.cssClassPrefix=(r=(i=this.params.menuItemParams)==null?void 0:i.cssClassPrefix)!=null?r:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Ui(it({},n),{level:o,isAnotherSubMenuOpen:s,openSubMenu:c=>this.openSubMenu(c),closeSubMenu:()=>this.closeSubMenu(),closeMenu:c=>this.closeMenu(c),updateTooltip:(c,d)=>this.refreshTooltip(c,d),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(c=>{var d;this.menuItemComp=c;const h=(d=c.configureDefaults)==null?void 0:d.call(c);h&&this.configureDefaults(h===!0?void 0:h)})}addListeners(e,i){i!=null&&i.suppressClick||this.addManagedListener(e,"click",r=>this.onItemSelected(r)),i!=null&&i.suppressKeyboardSelect||this.addManagedListener(e,"keydown",r=>{(r.key===de.ENTER||r.key===de.SPACE)&&(r.preventDefault(),this.onItemSelected(r))}),i!=null&&i.suppressMouseDown||this.addManagedListener(e,"mousedown",r=>{r.stopPropagation(),r.preventDefault()}),i!=null&&i.suppressMouseOver||(this.addManagedListener(e,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){var i,r;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const n=Xs('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=n;let s,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const c=this.createBean(new ore(this.childComponent));c.setParentComponent(this);const d=c.getGui(),h="mouseenter",f=()=>this.cancelDeactivate();d.addEventListener(h,f),s=()=>d.removeEventListener(h,f),n.appendChild(d),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const c=this.createBean(new iB(this.level+1,this.contextParams));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),n.appendChild(c.getGui()),this.addManagedListener(c,Hg.EVENT_CLOSE_MENU,d=>this.dispatchEvent(d)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(c),e&&(o=()=>{c.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:n}),l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:a,anchorToElement:this.eGui,ariaLabel:l("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var c,d;u&&u.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),s(),(d=(c=this.menuItemComp).setExpanded)==null||d.call(c,!1),this.eSubMenuGui=void 0},(r=(i=this.menuItemComp).setExpanded)==null||r.call(i,!0)}setAriaExpanded(e){this.suppressAria||Rc(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e){var i,r;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(r=(i=this.menuItemComp).setActive)==null||r.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(i=(e=this.menuItemComp).setActive)==null||i.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var i,r;(r=(i=this.menuItemComp).select)==null||r.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gridOptionsService.addGridCommonParams(it({},this.contextParams)))):this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){const i={type:Hg.EVENT_CLOSE_MENU,event:e};this.dispatchEvent(i)}onItemActivated(){const e={type:Hg.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),Hg.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),Hg.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var i,r,n;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(()=>this.configureDefaults(e));return}let s=this.menuItemComp.getGui();const o=(r=(i=this.menuItemComp).getRootElement)==null?void 0:r.call(i);o&&(e!=null&&e.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=o),this.eGui=s,this.suppressRootStyles=!!(e!=null&&e.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(n=this.params.cssClasses)==null||n.forEach(a=>s.classList.add(a)),this.params.disabled&&s.classList.add(`${this.cssClassPrefix}-disabled`)),e!=null&&e.suppressTooltip||this.refreshTooltip(),this.suppressAria=!!(e!=null&&e.suppressAria),this.suppressAria||(hr(s,"treeitem"),vte(s,this.level+1),this.params.disabled&&p$(s,!0)),e!=null&&e.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!(e!=null&&e.suppressFocus)}refreshTooltip(e,i){this.tooltip=e,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),!(!e||!this.menuItemComp)&&(this.tooltipFeature=this.createBean(new Yc({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:i})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Xf.EVENT_CLOSE_MENU="closeMenu";Xf.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";Xf.ACTIVATION_DELAY=80;x([V("popupService")],Xf.prototype,"popupService",2);x([V("userComponentFactory")],Xf.prototype,"userComponentFactory",2);x([V("beans")],Xf.prototype,"beans",2);var FT=Xf,Qf=class F1 extends Et{constructor(e){super(F1.getTemplate(e)),this.config=e,this.closable=!0}static getTemplate(e){const i=e.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:e,closable:i,hideTitleBar:r,title:n,minWidth:s=250,width:o,minHeight:a=250,height:l,centered:u,popup:c,x:d,y:h}=this.config;this.positionableFeature=new tC(this.getGui(),{minWidth:s,width:o,minHeight:a,height:l,centered:u,x:d,y:h,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const f=this.getGui();e&&this.setBodyComponent(e),r?Vt(this.eTitleBar,!1):(n&&this.setTitle(n),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",g=>{const m=this.gridOptionsService.getDocument();if(f.contains(g.relatedTarget)||f.contains(m.activeElement)||this.eTitleBarButtons.contains(g.target)){g.preventDefault();return}const C=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");C&&C.focus()}),!(c&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const i=this.closeButtonComp=new Et(F1.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const r=i.getGui(),n=ir("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(n),this.addTitleBarButton(i),i.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,i){const r=this.eTitleBarButtons,n=r.children,s=n.length;i==null&&(i=s),i=Math.max(0,Math.min(i,s)),e.addCssClass("ag-panel-title-bar-button");const o=e.getGui();i===0?r.insertAdjacentElement("afterbegin",o):i===s?r.insertAdjacentElement("beforeend",o):n[i-1].insertAdjacentElement("afterend",o),e.setParentComponent(this)}getBodyHeight(){return Ab(this.eContentWrapper)}getBodyWidth(){return $f(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&Wo(e)&&this.close(),super.destroy()}};Qf.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';x([ke("eContentWrapper")],Qf.prototype,"eContentWrapper",2);x([ke("eTitleBar")],Qf.prototype,"eTitleBar",2);x([ke("eTitleBarButtons")],Qf.prototype,"eTitleBarButtons",2);x([ke("eTitle")],Qf.prototype,"eTitle",2);x([Me],Qf.prototype,"postConstruct",1);var sIe=Qf,oIe=class extends sIe{constructor(t){super(Ui(it({},t),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const t=this.getGui(),{movable:e,resizable:i,maximizable:r}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(t,"focusin",n=>{this.popupService.bringPopupToFront(t)}),e&&this.setMovable(e),r&&this.setMaximizable(r),i&&this.setResizable(i)}renderComponent(){const t=this.getGui(),{alwaysOnTop:e,modal:i,title:r,afterGuiAttached:n}=this.config,s=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:i,eChild:t,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:e,ariaLabel:r||s("ariaLabelDialog","Dialog"),afterGuiAttached:n});o&&(this.close=o.hideFunc)}onClosed(t){var e,i;this.destroy(),(i=(e=this.config).closedCallback)==null||i.call(e,t)}toggleMaximize(){const t=this.positionableFeature.getPosition();if(this.isMaximized){const{x:e,y:i,width:r,height:n}=this.lastPosition;this.setWidth(r),this.setHeight(n),this.positionableFeature.offsetElement(e,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Vt(this.maximizeIcon,!this.isMaximized),Vt(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(t=>t()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(t){this.positionableFeature.setResizable(t)}setMovable(t){this.positionableFeature.setMovable(t,this.eTitleBar)}setMaximizable(t){if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const e=this.eTitleBar;if(!e||t===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(e,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const t=this.maximizeButtonComp=this.createBean(new Et('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=ir("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=ir("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t}};x([V("popupService")],oIe.prototype,"popupService",2);var aIe=0,Tc=class extends Pe{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl}),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const t=this.gridOptionsService.get("popupParent");return t||this.gridCtrl.getGui()}positionPopupForMenu(t){const{eventSource:e,ePopup:i}=t,r=this.getPopupIndex(i);if(r!==-1){const f=this.popupList[r];f.alignedToElement=e}const n=e.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(i,n.top-s.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const u=s.right-s.left-a;let c;this.gridOptionsService.get("enableRtl")?(c=h(),c<0&&(c=d(),this.setAlignedStyles(i,"left")),c>u&&(c=0,this.setAlignedStyles(i,"right"))):(c=d(),c>u&&(c=h(),this.setAlignedStyles(i,"right")),c<0&&(c=0,this.setAlignedStyles(i,"left"))),i.style.left=`${c}px`,i.style.top=`${o}px`;function d(){return n.right-s.left-2}function h(){return n.left-s.left-a}}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:i,nudgeY:r,skipObserver:n}=t;this.positionPopup({ePopup:e,nudgeX:i,nudgeY:r,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const{ePopup:e,nudgeX:i,nudgeY:r,keepWithinBounds:n,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:u,type:c}=t,d=s.getBoundingClientRect(),h=this.getParentRect(),f=this.getPopupIndex(e);if(f!==-1){const m=this.popupList[f];m.alignedToElement=s}const g=()=>{let m=d.left-h.left;o==="right"&&(m-=e.offsetWidth-d.width);let C;return a==="over"?(C=d.top-h.top,this.setAlignedStyles(e,"over")):(this.setAlignedStyles(e,"under"),this.shouldRenderUnderOrAbove(e,d,h,t.nudgeY||0)==="under"?C=d.top-h.top+d.height:C=d.top-e.offsetHeight-(r||0)*2-h.top),{x:m,y:C}};this.positionPopup({ePopup:e,nudgeX:i,nudgeY:r,keepWithinBounds:n,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(c,e,s,null,l,u)})}shouldRenderUnderOrAbove(t,e,i,r){const n=i.bottom-e.bottom,s=e.top-i.top,o=t.offsetHeight+r;return n>o?"under":s>o||s>n?"above":"under"}setAlignedStyles(t,e){const i=this.getPopupIndex(t);if(i===-1)return;const r=this.popupList[i],{alignedToElement:n}=r;!n||(["right","left","over","above","under"].forEach(o=>{n.classList.remove(`ag-has-popup-positioned-${o}`),t.classList.remove(`ag-popup-positioned-${o}`)}),!e)||(n.classList.add(`ag-has-popup-positioned-${e}`),t.classList.add(`ag-popup-positioned-${e}`))}callPostProcessPopup(t,e,i,r,n,s){const o=this.gridOptionsService.getCallback("postProcessPopup");o&&o({column:n,rowNode:s,ePopup:e,type:t,eventSource:i,mouseEvent:r})}positionPopup(t){const{ePopup:e,keepWithinBounds:i,nudgeX:r,nudgeY:n,skipObserver:s,updatePosition:o}=t,a={width:0,height:0},l=(u=!1)=>{let{x:c,y:d}=o();u&&e.clientWidth===a.width&&e.clientHeight===a.height||(a.width=e.clientWidth,a.height=e.clientHeight,r&&(c+=r),n&&(d+=n),i&&(c=this.keepXYWithinBounds(e,c,1),d=this.keepXYWithinBounds(e,d,0)),e.style.left=`${c}px`,e.style.top=`${d}px`,t.postProcessCallback&&t.postProcessCallback())};if(l(),!s){const u=this.resizeObserverService.observeResize(e,()=>l(!0));setTimeout(()=>u(),Tc.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){const t=this.gridOptionsService.getDocument();let e=this.getPopupParent();return e===t.body?e=t.documentElement:getComputedStyle(e).position==="static"&&(e=e.offsetParent),P$(e)}keepXYWithinBounds(t,e,i){const r=i===0,n=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"offsetHeight":"offsetWidth",a=r?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),u=l.documentElement,c=this.getPopupParent(),d=c.getBoundingClientRect(),h=l.documentElement.getBoundingClientRect(),f=c===l.body,g=t[o];let C=f?(r?D$:Sw)(u)+u[a]:c[n];f&&(C-=Math.abs(h[s]-d[s]));const S=C-g;return Math.min(Math.max(e,0),Math.abs(S))}addPopup(t){const e=this.gridOptionsService.getDocument(),{eChild:i,ariaLabel:r,alwaysOnTop:n,positionCallback:s,anchorToElement:o}=t;if(!e)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,r,!!n),u=this.addEventListenersToPopup(Ui(it({},t),{wrapperEl:l}));return s&&s(),this.addPopupToPopupList(i,l,u,o),{hideFunc:u}}initialisePopupPosition(t){const i=this.getPopupParent().getBoundingClientRect();Te(t.style.top)||(t.style.top=`${i.top*-1}px`),Te(t.style.left)||(t.style.left=`${i.left*-1}px`)}createPopupWrapper(t,e,i){const r=this.getPopupParent(),n=document.createElement("div"),{allThemes:s}=this.environment.getTheme();return s.length&&n.classList.add(...s),n.classList.add("ag-popup"),t.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||hr(t,"dialog"),Nl(t,e),n.appendChild(t),r.appendChild(n),i?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),n}handleThemeChange(){const{allThemes:t}=this.environment.getTheme();for(const e of this.popupList){for(const i of Array.from(e.wrapper.classList))i.startsWith("ag-theme-")&&e.wrapper.classList.remove(i);t.length&&e.wrapper.classList.add(...t)}}addEventListenersToPopup(t){const e=this.gridOptionsService.getDocument(),i=this.getPopupParent(),{wrapperEl:r,eChild:n,click:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:u}=t;let c=!1;const d=m=>{if(!r.contains(e.activeElement))return;m.key===de.ESCAPE&&!Dl(m)&&g({keyboardEvent:m})},h=m=>g({mouseEvent:m}),f=m=>g({touchEvent:m}),g=(m={})=>{const{mouseEvent:C,touchEvent:S,keyboardEvent:y}=m;this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:S},n)||c||(c=!0,i.removeChild(r),e.removeEventListener("keydown",d),e.removeEventListener("mousedown",h),e.removeEventListener("touchstart",f),e.removeEventListener("contextmenu",h),this.eventService.removeEventListener(F.EVENT_DRAG_STARTED,h),o&&o(C||S||y),this.removePopupFromPopupList(n))};return a&&a({hidePopup:g}),window.setTimeout(()=>{l&&e.addEventListener("keydown",d),u&&(e.addEventListener("mousedown",h),this.eventService.addEventListener(F.EVENT_DRAG_STARTED,h),e.addEventListener("touchstart",f),e.addEventListener("contextmenu",h))},0),g}addPopupToPopupList(t,e,i,r){this.popupList.push({element:t,wrapper:e,hideFunc:i,instanceId:aIe++,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(t,r)}getPopupIndex(t){return this.popupList.findIndex(e=>e.element===t)}setPopupPositionRelatedToElement(t,e){const i=this.getPopupIndex(t);if(i===-1)return;const r=this.popupList[i];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!e)return;const n=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:r.hideFunc});return r.stopAnchoringPromise=n,r.isAnchored=!0,n}removePopupFromPopupList(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent(),i=e.getBoundingClientRect(),{element:r,ePopup:n}=t,s=r.getBoundingClientRect(),o=i.top-s.top,a=i.left-s.left;let l=o,u=a;const c=n.style.top,d=parseInt(c.substring(0,c.length-1),10),h=n.style.left,f=parseInt(h.substring(0,h.length-1),10);return new Tr(g=>{this.getFrameworkOverrides().setInterval(()=>{const m=e.getBoundingClientRect(),C=r.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){t.hidePopup();return}const y=m.top-C.top;if(y!=l){const E=this.keepXYWithinBounds(n,d+o-y,0);n.style.top=`${E}px`}l=y;const w=m.left-C.left;if(w!=u){const E=this.keepXYWithinBounds(n,f+a-w,1);n.style.left=`${E}px`}u=w},200).then(m=>{g(()=>{m!=null&&window.clearInterval(m)})})})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){const{mouseEvent:i,touchEvent:r}=t,n=i||r;if(!n)return!1;const s=this.getPopupIndex(e);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(cx(a.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(t){const e=this.gridOptionsService.getDocument();for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||t.parentElement===null)return!0;t=t.parentElement}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const i=this.getWrapper(t);i&&(i.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(i))}bringPopupToFront(t){const e=this.getPopupParent(),i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),r=i.length,n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),s=n.length,o=this.getWrapper(t);if(!o||r<=1||!e.contains(t))return;const a=i.indexOf(o),l=o.querySelectorAll("div"),u=[];for(l.forEach(c=>{c.scrollTop!==0&&u.push([c,c.scrollTop])}),s?o.classList.contains("ag-always-on-top")?a!==r-1&&Qt(n).insertAdjacentElement("afterend",o):a!==r-s-1&&n[0].insertAdjacentElement("beforebegin",o):a!==r-1&&Qt(i).insertAdjacentElement("afterend",o);u.length;){const c=u.pop();c[0].scrollTop=c[1]}}};Tc.WAIT_FOR_POPUP_CONTENT_RESIZE=200;x([V("focusService")],Tc.prototype,"focusService",2);x([V("ctrlsService")],Tc.prototype,"ctrlsService",2);x([V("resizeObserverService")],Tc.prototype,"resizeObserverService",2);x([Me],Tc.prototype,"postConstruct",1);Tc=x([We("popupService")],Tc);var lIe=class extends Et{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(t,e){this.value=t,this.render(),this.updateSelected(e)}updateSelected(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)}setSearchString(t){var e;let i=!1;if(Te(t)){const r=(e=this.value)==null?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(r>=0){i=!0,this.hasHighlighting=!0;const n=r+t.length,s=Kr(this.value.slice(0,r)),o=Kr(this.value.slice(r,n)),a=Kr(this.value.slice(n));this.getGui().lastElementChild.innerHTML=`${s}<b>${o}</b>${a}`}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var t;this.getGui().lastElementChild.innerHTML=(t=Kr(this.value))!=null?t:"&nbsp;"}},UO=class are extends Uf{constructor(e){super(are.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new nre({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:i=>this.autocompleteEntries[i]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",i=>i.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,i){e.preventDefault();const r=this.autocompleteEntries.indexOf(this.selectedValue),n=i===de.UP?r-1:r+1;this.checkSetSelectedValue(n)}setSearch(e){this.searchString=e,Te(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,i){let r,n=!1;const s=e.toLocaleLowerCase(),o=i.filter(a=>{const u=a.toLocaleLowerCase().indexOf(s),c=u===0,d=u>=0;return d&&(!r||!n&&c||n===c&&a.length<r.length)&&(r=a,n=c),d});return!r&&o.length&&(r=o[0]),{topMatch:r,allMatches:o}}runSearch(){var e,i;const{autocompleteEntries:r}=this.params,n=r.map(u=>{var c;return(c=u.displayValue)!=null?c:u.key});let s,o;if(this.params.useFuzzySearch)s=Mb(this.searchString,n,!0).values,o=s.length?s[0]:void 0;else{const u=this.runContainsSearch(this.searchString,n);s=u.allMatches,o=u.topMatch}let a=r.filter(({key:u,displayValue:c})=>s.includes(c??u));if(!a.length&&this.selectedValue&&((i=(e=this.params)==null?void 0:e.forceLastSelection)!=null&&i.call(e,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!o)return;const l=s.indexOf(o);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const i=this.autocompleteEntries[e];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((r,n)=>{r.updateSelected(e===n)}))}createRowComponent(e){var i;const r=new lIe;return this.getContext().createBean(r),r.setState((i=e.displayValue)!=null?i:e.key,e===this.selectedValue),r}onMouseMove(e){const i=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),n=e.clientY-i.top+r,s=Math.floor(n/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!=null?e:null}};UO.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;x([ke("eList")],UO.prototype,"eList",2);x([Me],UO.prototype,"init",1);var uIe=UO,yh=class qy extends Et{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const i=Cu(e);this.updateValue(i),this.updateAutocompleteList(i)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:qy.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var i,r,n,s;const o=(r=(i=this.listGenerator)==null?void 0:i.call(this,e,this.lastPosition))!=null?r:{enabled:!1};if((!o.type||o.type!==((n=this.autocompleteListParams)==null?void 0:n.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,(s=this.autocompleteListParams)!=null&&s.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const i=e.key;switch(this.updateLastPosition(),i){case de.ENTER:this.onEnterKeyDown(e);break;case de.TAB:this.onTabKeyDown(e);break;case de.DOWN:case de.UP:this.onUpDownKeyDown(e,i);break;case de.LEFT:case de.RIGHT:case de.PAGE_HOME:case de.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case de.ESCAPE:this.onEscapeKeyDown(e);break;case de.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}}confirmSelection(){var e;const i=(e=this.autocompleteList)==null?void 0:e.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:qy.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,i){var r;e.preventDefault(),this.isListOpen?(r=this.autocompleteList)==null||r.onNavigationKeyDown(e,i):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!=null?e:null)}setCaret(e,i){const r=this.gridOptionsService.getDocument();i&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();const n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(e,e),e===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!=null?e:0}validate(e){var i;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((i=this.validationMessage)!=null?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:qy.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new uIe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),i={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},r=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(i),ariaLabel:this.listAriaLabel});this.hidePopup=r.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:qy.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return Cu(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:i,position:r,silent:n,updateListOnlyIfOpen:s,restoreFocus:o}=e;this.eAutocompleteInput.setValue(i,!0),this.setCaret(r??this.lastPosition,o),n||this.updateValue(i),(!s||this.isListOpen)&&this.updateAutocompleteList(i)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};yh.EVENT_VALUE_CHANGED="eventValueChanged";yh.EVENT_VALUE_CONFIRMED="eventValueConfirmed";yh.EVENT_OPTION_SELECTED="eventOptionSelected";yh.EVENT_VALID_CHANGED="eventValidChanged";x([V("popupService")],yh.prototype,"popupService",2);x([ke("eAutocompleteInput")],yh.prototype,"eAutocompleteInput",2);x([Me],yh.prototype,"postConstruct",1);var cIe=yh,Sh=class ND extends Et{constructor(e,i,r,n){super(),this.dragSourceDropTarget=e,this.ghost=i,this.horizontal=r,this.template=n}init(){var e;this.setTemplate((e=this.template)!=null?e:ND.TEMPLATE);const i=this.getGui();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ir("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ir("cancel",this.gridOptionsService)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.localeService.getLocaleTextFunc(),i=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(i,e),Nl(this.getGui(),i.join(". "))}addAdditionalAriaInstructions(e,i){if(this.isRemovable()){const r=i("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(r)}}setupTooltip(){const e=()=>{const i=this.getTooltip();this.setTooltip({newTooltipText:i})};e(),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,e)}getDragSourceId(){}getDefaultIconName(){return Rt.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:e,eDragHandle:i}=this,r=this.createGetDragItem(),n=this.getDefaultIconName(),s={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:i,getDefaultIconName:()=>n,getDragItem:r,dragItemName:this.getDisplayName()};e.addDragSource(s,!0),this.addDestroyFunc(()=>e.removeDragSource(s))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){Vt(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:ND.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",r=>this.onKeyDown(r)),this.addManagedListener(this.eButton,"click",r=>{this.dispatchEvent(e),r.stopPropagation()});const i=new vn(this.eButton);this.addManagedListener(i,vn.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(i.destroy.bind(i))}onKeyDown(e){e.key===de.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchEvent({type:ND.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=this.getDisplayValue(),i=Kr(e);this.eText.innerHTML=i}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${i}`,`ag-column-drop-${r}-cell${i}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};Sh.EVENT_COLUMN_REMOVE="columnRemove";Sh.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;x([V("dragAndDropService")],Sh.prototype,"dragAndDropService",2);x([ke("eText")],Sh.prototype,"eText",2);x([ke("eDragHandle")],Sh.prototype,"eDragHandle",2);x([ke("eButton")],Sh.prototype,"eButton",2);x([Me],Sh.prototype,"init",1);var dIe=Sh,Ub=class Zl extends Et{constructor(e){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.state=Zl.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),hr(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:i,dragSource:r}=e;return i.contains(r.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,Lr(this.getGui()),Lr(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new gh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new tC(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Nl(this.ePillDropList,this.getAriaLabel())}handleKeyDown(e){const i=!this.horizontal;let r=e.key===de.DOWN,n=e.key===de.UP;if(!i){const o=this.gridOptionsService.get("enableRtl");r=!o&&e.key===de.RIGHT||o&&e.key===de.LEFT,n=!o&&e.key===de.LEFT||o&&e.key===de.RIGHT}if(!r&&!n)return;const s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,n);s&&(e.preventDefault(),s.focus())}addElementClasses(e,i){i=i?`-${i}`:"";const r=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${i}`,`ag-column-drop-${r}${i}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const i=this.getNewInsertIndex(e);if(i<0)return!1;const r=this.minimumAllowedNewInsertIndex(),n=Math.max(r,i),s=n!==this.insertIndex;return s&&(this.insertIndex=n),s}getNewInsertIndex(e){const i=e.event,r=this.horizontal?i.clientX:i.clientY,n=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),s=n.findIndex(o=>this.horizontal?o.right>r&&o.left<r:o.top<r&&o.bottom>r);if(s===-1){const o=this.gridOptionsService.get("enableRtl");return n.every(u=>r>(this.horizontal?u.right:u.bottom))?o&&this.horizontal?0:this.childPillComponents.length:n.every(u=>r<(this.horizontal?u.left:u.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s}checkDragStartedBySelf(e){this.state===Zl.STATE_NOT_DRAGGING&&(this.state=Zl.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const i=this.getItems(e.dragSource.getDragItem());this.state=Zl.STATE_NEW_ITEMS_IN;const r=i.filter(s=>this.isItemDroppable(s,e)),n=r.every(s=>this.childPillComponents.map(o=>o.getItem()).indexOf(s)!==-1);if(r.length!==0){if(this.potentialDndItems=r,n){this.state=Zl.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){return qee(this.potentialDndItems)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state===Zl.STATE_REARRANGE_ITEMS){const i=this.getItems(e.dragSource.getDragItem());this.removeItems(i)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state=Zl.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let e=!1;this.state===Zl.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),e=!0):e=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!e)&&this.refreshGui()}this.state=Zl.STATE_NOT_DRAGGING}removeItems(e){const i=this.getExistingItems().filter(r=>!Ho(e,r));this.updateItems(i)}addItems(e){if(!e)return;const i=this.getExistingItems().slice(),r=e.filter(n=>i.indexOf(n)<0);p1(i,r,this.insertIndex),this.updateItems(i)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e){const i=this.getNonGhostItems().slice();return p1(i,e,this.insertIndex),hu(i,this.getExistingItems())?!1:(this.updateItems(i),!0)}refreshGui(){const e=this.ePillDropList.scrollTop,i=this.resizeEnabled,r=this.getFocusedItem();let n=this.focusService.findNextFocusableElement();n||(n=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=e),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(r,n)}getFocusedItem(){const e=this.getGui(),i=this.gridOptionsService.getDocument().activeElement;return e.contains(i)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1}restoreFocus(e,i){const r=this.getGui(),n=Array.from(r.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;n.length===0&&i.focus();const s=Math.min(n.length-1,e),o=n[s];o&&o.focus()}focusList(e){const i=e?this.childPillComponents.length-1:0;this.restoreFocus(i,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(i=>!Ho(this.potentialDndItems,i)):e}addItemsToGui(){const i=this.getNonGhostItems().map(r=>this.createItemComponent(r,!1));if(this.isPotentialDndItems()){const r=this.potentialDndItems.map(n=>this.createItemComponent(n,!0));this.insertIndex>=i.length?i.push(...r):i.splice(this.insertIndex,0,...r)}this.appendChild(this.ePillDropList),i.forEach((r,n)=>{n>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(r.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((e,i)=>{const r=e.getGui();wO(r,i+1),SO(r,this.childPillComponents.length)})}createItemComponent(e,i){const r=this.createPillComponent(e,this.dropTarget,i,this.horizontal);return r.addEventListener(dIe.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[e])),this.context.createBean(r),this.guiDestroyFunctions.push(()=>this.destroyBean(r)),i||this.childPillComponents.push(r),r}addIconAndTitleToGui(){const{title:e,icon:i}=this.params;if(!e||!i)return;const r=document.createElement("div");if(xb(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(i,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),r.appendChild(i),!this.horizontal){const n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=e,r.appendChild(n)}this.appendChild(r)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const i=document.createElement("span");i.innerHTML=e,this.addElementClasses(i,"empty-message"),this.ePillDropList.appendChild(i)}addArrow(e){if(this.horizontal){const i=this.gridOptionsService.get("enableRtl"),r=ir(i?"smallLeft":"smallRight",this.gridOptionsService);this.addElementClasses(r,"cell-separator"),e.appendChild(r)}}};Ub.STATE_NOT_DRAGGING="notDragging";Ub.STATE_NEW_ITEMS_IN="newItemsIn";Ub.STATE_REARRANGE_ITEMS="rearrangeItems";x([V("focusService")],Ub.prototype,"focusService",2);x([V("dragAndDropService")],Ub.prototype,"dragAndDropService",2);var hIe=["touchstart","touchend","touchmove","touchcancel"],lre=class{constructor(t="javascript"){this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(t,e){return new Tr(i=>{i(window.setInterval(t,e))})}addEventListener(t,e,i,r){const n=Ho(hIe,e);t.addEventListener(e,i,{capture:!!r,passive:n})}get shouldWrapOutgoing(){return!1}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}getDocLink(t){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${t?`/${t}`:""}`}},rh=class extends Pe{getNextCellToFocus(t,e,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const i=t===de.UP,r=t===de.DOWN,n=t===de.LEFT;let s,o;if(i||r)o=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=e.column;else{const a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.get("enableRtl");o=e.rowIndex,s=n!==l?a[0]:Qt(a)}return{rowIndex:o,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(t,e){let i=e,r=!1;for(;!r;){switch(t){case de.UP:i=this.getCellAbove(i);break;case de.DOWN:i=this.getCellBelow(i);break;case de.RIGHT:this.gridOptionsService.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case de.LEFT:this.gridOptionsService.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+t);break}i?r=this.isCellGoodToFocusOn(i):r=!0}return i}isCellGoodToFocusOn(t){const e=t.column;let i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}return i?!e.isSuppressNavigable(i):!1}getCellToLeft(t){if(!t)return null;const e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;const e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){const e=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const r=this.rowModel.getRow(t.rowIndex),n=this.getNextStickyPosition(r);return n||{rowIndex:e+1,rowPinned:i}}getNextStickyPosition(t,e){if(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)return;const i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((o,a)=>o.getRowNode().rowIndex-a.getRowNode().rowIndex),r=e?-1:1,n=i.findIndex(o=>o.getRowNode().rowIndex===t.rowIndex),s=i[n+r];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}getCellBelow(t){if(!t)return null;const e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){const e=t.rowPinned,i=t.rowIndex;return e==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:e==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(t){const e=t.rowIndex,i=t.rowPinned;if(i?e===0:e===this.paginationProxy.getPageFirstRow())return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const n=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(n,!0);return s||{rowIndex:e-1,rowPinned:i}}getCellAbove(t){if(!t)return null;const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){const e=this.columnModel.getAllDisplayedColumns();let i=t.rowIndex,r=t.rowPinned,n=this.columnModel.getDisplayedColAfter(t.column);if(!n){n=e[0];const s=this.getRowBelow(t);if(ht(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:i,column:n,rowPinned:r}}getNextTabbedCellBackwards(t){const e=this.columnModel.getAllDisplayedColumns();let i=t.rowIndex,r=t.rowPinned,n=this.columnModel.getDisplayedColBefore(t.column);if(!n){n=Qt(e);const s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(ht(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,r=s?s.rowPinned:null}return{rowIndex:i,column:n,rowPinned:r}}};x([V("columnModel")],rh.prototype,"columnModel",2);x([V("rowModel")],rh.prototype,"rowModel",2);x([V("rowRenderer")],rh.prototype,"rowRenderer",2);x([V("pinnedRowModel")],rh.prototype,"pinnedRowModel",2);x([V("paginationProxy")],rh.prototype,"paginationProxy",2);rh=x([We("cellNavigationService")],rh);var nf=class extends Pe{constructor(){super(...arguments),this.consuming=!1}setBeans(t){this.logger=t.create("AlignedGridsService")}getAlignedGridApis(){var t;let e=(t=this.gridOptionsService.get("alignedGrids"))!=null?t:[];const i=typeof e=="function";typeof e=="function"&&(e=e());const r=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(s=>{var o;if(!s){up("alignedGrids contains an undefined option."),i||up(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),up(r());return}if(s instanceof It)return s;const a=s;return"current"in a?(o=a.current)==null?void 0:o.api:(a.api||up(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${r()}`),a.api)}).filter(s=>!!s&&!s.isDestroyed())}init(){this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(t){this.consuming||this.getAlignedGridApis().forEach(e=>{const i=e.__getAlignedGridService();t(i)})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent(e=>{e.onColumnEvent(t)})}fireScrollEvent(t){t.direction==="horizontal"&&this.fireEvent(e=>{e.onScrollEvent(t)})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}getMasterColumns(t){const e=[];return t.columns?t.columns.forEach(i=>{e.push(i)}):t.column&&e.push(t.column),e}getColumnIds(t){const e=[];return t.columns?t.columns.forEach(i=>{e.push(i.getColId())}):t.column&&e.push(t.column.getColId()),e}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case F.EVENT_COLUMN_MOVED:case F.EVENT_COLUMN_VISIBLE:case F.EVENT_COLUMN_PINNED:case F.EVENT_COLUMN_RESIZED:const e=t;this.processColumnEvent(e);break;case F.EVENT_COLUMN_GROUP_OPENED:const i=t;this.processGroupOpenedEvent(i);break;case F.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(t){t.columnGroups.forEach(e=>{let i=null;if(e){const r=e.getGroupId();i=this.columnModel.getProvidedColumnGroup(r)}e&&!i||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(i,e.isExpanded(),"alignedGridChanged"))})}processColumnEvent(t){var e;const i=t.column;let r=null;if(i&&(r=this.columnModel.getPrimaryColumn(i.getColId())),i&&!r)return;const n=this.getMasterColumns(t);switch(t.type){case F.EVENT_COLUMN_MOVED:{const u=t,d=t.api.getColumnState().map(h=>({colId:h.colId}));this.columnModel.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} toIndex = ${u.toIndex}`)}break;case F.EVENT_COLUMN_VISIBLE:{const u=t,d=t.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} visible = ${u.visible}`)}break;case F.EVENT_COLUMN_PINNED:{const u=t,d=t.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));this.columnModel.applyColumnState({state:d},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${t.type} pinned = ${u.pinned}`)}break;case F.EVENT_COLUMN_RESIZED:const a=t,l={};n.forEach(u=>{this.logger.log(`onColumnEvent-> processing ${t.type} actualWidth = ${u.getActualWidth()}`),l[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),(e=a.flexColumns)==null||e.forEach(u=>{l[u.getId()]&&delete l[u.getId()]}),this.columnModel.setColumnWidths(Object.values(l),!1,a.finished,"alignedGridChanged");break}const o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(a=>{a.setGridOption("alwaysShowVerticalScroll",o)})}};x([V("columnModel")],nf.prototype,"columnModel",2);x([V("ctrlsService")],nf.prototype,"ctrlsService",2);x([yl(0,Ra("loggerFactory"))],nf.prototype,"setBeans",1);x([Me],nf.prototype,"init",1);nf=x([We("alignedGridsService")],nf);var sf=class extends Pe{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,F.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(t){var e;const{newValue:i,clearSelection:r,suppressFinishActions:n,rangeSelect:s,nodes:o,event:a,source:l="api"}=t;if(o.length===0)return 0;if(o.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const u=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,c=o.map(h=>h.footer?h.sibling:h);if(s){if(o.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let h=null;if(l==="checkboxSelected"&&i===!1&&this.lastRowNode&&(this.lastRowNode.id?h=this.lastRowNode:this.lastRowNode=null),h==null&&(h=this.getLastSelectedNode()),h){const f=c[0];if(f!==h&&this.isMultiselect())return this.selectRange(f,h,i,l)}}this.lastRowNode=i?null:c[0];let d=0;for(let h=0;h<c.length;h++){const f=c[h];u&&f.group||f.selectThisNode(i,a,l)&&d++,this.groupSelectsChildren&&((e=f.childrenAfterGroup)!=null&&e.length)&&(d+=this.selectChildren(f,i,u,l))}if(!n&&(i&&(r||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],l)),d>0)){this.updateGroupsFromChildrenSelections(l);const f={type:F.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(f)}return d}selectRange(t,e,i=!0,r){const n=this.rowModel.getNodesInRangeForSelection(t,e);let s=0;n.forEach(a=>{if(a.group&&this.groupSelectsChildren)return;a.selectThisNode(i,void 0,r)&&s++}),this.updateGroupsFromChildrenSelections(r);const o={type:F.EVENT_SELECTION_CHANGED,source:r};return this.eventService.dispatchEvent(o),s}selectChildren(t,e,i,r){const n=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return ht(n)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:r,nodes:n})}getLastSelectedNode(){const t=Array.from(this.selectedNodes.keys());if(t.length==0)return null;const e=this.selectedNodes.get(Qt(t));return e||null}getSelectedNodes(){const t=[];return this.selectedNodes.forEach(e=>{e&&t.push(e)}),t}getSelectedRows(){const t=[];return this.selectedNodes.forEach(e=>{e&&e.data&&t.push(e.data)}),t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){const e=new Map;this.selectedNodes.forEach((i,r)=>{i&&t(i)&&e.set(r,i)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const r=this.rowModel.getRootNode();e||(e=new WO(!0,r),e.setInactive());let n=!1;return e.forEachChangedNodeDepthFirst(s=>{if(s!==r){const o=s.calculateSelectedFromChildren();n=s.selectThisNode(o===null?!1:o,void 0,t)||n}}),n}clearOtherNodes(t,e){const i=new Map;let r=0;return this.selectedNodes.forEach(n=>{if(n&&n.id!==t.id){const s=this.selectedNodes.get(n.id);r+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&n.parent&&i.set(n.parent.id,n.parent)}}),i.forEach(n=>{const s=n.calculateSelectedFromChildren();n.selectThisNode(s===null?!1:s,void 0,e)}),r}onRowSelected(t){const e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){if(Te(e)&&t.id!==e.id&&e){const r=e.id;this.selectedNodes.get(r)==t&&this.selectedNodes.set(e.id,e)}}syncInNewRowNode(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)}reset(t){const e=this.getSelectionCount();if(this.resetNodes(),e){const i={type:F.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}}resetNodes(){var t;(t=this.selectedNodes)==null||t.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const e=this.rowModel.getTopLevelNodes();if(e===null)return;const i=[];function r(n){for(let s=0,o=n.length;s<o;s++){const a=n[s];if(a.isSelected())i.push(a);else{const l=a;l.group&&l.children&&r(l.children)}}}return r(e),i}isEmpty(){let t=0;return this.selectedNodes.forEach(e=>{e&&t++}),t===0}deselectAllRowNodes(t){const e=a=>a.selectThisNode(!1,void 0,r),i=this.rowModel.getType()==="clientSide",{source:r,justFiltered:n,justCurrentPage:s}=t;if(s||n){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(n,s).forEach(e)}else this.selectedNodes.forEach(a=>{a&&e(a)}),this.reset(r);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r);const o={type:F.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(o)}getSelectedCounts(t,e){let i=0,r=0;const n=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?i++:s.selectable&&r++)};return this.getNodesToSelect(t,e).forEach(n),{selectedCount:i,notSelectedCount:r}}getSelectAllState(t,e){const{selectedCount:i,notSelectedCount:r}=this.getSelectedCounts(t,e);return i===0&&r===0?!1:i>0&&r>0?null:i>0}hasNodesToSelect(t=!1,e=!1){return this.getNodesToSelect(t,e).filter(i=>i.selectable).length>0}getNodesToSelect(t=!1,e=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(e)return this.paginationProxy.forEachNodeOnPage(n=>{if(!n.group){i.push(n);return}if(!n.expanded){const s=o=>{var a;i.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(s)};s(n);return}this.groupSelectsChildren||i.push(n)}),i;const r=this.rowModel;return t?(r.forEachNodeAfterFilter(n=>{i.push(n)}),i):(r.forEachNode(n=>{i.push(n)}),i)}selectAllRowNodes(t){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:e,justFiltered:i,justCurrentPage:r}=t,n=o=>o.selectThisNode(!0,void 0,e);this.getNodesToSelect(i,r).forEach(n),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e);const s={type:F.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(s)}getSelectionState(){const t=[];return this.selectedNodes.forEach(e=>{e!=null&&e.id&&t.push(e.id)}),t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t))return;const i=new Set(t),r=[];this.rowModel.forEachNode(n=>{i.has(n.id)&&r.push(n)}),this.setNodesSelected({newValue:!0,nodes:r,source:e})}};x([V("rowModel")],sf.prototype,"rowModel",2);x([V("paginationProxy")],sf.prototype,"paginationProxy",2);x([Me],sf.prototype,"init",1);sf=x([We("selectionService")],sf);var nv=class{constructor(t){this.viaApi=(e,...i)=>(ct(`Since v31, 'columnApi.${e}' is deprecated and moved to 'api.${e}'.`),this.api[e](...i)),this.api=t}sizeColumnsToFit(t){this.viaApi("sizeColumnsToFit",t)}setColumnGroupOpened(t,e){this.viaApi("setColumnGroupOpened",t,e)}getColumnGroup(t,e){return this.viaApi("getColumnGroup",t,e)}getProvidedColumnGroup(t){return this.viaApi("getProvidedColumnGroup",t)}getDisplayNameForColumn(t,e){return this.viaApi("getDisplayNameForColumn",t,e)}getDisplayNameForColumnGroup(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)}getColumn(t){return this.viaApi("getColumn",t)}getColumns(){return this.viaApi("getColumns")}applyColumnState(t){return this.viaApi("applyColumnState",t)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(t){this.viaApi("setColumnGroupState",t)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(t){return this.viaApi("getDisplayedColAfter",t)}getDisplayedColBefore(t){return this.viaApi("getDisplayedColBefore",t)}setColumnVisible(t,e){this.viaApi("setColumnVisible",t,e)}setColumnsVisible(t,e){this.viaApi("setColumnsVisible",t,e)}setColumnPinned(t,e){this.viaApi("setColumnPinned",t,e)}setColumnsPinned(t,e){this.viaApi("setColumnsPinned",t,e)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(t,e){this.viaApi("moveColumn",t,e)}moveColumnByIndex(t,e){this.viaApi("moveColumnByIndex",t,e)}moveColumns(t,e){this.viaApi("moveColumns",t,e)}moveRowGroupColumn(t,e){this.viaApi("moveRowGroupColumn",t,e)}setColumnAggFunc(t,e){this.viaApi("setColumnAggFunc",t,e)}setColumnWidth(t,e,i=!0,r){this.viaApi("setColumnWidth",t,e,i,r)}setColumnWidths(t,e=!0,i){this.viaApi("setColumnWidths",t,e,i)}setPivotMode(t){this.viaApi("setPivotMode",t)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(t,e){return this.viaApi("getPivotResultColumn",t,e)}setValueColumns(t){this.viaApi("setValueColumns",t)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(t){this.viaApi("removeValueColumn",t)}removeValueColumns(t){this.viaApi("removeValueColumns",t)}addValueColumn(t){this.viaApi("addValueColumn",t)}addValueColumns(t){this.viaApi("addValueColumns",t)}setRowGroupColumns(t){this.viaApi("setRowGroupColumns",t)}removeRowGroupColumn(t){this.viaApi("removeRowGroupColumn",t)}removeRowGroupColumns(t){this.viaApi("removeRowGroupColumns",t)}addRowGroupColumn(t){this.viaApi("addRowGroupColumn",t)}addRowGroupColumns(t){this.viaApi("addRowGroupColumns",t)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(t){this.viaApi("setPivotColumns",t)}removePivotColumn(t){this.viaApi("removePivotColumn",t)}removePivotColumns(t){this.viaApi("removePivotColumns",t)}addPivotColumn(t){this.viaApi("addPivotColumn",t)}addPivotColumns(t){this.viaApi("addPivotColumns",t)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(t,e){return this.viaApi("autoSizeColumn",t,e)}autoSizeColumns(t,e){this.viaApi("autoSizeColumns",t,e)}autoSizeAllColumns(t){this.viaApi("autoSizeAllColumns",t)}setPivotResultColumns(t){this.viaApi("setPivotResultColumns",t)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};x([V("gridApi")],nv.prototype,"api",2);nv=x([We("columnApi")],nv);var nh=class extends Pe{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;const t=i=>this.callColumnCellValueChangedHandler(i),e=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(F.EVENT_CELL_VALUE_CHANGED,t,e),this.addDestroyFunc(()=>this.eventService.removeEventListener(F.EVENT_CELL_VALUE_CHANGED,t,e)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValue(t,e,i=!1,r=!1){if(this.initialised||this.init(),!e)return;const n=t.getColDef(),s=n.field,o=t.getColId(),a=e.data;let l;const u=e.groupData&&e.groupData[o]!==void 0,c=!r&&e.aggData&&e.aggData[o]!==void 0,d=this.isSsrm&&r&&!!t.getColDef().aggFunc,h=this.isSsrm&&e.footer&&e.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===e.field);if(i&&n.filterValueGetter?l=this.executeFilterValueGetter(n.filterValueGetter,a,t,e):this.isTreeData&&c?l=e.aggData[o]:this.isTreeData&&n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,t,e):this.isTreeData&&s&&a?l=wm(a,s,t.isFieldContainsDots()):u?l=e.groupData[o]:c?l=e.aggData[o]:n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,t,e):h?l=wm(a,e.field,t.isFieldContainsDots()):s&&a&&!d&&(l=wm(a,s,t.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const f=l.substring(1);l=this.executeValueGetter(f,a,t,e)}if(l==null){const f=this.getOpenedGroup(e,t);if(f!=null)return f}return l}getOpenedGroup(t,e){if(!this.gridOptionsService.get("showOpenedGroup")||!e.getColDef().showRowGroup)return;const r=e.getColDef().showRowGroup;let n=t.parent;for(;n!=null;){if(n.rowGroupColumn&&(r===!0||r===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(t,e,i,r){const n=this.columnModel.getPrimaryColumn(e);if(!t||!n)return!1;ht(t.data)&&(t.data={});const{field:s,valueSetter:o}=n.getColDef();if(ht(s)&&ht(o))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(n,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const a=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(n,t),newValue:i,colDef:n.getColDef(),column:n});a.newValue=i;let l;if(Te(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(t.data,s,i,n.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(n,t);const u={type:F.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:a.column,api:a.api,columnApi:a.columnApi,colDef:a.colDef,context:a.context,data:t.data,node:t,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:r};return this.eventService.dispatchEvent(u),!0}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;typeof e=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})})}setValueUsingField(t,e,i,r){if(!e)return!1;let n=!1;if(!r)n=t[e]===i,n||(t[e]=i);else{const s=e.split(".");let o=t;for(;s.length>0&&o;){const a=s.shift();s.length===0?(n=o[a]===i,n||(o[a]=i)):o=o[a]}}return!n}executeFilterValueGetter(t,e,i,r){const n=this.gridOptionsService.addGridCommonParams({data:e,node:r,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,r)});return typeof t=="function"?t(n):this.expressionService.evaluate(t,n)}executeValueGetter(t,e,i,r){const n=i.getColId(),s=this.valueCache.getValue(r,n);if(s!==void 0)return s;const o=this.gridOptionsService.addGridCommonParams({data:e,node:r,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,r)});let a;return typeof t=="function"?a=t(o):a=this.expressionService.evaluate(t,o),this.valueCache.setValue(r,n,a),a}getValueCallback(t,e){const i=this.columnModel.getPrimaryColumn(e);return i?this.getValue(i,t):null}getKeyForNode(t,e){const i=this.getValue(t,e),r=t.getColDef().keyCreator;let n=i;if(r){const s=this.gridOptionsService.addGridCommonParams({value:i,colDef:t.getColDef(),column:t,node:e,data:e.data});n=r(s)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&ct("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),n}};x([V("expressionService")],nh.prototype,"expressionService",2);x([V("columnModel")],nh.prototype,"columnModel",2);x([V("valueCache")],nh.prototype,"valueCache",2);x([V("dataTypeService")],nh.prototype,"dataTypeService",2);x([Me],nh.prototype,"init",1);nh=x([We("valueService")],nh);var Sx=class extends Pe{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(t){this.logger=t.create("ExpressionService")}evaluate(t,e){if(typeof t=="string")return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+i),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];const e=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=i,i}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}};x([yl(0,Ra("loggerFactory"))],Sx.prototype,"setBeans",1);Sx=x([We("expressionService")],Sx);var I1=class extends Pe{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(t,e){const i=this.templateCache[t];if(i)return i;let r=this.waitingCallbacks[t];const n=this;if(!r){r=[],this.waitingCallbacks[t]=r;const s=new XMLHttpRequest;s.onload=function(){n.handleHttpResult(this,t)},s.open("GET",t),s.send()}return e&&r.push(e),null}handleHttpResult(t,e){if(t.status!==200||t.response===null){console.warn(`AG Grid: Unable to get template error ${t.status} - ${e}`);return}this.templateCache[e]=t.response||t.responseText;const i=this.waitingCallbacks[e];for(let r=0;r<i.length;r++){const n=i[r];n()}}};I1=x([We("templateService")],I1);var wx=class extends Pe{setBeans(t){this.logging=t.get("debug")}create(t){return new rB(t,this.isLogging.bind(this))}isLogging(){return this.logging}};x([yl(0,Ra("gridOptionsService"))],wx.prototype,"setBeans",1);wx=x([We("loggerFactory")],wx);var rB=class{constructor(t,e){this.name=t,this.isLoggingFunc=e}isLogging(){return this.isLoggingFunc()}log(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)}},wh=class extends Pe{setComp(t,e,i){this.view=t,this.eGridHostDiv=e,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:n=>n===1||n===0,getIconName:()=>Rt.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new LO(this.view)),this.addRtlSupport();const r=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}showDropZones(){return ei.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return ei.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return ei.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return ei.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const t={type:F.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)}addRtlSupport(){const t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),n=i.findIndex(s=>s.contains(e.activeElement))+(t?-1:1);return n<=0||n>=i.length?!1:this.focusService.focusInto(i[n])}focusInnerElement(t){const e=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(Qt(e),!0);const r=Qt(i);if(this.focusService.focusGridView(r,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(let r=1;r<e.length;r++)if(this.focusService.focusInto(e[r]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}};x([V("focusService")],wh.prototype,"focusService",2);x([V("resizeObserverService")],wh.prototype,"resizeObserverService",2);x([V("columnModel")],wh.prototype,"columnModel",2);x([V("ctrlsService")],wh.prototype,"ctrlsService",2);x([V("mouseEventService")],wh.prototype,"mouseEventService",2);x([V("dragAndDropService")],wh.prototype,"dragAndDropService",2);var zb=class extends $b{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:r=>this.addCssClass(r),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:r=>{this.getGui().style.userSelect=r??"",this.getGui().style.webkitUserSelect=r??""},setCursor:r=>{this.getGui().style.cursor=r??""}};this.ctrl=this.createManagedBean(new wh);const i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.ctrl.focusInnerElement(r),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,i){const r=this.eRootWrapperBody.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",n=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${r}
                <ag-pagination></ag-pagination>
                ${n}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(i=>Wo(i))}};x([V("loggerFactory")],zb.prototype,"loggerFactory",2);x([ke("gridBody")],zb.prototype,"gridBodyComp",2);x([ke("sideBar")],zb.prototype,"sideBarComp",2);x([ke("rootWrapperBody")],zb.prototype,"eRootWrapperBody",2);x([Me],zb.prototype,"postConstruct",1);var of=class extends Pe{progressSort(t,e,i){const r=this.getNextSortDirection(t);this.setSortForColumn(t,r,e,i)}setSortForColumn(t,e,i,r){e!=="asc"&&e!=="desc"&&(e=null);const n=this.gridOptionsService.isColumnsSortingCoupledToGroup();let s=[t];if(n&&t.getColDef().showRowGroup){const l=this.columnModel.getSourceColumnsForGroupColumn(t),u=l==null?void 0:l.filter(c=>c.isSortable());u&&(s=[t,...u])}s.forEach(l=>l.setSort(e,r));const o=(i||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(s,r);a.push(...l)}this.updateSortIndex(t),a.push(...s),this.dispatchSortChangedEvents(r,a)}updateSortIndex(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),r=e&&i||t,n=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(a=>a.setSortIndex(null));const s=n.filter(a=>e&&a.getColDef().showRowGroup?!1:a!==r);(r.getSort()?[...s,r]:s).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){const e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return e&&e.length>0}dispatchSortChangedEvents(t,e){const i={type:F.EVENT_SORT_CHANGED,source:t};e&&(i.columns=e),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(t,e){const i=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(r=>{t.includes(r)||(r.getSort()&&i.push(r),r.setSort(void 0,e))}),i}getNextSortDirection(t){let e;if(t.getColDef().sortingOrder?e=t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?e=this.gridOptionsService.get("sortingOrder"):e=of.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${e}`),null;const i=e.indexOf(t.getSort()),r=i<0,n=i==e.length-1;let s;return r||n?s=e[0]:s=e[i+1],of.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s}getIndexedSortMap(){let t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();t=t.filter(o=>{const a=!!o.getAggFunc(),l=!o.isPrimary(),u=s?this.columnModel.getGroupDisplayColumnForGroup(o.getId()):o.getColDef().showRowGroup;return a||l||u})}const e=this.columnModel.getRowGroupColumns().filter(s=>!!s.getSort()),i={};t.forEach((s,o)=>i[s.getId()]=o),t.sort((s,o)=>{const a=s.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const u=i[s.getId()],c=i[o.getId()];return u>c?1:-1}else return l==null?-1:1});const r=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!e.length;r&&(t=[...new Set(t.map(s=>{var o;return(o=this.columnModel.getGroupDisplayColumnForGroup(s.getId()))!=null?o:s}))]);const n=new Map;return t.forEach((s,o)=>n.set(s,o)),r&&e.forEach(s=>{const o=this.columnModel.getGroupDisplayColumnForGroup(s.getId());n.set(s,n.get(o))}),n}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[i,r])=>e-r).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){const e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!t.getColDef().showRowGroup;return e&&i}getDisplaySortForColumn(t){const e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(e!=null&&e.length))return t.getSort();const r=t.getColDef().field!=null||!!t.getColDef().valueGetter?[t,...e]:e,n=r[0].getSort();return r.every(o=>o.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}};of.DEFAULT_SORTING_ORDER=["asc","desc",null];x([V("columnModel")],of.prototype,"columnModel",2);of=x([We("sortController")],of);var vi=class extends Pe{static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",vi.toggleKeyboardMode),t.addEventListener("mousedown",vi.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",vi.toggleKeyboardMode),t.addEventListener("mousedown",vi.toggleKeyboardMode))}static toggleKeyboardMode(t){const e=vi.keyboardModeActive,i=t.type==="keydown";i&&(t.ctrlKey||t.metaKey||t.altKey)||e!==i&&(vi.keyboardModeActive=i)}static unregisterGridCompController(t){vi.removeKeyboardModeEvents(t)}init(){const t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl})}registerKeyboardFocusEvents(){const t=this.gridOptionsService.getDocument();vi.addKeyboardModeEvents(t),vi.instanceCount++,this.addDestroyFunc(()=>{vi.instanceCount--,vi.unregisterGridCompController(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}isKeyboardMode(){return vi.keyboardModeActive}getFocusCellToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,Mp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,VO.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,e){let i=t;for(;i;){if(this.gridOptionsService.getDomData(i,e))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(){const{rowIndex:t,rowPinned:e,column:i}=this.focusedCellPosition,r={rowIndex:t,rowPinned:e,column:i,isFullWidthCell:!1},n=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:e});return n&&(r.isFullWidthCell=n.isFullWidth()),r}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=it({type:F.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}setFocusedCell(t){const{column:e,rowIndex:i,rowPinned:r,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:s=!1}=t,o=this.columnModel.getGridColumn(e);if(!o){this.focusedCellPosition=null;return}this.focusedCellPosition=o?{rowIndex:i,rowPinned:Cu(r),column:o}:null;const a=Ui(it({type:F.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:n,preventScrollOnBrowserFocus:s,floating:null});this.eventService.dispatchEvent(a)}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const e=t.getColumnGroupChild(),i=t.getRowIndex(),r=t.getPinned(),{column:n,headerRowIndex:s}=this.focusedHeaderPosition;return e===n&&i===s&&r==n.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}}focusHeaderPosition(t){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;const{direction:e,fromTab:i,allowUserOverride:r,event:n,fromCell:s,rowWithoutSpanValue:o}=t;let{headerPosition:a}=t;if(s&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(i){const h=this.gridOptionsService.getCallback("tabToNextHeader");h&&(a=h({backwards:e==="Before",previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d}))}else{const h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&n){const f={key:n.key,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d,event:n};a=h(f)}}}if(!a)return!1;if(a.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(a.column);this.headerNavigationService.scrollToColumn(a.column,e);const u=this.ctrlsService.getHeaderRowContainerCtrl(a.column.getPinned()).focusHeader(a.headerRowIndex,a.column,n);return u&&(o!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(o??-1),u}focusFirstHeader(){let t=this.columnModel.getAllDisplayedColumns()[0];if(!t)return!1;t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0));const e=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:e,rowWithoutSpanValue:0})}focusLastHeader(t){const e=this.headerNavigationService.getHeaderRowCount()-1,i=Qt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:i},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,e){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Cu(e)}findFocusableElements(t,e,i=!1){const r=_te;let n=R$;e&&(n+=", "+e),i&&(n+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(t.querySelectorAll(r)).filter(l=>Wo(l)),o=Array.prototype.slice.apply(t.querySelectorAll(n));return o.length?((l,u)=>l.filter(c=>u.indexOf(c)===-1))(s,o):s}focusInto(t,e=!1,i=!1){const r=this.findFocusableElements(t,null,i),n=e?Qt(r):r[0];return n?(n.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,e){if(!e)return null;const i=this.findFocusableElements(t),r=i.indexOf(e);if(r===-1)return null;let n=-1;for(let s=r-1;s>=0;s--)if(i[s].classList.contains("ag-tab-guard-top")){n=s;break}return n<=0?null:i[n-1]}findNextFocusableElement(t=this.eGridDiv,e,i){const r=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument().activeElement;let o;e?o=r.findIndex(l=>l.contains(s)):o=r.indexOf(s);const a=o+(i?-1:1);return a<0||a>=r.length?null:r[a]}isTargetUnderManagedComponent(t,e){if(!e)return!1;const i=t.querySelectorAll(`.${gh.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let r=0;r<i.length;r++)if(i[r].contains(e))return!0;return!1}findTabbableParent(t,e=5){let i=0;for(;t&&px(t)===null&&++i<=e;)t=t.parentElement;return px(t)===null?null:t}focusGridView(t,e){if(this.gridOptionsService.get("suppressCellFocus"))return e?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:r,rowPinned:n}=i,s=this.getFocusedHeader();if(!t&&s&&(t=s.column),r==null||!t)return!1;if(this.navigationService.ensureCellVisible({rowIndex:r,column:t,rowPinned:n}),this.setFocusedCell({rowIndex:r,column:t,rowPinned:Cu(n),forceBrowserFocus:!0}),this.rangeService){const o={rowIndex:r,rowPinned:n,column:t};this.rangeService.setRangeToCell(o)}return!0}focusNextGridCoreContainer(t,e=!1){return!e&&this.gridCtrl.focusNextInnerContainer(t)?!0:((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t==null?void 0:t.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(t,e){var i,r;const n=(r=e?void 0:this.advancedFilterFocusColumn)!=null?r:(i=this.columnModel.getAllDisplayedColumns())==null?void 0:i[0];return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};vi.keyboardModeActive=!1;vi.instanceCount=0;x([V("eGridDiv")],vi.prototype,"eGridDiv",2);x([V("columnModel")],vi.prototype,"columnModel",2);x([V("headerNavigationService")],vi.prototype,"headerNavigationService",2);x([V("headerPositionUtils")],vi.prototype,"headerPositionUtils",2);x([V("rowRenderer")],vi.prototype,"rowRenderer",2);x([V("rowPositionUtils")],vi.prototype,"rowPositionUtils",2);x([V("cellPositionUtils")],vi.prototype,"cellPositionUtils",2);x([Kt("rangeService")],vi.prototype,"rangeService",2);x([V("navigationService")],vi.prototype,"navigationService",2);x([V("ctrlsService")],vi.prototype,"ctrlsService",2);x([V("filterManager")],vi.prototype,"filterManager",2);x([Kt("advancedFilterService")],vi.prototype,"advancedFilterService",2);x([Me],vi.prototype,"init",1);vi=x([We("focusService")],vi);var L1=class extends Pe{setMouseOver(t){this.selectedColumns=t;const e={type:F.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}clearMouseOver(){this.selectedColumns=null;const t={type:F.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}};L1=x([We("columnHoverService")],L1);var Mw=class extends Pe{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(t){this.active?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t();return}const e=i=>{for(;i.length;){const r=i.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>e(this.executeNextFuncs),0),window.setTimeout(()=>{e(this.executeLaterFuncs),t()},200)})}};x([V("ctrlsService")],Mw.prototype,"ctrlsService",2);x([Me],Mw.prototype,"postConstruct",1);Mw=x([We("columnAnimationService")],Mw);var sv=class extends Pe{postConstruct(){this.ctrlsService.whenReady(t=>{this.centerRowContainerCon=t.centerRowContainerCtrl,this.addManagedListener(this.eventService,F.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const i=this.gridOptionsService.getRowHeightAsNumber(),r=Math.floor(t/i);this.paginationProxy.setPageSize(r,"autoCalculated")};this.isBodyRendered?Cs(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};x([V("ctrlsService")],sv.prototype,"ctrlsService",2);x([V("paginationProxy")],sv.prototype,"paginationProxy",2);x([Me],sv.prototype,"postConstruct",1);sv=x([We("paginationAutoPageSizeService")],sv);var Ex=class extends Pe{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=i)}getValue(t,e){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[e]}};x([Me],Ex.prototype,"init",1);Ex=x([We("valueCache")],Ex);var pIe="paste",ov=class extends Pe{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,F.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(t){t.source!==pIe&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gridOptionsService.get("suppressChangeDetection"))return;const i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const r=this.gridOptionsService.get("aggregateOnlyChangedColumns"),n=new WO(r,this.clientSideRowModel.getRootNode());n.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(n),n.forEachChangedNodeDepthFirst(s=>{i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}};x([V("rowModel")],ov.prototype,"rowModel",2);x([V("rowRenderer")],ov.prototype,"rowRenderer",2);x([Me],ov.prototype,"init",1);ov=x([We("changeDetectionService")],ov);var bx=class extends Pe{adaptFunction(t,e){const i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(e):null}adaptCellRendererFunction(t){class e{refresh(r){return!1}getGui(){return this.eGui}init(r){const n=t(r),s=typeof n;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Xs("<span>"+n+"</span>");return}if(n==null){this.eGui=Xs("<span></span>");return}this.eGui=n}}return e}doesImplementIComponent(t){return t?t.prototype&&"getGui"in t.prototype:!1}};x([V("componentMetadataProvider")],bx.prototype,"componentMetadataProvider",2);bx=x([We("agComponentUtils")],bx);var Fw=class extends Pe{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}};x([V("agComponentUtils")],Fw.prototype,"agComponentUtils",2);x([Me],Fw.prototype,"postConstruct",1);Fw=x([We("componentMetadataProvider")],Fw);var fIe=25,HK=10,IL=8,gIe=4,LL=4,_L=6,mIe=16,$K=14,NL=8,vIe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:gIe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:IL*7,headerCellMinWidth:48,listItemHeight:IL*4,rowHeight:IL*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:LL*8,headerCellMinWidth:24,listItemHeight:LL*6,rowHeight:LL*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:_L*8,headerCellMinWidth:36,listItemHeight:_L*4,rowHeight:_L*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:$K+NL*4.25,headerCellMinWidth:36,listItemHeight:mIe+NL,rowHeight:$K+NL*3.5,chartMenuPanelWidth:260}},BK={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Iw=class extends Pe{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var t;const e=(t=this.getTheme().el)!=null?t:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const t={type:F.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)}getSassVariable(t){const{themeFamily:e,el:i}=this.getTheme();if(!e||e.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[e]||(this.calculatedSizes[e]={});const r=this.calculatedSizes[e][t];return r??(this.calculatedSizes[e][t]=this.calculateValueForSassProperty(t,e,i),this.calculatedSizes[e][t])}calculateValueForSassProperty(t,e,i){const r="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),n=vIe[r][t],s=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!BK[t])return n;const o=BK[t],a=s.createElement("div"),l=Array.from(i.classList);a.classList.add(e,...l),a.style.position="absolute";const u=o.reduce((d,h)=>{const f=s.createElement("div");return f.style.position="static",f.classList.add(h),d.appendChild(f),f},a);let c=0;if(s.body){s.body.appendChild(a);const d=t.toLowerCase().indexOf("height")!==-1?"height":"width";c=parseInt(window.getComputedStyle(u)[d],10),s.body.removeChild(a)}return c||n}isThemeDark(){const{theme:t}=this.getTheme();return!!t&&t.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const t=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let e=this.eGridDiv,i=null,r=[];for(;e;)if(i=t.exec(e.className),!i)e=e.parentElement||void 0;else{const s=e.className.match(t);s&&(r=s);break}if(!i)return{allThemes:r};const n=i[0];return{theme:n,el:e,themeFamily:n.replace(/-dark$/,""),allThemes:r}}getFromTheme(t,e){var i;return(i=this.getSassVariable(e))!=null?i:t}getDefaultRowHeight(){return this.getFromTheme(fIe,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gridOptionsService.get("rowHeight");if(e==null||isNaN(e)||!isFinite(e))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${e}px`;return t!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),e):t!=""?parseFloat(t):-1}getMinColWidth(){const t=this.getFromTheme(null,"headerCellMinWidth");return Te(t)?Math.max(t,HK):HK}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};x([V("eGridDiv")],Iw.prototype,"eGridDiv",2);x([Me],Iw.prototype,"postConstruct",1);Iw=x([We("environment")],Iw);var av=class extends Pe{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(t){this.logger=t.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Dte(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(e!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){const e=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:F.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;const e=this.modelHeight-this.getUiBodyHeight(),i=t/e;return this.maxScrollY*i}};x([V("ctrlsService")],av.prototype,"ctrlsService",2);x([yl(0,Ra("loggerFactory"))],av.prototype,"agWire",1);x([Me],av.prototype,"postConstruct",1);av=x([We("rowContainerHeightService")],av);var lv=class extends Pe{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(t=!1){const e=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!e||!i)return;const r=this.gridOptionsService.get("groupSelectsChildren"),n=this.rowModel.getType()==="clientSide"&&r,s=[],o=a=>{if(t&&!a.group)return;if(n&&a.group){const u=a.childrenAfterGroup.some(c=>c.selectable===!0);a.setRowSelectable(u,!0);return}const l=i?i(a):!0;a.setRowSelectable(l,!0),!l&&a.isSelected()&&s.push(a)};if(n){const a=this.rowModel;new WO(!1,a.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0)}else this.rowModel.forEachNode(o);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),n&&this.selectionService instanceof sf&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};x([V("rowModel")],lv.prototype,"rowModel",2);x([V("selectionService")],lv.prototype,"selectionService",2);x([Me],lv.prototype,"init",1);lv=x([We("selectableService")],lv);var uo=class extends Et{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const t=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:e,btPrevious:i,btNext:r,btLast:n,pageSizeComp:s}=this;this.activateTabIndex([e,i,r,n]),e.insertAdjacentElement("afterbegin",ir(t?"last":"first",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",ir(t?"next":"previous",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",ir(t?"previous":"next",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",ir(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const e=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{const{el:e,fn:i}=t;this.addManagedListener(e,"click",i),this.addManagedListener(e,"keydown",r=>{(r.key===de.ENTER||r.key===de.SPACE)&&(r.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),i=t?e+1:0;this.lbCurrent.textContent=this.formatNumber(i)}formatNumber(t){const e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});const i=this.localeService.getLocaleTextFunc(),r=i("thousandSeparator",","),n=i("decimalSeparator",".");return b$(t,r,n)}getTemplate(){const t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),i=t("to","to"),r=t("of","of"),n=t("firstPage","First Page"),s=t("previousPage","Previous Page"),o=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${l}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${r}</span>
                    <span id="ag-${l}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${l}-start-page">${e}</span>
                        <span id="ag-${l}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${r}</span>
                        <span id="ag-${l}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),n=t===i-1;this.nextButtonDisabled=n||r,this.lastButtonDisabled=!e||r||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){p$(t,e),t.classList.toggle("ag-disabled",e)}updateRowLabels(){const t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let n,s;if(this.isZeroPagesToDisplay()?n=s=0:(n=e*t+1,s=n+e-1,i&&s>r&&(s=r)),this.lbFirstRowOnPage.textContent=this.formatNumber(n),this.rowNodeBlockLoader.isLoading()){const o=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=o("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)}isZeroPagesToDisplay(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&e===0}setTotalLabels(){const t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(i===1){const r=this.paginationProxy.getRow(0);if(r&&r.group&&!(r.groupData||r.aggData)){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.textContent=this.formatNumber(e),this.lbRecordCount.textContent=this.formatNumber(i);else{const r=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};x([V("paginationProxy")],uo.prototype,"paginationProxy",2);x([V("rowNodeBlockLoader")],uo.prototype,"rowNodeBlockLoader",2);x([ke("btFirst")],uo.prototype,"btFirst",2);x([ke("btPrevious")],uo.prototype,"btPrevious",2);x([ke("btNext")],uo.prototype,"btNext",2);x([ke("btLast")],uo.prototype,"btLast",2);x([ke("lbRecordCount")],uo.prototype,"lbRecordCount",2);x([ke("lbFirstRowOnPage")],uo.prototype,"lbFirstRowOnPage",2);x([ke("lbLastRowOnPage")],uo.prototype,"lbLastRowOnPage",2);x([ke("lbCurrent")],uo.prototype,"lbCurrent",2);x([ke("lbTotal")],uo.prototype,"lbTotal",2);x([ke("pageSizeComp")],uo.prototype,"pageSizeComp",2);x([Me],uo.prototype,"postConstruct",1);var jb=class ure extends Et{constructor(){super(ure.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(e,i){const r=this.eOverlayWrapper.classList;r.toggle("ag-layout-auto-height",i.autoHeight),r.toggle("ag-layout-normal",i.normal),r.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new LO(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)}showOverlay(e,i,r){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(n=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,this.updateListenerDestroyFunc=r,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(e=this.updateListenerDestroyFunc)==null||e.call(this),Lr(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};jb.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`;x([V("overlayService")],jb.prototype,"overlayService",2);x([ke("eOverlayWrapper")],jb.prototype,"eOverlayWrapper",2);x([Me],jb.prototype,"postConstruct",1);var CIe=jb,uv=class extends Pe{getFirstRow(){let t=0,e;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),e===void 0?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),r=this.pinnedRowModel.getPinnedTopRowCount();return i?(e="bottom",t=i-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):r&&(e="top",t=r-1),t===void 0?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e?!0:t&&!e||!t&&e?!1:t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if(e.rowPinned!=="top")return!0;break;case"bottom":if(e.rowPinned!=="bottom")return!1;break;default:if(Te(e.rowPinned))return e.rowPinned!=="top";break}return t.rowIndex<e.rowIndex}rowMax(t){let e;return t.forEach(i=>{(e===void 0||this.before(e,i))&&(e=i)}),e}rowMin(t){let e;return t.forEach(i=>{(e===void 0||this.before(i,e))&&(e=i)}),e}};x([V("rowModel")],uv.prototype,"rowModel",2);x([V("pinnedRowModel")],uv.prototype,"pinnedRowModel",2);x([V("paginationProxy")],uv.prototype,"paginationProxy",2);uv=x([We("rowPositionUtils")],uv);var _1=class extends Pe{createId(t){const{rowIndex:e,rowPinned:i,column:r}=t;return this.createIdFromValues({rowIndex:e,column:r,rowPinned:i})}createIdFromValues(t){const{rowIndex:e,rowPinned:i,column:r}=t;return`${e}.${i??"null"}.${r.getId()}`}equals(t,e){const i=t.column===e.column,r=t.rowPinned===e.rowPinned,n=t.rowIndex===e.rowIndex;return i&&r&&n}};_1=x([We("cellPositionUtils")],_1);var Xy=class{constructor(t){this.cellValueChanges=t}},GL=class extends Xy{constructor(t,e,i,r){super(t),this.initialRange=e,this.finalRange=i,this.ranges=r}},cre=class dre{constructor(e){this.actionStack=[],this.maxStackSize=e||dre.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};cre.DEFAULT_STACK_SIZE=10;var WK=cre,Va=class extends Pe{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,e),r=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(i||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:u}=t,c={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.get("undoRedoCellEditing"))return;const t=this.gridOptionsService.get("undoRedoCellEditingLimit");t<=0||(this.undoStack=new WK(t),this.redoStack=new WK(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,F.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,F.EVENT_MODEL_UPDATED,e=>{e.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,F.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){const e={type:F.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(e);const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),r={type:F.EVENT_UNDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(r)}redo(t){const e={type:F.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(e);const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),r={type:F.EVENT_REDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(r)}undoRedo(t,e,i,r,n){if(!t)return!1;const s=t.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],n),s instanceof GL?this.processRange(s.ranges||[s[i]]):this.processCell(s.cellValueChanges),e.push(s),!0)}processAction(t,e,i){t.cellValueChanges.forEach(r=>{const{rowIndex:n,rowPinned:s,columnId:o}=r,a={rowIndex:n,rowPinned:s},l=this.getRowNode(a);l.displayed&&l.setDataValue(o,e(r),i)})}processRange(t){let e;this.rangeService.removeAllCellRanges(!0),t.forEach((i,r)=>{if(!i)return;const n=i.startRow,s=i.endRow;r===t.length-1&&(e={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(e));const o={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};this.rangeService.addCellRange(o)})}processCell(t){const e=t[0],{rowIndex:i,rowPinned:r}=e,n={rowIndex:i,rowPinned:r},s=this.getRowNode(n),o={rowPinned:e.rowPinned,rowIndex:s.rowIndex,columnId:e.columnId};this.setLastFocusedCell(o,!!this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:i,columnId:r,rowPinned:n}=t,s=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getGridColumn(r);if(!o)return;s.ensureIndexVisible(i),s.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:n};this.focusService.setFocusedCell(Ui(it({},a),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,F.EVENT_ROW_EDITING_STARTED,t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,F.EVENT_ROW_EDITING_STOPPED,()=>{const t=new Xy(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,F.EVENT_CELL_EDITING_STARTED,t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}}),this.addManagedListener(this.eventService,F.EVENT_CELL_EDITING_STOPPED,t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Xy(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,F.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,F.EVENT_PASTE_END,()=>{const t=new Xy(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,F.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,F.EVENT_FILL_END,t=>{const e=new GL(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,F.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let t;this.rangeService&&this.gridOptionsService.get("enableRangeSelection")?t=new GL(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):t=new Xy(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}}};x([V("focusService")],Va.prototype,"focusService",2);x([V("ctrlsService")],Va.prototype,"ctrlsService",2);x([V("rowModel")],Va.prototype,"rowModel",2);x([V("pinnedRowModel")],Va.prototype,"pinnedRowModel",2);x([V("cellPositionUtils")],Va.prototype,"cellPositionUtils",2);x([V("rowPositionUtils")],Va.prototype,"rowPositionUtils",2);x([V("columnModel")],Va.prototype,"columnModel",2);x([Kt("rangeService")],Va.prototype,"rangeService",2);x([Me],Va.prototype,"init",1);Va=x([We("undoRedoService")],Va);var Lw=class extends Pe{findHeader(t,e){let i,r,n;if(t.column instanceof Br?(r=`getDisplayedGroup${e}`,i=this.columnModel[r](t.column)):(n=`getDisplayedCol${e}`,i=this.columnModel[n](t.column)),!i)return;let{headerRowIndex:s}=t;if(this.getHeaderRowType(s)!=="filter"){const l=[i];for(;i.getParent();)i=i.getParent(),l.push(i);i=l[l.length-1-s]}const{column:o,headerRowIndex:a}=this.getHeaderIndexToFocus(i,s);return{column:o,headerRowIndex:a}}getHeaderIndexToFocus(t,e){let i;if(t instanceof Br&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){const r=t;i=r.getLeafColumns()[0];let n=i;for(;n!==r;)e++,n=n.getParent()}return{column:i||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){return t?t.getLeafColumns().some(e=>e.isSpanHeaderHeight()):!1}getColumnVisibleParent(t,e){const i=this.getHeaderRowType(e),r=i==="filter",n=i==="column";let s=r?t:t.getParent(),o=e-1,a=o;if(n&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=t,o=e,a=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(t,e,i="After"){const r=this.getHeaderRowType(e);let n=t,s=e+1,o=s;if(r==="group"){const a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:Qt(a),u=[];let c=l;for(;c.getParent()!==t;)c=c.getParent(),u.push(c);if(n=l,l.isSpanHeaderHeight())for(let d=u.length-1;d>=0;d--){const h=u[d];if(!h.isPadding()){n=h;break}s++}else n=Qt(u),n||(n=l)}return{column:n,headerRowIndex:s,headerRowIndexWithoutSpan:o}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){const i=this.columnModel.getAllDisplayedColumns(),r=i[e==="start"?0:i.length-1];if(!r)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()).getRowType(t);if(s=="group"){const o=this.columnModel.getColumnGroupAtLevel(r,t);return{headerRowIndex:t,column:o}}return{headerRowIndex:s==null?-1:t,column:r}}};x([V("columnModel")],Lw.prototype,"columnModel",2);x([V("ctrlsService")],Lw.prototype,"ctrlsService",2);Lw=x([We("headerPositionUtils")],Lw);var N1=class{buildColumnDefs(t,e,i){const r=[],n={};return t.forEach(s=>{const o=this.createDefFromColumn(s,e,i);let a=!0,l=o,u=s.getOriginalParent(),c=null;for(;u;){let d=null;if(u.isPadding()){u=u.getOriginalParent();continue}const h=n[u.getGroupId()];if(h){h.children.push(l),a=!1;break}if(d=this.createDefFromGroup(u),d&&(d.children=[l],n[d.groupId]=d,l=d,u=u.getOriginalParent()),u!=null&&c===u){a=!1;break}c=u}a&&r.push(l)}),r}createDefFromGroup(t){const e=ax(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,i){const r=ax(t.getColDef());return r.colId=t.getColId(),r.width=t.getActualWidth(),r.rowGroup=t.isRowGroupActive(),r.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,r.pivot=t.isPivotActive(),r.pivotIndex=t.isPivotActive()?i.indexOf(t):null,r.aggFunc=t.isValueActive()?t.getAggFunc():null,r.hide=t.isVisible()?void 0:!0,r.pinned=t.isPinned()?t.getPinned():null,r.sort=t.getSort()?t.getSort():null,r.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,r}};N1=x([We("columnDefFactory")],N1);var _w=class{getInitialRowClasses(t){const e=[];return Te(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),g1(e,this.processClassesFromGridOptions(t.rowNode)),g1(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){const e=[],i=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(o=>e.push(o))},r=this.gridOptionsService.get("rowClass");if(r){if(typeof r=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(r)}const n=this.gridOptionsService.getCallback("getRowClass");if(n){const s={data:t.data,node:t,rowIndex:t.rowIndex},o=n(s);i(o)}return e}preProcessRowClassRules(t){const e=[];return this.processRowClassRules(t,i=>{e.push(i)},i=>{}),e}processRowClassRules(t,e,i){const r=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),r,e,i)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}};x([V("stylingService")],_w.prototype,"stylingService",2);x([V("gridOptionsService")],_w.prototype,"gridOptionsService",2);_w=x([We("rowCssClassCalculator")],_w);var cv=class extends Pe{init(){this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(t,e){const i=(n,s)=>({currentPos:s,rowNode:n}),r=t.map(i);return r.sort(this.compareRowNodes.bind(this,e)),r.map(n=>n.rowNode)}compareRowNodes(t,e,i){const r=e.rowNode,n=i.rowNode;for(let s=0,o=t.length;s<o;s++){const a=t[s],l=a.sort==="desc",u=this.getValue(r,a.column),c=this.getValue(n,a.column);let d;const h=this.getComparator(a,r);if(h?d=h(u,c,r,n,l):d=ft.defaultComparator(u,c,this.isAccentedSort),!isNaN(d)&&d!==0)return a.sort==="asc"?d:d*-1}return e.currentPos-i.currentPos}getComparator(t,e){const i=t.column,r=i.getColDef().comparator;if(r!=null)return r;if(!i.getColDef().showRowGroup)return;const n=!e.group&&i.getColDef().field;if(!n)return;const s=this.columnModel.getPrimaryColumn(n);if(s)return s.getColDef().comparator}getValue(t,e){var i,r;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){const a=(i=t.allLeafChildren)==null?void 0:i[0];return a?this.valueService.getValue(e,a,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(e.getId());return o?(r=t.groupData)==null?void 0:r[o.getId()]:void 0}if(!(t.group&&e.getColDef().showRowGroup))return this.valueService.getValue(e,t,!1,!1)}};x([V("valueService")],cv.prototype,"valueService",2);x([V("columnModel")],cv.prototype,"columnModel",2);x([Me],cv.prototype,"init",1);cv=x([We("rowNodeSorter")],cv);var Ip=class extends Pe{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const t=this.createReadyParams();this.readyCallbacks.forEach(e=>e(t)),this.readyCallbacks.length=0}}whenReady(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(t){this.fakeHScrollComp=t,this.checkReady()}registerFakeVScrollComp(t){this.fakeVScrollComp=t,this.checkReady()}registerGridHeaderCtrl(t){this.gridHeaderCtrl=t,this.checkReady()}registerCenterRowContainerCtrl(t){this.centerRowContainerCtrl=t,this.checkReady()}registerLeftRowContainerCtrl(t){this.leftRowContainerCtrl=t,this.checkReady()}registerRightRowContainerCtrl(t){this.rightRowContainerCtrl=t,this.checkReady()}registerTopCenterRowContainerCtrl(t){this.topCenterRowContainerCtrl=t,this.checkReady()}registerTopLeftRowContainerCon(t){this.topLeftRowContainerCtrl=t,this.checkReady()}registerTopRightRowContainerCtrl(t){this.topRightRowContainerCtrl=t,this.checkReady()}registerStickyTopCenterRowContainerCtrl(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()}registerStickyTopLeftRowContainerCon(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()}registerStickyTopRightRowContainerCtrl(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()}registerBottomCenterRowContainerCtrl(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()}registerBottomLeftRowContainerCtrl(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()}registerBottomRightRowContainerCtrl(t){this.bottomRightRowContainerCtrl=t,this.checkReady()}registerHeaderContainer(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t;break}this.checkReady()}registerGridBodyCtrl(t){this.gridBodyCtrl=t,this.checkReady()}registerGridCtrl(t){this.gridCtrl=t,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};Ip.NAME="ctrlsService";Ip=x([We(Ip.NAME)],Ip);var G1=class extends Pe{constructor(){super(...arguments),this.registry={}}register(t){this.registry[t.controllerName]=t.controllerClass}getInstance(t){const e=this.registry[t];if(e!=null)return new e}};G1=x([We("ctrlsFactory")],G1);var Zf=class extends Et{constructor(t,e){super(t),this.direction=e,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",S$()||Kc())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=E$(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const t=["mouseenter","mousedown","touchstart"],e=["mouseleave","touchend"],i=this.getGui();t.forEach(r=>this.addManagedListener(i,r,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),e.forEach(r=>this.addManagedListener(i,r,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL,t=>{t.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(t){const e=this.getViewport();a$(()=>Wo(e),()=>this.setScrollPosition(t),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedListener(this.getViewport(),"scroll",t)}};x([ke("eViewport")],Zf.prototype,"eViewport",2);x([ke("eContainer")],Zf.prototype,"eContainer",2);x([V("scrollVisibleService")],Zf.prototype,"scrollVisibleService",2);x([V("ctrlsService")],Zf.prototype,"ctrlsService",2);x([V("animationFrameService")],Zf.prototype,"animationFrameService",2);var Jf=class hre extends Zf{constructor(){super(hre.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,F.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new rC(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const r=!this.enableRtl&&e,n=this.gridOptionsService.getScrollbarWidth();r&&(i+=n),Ma(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=n);let s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=n),Ma(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),n=e&&this.gridOptionsService.getScrollbarWidth()||0,o=r?0:n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Ap(this.getGui(),o),Ap(this.eViewport,o),Ap(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Ew(this.getViewport(),this.enableRtl)}setScrollPosition(e){Wo(this.getViewport())||this.attemptSettingScrollPosition(e),bw(this.getViewport(),e,this.enableRtl)}};Jf.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;x([ke("eLeftSpacer")],Jf.prototype,"eLeftSpacer",2);x([ke("eRightSpacer")],Jf.prototype,"eRightSpacer",2);x([V("columnModel")],Jf.prototype,"columnModel",2);x([V("pinnedRowModel")],Jf.prototype,"pinnedRowModel",2);x([Me],Jf.prototype,"postConstruct",1);var yIe=Jf,Nw=class extends Pe{postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:F.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:F.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};x([V("columnModel")],Nw.prototype,"columnModel",2);x([Me],Nw.prototype,"postConstruct",1);Nw=x([We("pinnedWidthService")],Nw);var dv=class extends Pe{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);const e=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(e)),this.dispatchExpandedDebounced()}};x([V("animationFrameService")],dv.prototype,"animationFrameService",2);x([V("rowModel")],dv.prototype,"rowModel",2);x([Me],dv.prototype,"postConstruct",1);dv=x([We("rowNodeEventThrottle")],dv);var SIe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},fd=(t,e)=>{var i;return((i=e.rowModelType)!=null?i:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},wIe={enableRowGroup:fd,rowGroup:fd,rowGroupIndex:fd,enablePivot:fd,enableValue:fd,pivot:fd,pivotIndex:fd,aggFunc:fd,cellEditor:t=>t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var e;const i=["columnsMenuTab","generalMenuTab"];return(e=t.menuTabs)!=null&&e.some(r=>i.includes(r))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>sm},sm={objectName:"colDef",allProperties:aFe.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:SIe,validations:wIe},EIe={enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."}},bIe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,pivotMaxGeneratedColumns:-1},RIe={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:t=>{var e;const i=(e=t.rowModelType)!=null?e:"clientSide";switch(i){case"clientSide":const r=`treeData requires 'getDataPath' in the ${i} row model.`;return t.getDataPath?null:r;case"serverSide":const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:n}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:t=>{var e;switch((e=t.rowModelType)!=null?e:"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>sm,defaultColDef:()=>sm,defaultColGroupDef:()=>sm,autoGroupColumnDef:()=>sm},TIe={objectName:"gridOptions",allProperties:[...Ou.ALL_PROPERTIES,...dx.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:EIe,validations:RIe},si=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Ll,this.globalEventHandlerFactory=t=>(e,i)=>{if(this.destroyed)return;const r=OD.has(e);if(r&&!t||!r&&t)return;const n=dx.getCallbackForEvent(e),s=this.gridOptions[n];typeof s=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{s(i)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new nv(this.api);const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(t){var e;return(e=this.gridOptions[t])!=null?e:bIe[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return Te(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(i=>{const r=i;return r.api=this.api,r.columnApi=this.columnApi,r.context=this.context,t(r)})}static toBoolean(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1}static toNumber(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=parseInt(t);return isNaN(e)?void 0:e}}static toConstrainedNum(t,e){return i=>{const r=si.toNumber(i);if(!(r==null||r<t||r>e))return r}}static getCoercedValue(t,e){const i=si.PROPERTY_COERCIONS.get(t);return i?i(e):e}static getCoercedGridOptions(t){const e={};return Object.entries(t).forEach(([i,r])=>{const n=si.getCoercedValue(i,r);e[i]=n}),e}updateGridOptions({options:t,source:e="api"}){const i={id:si.changeSetId++,properties:[]},r=[];Object.entries(t).forEach(([n,s])=>{e==="api"&&iMe[n]&&ct(`${n} is an initial property and cannot be updated.`);const o=si.getCoercedValue(n,s),a=typeof o=="object"&&e==="api",l=this.gridOptions[n];if(a||l!==o){this.gridOptions[n]=o;const u={type:n,currentValue:o,previousValue:l,changeSet:i,source:e};r.push(u)}}),this.validationService.processGridOptions(this.gridOptions),i.properties=r.map(n=>n.type),r.forEach(n=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${n.type} from `,n.previousValue," to  ",n.currentValue),this.propertyEventService.dispatchEvent(n)})}addEventListener(t,e){this.propertyEventService.addEventListener(t,e)}removeEventListener(t,e){this.propertyEventService.removeEventListener(t,e)}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ate();e!=null&&(this.scrollbarWidth=e,this.eventService.dispatchEvent({type:F.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&ht(this.gridOptions.rowModelType)}isDomLayout(t){var e;return((e=this.gridOptions.domLayout)!=null?e:"normal")===t}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(t,e=!1,i){if(i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:i,estimated:!0};const n={node:t,data:t.data},s=this.getCallback("getRowHeight")(n);if(this.isNumeric(s))return s===0&&ct("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}return t.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||ht(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)}getDomDataKey(){return this.domDataKey}getDomData(t,e){const i=t[this.getDomDataKey()];return i?i[e]:void 0}setDomData(t,e,i){const r=this.getDomDataKey();let n=t[r];ht(n)&&(n={},t[r]=n),n[e]=i}getDocument(){let t=null;return this.gridOptions.getDocument&&Te(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&Te(t)?t:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return Te(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const t=this.gridOptions.autoGroupColumnDef;return!(t!=null&&t.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(t===!0)return()=>!0}isGroupIncludeFooterTrueOrCallback(){const t=this.gridOptions.groupIncludeFooter;return t===!0||typeof t=="function"}getGroupIncludeFooter(){const t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):t===!0?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(t){return t?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(t){const e=t;return e.api=this.api,e.columnApi=this.columnApi,e.context=this.context,e}};si.PROPERTY_COERCIONS=new Map([...Ou.BOOLEAN_PROPERTIES.map(t=>[t,si.toBoolean]),...Ou.NUMBER_PROPERTIES.map(t=>[t,si.toNumber]),["groupAggFiltering",t=>typeof t=="function"?t:si.toBoolean(t)],["pageSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",si.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",si.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",si.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",si.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",si.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",si.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",si.toConstrainedNum(0,Number.MAX_VALUE)]]);si.changeSetId=0;x([V("gridOptions")],si.prototype,"gridOptions",2);x([V("eventService")],si.prototype,"eventService",2);x([V("environment")],si.prototype,"environment",2);x([V("frameworkOverrides")],si.prototype,"frameworkOverrides",2);x([V("eGridDiv")],si.prototype,"eGridDiv",2);x([V("validationService")],si.prototype,"validationService",2);x([V("gridApi")],si.prototype,"api",2);x([Me],si.prototype,"init",1);x([As],si.prototype,"destroy",1);si=x([We("gridOptionsService")],si);var k1=class extends Pe{getLocaleTextFunc(){const t=this.gridOptionsService.getCallback("getLocaleText");if(t)return(i,r,n)=>t({key:i,defaultValue:r,variableValues:n});const e=this.gridOptionsService.get("localeText");return(i,r,n)=>{let s=e&&e[i];if(s&&n&&n.length){let o=0;for(;!(o>=n.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",n[o++])}return s??r}}};k1=x([We("localeService")],k1);var nB=class pre extends Zf{constructor(){super(pre.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new NO(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,F.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,n=r===0&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Ma(this.getGui(),n),Ma(this.eViewport,n),Ma(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,r=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),s=r.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e,i){!i&&!Wo(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};nB.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;x([Me],nB.prototype,"postConstruct",1);var DIe=nB,UK={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},zK=["january","february","march","april","may","june","july","august","september","october","november","december"],Dc=class extends Pe{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",t=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(nm(t.source))})}processDataTypeDefinitions(){var t;const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(e).forEach(([r,n])=>{this.dataTypeDefinitions[r]=Ui(it({},n),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)})});const i=(t=this.gridOptionsService.get("dataTypeDefinitions"))!=null?t:{};this.dataTypeMatchers={},Object.entries(i).forEach(([r,n])=>{const s=this.processDataTypeDefinition(n,i,[r],e);s&&(this.dataTypeDefinitions[r]=s,n.dataTypeMatcher&&(this.dataTypeMatchers[r]=n.dataTypeMatcher))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(r=>{const n=this.dataTypeMatchers[r];n&&delete this.dataTypeMatchers[r],this.dataTypeMatchers[r]=n??e[r].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){const i=it(it({},t),e);return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(t.columnTypes),...this.convertColumnTypes(e.columnTypes)]),i}processDataTypeDefinition(t,e,i,r){let n;const s=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){let o=r[s];const a=e[s];if(o&&a&&(o=a),!this.validateDataTypeDefinition(t,o,s))return;n=this.mergeDataTypeDefinitions(o,t)}else{if(i.includes(s)){ct('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=e[s];if(!this.validateDataTypeDefinition(t,o,s))return;const a=this.processDataTypeDefinition(o,e,[...i,s],r);if(!a)return;n=this.mergeDataTypeDefinitions(a,t)}return Ui(it({},n),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)})}validateDataTypeDefinition(t,e,i){return e?e.baseDataType!==t.baseDataType?(ct('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ct(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{var i,r;if((i=e.node)!=null&&i.group){const n=e.column.getAggFunc();if(n){if(n==="first"||n==="last")return t.valueFormatter(e);if(t.baseDataType==="number"&&n!=="count"){if(typeof e.value=="number")return t.valueFormatter(e);if(typeof e.value=="object"){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter(Ui(it({},e),{value:e.value.toNumber()}));if("value"in e.value)return t.valueFormatter(Ui(it({},e),{value:e.value.value}))}}}if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()){if(typeof e.value!="string"||(r=t.dataTypeMatcher)!=null&&r.call(t,e.value))return t.valueFormatter(e);if(!this.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(e)}}updateColDefAndGetDataTypeDefinitionColumnType(t,e,i){let{cellDataType:r}=e;const{field:n}=e;if(r===void 0&&(r=t.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(t,e)?this.inferCellDataType(n,i):!1),!r){t.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){ct(`Missing data type definition - "${r}"`);return}return t.cellDataType=r,s.groupSafeValueFormatter&&(t.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(t.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,s,i),s.columnTypes}updateColDefAndGetColumnType(t,e,i){var r,n;const s=this.updateColDefAndGetDataTypeDefinitionColumnType(t,e,i),o=(n=(r=e.type)!=null?r:s)!=null?n:t.type;return t.type=o,o?this.convertColumnTypes(o):void 0}addColumnListeners(t){if(!this.isWaitingForRowData)return;const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;const i=r=>{e.add(r.key)};t.addEventListener(yi.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener(yi.EVENT_STATE_UPDATED,i))}canInferCellDataType(t,e){var i;if(this.rowModel.getType()!=="clientSide")return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,r))return!1;const n=e.type===null?t.type:e.type;if(n){const s=(i=this.gridOptionsService.get("columnTypes"))!=null?i:{};if(this.convertColumnTypes(n).some(a=>{const l=s[a.trim()];return l&&this.doColDefPropsPreventInference(l,r)}))return!1}return!this.doColDefPropsPreventInference(t,r)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,r])=>this.doesColDefPropPreventInference(t,e,i,r))}doesColDefPropPreventInference(t,e,i,r){if(!e[i])return!1;const n=t[i];return n===null?(e[i]=!1,!1):r===void 0?!!n:n===r}inferCellDataType(t,e){var i;if(!t)return;let r;const n=this.getInitialData();if(n){const o=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");r=wm(n,t,o)}else this.initWaitForRowData(e);if(r==null)return;const[s]=(i=Object.entries(this.dataTypeMatchers).find(([o,a])=>a(r)))!=null?i:["object"];return s}getInitialData(){const t=this.gridOptionsService.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e!=null&&e.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();const i=this.addManagedListener(this.eventService,F.EVENT_ROW_DATA_UPDATE_STARTED,r=>{const{firstRowData:n}=r;if(!n)return;i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(n,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations();const s={type:F.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(s)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;const i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(s=>s()),this.columnStateUpdateListenerDestroyFuncs=[];const r={},n={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{const a=this.columnModel.getGridColumn(s);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(e&&u.type&&u.type!==l.type){const c=this.getUpdatedColumnState(a,o);c.rowGroup&&c.rowGroupIndex==null&&(r[s]=c),c.pivot&&c.pivotIndex==null&&(n[s]=c),i.push(c)}}),e&&i.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(r,n)),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){const i=this.columnModel.getColumnStateFromColDef(t);return e.forEach(r=>{delete i[r],r==="rowGroup"?delete i.rowGroupIndex:r==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=e.valueParser!==i.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==i.valueFormatter}convertColumnTypes(t){let e=[];return t instanceof Array?t.some(r=>typeof r!="string")?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:typeof t=="string"?e=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),e}getDateStringTypeDefinition(t){var e;return t?(e=this.getDataTypeDefinition(t))!=null?e:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){const e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){var e;return(e=this.getDataTypeDefinition(t))==null?void 0:e.baseDataType}checkType(t,e){var i;if(e==null)return!0;const r=(i=this.getDataTypeDefinition(t))==null?void 0:i.dataTypeMatcher;return r?r(e):!0}validateColDef(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&ct('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&ct('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(t,e,i){const r=(a,l,u)=>{let c=a.getColDef().valueFormatter;return c===e.groupSafeValueFormatter&&(c=e.valueFormatter),this.valueFormatterService.formatValue(a,l,u,c)},n=ei.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),s=this.localeService.getLocaleTextFunc(),o=a=>{const{filterParams:l}=t;t.filterParams=typeof l=="object"?it(it({},l),a):a};switch(e.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",n&&o({comparator:(a,l)=>{const u=a==null?0:parseInt(a),c=l==null?0:parseInt(l);return u===c?0:u>c?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===de.SPACE,o(n?{valueFormatter:a=>Te(a.value)?s(String(a.value),a.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,l)=>l===!1,numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=a=>r(a.column,a.node,a.value),n&&o({valueFormatter:a=>{const l=r(a.column,a.node,a.value);return Te(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=zK[Number(a)-1];return s(u,UK[u])}return a??s("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=l=>r(l.column,l.node,l.value);const a=e.dateParser;o(n?{valueFormatter:l=>{const u=r(l.column,l.node,l.value);return Te(u)?u:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const u=a(l??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(l,u)=>{if(u===1&&l!=null){const c=zK[Number(l)-1];return s(c,UK[c])}return l??s("blanks","(Blanks)")}}:{comparator:(l,u)=>{const c=a(u);return u==null||c<l?-1:c>l?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=(a,l)=>{const u=this.columnModel.getPrimaryColumn(i),c=u==null?void 0:u.getColDef();if(!u||!c)return 0;const d=a==null?"":r(u,null,a),h=l==null?"":r(u,null,l);return d===h?0:d>h?1:-1},t.keyCreator=a=>r(a.column,a.node,a.value),n?o({valueFormatter:a=>{const l=r(a.column,a.node,a.value);return Te(l)?l:s("blanks","(Blanks)")}}):t.filterValueGetter=a=>r(a.column,a.node,this.valueService.getValue(a.column,a.node));break}}}getDefaultDataTypes(){const t=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var r,n;return((n=(r=i.newValue)==null?void 0:r.trim)==null?void 0:n.call(r))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?e("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:vw(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var r,n;return i.newValue==null?i.newValue:((n=(r=i.newValue)==null?void 0:r.trim)==null?void 0:n.call(r))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>qs(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>{var r;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?e("invalidDate","Invalid Date"):(r=Oa(i.value,!1))!=null?r:""},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var r;return(r=qs(i))!=null?r:void 0},dateFormatter:i=>{var r;return(r=Oa(i??null,!1))!=null?r:void 0},valueParser:i=>t(String(i.newValue))?i.newValue:null,valueFormatter:i=>t(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&t(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var r;return(r=vw(i.value))!=null?r:""}}}}};x([V("rowModel")],Dc.prototype,"rowModel",2);x([V("columnModel")],Dc.prototype,"columnModel",2);x([V("columnUtils")],Dc.prototype,"columnUtils",2);x([V("valueService")],Dc.prototype,"valueService",2);x([V("valueFormatterService")],Dc.prototype,"valueFormatterService",2);x([Me],Dc.prototype,"init",1);Dc=x([We("dataTypeService")],Dc);var Rx=class extends Pe{parseValue(t,e,i,r){const n=t.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:e,data:e==null?void 0:e.data,oldValue:r,newValue:i,colDef:n,column:t}),o=n.valueParser;return Te(o)?typeof o=="function"?o(s):this.expressionService.evaluate(o,s):i}};x([V("expressionService")],Rx.prototype,"expressionService",2);Rx=x([We("valueParserService")],Rx);var af=class extends Pe{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",t=>this.setColumnDefs(t))}start(){this.ctrlsService.whenReady(()=>{const t=this.gridOptionsService.get("columnDefs");t?this.setColumnsAndData(t):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const t=ei.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new rB("AG Grid",()=>this.gridOptionsService.get("debug")).log(`initialised successfully, enterprise = ${t}`)}dispatchGridReadyEvent(){const t={type:F.EVENT_GRID_READY};this.eventService.dispatchEvent(t)}setColumnDefs(t){const e=this.gridOptionsService.get("columnDefs");if(e){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(e);return}this.columnModel.setColumnDefs(e,nm(t.source))}}};x([V("ctrlsService")],af.prototype,"ctrlsService",2);x([V("columnModel")],af.prototype,"columnModel",2);x([V("rowModel")],af.prototype,"rowModel",2);x([Me],af.prototype,"postConstruct",1);af=x([We("syncService")],af);var lf=class extends Pe{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,F.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gridOptionsService.get("suppressLoadingOverlay"))return;const t={},e=this.userComponentFactory.getLoadingOverlayCompDetails(t);this.showOverlay(e,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gridOptionsService.get("suppressNoRowsOverlay"))return;const t={},e=this.userComponentFactory.getNoRowsOverlayCompDetails(t);this.showOverlay(e,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(t,e,i){const r=t.newAgStackInstance(),n=this.addManagedPropertyListener(i,({currentValue:s})=>{r.then(o=>{o.refresh&&o.refresh(this.gridOptionsService.addGridCommonParams(it({},s??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(r,e,n)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};x([V("userComponentFactory")],lf.prototype,"userComponentFactory",2);x([V("paginationProxy")],lf.prototype,"paginationProxy",2);x([V("columnModel")],lf.prototype,"columnModel",2);x([Me],lf.prototype,"postConstruct",1);lf=x([We("overlayService")],lf);var bs=class extends Pe{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Cs(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Cs(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Cs(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var t;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(t=this.gridOptionsService.get("initialState"))!=null?t:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const e=this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,({source:n})=>{n==="gridInitializing"&&(e==null||e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),i=this.addManagedListener(this.eventService,F.EVENT_ROW_COUNT_READY,()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),r=this.addManagedListener(this.eventService,F.EVENT_FIRST_DATA_RENDERED,()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,F.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,F.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var t;const e=(t=this.gridOptionsService.get("initialState"))!=null?t:{};this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,F.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var t;const{filter:e,rowGroupExpansion:i,rowSelection:r,pagination:n}=(t=this.gridOptionsService.get("initialState"))!=null?t:{},s=this.gridOptionsService.get("advancedFilterModel");(e||s)&&this.setFilterState(e,s),i&&this.setRowGroupExpansionState(i),r&&this.setRowSelectionState(r),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,F.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,F.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,F.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,F.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var t;const{scroll:e,rangeSelection:i,focusedCell:r,columnOrder:n}=(t=this.gridOptionsService.get("initialState"))!=null?t:{};r&&this.setFocusedCellState(r),i&&this.setRangeSelectionState(i),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,F.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,F.EVENT_RANGE_SELECTION_CHANGED,s=>{s.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,F.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const t=this.columnModel.isPivotMode(),e=[],i=[],r=[],n=[],s=[],o=[],a=[],l=[],u=[],c=this.columnModel.getColumnState();for(let d=0;d<c.length;d++){const{colId:h,sort:f,sortIndex:g,rowGroup:m,rowGroupIndex:C,aggFunc:S,pivot:y,pivotIndex:w,pinned:E,hide:b,width:D,flex:P}=c[d];u.push(h),f&&(e[g??0]={colId:h,sort:f}),m&&(i[C??0]=h),typeof S=="string"&&r.push({colId:h,aggFunc:S}),y&&(n[w??0]=h),E&&(E==="right"?o:s).push(h),b&&a.push(h),(P||D)&&l.push({colId:h,flex:P??void 0,width:D})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:n.length||t?{pivotMode:t,pivotColIds:n}:void 0,columnPinning:s.length||o.length?{leftColIds:s,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(t){const{sort:e,rowGroup:i,aggregation:r,pivot:n,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l}=t,u={},c=g=>{let m=u[g];return m||(m={colId:g},u[g]=m,m)};e&&e.sortModel.forEach(({colId:g,sort:m},C)=>{const S=c(g);S.sort=m,S.sortIndex=C}),i&&i.groupColIds.forEach((g,m)=>{const C=c(g);C.rowGroup=!0,C.rowGroupIndex=m}),r&&r.aggregationModel.forEach(({colId:g,aggFunc:m})=>{c(g).aggFunc=m}),n&&(n.pivotColIds.forEach((g,m)=>{const C=c(g);C.pivot=!0,C.pivotIndex=m}),this.gridOptionsService.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(g=>{c(g).pinned="left"}),s.rightColIds.forEach(g=>{c(g).pinned="right"})),o&&o.hiddenColIds.forEach(g=>{c(g).hide=!0}),a&&a.columnSizingModel.forEach(({colId:g,flex:m,width:C})=>{const S=c(g);S.flex=m??null,S.width=C});const d=l==null?void 0:l.orderedColIds,h=!!(d!=null&&d.length),f=h?d.map(g=>c(g)):Object.values(u);if(f.length){this.columnStates=f;const g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:f,applyOrder:h,defaultState:g},"gridInitializing")}}setColumnPivotState(t){const e=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(e){let r=[];for(const n of e)this.columnModel.getSecondaryColumn(n.colId)&&r.push(n);this.columnModel.applyColumnState({state:r,applyOrder:t},"gridInitializing")}i&&this.columnModel.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const t=this.columnModel.getColumnGroupState(),e=[];return t.forEach(({groupId:i,open:r})=>{r&&e.push(i)}),e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){var e;if(!t.hasOwnProperty("columnGroup"))return;const i=new Set((e=t.columnGroup)==null?void 0:e.openColumnGroupIds),n=this.columnModel.getColumnGroupState().map(({groupId:s})=>{const o=i.has(s);return o&&i.delete(s),{groupId:s,open:o}});i.forEach(s=>{n.push({groupId:s,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnModel.setColumnGroupState(n,"gridInitializing")}getFilterState(){var t;let e=this.filterManager.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const i=(t=this.filterManager.getAdvancedFilterModel())!=null?t:void 0;return e||i?{filterModel:e,advancedFilterModel:i}:void 0}setFilterState(t,e){const{filterModel:i,advancedFilterModel:r}=t??{advancedFilterModel:e};i&&this.filterManager.setFilterModel(i,"columnFilter"),r&&this.filterManager.setAdvancedFilterModel(r)}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(i=>{const{id:r,type:n,startRow:s,endRow:o,columns:a,startColumn:l}=i;return{id:r,type:n,startRow:s,endRow:o,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setRangeSelectionState(t){var e;if(!this.gridOptionsService.get("enableRangeSelection"))return;const i=t.cellRanges.map(r=>Ui(it({},r),{columns:r.colIds.map(n=>this.columnModel.getGridColumn(n)),startColumn:this.columnModel.getGridColumn(r.startColId)}));(e=this.rangeService)==null||e.setCellRanges(i)}getScrollState(){var t,e,i;if(!this.isClientSideRowModel)return;const r=(t=this.ctrlsService.getGridBodyCtrl())==null?void 0:t.getScrollFeature(),{left:n}=(e=r==null?void 0:r.getHScrollPosition())!=null?e:{left:0},{top:s}=(i=r==null?void 0:r.getVScrollPosition())!=null?i:{top:0};return s||n?{top:s,left:n}:void 0}setScrollState(t){var e;if(!this.isClientSideRowModel)return;const{top:i,left:r}=t;(e=this.ctrlsService.getGridBodyCtrl())==null||e.getScrollFeature().setScrollPosition(i,r)}getSideBarState(){var t,e;return(e=(t=this.sideBarService)==null?void 0:t.getSideBarComp())==null?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const t=this.focusService.getFocusedCell();if(t){const{column:e,rowIndex:i,rowPinned:r}=t;return{colId:e.getColId(),rowIndex:i,rowPinned:r}}}setFocusedCellState(t){if(!this.isClientSideRowModel)return;const{colId:e,rowIndex:i,rowPinned:r}=t;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e),rowIndex:i,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const t=this.paginationProxy.getCurrentPage(),e=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!t&&!e))return{page:t,pageSize:e}}setPaginationState(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationProxy.setPage(t.page)}getRowSelectionState(){var t;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((t=e==null?void 0:e.toggledNodes)!=null&&t.length)?void 0:e}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){const t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){const e=this.getColumnState();let i=!1;Object.entries(e).forEach(([r,n])=>{c1(n,this.cachedState[r])||(i=!0)}),this.cachedState=it(it({},this.cachedState),e),i&&this.dispatchStateUpdateEvent(t)}updateCachedState(t,e){const i=this.cachedState[t];this.setCachedStateValue(t,e),c1(e,i)||this.dispatchStateUpdateEvent([t])}setCachedStateValue(t,e){this.cachedState=Ui(it({},this.cachedState),{[t]:e})}refreshStaleState(){this.staleStateKeys.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){this.suppressEvents||(t.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const e={type:F.EVENT_STATE_UPDATED,sources:t,state:this.cachedState};this.eventService.dispatchEvent(e)}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};x([V("filterManager")],bs.prototype,"filterManager",2);x([Kt("rangeService")],bs.prototype,"rangeService",2);x([V("ctrlsService")],bs.prototype,"ctrlsService",2);x([Kt("sideBarService")],bs.prototype,"sideBarService",2);x([V("focusService")],bs.prototype,"focusService",2);x([V("columnModel")],bs.prototype,"columnModel",2);x([V("paginationProxy")],bs.prototype,"paginationProxy",2);x([V("rowModel")],bs.prototype,"rowModel",2);x([V("selectionService")],bs.prototype,"selectionService",2);x([V("expansionService")],bs.prototype,"expansionService",2);x([V("columnAnimationService")],bs.prototype,"columnAnimationService",2);x([Me],bs.prototype,"postConstruct",1);bs=x([We("stateService")],bs);var Gw=class extends Pe{init(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,TIe)}processColumnDefs(t){this.processOptions(t,sm)}processOptions(t,e){const{validations:i,deprecations:r,allProperties:n,propertyExceptions:s,objectName:o,docsUrl:a}=e;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,[...s??[],...Object.keys(r)],n,o,a);const l=new Set;Object.keys(t).forEach(c=>{var d;const h=r[c];if(h)if("renamed"in h){const{renamed:w,version:E}=h;l.add(`As of v${E}, ${String(c)} is deprecated. Please use ${String(w)} instead.`),t[w]=t[c]}else{const{message:w,version:E}=h;l.add(`As of v${E}, ${String(c)} is deprecated. ${w??""}`)}const f=t[c];if(f==null||f===!1)return;const g=i[c];let m;if(g)if(typeof g=="function"){const w=g(t,this.gridOptions);if(!w)return;if("objectName"in w){const E=t[c];if(Array.isArray(E)){E.forEach(b=>{this.processOptions(b,w)});return}this.processOptions(t[c],w);return}m=w}else m=g;else return;const{module:C,dependencies:S,supportedRowModels:y}=m;if(y){const w=(d=this.gridOptions.rowModelType)!=null?d:"clientSide";if(!y.includes(w)){l.add(`${String(c)} is not supported with the '${w}' row model.`);return}}if(C){const w=Array.isArray(C)?C:[C];let E=!0;if(w.forEach(b=>{ei.__assertRegistered(b,String(c),this.context.getGridId())||(E=!1,l.add(`${String(c)} is only available when ${b} is loaded.`))}),!E)return}if(S){const w=this.checkForWarning(c,S,t);if(w){l.add(w);return}}}),l.size>0&&l.forEach(c=>{ct(c)})}checkForWarning(t,e,i){if(typeof e=="function")return e(i,this.gridOptions);const n=Object.entries(e).find(([a,l])=>{const u=i[a];return!l.includes(u)});if(!n)return null;const[s,o]=n;return o.length>1?`'${String(t)}' requires '${s}' to be one of [${o.join(", ")}].`:`'${String(t)}' requires '${s}' to be ${o[0]}.`}checkProperties(t,e,i,r,n){const s=["__ob__","__v_skip","__metadata__"],o=Wte(Object.getOwnPropertyNames(t),[...s,...e,...i],i);if(Jn(o,(a,l)=>{ct(`invalid ${r} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&n){const a=this.getFrameworkOverrides().getDocLink(n);ct(`to see all the valid ${r} properties please check: ${a}`)}}};x([V("gridOptions")],Gw.prototype,"gridOptions",2);x([Me],Gw.prototype,"init",1);Gw=x([We("validationService")],Gw);var Tx=class extends Pe{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new l$(this.getFrameworkOverrides())}addEventListener(t,e){const i=this.frameworkEventWrappingService.wrap(e),r=this.gridOptionsService.useAsyncEvents()&&!OD.has(t),n=r?this.asyncEventListeners:this.syncEventListeners;n.has(t)||n.set(t,new Set),n.get(t).add(i),this.eventService.addEventListener(t,i,r)}removeEventListener(t,e){var i;const r=this.frameworkEventWrappingService.unwrap(e),n=this.asyncEventListeners.get(t),s=!!(n!=null&&n.delete(r));s||(i=this.syncEventListeners.get(t))==null||i.delete(r),this.eventService.removeEventListener(t,r,s)}addGlobalListener(t){const e=this.frameworkEventWrappingService.wrapGlobal(t);if(this.gridOptionsService.useAsyncEvents()){const r=(s,o)=>{OD.has(s)&&e(s,o)},n=(s,o)=>{OD.has(s)||e(s,o)};this.globalEventListenerPairs.set(t,{syncListener:r,asyncListener:n}),this.eventService.addGlobalListener(r,!1),this.eventService.addGlobalListener(n,!0)}else this.syncGlobalEventListeners.add(e),this.eventService.addGlobalListener(e,!1)}removeGlobalListener(t){const e=this.frameworkEventWrappingService.unwrapGlobal(t);if(this.globalEventListenerPairs.has(e)){const{syncListener:r,asyncListener:n}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(r,!1),this.eventService.removeGlobalListener(n,!0),this.globalEventListenerPairs.delete(t)}else this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,!1)}destroyEventListeners(t,e){t.forEach((i,r)=>{i.forEach(n=>this.eventService.removeEventListener(r,n,e)),i.clear()}),t.clear()}destroyGlobalListeners(t,e){t.forEach(i=>this.eventService.removeGlobalListener(i,e)),t.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(e,!0)}),this.globalEventListenerPairs.clear()}};x([Me],Tx.prototype,"postConstruct",1);Tx=x([We("apiEventService")],Tx);var Kb=class extends Et{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const t=this.selectPageSizeComp.getValue();if(!t)return;const e=Number(t);isNaN(e)||e<1||e===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(e,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,F.EVENT_PAGINATION_CHANGED,t=>this.handlePaginationChanged(t))}handlePaginationChanged(t){if(!this.selectPageSizeComp||!(t!=null&&t.newPageSize))return;const e=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){Lr(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const t=this.getPageSizeSelectorValues(),e=this.paginationProxy.getPageSize(),i=!e||!t.includes(e);i&&(t.unshift(""),ct(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const r=this.localeService.getLocaleTextFunc(),n=r("pageSizeSelectorLabel","Page Size:"),s=t.map(a=>({value:String(a),text:String(a)})),o=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new AO).addOptions(s).setValue(String(i?"":e)).setAriaLabel(o).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=i}getPageSizeSelectorValues(){const t=[20,50,100],e=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(e)||!this.validateValues(e)?t:[...e].sort((i,r)=>i-r)}validateValues(t){if(!t.length)return ct(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let e=0;e<t.length;e++){const i=t[e],r=typeof i=="number",n=i>0;if(!r)return ct(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!n)return ct(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};x([V("localeService")],Kb.prototype,"localeService",2);x([V("gridOptionsService")],Kb.prototype,"gridOptionsService",2);x([V("paginationProxy")],Kb.prototype,"paginationProxy",2);x([Me],Kb.prototype,"init",1);var kw=class extends Pe{constructor(){super(),this.descriptionContainer=null,this.announceValue=Cs(this.announceValue.bind(this),200)}postConstruct(){const t=this.gridOptionsService.getDocument(),e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container"),h$(e,"polite"),mte(e,"additions text"),gte(e,!0),this.eGridDiv.appendChild(e)}announceValue(t){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=t)},50))}destroy(){super.destroy();const{descriptionContainer:t}=this;t&&(Lr(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null}};x([V("eGridDiv")],kw.prototype,"eGridDiv",2);x([Me],kw.prototype,"postConstruct",1);kw=x([We("ariaAnnouncementService")],kw);var PIe=1,xIe=class{create(t,e,i,r,n){var s;const o=!!e.debug,a=(s=e.gridId)!=null?s:String(PIe++),l=this.getRegisteredModules(n,a),u=this.createBeansList(e.rowModelType,l,a),c=this.createProvidedBeans(t,e,n);if(!u){up("Failed to create grid.");return}const d={providedBeanInstances:c,beanClasses:u,debug:o,gridId:a},h=new rB("Context",()=>d.debug),f=new $Oe(d,h),g=f.getBean("beans");return this.registerModuleUserComponents(g,l),this.registerStackComponents(g,l),this.registerControllers(g,l),i(f),g.syncService.start(),r&&r(f),g.gridApi}registerControllers(t,e){e.forEach(i=>{i.controllers&&i.controllers.forEach(r=>t.ctrlsFactory.register(r))})}registerStackComponents(t,e){const i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(t,e){const i=t?t.modules:null,r=ei.__getRegisteredModules(e),n=[],s={},o=(a,l,u)=>{(d=>{s[d.moduleName]||(s[d.moduleName]=!0,n.push(d),ei.__register(d,a,u))})(l),l.dependantModules&&l.dependantModules.forEach(d=>o(a,d,u))};return i&&i.forEach(a=>o(!0,a,e)),r&&r.forEach(a=>o(!ei.__isPackageBased(),a,void 0)),n}registerModuleUserComponents(t,e){this.extractModuleEntity(e,r=>r.userComponents?r.userComponents:[]).forEach(r=>{t.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})}createProvidedBeans(t,e,i){let r=i?i.frameworkOverrides:null;ht(r)&&(r=new lre);const n={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:r};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createAgStackComponentsList(t){let e=[{componentName:"AgCheckbox",componentClass:OO},{componentName:"AgRadioButton",componentClass:aie},{componentName:"AgToggleButton",componentClass:ire},{componentName:"AgInputTextField",componentClass:Wf},{componentName:"AgInputTextArea",componentClass:JFe},{componentName:"AgInputNumberField",componentClass:H$},{componentName:"AgInputDateField",componentClass:eIe},{componentName:"AgInputRange",componentClass:tIe},{componentName:"AgRichSelect",componentClass:tB},{componentName:"AgSelect",componentClass:AO},{componentName:"AgSlider",componentClass:rIe},{componentName:"AgGridBody",componentClass:Hu},{componentName:"AgHeaderRoot",componentClass:XFe},{componentName:"AgSortIndicator",componentClass:B$},{componentName:"AgPagination",componentClass:uo},{componentName:"AgPageSizeSelector",componentClass:Kb},{componentName:"AgOverlayWrapper",componentClass:CIe},{componentName:"AgGroupComponent",componentClass:nIe},{componentName:"AgRowContainer",componentClass:nC},{componentName:"AgFakeHorizontalScroll",componentClass:yIe},{componentName:"AgFakeVerticalScroll",componentClass:DIe},{componentName:"AgAutocomplete",componentClass:cIe}];const i=this.extractModuleEntity(t,r=>r.agStackComponents?r.agStackComponents:[]);return e=e.concat(i),e}createBeansList(t="clientSide",e,i){const r=e.filter(l=>!l.rowModel||l.rowModel===t),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[t]){up("Could not find row model for rowModelType = "+t);return}if(!ei.__assertRegistered(n[t],`rowModelType = '${t}'`,i))return;const s=[Ct,uv,_1,Lw,sv,It,Tw,bx,Fw,A1,th,av,Pw,k1,Gw,Aw,Dw,v1,Ll,si,Tc,sf,ka,ln,tf,Ow,Uo,Sx,Qm,I1,nf,is,Ex,nh,wx,m1,rf,ih,Rt,nv,vi,cc,Iw,rh,Cx,yx,iv,of,L1,Mw,lv,yw,ov,rv,Va,C1,N1,_w,Fu,cv,Ip,Nw,dv,G1,Dc,Rx,Qs,af,lf,bs,xw,Tx,kw,Gl],o=this.extractModuleEntity(r,l=>l.beans?l.beans:[]);s.push(...o);const a=[];return s.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(t,e){return[].concat(...t.map(e))}},AIe=class{wrap(t,e,i=[],r){const n=this.createWrapper(t,r);return e.forEach(s=>{this.createMethod(n,s,!0)}),i.forEach(s=>{this.createMethod(n,s,!1)}),n}unwrap(t){return t}createMethod(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))}createMethodProxy(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}},hC=typeof global>"u"?{}:global;hC.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;hC.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;hC.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;hC.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;hC.Node=typeof Node>"u"?{}:Node;hC.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var sB=class Qy{constructor(e,i,r,n,s,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=i,this.eventService=r,this.columnModel=n,this.beans=o,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Qy.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return ft.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const i=this.rootNode,r=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map(n=>this.createNode(n,this.rootNode,Qy.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=i.childrenAfterFilter,r.childrenAfterGroup=i.childrenAfterGroup,r.childrenAfterAggFilter=i.childrenAfterAggFilter,r.childrenAfterSort=i.childrenAfterSort,r.childrenMapped=i.childrenMapped,r.allLeafChildren=i.allLeafChildren)}updateRowData(e,i){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const r={remove:[],update:[],add:[]},n=[];return this.executeRemove(e,r,n),this.executeUpdate(e,r,n),this.executeAdd(e,r),this.updateSelection(n,"rowDataChanged"),i&&ft.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),r}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){const i={type:F.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(i)}updateSelection(e,i){const r=e.length>0;if(r&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),r){const n={type:F.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(n)}}executeAdd(e,i){var r;const{add:n,addIndex:s}=e;if(ft.missingOrEmpty(n))return;const o=n.map(a=>this.createNode(a,this.rootNode,Qy.TOP_LEVEL));if(typeof s=="number"&&s>=0){const{allLeafChildren:a}=this.rootNode,l=a.length;let u=s;if(this.gridOptionsService.get("treeData")&&s>0&&l>0){for(let f=0;f<l;f++)if(((r=a[f])==null?void 0:r.rowIndex)==s-1){u=f+1;break}}const d=a.slice(0,u),h=a.slice(u,a.length);this.rootNode.allLeafChildren=[...d,...o,...h]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=o}executeRemove(e,i,r){const{remove:n}=e;if(ft.missingOrEmpty(n))return;const s={};n.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.isSelected()&&r.push(a),a.clearRowTopAndRowIndex(),s[a.id]=!0,delete this.allNodesMap[a.id],i.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(o=>!s[o.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,i,r){const{update:n}=e;ft.missingOrEmpty(n)||n.forEach(s=>{const o=this.lookupRowNode(s);o&&(o.updateData(s),!o.selectable&&o.isSelected()&&r.push(o),this.setMasterForRow(o,s,Qy.TOP_LEVEL,!1),i.update.push(o))})}lookupRowNode(e){const i=this.gridOptionsService.getCallback("getRowId");let r;if(i){const n=i({data:e,level:0});if(r=this.allNodesMap[n],!r)return console.error(`AG Grid: could not find row id=${n}, data item was not found for this id`),null}else if(r=this.rootNode.allLeafChildren.find(n=>n.data===e),!r)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null}createNode(e,i,r){const n=new Ot(this.beans);n.group=!1,this.setMasterForRow(n,e,r,!0);const s=this.gridOptionsService.get("suppressParentsInRowNodes");return i&&!s&&(n.parent=i),n.level=r,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn(`AG Grid: duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,i,r,n){if(this.gridOptionsService.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){const a=this.gridOptionsService.get("isRowMaster");a?e.setMaster(a(i)):e.setMaster(!0)}else e.setMaster(!1);if(n){const a=this.columnModel.getRowGroupColumns(),l=a?a.length:0,u=r+l;e.expanded=e.master?this.isExpanded(u):!1}}}isExpanded(e){const i=this.gridOptionsService.get("groupDefaultExpanded");return i===-1?!0:e<i}};sB.TOP_LEVEL=0;sB.ROOT_NODE_ID="ROOT_NODE_ID";var OIe=sB,rs=class extends Pe{constructor(){super(...arguments),this.onRowHeightChanged_debounced=ft.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const t=this.refreshModel.bind(this,{step:"group"}),e=!this.gridOptionsService.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,F.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,F.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,F.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,F.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new Ot(this.beans),this.nodeManager=new OIe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const t=new Set(["treeData","masterDetail"]),e=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),r=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),n=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),l=[...t,...e,...i,...r,...r,...n,...s,...o,...a];this.addManagedPropertyListeners(l,u=>{var c;const d=(c=u.changeSet)==null?void 0:c.properties;if(!d)return;const h=f=>d.some(g=>f.has(g));if(h(t)){this.setRowData(this.rootNode.allLeafChildren.map(f=>f.data));return}if(h(e)){this.refreshModel({step:"group"});return}if(h(i)){this.refreshModel({step:"filter"});return}if(h(r)){this.refreshModel({step:"pivot"});return}if(h(n)){this.refreshModel({step:"aggregate"});return}if(h(s)){this.refreshModel({step:"sort"});return}if(h(o)){this.refreshModel({step:"filter_aggregates"});return}h(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))}ensureRowHeightsValid(t,e,i,r){let n,s=!1;do{n=!1;const o=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(o,i),u=Math.min(a,r);for(let c=l;c<=u;c++){const d=this.getRow(c);if(d.rowHeightEstimated){const h=this.gridOptionsService.getRowHeightForNode(d);d.setRowHeight(h.height),n=!0,s=!0}}n&&this.setRowTopAndRowIndex()}while(n);return s}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const i=new Set,r=this.gridOptionsService.isDomLayout("normal");for(let n=0;n<this.rowsToDisplay.length;n++){const s=this.rowsToDisplay[n];if(s.id!=null&&i.add(s.id),s.rowHeight==null){const o=this.gridOptionsService.getRowHeightForNode(s,r,t);s.setRowHeight(o.height,o.estimated)}s.setRowTop(e),s.setRowIndex(n),e+=s.rowHeight}return i}clearRowTopAndRowIndex(t,e){const i=t.isActive(),r=s=>{s&&s.id!=null&&!e.has(s.id)&&s.clearRowTopAndRowIndex()},n=s=>{if(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup){const o=s.level==-1;i&&!o&&!s.expanded||s.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(t,e,i=0){const r=this.getRowIndexAtPixel(e),n=this.getRow(r),s=!this.gridOptionsService.get("suppressAnimationFrame");return n===t[0]?!1:(t.forEach(o=>{ft.removeFromArray(this.rootNode.allLeafChildren,o)}),t.forEach((o,a)=>{ft.insertIntoArray(this.rootNode.allLeafChildren,o,Math.max(r+i,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(t,e){const i=e!=null?this.getRowIndexAtPixel(e):null,r=i!=null?this.getRow(i):null;if(!r||!t||r===t||e==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const n=this.getHighlightPosition(e,r);this.lastHighlightedRow&&this.lastHighlightedRow!==r&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),r.setHighlighted(n),this.lastHighlightedRow=r}getHighlightPosition(t,e){if(!e){const n=this.getRowIndexAtPixel(t);if(e=this.getRow(n||0),!e)return 1}const{rowTop:i,rowHeight:r}=e;return t-i<r/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter;return e?e.length:0}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let i=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(t){if(ft.missing(this.rowsToDisplay))return null;const e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;const e=this.gridOptionsService.isAnimateRows(),r=t.columns.length===0||t.columns.some(n=>n.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:e})}onSortChanged(){const t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(t){const e=ft.missingOrEmpty(t),i=new WO(!1,this.rootNode);return(e||this.gridOptionsService.get("treeData"))&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;const e=t.rowNodeTransactions.filter(r=>r.add!=null&&r.add.length>0||r.remove!=null&&r.remove.length>0);return e==null||e.length==0}buildRefreshModelParams(t){let e="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(ft.exists(t)&&(e=i[t]),ft.missing(e)){console.error(`AG Grid: invalid step ${t}, available steps are ${Object.keys(i).join(", ")}`);return}const r=!this.gridOptionsService.get("suppressAnimationFrame");return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:r}}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let e=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;const i=this.createChangePath(e.rowNodeTransactions);switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.rowNodeOrder,i,!!e.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const r=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,r),this.isRefreshingModel=!1;const n={type:F.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack};this.eventService.dispatchEvent(n)}isEmpty(){const t=ft.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return ft.missing(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return ft.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let i=!e,r=!1;const n=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(i&&(o===e||o===t)&&(r=!0,o.group&&s)){n.push(...o.allLeafChildren);return}if(!i){if(o!==e&&o!==t)return;i=!0}if(!o.group||!s){n.push(o);return}}),n}setDatasource(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let e=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;if(ft.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let n=-1,s=-1;for(;;){const o=Math.floor((e+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,t)||(a.rowTop<t?e=o+1:a.rowTop>t&&(i=o-1),n===e&&s===i))return o;n=e,s=i}}isRowInPixel(t,e){const i=t.rowTop,r=t.rowTop+t.rowHeight;return i<=e&&r>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,i)=>t(e,i))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){var e;const{nodes:i,callback:r,recursionType:n,includeFooterNodes:s}=t;let{index:o}=t;for(let u=0;u<i.length;u++){const c=i[u];if(r(c,o++),c.hasChildren()&&!c.footer){let d=null;switch(n){case 0:d=c.childrenAfterGroup;break;case 1:d=c.childrenAfterAggFilter;break;case 2:d=c.childrenAfterSort;break;case 3:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...d],callback:r,recursionType:n,index:o,includeFooterNodes:s}))}}const a=(e=i[0])==null?void 0:e.parent;if(!s||!a)return o;if(a===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return o}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:a}))return o;return a.createFooter(),r(a.sibling,o++),o}doAggregate(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){const e=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),r=o=>{o&&o.forEach(a=>{const l=()=>{a.expanded=t,r(a.childrenAfterGroup)};if(e){ft.exists(a.childrenAfterGroup)&&l();return}if(i){!a.leafGroup&&l();return}a.group&&l()})};this.rootNode&&r(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const n=t?"expandAll":"collapseAll",s={type:F.EVENT_EXPAND_COLLAPSE_ALL,source:n};this.eventService.dispatchEvent(s)}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,i,r){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:e,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:r}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){const s={type:F.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:F.EVENT_ROW_COUNT_READY}))}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(t){if(typeof t=="string"&&t.indexOf(Ot.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(r=>{r.id===t&&(i=r)}),i}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){const t={type:F.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(t,e){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const t=[],e=[];let i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(r=>{const n=this.nodeManager.updateRowData(r.rowDataTransaction,void 0);e.push(n),r.callback&&t.push(r.callback.bind(null,n)),typeof r.rowDataTransaction.addIndex=="number"&&(i=!0)}),this.commonUpdateRowData(e,void 0,i),t.length>0&&window.setTimeout(()=>{t.forEach(r=>r())},0),e.length>0){const r={type:F.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:e};this.eventService.dispatchEvent(r)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t,e){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(t,e),r=typeof t.addIndex=="number";return this.commonUpdateRowData([i],e,r),i}createRowNodeOrder(){if(this.gridOptionsService.get("suppressMaintainUnsortedOrder"))return;const e={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++){const r=this.rootNode.allLeafChildren[i];e[r.id]=i}return e}commonUpdateRowData(t,e,i){if(!this.hasStarted)return;const r=!this.gridOptionsService.get("suppressAnimationFrame");i&&(e=this.createRowNodeOrder());const n={type:F.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:"group",rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:r})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);const i=e.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0}),t}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};x([V("columnModel")],rs.prototype,"columnModel",2);x([V("selectionService")],rs.prototype,"selectionService",2);x([V("filterManager")],rs.prototype,"filterManager",2);x([V("valueCache")],rs.prototype,"valueCache",2);x([V("beans")],rs.prototype,"beans",2);x([V("filterStage")],rs.prototype,"filterStage",2);x([V("sortStage")],rs.prototype,"sortStage",2);x([V("flattenStage")],rs.prototype,"flattenStage",2);x([Kt("groupStage")],rs.prototype,"groupStage",2);x([Kt("aggregationStage")],rs.prototype,"aggregationStage",2);x([Kt("pivotStage")],rs.prototype,"pivotStage",2);x([Kt("filterAggregatesStage")],rs.prototype,"filterAggregatesStage",2);x([Me],rs.prototype,"init",1);rs=x([We("rowModel")],rs);var Dx=class extends Pe{execute(t){const{changedPath:e}=t;this.filterService.filter(e)}};x([V("filterService")],Dx.prototype,"filterService",2);Dx=x([We("filterStage")],Dx);var Vw=class extends Pe{execute(t){const e=this.sortController.getSortOptions(),i=ft.exists(e)&&e.length>0,r=i&&ft.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),n=e.some(s=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(e,i,r,t.rowNodeTransactions,t.changedPath,n)}};x([V("sortService")],Vw.prototype,"sortService",2);x([V("sortController")],Vw.prototype,"sortController",2);Vw=x([We("sortStage")],Vw);var Hw=class extends Pe{execute(t){const e=t.rowNode,i=[],r=this.columnModel.isPivotMode(),n=r&&e.leafGroup,s=n?[e]:e.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,s,i,r,0);const a=i.length>0;return!n&&a&&o.groupIncludeTotalFooter&&(e.createFooter(),this.addRowNodeToRowsToDisplay(o,e.sibling,i,0)),i}getFlattenDetails(){const t=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(t,e,i,r,n){if(!ft.missingOrEmpty(e))for(let s=0;s<e.length;s++){const o=e[s],a=o.hasChildren(),l=r&&!a,u=t.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,c=t.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,d=r&&o.leafGroup,h=t.hideOpenParents&&o.expanded&&!o.master&&!d;if(!l&&!h&&!u&&!c&&this.addRowNodeToRowsToDisplay(t,o,i,n),!(r&&o.leafGroup)){if(a){const g=u||c;if(o.expanded||g){const m=g?n:n+1;this.recursivelyAddToRowsToDisplay(t,o.childrenAfterSort,i,r,m),t.getGroupIncludeFooter({node:o})?(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,i,m)):o.destroyFooter()}}else if(o.master&&o.expanded){const g=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(t,g,i,n)}}}}addRowNodeToRowsToDisplay(t,e,i,r){i.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:r)}createDetailNode(t){if(ft.exists(t.detailNode))return t.detailNode;const e=new Ot(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,ft.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}};x([V("columnModel")],Hw.prototype,"columnModel",2);x([V("beans")],Hw.prototype,"beans",2);Hw=x([We("flattenStage")],Hw);var $w=class extends Pe{sort(t,e,i,r,n,s){const o=this.gridOptionsService.get("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some(h=>h.isRowGroupActive());let l={};i&&r&&(l=this.calculateDirtyNodes(r));const u=this.columnModel.isPivotMode(),c=this.gridOptionsService.getCallback("postSortRows"),d=h=>{var f;this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const g=u&&h.leafGroup;if(o&&a&&!h.leafGroup&&!s){const C=(f=this.columnModel.getRowGroupColumns())==null?void 0:f[h.level+1],S=(C==null?void 0:C.getSort())===null,y=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort&&!S){const w={};h.childrenAfterSort.forEach((E,b)=>{w[E.id]=b}),y.sort((E,b)=>{var D,P;return((D=w[E.id])!=null?D:0)-((P=w[b.id])!=null?P:0)})}h.childrenAfterSort=y}else!e||g?h.childrenAfterSort=h.childrenAfterAggFilter.slice(0):i?h.childrenAfterSort=this.doDeltaSort(h,l,n,t):h.childrenAfterSort=this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,t);if(h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),c){const C={nodes:h.childrenAfterSort};c(C)}};n&&n.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(n)}calculateDirtyNodes(t){const e={},i=r=>{r&&r.forEach(n=>e[n.id]=!0)};return t&&t.forEach(r=>{i(r.add),i(r.update),i(r.remove)}),e}doDeltaSort(t,e,i,r){const n=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(n,r);const o={},a=[];n.forEach(d=>{e[d.id]||!i.canSkip(d)?a.push(d):o[d.id]=!0});const l=s.filter(d=>o[d.id]),u=(d,h)=>({currentPos:h,rowNode:d}),c=a.map(u).sort((d,h)=>this.rowNodeSorter.compareRowNodes(r,d,h));return this.mergeSortedArrays(r,c,l.map(u)).map(({rowNode:d})=>d)}mergeSortedArrays(t,e,i){const r=[];let n=0,s=0;for(;n<e.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(t,e[n],i[s])<0?r.push(e[n++]):r.push(i[s++]);for(;n<e.length;)r.push(e[n++]);for(;s<i.length;)r.push(i[s++]);return r}updateChildIndexes(t){if(ft.missing(t.childrenAfterSort))return;const e=t.childrenAfterSort;for(let i=0;i<e.length;i++){const r=e[i],n=i===0,s=i===t.childrenAfterSort.length-1;r.setFirstChild(n),r.setLastChild(s),r.setChildIndex(i)}}updateGroupDataForHideOpenParents(t){if(!this.gridOptionsService.get("groupHideOpenParents"))return;if(this.gridOptionsService.get("treeData"))return ft.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const e=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(r=>{r.hasChildren()&&e(r)})};t&&t.executeFromRootNode(i=>e(i))}pullDownGroupDataForHideOpenParents(t,e){!this.gridOptionsService.get("groupHideOpenParents")||ft.missing(t)||t.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(n=>{const s=n.getColDef().showRowGroup;if(typeof s!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const o=s,a=this.columnModel.getPrimaryColumn(o);if(a!==i.rowGroupColumn)if(e)i.setGroupValue(n.getId(),void 0);else{const u=i.getFirstChildOfFirstChild(a);u&&i.setGroupValue(n.getId(),u.key)}})})}};x([V("columnModel")],$w.prototype,"columnModel",2);x([V("rowNodeSorter")],$w.prototype,"rowNodeSorter",2);$w=x([We("sortService")],$w);var Px=class extends Pe{filter(t){const e=this.filterManager.isChildFilterPresent();this.filterNodes(e,t)}filterNodes(t,e){const i=(r,n)=>{r.hasChildren()&&t&&!n?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,r.sibling&&(r.sibling.childrenAfterFilter=r.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],u=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],u):i(l,u)}i(s,o)},n=s=>r(s,!1);e.executeFromRootNode(n)}else{const r=n=>i(n,!1);e.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")}};x([V("filterManager")],Px.prototype,"filterManager",2);Px=x([We("filterService")],Px);var uf=class extends Pe{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const t=this.gridOptionsService.exists("getRowId");return this.gridOptionsService.get("resetRowDataOnUpdate")?!1:t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e)return;const[i,r]=e;this.clientSideRowModel.updateRowData(i,r)}createTransactionForRowData(t){if(ft.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const e=this.gridOptionsService.getCallback("getRowId");if(e==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const i={remove:[],update:[],add:[]},r=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return ft.exists(t)&&t.forEach((o,a)=>{const l=e({data:o,level:0}),u=r[l];s&&(s[l]=a),u?(u.data!==o&&i.update.push(o),r[l]=void 0):i.add.push(o)}),ft.iterateObject(r,(o,a)=>{a&&i.remove.push(a.data)}),[i,s]}onRowDataUpdated(){const t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))}};x([V("rowModel")],uf.prototype,"rowModel",2);x([V("rowRenderer")],uf.prototype,"rowRenderer",2);x([V("selectionService")],uf.prototype,"selectionService",2);x([Me],uf.prototype,"postConstruct",1);uf=x([We("immutableService")],uf);var MIe="31.2.1",FIe={version:MIe,moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[rs,Dx,Vw,Hw,$w,Px,uf]},IIe=Object.defineProperty,LIe=Object.getOwnPropertyDescriptor,Ms=(t,e,i,r)=>{for(var n=r>1?void 0:r?LIe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&IIe(e,i,n),n},_Ie=(t,e)=>(i,r)=>e(i,r,t),Bw=class extends O1{constructor(t,e,i){super(t),this.parentCache=e,this.params=i,this.startRow=t*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,i){ft.exists(e)?t.setDataAndId(e,i.toString()):t.setDataAndId(void 0,void 0)}loadFromDatasource(){const t=this.createLoadParams();if(ft.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(t)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}}forEachNode(t,e,i){this.rowNodes.forEach((r,n)=>{this.startRow+n<i&&t(r,e.next())})}getLastAccessed(){return this.lastAccessed}getRow(t,e=!1){e||(this.lastAccessed=this.params.lastAccessedSequence.next());const i=t-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){const e=this.startRow+t,i=new Ot(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(e),i.setRowTop(this.params.rowHeight*e),this.rowNodes.push(i)}}processServerResult(t){this.rowNodes.forEach((i,r)=>{const n=t.rowData?t.rowData[r]:void 0;!i.id&&i.alreadyRendered&&n&&(this.rowNodes[r]=new Ot(this.beans),this.rowNodes[r].setRowIndex(i.rowIndex),this.rowNodes[r].setRowTop(i.rowTop),this.rowNodes[r].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[r],n,this.startRow+r)});const e=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,e)}destroyRowNodes(){this.rowNodes.forEach(t=>{t.clearRowTopAndRowIndex()})}};Ms([V("beans")],Bw.prototype,"beans",2);Ms([Me],Bw.prototype,"postConstruct",1);Ms([As],Bw.prototype,"destroyRowNodes",1);var pC=class fre extends Pe{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}setBeans(e){this.logger=e.create("InfiniteCache")}getRow(e,i=!1){const r=Math.floor(e/this.params.blockSize);let n=this.blocks[r];if(!n){if(i)return;n=this.createBlock(r)}return n.getRow(e)}createBlock(e){const i=this.createBean(new Bw(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroyAllBlocks(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,i){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${e.getId()}, lastRow = ${i}`),this.checkRowCount(e,i),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const i=this.getBlocksInOrder().filter(a=>a!=e),r=(a,l)=>l.getLastAccessed()-a.getLastAccessed();i.sort(r);const n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,o=fre.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((a,l)=>{const u=a.getState()===Bw.STATE_WAITING_TO_LOAD&&l>=o,c=n?l>=s:!1;if(u||c){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(e){const i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||i.rowPinned!=null)return!1;const r=e.getStartRow(),n=e.getEndRow();return i.rowIndex>=r&&i.rowIndex<n}isBlockCurrentlyDisplayed(e){const i=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,r)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,i){if(typeof i=="number"&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,i){this.rowCount=e,ft.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const i=new tv;this.getBlocksInOrder().forEach(r=>r.forEachNode(e,i,this.rowCount))}getBlocksInOrder(){const e=(r,n)=>r.getId()-n.getId();return ft.getAllValuesInObject(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const e={type:F.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&e.push(i)}),e.length>0&&e.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,i){const r=[];let n=-1,s=!1;const o=new tv;ft.missing(e)&&(s=!0);let a=!1;return this.getBlocksInOrder().forEach(u=>{if(!a){if(s&&n+1!==u.getId()){a=!0;return}n=u.getId(),u.forEachNode(c=>{const d=c===e||c===i;(s||d)&&r.push(c),d&&(s=!s)},o,this.rowCount)}}),a||s?[]:r}};pC.MAX_EMPTY_BLOCKS_TO_KEEP=2;Ms([V("rowRenderer")],pC.prototype,"rowRenderer",2);Ms([V("focusService")],pC.prototype,"focusService",2);Ms([_Ie(0,Ra("loggerFactory"))],pC.prototype,"setBeans",1);Ms([As],pC.prototype,"destroyAllBlocks",1);var NIe=pC,Iu=class extends Pe{getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(t,e,i,r){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gridOptionsService.exists("initialGroupOrderComparator")&&ft.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,F.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,F.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,F.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gridOptionsService.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()}isSortModelDifferent(){return!ft.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){if(!this.datasource)return;this.gridOptionsService.getCallback("getRowId")!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:F.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new tv},this.infiniteCache=this.createBean(new NIe(this.cacheParams)),this.eventService.dispatchEventOnce({type:F.EVENT_ROW_COUNT_READY});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)});const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}getRow(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)}getRowNode(t){let e;return this.forEachNode(i=>{i.id===t&&(e=i)}),e}forEachNode(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(this.rowHeight!==0){const e=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return e>i?i:e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){return!!this.getRowNode(t.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)}};Ms([V("filterManager")],Iu.prototype,"filterManager",2);Ms([V("sortController")],Iu.prototype,"sortController",2);Ms([V("selectionService")],Iu.prototype,"selectionService",2);Ms([V("rowRenderer")],Iu.prototype,"rowRenderer",2);Ms([V("rowNodeBlockLoader")],Iu.prototype,"rowNodeBlockLoader",2);Ms([Me],Iu.prototype,"init",1);Ms([As],Iu.prototype,"destroyDatasource",1);Iu=Ms([We("rowModel")],Iu);var GIe="31.2.1",kIe={version:GIe,moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[Iu]},VIe=Object.defineProperty,HIe=Object.getOwnPropertyDescriptor,ls=(t,e,i,r)=>{for(var n=r>1?void 0:r?HIe(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&VIe(e,i,n),n},$Ie=class{setBeans(t){this.beans=t}getFileName(t){const e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?`${t}.${e}`:t}getData(t){const e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},BIe=class{constructor(t){this.groupColumns=[];const{columnModel:e,valueService:i,gridOptionsService:r,valueFormatterService:n,valueParserService:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=t;this.columnModel=e,this.valueService=i,this.gridOptionsService=r,this.valueFormatterService=n,this.valueParserService=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(t){this.groupColumns=t.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(t){const e=this.getHeaderName(this.processHeaderCallback,t);return e??""}extractRowCellValue(t,e,i,r,n){const o=(!this.gridOptionsService.get("groupHideOpenParents")||n.footer)&&this.shouldRenderGroupSummaryCell(n,t,e)?this.createValueForGroupNode(t,n):this.valueService.getValue(t,n);return this.processCell({accumulatedRowIndex:i,rowNode:n,column:t,value:o,processCellCallback:this.processCellCallback,type:r})}shouldRenderGroupSummaryCell(t,e,i){var r;if(!(t&&t.group))return!1;if(this.groupColumns.indexOf(e)!==-1){if(((r=t.groupData)==null?void 0:r[e.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){const a=e.getColDef();return a==null||a.showRowGroup===!0||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return i===0&&o}getHeaderName(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)}createValueForGroupNode(t,e){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));const i=this.gridOptionsService.get("treeData"),r=this.gridOptionsService.get("suppressGroupMaintainValueType"),n=l=>{var u,c;if(i||r)return l.key;const d=(u=l.groupData)==null?void 0:u[t.getId()];return!d||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?d:(c=this.valueFormatterService.formatValue(l.rowGroupColumn,l,d))!=null?c:d},s=e.footer,o=[n(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,o.push(n(e));const a=o.reverse().join(" -> ");return s?`Total ${a}`:a}processCell(t){var e;const{accumulatedRowIndex:i,rowNode:r,column:n,value:s,processCellCallback:o,type:a}=t;return o?{value:(e=o(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:i,column:n,node:r,value:s,type:a,parseValue:l=>this.valueParserService.parseValue(n,r,l,this.valueService.getValue(n,r)),formatValue:l=>{var u;return(u=this.valueFormatterService.formatValue(n,r,l))!=null?u:l}})))!=null?e:""}:n.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(n,r,s)}:{value:s??""}}},WIe=class{static download(t,e){const i=document.defaultView||window;if(!i){console.warn("AG Grid: There is no `window` associated with the current `document`");return}const r=document.createElement("a"),n=i.URL.createObjectURL(e);r.setAttribute("href",n),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(r),i.setTimeout(()=>{i.URL.revokeObjectURL(n)},0)}},jK=`\r
`,UIe=class extends BIe{constructor(t){super(t),this.isFirstLine=!0,this.result="";const{suppressQuotes:e,columnSeparator:i}=t;this.suppressQuotes=e,this.columnSeparator=i}addCustomContent(t){t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,jK),this.result+=t):t.forEach(e=>{this.beginNewLine(),e.forEach((i,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,i,r){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(r)}appendEmptyCells(t){for(let e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){e!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,i){var r;e!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(t,e,e,"csv",i);this.result+=this.putInQuotes((r=n.valueFormatted)!=null?r:n.value)}putInQuotes(t){if(this.suppressQuotes)return t;if(t==null)return'""';let e;return typeof t=="string"?e=t:typeof t.toString=="function"?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=jK),this.isFirstLine=!1}},Lu=class extends $Ie{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(t){const e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}const e=this.getMergedParams(t),i=this.getData(e),r=new Blob(["\uFEFF",i],{type:"text/plain"}),n=typeof e.fileName=="function"?e.fileName(this.gridOptionsService.getGridCommonParams()):e.fileName;WIe.download(this.getFileName(n),r)}exportDataAsCsv(t){this.export(t)}getDataAsCsv(t,e=!1){const i=e?Object.assign({},t):this.getMergedParams(t);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(t){const{columnModel:e,valueService:i,gridOptionsService:r,valueFormatterService:n,valueParserService:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:c,columnSeparator:d}=t;return new UIe({columnModel:e,valueService:i,gridOptionsService:r,valueFormatterService:n,valueParserService:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||","})}isExportSuppressed(){return this.gridOptionsService.get("suppressCsvExport")}};ls([V("columnModel")],Lu.prototype,"columnModel",2);ls([V("valueService")],Lu.prototype,"valueService",2);ls([V("gridSerializer")],Lu.prototype,"gridSerializer",2);ls([V("gridOptionsService")],Lu.prototype,"gridOptionsService",2);ls([V("valueFormatterService")],Lu.prototype,"valueFormatterService",2);ls([V("valueParserService")],Lu.prototype,"valueParserService",2);ls([Me],Lu.prototype,"postConstruct",1);Lu=ls([We("csvCreator")],Lu);var _u=class extends Pe{serialize(t,e={}){const{allColumns:i,columnKeys:r,skipRowGroups:n}=e,s=this.getColumnsToExport(i,n,r);return ft.compose(this.prepareSession(s),this.prependContent(e),this.exportColumnGroups(e,s),this.exportHeaders(e,s),this.processPinnedTopRows(e,s),this.processRows(e,s),this.processPinnedBottomRows(e,s),this.appendContent(e))(t).parse()}processRow(t,e,i,r){const n=e.shouldRowBeSkipped||(()=>!1),s=this.gridOptionsService.get("groupRemoveSingleChildren"),o=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),l=e.rowPositions!=null||!!e.onlySelected,u=this.gridOptionsService.get("groupHideOpenParents")&&!l,c=this.columnModel.isPivotMode()?r.leafGroup:!r.group,d=!!r.footer;e.skipRowGroups;const h=o&&r.leafGroup,f=r.allChildrenCount===1&&(s||h);if(!c&&!d&&(e.skipRowGroups||f||u)||e.onlySelected&&!r.isSelected()||e.skipPinnedTop&&r.rowPinned==="top"||e.skipPinnedBottom&&r.rowPinned==="bottom"||r.level===-1&&!c&&!d||n(this.gridOptionsService.addGridCommonParams({node:r})))return;const C=t.onNewBodyRow(r);if(i.forEach((S,y)=>{C.onColumn(S,y,r)}),e.getCustomContentBelowRow){const S=e.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:r}));S&&t.addCustomContent(S)}}appendContent(t){return e=>{const i=t.appendContent;return i&&e.addCustomContent(i),e}}prependContent(t){return e=>{const i=t.prependContent;return i&&e.addCustomContent(i),e}}prepareSession(t){return e=>(e.prepare(t),e)}exportColumnGroups(t,e){return i=>{if(!t.skipColumnGroupHeaders){const r=new ste,n=this.displayedGroupCreator.createDisplayedGroups(e,r,null);this.recursivelyAddHeaderGroups(n,i,t.processGroupHeaderCallback)}return i}}exportHeaders(t,e){return i=>{if(!t.skipColumnHeaders){const r=i.onNewHeaderRow();e.forEach((n,s)=>{r.onColumn(n,s,void 0)})}return i}}processPinnedTopRows(t,e){return i=>{const r=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(n=>n.rowPinned==="top").sort((n,s)=>n.rowIndex-s.rowIndex).map(n=>this.pinnedRowModel.getPinnedTopRow(n.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedTopRow(r),i}}processRows(t,e){return i=>{const r=this.rowModel,n=r.getType(),s=n==="clientSide",o=n==="serverSide",a=!s&&t.onlySelected,l=this.processRow.bind(this,i,t,e),{exportedRows:u="filteredAndSorted"}=t;if(t.rowPositions)t.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(l);else if(this.columnModel.isPivotMode())s?r.forEachPivotNode(l,!0):o?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l);else if(t.onlySelectedAllPages||a){const c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(l)}else u==="all"?r.forEachNode(l):s||o?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l);return i}}replicateSortedOrder(t){const e=this.sortController.getSortOptions(),i=(r,n)=>{var s,o,a,l;return r.rowIndex!=null&&n.rowIndex!=null?r.rowIndex-n.rowIndex:r.level===n.level?((s=r.parent)==null?void 0:s.id)===((o=n.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(e,{rowNode:r,currentPos:(a=r.rowIndex)!=null?a:-1},{rowNode:n,currentPos:(l=n.rowIndex)!=null?l:-1}):i(r.parent,n.parent):r.level>n.level?i(r.parent,n):i(r,n.parent)};t.sort(i)}processPinnedBottomRows(t,e){return i=>{const r=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(n=>n.rowPinned==="bottom").sort((n,s)=>n.rowIndex-s.rowIndex).map(n=>this.pinnedRowModel.getPinnedBottomRow(n.rowIndex)).forEach(r):this.pinnedRowModel.forEachPinnedBottomRow(r),i}}getColumnsToExport(t=!1,e=!1,i){const r=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);const n=this.gridOptionsService.get("treeData");let s=[];return t&&!r?s=this.columnModel.getAllGridColumns():s=this.columnModel.getAllDisplayedColumns(),e&&!n&&(s=s.filter(o=>o.getColId()!==Zm)),s}recursivelyAddHeaderGroups(t,e,i){const r=[];t.forEach(n=>{const s=n;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),t.length>0&&t[0]instanceof Br&&this.doAddHeaderHeader(e,t,i),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,e,i)}doAddHeaderHeader(t,e,i){const r=t.onNewHeaderGroupingRow();let n=0;e.forEach(s=>{const o=s;let a;i?a=i(this.gridOptionsService.addGridCommonParams({columnGroup:o})):a=this.columnModel.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((u,c,d,h)=>{let f=ft.last(u);return c.getColumnGroupShow()==="open"?(!f||f[1]!=null)&&(f=[d],u.push(f)):f&&f[1]==null&&(f[1]=d-1),d===h.length-1&&f&&f[1]==null&&(f[1]=d),u},[]);r.onColumn(o,a||"",n++,o.getLeafColumns().length-1,l)})}};ls([V("displayedGroupCreator")],_u.prototype,"displayedGroupCreator",2);ls([V("columnModel")],_u.prototype,"columnModel",2);ls([V("rowModel")],_u.prototype,"rowModel",2);ls([V("pinnedRowModel")],_u.prototype,"pinnedRowModel",2);ls([V("selectionService")],_u.prototype,"selectionService",2);ls([V("rowNodeSorter")],_u.prototype,"rowNodeSorter",2);ls([V("sortController")],_u.prototype,"sortController",2);_u=ls([We("gridSerializer")],_u);var zIe="31.2.1",jIe={version:zIe,moduleName:"@ag-grid-community/csv-export",beans:[Lu,_u]};ei.__registerModules([FIe,kIe,jIe],!1,void 0);var fC={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gre=T;function Mt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bs=Object.prototype.hasOwnProperty,KIe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KK={},YK={};function mre(t){return Bs.call(YK,t)?!0:Bs.call(KK,t)?!1:KIe.test(t)?YK[t]=!0:(KK[t]=!0,!1)}function Fs(t,e,i,r,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new Fs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new Fs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new Fs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new Fs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new Fs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new Fs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new Fs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new Fs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new Fs(t,5,!1,t.toLowerCase(),null,!1,!1)});var oB=/[\-:]([a-z])/g;function aB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oB,aB);Vn[e]=new Fs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oB,aB);Vn[e]=new Fs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oB,aB);Vn[e]=new Fs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new Fs(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new Fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new Fs(t,1,!1,t.toLowerCase(),null,!0,!0)});var GD={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YIe=["Webkit","ms","Moz","O"];Object.keys(GD).forEach(function(t){YIe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),GD[e]=GD[t]})});var qIe=/["'&<>]/;function ms(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=qIe.exec(t);if(e){var i="",r,n=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}n!==r&&(i+=t.substring(n,r)),n=r+1,i+=e}t=n!==r?i+t.substring(n,r):i}return t}var XIe=/([A-Z])/g,QIe=/^ms-/,V1=Array.isArray;function Xu(t,e){return{insertionMode:t,selectedValue:e}}function ZIe(t,e,i){switch(e){case"select":return Xu(1,i.value!=null?i.value:i.defaultValue);case"svg":return Xu(2,null);case"math":return Xu(3,null);case"foreignObject":return Xu(1,null);case"table":return Xu(4,null);case"thead":case"tbody":case"tfoot":return Xu(5,null);case"colgroup":return Xu(7,null);case"tr":return Xu(6,null)}return 4<=t.insertionMode||t.insertionMode===0?Xu(1,null):t}var qK=new Map;function vre(t,e,i){if(typeof i!="object")throw Error(Mt(62));e=!0;for(var r in i)if(Bs.call(i,r)){var n=i[r];if(n!=null&&typeof n!="boolean"&&n!==""){if(r.indexOf("--")===0){var s=ms(r);n=ms((""+n).trim())}else{s=r;var o=qK.get(s);o!==void 0||(o=ms(s.replace(XIe,"-$1").toLowerCase().replace(QIe,"-ms-")),qK.set(s,o)),s=o,n=typeof n=="number"?n===0||Bs.call(GD,r)?""+n:n+"px":ms((""+n).trim())}e?(e=!1,t.push(' style="',s,":",n)):t.push(";",s,":",n)}}e||t.push('"')}function Co(t,e,i,r){switch(i){case"style":vre(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N"){if(e=Vn.hasOwnProperty(i)?Vn[i]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(i=e.attributeName,e.type){case 3:r&&t.push(" ",i,'=""');break;case 4:r===!0?t.push(" ",i,'=""'):r!==!1&&t.push(" ",i,'="',ms(r),'"');break;case 5:isNaN(r)||t.push(" ",i,'="',ms(r),'"');break;case 6:!isNaN(r)&&1<=r&&t.push(" ",i,'="',ms(r),'"');break;default:e.sanitizeURL&&(r=""+r),t.push(" ",i,'="',ms(r),'"')}}else if(mre(i)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=i.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(" ",i,'="',ms(r),'"')}}}function kD(t,e,i){if(e!=null){if(i!=null)throw Error(Mt(60));if(typeof e!="object"||!("__html"in e))throw Error(Mt(61));e=e.__html,e!=null&&t.push(""+e)}}function JIe(t){var e="";return gre.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function kL(t,e,i,r){t.push(Jl(i));var n=i=null,s;for(s in e)if(Bs.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":i=o;break;case"dangerouslySetInnerHTML":n=o;break;default:Co(t,r,s,o)}}return t.push(">"),kD(t,n,i),typeof i=="string"?(t.push(ms(i)),null):i}var eLe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,XK=new Map;function Jl(t){var e=XK.get(t);if(e===void 0){if(!eLe.test(t))throw Error(Mt(65,t));e="<"+t,XK.set(t,e)}return e}function tLe(t,e,i,r,n){switch(e){case"select":t.push(Jl("select"));var s=null,o=null;for(c in i)if(Bs.call(i,c)){var a=i[c];if(a!=null)switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Co(t,r,c,a)}}return t.push(">"),kD(t,o,s),s;case"option":o=n.selectedValue,t.push(Jl("option"));var l=a=null,u=null,c=null;for(s in i)if(Bs.call(i,s)){var d=i[s];if(d!=null)switch(s){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Co(t,r,s,d)}}if(o!=null)if(i=l!==null?""+l:JIe(a),V1(o)){for(r=0;r<o.length;r++)if(""+o[r]===i){t.push(' selected=""');break}}else""+o===i&&t.push(' selected=""');else u&&t.push(' selected=""');return t.push(">"),kD(t,c,a),a;case"textarea":t.push(Jl("textarea")),c=o=s=null;for(a in i)if(Bs.call(i,a)&&(l=i[a],l!=null))switch(a){case"children":c=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Mt(91));default:Co(t,r,a,l)}if(s===null&&o!==null&&(s=o),t.push(">"),c!=null){if(s!=null)throw Error(Mt(92));if(V1(c)&&1<c.length)throw Error(Mt(93));s=""+c}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s!==null&&t.push(ms(""+s)),null;case"input":t.push(Jl("input")),l=c=a=s=null;for(o in i)if(Bs.call(i,o)&&(u=i[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Mt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":s=u;break;default:Co(t,r,o,u)}return c!==null?Co(t,r,"checked",c):l!==null&&Co(t,r,"checked",l),s!==null?Co(t,r,"value",s):a!==null&&Co(t,r,"value",a),t.push("/>"),null;case"menuitem":t.push(Jl("menuitem"));for(var h in i)if(Bs.call(i,h)&&(s=i[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Mt(400));default:Co(t,r,h,s)}return t.push(">"),null;case"title":t.push(Jl("title")),s=null;for(d in i)if(Bs.call(i,d)&&(o=i[d],o!=null))switch(d){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Mt(434));default:Co(t,r,d,o)}return t.push(">"),s;case"listing":case"pre":t.push(Jl(e)),o=s=null;for(l in i)if(Bs.call(i,l)&&(a=i[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Co(t,r,l,a)}if(t.push(">"),o!=null){if(s!=null)throw Error(Mt(60));if(typeof o!="object"||!("__html"in o))throw Error(Mt(61));i=o.__html,i!=null&&(typeof i=="string"&&0<i.length&&i[0]===`
`?t.push(`
`,i):t.push(""+i))}return typeof s=="string"&&s[0]===`
`&&t.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(Jl(e));for(var f in i)if(Bs.call(i,f)&&(s=i[f],s!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Mt(399,e));default:Co(t,r,f,s)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return kL(t,i,e,r);case"html":return n.insertionMode===0&&t.push("<!DOCTYPE html>"),kL(t,i,e,r);default:if(e.indexOf("-")===-1&&typeof i.is!="string")return kL(t,i,e,r);t.push(Jl(e)),o=s=null;for(u in i)if(Bs.call(i,u)&&(a=i[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":vre(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:mre(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(" ",u,'="',ms(a),'"')}return t.push(">"),kD(t,o,s),s}}function QK(t,e,i){if(t.push('<!--$?--><template id="'),i===null)throw Error(Mt(395));return t.push(i),t.push('"></template>')}function iLe(t,e,i,r){switch(i.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=r.toString(16),t.push(e),t.push('">');default:throw Error(Mt(397))}}function rLe(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(Mt(397))}}var nLe=/[<\u2028\u2029]/g;function VL(t){return JSON.stringify(t).replace(nLe,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function sLe(t,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}function ZK(t,e,i,r){return i.generateStaticMarkup?(t.push(ms(e)),!1):(e===""?t=r:(r&&t.push("<!-- -->"),t.push(ms(e)),t=!0),t)}var yS=Object.assign,oLe=Symbol.for("react.element"),Cre=Symbol.for("react.portal"),yre=Symbol.for("react.fragment"),Sre=Symbol.for("react.strict_mode"),wre=Symbol.for("react.profiler"),Ere=Symbol.for("react.provider"),bre=Symbol.for("react.context"),Rre=Symbol.for("react.forward_ref"),Tre=Symbol.for("react.suspense"),Dre=Symbol.for("react.suspense_list"),Pre=Symbol.for("react.memo"),lB=Symbol.for("react.lazy"),aLe=Symbol.for("react.scope"),lLe=Symbol.for("react.debug_trace_mode"),uLe=Symbol.for("react.legacy_hidden"),cLe=Symbol.for("react.default_value"),JK=Symbol.iterator;function H1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yre:return"Fragment";case Cre:return"Portal";case wre:return"Profiler";case Sre:return"StrictMode";case Tre:return"Suspense";case Dre:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bre:return(t.displayName||"Context")+".Consumer";case Ere:return(t._context.displayName||"Context")+".Provider";case Rre:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pre:return e=t.displayName||null,e!==null?e:H1(t.type)||"Memo";case lB:e=t._payload,t=t._init;try{return H1(t(e))}catch{}}return null}var xre={};function e5(t,e){if(t=t.contextTypes,!t)return xre;var i={},r;for(r in t)i[r]=e[r];return i}var dp=null;function zO(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var i=e.parent;if(t===null){if(i!==null)throw Error(Mt(401))}else{if(i===null)throw Error(Mt(401));zO(t,i)}e.context._currentValue2=e.value}}function Are(t){t.context._currentValue2=t.parentValue,t=t.parent,t!==null&&Are(t)}function Ore(t){var e=t.parent;e!==null&&Ore(e),t.context._currentValue2=t.value}function Mre(t,e){if(t.context._currentValue2=t.parentValue,t=t.parent,t===null)throw Error(Mt(402));t.depth===e.depth?zO(t,e):Mre(t,e)}function Fre(t,e){var i=e.parent;if(i===null)throw Error(Mt(402));t.depth===i.depth?zO(t,i):Fre(t,i),e.context._currentValue2=e.value}function xx(t){var e=dp;e!==t&&(e===null?Ore(t):t===null?Are(e):e.depth===t.depth?zO(e,t):e.depth>t.depth?Mre(e,t):Fre(e,t),dp=t)}var t5={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function i5(t,e,i,r){var n=t.state!==void 0?t.state:null;t.updater=t5,t.props=i,t.state=n;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(i,n),n=o==null?n:yS({},n,o),t.state=n),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&t5.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,n=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,i,r):a,a!=null&&(n?(n=!1,s=yS({},s,a)):yS(s,a))}t.state=s}else s.queue=null}var dLe={id:1,overflow:""};function $1(t,e,i){var r=t.id;t=t.overflow;var n=32-VD(r)-1;r&=~(1<<n),i+=1;var s=32-VD(e)+n;if(30<s){var o=n-n%5;return s=(r&(1<<o)-1).toString(32),r>>=o,n-=o,{id:1<<32-VD(e)+n|i<<n|r,overflow:s+t}}return{id:1<<s|i<<n|r,overflow:t}}var VD=Math.clz32?Math.clz32:fLe,hLe=Math.log,pLe=Math.LN2;function fLe(t){return t>>>=0,t===0?32:31-(hLe(t)/pLe|0)|0}function gLe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mLe=typeof Object.is=="function"?Object.is:gLe,Pc=null,uB=null,HD=null,Hi=null,Zy=!1,Ax=!1,Ww=0,Md=null,jO=0;function Jh(){if(Pc===null)throw Error(Mt(321));return Pc}function r5(){if(0<jO)throw Error(Mt(312));return{memoizedState:null,queue:null,next:null}}function cB(){return Hi===null?HD===null?(Zy=!1,HD=Hi=r5()):(Zy=!0,Hi=HD):Hi.next===null?(Zy=!1,Hi=Hi.next=r5()):(Zy=!0,Hi=Hi.next),Hi}function dB(){uB=Pc=null,Ax=!1,HD=null,jO=0,Hi=Md=null}function Ire(t,e){return typeof e=="function"?e(t):e}function n5(t,e,i){if(Pc=Jh(),Hi=cB(),Zy){var r=Hi.queue;if(e=r.dispatch,Md!==null&&(i=Md.get(r),i!==void 0)){Md.delete(r),r=Hi.memoizedState;do r=t(r,i.action),i=i.next;while(i!==null);return Hi.memoizedState=r,[r,e]}return[Hi.memoizedState,e]}return t=t===Ire?typeof e=="function"?e():e:i!==void 0?i(e):e,Hi.memoizedState=t,t=Hi.queue={last:null,dispatch:null},t=t.dispatch=vLe.bind(null,Pc,t),[Hi.memoizedState,t]}function s5(t,e){if(Pc=Jh(),Hi=cB(),e=e===void 0?null:e,Hi!==null){var i=Hi.memoizedState;if(i!==null&&e!==null){var r=i[1];e:if(r===null)r=!1;else{for(var n=0;n<r.length&&n<e.length;n++)if(!mLe(e[n],r[n])){r=!1;break e}r=!0}if(r)return i[0]}}return t=t(),Hi.memoizedState=[t,e],t}function vLe(t,e,i){if(25<=jO)throw Error(Mt(301));if(t===Pc)if(Ax=!0,t={action:i,next:null},Md===null&&(Md=new Map),i=Md.get(e),i===void 0)Md.set(e,t);else{for(e=i;e.next!==null;)e=e.next;e.next=t}}function CLe(){throw Error(Mt(394))}function IT(){}var o5={readContext:function(t){return t._currentValue2},useContext:function(t){return Jh(),t._currentValue2},useMemo:s5,useReducer:n5,useRef:function(t){Pc=Jh(),Hi=cB();var e=Hi.memoizedState;return e===null?(t={current:t},Hi.memoizedState=t):e},useState:function(t){return n5(Ire,t)},useInsertionEffect:IT,useLayoutEffect:function(){},useCallback:function(t,e){return s5(function(){return t},e)},useImperativeHandle:IT,useEffect:IT,useDebugValue:IT,useDeferredValue:function(t){return Jh(),t},useTransition:function(){return Jh(),[!1,CLe]},useId:function(){var t=uB.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-VD(t)-1)).toString(32)+e;var i=$D;if(i===null)throw Error(Mt(404));return e=Ww++,t=":"+i.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Jh(),e(t._source)},useSyncExternalStore:function(t,e,i){if(i===void 0)throw Error(Mt(407));return i()}},$D=null,HL=gre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function yLe(t){return console.error(t),null}function Jy(){}function SLe(t,e,i,r,n,s,o,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:n===void 0?yLe:n,onAllReady:s===void 0?Jy:s,onShellReady:o===void 0?Jy:o,onShellError:a===void 0?Jy:a,onFatalError:l===void 0?Jy:l},i=Ox(e,0,null,i,!1,!1),i.parentFlushed=!0,t=hB(e,t,null,i,c,xre,null,dLe),u.push(t),e}function hB(t,e,i,r,n,s,o,a){t.allPendingTasks++,i===null?t.pendingRootTasks++:i.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&Nre(t)},blockedBoundary:i,blockedSegment:r,abortSet:n,legacyContext:s,context:o,treeContext:a};return n.add(l),l}function Ox(t,e,i,r,n,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:i,lastPushedText:n,textEmbedded:s}}function Uw(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function Mx(t,e){var i=t.onShellError;i(e),i=t.onFatalError,i(e),t.destination!==null?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function a5(t,e,i,r,n){for(Pc={},uB=e,Ww=0,t=i(r,n);Ax;)Ax=!1,Ww=0,jO+=1,Hi=null,t=i(r,n);return dB(),t}function l5(t,e,i,r){var n=i.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof i.getChildContext!="function")r=o;else{i=i.getChildContext();for(var a in i)if(!(a in s))throw Error(Mt(108,H1(r)||"Unknown",a));r=yS({},o,i)}e.legacyContext=r,Eo(t,e,n),e.legacyContext=o}else Eo(t,e,n)}function u5(t,e){if(t&&t.defaultProps){e=yS({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function B1(t,e,i,r,n){if(typeof i=="function")if(i.prototype&&i.prototype.isReactComponent){n=e5(i,e.legacyContext);var s=i.contextType;s=new i(r,typeof s=="object"&&s!==null?s._currentValue2:n),i5(s,i,r,n),l5(t,e,s,i)}else{s=e5(i,e.legacyContext),n=a5(t,e,i,r,s);var o=Ww!==0;if(typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0)i5(n,i,r,s),l5(t,e,n,i);else if(o){r=e.treeContext,e.treeContext=$1(r,1,0);try{Eo(t,e,n)}finally{e.treeContext=r}}else Eo(t,e,n)}else if(typeof i=="string"){switch(n=e.blockedSegment,s=tLe(n.chunks,i,r,t.responseState,n.formatContext),n.lastPushedText=!1,o=n.formatContext,n.formatContext=ZIe(o,i,r),W1(t,e,s),n.formatContext=o,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:n.chunks.push("</",i,">")}n.lastPushedText=!1}else{switch(i){case uLe:case lLe:case Sre:case wre:case yre:Eo(t,e,r.children);return;case Dre:Eo(t,e,r.children);return;case aLe:throw Error(Mt(343));case Tre:e:{i=e.blockedBoundary,n=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=Ox(t,n.chunks.length,a,n.formatContext,!1,!1);n.children.push(l),n.lastPushedText=!1;var u=Ox(t,0,null,n.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(W1(t,e,r),t.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Fx(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=Uw(t,c)}finally{e.blockedBoundary=i,e.blockedSegment=n}e=hB(t,s,i,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Rre:if(r=a5(t,e,i.render,r,n),Ww!==0){i=e.treeContext,e.treeContext=$1(i,1,0);try{Eo(t,e,r)}finally{e.treeContext=i}}else Eo(t,e,r);return;case Pre:i=i.type,r=u5(i,r),B1(t,e,i,r,n);return;case Ere:if(n=r.children,i=i._context,r=r.value,s=i._currentValue2,i._currentValue2=r,o=dp,dp=r={parent:o,depth:o===null?0:o.depth+1,context:i,parentValue:s,value:r},e.context=r,Eo(t,e,n),t=dp,t===null)throw Error(Mt(403));r=t.parentValue,t.context._currentValue2=r===cLe?t.context._defaultValue:r,t=dp=t.parent,e.context=t;return;case bre:r=r.children,r=r(i._currentValue2),Eo(t,e,r);return;case lB:n=i._init,i=n(i._payload),r=u5(i,r),B1(t,e,i,r,void 0);return}throw Error(Mt(130,i==null?i:typeof i,""))}}function Eo(t,e,i){if(e.node=i,typeof i=="object"&&i!==null){switch(i.$$typeof){case oLe:B1(t,e,i.type,i.props,i.ref);return;case Cre:throw Error(Mt(257));case lB:var r=i._init;i=r(i._payload),Eo(t,e,i);return}if(V1(i)){c5(t,e,i);return}if(i===null||typeof i!="object"?r=null:(r=JK&&i[JK]||i["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(i))){if(i=r.next(),!i.done){var n=[];do n.push(i.value),i=r.next();while(!i.done);c5(t,e,n)}return}throw t=Object.prototype.toString.call(i),Error(Mt(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}typeof i=="string"?(r=e.blockedSegment,r.lastPushedText=ZK(e.blockedSegment.chunks,i,t.responseState,r.lastPushedText)):typeof i=="number"&&(r=e.blockedSegment,r.lastPushedText=ZK(e.blockedSegment.chunks,""+i,t.responseState,r.lastPushedText))}function c5(t,e,i){for(var r=i.length,n=0;n<r;n++){var s=e.treeContext;e.treeContext=$1(s,r,n);try{W1(t,e,i[n])}finally{e.treeContext=s}}}function W1(t,e,i){var r=e.blockedSegment.formatContext,n=e.legacyContext,s=e.context;try{return Eo(t,e,i)}catch(l){if(dB(),typeof l=="object"&&l!==null&&typeof l.then=="function"){i=l;var o=e.blockedSegment,a=Ox(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=hB(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,i.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,xx(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,xx(s),l}}function wLe(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,_re(this,e,t)}function Lre(t,e,i){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=i===void 0?Error(Mt(432)):i,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(n){return Lre(n,e,i)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function Fx(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var i=e.children[0];i.id=e.id,i.parentFlushed=!0,i.status===1&&Fx(t,i)}else t.completedSegments.push(e)}function _re(t,e,i){if(e===null){if(i.parentFlushed){if(t.completedRootSegment!==null)throw Error(Mt(389));t.completedRootSegment=i}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=Jy,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(i.parentFlushed&&i.status===1&&Fx(e,i),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(wLe,t),e.fallbackAbortableTasks.clear()):i.parentFlushed&&i.status===1&&(Fx(e,i),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function Nre(t){if(t.status!==2){var e=dp,i=HL.current;HL.current=o5;var r=$D;$D=t.responseState;try{var n=t.pingedTasks,s;for(s=0;s<n.length;s++){var o=n[s],a=t,l=o.blockedSegment;if(l.status===0){xx(o.context);try{Eo(a,o,o.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,_re(a,o.blockedBoundary,l)}catch(g){if(dB(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=o.ping;g.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=g,h=Uw(a,d);if(c===null?Mx(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var f=a.onAllReady;f()}}}finally{}}}n.splice(0,s),t.destination!==null&&pB(t,t.destination)}catch(g){Uw(t,g),Mx(t,g)}finally{$D=r,HL.current=i,i===o5&&xx(e)}}}function LT(t,e,i){switch(i.parentFlushed=!0,i.status){case 0:var r=i.id=t.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=r.toString(16),e.push(t),e.push('"></template>');case 1:i.status=2;var n=!0;r=i.chunks;var s=0;i=i.children;for(var o=0;o<i.length;o++){for(n=i[o];s<n.index;s++)e.push(r[s]);n=KO(t,e,n)}for(;s<r.length-1;s++)e.push(r[s]);return s<r.length&&(n=e.push(r[s])),n;default:throw Error(Mt(390))}}function KO(t,e,i){var r=i.boundary;if(r===null)return LT(t,e,i);if(r.parentFlushed=!0,r.forceClientRender)return t.responseState.generateStaticMarkup||(r=r.errorDigest,e.push("<!--$!-->"),e.push("<template"),r&&(e.push(' data-dgst="'),r=ms(r),e.push(r),e.push('"')),e.push("></template>")),LT(t,e,i),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t;if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var n=t.responseState,s=n.nextSuspenseID++;return n=n.boundaryPrefix+s.toString(16),r=r.id=n,QK(e,t.responseState,r),LT(t,e,i),e.push("<!--/$-->")}if(r.byteSize>t.progressiveChunkSize)return r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),QK(e,t.responseState,r.id),LT(t,e,i),e.push("<!--/$-->");if(t.responseState.generateStaticMarkup||e.push("<!--$-->"),i=r.completedSegments,i.length!==1)throw Error(Mt(391));return KO(t,e,i[0]),t=t.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),t}function d5(t,e,i){return iLe(e,t.responseState,i.formatContext,i.id),KO(t,e,i),rLe(e,i.formatContext)}function h5(t,e,i){for(var r=i.completedSegments,n=0;n<r.length;n++)Gre(t,e,i,r[n]);if(r.length=0,t=t.responseState,r=i.id,i=i.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Mt(395));return i=i.toString(16),e.push(r),e.push('","'),e.push(t.segmentPrefix),e.push(i),e.push('")<\/script>')}function Gre(t,e,i,r){if(r.status===2)return!0;var n=r.id;if(n===-1){if((r.id=i.rootSegmentID)===-1)throw Error(Mt(392));return d5(t,e,r)}return d5(t,e,r),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),n=n.toString(16),e.push(n),e.push('","'),e.push(t.placeholderPrefix),e.push(n),e.push('")<\/script>')}function pB(t,e){try{var i=t.completedRootSegment;if(i!==null&&t.pendingRootTasks===0){KO(t,e,i),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(i=0;i<r.length-1;i++)e.push(r[i]);i<r.length&&e.push(r[i])}var n=t.clientRenderedBoundaries,s;for(s=0;s<n.length;s++){var o=n[s];r=e;var a=t.responseState,l=o.id,u=o.errorDigest,c=o.errorMessage,d=o.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Mt(395));if(r.push(l),r.push('"'),u||c||d){r.push(",");var h=VL(u||"");r.push(h)}if(c||d){r.push(",");var f=VL(c||"");r.push(f)}if(d){r.push(",");var g=VL(d);r.push(g)}if(!r.push(")<\/script>")){t.destination=null,s++,n.splice(0,s);return}}n.splice(0,s);var m=t.completedBoundaries;for(s=0;s<m.length;s++)if(!h5(t,e,m[s])){t.destination=null,s++,m.splice(0,s);return}m.splice(0,s);var C=t.partialBoundaries;for(s=0;s<C.length;s++){var S=C[s];e:{n=t,o=e;var y=S.completedSegments;for(a=0;a<y.length;a++)if(!Gre(n,o,S,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){t.destination=null,s++,C.splice(0,s);return}}C.splice(0,s);var E=t.completedBoundaries;for(s=0;s<E.length;s++)if(!h5(t,e,E[s])){t.destination=null,s++,E.splice(0,s);return}E.splice(0,s)}finally{t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.push(null)}}function ELe(t,e){try{var i=t.abortableTasks;i.forEach(function(r){return Lre(r,t,e)}),i.clear(),t.destination!==null&&pB(t,t.destination)}catch(r){Uw(t,r),Mx(t,r)}}function bLe(){}function kre(t,e,i,r){var n=!1,s=null,o="",a={push:function(u){return u!==null&&(o+=u),!0},destroy:function(u){n=!0,s=u}},l=!1;if(t=SLe(t,sLe(i,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,bLe,void 0,function(){l=!0},void 0,void 0),Nre(t),ELe(t,r),t.status===1)t.status=2,a.destroy(t.fatalError);else if(t.status!==2&&t.destination===null){t.destination=a;try{pB(t,a)}catch(u){Uw(t,u),Mx(t,u)}}if(n)throw s;if(!l)throw Error(Mt(426));return o}fC.renderToNodeStream=function(){throw Error(Mt(207))};fC.renderToStaticMarkup=function(t,e){return kre(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};fC.renderToStaticNodeStream=function(){throw Error(Mt(208))};fC.renderToString=function(t,e){return kre(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};fC.version="18.2.0";var fB={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vre=T;function Gt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bo=null,Ro=0;function st(t,e){if(e.length!==0)if(512<e.length)0<Ro&&(t.enqueue(new Uint8Array(bo.buffer,0,Ro)),bo=new Uint8Array(512),Ro=0),t.enqueue(e);else{var i=bo.length-Ro;i<e.length&&(i===0?t.enqueue(bo):(bo.set(e.subarray(0,i),Ro),t.enqueue(bo),e=e.subarray(i)),bo=new Uint8Array(512),Ro=0),bo.set(e,Ro),Ro+=e.length}}function Ji(t,e){return st(t,e),!0}function p5(t){bo&&0<Ro&&(t.enqueue(new Uint8Array(bo.buffer,0,Ro)),bo=null,Ro=0)}var Hre=new TextEncoder;function $t(t){return Hre.encode(t)}function Ye(t){return Hre.encode(t)}function $re(t,e){typeof t.error=="function"?t.error(e):t.close()}var Ws=Object.prototype.hasOwnProperty,RLe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f5={},g5={};function Bre(t){return Ws.call(g5,t)?!0:Ws.call(f5,t)?!1:RLe.test(t)?g5[t]=!0:(f5[t]=!0,!1)}function Is(t,e,i,r,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new Is(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new Is(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new Is(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new Is(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new Is(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new Is(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new Is(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new Is(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new Is(t,5,!1,t.toLowerCase(),null,!1,!1)});var gB=/[\-:]([a-z])/g;function mB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gB,mB);Hn[e]=new Is(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gB,mB);Hn[e]=new Is(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gB,mB);Hn[e]=new Is(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new Is(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new Is(t,1,!1,t.toLowerCase(),null,!0,!0)});var BD={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TLe=["Webkit","ms","Moz","O"];Object.keys(BD).forEach(function(t){TLe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),BD[e]=BD[t]})});var DLe=/["'&<>]/;function _n(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var e=DLe.exec(t);if(e){var i="",r,n=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}n!==r&&(i+=t.substring(n,r)),n=r+1,i+=e}t=n!==r?i+t.substring(n,r):i}return t}var PLe=/([A-Z])/g,xLe=/^ms-/,U1=Array.isArray,ALe=Ye("<script>"),OLe=Ye("<\/script>"),MLe=Ye('<script src="'),FLe=Ye('<script type="module" src="'),m5=Ye('" async=""><\/script>'),ILe=/(<\/|<)(s)(cript)/gi;function LLe(t,e,i,r){return""+e+(i==="s"?"\\u0073":"\\u0053")+r}function _Le(t,e,i,r,n){t=t===void 0?"":t,e=e===void 0?ALe:Ye('<script nonce="'+_n(e)+'">');var s=[];if(i!==void 0&&s.push(e,$t((""+i).replace(ILe,LLe)),OLe),r!==void 0)for(i=0;i<r.length;i++)s.push(MLe,$t(_n(r[i])),m5);if(n!==void 0)for(r=0;r<n.length;r++)s.push(FLe,$t(_n(n[r])),m5);return{bootstrapChunks:s,startInlineScript:e,placeholderPrefix:Ye(t+"P:"),segmentPrefix:Ye(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function eu(t,e){return{insertionMode:t,selectedValue:e}}function NLe(t){return eu(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function GLe(t,e,i){switch(e){case"select":return eu(1,i.value!=null?i.value:i.defaultValue);case"svg":return eu(2,null);case"math":return eu(3,null);case"foreignObject":return eu(1,null);case"table":return eu(4,null);case"thead":case"tbody":case"tfoot":return eu(5,null);case"colgroup":return eu(7,null);case"tr":return eu(6,null)}return 4<=t.insertionMode||t.insertionMode===0?eu(1,null):t}var vB=Ye("<!-- -->");function v5(t,e,i,r){return e===""?r:(r&&t.push(vB),t.push($t(_n(e))),!0)}var C5=new Map,kLe=Ye(' style="'),y5=Ye(":"),VLe=Ye(";");function Wre(t,e,i){if(typeof i!="object")throw Error(Gt(62));e=!0;for(var r in i)if(Ws.call(i,r)){var n=i[r];if(n!=null&&typeof n!="boolean"&&n!==""){if(r.indexOf("--")===0){var s=$t(_n(r));n=$t(_n((""+n).trim()))}else{s=r;var o=C5.get(s);o!==void 0||(o=Ye(_n(s.replace(PLe,"-$1").toLowerCase().replace(xLe,"-ms-"))),C5.set(s,o)),s=o,n=typeof n=="number"?n===0||Ws.call(BD,r)?$t(""+n):$t(n+"px"):$t(_n((""+n).trim()))}e?(e=!1,t.push(kLe,s,y5,n)):t.push(VLe,s,y5,n)}}e||t.push(ep)}var Cd=Ye(" "),$g=Ye('="'),ep=Ye('"'),S5=Ye('=""');function yo(t,e,i,r){switch(i){case"style":Wre(t,e,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N"){if(e=Hn.hasOwnProperty(i)?Hn[i]:null,e!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(i=$t(e.attributeName),e.type){case 3:r&&t.push(Cd,i,S5);break;case 4:r===!0?t.push(Cd,i,S5):r!==!1&&t.push(Cd,i,$g,$t(_n(r)),ep);break;case 5:isNaN(r)||t.push(Cd,i,$g,$t(_n(r)),ep);break;case 6:!isNaN(r)&&1<=r&&t.push(Cd,i,$g,$t(_n(r)),ep);break;default:e.sanitizeURL&&(r=""+r),t.push(Cd,i,$g,$t(_n(r)),ep)}}else if(Bre(i)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(e=i.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}t.push(Cd,$t(i),$g,$t(_n(r)),ep)}}}var yd=Ye(">"),w5=Ye("/>");function WD(t,e,i){if(e!=null){if(i!=null)throw Error(Gt(60));if(typeof e!="object"||!("__html"in e))throw Error(Gt(61));e=e.__html,e!=null&&t.push($t(""+e))}}function HLe(t){var e="";return Vre.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}var $L=Ye(' selected=""');function BL(t,e,i,r){t.push(tu(i));var n=i=null,s;for(s in e)if(Ws.call(e,s)){var o=e[s];if(o!=null)switch(s){case"children":i=o;break;case"dangerouslySetInnerHTML":n=o;break;default:yo(t,r,s,o)}}return t.push(yd),WD(t,n,i),typeof i=="string"?(t.push($t(_n(i))),null):i}var WL=Ye(`
`),$Le=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,E5=new Map;function tu(t){var e=E5.get(t);if(e===void 0){if(!$Le.test(t))throw Error(Gt(65,t));e=Ye("<"+t),E5.set(t,e)}return e}var BLe=Ye("<!DOCTYPE html>");function WLe(t,e,i,r,n){switch(e){case"select":t.push(tu("select"));var s=null,o=null;for(c in i)if(Ws.call(i,c)){var a=i[c];if(a!=null)switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:yo(t,r,c,a)}}return t.push(yd),WD(t,o,s),s;case"option":o=n.selectedValue,t.push(tu("option"));var l=a=null,u=null,c=null;for(s in i)if(Ws.call(i,s)){var d=i[s];if(d!=null)switch(s){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:yo(t,r,s,d)}}if(o!=null)if(i=l!==null?""+l:HLe(a),U1(o)){for(r=0;r<o.length;r++)if(""+o[r]===i){t.push($L);break}}else""+o===i&&t.push($L);else u&&t.push($L);return t.push(yd),WD(t,c,a),a;case"textarea":t.push(tu("textarea")),c=o=s=null;for(a in i)if(Ws.call(i,a)&&(l=i[a],l!=null))switch(a){case"children":c=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Gt(91));default:yo(t,r,a,l)}if(s===null&&o!==null&&(s=o),t.push(yd),c!=null){if(s!=null)throw Error(Gt(92));if(U1(c)&&1<c.length)throw Error(Gt(93));s=""+c}return typeof s=="string"&&s[0]===`
`&&t.push(WL),s!==null&&t.push($t(_n(""+s))),null;case"input":t.push(tu("input")),l=c=a=s=null;for(o in i)if(Ws.call(i,o)&&(u=i[o],u!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Gt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":s=u;break;default:yo(t,r,o,u)}return c!==null?yo(t,r,"checked",c):l!==null&&yo(t,r,"checked",l),s!==null?yo(t,r,"value",s):a!==null&&yo(t,r,"value",a),t.push(w5),null;case"menuitem":t.push(tu("menuitem"));for(var h in i)if(Ws.call(i,h)&&(s=i[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Gt(400));default:yo(t,r,h,s)}return t.push(yd),null;case"title":t.push(tu("title")),s=null;for(d in i)if(Ws.call(i,d)&&(o=i[d],o!=null))switch(d){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Gt(434));default:yo(t,r,d,o)}return t.push(yd),s;case"listing":case"pre":t.push(tu(e)),o=s=null;for(l in i)if(Ws.call(i,l)&&(a=i[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:yo(t,r,l,a)}if(t.push(yd),o!=null){if(s!=null)throw Error(Gt(60));if(typeof o!="object"||!("__html"in o))throw Error(Gt(61));i=o.__html,i!=null&&(typeof i=="string"&&0<i.length&&i[0]===`
`?t.push(WL,$t(i)):t.push($t(""+i)))}return typeof s=="string"&&s[0]===`
`&&t.push(WL),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(tu(e));for(var f in i)if(Ws.call(i,f)&&(s=i[f],s!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Gt(399,e));default:yo(t,r,f,s)}return t.push(w5),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return BL(t,i,e,r);case"html":return n.insertionMode===0&&t.push(BLe),BL(t,i,e,r);default:if(e.indexOf("-")===-1&&typeof i.is!="string")return BL(t,i,e,r);t.push(tu(e)),o=s=null;for(u in i)if(Ws.call(i,u)&&(a=i[u],a!=null))switch(u){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":Wre(t,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Bre(u)&&typeof a!="function"&&typeof a!="symbol"&&t.push(Cd,$t(u),$g,$t(_n(a)),ep)}return t.push(yd),WD(t,o,s),s}}var ULe=Ye("</"),zLe=Ye(">"),jLe=Ye('<template id="'),KLe=Ye('"></template>'),YLe=Ye("<!--$-->"),qLe=Ye('<!--$?--><template id="'),XLe=Ye('"></template>'),QLe=Ye("<!--$!-->"),ZLe=Ye("<!--/$-->"),JLe=Ye("<template"),e_e=Ye('"'),t_e=Ye(' data-dgst="');Ye(' data-msg="');Ye(' data-stck="');var i_e=Ye("></template>");function b5(t,e,i){if(st(t,qLe),i===null)throw Error(Gt(395));return st(t,i),Ji(t,XLe)}var r_e=Ye('<div hidden id="'),n_e=Ye('">'),s_e=Ye("</div>"),o_e=Ye('<svg aria-hidden="true" style="display:none" id="'),a_e=Ye('">'),l_e=Ye("</svg>"),u_e=Ye('<math aria-hidden="true" style="display:none" id="'),c_e=Ye('">'),d_e=Ye("</math>"),h_e=Ye('<table hidden id="'),p_e=Ye('">'),f_e=Ye("</table>"),g_e=Ye('<table hidden><tbody id="'),m_e=Ye('">'),v_e=Ye("</tbody></table>"),C_e=Ye('<table hidden><tr id="'),y_e=Ye('">'),S_e=Ye("</tr></table>"),w_e=Ye('<table hidden><colgroup id="'),E_e=Ye('">'),b_e=Ye("</colgroup></table>");function R_e(t,e,i,r){switch(i.insertionMode){case 0:case 1:return st(t,r_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,n_e);case 2:return st(t,o_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,a_e);case 3:return st(t,u_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,c_e);case 4:return st(t,h_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,p_e);case 5:return st(t,g_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,m_e);case 6:return st(t,C_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,y_e);case 7:return st(t,w_e),st(t,e.segmentPrefix),st(t,$t(r.toString(16))),Ji(t,E_e);default:throw Error(Gt(397))}}function T_e(t,e){switch(e.insertionMode){case 0:case 1:return Ji(t,s_e);case 2:return Ji(t,l_e);case 3:return Ji(t,d_e);case 4:return Ji(t,f_e);case 5:return Ji(t,v_e);case 6:return Ji(t,S_e);case 7:return Ji(t,b_e);default:throw Error(Gt(397))}}var D_e=Ye('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),P_e=Ye('$RS("'),x_e=Ye('","'),A_e=Ye('")<\/script>'),O_e=Ye('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),M_e=Ye('$RC("'),F_e=Ye('","'),I_e=Ye('")<\/script>'),L_e=Ye('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),__e=Ye('$RX("'),N_e=Ye('"'),G_e=Ye(")<\/script>"),UL=Ye(","),k_e=/[<\u2028\u2029]/g;function zL(t){return JSON.stringify(t).replace(k_e,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var SS=Object.assign,V_e=Symbol.for("react.element"),Ure=Symbol.for("react.portal"),zre=Symbol.for("react.fragment"),jre=Symbol.for("react.strict_mode"),Kre=Symbol.for("react.profiler"),Yre=Symbol.for("react.provider"),qre=Symbol.for("react.context"),Xre=Symbol.for("react.forward_ref"),Qre=Symbol.for("react.suspense"),Zre=Symbol.for("react.suspense_list"),Jre=Symbol.for("react.memo"),CB=Symbol.for("react.lazy"),H_e=Symbol.for("react.scope"),$_e=Symbol.for("react.debug_trace_mode"),B_e=Symbol.for("react.legacy_hidden"),W_e=Symbol.for("react.default_value"),R5=Symbol.iterator;function z1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zre:return"Fragment";case Ure:return"Portal";case Kre:return"Profiler";case jre:return"StrictMode";case Qre:return"Suspense";case Zre:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qre:return(t.displayName||"Context")+".Consumer";case Yre:return(t._context.displayName||"Context")+".Provider";case Xre:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jre:return e=t.displayName||null,e!==null?e:z1(t.type)||"Memo";case CB:e=t._payload,t=t._init;try{return z1(t(e))}catch{}}return null}var ene={};function T5(t,e){if(t=t.contextTypes,!t)return ene;var i={},r;for(r in t)i[r]=e[r];return i}var hp=null;function YO(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var i=e.parent;if(t===null){if(i!==null)throw Error(Gt(401))}else{if(i===null)throw Error(Gt(401));YO(t,i)}e.context._currentValue=e.value}}function tne(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&tne(t)}function ine(t){var e=t.parent;e!==null&&ine(e),t.context._currentValue=t.value}function rne(t,e){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(Gt(402));t.depth===e.depth?YO(t,e):rne(t,e)}function nne(t,e){var i=e.parent;if(i===null)throw Error(Gt(402));t.depth===i.depth?YO(t,i):nne(t,i),e.context._currentValue=e.value}function Ix(t){var e=hp;e!==t&&(e===null?ine(t):t===null?tne(e):e.depth===t.depth?YO(e,t):e.depth>t.depth?rne(e,t):nne(e,t),hp=t)}var D5={isMounted:function(){return!1},enqueueSetState:function(t,e){t=t._reactInternals,t.queue!==null&&t.queue.push(e)},enqueueReplaceState:function(t,e){t=t._reactInternals,t.replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function P5(t,e,i,r){var n=t.state!==void 0?t.state:null;t.updater=D5,t.props=i,t.state=n;var s={queue:[],replace:!1};t._reactInternals=s;var o=e.contextType;if(t.context=typeof o=="object"&&o!==null?o._currentValue:r,o=e.getDerivedStateFromProps,typeof o=="function"&&(o=o(i,n),n=o==null?n:SS({},n,o),t.state=n),typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(e=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),e!==t.state&&D5.enqueueReplaceState(t,t.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&e.length===1)t.state=e[0];else{for(s=o?e[0]:t.state,n=!0,o=o?1:0;o<e.length;o++){var a=e[o];a=typeof a=="function"?a.call(t,s,i,r):a,a!=null&&(n?(n=!1,s=SS({},s,a)):SS(s,a))}t.state=s}else s.queue=null}var U_e={id:1,overflow:""};function j1(t,e,i){var r=t.id;t=t.overflow;var n=32-UD(r)-1;r&=~(1<<n),i+=1;var s=32-UD(e)+n;if(30<s){var o=n-n%5;return s=(r&(1<<o)-1).toString(32),r>>=o,n-=o,{id:1<<32-UD(e)+n|i<<n|r,overflow:s+t}}return{id:1<<s|i<<n|r,overflow:t}}var UD=Math.clz32?Math.clz32:K_e,z_e=Math.log,j_e=Math.LN2;function K_e(t){return t>>>=0,t===0?32:31-(z_e(t)/j_e|0)|0}function Y_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var q_e=typeof Object.is=="function"?Object.is:Y_e,xc=null,yB=null,zD=null,$i=null,eS=!1,Lx=!1,zw=0,Fd=null,qO=0;function tp(){if(xc===null)throw Error(Gt(321));return xc}function x5(){if(0<qO)throw Error(Gt(312));return{memoizedState:null,queue:null,next:null}}function SB(){return $i===null?zD===null?(eS=!1,zD=$i=x5()):(eS=!0,$i=zD):$i.next===null?(eS=!1,$i=$i.next=x5()):(eS=!0,$i=$i.next),$i}function wB(){yB=xc=null,Lx=!1,zD=null,qO=0,$i=Fd=null}function sne(t,e){return typeof e=="function"?e(t):e}function A5(t,e,i){if(xc=tp(),$i=SB(),eS){var r=$i.queue;if(e=r.dispatch,Fd!==null&&(i=Fd.get(r),i!==void 0)){Fd.delete(r),r=$i.memoizedState;do r=t(r,i.action),i=i.next;while(i!==null);return $i.memoizedState=r,[r,e]}return[$i.memoizedState,e]}return t=t===sne?typeof e=="function"?e():e:i!==void 0?i(e):e,$i.memoizedState=t,t=$i.queue={last:null,dispatch:null},t=t.dispatch=X_e.bind(null,xc,t),[$i.memoizedState,t]}function O5(t,e){if(xc=tp(),$i=SB(),e=e===void 0?null:e,$i!==null){var i=$i.memoizedState;if(i!==null&&e!==null){var r=i[1];e:if(r===null)r=!1;else{for(var n=0;n<r.length&&n<e.length;n++)if(!q_e(e[n],r[n])){r=!1;break e}r=!0}if(r)return i[0]}}return t=t(),$i.memoizedState=[t,e],t}function X_e(t,e,i){if(25<=qO)throw Error(Gt(301));if(t===xc)if(Lx=!0,t={action:i,next:null},Fd===null&&(Fd=new Map),i=Fd.get(e),i===void 0)Fd.set(e,t);else{for(e=i;e.next!==null;)e=e.next;e.next=t}}function Q_e(){throw Error(Gt(394))}function _T(){}var M5={readContext:function(t){return t._currentValue},useContext:function(t){return tp(),t._currentValue},useMemo:O5,useReducer:A5,useRef:function(t){xc=tp(),$i=SB();var e=$i.memoizedState;return e===null?(t={current:t},$i.memoizedState=t):e},useState:function(t){return A5(sne,t)},useInsertionEffect:_T,useLayoutEffect:function(){},useCallback:function(t,e){return O5(function(){return t},e)},useImperativeHandle:_T,useEffect:_T,useDebugValue:_T,useDeferredValue:function(t){return tp(),t},useTransition:function(){return tp(),[!1,Q_e]},useId:function(){var t=yB.treeContext,e=t.overflow;t=t.id,t=(t&~(1<<32-UD(t)-1)).toString(32)+e;var i=jD;if(i===null)throw Error(Gt(404));return e=zw++,t=":"+i.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return tp(),e(t._source)},useSyncExternalStore:function(t,e,i){if(i===void 0)throw Error(Gt(407));return i()}},jD=null,jL=Vre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Z_e(t){return console.error(t),null}function tS(){}function J_e(t,e,i,r,n,s,o,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:n===void 0?Z_e:n,onAllReady:s===void 0?tS:s,onShellReady:o===void 0?tS:o,onShellError:a===void 0?tS:a,onFatalError:l===void 0?tS:l},i=_x(e,0,null,i,!1,!1),i.parentFlushed=!0,t=EB(e,t,null,i,c,ene,null,U_e),u.push(t),e}function EB(t,e,i,r,n,s,o,a){t.allPendingTasks++,i===null?t.pendingRootTasks++:i.pendingTasks++;var l={node:e,ping:function(){var u=t.pingedTasks;u.push(l),u.length===1&&lne(t)},blockedBoundary:i,blockedSegment:r,abortSet:n,legacyContext:s,context:o,treeContext:a};return n.add(l),l}function _x(t,e,i,r,n,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:i,lastPushedText:n,textEmbedded:s}}function jw(t,e){if(t=t.onError(e),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function Nx(t,e){var i=t.onShellError;i(e),i=t.onFatalError,i(e),t.destination!==null?(t.status=2,$re(t.destination,e)):(t.status=1,t.fatalError=e)}function F5(t,e,i,r,n){for(xc={},yB=e,zw=0,t=i(r,n);Lx;)Lx=!1,zw=0,qO+=1,$i=null,t=i(r,n);return wB(),t}function I5(t,e,i,r){var n=i.render(),s=r.childContextTypes;if(s!=null){var o=e.legacyContext;if(typeof i.getChildContext!="function")r=o;else{i=i.getChildContext();for(var a in i)if(!(a in s))throw Error(Gt(108,z1(r)||"Unknown",a));r=SS({},o,i)}e.legacyContext=r,To(t,e,n),e.legacyContext=o}else To(t,e,n)}function L5(t,e){if(t&&t.defaultProps){e=SS({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function K1(t,e,i,r,n){if(typeof i=="function")if(i.prototype&&i.prototype.isReactComponent){n=T5(i,e.legacyContext);var s=i.contextType;s=new i(r,typeof s=="object"&&s!==null?s._currentValue:n),P5(s,i,r,n),I5(t,e,s,i)}else{s=T5(i,e.legacyContext),n=F5(t,e,i,r,s);var o=zw!==0;if(typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0)P5(n,i,r,s),I5(t,e,n,i);else if(o){r=e.treeContext,e.treeContext=j1(r,1,0);try{To(t,e,n)}finally{e.treeContext=r}}else To(t,e,n)}else if(typeof i=="string"){switch(n=e.blockedSegment,s=WLe(n.chunks,i,r,t.responseState,n.formatContext),n.lastPushedText=!1,o=n.formatContext,n.formatContext=GLe(o,i,r),Y1(t,e,s),n.formatContext=o,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:n.chunks.push(ULe,$t(i),zLe)}n.lastPushedText=!1}else{switch(i){case B_e:case $_e:case jre:case Kre:case zre:To(t,e,r.children);return;case Zre:To(t,e,r.children);return;case H_e:throw Error(Gt(343));case Qre:e:{i=e.blockedBoundary,n=e.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=_x(t,n.chunks.length,a,n.formatContext,!1,!1);n.children.push(l),n.lastPushedText=!1;var u=_x(t,0,null,n.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(Y1(t,e,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(vB),u.status=1,Gx(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=jw(t,c)}finally{e.blockedBoundary=i,e.blockedSegment=n}e=EB(t,s,i,l,o,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Xre:if(r=F5(t,e,i.render,r,n),zw!==0){i=e.treeContext,e.treeContext=j1(i,1,0);try{To(t,e,r)}finally{e.treeContext=i}}else To(t,e,r);return;case Jre:i=i.type,r=L5(i,r),K1(t,e,i,r,n);return;case Yre:if(n=r.children,i=i._context,r=r.value,s=i._currentValue,i._currentValue=r,o=hp,hp=r={parent:o,depth:o===null?0:o.depth+1,context:i,parentValue:s,value:r},e.context=r,To(t,e,n),t=hp,t===null)throw Error(Gt(403));r=t.parentValue,t.context._currentValue=r===W_e?t.context._defaultValue:r,t=hp=t.parent,e.context=t;return;case qre:r=r.children,r=r(i._currentValue),To(t,e,r);return;case CB:n=i._init,i=n(i._payload),r=L5(i,r),K1(t,e,i,r,void 0);return}throw Error(Gt(130,i==null?i:typeof i,""))}}function To(t,e,i){if(e.node=i,typeof i=="object"&&i!==null){switch(i.$$typeof){case V_e:K1(t,e,i.type,i.props,i.ref);return;case Ure:throw Error(Gt(257));case CB:var r=i._init;i=r(i._payload),To(t,e,i);return}if(U1(i)){_5(t,e,i);return}if(i===null||typeof i!="object"?r=null:(r=R5&&i[R5]||i["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(i))){if(i=r.next(),!i.done){var n=[];do n.push(i.value),i=r.next();while(!i.done);_5(t,e,n)}return}throw t=Object.prototype.toString.call(i),Error(Gt(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}typeof i=="string"?(r=e.blockedSegment,r.lastPushedText=v5(e.blockedSegment.chunks,i,t.responseState,r.lastPushedText)):typeof i=="number"&&(r=e.blockedSegment,r.lastPushedText=v5(e.blockedSegment.chunks,""+i,t.responseState,r.lastPushedText))}function _5(t,e,i){for(var r=i.length,n=0;n<r;n++){var s=e.treeContext;e.treeContext=j1(s,r,n);try{Y1(t,e,i[n])}finally{e.treeContext=s}}}function Y1(t,e,i){var r=e.blockedSegment.formatContext,n=e.legacyContext,s=e.context;try{return To(t,e,i)}catch(l){if(wB(),typeof l=="object"&&l!==null&&typeof l.then=="function"){i=l;var o=e.blockedSegment,a=_x(t,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,t=EB(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,i.then(t,t),e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,Ix(s)}else throw e.blockedSegment.formatContext=r,e.legacyContext=n,e.context=s,Ix(s),l}}function eNe(t){var e=t.blockedBoundary;t=t.blockedSegment,t.status=3,ane(this,e,t)}function one(t,e,i){var r=t.blockedBoundary;t.blockedSegment.status=3,r===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,t=i===void 0?Error(Gt(432)):i,r.errorDigest=e.onError(t),r.parentFlushed&&e.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(n){return one(n,e,i)}),r.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(r=e.onAllReady,r()))}function Gx(t,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var i=e.children[0];i.id=e.id,i.parentFlushed=!0,i.status===1&&Gx(t,i)}else t.completedSegments.push(e)}function ane(t,e,i){if(e===null){if(i.parentFlushed){if(t.completedRootSegment!==null)throw Error(Gt(389));t.completedRootSegment=i}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=tS,e=t.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(i.parentFlushed&&i.status===1&&Gx(e,i),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(eNe,t),e.fallbackAbortableTasks.clear()):i.parentFlushed&&i.status===1&&(Gx(e,i),e.completedSegments.length===1&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function lne(t){if(t.status!==2){var e=hp,i=jL.current;jL.current=M5;var r=jD;jD=t.responseState;try{var n=t.pingedTasks,s;for(s=0;s<n.length;s++){var o=n[s],a=t,l=o.blockedSegment;if(l.status===0){Ix(o.context);try{To(a,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(vB),o.abortSet.delete(o),l.status=1,ane(a,o.blockedBoundary,l)}catch(g){if(wB(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=o.ping;g.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=g,h=jw(a,d);if(c===null?Nx(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var f=a.onAllReady;f()}}}finally{}}}n.splice(0,s),t.destination!==null&&bB(t,t.destination)}catch(g){jw(t,g),Nx(t,g)}finally{jD=r,jL.current=i,i===M5&&Ix(e)}}}function NT(t,e,i){switch(i.parentFlushed=!0,i.status){case 0:var r=i.id=t.nextSegmentId++;return i.lastPushedText=!1,i.textEmbedded=!1,t=t.responseState,st(e,jLe),st(e,t.placeholderPrefix),t=$t(r.toString(16)),st(e,t),Ji(e,KLe);case 1:i.status=2;var n=!0;r=i.chunks;var s=0;i=i.children;for(var o=0;o<i.length;o++){for(n=i[o];s<n.index;s++)st(e,r[s]);n=XO(t,e,n)}for(;s<r.length-1;s++)st(e,r[s]);return s<r.length&&(n=Ji(e,r[s])),n;default:throw Error(Gt(390))}}function XO(t,e,i){var r=i.boundary;if(r===null)return NT(t,e,i);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Ji(e,QLe),st(e,JLe),r&&(st(e,t_e),st(e,$t(_n(r))),st(e,e_e)),Ji(e,i_e),NT(t,e,i);else if(0<r.pendingTasks){r.rootSegmentID=t.nextSegmentId++,0<r.completedSegments.length&&t.partialBoundaries.push(r);var n=t.responseState,s=n.nextSuspenseID++;n=Ye(n.boundaryPrefix+s.toString(16)),r=r.id=n,b5(e,t.responseState,r),NT(t,e,i)}else if(r.byteSize>t.progressiveChunkSize)r.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(r),b5(e,t.responseState,r.id),NT(t,e,i);else{if(Ji(e,YLe),i=r.completedSegments,i.length!==1)throw Error(Gt(391));XO(t,e,i[0])}return Ji(e,ZLe)}function N5(t,e,i){return R_e(e,t.responseState,i.formatContext,i.id),XO(t,e,i),T_e(e,i.formatContext)}function G5(t,e,i){for(var r=i.completedSegments,n=0;n<r.length;n++)une(t,e,i,r[n]);if(r.length=0,t=t.responseState,r=i.id,i=i.rootSegmentID,st(e,t.startInlineScript),t.sentCompleteBoundaryFunction?st(e,M_e):(t.sentCompleteBoundaryFunction=!0,st(e,O_e)),r===null)throw Error(Gt(395));return i=$t(i.toString(16)),st(e,r),st(e,F_e),st(e,t.segmentPrefix),st(e,i),Ji(e,I_e)}function une(t,e,i,r){if(r.status===2)return!0;var n=r.id;if(n===-1){if((r.id=i.rootSegmentID)===-1)throw Error(Gt(392));return N5(t,e,r)}return N5(t,e,r),t=t.responseState,st(e,t.startInlineScript),t.sentCompleteSegmentFunction?st(e,P_e):(t.sentCompleteSegmentFunction=!0,st(e,D_e)),st(e,t.segmentPrefix),n=$t(n.toString(16)),st(e,n),st(e,x_e),st(e,t.placeholderPrefix),st(e,n),Ji(e,A_e)}function bB(t,e){bo=new Uint8Array(512),Ro=0;try{var i=t.completedRootSegment;if(i!==null&&t.pendingRootTasks===0){XO(t,e,i),t.completedRootSegment=null;var r=t.responseState.bootstrapChunks;for(i=0;i<r.length-1;i++)st(e,r[i]);i<r.length&&Ji(e,r[i])}var n=t.clientRenderedBoundaries,s;for(s=0;s<n.length;s++){var o=n[s];r=e;var a=t.responseState,l=o.id,u=o.errorDigest,c=o.errorMessage,d=o.errorComponentStack;if(st(r,a.startInlineScript),a.sentClientRenderFunction?st(r,__e):(a.sentClientRenderFunction=!0,st(r,L_e)),l===null)throw Error(Gt(395));st(r,l),st(r,N_e),(u||c||d)&&(st(r,UL),st(r,$t(zL(u||"")))),(c||d)&&(st(r,UL),st(r,$t(zL(c||"")))),d&&(st(r,UL),st(r,$t(zL(d)))),Ji(r,G_e)}n.splice(0,s);var h=t.completedBoundaries;for(s=0;s<h.length;s++)G5(t,e,h[s]);h.splice(0,s),p5(e),bo=new Uint8Array(512),Ro=0;var f=t.partialBoundaries;for(s=0;s<f.length;s++){var g=f[s];e:{n=t,o=e;var m=g.completedSegments;for(a=0;a<m.length;a++)if(!une(n,o,g,m[a])){a++,m.splice(0,a);var C=!1;break e}m.splice(0,a),C=!0}if(!C){t.destination=null,s++,f.splice(0,s);return}}f.splice(0,s);var S=t.completedBoundaries;for(s=0;s<S.length;s++)G5(t,e,S[s]);S.splice(0,s)}finally{p5(e),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&e.close()}}function k5(t,e){try{var i=t.abortableTasks;i.forEach(function(r){return one(r,t,e)}),i.clear(),t.destination!==null&&bB(t,t.destination)}catch(r){jw(t,r),Nx(t,r)}}fB.renderToReadableStream=function(t,e){return new Promise(function(i,r){var n,s,o=new Promise(function(c,d){s=c,n=d}),a=J_e(t,_Le(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),NLe(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,s,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(a.status===1)a.status=2,$re(d,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=d;try{bB(a,d)}catch(h){jw(a,h),Nx(a,h)}}},cancel:function(){k5(a)}},{highWaterMark:0});c.allReady=o,i(c)},function(c){o.catch(function(){}),r(c)},n);if(e&&e.signal){var l=e.signal,u=function(){k5(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}lne(a)})};fB.version="18.2.0";var gC,cne;gC=fC,cne=fB;gC.version;gC.renderToString;var tNe=gC.renderToStaticMarkup;gC.renderToNodeStream;gC.renderToStaticNodeStream;cne.renderToReadableStream;var iNe=Object.defineProperty,rNe=Object.defineProperties,nNe=Object.getOwnPropertyDescriptors,V5=Object.getOwnPropertySymbols,sNe=Object.prototype.hasOwnProperty,oNe=Object.prototype.propertyIsEnumerable,H5=(t,e,i)=>e in t?iNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,rr=(t,e)=>{for(var i in e||(e={}))sNe.call(e,i)&&H5(t,i,e[i]);if(V5)for(var i of V5(e))oNe.call(e,i)&&H5(t,i,e[i]);return t},Rs=(t,e)=>rNe(t,nNe(e)),RB=T.createContext({setMethods:()=>{}}),aNe=t=>{const{initialProps:e,addUpdateCallback:i,CustomComponentClass:r,setMethods:n}=t,[s,o]=T.useState(e);return T.useEffect(()=>{i(a=>o(a))},[]),$.createElement(RB.Provider,{value:{setMethods:n}},$.createElement(r,rr({},s)))},lNe=T.memo(aNe),uNe=0;function $5(){return`agPortalKey_${++uNe}`}var dne=class{constructor(t,e,i,r){this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=e,this.componentType=i,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=$5(),this.portalKey=$5(),this.instanceCreated=this.isStatelessComponent()?Tr.resolve(!1):new Tr(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(t){const e=this.portalManager.getComponentWrappingElement(),i=document.createElement(e||"div");return i.classList.add("ag-react-container"),t.reactContainer=i,i}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(ft.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(ft.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()}hasMethod(t){const e=this.getFrameworkComponentInstance();return!!e&&e[t]!=null||this.fallbackMethodAvailable(t)}callMethod(t,e){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(!i){setTimeout(()=>this.callMethod(t,e));return}const r=i[t];if(r)return r.apply(i,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,e&&e[0]?e[0]:{})}addMethod(t,e){this[t]=e}init(t){return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new Tr(e=>this.createReactComponent(e))}createOrUpdatePortal(t){this.isStatelessComponent()||(t.ref=e=>{var i;this.componentInstance=e,this.addParentContainerStyleAndClasses(),(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0}),this.reactElement=this.createElement(this.reactComponent,Rs(rr({},t),{key:this.key})),this.portal=ZE.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(t,e){return T.createElement(t,e)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,e=>{t(e)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(t){if(!this.componentType.cellRenderer)return!1;const e=console.error;try{return console.error=()=>{},tNe(T.createElement(this.reactComponent,t))===""}catch{}finally{console.error=e}return!1}refreshComponent(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(t,e){const i=this[`${t}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(e)}fallbackMethodAvailable(t){return this.suppressFallbackMethods?!1:!!this[`${t}Component`]}};function TB(t,e,i){t.forEach(r=>{const n=e[r];n&&(i[r]=n)})}var Eh=class extends dne{constructor(){super(...arguments),this.awaitUpdateCallback=new Tr(t=>{this.resolveUpdateCallback=t}),this.wrapperComponent=lNe}init(t){return this.sourceParams=t,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(t,e){return super.createElement(this.wrapperComponent,{initialProps:e,CustomComponentClass:t,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new Tr(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(t){this.providedMethods=t,TB(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return Rs(rr({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new Tr(t=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>t())}))}},cNe=class extends Eh{constructor(){super(...arguments),this.date=null,this.onDateChange=t=>this.updateDate(t)}getDate(){return this.date}setDate(t){this.date=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(t){this.setDate(t),this.sourceParams.onDateChanged()}getProps(){const t=super.getProps();return t.date=this.date,t.onDateChange=this.onDateChange,delete t.onDateChanged,t}},dNe=class extends Eh{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(t){return this.providedMethods.doesFilterPass(t)}getModel(){return this.model}setModel(t){return this.model=t,this.refreshProps()}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(t){this.setModel(t).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t.onUiChange=this.onUiChange,delete t.filterChangedCallback,delete t.filterModifiedCallback,delete t.valueGetter,t}};function hne(t,e){t.parentFilterInstance(i=>{(i.setModel(e)||Tr.resolve()).then(()=>{t.filterParams.filterChangedCallback()})})}var hNe=class{constructor(t,e){this.floatingFilterParams=t,this.refreshProps=e,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return Rs(rr({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.floatingFilterParams=t,this.refreshProps()}setMethods(t){TB(this.getOptionalMethods(),t,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),hne(this.floatingFilterParams,t)}},pNe=class extends Eh{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t)}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),hne(this.sourceParams,t)}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t}},fNe=class extends Eh{refresh(t){this.sourceParams=t,this.refreshProps()}},gNe=class extends Eh{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=t=>this.updateActive(t)}setActive(t){this.awaitSetActive(t)}setExpanded(t){this.expanded=t,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(t){return this.active=t,this.refreshProps()}updateActive(t){const e=this.awaitSetActive(t);t&&e.then(()=>this.sourceParams.onItemActivated())}getProps(){const t=super.getProps();return t.active=this.active,t.expanded=this.expanded,t.onActiveChange=this.onActiveChange,delete t.onItemActivated,t}},mNe=class extends Eh{refresh(t){this.sourceParams=t,this.refreshProps()}},vNe=class extends Eh{refresh(t){return this.sourceParams=t,this.refreshProps(),!0}},CNe=class extends Eh{constructor(){super(...arguments),this.onStateChange=t=>this.updateState(t)}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getState(){return this.state}updateState(t){this.state=t,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const t=super.getProps();return t.state=this.state,t.onStateChange=this.onStateChange,t}},pne=class fne{constructor(e,i,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=i||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||fne.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(i=>i!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,i,r){this.portals=[...this.portals,e],this.waitForInstance(i,r),this.batchUpdate()}updateReactPortal(e,i){this.portals[this.portals.indexOf(e)]=i,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,i,r=Date.now()){if(this.destroyed){i(null);return}if(e.rendered())i(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){i(e);return}console.error(`AG Grid: React Component '${e.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(e,i,r)})}}};pne.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var yNe=pne,Ls=$.createContext({}),au=(...t)=>t.filter(i=>i!=null&&i!=="").join(" "),Ta=class gne{constructor(...e){this.classesMap={},e.forEach(i=>{this.classesMap[i]=!0})}setClass(e,i){if(!!this.classesMap[e]==i)return this;const n=new gne;return n.classesMap=rr({},this.classesMap),n.classesMap[e]=i,n}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},mC=t=>{const e=()=>typeof Symbol=="function"&&Symbol.for,i=()=>e()?Symbol.for("react.memo"):60115;return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===i()},SNe=nc.createRoot!=null&&nc.flushSync!=null,KD=!1;function wNe(t){return KD||setTimeout(()=>KD=!1,0),KD=!0,t()}var DB=(t,e)=>{SNe&&t&&!KD?nc.flushSync(e):e()};function PB(t,e,i){if(e==null||t==null)return e;if(t===e||e.length===0&&t.length===0)return t;if(i||t.length===0&&e.length>0||t.length>0&&e.length===0)return e;const r=[],n=[],s=new Map,o=new Map;for(let a=0;a<e.length;a++){const l=e[a];o.set(l.getInstanceId(),l)}for(let a=0;a<t.length;a++){const l=t[a];s.set(l.getInstanceId(),l),o.has(l.getInstanceId())&&r.push(l)}for(let a=0;a<e.length;a++){const l=e[a],u=l.getInstanceId();s.has(u)||n.push(l)}return r.length===t.length&&n.length===0?t:r.length===0&&n.length===e.length?e:[...r,...n]}var Yb=(t,e,i,r)=>{if(!t||t.componentFromFramework||e.isDestroyed())return;const s=t.newAgStackInstance();if(!s)return;let o,a,l=!1;return s.then(u=>{if(l){e.destroyBean(u);return}o=u,a=o.getGui(),i.appendChild(a),B5(r,o)}),()=>{l=!0,o&&(a&&a.parentElement&&a.parentElement.removeChild(a),e.destroyBean(o),r&&B5(r,void 0))}},B5=(t,e)=>{if(t)if(t instanceof Function)t(e);else{const i=t;i.current=e}},ENe=t=>{const e=t.newAgStackInstance();if(e)return e.resolveNow(null,i=>i)},mne=T.forwardRef((t,e)=>{var i;const r=T.useContext(Ls).context,n=T.useRef(null),s=T.useRef(null),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),u=T.useRef(),[c,d]=T.useState(),[h,f]=T.useState(),[g,m]=T.useState(),[C,S]=T.useState(()=>new Ta),[y,w]=T.useState(()=>new Ta("ag-hidden")),[E,b]=T.useState(()=>new Ta("ag-hidden")),[D,P]=T.useState(()=>new Ta("ag-invisible"));T.useImperativeHandle(e,()=>({refresh(){return!1}})),T.useLayoutEffect(()=>Yb(c,r,s.current),[c]);const O=T.useCallback(Q=>{if(n.current=Q,!n.current){r.destroyBean(u.current),u.current=null;return}const H={setInnerRenderer:(X,te)=>{d(X),m(te)},setChildCount:X=>f(X),addOrRemoveCssClass:(X,te)=>S(le=>le.setClass(X,te)),setContractedDisplayed:X=>b(te=>te.setClass("ag-hidden",!X)),setExpandedDisplayed:X=>w(te=>te.setClass("ag-hidden",!X)),setCheckboxVisible:X=>P(te=>te.setClass("ag-invisible",!X))};u.current=r.createBean(new zf),u.current.init(H,n.current,o.current,a.current,l.current,mne,t)},[]),N=T.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),_=T.useMemo(()=>`ag-group-expanded ${y.toString()}`,[y]),I=T.useMemo(()=>`ag-group-contracted ${E.toString()}`,[E]),k=T.useMemo(()=>`ag-group-checkbox ${D.toString()}`,[D]),B=c&&c.componentFromFramework,U=B?c.componentClass:void 0,K=c==null&&g!=null,j=ft.escapeString(g,!0);return $.createElement("span",rr({className:N,ref:O},t.colDef?{}:{role:(i=u.current)==null?void 0:i.getCellAriaRole()}),$.createElement("span",{className:_,ref:a}),$.createElement("span",{className:I,ref:l}),$.createElement("span",{className:k,ref:o}),$.createElement("span",{className:"ag-group-value",ref:s},K&&$.createElement($.Fragment,null,j),B&&$.createElement(U,rr({},c.params))),$.createElement("span",{className:"ag-group-child-count"},h))}),W5=mne,bNe=t=>{const{ctrl:e}=t,i=e.isAlive(),{context:r}=T.useContext(Ls),n=i?e.getColId():void 0,[s,o]=T.useState(),a=T.useRef(null),l=T.useRef(null),u=T.useRef(null),c=T.useRef();let d=T.useRef();i&&!d.current&&(d.current=new Fb(()=>a.current));const h=T.useCallback(C=>{var S;if(a.current=C,!a.current||!i)return;const y={setWidth:E=>{a.current&&(a.current.style.width=E)},addOrRemoveCssClass:(E,b)=>d.current.addOrRemoveCssClass(E,b),setAriaSort:E=>{a.current&&(E?ft.setAriaSort(a.current,E):ft.removeAriaSort(a.current))},setUserCompDetails:E=>o(E),getUserCompInstance:()=>c.current||void 0};e.setComp(y,a.current,l.current,u.current);const w=e.getSelectAllGui();(S=l.current)==null||S.insertAdjacentElement("afterend",w)},[]);T.useLayoutEffect(()=>Yb(s,r,u.current,c),[s]),T.useEffect(()=>{e.setDragSource(a.current)},[s]);const f=T.useMemo(()=>!!((s==null?void 0:s.componentFromFramework)&&mC(s.componentClass)),[s]),g=s&&s.componentFromFramework,m=s&&s.componentClass;return $.createElement("div",{ref:h,className:"ag-header-cell","col-id":n,role:"columnheader"},$.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),$.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},g&&f&&$.createElement(m,rr({},s.params)),g&&!f&&$.createElement(m,Rs(rr({},s.params),{ref:c}))))},RNe=T.memo(bNe),TNe=t=>{const{context:e}=T.useContext(Ls),{ctrl:i}=t,[r,n]=T.useState(()=>new Ta),[s,o]=T.useState(()=>new Ta),[a,l]=T.useState("false"),[u,c]=T.useState(),[d,h]=T.useState(),f=T.useMemo(()=>i.getColId(),[]),g=T.useRef(null),m=T.useRef(null),C=T.useRef(),S=T.useCallback(P=>{if(g.current=P,!g.current)return;const O={setWidth:N=>{g.current&&(g.current.style.width=N)},addOrRemoveCssClass:(N,_)=>n(I=>I.setClass(N,_)),setUserCompDetails:N=>h(N),setResizableDisplayed:N=>{o(_=>_.setClass("ag-hidden",!N)),l(N?"false":"true")},setAriaExpanded:N=>c(N),getUserCompInstance:()=>C.current||void 0};i.setComp(O,g.current,m.current)},[]);T.useLayoutEffect(()=>Yb(d,e,g.current),[d]),T.useEffect(()=>{g.current&&i.setDragSource(g.current)},[d]);const y=T.useMemo(()=>!!((d==null?void 0:d.componentFromFramework)&&mC(d.componentClass)),[d]),w=T.useMemo(()=>"ag-header-group-cell "+r.toString(),[r]),E=T.useMemo(()=>"ag-header-cell-resize "+s.toString(),[s]),b=d&&d.componentFromFramework,D=d&&d.componentClass;return $.createElement("div",{ref:S,className:w,"col-id":f,role:"columnheader","aria-expanded":u},b&&y&&$.createElement(D,rr({},d.params)),b&&!y&&$.createElement(D,Rs(rr({},d.params),{ref:C})),$.createElement("div",{ref:m,"aria-hidden":a,className:E}))},DNe=T.memo(TNe);function xB(){ft.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var PNe=t=>{const{context:e,gridOptionsService:i}=T.useContext(Ls),[r,n]=T.useState(()=>new Ta("ag-header-cell","ag-floating-filter")),[s,o]=T.useState(()=>new Ta),[a,l]=T.useState(()=>new Ta("ag-floating-filter-button","ag-hidden")),[u,c]=T.useState("false"),[d,h]=T.useState(),[f,g]=T.useState(1),m=T.useRef(null),C=T.useRef(null),S=T.useRef(null),y=T.useRef(null),w=T.useRef(),E=T.useRef(),b=Q=>{Q!=null&&w.current&&w.current(Q)},{ctrl:D}=t,P=T.useCallback(Q=>{if(m.current=Q,!m.current)return;E.current=new Tr(X=>{w.current=X});const H={addOrRemoveCssClass:(X,te)=>n(le=>le.setClass(X,te)),addOrRemoveBodyCssClass:(X,te)=>o(le=>le.setClass(X,te)),setButtonWrapperDisplayed:X=>{l(te=>te.setClass("ag-hidden",!X)),c(X?"false":"true")},setWidth:X=>{m.current&&(m.current.style.width=X)},setCompDetails:X=>h(X),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:X=>{var te;return(te=y.current)==null?void 0:te.appendChild(X)}};D.setComp(H,m.current,y.current,C.current)},[]);T.useLayoutEffect(()=>Yb(d,e,C.current,b),[d]);const O=T.useMemo(()=>r.toString(),[r]),N=T.useMemo(()=>s.toString(),[s]),_=T.useMemo(()=>a.toString(),[a]),I=T.useMemo(()=>!!(d&&d.componentFromFramework&&mC(d.componentClass)),[d]),k=T.useMemo(()=>i.get("reactiveCustomComponents"),[]),B=T.useMemo(()=>{if(d)if(k){const Q=new hNe(d.params,()=>g(H=>H+1));return b(Q),Q}else d.componentFromFramework&&xB()},[d]),U=B==null?void 0:B.getProps(),K=d&&d.componentFromFramework,j=d&&d.componentClass;return $.createElement("div",{ref:P,className:O,role:"gridcell"},$.createElement("div",{ref:C,className:N,role:"presentation"},K&&!k&&$.createElement(j,Rs(rr({},d.params),{ref:I?()=>{}:b})),K&&k&&$.createElement(RB.Provider,{value:{setMethods:Q=>B.setMethods(Q)}},$.createElement(j,rr({},U)))),$.createElement("div",{ref:S,"aria-hidden":u,className:_,role:"presentation"},$.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},xNe=T.memo(PNe),ANe=t=>{const{ctrl:e}=t,{topOffset:i,rowHeight:r}=T.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),s=e.getHeaderRowClass(),[o,a]=T.useState(()=>r+"px"),[l,u]=T.useState(()=>i+"px"),[c,d]=T.useState(()=>e.getHeaderCtrls()),h=T.useRef(null),f=T.useCallback(C=>{if(h.current=C,!C)return;const S={setHeight:y=>a(y),setTop:y=>u(y),setHeaderCtrls:(y,w,E)=>{DB(E,()=>{d(b=>PB(b,y,w))})},setWidth:y=>{h.current&&(h.current.style.width=y)}};e.setComp(S,!1)},[]),g=T.useMemo(()=>({height:o,top:l}),[o,l]),m=T.useCallback(C=>{switch(e.getType()){case x1.COLUMN_GROUP:return $.createElement(DNe,{ctrl:C,key:C.getInstanceId()});case x1.FLOATING_FILTER:return $.createElement(xNe,{ctrl:C,key:C.getInstanceId()});default:return $.createElement(RNe,{ctrl:C,key:C.getInstanceId()})}},[]);return $.createElement("div",{ref:f,className:s,role:"row",style:g,"aria-rowindex":n},c.map(m))},ONe=T.memo(ANe),MNe=t=>{const[e,i]=T.useState(!0),[r,n]=T.useState([]),{context:s}=T.useContext(Ls),o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),u=t.pinned==="left",c=t.pinned==="right",d=!u&&!c,h=T.useCallback(m=>{if(o.current=m,!o.current){s.destroyBean(l.current),l.current=null;return}const C={setDisplayed:i,setCtrls:S=>n(S),setCenterWidth:S=>{a.current&&(a.current.style.width=S)},setViewportScrollLeft:S=>{o.current&&(o.current.scrollLeft=S)},setPinnedContainerWidth:S=>{o.current&&(o.current.style.width=S,o.current.style.minWidth=S,o.current.style.maxWidth=S)}};l.current=s.createBean(new mh(t.pinned)),l.current.setComp(C,o.current)},[]),f=e?"":"ag-hidden",g=()=>r.map(m=>$.createElement(ONe,{ctrl:m,key:m.getInstanceId()}));return $.createElement($.Fragment,null,u&&$.createElement("div",{ref:h,className:"ag-pinned-left-header "+f,"aria-hidden":!e,role:"rowgroup"},g()),c&&$.createElement("div",{ref:h,className:"ag-pinned-right-header "+f,"aria-hidden":!e,role:"rowgroup"},g()),d&&$.createElement("div",{ref:h,className:"ag-header-viewport "+f,role:"presentation"},$.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},g())))},KL=T.memo(MNe),FNe=()=>{const[t,e]=T.useState(()=>new Ta),[i,r]=T.useState(),{context:n}=T.useContext(Ls),s=T.useRef(null),o=T.useRef(null),a=T.useCallback(c=>{if(s.current=c,!c){n.destroyBean(o.current),o.current=null;return}const d={addOrRemoveCssClass:(h,f)=>e(g=>g.setClass(h,f)),setHeightAndMinHeight:h=>r(h)};o.current=n.createBean(new vh),o.current.setComp(d,s.current,s.current)},[]),l=T.useMemo(()=>"ag-header "+t.toString(),[t]),u=T.useMemo(()=>({height:i,minHeight:i}),[i]);return $.createElement("div",{ref:a,className:l,style:u,role:"presentation"},$.createElement(KL,{pinned:"left"}),$.createElement(KL,{pinned:null}),$.createElement(KL,{pinned:"right"}))},INe=T.memo(FNe),LNe=(t,e)=>{T.useEffect(()=>{const i=e.current;if(i){const r=i.parentElement;if(r){const n=document.createComment(t);return r.insertBefore(n,i),()=>{r.removeChild(n)}}}},[t])},ip=LNe,_Ne=t=>{const e=T.useRef(t),i=T.useRef(),r=T.useRef(!1),n=T.useRef(!1),[,s]=T.useState(0);r.current&&(n.current=!0),T.useEffect(()=>(r.current||(i.current=e.current(),r.current=!0),s(o=>o+1),()=>{n.current&&i.current&&i.current()}),[])},NNe=t=>{const[e,i]=T.useState(),{context:r,popupService:n,localeService:s,gridOptionsService:o}=T.useContext(Ls);return _Ne(()=>{const{editDetails:a,cellCtrl:l,eParentCell:u}=t,{compDetails:c}=a,d=o.get("stopEditingWhenCellsLoseFocus"),h=r.createBean(new qie(c.params)),f=h.getGui();if(t.jsChildComp){const w=t.jsChildComp.getGui();w&&f.appendChild(w)}const g={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:u,ePopup:f,position:a.popupPosition,keepWithinBounds:!0},m=n.positionPopupByComponent.bind(n,g),C=s.getLocaleTextFunc(),S=n.addPopup({modal:d,eChild:f,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:u,positionCallback:m,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),y=S?S.hideFunc:void 0;return i(h),t.jsChildComp&&t.jsChildComp.afterGuiAttached&&t.jsChildComp.afterGuiAttached(),()=>{y!=null&&y(),r.destroyBean(h)}}),$.createElement($.Fragment,null,e&&t.wrappedContent&&ZE.createPortal(t.wrappedContent,e.getGui()))},U5=T.memo(NNe),GNe=(t,e,i,r,n,s)=>{const{context:o}=T.useContext(Ls),a=T.useCallback(()=>{const l=n.current;if(!l)return;const u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),o.destroyBean(l),n.current=void 0},[]);T.useEffect(()=>{const l=t!=null,u=t&&t.compDetails&&!t.compDetails.componentFromFramework,c=e&&i==null;if(!(l&&u&&!c)){a();return}const h=t.compDetails;if(n.current){const S=n.current,w=S.refresh!=null&&t.force==!1?S.refresh(h.params):!1;if(w===!0||w===void 0)return;a()}const f=h.newAgStackInstance();if(!f)return;const g=f.resolveNow(null,S=>S);if(!g)return;const m=g.getGui();if(!m)return;(e?i:s.current).appendChild(m),n.current=g},[t,e,r]),T.useEffect(()=>a,[])},kNe=GNe,VNe=class{constructor(t,e){this.cellEditorParams=t,this.refreshProps=e,this.instanceCreated=new Tr(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=t.value}getProps(){return Rs(rr({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(t){this.cellEditorParams=t,this.refreshProps()}setMethods(t){TB(this.getOptionalMethods(),t,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(t){var e;this.componentInstance=t,(e=this.resolveInstanceCreated)==null||e.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(t){this.value=t,this.refreshProps()}},HNe=(t,e,i)=>{const r=i.getColumn();if(!t&&e.isPopup&&e.isPopup()){const n=`AG Grid: Found an issue in column ${r.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;ft.doOnce(()=>console.warn(n),"jsEditorComp-isPopup-"+i.getColumn().getColId())}if(t&&e.getPopupPosition&&e.getPopupPosition()!=null){const n=`AG Grid: Found an issue in column ${r.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;ft.doOnce(()=>console.warn(n),"jsEditorComp-getPopupPosition-"+i.getColumn().getColId())}},$Ne=(t,e,i)=>{const{compProxy:r}=t;i(r);const n=r.getProps(),s=mC(e);return $.createElement(RB.Provider,{value:{setMethods:o=>r.setMethods(o)}},s&&$.createElement(e,rr({},n)),!s&&$.createElement(e,Rs(rr({},n),{ref:o=>r.setRef(o)})))},z5=(t,e,i)=>{const r=t.compProxy;return $.createElement($.Fragment,null,!r&&$.createElement(e,Rs(rr({},t.compDetails.params),{ref:i})),r&&$Ne(t,e,i))},BNe=(t,e,i,r,n,s)=>{const o=t.compDetails,a=o.componentClass,l=o.componentFromFramework&&!t.popup,u=o.componentFromFramework&&t.popup,c=!o.componentFromFramework&&t.popup;return $.createElement($.Fragment,null,l&&z5(t,a,e),u&&$.createElement(U5,{editDetails:t,cellCtrl:n,eParentCell:r,wrappedContent:z5(t,a,i)}),c&&s&&$.createElement(U5,{editDetails:t,cellCtrl:n,eParentCell:r,jsChildComp:s}))},WNe=(t,e,i,r,n,s,o)=>{const{compDetails:a,value:l}=t,u=!a,c=a&&a.componentFromFramework,d=a&&a.componentClass,h=l!=null&&l.toString?l.toString():l,f=()=>$.createElement($.Fragment,null,u&&$.createElement($.Fragment,null,h),c&&!s&&$.createElement(d,Rs(rr({},a.params),{key:e,ref:r})),c&&s&&$.createElement(d,Rs(rr({},a.params),{key:e})));return $.createElement($.Fragment,null,n?$.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:o},f()):f())},UNe=t=>{const{context:e}=T.useContext(Ls),{cellCtrl:i,printLayout:r,editingRow:n}=t,s=i.getTabIndex(),o=i.getColumnIdSanitised(),a=i.getInstanceId(),[l,u]=T.useState(()=>i.isCellRenderer()?void 0:{compDetails:void 0,value:i.getValueToDisplay(),force:!1}),[c,d]=T.useState(),[h,f]=T.useState(1),[g,m]=T.useState(),[C,S]=T.useState(!1),[y,w]=T.useState(!1),[E,b]=T.useState(!1),[D,P]=T.useState(),O=T.useMemo(()=>i.isForceWrapper(),[i]),N=T.useMemo(()=>i.getCellAriaRole(),[i]),_=T.useRef(null),I=T.useRef(null),k=T.useRef(),B=T.useRef(),U=T.useRef(),K=T.useRef([]),j=T.useRef(),[Q,H]=T.useState(0),X=T.useCallback(Ce=>{j.current=Ce,H(re=>re+1)},[]),te=l!=null&&(C||E||y),le=O||te,J=T.useCallback((Ce,re)=>{B.current=re,re&&(HNe(Ce,re,i),re.isCancelBeforeStart&&re.isCancelBeforeStart()&&setTimeout(()=>{i.stopEditing(!0),i.focusCell(!0)}))},[i]),ie=T.useCallback(Ce=>J(!0,Ce),[J]),ue=T.useCallback(Ce=>J(!1,Ce),[J]);let me=T.useRef();me.current||(me.current=new Fb(()=>_.current)),kNe(l,le,j.current,Q,k,_);const se=T.useRef();T.useLayoutEffect(()=>{const Ce=se.current,re=l;if(se.current=l,Ce==null||Ce.compDetails==null||re==null||re.compDetails==null)return;const oe=Ce.compDetails,fe=re.compDetails;if(oe.componentClass!=fe.componentClass||I.current==null||I.current.refresh==null)return;I.current.refresh(fe.params)!=!0&&f(Ue=>Ue+1)},[l]),T.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const re=c.compDetails,oe=c.popup===!0,fe=ENe(re);if(!fe)return;const we=fe.getGui();if(J(oe,fe),!oe){const Ue=(O?U:_).current;Ue==null||Ue.appendChild(we),fe.afterGuiAttached&&fe.afterGuiAttached()}return P(fe),()=>{e.destroyBean(fe),J(oe,void 0),P(void 0),we&&we.parentElement&&we.parentElement.removeChild(we)}},[c]);const he=T.useCallback(Ce=>{if(U.current=Ce,!U.current){K.current.forEach(oe=>oe()),K.current=[];return}const re=oe=>{var fe;if(oe){const we=oe.getGui();(fe=U.current)==null||fe.insertAdjacentElement("afterbegin",we),K.current.push(()=>{e.destroyBean(oe),ft.removeFromParent(we)})}return oe};if(C){const oe=i.createSelectionCheckbox();re(oe)}E&&re(i.createDndSource()),y&&re(i.createRowDragComp())},[i,e,E,y,C]),Ee=T.useCallback(Ce=>{if(_.current=Ce,!_.current||!i)return;const re={addOrRemoveCssClass:(fe,we)=>me.current.addOrRemoveCssClass(fe,we),setUserStyles:fe=>m(fe),getFocusableElement:()=>_.current,setIncludeSelection:fe=>S(fe),setIncludeRowDrag:fe=>w(fe),setIncludeDndSource:fe=>b(fe),getCellEditor:()=>B.current||null,getCellRenderer:()=>I.current?I.current:k.current,getParentOfValue:()=>j.current?j.current:U.current?U.current:_.current,setRenderDetails:(fe,we,Ue)=>{u(Be=>(Be==null?void 0:Be.compDetails)!==fe||(Be==null?void 0:Be.value)!==we||(Be==null?void 0:Be.force)!==Ue?{value:we,compDetails:fe,force:Ue}:Be)},setEditDetails:(fe,we,Ue,Be)=>{if(fe){let Ve;Be?Ve=new VNe(fe.params,()=>f(qe=>qe+1)):fe.componentFromFramework&&xB(),d({compDetails:fe,popup:we,popupPosition:Ue,compProxy:Ve}),we||u(void 0)}else d(Ve=>{Ve!=null&&Ve.compProxy&&(B.current=void 0)})}},oe=U.current||void 0;i.setComp(re,_.current,oe,r,n)},[]),pe=T.useMemo(()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&mC(l.compDetails.componentClass)),[l]);T.useLayoutEffect(()=>{var Ce;_.current&&(me.current.addOrRemoveCssClass("ag-cell-value",!le),me.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),me.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),me.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),(Ce=i.getRowCtrl())==null||Ce.setInlineEditingCss(!!c),i.shouldRestoreFocus()&&!i.isEditing()&&_.current.focus({preventScroll:!0}))});const ye=()=>$.createElement($.Fragment,null,l!=null&&WNe(l,h,a,I,le,pe,X),c!=null&&BNe(c,ue,ie,_.current,i,D));return $.createElement("div",{ref:Ee,style:g,tabIndex:s,role:N,"col-id":o},le?$.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:he},ye()):ye())},zNe=T.memo(UNe),jNe=t=>{const{context:e,gridOptionsService:i}=T.useContext(Ls),{rowCtrl:r,containerType:n}=t,s=r.getTabIndex(),o=T.useRef(r.getDomOrder()),a=r.isFullWidth(),l=r.getRowNode().displayed,[u,c]=T.useState(()=>l?r.getRowIndex():null),[d,h]=T.useState(()=>r.getRowId()),[f,g]=T.useState(()=>r.getBusinessKey()),[m,C]=T.useState(()=>r.getRowStyles()),[S,y]=T.useState(()=>null),[w,E]=T.useState(),[b,D]=T.useState(()=>l?r.getInitialRowTop(n):void 0),[P,O]=T.useState(()=>l?r.getInitialTransform(n):void 0),N=T.useRef(null),_=T.useRef(),I=T.useRef(!1),[k,B]=T.useState(0);T.useEffect(()=>{var ie;if(I.current||!w||k>10)return;const ue=(ie=N.current)==null?void 0:ie.firstChild;ue?(r.setupDetailRowAutoHeight(ue),I.current=!0):B(me=>me+1)},[w,k]);let U=T.useRef();U.current||(U.current=new Fb(()=>N.current));const K=T.useCallback(ie=>{if(N.current=ie,!N.current){r.unsetComp(n);return}if(!r.isAlive())return;const ue={setTop:D,setTransform:O,addOrRemoveCssClass:(me,se)=>U.current.addOrRemoveCssClass(me,se),setDomOrder:me=>o.current=me,setRowIndex:c,setRowId:h,setRowBusinessKey:g,setUserStyles:C,setCellCtrls:(me,se)=>{DB(se,()=>{y(he=>PB(he,me,o.current))})},showFullWidth:me=>E(me),getFullWidthCellRenderer:()=>_.current,refreshFullWidth:me=>te.current?(E(se=>Rs(rr({},se),{params:me()})),!0):!_.current||!_.current.refresh?!1:_.current.refresh(me())};r.setComp(ue,N.current,n)},[]);T.useLayoutEffect(()=>Yb(w,e,N.current,_),[w]);const j=T.useMemo(()=>{const ie={top:b,transform:P};return Object.assign(ie,m),ie},[b,P,m]),Q=a&&w&&w.componentFromFramework,H=!a&&S!=null,X=T.useMemo(()=>!!((w==null?void 0:w.componentFromFramework)&&mC(w.componentClass)),[w]),te=T.useRef(!1);T.useEffect(()=>{te.current=X&&!!w&&!!i.get("reactiveCustomComponents")},[X,w]);const le=()=>S==null?void 0:S.map(ie=>$.createElement(zNe,{cellCtrl:ie,editingRow:r.isEditing(),printLayout:r.isPrintLayout(),key:ie.getInstanceId()})),J=()=>{const ie=w.componentClass;return $.createElement($.Fragment,null,X&&$.createElement(ie,rr({},w.params)),!X&&$.createElement(ie,Rs(rr({},w.params),{ref:_})))};return $.createElement("div",{ref:K,role:"row",style:j,"row-index":u,"row-id":d,"row-business-key":f,tabIndex:s},H&&le(),Q&&J())},KNe=T.memo(jNe),YNe=t=>{const{context:e}=T.useContext(Ls),{name:i}=t,r=T.useMemo(()=>jie(i),[i]),n=T.useRef(null),s=T.useRef(null),o=T.useRef([]),[a,l]=T.useState(()=>[]),u=T.useRef(!1),c=T.useRef(),d=T.useMemo(()=>vx.getRowContainerCssClasses(i),[i]),h=T.useMemo(()=>au(d.viewport),[d]),f=T.useMemo(()=>au(d.container),[d]),g=i===Mr.CENTER||i===Mr.TOP_CENTER||i===Mr.BOTTOM_CENTER||i===Mr.STICKY_TOP_CENTER,m=g?n:s;ip(" AG Row Container "+i+" ",m);const C=T.useCallback(()=>g?n.current!=null&&s.current!=null:s.current!=null,[]),S=T.useCallback(()=>g?n.current==null&&s.current==null:s.current==null,[]),y=T.useCallback(()=>{if(S()&&(e.destroyBean(c.current),c.current=null),C()){const D=O=>{DB(O,()=>{l(N=>PB(N,o.current,u.current))})},P={setViewportHeight:O=>{n.current&&(n.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:N})=>{const _=!!N&&o.current.length>0&&O.length>0;o.current=O,D(_)},setDomOrder:O=>{u.current!=O&&(u.current=O,D(!1))},setContainerWidth:O=>{s.current&&(s.current.style.width=O)}};c.current=e.createBean(new vx(i)),c.current.setComp(P,s.current,n.current)}},[C,S]),w=T.useCallback(D=>{s.current=D,y()},[y]),E=T.useCallback(D=>{n.current=D,y()},[y]),b=()=>$.createElement("div",{className:f,ref:w,role:"rowgroup"},a.map(D=>$.createElement(KNe,{rowCtrl:D,containerType:r,key:D.getInstanceId()})));return $.createElement($.Fragment,null,g?$.createElement("div",{className:h,ref:E,role:"presentation"},b()):b())},qNe=T.memo(YNe),XNe=()=>{const{context:t,agStackComponentsRegistry:e,resizeObserverService:i}=T.useContext(Ls),[r,n]=T.useState(""),[s,o]=T.useState(0),[a,l]=T.useState(0),[u,c]=T.useState("0px"),[d,h]=T.useState("0px"),[f,g]=T.useState("100%"),[m,C]=T.useState(""),[S,y]=T.useState(""),[w,E]=T.useState(null),[b,D]=T.useState(""),[P,O]=T.useState(null),[N,_]=T.useState("ag-layout-normal");let I=T.useRef();I.current||(I.current=new Fb(()=>k.current));const k=T.useRef(null),B=T.useRef(null),U=T.useRef(null),K=T.useRef(null),j=T.useRef(null),Q=T.useRef(null),H=T.useRef([]),X=T.useRef([]);ip(" AG Grid Body ",k),ip(" AG Pinned Top ",B),ip(" AG Sticky Top ",U),ip(" AG Middle ",j),ip(" AG Pinned Bottom ",Q);const te=T.useCallback(re=>{if(k.current=re,!k.current){t.destroyBeans(H.current),X.current.forEach(Be=>Be()),H.current=[],X.current=[];return}if(!t)return;const oe=Be=>{const Ve=e.getComponentClass(Be),qe=t.createBean(new Ve);return H.current.push(qe),qe},fe=(Be,Ve)=>{Be.appendChild(Ve),X.current.push(()=>Be.removeChild(Ve))};fe(k.current,document.createComment(" AG Fake Horizontal Scroll ")),fe(k.current,oe("AG-FAKE-HORIZONTAL-SCROLL").getGui()),fe(k.current,document.createComment(" AG Overlay Wrapper ")),fe(k.current,oe("AG-OVERLAY-WRAPPER").getGui()),K.current&&(fe(K.current,document.createComment(" AG Fake Vertical Scroll ")),fe(K.current,oe("AG-FAKE-VERTICAL-SCROLL").getGui()));const we={setRowAnimationCssOnBodyViewport:n,setColumnCount:Be=>{k.current&&ft.setAriaColCount(k.current,Be)},setRowCount:Be=>{k.current&&ft.setAriaRowCount(k.current,Be)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:c,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:C,setBottomDisplay:y,setColumnMovingCss:(Be,Ve)=>I.current.addOrRemoveCssClass(Be,Ve),updateLayoutClasses:_,setAlwaysVerticalScrollClass:E,setPinnedTopBottomOverflowY:D,setCellSelectableCss:(Be,Ve)=>O(Ve?Be:null),setBodyViewportWidth:Be=>{j.current&&(j.current.style.width=Be)},registerBodyViewportResizeListener:Be=>{if(j.current){const Ve=i.observeResize(j.current,Be);X.current.push(()=>Ve())}}},Ue=t.createBean(new as);H.current.push(Ue),Ue.setComp(we,k.current,j.current,B.current,Q.current,U.current)},[]),le=T.useMemo(()=>au("ag-root","ag-unselectable",N),[N]),J=T.useMemo(()=>au("ag-body-viewport",r,N,w,P),[r,N,w,P]),ie=T.useMemo(()=>au("ag-body",N),[N]),ue=T.useMemo(()=>au("ag-floating-top",P),[P]),me=T.useMemo(()=>au("ag-sticky-top",P),[P]),se=T.useMemo(()=>au("ag-floating-bottom",P),[P]),he=T.useMemo(()=>({height:s,minHeight:s,display:m,overflowY:b}),[s,m,b]),Ee=T.useMemo(()=>({height:u,top:d,width:f}),[u,d,f]),pe=T.useMemo(()=>({height:a,minHeight:a,display:S,overflowY:b}),[a,S,b]),ye=re=>$.createElement(qNe,{name:re,key:`${re}-container`}),Ce=({section:re,children:oe,className:fe,style:we})=>$.createElement("div",{ref:re,className:fe,role:"presentation",style:we},oe.map(ye));return $.createElement("div",{ref:te,className:le,role:"treegrid"},$.createElement(INe,null),Ce({section:B,className:ue,style:he,children:[Mr.TOP_LEFT,Mr.TOP_CENTER,Mr.TOP_RIGHT,Mr.TOP_FULL_WIDTH]}),$.createElement("div",{className:ie,ref:K,role:"presentation"},Ce({section:j,className:J,children:[Mr.LEFT,Mr.CENTER,Mr.RIGHT,Mr.FULL_WIDTH]})),Ce({section:U,className:me,style:Ee,children:[Mr.STICKY_TOP_LEFT,Mr.STICKY_TOP_CENTER,Mr.STICKY_TOP_RIGHT,Mr.STICKY_TOP_FULL_WIDTH]}),Ce({section:Q,className:se,style:pe,children:[Mr.BOTTOM_LEFT,Mr.BOTTOM_CENTER,Mr.BOTTOM_RIGHT,Mr.BOTTOM_FULL_WIDTH]}))},QNe=T.memo(XNe),ZNe=(t,e)=>{const{children:i,eFocusableElement:r,onTabKeyDown:n,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o}=t,{context:a}=T.useContext(Ls),l=T.useRef(null),u=T.useRef(null),c=T.useRef(),d=C=>{const S=C==null?void 0:parseInt(C,10).toString();[l,u].forEach(y=>{var w,E;S===void 0?(w=y.current)==null||w.removeAttribute("tabindex"):(E=y.current)==null||E.setAttribute("tabindex",S)})};T.useImperativeHandle(e,()=>({forceFocusOutOfContainer(C){var S;(S=c.current)==null||S.forceFocusOutOfContainer(C)}}));const h=T.useCallback(()=>{if(!l.current&&!u.current){a.destroyBean(c.current),c.current=null;return}if(l.current&&u.current){const C={setTabIndex:d};c.current=a.createBean(new $O({comp:C,eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:r,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:S=>s.focusInnerElement(S)}))}},[]),f=T.useCallback(C=>{l.current=C,h()},[h]),g=T.useCallback(C=>{u.current=C,h()},[h]),m=C=>{const S=C==="top"?_D.TAB_GUARD_TOP:_D.TAB_GUARD_BOTTOM;return $.createElement("div",{className:`${_D.TAB_GUARD} ${S}`,role:"presentation",ref:C==="top"?f:g})};return $.createElement($.Fragment,null,m("top"),i,m("bottom"))},JNe=T.forwardRef(ZNe),e1e=T.memo(JNe),t1e=({context:t})=>{const[e,i]=T.useState(""),[r,n]=T.useState(""),[s,o]=T.useState(""),[a,l]=T.useState(null),[u,c]=T.useState(null),[d,h]=T.useState(!1),[f,g]=T.useState(),m=T.useRef(null),C=T.useRef(null),S=T.useRef(),[y,w]=T.useState(null),E=T.useRef(()=>{}),b=T.useCallback(()=>{},[]),D=T.useMemo(()=>t.isDestroyed()?null:t.getBean("beans"),[t]);ip(" AG Grid ",C);const P=T.useCallback(k=>{if(C.current=k,!C.current){t.destroyBean(m.current),m.current=null;return}if(t.isDestroyed())return;m.current=t.createBean(new wh);const B=m.current;E.current=B.focusInnerElement.bind(B);const U={destroyGridUi:()=>{},setRtlClass:i,forceFocusOutOfContainer:K=>{var j;(j=S.current)==null||j.forceFocusOutOfContainer(K)},updateLayoutClasses:o,getFocusableContainers:()=>{var K,j;const Q=[],H=(K=C.current)==null?void 0:K.querySelector(".ag-root"),X=(j=C.current)==null?void 0:j.querySelector(".ag-side-bar:not(.ag-hidden)");return H&&Q.push(H),X&&Q.push(X),Q},setCursor:l,setUserSelect:c};B.setComp(U,C.current,C.current),h(!0)},[]);T.useEffect(()=>{if(!f||!D||!m.current||!y||!C.current)return;const k=m.current,B=[],{agStackComponentsRegistry:U}=D,K=U.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),j=U.getComponentClass("AG-SIDE-BAR"),Q=U.getComponentClass("AG-STATUS-BAR"),H=U.getComponentClass("AG-WATERMARK"),X=U.getComponentClass("AG-PAGINATION"),te=[],le=C.current;if(k.showDropZones()&&K){const J=t.createBean(new K),ie=J.getGui();le.insertAdjacentElement("afterbegin",ie),te.push(ie),B.push(J)}if(k.showSideBar()&&j){const J=t.createBean(new j),ie=J.getGui(),ue=y.querySelector(".ag-tab-guard-bottom");ue&&(ue.insertAdjacentElement("beforebegin",ie),te.push(ie)),B.push(J)}if(k.showStatusBar()&&Q){const J=t.createBean(new Q),ie=J.getGui();le.insertAdjacentElement("beforeend",ie),te.push(ie),B.push(J)}if(X){const J=t.createBean(new X),ie=J.getGui();le.insertAdjacentElement("beforeend",ie),te.push(ie),B.push(J)}if(k.showWatermark()&&H){const J=t.createBean(new H),ie=J.getGui();le.insertAdjacentElement("beforeend",ie),te.push(ie),B.push(J)}return()=>{t.destroyBeans(B),te.forEach(J=>{J.parentElement&&J.parentElement.removeChild(J)})}},[f,y,D]);const O=T.useMemo(()=>au("ag-root-wrapper",e,r,s),[e,r,s]),N=T.useMemo(()=>au("ag-root-wrapper-body","ag-focus-managed",s),[s]),_=T.useMemo(()=>({userSelect:u??"",WebkitUserSelect:u??"",cursor:a??""}),[u,a]),I=T.useCallback(k=>{S.current=k,g(k!==null)},[]);return $.createElement("div",{ref:P,className:O,style:_,role:"presentation"},$.createElement("div",{className:N,ref:w,role:"presentation"},d&&y&&D&&$.createElement(Ls.Provider,{value:D},$.createElement(e1e,{ref:I,eFocusableElement:y,onTabKeyDown:b,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0},$.createElement(QNe,null)))))},i1e=T.memo(t1e),vne=t=>{var e,i;const r=T.useRef(),n=T.useRef(null),s=T.useRef(null),o=T.useRef([]),a=T.useRef([]),l=T.useRef(t),u=T.useRef(!1),[c,d]=T.useState(void 0),[,h]=T.useState(0),f=T.useCallback(C=>{if(n.current=C,!n.current){o.current.forEach(P=>P()),o.current.length=0;return}const S=t.modules||[];s.current||(s.current=new yNe(()=>h(P=>P+1),t.componentWrappingElement,t.maxComponentCreationTimeMs),o.current.push(()=>{var P;(P=s.current)==null||P.destroy(),s.current=null}));const y=dx.combineAttributesAndGridOptions(t.gridOptions,t),w={providedBeanInstances:{frameworkComponentWrapper:new n1e(s.current,!!y.reactiveCustomComponents)},modules:S,frameworkOverrides:new o1e},E=P=>{d(P),o.current.push(()=>{P.destroy()}),P.getBean(Ip.NAME).whenReady(()=>{if(P.isDestroyed())return;const N=r.current;N&&t.setGridApi&&t.setGridApi(N,new nv(N))})},b=P=>{P.getBean(Ip.NAME).whenReady(()=>{a.current.forEach(N=>N()),a.current.length=0,u.current=!0})},D=new xIe;r.current=D.create(n.current,y,E,b,w)},[]),g=T.useMemo(()=>rr({height:"100%"},t.containerStyle||{}),[t.containerStyle]),m=T.useCallback(C=>{u.current?C():a.current.push(C)},[]);return T.useEffect(()=>{const C=r1e(l.current,t);l.current=t,m(()=>{r.current&&dx.processOnChange(C,r.current)})},[t]),$.createElement("div",{style:g,className:t.className,ref:f},c&&!c.isDestroyed()?$.createElement(i1e,{context:c}):null,(i=(e=s.current)==null?void 0:e.getPortals())!=null?i:null)};function r1e(t,e){const i={};return Object.keys(e).forEach(r=>{const n=e[r];t[r]!==n&&(i[r]=n)}),i}var n1e=class extends AIe{constructor(t,e){super(),this.parent=t,this.reactiveCustomComponents=e}createWrapper(t,e){if(this.reactiveCustomComponents){const n=(s=>{switch(s){case"filter":return dNe;case"floatingFilterComponent":return pNe;case"dateComponent":return cNe;case"loadingOverlayComponent":return fNe;case"noRowsOverlayComponent":return mNe;case"statusPanel":return vNe;case"toolPanel":return CNe;case"menuItem":return gNe}})(e.propertyName);if(n)return new n(t,this.parent,e)}else switch(e.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":xB();break}const i=!e.cellRenderer&&e.propertyName!=="toolPanel";return new dne(t,this.parent,e,i)}},s1e=T.forwardRef((t,e)=>{const{ctrlsFactory:i,context:r,gridOptionsService:n,resizeObserverService:s,clientSideRowModel:o,serverSideRowModel:a}=T.useContext(Ls),[l,u]=T.useState(()=>new Ta),[c,d]=T.useState(()=>new Ta),[h,f]=T.useState(),[g,m]=T.useState(),C=T.useRef(),S=T.useRef(null),y=T.useRef(),w=T.useMemo(()=>ei.__getGridRegisteredModules(t.api.getGridId()),[t]),E=T.useMemo(()=>l.toString()+" ag-details-row",[l]),b=T.useMemo(()=>c.toString()+" ag-details-grid",[c]);e&&T.useImperativeHandle(e,()=>({refresh(){var O,N;return(N=(O=C.current)==null?void 0:O.refresh())!=null?N:!1}})),t.template&&ft.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const D=T.useCallback(O=>{if(S.current=O,!S.current){r.destroyBean(C.current),y.current&&y.current();return}const N={addOrRemoveCssClass:(I,k)=>u(B=>B.setClass(I,k)),addOrRemoveDetailGridCssClass:(I,k)=>d(B=>B.setClass(I,k)),setDetailGrid:I=>f(I),setRowData:I=>m(I),getGui:()=>S.current},_=i.getInstance("detailCellRenderer");if(_&&(r.createBean(_),_.init(N,t),C.current=_,n.get("detailRowAutoHeight"))){const I=()=>{if(S.current==null)return;const k=S.current.clientHeight;k!=null&&k>0&&setTimeout(()=>{t.node.setRowHeight(k),o?o.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};y.current=s.observeResize(S.current,I),I()}},[]),P=T.useCallback((O,N)=>{var _;(_=C.current)==null||_.registerDetailWithMaster(O,N)},[]);return $.createElement("div",{className:E,ref:D},h&&$.createElement(vne,Rs(rr({className:b},h),{modules:w,rowData:g,setGridApi:P})))}),o1e=class extends lre{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:W5,agGroupRowRenderer:W5,agDetailCellRenderer:s1e},this.wrapIncoming=(t,e)=>e==="ensureVisible"?wNe(t):t(),this.renderingEngine="react"}frameworkComponent(t){return this.frameworkComponents[t]}isFrameworkComponent(t){if(!t)return!1;const e=t.prototype;return!(e&&"getGui"in e)}},Cne=class extends T.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(t,e)=>{this.api=t,this.columnApi=e,this.apiListeners.forEach(i=>i(t))}}registerApiListener(t){this.apiListeners.push(t)}componentWillUnmount(){this.apiListeners.length=0}render(){return $.createElement(vne,Rs(rr({},this.props),{setGridApi:this.setGridApi}))}},AB={},a1e=Vl;Object.defineProperty(AB,"__esModule",{value:!0});var OB=AB.default=void 0,l1e=a1e(kc()),u1e=Y;OB=AB.default=(0,l1e.default)((0,u1e.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var MB={},c1e=Vl;Object.defineProperty(MB,"__esModule",{value:!0});var yne=MB.default=void 0,d1e=c1e(kc()),h1e=Y;yne=MB.default=(0,d1e.default)((0,h1e.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp");const Sne="base";function p1e(t){return`${Sne}--${t}`}function f1e(t,e){return`${Sne}-${t}-${e}`}function wne(t,e){const i=mQ[e];return i?p1e(i):f1e(t,e)}function g1e(t,e){const i={};return e.forEach(r=>{i[r]=wne(t,r)}),i}var io="top",Ha="bottom",$a="right",ro="left",FB="auto",qb=[io,Ha,$a,ro],hv="start",Kw="end",m1e="clippingParents",Ene="viewport",dy="popper",v1e="reference",j5=qb.reduce(function(t,e){return t.concat([e+"-"+hv,e+"-"+Kw])},[]),IB=[].concat(qb,[FB]).reduce(function(t,e){return t.concat([e,e+"-"+hv,e+"-"+Kw])},[]),C1e="beforeRead",y1e="read",S1e="afterRead",w1e="beforeMain",E1e="main",b1e="afterMain",R1e="beforeWrite",T1e="write",D1e="afterWrite",P1e=[C1e,y1e,S1e,w1e,E1e,b1e,R1e,T1e,D1e];function Nu(t){return t?(t.nodeName||"").toLowerCase():null}function zo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function cf(t){var e=zo(t).Element;return t instanceof e||t instanceof Element}function Fa(t){var e=zo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function LB(t){if(typeof ShadowRoot>"u")return!1;var e=zo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function x1e(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var r=e.styles[i]||{},n=e.attributes[i]||{},s=e.elements[i];!Fa(s)||!Nu(s)||(Object.assign(s.style,r),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function A1e(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(r){var n=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:i[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Fa(n)||!Nu(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}const O1e={name:"applyStyles",enabled:!0,phase:"write",fn:x1e,effect:A1e,requires:["computeStyles"]};function Su(t){return t.split("-")[0]}var Lp=Math.max,kx=Math.min,pv=Math.round;function q1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function bne(){return!/^((?!chrome|android).)*safari/i.test(q1())}function fv(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var r=t.getBoundingClientRect(),n=1,s=1;e&&Fa(t)&&(n=t.offsetWidth>0&&pv(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&pv(r.height)/t.offsetHeight||1);var o=cf(t)?zo(t):window,a=o.visualViewport,l=!bne()&&i,u=(r.left+(l&&a?a.offsetLeft:0))/n,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/n,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function _B(t){var e=fv(t),i=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:r}}function Rne(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&LB(i)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ac(t){return zo(t).getComputedStyle(t)}function M1e(t){return["table","td","th"].indexOf(Nu(t))>=0}function bh(t){return((cf(t)?t.ownerDocument:t.document)||window.document).documentElement}function QO(t){return Nu(t)==="html"?t:t.assignedSlot||t.parentNode||(LB(t)?t.host:null)||bh(t)}function K5(t){return!Fa(t)||Ac(t).position==="fixed"?null:t.offsetParent}function F1e(t){var e=/firefox/i.test(q1()),i=/Trident/i.test(q1());if(i&&Fa(t)){var r=Ac(t);if(r.position==="fixed")return null}var n=QO(t);for(LB(n)&&(n=n.host);Fa(n)&&["html","body"].indexOf(Nu(n))<0;){var s=Ac(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Xb(t){for(var e=zo(t),i=K5(t);i&&M1e(i)&&Ac(i).position==="static";)i=K5(i);return i&&(Nu(i)==="html"||Nu(i)==="body"&&Ac(i).position==="static")?e:i||F1e(t)||e}function NB(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function wS(t,e,i){return Lp(t,kx(e,i))}function I1e(t,e,i){var r=wS(t,e,i);return r>i?i:r}function Tne(){return{top:0,right:0,bottom:0,left:0}}function Dne(t){return Object.assign({},Tne(),t)}function Pne(t,e){return e.reduce(function(i,r){return i[r]=t,i},{})}var L1e=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,Dne(typeof e!="number"?e:Pne(e,qb))};function _1e(t){var e,i=t.state,r=t.name,n=t.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=Su(i.placement),l=NB(a),u=[ro,$a].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=L1e(n.padding,i),h=_B(s),f=l==="y"?io:ro,g=l==="y"?Ha:$a,m=i.rects.reference[c]+i.rects.reference[l]-o[l]-i.rects.popper[c],C=o[l]-i.rects.reference[l],S=Xb(s),y=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=m/2-C/2,E=d[f],b=y-h[c]-d[g],D=y/2-h[c]/2+w,P=wS(E,D,b),O=l;i.modifiersData[r]=(e={},e[O]=P,e.centerOffset=P-D,e)}}function N1e(t){var e=t.state,i=t.options,r=i.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||Rne(e.elements.popper,n)&&(e.elements.arrow=n))}const xne={name:"arrow",enabled:!0,phase:"main",fn:_1e,effect:N1e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gv(t){return t.split("-")[1]}var G1e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function k1e(t,e){var i=t.x,r=t.y,n=e.devicePixelRatio||1;return{x:pv(i*n)/n||0,y:pv(r*n)/n||0}}function Y5(t){var e,i=t.popper,r=t.popperRect,n=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,g=o.y,m=g===void 0?0:g,C=typeof c=="function"?c({x:f,y:m}):{x:f,y:m};f=C.x,m=C.y;var S=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),w=ro,E=io,b=window;if(u){var D=Xb(i),P="clientHeight",O="clientWidth";if(D===zo(i)&&(D=bh(i),Ac(D).position!=="static"&&a==="absolute"&&(P="scrollHeight",O="scrollWidth")),D=D,n===io||(n===ro||n===$a)&&s===Kw){E=Ha;var N=d&&D===b&&b.visualViewport?b.visualViewport.height:D[P];m-=N-r.height,m*=l?1:-1}if(n===ro||(n===io||n===Ha)&&s===Kw){w=$a;var _=d&&D===b&&b.visualViewport?b.visualViewport.width:D[O];f-=_-r.width,f*=l?1:-1}}var I=Object.assign({position:a},u&&G1e),k=c===!0?k1e({x:f,y:m},zo(i)):{x:f,y:m};if(f=k.x,m=k.y,l){var B;return Object.assign({},I,(B={},B[E]=y?"0":"",B[w]=S?"0":"",B.transform=(b.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",B))}return Object.assign({},I,(e={},e[E]=y?m+"px":"",e[w]=S?f+"px":"",e.transform="",e))}function V1e(t){var e=t.state,i=t.options,r=i.gpuAcceleration,n=r===void 0?!0:r,s=i.adaptive,o=s===void 0?!0:s,a=i.roundOffsets,l=a===void 0?!0:a,u={placement:Su(e.placement),variation:gv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Y5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Y5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ane={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:V1e,data:{}};var GT={passive:!0};function H1e(t){var e=t.state,i=t.instance,r=t.options,n=r.scroll,s=n===void 0?!0:n,o=r.resize,a=o===void 0?!0:o,l=zo(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",i.update,GT)}),a&&l.addEventListener("resize",i.update,GT),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",i.update,GT)}),a&&l.removeEventListener("resize",i.update,GT)}}const One={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:H1e,data:{}};var $1e={left:"right",right:"left",bottom:"top",top:"bottom"};function YD(t){return t.replace(/left|right|bottom|top/g,function(e){return $1e[e]})}var B1e={start:"end",end:"start"};function q5(t){return t.replace(/start|end/g,function(e){return B1e[e]})}function GB(t){var e=zo(t),i=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:i,scrollTop:r}}function kB(t){return fv(bh(t)).left+GB(t).scrollLeft}function W1e(t,e){var i=zo(t),r=bh(t),n=i.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;var u=bne();(u||!u&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a+kB(t),y:l}}function U1e(t){var e,i=bh(t),r=GB(t),n=(e=t.ownerDocument)==null?void 0:e.body,s=Lp(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Lp(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-r.scrollLeft+kB(t),l=-r.scrollTop;return Ac(n||i).direction==="rtl"&&(a+=Lp(i.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function VB(t){var e=Ac(t),i=e.overflow,r=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+r)}function Mne(t){return["html","body","#document"].indexOf(Nu(t))>=0?t.ownerDocument.body:Fa(t)&&VB(t)?t:Mne(QO(t))}function ES(t,e){var i;e===void 0&&(e=[]);var r=Mne(t),n=r===((i=t.ownerDocument)==null?void 0:i.body),s=zo(r),o=n?[s].concat(s.visualViewport||[],VB(r)?r:[]):r,a=e.concat(o);return n?a:a.concat(ES(QO(o)))}function X1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function z1e(t,e){var i=fv(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function X5(t,e,i){return e===Ene?X1(W1e(t,i)):cf(e)?z1e(e,i):X1(U1e(bh(t)))}function j1e(t){var e=ES(QO(t)),i=["absolute","fixed"].indexOf(Ac(t).position)>=0,r=i&&Fa(t)?Xb(t):t;return cf(r)?e.filter(function(n){return cf(n)&&Rne(n,r)&&Nu(n)!=="body"}):[]}function K1e(t,e,i,r){var n=e==="clippingParents"?j1e(t):[].concat(e),s=[].concat(n,[i]),o=s[0],a=s.reduce(function(l,u){var c=X5(t,u,r);return l.top=Lp(c.top,l.top),l.right=kx(c.right,l.right),l.bottom=kx(c.bottom,l.bottom),l.left=Lp(c.left,l.left),l},X5(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Fne(t){var e=t.reference,i=t.element,r=t.placement,n=r?Su(r):null,s=r?gv(r):null,o=e.x+e.width/2-i.width/2,a=e.y+e.height/2-i.height/2,l;switch(n){case io:l={x:o,y:e.y-i.height};break;case Ha:l={x:o,y:e.y+e.height};break;case $a:l={x:e.x+e.width,y:a};break;case ro:l={x:e.x-i.width,y:a};break;default:l={x:e.x,y:e.y}}var u=n?NB(n):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case hv:l[u]=l[u]-(e[c]/2-i[c]/2);break;case Kw:l[u]=l[u]+(e[c]/2-i[c]/2);break}}return l}function Yw(t,e){e===void 0&&(e={});var i=e,r=i.placement,n=r===void 0?t.placement:r,s=i.strategy,o=s===void 0?t.strategy:s,a=i.boundary,l=a===void 0?m1e:a,u=i.rootBoundary,c=u===void 0?Ene:u,d=i.elementContext,h=d===void 0?dy:d,f=i.altBoundary,g=f===void 0?!1:f,m=i.padding,C=m===void 0?0:m,S=Dne(typeof C!="number"?C:Pne(C,qb)),y=h===dy?v1e:dy,w=t.rects.popper,E=t.elements[g?y:h],b=K1e(cf(E)?E:E.contextElement||bh(t.elements.popper),l,c,o),D=fv(t.elements.reference),P=Fne({reference:D,element:w,strategy:"absolute",placement:n}),O=X1(Object.assign({},w,P)),N=h===dy?O:D,_={top:b.top-N.top+S.top,bottom:N.bottom-b.bottom+S.bottom,left:b.left-N.left+S.left,right:N.right-b.right+S.right},I=t.modifiersData.offset;if(h===dy&&I){var k=I[n];Object.keys(_).forEach(function(B){var U=[$a,Ha].indexOf(B)>=0?1:-1,K=[io,Ha].indexOf(B)>=0?"y":"x";_[B]+=k[K]*U})}return _}function Y1e(t,e){e===void 0&&(e={});var i=e,r=i.placement,n=i.boundary,s=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,u=l===void 0?IB:l,c=gv(r),d=c?a?j5:j5.filter(function(g){return gv(g)===c}):qb,h=d.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=d);var f=h.reduce(function(g,m){return g[m]=Yw(t,{placement:m,boundary:n,rootBoundary:s,padding:o})[Su(m)],g},{});return Object.keys(f).sort(function(g,m){return f[g]-f[m]})}function q1e(t){if(Su(t)===FB)return[];var e=YD(t);return[q5(t),e,q5(e)]}function X1e(t){var e=t.state,i=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,u=i.padding,c=i.boundary,d=i.rootBoundary,h=i.altBoundary,f=i.flipVariations,g=f===void 0?!0:f,m=i.allowedAutoPlacements,C=e.options.placement,S=Su(C),y=S===C,w=l||(y||!g?[YD(C)]:q1e(C)),E=[C].concat(w).reduce(function(ue,me){return ue.concat(Su(me)===FB?Y1e(e,{placement:me,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:m}):me)},[]),b=e.rects.reference,D=e.rects.popper,P=new Map,O=!0,N=E[0],_=0;_<E.length;_++){var I=E[_],k=Su(I),B=gv(I)===hv,U=[io,Ha].indexOf(k)>=0,K=U?"width":"height",j=Yw(e,{placement:I,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),Q=U?B?$a:ro:B?Ha:io;b[K]>D[K]&&(Q=YD(Q));var H=YD(Q),X=[];if(s&&X.push(j[k]<=0),a&&X.push(j[Q]<=0,j[H]<=0),X.every(function(ue){return ue})){N=I,O=!1;break}P.set(I,X)}if(O)for(var te=g?3:1,le=function(me){var se=E.find(function(he){var Ee=P.get(he);if(Ee)return Ee.slice(0,me).every(function(pe){return pe})});if(se)return N=se,"break"},J=te;J>0;J--){var ie=le(J);if(ie==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const Ine={name:"flip",enabled:!0,phase:"main",fn:X1e,requiresIfExists:["offset"],data:{_skip:!1}};function Q5(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Z5(t){return[io,$a,Ha,ro].some(function(e){return t[e]>=0})}function Q1e(t){var e=t.state,i=t.name,r=e.rects.reference,n=e.rects.popper,s=e.modifiersData.preventOverflow,o=Yw(e,{elementContext:"reference"}),a=Yw(e,{altBoundary:!0}),l=Q5(o,r),u=Q5(a,n,s),c=Z5(l),d=Z5(u);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Lne={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Q1e};function Z1e(t,e,i){var r=Su(t),n=[ro,io].indexOf(r)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[ro,$a].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function J1e(t){var e=t.state,i=t.options,r=t.name,n=i.offset,s=n===void 0?[0,0]:n,o=IB.reduce(function(c,d){return c[d]=Z1e(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const _ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:J1e};function eGe(t){var e=t.state,i=t.name;e.modifiersData[i]=Fne({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Nne={name:"popperOffsets",enabled:!0,phase:"read",fn:eGe,data:{}};function tGe(t){return t==="x"?"y":"x"}function iGe(t){var e=t.state,i=t.options,r=t.name,n=i.mainAxis,s=n===void 0?!0:n,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,u=i.rootBoundary,c=i.altBoundary,d=i.padding,h=i.tether,f=h===void 0?!0:h,g=i.tetherOffset,m=g===void 0?0:g,C=Yw(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),S=Su(e.placement),y=gv(e.placement),w=!y,E=NB(S),b=tGe(E),D=e.modifiersData.popperOffsets,P=e.rects.reference,O=e.rects.popper,N=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,_=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(D){if(s){var B,U=E==="y"?io:ro,K=E==="y"?Ha:$a,j=E==="y"?"height":"width",Q=D[E],H=Q+C[U],X=Q-C[K],te=f?-O[j]/2:0,le=y===hv?P[j]:O[j],J=y===hv?-O[j]:-P[j],ie=e.elements.arrow,ue=f&&ie?_B(ie):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Tne(),se=me[U],he=me[K],Ee=wS(0,P[j],ue[j]),pe=w?P[j]/2-te-Ee-se-_.mainAxis:le-Ee-se-_.mainAxis,ye=w?-P[j]/2+te+Ee+he+_.mainAxis:J+Ee+he+_.mainAxis,Ce=e.elements.arrow&&Xb(e.elements.arrow),re=Ce?E==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,oe=(B=I==null?void 0:I[E])!=null?B:0,fe=Q+pe-oe-re,we=Q+ye-oe,Ue=wS(f?kx(H,fe):H,Q,f?Lp(X,we):X);D[E]=Ue,k[E]=Ue-Q}if(a){var Be,Ve=E==="x"?io:ro,qe=E==="x"?Ha:$a,mt=D[b],et=b==="y"?"height":"width",gi=mt+C[Ve],wi=mt-C[qe],Yt=[io,ro].indexOf(S)!==-1,Cr=(Be=I==null?void 0:I[b])!=null?Be:0,xn=Yt?gi:mt-P[et]-O[et]-Cr+_.altAxis,xr=Yt?mt+P[et]+O[et]-Cr-_.altAxis:wi,Ht=f&&Yt?I1e(xn,mt,xr):wS(f?xn:gi,mt,f?xr:wi);D[b]=Ht,k[b]=Ht-mt}e.modifiersData[r]=k}}const Gne={name:"preventOverflow",enabled:!0,phase:"main",fn:iGe,requiresIfExists:["offset"]};function rGe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function nGe(t){return t===zo(t)||!Fa(t)?GB(t):rGe(t)}function sGe(t){var e=t.getBoundingClientRect(),i=pv(e.width)/t.offsetWidth||1,r=pv(e.height)/t.offsetHeight||1;return i!==1||r!==1}function oGe(t,e,i){i===void 0&&(i=!1);var r=Fa(e),n=Fa(e)&&sGe(e),s=bh(e),o=fv(t,n,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((Nu(e)!=="body"||VB(s))&&(a=nGe(e)),Fa(e)?(l=fv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=kB(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function aGe(t){var e=new Map,i=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function n(s){i.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=e.get(a);l&&n(l)}}),r.push(s)}return t.forEach(function(s){i.has(s.name)||n(s)}),r}function lGe(t){var e=aGe(t);return P1e.reduce(function(i,r){return i.concat(e.filter(function(n){return n.phase===r}))},[])}function uGe(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function cGe(t){var e=t.reduce(function(i,r){var n=i[r.name];return i[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,i},{});return Object.keys(e).map(function(i){return e[i]})}var J5={placement:"bottom",modifiers:[],strategy:"absolute"};function e4(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function kne(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,r=i===void 0?[]:i,n=e.defaultOptions,s=n===void 0?J5:n;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},J5,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(S){var y=typeof S=="function"?S(c.options):S;m(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:cf(a)?ES(a):a.contextElement?ES(a.contextElement):[],popper:ES(l)};var w=lGe(cGe([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(E){return E.enabled}),g(),f.update()},forceUpdate:function(){if(!h){var S=c.elements,y=S.reference,w=S.popper;if(e4(y,w)){c.rects={reference:oGe(y,Xb(w),c.options.strategy==="fixed"),popper:_B(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(_){return c.modifiersData[_.name]=Object.assign({},_.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var b=c.orderedModifiers[E],D=b.fn,P=b.options,O=P===void 0?{}:P,N=b.name;typeof D=="function"&&(c=D({state:c,options:O,name:N,instance:f})||c)}}}},update:uGe(function(){return new Promise(function(C){f.forceUpdate(),C(c)})}),destroy:function(){m(),h=!0}};if(!e4(a,l))return f;f.setOptions(u).then(function(C){!h&&u.onFirstUpdate&&u.onFirstUpdate(C)});function g(){c.orderedModifiers.forEach(function(C){var S=C.name,y=C.options,w=y===void 0?{}:y,E=C.effect;if(typeof E=="function"){var b=E({state:c,name:S,instance:f,options:w}),D=function(){};d.push(b||D)}})}function m(){d.forEach(function(C){return C()}),d=[]}return f}}var dGe=[One,Nne,Ane,O1e,_ne,Ine,Gne,xne,Lne],hGe=kne({defaultModifiers:dGe});const Vne="Popper";function pGe(t){return wne(Vne,t)}g1e(Vne,["root"]);const fGe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],gGe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function mGe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Q1(t){return typeof t=="function"?t():t}function vGe(t){return t.nodeType!==void 0}const CGe=()=>ot({root:["root"]},aDe(pGe)),yGe={},SGe=T.forwardRef(function(e,i){var r;const{anchorEl:n,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:g={},TransitionProps:m}=e,C=Oe(e,fGe),S=T.useRef(null),y=ri(S,i),w=T.useRef(null),E=ri(w,h),b=T.useRef(E);Xr(()=>{b.current=E},[E]),T.useImperativeHandle(h,()=>w.current,[]);const D=mGe(c,o),[P,O]=T.useState(D),[N,_]=T.useState(Q1(n));T.useEffect(()=>{w.current&&w.current.forceUpdate()}),T.useEffect(()=>{n&&_(Q1(n))},[n]),Xr(()=>{if(!N||!u)return;const K=H=>{O(H.placement)};let j=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{K(H)}}];l!=null&&(j=j.concat(l)),d&&d.modifiers!=null&&(j=j.concat(d.modifiers));const Q=hGe(N,S.current,G({placement:D},d,{modifiers:j}));return b.current(Q),()=>{Q.destroy(),b.current(null)}},[N,a,l,u,d,D]);const I={placement:P};m!==null&&(I.TransitionProps=m);const k=CGe(),B=(r=g.root)!=null?r:"div",U=ii({elementType:B,externalSlotProps:f.root,externalForwardedProps:C,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:k.root});return Y.jsx(B,G({},U,{children:typeof s=="function"?s(I):s}))}),wGe=T.forwardRef(function(e,i){const{anchorEl:r,children:n,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=yGe,popperRef:f,style:g,transition:m=!1,slotProps:C={},slots:S={}}=e,y=Oe(e,gGe),[w,E]=T.useState(!0),b=()=>{E(!1)},D=()=>{E(!0)};if(!l&&!c&&(!m||w))return null;let P;if(s)P=s;else if(r){const _=Q1(r);P=_&&vGe(_)?on(_).body:on(null).body}const O=!c&&l&&(!m||w)?"none":void 0,N=m?{in:c,onEnter:b,onExited:D}:void 0;return Y.jsx(VQ,{disablePortal:a,container:P,children:Y.jsx(SGe,G({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:i,open:m?!w:c,placement:d,popperOptions:h,popperRef:f,slotProps:C,slots:S},y,{style:G({position:"fixed",top:0,left:0,display:O},g),TransitionProps:N,children:n}))})}),EGe=["onChange","maxRows","minRows","style","value"];function kT(t){return parseInt(t,10)||0}const bGe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function RGe(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const TGe=T.forwardRef(function(e,i){const{onChange:r,maxRows:n,minRows:s=1,style:o,value:a}=e,l=Oe(e,EGe),{current:u}=T.useRef(a!=null),c=T.useRef(null),d=ri(i,c),h=T.useRef(null),f=T.useCallback(()=>{const C=c.current,y=bu(C).getComputedStyle(C);if(y.width==="0px")return{outerHeightStyle:0,overflowing:!1};const w=h.current;w.style.width=y.width,w.value=C.value||e.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const E=y.boxSizing,b=kT(y.paddingBottom)+kT(y.paddingTop),D=kT(y.borderBottomWidth)+kT(y.borderTopWidth),P=w.scrollHeight;w.value="x";const O=w.scrollHeight;let N=P;s&&(N=Math.max(Number(s)*O,N)),n&&(N=Math.min(Number(n)*O,N)),N=Math.max(N,O);const _=N+(E==="border-box"?b+D:0),I=Math.abs(N-P)<=1;return{outerHeightStyle:_,overflowing:I}},[n,s,e.placeholder]),g=T.useCallback(()=>{const C=f();if(RGe(C))return;const S=c.current;S.style.height=`${C.outerHeightStyle}px`,S.style.overflow=C.overflowing?"hidden":""},[f]);Xr(()=>{const C=()=>{g()};let S;const y=N0(C),w=c.current,E=bu(w);E.addEventListener("resize",y);let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(C),b.observe(w)),()=>{y.clear(),cancelAnimationFrame(S),E.removeEventListener("resize",y),b&&b.disconnect()}},[f,g]),Xr(()=>{g()});const m=C=>{u||g(),r&&r(C)};return Y.jsxs(T.Fragment,{children:[Y.jsx("textarea",G({value:a,onChange:m,ref:d,rows:s,style:o},l)),Y.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:G({},bGe.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function vC({props:t,states:e,muiFormControl:i}){return e.reduce((r,n)=>(r[n]=t[n],i&&typeof t[n]>"u"&&(r[n]=i[n]),r),{})}const DGe=T.createContext(void 0),ZO=DGe;function $l(){return T.useContext(ZO)}function PGe(t){return Y.jsx(ZRe,G({},t,{defaultTheme:L0,themeId:_0}))}function t4(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Vx(t,e=!1){return t&&(t4(t.value)&&t.value!==""||e&&t4(t.defaultValue)&&t.defaultValue!=="")}function xGe(t){return t.startAdornment}function AGe(t){return at("MuiInputBase",t)}const OGe=lt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),mv=OGe,MGe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],JO=(t,e)=>{const{ownerState:i}=t;return[e.root,i.formControl&&e.formControl,i.startAdornment&&e.adornedStart,i.endAdornment&&e.adornedEnd,i.error&&e.error,i.size==="small"&&e.sizeSmall,i.multiline&&e.multiline,i.color&&e[`color${$e(i.color)}`],i.fullWidth&&e.fullWidth,i.hiddenLabel&&e.hiddenLabel]},eM=(t,e)=>{const{ownerState:i}=t;return[e.input,i.size==="small"&&e.inputSizeSmall,i.multiline&&e.inputMultiline,i.type==="search"&&e.inputTypeSearch,i.startAdornment&&e.inputAdornedStart,i.endAdornment&&e.inputAdornedEnd,i.hiddenLabel&&e.inputHiddenLabel]},FGe=t=>{const{classes:e,color:i,disabled:r,error:n,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:g}=t,m={root:["root",`color${$e(i)}`,r&&"disabled",n&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${$e(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return ot(m,AGe,e)},tM=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:JO})(({theme:t,ownerState:e})=>G({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${mv.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&G({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),iM=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:eM})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light",r=G({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),n={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return G({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${mv.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${mv.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),IGe=Y.jsx(PGe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),LGe=T.forwardRef(function(e,i){var r;const n=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:g,fullWidth:m=!1,id:C,inputComponent:S="input",inputProps:y={},inputRef:w,maxRows:E,minRows:b,multiline:D=!1,name:P,onBlur:O,onChange:N,onClick:_,onFocus:I,onKeyDown:k,onKeyUp:B,placeholder:U,readOnly:K,renderSuffix:j,rows:Q,slotProps:H={},slots:X={},startAdornment:te,type:le="text",value:J}=n,ie=Oe(n,MGe),ue=y.value!=null?y.value:J,{current:me}=T.useRef(ue!=null),se=T.useRef(),he=T.useCallback(Ht=>{},[]),Ee=ri(se,w,y.ref,he),[pe,ye]=T.useState(!1),Ce=$l(),re=vC({props:n,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});re.focused=Ce?Ce.focused:pe,T.useEffect(()=>{!Ce&&h&&pe&&(ye(!1),O&&O())},[Ce,h,pe,O]);const oe=Ce&&Ce.onFilled,fe=Ce&&Ce.onEmpty,we=T.useCallback(Ht=>{Vx(Ht)?oe&&oe():fe&&fe()},[oe,fe]);Xr(()=>{me&&we({value:ue})},[ue,we,me]);const Ue=Ht=>{if(re.disabled){Ht.stopPropagation();return}I&&I(Ht),y.onFocus&&y.onFocus(Ht),Ce&&Ce.onFocus?Ce.onFocus(Ht):ye(!0)},Be=Ht=>{O&&O(Ht),y.onBlur&&y.onBlur(Ht),Ce&&Ce.onBlur?Ce.onBlur(Ht):ye(!1)},Ve=(Ht,...pt)=>{if(!me){const cs=Ht.target||se.current;if(cs==null)throw new Error(Cc(1));we({value:cs.value})}y.onChange&&y.onChange(Ht,...pt),N&&N(Ht,...pt)};T.useEffect(()=>{we(se.current)},[]);const qe=Ht=>{se.current&&Ht.currentTarget===Ht.target&&se.current.focus(),_&&_(Ht)};let mt=S,et=y;D&&mt==="input"&&(Q?et=G({type:void 0,minRows:Q,maxRows:Q},et):et=G({type:void 0,maxRows:E,minRows:b},et),mt=TGe);const gi=Ht=>{we(Ht.animationName==="mui-auto-fill-cancel"?se.current:{value:"x"})};T.useEffect(()=>{Ce&&Ce.setAdornedStart(!!te)},[Ce,te]);const wi=G({},n,{color:re.color||"primary",disabled:re.disabled,endAdornment:g,error:re.error,focused:re.focused,formControl:Ce,fullWidth:m,hiddenLabel:re.hiddenLabel,multiline:D,size:re.size,startAdornment:te,type:le}),Yt=FGe(wi),Cr=X.root||u.Root||tM,xn=H.root||c.root||{},xr=X.input||u.Input||iM;return et=G({},et,(r=H.input)!=null?r:c.input),Y.jsxs(T.Fragment,{children:[!f&&IGe,Y.jsxs(Cr,G({},xn,!Vm(Cr)&&{ownerState:G({},wi,xn.ownerState)},{ref:i,onClick:qe},ie,{className:Le(Yt.root,xn.className,l,K&&"MuiInputBase-readOnly"),children:[te,Y.jsx(ZO.Provider,{value:null,children:Y.jsx(xr,G({ownerState:wi,"aria-invalid":re.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:re.disabled,id:C,onAnimationStart:gi,name:P,placeholder:U,readOnly:K,required:re.required,rows:Q,value:ue,onKeyDown:k,onKeyUp:B,type:le},et,!Vm(xr)&&{as:mt,ownerState:G({},wi,et.ownerState)},{ref:Ee,className:Le(Yt.input,et.className,K&&"MuiInputBase-readOnly"),onBlur:Be,onChange:Ve,onFocus:Ue}))}),g,j?j(G({},re,{startAdornment:te})):null]}))]})}),HB=LGe;function _Ge(t){return at("MuiInput",t)}const NGe=G({},mv,lt("MuiInput",["root","underline","input"])),hy=NGe,GGe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],kGe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},_Ge,e);return G({},e,n)},VGe=be(tM,{shouldForwardProp:t=>qo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[...JO(t,e),!i.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),G({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hy.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hy.disabled}, .${hy.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${hy.disabled}:before`]:{borderBottomStyle:"dotted"}})}),HGe=be(iM,{name:"MuiInput",slot:"Input",overridesResolver:eM})({}),Hne=T.forwardRef(function(e,i){var r,n,s,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:g,slots:m={},type:C="text"}=a,S=Oe(a,GGe),y=kGe(a),E={root:{ownerState:{disableUnderline:l}}},b=g??c?ws(g??c,E):E,D=(r=(n=m.root)!=null?n:u.Root)!=null?r:VGe,P=(s=(o=m.input)!=null?o:u.Input)!=null?s:HGe;return Y.jsx(HB,G({slots:{root:D,input:P},slotProps:b,fullWidth:d,inputComponent:h,multiline:f,ref:i,type:C},S,{classes:y}))});Hne.muiName="Input";const $ne=Hne;function $Ge(t){return at("MuiFilledInput",t)}const BGe=G({},mv,lt("MuiFilledInput",["root","underline","input"])),kh=BGe,WGe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],UGe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},$Ge,e);return G({},e,n)},zGe=be(tM,{shouldForwardProp:t=>qo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[...JO(t,e),!i.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var i;const r=t.palette.mode==="light",n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return G({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${kh.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${kh.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(i=(t.vars||t).palette[e.color||"primary"])==null?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${kh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${kh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${kh.disabled}, .${kh.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${kh.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&G({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),jGe=be(iM,{name:"MuiFilledInput",slot:"Input",overridesResolver:eM})(({theme:t,ownerState:e})=>G({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Bne=T.forwardRef(function(e,i){var r,n,s,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:g={},type:m="text"}=a,C=Oe(a,WGe),S=G({},a,{fullWidth:c,inputComponent:d,multiline:h,type:m}),y=UGe(a),w={root:{ownerState:S},input:{ownerState:S}},E=f??u?ws(w,f??u):w,b=(r=(n=g.root)!=null?n:l.Root)!=null?r:zGe,D=(s=(o=g.input)!=null?o:l.Input)!=null?s:jGe;return Y.jsx(HB,G({slots:{root:b,input:D},componentsProps:E,fullWidth:c,inputComponent:d,multiline:h,ref:i,type:m},C,{classes:y}))});Bne.muiName="Input";const Wne=Bne;var i4;const KGe=["children","classes","className","label","notched"],YGe=be("fieldset",{shouldForwardProp:qo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),qGe=be("legend",{shouldForwardProp:qo})(({ownerState:t,theme:e})=>G({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&G({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function XGe(t){const{className:e,label:i,notched:r}=t,n=Oe(t,KGe),s=i!=null&&i!=="",o=G({},t,{notched:r,withLabel:s});return Y.jsx(YGe,G({"aria-hidden":!0,className:e,ownerState:o},n,{children:Y.jsx(qGe,{ownerState:o,children:s?Y.jsx("span",{children:i}):i4||(i4=Y.jsx("span",{className:"notranslate",children:"​"}))})}))}function QGe(t){return at("MuiOutlinedInput",t)}const ZGe=G({},mv,lt("MuiOutlinedInput",["root","notchedOutline","input"])),gd=ZGe,JGe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],eke=t=>{const{classes:e}=t,r=ot({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},QGe,e);return G({},e,r)},tke=be(tM,{shouldForwardProp:t=>qo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:JO})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return G({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${gd.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${gd.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${gd.focused} .${gd.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${gd.error} .${gd.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${gd.disabled} .${gd.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&G({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),ike=be(XGe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),rke=be(iM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:eM})(({theme:t,ownerState:e})=>G({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Une=T.forwardRef(function(e,i){var r,n,s,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:g,slots:m={},type:C="text"}=l,S=Oe(l,JGe),y=eke(l),w=$l(),E=vC({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=G({},l,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:w,fullWidth:c,hiddenLabel:E.hiddenLabel,multiline:f,size:E.size,type:C}),D=(r=(n=m.root)!=null?n:u.Root)!=null?r:tke,P=(s=(o=m.input)!=null?o:u.Input)!=null?s:rke;return Y.jsx(HB,G({slots:{root:D,input:P},renderSuffix:O=>Y.jsx(ike,{ownerState:b,className:y.notchedOutline,label:h!=null&&h!==""&&E.required?a||(a=Y.jsxs(T.Fragment,{children:[h," ","*"]})):h,notched:typeof g<"u"?g:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:i,type:C},S,{classes:G({},y,{notchedOutline:null})}))});Une.muiName="Input";const zne=Une;function nke(t){return at("MuiFormLabel",t)}const ske=lt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),bS=ske,oke=["children","className","color","component","disabled","error","filled","focused","required"],ake=t=>{const{classes:e,color:i,focused:r,disabled:n,error:s,filled:o,required:a}=t,l={root:["root",`color${$e(i)}`,n&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return ot(l,nke,e)},lke=be("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>G({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>G({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${bS.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${bS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${bS.error}`]:{color:(t.vars||t).palette.error.main}})),uke=be("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${bS.error}`]:{color:(t.vars||t).palette.error.main}})),cke=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiFormLabel"}),{children:n,className:s,component:o="label"}=r,a=Oe(r,oke),l=$l(),u=vC({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=G({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=ake(c);return Y.jsxs(lke,G({as:o,ownerState:c,className:Le(d.root,s),ref:i},a,{children:[n,u.required&&Y.jsxs(uke,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),dke=cke;function hke(t){return at("MuiInputLabel",t)}lt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const pke=["disableAnimation","margin","shrink","variant","className"],fke=t=>{const{classes:e,formControl:i,size:r,shrink:n,disableAnimation:s,variant:o,required:a}=t,l={root:["root",i&&"formControl",!s&&"animated",n&&"shrink",r&&r!=="normal"&&`size${$e(r)}`,o],asterisk:[a&&"asterisk"]},u=ot(l,hke,e);return G({},e,u)},gke=be(dke,{shouldForwardProp:t=>qo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`& .${bS.asterisk}`]:e.asterisk},e.root,i.formControl&&e.formControl,i.size==="small"&&e.sizeSmall,i.shrink&&e.shrink,!i.disableAnimation&&e.animated,i.focused&&e.focused,e[i.variant]]}})(({theme:t,ownerState:e})=>G({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&G({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&G({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&G({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),mke=T.forwardRef(function(e,i){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,shrink:s,className:o}=r,a=Oe(r,pke),l=$l();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=vC({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=G({},r,{disableAnimation:n,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=fke(d);return Y.jsx(gke,G({"data-shrink":u,ownerState:d,ref:i,className:Le(h.root,o)},a,{classes:h}))}),jne=mke;function vke(t){return at("MuiFormControl",t)}lt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Cke=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],yke=t=>{const{classes:e,margin:i,fullWidth:r}=t,n={root:["root",i!=="none"&&`margin${$e(i)}`,r&&"fullWidth"]};return ot(n,vke,e)},Ske=be("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>G({},e.root,e[`margin${$e(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>G({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),wke=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiFormControl"}),{children:n,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:g=!1,size:m="medium",variant:C="outlined"}=r,S=Oe(r,Cke),y=G({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:g,size:m,variant:C}),w=yke(y),[E,b]=T.useState(()=>{let B=!1;return n&&T.Children.forEach(n,U=>{if(!gS(U,["Input","Select"]))return;const K=gS(U,["Select"])?U.props.input:U;K&&xGe(K.props)&&(B=!0)}),B}),[D,P]=T.useState(()=>{let B=!1;return n&&T.Children.forEach(n,U=>{gS(U,["Input","Select"])&&(Vx(U.props,!0)||Vx(U.props.inputProps,!0))&&(B=!0)}),B}),[O,N]=T.useState(!1);l&&O&&N(!1);const _=c!==void 0&&!l?c:O;let I;const k=T.useMemo(()=>({adornedStart:E,setAdornedStart:b,color:o,disabled:l,error:u,filled:D,focused:_,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{N(!1)},onEmpty:()=>{P(!1)},onFilled:()=>{P(!0)},onFocus:()=>{N(!0)},registerEffect:I,required:g,variant:C}),[E,o,l,u,D,_,d,h,I,g,m,C]);return Y.jsx(ZO.Provider,{value:k,children:Y.jsx(Ske,G({as:a,ownerState:y,className:Le(w.root,s),ref:i},S,{children:n}))})}),Kne=wke;function Eke(t){return at("MuiFormHelperText",t)}const bke=lt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),r4=bke;var n4;const Rke=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Tke=t=>{const{classes:e,contained:i,size:r,disabled:n,error:s,filled:o,focused:a,required:l}=t,u={root:["root",n&&"disabled",s&&"error",r&&`size${$e(r)}`,i&&"contained",a&&"focused",o&&"filled",l&&"required"]};return ot(u,Eke,e)},Dke=be("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.size&&e[`size${$e(i.size)}`],i.contained&&e.contained,i.filled&&e.filled]}})(({theme:t,ownerState:e})=>G({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${r4.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${r4.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Pke=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiFormHelperText"}),{children:n,className:s,component:o="p"}=r,a=Oe(r,Rke),l=$l(),u=vC({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=G({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Tke(c);return Y.jsx(Dke,G({as:o,ownerState:c,className:Le(d.root,s),ref:i},a,{children:n===" "?n4||(n4=Y.jsx("span",{className:"notranslate",children:"​"})):n}))}),Yne=Pke,xke=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function YL(t,e,i){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:i?null:t.firstChild}function s4(t,e,i){return t===e?i?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:i?null:t.lastChild}function qne(t,e){if(e===void 0)return!0;let i=t.innerText;return i===void 0&&(i=t.textContent),i=i.trim().toLowerCase(),i.length===0?!1:e.repeating?i[0]===e.keys[0]:i.indexOf(e.keys.join(""))===0}function py(t,e,i,r,n,s){let o=!1,a=n(t,e,e?i:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!qne(a,s)||l)a=n(t,a,i);else return a.focus(),!0}return!1}const Ake=T.forwardRef(function(e,i){const{actions:r,autoFocus:n=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=Oe(e,xke),f=T.useRef(null),g=T.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Xr(()=>{n&&f.current.focus()},[n]),T.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:E})=>{const b=!f.current.style.width;if(w.clientHeight<f.current.clientHeight&&b){const D=`${LQ(on(w))}px`;f.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=D,f.current.style.width=`calc(100% + ${D})`}return f.current}}),[]);const m=w=>{const E=f.current,b=w.key,D=on(E).activeElement;if(b==="ArrowDown")w.preventDefault(),py(E,D,u,l,YL);else if(b==="ArrowUp")w.preventDefault(),py(E,D,u,l,s4);else if(b==="Home")w.preventDefault(),py(E,null,u,l,YL);else if(b==="End")w.preventDefault(),py(E,null,u,l,s4);else if(b.length===1){const P=g.current,O=b.toLowerCase(),N=performance.now();P.keys.length>0&&(N-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&O!==P.keys[0]&&(P.repeating=!1)),P.lastTime=N,P.keys.push(O);const _=D&&!P.repeating&&qne(D,P);P.previousKeyMatched&&(_||py(E,D,!1,l,YL,P))?w.preventDefault():P.previousKeyMatched=!1}c&&c(w)},C=ri(f,i);let S=-1;T.Children.forEach(o,(w,E)=>{if(!T.isValidElement(w)){S===E&&(S+=1,S>=o.length&&(S=-1));return}w.props.disabled||(d==="selectedMenu"&&w.props.selected||S===-1)&&(S=E),S===E&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(S+=1,S>=o.length&&(S=-1))});const y=T.Children.map(o,(w,E)=>{if(E===S){const b={};return s&&(b.autoFocus=!0),w.props.tabIndex===void 0&&d==="selectedMenu"&&(b.tabIndex=0),T.cloneElement(w,b)}return w});return Y.jsx(ZV,G({role:"menu",ref:C,className:a,onKeyDown:m,tabIndex:n?0:-1},h,{children:y}))}),Oke=Ake,Mke=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Z1(t){return`scale(${t}, ${t**2})`}const Fke={entering:{opacity:1,transform:Z1(1)},entered:{opacity:1,transform:"none"}},qL=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Xne=T.forwardRef(function(e,i){const{addEndListener:r,appear:n=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:g,timeout:m="auto",TransitionComponent:C=H0}=e,S=Oe(e,Mke),y=FQ(),w=T.useRef(),E=ja(),b=T.useRef(null),D=ri(b,s.ref,i),P=K=>j=>{if(K){const Q=b.current;j===void 0?K(Q):K(Q,j)}},O=P(c),N=P((K,j)=>{XV(K);const{duration:Q,delay:H,easing:X}=Hm({style:g,timeout:m,easing:o},{mode:"enter"});let te;m==="auto"?(te=E.transitions.getAutoHeightDuration(K.clientHeight),w.current=te):te=Q,K.style.transition=[E.transitions.create("opacity",{duration:te,delay:H}),E.transitions.create("transform",{duration:qL?te:te*.666,delay:H,easing:X})].join(","),l&&l(K,j)}),_=P(u),I=P(f),k=P(K=>{const{duration:j,delay:Q,easing:H}=Hm({style:g,timeout:m,easing:o},{mode:"exit"});let X;m==="auto"?(X=E.transitions.getAutoHeightDuration(K.clientHeight),w.current=X):X=j,K.style.transition=[E.transitions.create("opacity",{duration:X,delay:Q}),E.transitions.create("transform",{duration:qL?X:X*.666,delay:qL?Q:Q||X*.333,easing:H})].join(","),K.style.opacity=0,K.style.transform=Z1(.75),d&&d(K)}),B=P(h),U=K=>{m==="auto"&&y.start(w.current||0,K),r&&r(b.current,K)};return Y.jsx(C,G({appear:n,in:a,nodeRef:b,onEnter:N,onEntered:_,onEntering:O,onExit:k,onExited:B,onExiting:I,addEndListener:U,timeout:m==="auto"?null:m},S,{children:(K,j)=>T.cloneElement(s,G({style:G({opacity:0,transform:Z1(.75),visibility:K==="exited"&&!a?"hidden":void 0},Fke[K],g,s.props.style),ref:D},j))}))});Xne.muiSupportAuto=!0;const Qne=Xne;function Ike(t){return at("MuiPopover",t)}lt("MuiPopover",["root","paper"]);const Lke=["onEntering"],_ke=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Nke=["slotProps"];function o4(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.height/2:e==="bottom"&&(i=t.height),i}function a4(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.width/2:e==="right"&&(i=t.width),i}function l4(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function XL(t){return typeof t=="function"?t():t}const Gke=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"]},Ike,e)},kke=be(QV,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Zne=be($v,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Vke=T.forwardRef(function(e,i){var r,n,s;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:g,elevation:m=8,marginThreshold:C=16,open:S,PaperProps:y={},slots:w,slotProps:E,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:D=Qne,transitionDuration:P="auto",TransitionProps:{onEntering:O}={},disableScrollLock:N=!1}=o,_=Oe(o.TransitionProps,Lke),I=Oe(o,_ke),k=(r=E==null?void 0:E.paper)!=null?r:y,B=T.useRef(),U=ri(B,k.ref),K=G({},o,{anchorOrigin:u,anchorReference:d,elevation:m,marginThreshold:C,externalPaperSlotProps:k,transformOrigin:b,TransitionComponent:D,transitionDuration:P,TransitionProps:_}),j=Gke(K),Q=T.useCallback(()=>{if(d==="anchorPosition")return c;const oe=XL(l),we=(oe&&oe.nodeType===1?oe:on(B.current).body).getBoundingClientRect();return{top:we.top+o4(we,u.vertical),left:we.left+a4(we,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),H=T.useCallback(oe=>({vertical:o4(oe,b.vertical),horizontal:a4(oe,b.horizontal)}),[b.horizontal,b.vertical]),X=T.useCallback(oe=>{const fe={width:oe.offsetWidth,height:oe.offsetHeight},we=H(fe);if(d==="none")return{top:null,left:null,transformOrigin:l4(we)};const Ue=Q();let Be=Ue.top-we.vertical,Ve=Ue.left-we.horizontal;const qe=Be+fe.height,mt=Ve+fe.width,et=bu(XL(l)),gi=et.innerHeight-C,wi=et.innerWidth-C;if(C!==null&&Be<C){const Yt=Be-C;Be-=Yt,we.vertical+=Yt}else if(C!==null&&qe>gi){const Yt=qe-gi;Be-=Yt,we.vertical+=Yt}if(C!==null&&Ve<C){const Yt=Ve-C;Ve-=Yt,we.horizontal+=Yt}else if(mt>wi){const Yt=mt-wi;Ve-=Yt,we.horizontal+=Yt}return{top:`${Math.round(Be)}px`,left:`${Math.round(Ve)}px`,transformOrigin:l4(we)}},[l,d,Q,H,C]),[te,le]=T.useState(S),J=T.useCallback(()=>{const oe=B.current;if(!oe)return;const fe=X(oe);fe.top!==null&&(oe.style.top=fe.top),fe.left!==null&&(oe.style.left=fe.left),oe.style.transformOrigin=fe.transformOrigin,le(!0)},[X]);T.useEffect(()=>(N&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[l,N,J]);const ie=(oe,fe)=>{O&&O(oe,fe),J()},ue=()=>{le(!1)};T.useEffect(()=>{S&&J()}),T.useImperativeHandle(a,()=>S?{updatePosition:()=>{J()}}:null,[S,J]),T.useEffect(()=>{if(!S)return;const oe=N0(()=>{J()}),fe=bu(l);return fe.addEventListener("resize",oe),()=>{oe.clear(),fe.removeEventListener("resize",oe)}},[l,S,J]);let me=P;P==="auto"&&!D.muiSupportAuto&&(me=void 0);const se=g||(l?on(XL(l)).body:void 0),he=(n=w==null?void 0:w.root)!=null?n:kke,Ee=(s=w==null?void 0:w.paper)!=null?s:Zne,pe=ii({elementType:Ee,externalSlotProps:G({},k,{style:te?k.style:G({},k.style,{opacity:0})}),additionalProps:{elevation:m,ref:U},ownerState:K,className:Le(j.paper,k==null?void 0:k.className)}),ye=ii({elementType:he,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:I,additionalProps:{ref:i,slotProps:{backdrop:{invisible:!0}},container:se,open:S},ownerState:K,className:Le(j.root,f)}),{slotProps:Ce}=ye,re=Oe(ye,Nke);return Y.jsx(he,G({},re,!Vm(he)&&{slotProps:Ce,disableScrollLock:N},{children:Y.jsx(D,G({appear:!0,in:S,onEntering:ie,onExited:ue,timeout:me},_,{children:Y.jsx(Ee,G({},pe,{children:h}))}))}))}),Hke=Vke;function $ke(t){return at("MuiMenu",t)}lt("MuiMenu",["root","paper","list"]);const Bke=["onEntering"],Wke=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Uke={vertical:"top",horizontal:"right"},zke={vertical:"top",horizontal:"left"},jke=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"],list:["list"]},$ke,e)},Kke=be(Hke,{shouldForwardProp:t=>qo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Yke=be(Zne,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qke=be(Oke,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Xke=T.forwardRef(function(e,i){var r,n;const s=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:C}={},variant:S="selectedMenu",slots:y={},slotProps:w={}}=s,E=Oe(s.TransitionProps,Bke),b=Oe(s,Wke),D=_Q(),P=G({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:C,PaperProps:f,transitionDuration:m,TransitionProps:E,variant:S}),O=jke(P),N=o&&!u&&h,_=T.useRef(null),I=(H,X)=>{_.current&&_.current.adjustStyleForScrollbar(H,{direction:D?"rtl":"ltr"}),C&&C(H,X)},k=H=>{H.key==="Tab"&&(H.preventDefault(),d&&d(H,"tabKeyDown"))};let B=-1;T.Children.map(a,(H,X)=>{T.isValidElement(H)&&(H.props.disabled||(S==="selectedMenu"&&H.props.selected||B===-1)&&(B=X))});const U=(r=y.paper)!=null?r:Yke,K=(n=w.paper)!=null?n:f,j=ii({elementType:y.root,externalSlotProps:w.root,ownerState:P,className:[O.root,l]}),Q=ii({elementType:U,externalSlotProps:K,ownerState:P,className:O.paper});return Y.jsx(Kke,G({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?Uke:zke,slots:{paper:U,root:y.root},slotProps:{root:j,paper:Q},open:h,ref:i,transitionDuration:m,TransitionProps:G({onEntering:I},E),ownerState:P},b,{classes:g,children:Y.jsx(qke,G({onKeyDown:k,actions:_,autoFocus:o&&(B===-1||u),autoFocusItem:N,variant:S},c,{className:Le(O.list,c.className),children:a}))}))}),Qke=Xke;function Zke(t){return at("MuiNativeSelect",t)}const Jke=lt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),$B=Jke,eVe=["className","disabled","error","IconComponent","inputRef","variant"],tVe=t=>{const{classes:e,variant:i,disabled:r,multiple:n,open:s,error:o}=t,a={select:["select",i,r&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${$e(i)}`,s&&"iconOpen",r&&"disabled"]};return ot(a,Zke,e)},Jne=({ownerState:t,theme:e})=>G({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":G({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${$B.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),iVe=be("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qo,overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.select,e[i.variant],i.error&&e.error,{[`&.${$B.multiple}`]:e.multiple}]}})(Jne),ese=({ownerState:t,theme:e})=>G({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${$B.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),rVe=be("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.icon,i.variant&&e[`icon${$e(i.variant)}`],i.open&&e.iconOpen]}})(ese),nVe=T.forwardRef(function(e,i){const{className:r,disabled:n,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=Oe(e,eVe),c=G({},e,{disabled:n,variant:l,error:s}),d=tVe(c);return Y.jsxs(T.Fragment,{children:[Y.jsx(iVe,G({ownerState:c,className:Le(d.select,r),disabled:n,ref:a||i},u)),e.multiple?null:Y.jsx(rVe,{as:o,ownerState:c,className:d.icon})]})}),sVe=nVe;function oVe(t){return at("MuiSelect",t)}const fy=lt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var u4;const aVe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],lVe=be("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{[`&.${fy.select}`]:e.select},{[`&.${fy.select}`]:e[i.variant]},{[`&.${fy.error}`]:e.error},{[`&.${fy.multiple}`]:e.multiple}]}})(Jne,{[`&.${fy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),uVe=be("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.icon,i.variant&&e[`icon${$e(i.variant)}`],i.open&&e.iconOpen]}})(ese),cVe=be("input",{shouldForwardProp:t=>RQ(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function c4(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function dVe(t){return t==null||typeof t=="string"&&!t.trim()}const hVe=t=>{const{classes:e,variant:i,disabled:r,multiple:n,open:s,error:o}=t,a={select:["select",i,r&&"disabled",n&&"multiple",o&&"error"],icon:["icon",`icon${$e(i)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ot(a,oVe,e)},pVe=T.forwardRef(function(e,i){var r;const{"aria-describedby":n,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:g=!1,IconComponent:m,inputRef:C,labelId:S,MenuProps:y={},multiple:w,name:E,onBlur:b,onChange:D,onClose:P,onFocus:O,onOpen:N,open:_,readOnly:I,renderValue:k,SelectDisplayProps:B={},tabIndex:U,value:K,variant:j="standard"}=e,Q=Oe(e,aVe),[H,X]=Ru({controlled:K,default:d,name:"Select"}),[te,le]=Ru({controlled:_,default:c,name:"Select"}),J=T.useRef(null),ie=T.useRef(null),[ue,me]=T.useState(null),{current:se}=T.useRef(_!=null),[he,Ee]=T.useState(),pe=ri(i,C),ye=T.useCallback(dt=>{ie.current=dt,dt&&me(dt)},[]),Ce=ue==null?void 0:ue.parentNode;T.useImperativeHandle(pe,()=>({focus:()=>{ie.current.focus()},node:J.current,value:H}),[H]),T.useEffect(()=>{c&&te&&ue&&!se&&(Ee(a?null:Ce.clientWidth),ie.current.focus())},[ue,a]),T.useEffect(()=>{o&&ie.current.focus()},[o]),T.useEffect(()=>{if(!S)return;const dt=on(ie.current).getElementById(S);if(dt){const Zt=()=>{getSelection().isCollapsed&&ie.current.focus()};return dt.addEventListener("click",Zt),()=>{dt.removeEventListener("click",Zt)}}},[S]);const re=(dt,Zt)=>{dt?N&&N(Zt):P&&P(Zt),se||(Ee(a?null:Ce.clientWidth),le(dt))},oe=dt=>{dt.button===0&&(dt.preventDefault(),ie.current.focus(),re(!0,dt))},fe=dt=>{re(!1,dt)},we=T.Children.toArray(l),Ue=dt=>{const Zt=we.find(Ki=>Ki.props.value===dt.target.value);Zt!==void 0&&(X(Zt.props.value),D&&D(dt,Zt))},Be=dt=>Zt=>{let Ki;if(Zt.currentTarget.hasAttribute("tabindex")){if(w){Ki=Array.isArray(H)?H.slice():[];const Gs=H.indexOf(dt.props.value);Gs===-1?Ki.push(dt.props.value):Ki.splice(Gs,1)}else Ki=dt.props.value;if(dt.props.onClick&&dt.props.onClick(Zt),H!==Ki&&(X(Ki),D)){const Gs=Zt.nativeEvent||Zt,id=new Gs.constructor(Gs.type,Gs);Object.defineProperty(id,"target",{writable:!0,value:{value:Ki,name:E}}),D(id,dt)}w||re(!1,Zt)}},Ve=dt=>{I||[" ","ArrowUp","ArrowDown","Enter"].indexOf(dt.key)!==-1&&(dt.preventDefault(),re(!0,dt))},qe=ue!==null&&te,mt=dt=>{!qe&&b&&(Object.defineProperty(dt,"target",{writable:!0,value:{value:H,name:E}}),b(dt))};delete Q["aria-invalid"];let et,gi;const wi=[];let Yt=!1;(Vx({value:H})||f)&&(k?et=k(H):Yt=!0);const Cr=we.map(dt=>{if(!T.isValidElement(dt))return null;let Zt;if(w){if(!Array.isArray(H))throw new Error(Cc(2));Zt=H.some(Ki=>c4(Ki,dt.props.value)),Zt&&Yt&&wi.push(dt.props.children)}else Zt=c4(H,dt.props.value),Zt&&Yt&&(gi=dt.props.children);return T.cloneElement(dt,{"aria-selected":Zt?"true":"false",onClick:Be(dt),onKeyUp:Ki=>{Ki.key===" "&&Ki.preventDefault(),dt.props.onKeyUp&&dt.props.onKeyUp(Ki)},role:"option",selected:Zt,value:void 0,"data-value":dt.props.value})});Yt&&(w?wi.length===0?et=null:et=wi.reduce((dt,Zt,Ki)=>(dt.push(Zt),Ki<wi.length-1&&dt.push(", "),dt),[]):et=gi);let xn=he;!a&&se&&ue&&(xn=Ce.clientWidth);let xr;typeof U<"u"?xr=U:xr=h?null:0;const Ht=B.id||(E?`mui-component-select-${E}`:void 0),pt=G({},e,{variant:j,value:H,open:qe,error:g}),cs=hVe(pt),el=G({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),co=Nc();return Y.jsxs(T.Fragment,{children:[Y.jsx(lVe,G({ref:ye,tabIndex:xr,role:"combobox","aria-controls":co,"aria-disabled":h?"true":void 0,"aria-expanded":qe?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[S,Ht].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:Ve,onMouseDown:h||I?null:oe,onBlur:mt,onFocus:O},B,{ownerState:pt,className:Le(B.className,cs.select,u),id:Ht,children:dVe(et)?u4||(u4=Y.jsx("span",{className:"notranslate",children:"​"})):et})),Y.jsx(cVe,G({"aria-invalid":g,value:Array.isArray(H)?H.join(","):H,name:E,ref:J,"aria-hidden":!0,onChange:Ue,tabIndex:-1,disabled:h,className:cs.nativeInput,autoFocus:o,ownerState:pt},Q)),Y.jsx(uVe,{as:m,className:cs.icon,ownerState:pt}),Y.jsx(Qke,G({id:`menu-${E||""}`,anchorEl:Ce,open:qe,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:G({"aria-labelledby":S,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:co},y.MenuListProps),slotProps:G({},y.slotProps,{paper:G({},el,{style:G({minWidth:xn},el!=null?el.style:null)})}),children:Cr}))]})}),fVe=pVe,gVe=Hl(Y.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mVe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],vVe=["root"],CVe=t=>{const{classes:e}=t;return e},BB={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>qo(t)&&t!=="variant",slot:"Root"},yVe=be($ne,BB)(""),SVe=be(zne,BB)(""),wVe=be(Wne,BB)(""),tse=T.forwardRef(function(e,i){const r=rt({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=gVe,id:d,input:h,inputProps:f,label:g,labelId:m,MenuProps:C,multiple:S=!1,native:y=!1,onClose:w,onOpen:E,open:b,renderValue:D,SelectDisplayProps:P,variant:O="outlined"}=r,N=Oe(r,mVe),_=y?sVe:fVe,I=$l(),k=vC({props:r,muiFormControl:I,states:["variant","error"]}),B=k.variant||O,U=G({},r,{variant:B,classes:o}),K=CVe(U),j=Oe(K,vVe),Q=h||{standard:Y.jsx(yVe,{ownerState:U}),outlined:Y.jsx(SVe,{label:g,ownerState:U}),filled:Y.jsx(wVe,{ownerState:U})}[B],H=ri(i,Q.ref);return Y.jsx(T.Fragment,{children:T.cloneElement(Q,G({inputComponent:_,inputProps:G({children:s,error:k.error,IconComponent:c,variant:B,type:void 0,multiple:S},y?{id:d}:{autoWidth:n,defaultOpen:l,displayEmpty:u,labelId:m,MenuProps:C,onClose:w,onOpen:E,open:b,renderValue:D,SelectDisplayProps:G({id:d},P)},f,{classes:f?ws(j,f.classes):j},h?h.props.inputProps:{})},(S&&y||u)&&B==="outlined"?{notched:!0}:{},{ref:H,className:Le(Q.props.className,a,K.root)},!h&&{variant:B},N))})});tse.muiName="Select";const EVe=tse;function bVe(t){return at("MuiTextField",t)}const gy=lt("MuiTextField",["root"]),RVe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],TVe={standard:$ne,filled:Wne,outlined:zne},DVe=t=>{const{classes:e}=t;return ot({root:["root"]},bVe,e)},PVe=be(Kne,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:g,id:m,InputLabelProps:C,inputProps:S,InputProps:y,inputRef:w,label:E,maxRows:b,minRows:D,multiline:P=!1,name:O,onBlur:N,onChange:_,onFocus:I,placeholder:k,required:B=!1,rows:U,select:K=!1,SelectProps:j,type:Q,value:H,variant:X="outlined"}=r,te=Oe(r,RVe),le=G({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:P,required:B,select:K,variant:X}),J=DVe(le),ie={};X==="outlined"&&(C&&typeof C.shrink<"u"&&(ie.notched=C.shrink),ie.label=E),K&&((!j||!j.native)&&(ie.id=void 0),ie["aria-describedby"]=void 0);const ue=Nc(m),me=g&&ue?`${ue}-helper-text`:void 0,se=E&&ue?`${ue}-label`:void 0,he=TVe[X],Ee=Y.jsx(he,G({"aria-describedby":me,autoComplete:n,autoFocus:s,defaultValue:u,fullWidth:f,multiline:P,name:O,rows:U,maxRows:b,minRows:D,type:Q,value:H,id:ue,inputRef:w,onBlur:N,onChange:_,onFocus:I,placeholder:k,inputProps:S},ie,y));return Y.jsxs(PVe,G({className:Le(J.root,a),disabled:c,error:d,fullWidth:f,ref:i,required:B,color:l,variant:X,ownerState:le},te,{children:[E!=null&&E!==""&&Y.jsx(jne,G({htmlFor:ue,id:se},C,{children:E})),K?Y.jsx(EVe,G({"aria-describedby":me,id:ue,labelId:se,value:H,input:Ee},j,{children:o})):Ee,g&&Y.jsx(Yne,G({id:me},h,{children:g}))]}))}),Ln=xVe;function AVe(t){return at("MuiDialog",t)}const OVe=lt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),RS=OVe,MVe=T.createContext({}),ise=MVe,FVe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],IVe=be(WQ,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),LVe=t=>{const{classes:e,scroll:i,maxWidth:r,fullWidth:n,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${$e(i)}`],paper:["paper",`paperScroll${$e(i)}`,`paperWidth${$e(String(r))}`,n&&"paperFullWidth",s&&"paperFullScreen"]};return ot(o,AVe,e)},_Ve=be(QV,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),NVe=be("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.container,e[`scroll${$e(i.scroll)}`]]}})(({ownerState:t})=>G({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),GVe=be($v,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.paper,e[`scrollPaper${$e(i.scroll)}`],e[`paperWidth${$e(String(i.maxWidth))}`],i.fullWidth&&e.paperFullWidth,i.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>G({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${RS.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${RS.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${RS.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),kVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialog"}),n=ja(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:g=!1,maxWidth:m="sm",onBackdropClick:C,onClose:S,open:y,PaperComponent:w=$v,PaperProps:E={},scroll:b="paper",TransitionComponent:D=Bv,transitionDuration:P=s,TransitionProps:O}=r,N=Oe(r,FVe),_=G({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:g,maxWidth:m,scroll:b}),I=LVe(_),k=T.useRef(),B=Q=>{k.current=Q.target===Q.currentTarget},U=Q=>{k.current&&(k.current=null,C&&C(Q),S&&S(Q,"backdropClick"))},K=Nc(a),j=T.useMemo(()=>({titleId:K}),[K]);return Y.jsx(_Ve,G({className:Le(I.root,d),closeAfterTransition:!0,components:{Backdrop:IVe},componentsProps:{backdrop:G({transitionDuration:P,as:l},u)},disableEscapeKeyDown:h,onClose:S,open:y,ref:i,onClick:U,ownerState:_},N,{children:Y.jsx(D,G({appear:!0,in:y,timeout:P,role:"presentation"},O,{children:Y.jsx(NVe,{className:Le(I.container),onMouseDown:B,ownerState:_,children:Y.jsx(GVe,G({as:w,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":K},E,{className:Le(I.paper,E.className),ownerState:_,children:Y.jsx(ise.Provider,{value:j,children:c})}))})}))}))}),rM=kVe;function VVe(t){return at("MuiDialogActions",t)}lt("MuiDialogActions",["root","spacing"]);const HVe=["className","disableSpacing"],$Ve=t=>{const{classes:e,disableSpacing:i}=t;return ot({root:["root",!i&&"spacing"]},VVe,e)},BVe=be("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disableSpacing&&e.spacing]}})(({ownerState:t})=>G({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),WVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:s=!1}=r,o=Oe(r,HVe),a=G({},r,{disableSpacing:s}),l=$Ve(a);return Y.jsx(BVe,G({className:Le(l.root,n),ownerState:a,ref:i},o))}),nM=WVe;function UVe(t){return at("MuiDialogContent",t)}lt("MuiDialogContent",["root","dividers"]);function zVe(t){return at("MuiDialogTitle",t)}const jVe=lt("MuiDialogTitle",["root"]),KVe=jVe,YVe=["className","dividers"],qVe=t=>{const{classes:e,dividers:i}=t;return ot({root:["root",i&&"dividers"]},UVe,e)},XVe=be("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>G({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${KVe.root} + &`]:{paddingTop:0}})),QVe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialogContent"}),{className:n,dividers:s=!1}=r,o=Oe(r,YVe),a=G({},r,{dividers:s}),l=qVe(a);return Y.jsx(XVe,G({className:Le(l.root,n),ownerState:a,ref:i},o))}),sM=QVe,ZVe=["className","id"],JVe=t=>{const{classes:e}=t;return ot({root:["root"]},zVe,e)},eHe=be(Io,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),tHe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDialogTitle"}),{className:n,id:s}=r,o=Oe(r,ZVe),a=r,l=JVe(a),{titleId:u=s}=T.useContext(ise);return Y.jsx(eHe,G({component:"h2",className:Le(l.root,n),ownerState:a,ref:i,variant:"h6",id:s??u},o))}),WB=tHe;var UB={},iHe=Vl;Object.defineProperty(UB,"__esModule",{value:!0});var rse=UB.default=void 0,rHe=iHe(kc()),nHe=Y;rse=UB.default=(0,rHe.default)((0,nHe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function sHe(t){const[e,i]=$.useState(!1),[r,n]=$.useState({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),s=()=>{i(!0)},o=()=>{i(!1)},a=u=>{n({...r,[u.target.name]:u.target.value})},l=()=>{t.saveCustomer(r),o()};return Y.jsxs($.Fragment,{children:[Y.jsxs(es,{variant:"contained",onClick:s,children:[Y.jsx(rse,{})," Add Customer"]}),Y.jsxs(rM,{open:e,onClose:o,PaperProps:{component:"form",onSubmit:u=>{u.preventDefault();const c=new FormData(u.currentTarget),h=Object.fromEntries(c.entries()).email;console.log(h),o()}},children:[Y.jsx(WB,{children:"New Customer"}),Y.jsxs(sM,{children:[Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"firstname",value:r.firstname,onChange:u=>a(u),label:"Firstname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"lastname",value:r.lastname,onChange:u=>a(u),label:"Lastname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"streetaddress",value:r.streetaddress,onChange:u=>a(u),label:"Streetaddress",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"postcode",value:r.postcode,onChange:u=>a(u),label:"Postcode",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"city",value:r.city,onChange:u=>a(u),label:"City",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"email",value:r.email,onChange:u=>a(u),label:"Email",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"phone",value:r.phone,onChange:u=>a(u),label:"Phone",fullWidth:!0,variant:"standard"})]}),Y.jsxs(nM,{children:[Y.jsx(es,{onClick:o,children:"Cancel"}),Y.jsx(es,{onClick:l,children:"Save"})]})]})]})}var zB={},oHe=Vl;Object.defineProperty(zB,"__esModule",{value:!0});var nse=zB.default=void 0,aHe=oHe(kc()),lHe=Y;nse=zB.default=(0,aHe.default)((0,lHe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");function uHe(t){const[e,i]=$.useState(!1),[r,n]=$.useState({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),s=()=>{n({firstname:t.customer.firstname,lastname:t.customer.lastname,streetaddress:t.customer.streetaddress,postcode:t.customer.postcode,city:t.customer.city,email:t.customer.email,phone:t.customer.phone}),i(!0)},o=()=>{i(!1)},a=u=>{n({...r,[u.target.name]:u.target.value})},l=()=>{t.updateCustomer(r,t.customer._links.customer.href),o()};return Y.jsxs($.Fragment,{children:[Y.jsxs(es,{onClick:s,color:"secondary",children:[Y.jsx(nse,{})," "]}),Y.jsxs(rM,{open:e,onClose:o,PaperProps:{component:"form",onSubmit:u=>{u.preventDefault();const c=new FormData(u.currentTarget),h=Object.fromEntries(c.entries()).email;console.log(h),o()}},children:[Y.jsx(WB,{children:"Edit Customer"}),Y.jsxs(sM,{children:[Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"firstname",value:r.firstname,onChange:u=>a(u),label:"Firstname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"lastname",value:r.lastname,onChange:u=>a(u),label:"Lastname",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"streetaddress",value:r.streetaddress,onChange:u=>a(u),label:"Streetaddress",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"postcode",value:r.postcode,onChange:u=>a(u),label:"Postcode",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"city",value:r.city,onChange:u=>a(u),label:"City",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"email",value:r.email,onChange:u=>a(u),label:"Email",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{autoFocus:!0,required:!0,margin:"dense",name:"phone",value:r.phone,onChange:u=>a(u),label:"Phone",fullWidth:!0,variant:"standard"})]}),Y.jsxs(nM,{children:[Y.jsx(es,{onClick:o,children:"Cancel"}),Y.jsx(es,{onClick:l,children:"Save"})]})]})]})}const cHe=HTe({createStyledComponent:be("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>rt({props:t,name:"MuiStack"})}),dHe=cHe,d4=lt("MuiStack",["root"]);function hHe(t){return at("MuiPickersTextField",t)}const my=lt("MuiPickersTextField",["root","focused","disabled","error","required"]);function pHe(t){return at("MuiPickersInputBase",t)}const Rm=lt("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function fHe(t){return at("MuiPickersSectionList",t)}const vy=lt("MuiPickersSectionList",["root","section","sectionContent"]),gHe=["slots","slotProps","elements","sectionListRef"],sse=be("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),ose=be("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),ase=be("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),lse=be("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),mHe=t=>{const{classes:e}=t;return ot({root:["root"],section:["section"],sectionContent:["sectionContent"]},fHe,e)};function vHe(t){const{slots:e,slotProps:i,element:r,classes:n}=t,s=(e==null?void 0:e.section)??ose,o=ii({elementType:s,externalSlotProps:i==null?void 0:i.section,externalForwardedProps:r.container,className:n.section,ownerState:{}}),a=(e==null?void 0:e.sectionContent)??lse,l=ii({elementType:a,externalSlotProps:i==null?void 0:i.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:n.sectionContent,ownerState:{}}),u=(e==null?void 0:e.sectionSeparator)??ase,c=ii({elementType:u,externalSlotProps:i==null?void 0:i.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=ii({elementType:u,externalSlotProps:i==null?void 0:i.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return Y.jsxs(s,G({},o,{children:[Y.jsx(u,G({},c)),Y.jsx(a,G({},l)),Y.jsx(u,G({},d))]}))}const CHe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersSectionList"}),{slots:n,slotProps:s,elements:o,sectionListRef:a}=r,l=Oe(r,gHe),u=mHe(r),c=T.useRef(null),d=ri(i,c),h=m=>{if(!c.current)throw new Error(`MUI X: Cannot call sectionListRef.${m} before the mount of the component.`);return c.current};T.useImperativeHandle(a,()=>({getRoot(){return h("getRoot")},getSectionContainer(m){return h("getSectionContainer").querySelector(`.${vy.section}[data-sectionindex="${m}"]`)},getSectionContent(m){return h("getSectionContent").querySelector(`.${vy.section}[data-sectionindex="${m}"] .${vy.sectionContent}`)},getSectionIndexFromDOMElement(m){const C=h("getSectionIndexFromDOMElement");if(m==null||!C.contains(m))return null;let S=null;return m.classList.contains(vy.section)?S=m:m.classList.contains(vy.sectionContent)&&(S=m.parentElement),S==null?null:Number(S.dataset.sectionindex)}}));const f=(n==null?void 0:n.root)??sse,g=ii({elementType:f,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:u.root,ownerState:{}});return Y.jsx(f,G({},g,{children:g.contentEditable?o.map(({content:m,before:C,after:S})=>`${C.children}${m.children}${S.children}`).join(""):Y.jsx(T.Fragment,{children:o.map((m,C)=>Y.jsx(vHe,{slots:n,slotProps:s,element:m,classes:u},C))})}))}),yHe=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],SHe=t=>Math.round(t*1e5)/1e5,oM=be("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>G({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${SHe(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),jB=be(sse,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>G({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px"},t.direction==="rtl"&&{textAlign:"right /*! @noflip */"},{variants:[{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:i,filled:r,label:n})=>!e&&!i&&!r&&n==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),wHe=be(ose,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),EHe=be(lse,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),bHe=be(ase,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),RHe=be("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(G({},OTe)),THe=t=>{const{focused:e,disabled:i,error:r,classes:n,fullWidth:s,readOnly:o,color:a,size:l,endAdornment:u,startAdornment:c}=t,d={root:["root",e&&!i&&"focused",i&&"disabled",o&&"readOnly",r&&"error",s&&"fullWidth",`color${$e(a)}`,l==="small"&&"inputSizeSmall",!!c&&"adornedStart",!!u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return ot(d,pHe,n)},KB=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersInputBase"}),{elements:n,areAllSectionsEmpty:s,value:o,onChange:a,id:l,endAdornment:u,startAdornment:c,renderSuffix:d,slots:h,slotProps:f,contentEditable:g,tabIndex:m,onInput:C,onPaste:S,onKeyDown:y,name:w,readOnly:E,inputProps:b,inputRef:D,sectionListRef:P}=r,O=Oe(r,yHe),N=T.useRef(null),_=ri(i,N),I=ri(b==null?void 0:b.ref,D),k=$l();if(!k)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const B=X=>{var te;if(k.disabled){X.stopPropagation();return}(te=k.onFocus)==null||te.call(k,X)};T.useEffect(()=>{k&&k.setAdornedStart(!!c)},[k,c]),T.useEffect(()=>{k&&(s?k.onEmpty():k.onFilled())},[k,s]);const U=G({},r,k),K=THe(U),j=(h==null?void 0:h.root)||oM,Q=ii({elementType:j,externalSlotProps:f==null?void 0:f.root,externalForwardedProps:O,additionalProps:{"aria-invalid":k.error,ref:_},className:K.root,ownerState:U}),H=(h==null?void 0:h.input)||jB;return Y.jsxs(j,G({},Q,{children:[c,Y.jsx(CHe,{sectionListRef:P,elements:n,contentEditable:g,tabIndex:m,className:K.sectionsContainer,onFocus:B,onBlur:k.onBlur,onInput:C,onPaste:S,onKeyDown:y,slots:{root:H,section:wHe,sectionContent:EHe,sectionSeparator:bHe},slotProps:{root:{ownerState:U},sectionContent:{className:Rm.sectionContent},sectionSeparator:({position:X})=>({className:X==="before"?Rm.sectionBefore:Rm.sectionAfter})}}),u,d?d(G({},k)):null,Y.jsx(RHe,G({name:w,className:K.input,value:o,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:E,required:k.required,disabled:k.disabled},b,{ref:I}))]}))});function DHe(t){return at("MuiPickersOutlinedInput",t)}const al=G({},Rm,lt("MuiPickersOutlinedInput",["root","notchedOutline","input"])),PHe=["children","className","label","notched","shrink"],xHe=be("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),h4=be("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),AHe=be("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function OHe(t){const{className:e,label:i}=t,r=Oe(t,PHe),n=i!=null&&i!=="",s=G({},t,{withLabel:n});return Y.jsx(xHe,G({"aria-hidden":!0,className:e},r,{ownerState:s,children:Y.jsx(AHe,{ownerState:s,children:n?Y.jsx(h4,{children:i}):Y.jsx(h4,{className:"notranslate",children:"​"})})}))}const MHe=["label","autoFocus","ownerState","notched"],FHe=be(oM,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${al.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${al.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${al.focused} .${al.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${al.disabled}`]:{[`& .${al.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${al.error} .${al.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(i=>(t.vars??t).palette[i].main).map(i=>({props:{color:i},style:{[`&.${al.focused}:not(.${al.error}) .${al.notchedOutline}`]:{borderColor:(t.vars||t).palette[i].main}}}))}}),IHe=be(jB,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),LHe=t=>{const{classes:e}=t,r=ot({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},DHe,e);return G({},e,r)},use=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersOutlinedInput"}),{label:n,ownerState:s,notched:o}=r,a=Oe(r,MHe),l=$l(),u=G({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),c=LHe(u);return Y.jsx(KB,G({slots:{root:FHe,input:IHe},renderSuffix:d=>Y.jsx(OHe,{shrink:!!(o||d.adornedStart||d.focused||d.filled),notched:!!(o||d.adornedStart||d.focused||d.filled),className:c.notchedOutline,label:n!=null&&n!==""&&(l!=null&&l.required)?Y.jsxs(T.Fragment,{children:[n," ","*"]}):n,ownerState:u})},a,{label:n,classes:c,ref:i}))});use.muiName="Input";function _He(t){return at("MuiPickersFilledInput",t)}const Vh=G({},Rm,lt("MuiPickersFilledInput",["root","underline","input"])),NHe=["label","autoFocus","disableUnderline","ownerState"],GHe=be(oM,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>wD(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",i=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Vh.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Vh.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter(o=>(t.vars??t).palette[o].main).map(o=>{var a;return{props:{color:o,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vh.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vh.disabled}, .${Vh.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Vh.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:o})=>!!o,style:{paddingLeft:12}},{props:({endAdornment:o})=>!!o,style:{paddingRight:12}}]}}),kHe=be(jB,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),VHe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},_He,e);return G({},e,n)},cse=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersFilledInput"}),{label:n,disableUnderline:s=!1,ownerState:o}=r,a=Oe(r,NHe),l=$l(),u=G({},r,o,l,{color:(l==null?void 0:l.color)||"primary"}),c=VHe(u);return Y.jsx(KB,G({slots:{root:GHe,input:kHe},slotProps:{root:{disableUnderline:s}}},a,{label:n,classes:c,ref:i}))});cse.muiName="Input";function HHe(t){return at("MuiPickersFilledInput",t)}const Cy=G({},Rm,lt("MuiPickersInput",["root","input"])),$He=["label","autoFocus","disableUnderline","ownerState"],BHe=be(oM,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let i=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(i=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cy.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cy.disabled}, .${Cy.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${Cy.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),WHe=t=>{const{classes:e,disableUnderline:i}=t,n=ot({root:["root",!i&&"underline"],input:["input"]},HHe,e);return G({},e,n)},dse=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersInput"}),{label:n,disableUnderline:s=!1,ownerState:o}=r,a=Oe(r,$He),l=$l(),u=G({},r,o,l,{disableUnderline:s,color:(l==null?void 0:l.color)||"primary"}),c=WHe(u);return Y.jsx(KB,G({slots:{root:BHe}},a,{label:n,classes:c,ref:i}))});dse.muiName="Input";const UHe=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],zHe={standard:dse,filled:cse,outlined:use},jHe=be(Kne,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),KHe=t=>{const{focused:e,disabled:i,classes:r,required:n}=t;return ot({root:["root",e&&!i&&"focused",i&&"disabled",n&&"required"]},hHe,r)},YHe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersTextField"}),{onFocus:n,onBlur:s,className:o,color:a="primary",disabled:l=!1,error:u=!1,variant:c="outlined",required:d=!1,InputProps:h,inputProps:f,inputRef:g,sectionListRef:m,elements:C,areAllSectionsEmpty:S,onClick:y,onKeyDown:w,onPaste:E,onInput:b,endAdornment:D,startAdornment:P,tabIndex:O,contentEditable:N,focused:_,value:I,onChange:k,fullWidth:B,id:U,name:K,helperText:j,FormHelperTextProps:Q,label:H,InputLabelProps:X}=r,te=Oe(r,UHe),le=T.useRef(null),J=ri(i,le),ie=Nc(U),ue=j&&ie?`${ie}-helper-text`:void 0,me=H&&ie?`${ie}-label`:void 0,se=G({},r,{color:a,disabled:l,error:u,focused:_,required:d,variant:c}),he=KHe(se),Ee=zHe[c];return Y.jsxs(jHe,G({className:Le(he.root,o),ref:J,focused:_,onFocus:n,onBlur:s,disabled:l,variant:c,error:u,color:a,fullWidth:B,required:d,ownerState:se},te,{children:[Y.jsx(jne,G({htmlFor:ie,id:me},X,{children:H})),Y.jsx(Ee,G({elements:C,areAllSectionsEmpty:S,onClick:y,onKeyDown:w,onInput:b,onPaste:E,endAdornment:D,startAdornment:P,tabIndex:O,contentEditable:N,value:I,onChange:k,id:ie,fullWidth:B,inputProps:f,inputRef:g,sectionListRef:m,label:H,name:K,role:"group","aria-labelledby":me},h)),j&&Y.jsx(Yne,G({id:ue},Q,{children:j}))]}))}),qHe=t=>t.match(/^([A-Za-z]+)Range(Calendar|Clock)$/)?"multi-panel-UI-view":t.match(/^([A-Za-z]*)(DigitalClock)$/)?"Tall-UI-view":t.match(/^Static([A-Za-z]+)/)||t.match(/^([A-Za-z]+)(Calendar|Clock)$/)?"UI-view":t.match(/^MultiInput([A-Za-z]+)RangeField$/)||t.match(/^([A-Za-z]+)RangePicker$/)?"multi-input-range-field":t.match(/^SingleInput([A-Za-z]+)RangeField$/)?"single-input-range-field":"single-input-field",XHe=t=>t.includes("DateTime")?"date-time":t.includes("Date")?"date":"time",QHe=t=>T.isValidElement(t)&&typeof t.type!="string"?t.type.displayName==="DemoItem":!1;function ZHe(t){const{children:e,components:i,sx:r}=t,n=new Set,s=new Set;i.forEach(f=>{n.add(qHe(f)),s.add(XHe(f))});const o=f=>f==="row"?n.has("UI-view")||n.has("Tall-UI-view")?3:2:n.has("UI-view")?4:3;let a,l,u={},c={};const d=G({overflow:"auto",pt:1},r);i.length>2||n.has("multi-input-range-field")||n.has("single-input-range-field")||n.has("multi-panel-UI-view")||n.has("UI-view")||s.has("date-time")?(a="column",l=o("column")):(a={xs:"column",lg:"row"},l={xs:o("column"),lg:o("row")}),n.has("UI-view")||(n.has("single-input-range-field")?s.has("date-time")?u={[`& > .${gy.root}, & > .${my.root}`]:{minWidth:{xs:300,md:n.has("multi-input-range-field")?460:400}}}:u={[`& > .${gy.root}, & > .${my.root}`]:{minWidth:300}}:s.has("date-time")?(u={[`& > .${gy.root}, & > .${my.root}`]:{minWidth:270}},n.has("multi-input-range-field")&&(c={[`& > .${d4.root} > .${gy.root}, & > .${d4.root} > .${my.root}`]:{minWidth:210}})):u={[`& > .${gy.root}, & > .${my.root}`]:{minWidth:200}});const h=G({},d,u);return Y.jsx(dHe,{direction:a,spacing:l,sx:h,children:T.Children.map(e,f=>T.isValidElement(f)&&QHe(f)?T.cloneElement(f,{sx:G({},u,c)}):f)})}var hse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i=1e3,r=6e4,n=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",g="date",m="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var K=["th","st","nd","rd"],j=U%100;return"["+U+(K[(j-20)%10]||K[j]||K[0])+"]"}},w=function(U,K,j){var Q=String(U);return!Q||Q.length>=K?U:""+Array(K+1-Q.length).join(j)+U},E={s:w,z:function(U){var K=-U.utcOffset(),j=Math.abs(K),Q=Math.floor(j/60),H=j%60;return(K<=0?"+":"-")+w(Q,2,"0")+":"+w(H,2,"0")},m:function U(K,j){if(K.date()<j.date())return-U(j,K);var Q=12*(j.year()-K.year())+(j.month()-K.month()),H=K.clone().add(Q,d),X=j-H<0,te=K.clone().add(Q+(X?-1:1),d);return+(-(Q+(j-H)/(X?H-te:te-H))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:f,w:c,d:u,D:g,h:l,m:a,s:o,ms:s,Q:h}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},b="en",D={};D[b]=y;var P="$isDayjsObject",O=function(U){return U instanceof k||!(!U||!U[P])},N=function U(K,j,Q){var H;if(!K)return b;if(typeof K=="string"){var X=K.toLowerCase();D[X]&&(H=X),j&&(D[X]=j,H=X);var te=K.split("-");if(!H&&te.length>1)return U(te[0])}else{var le=K.name;D[le]=K,H=le}return!Q&&H&&(b=H),H||!Q&&b},_=function(U,K){if(O(U))return U.clone();var j=typeof K=="object"?K:{};return j.date=U,j.args=arguments,new k(j)},I=E;I.l=N,I.i=O,I.w=function(U,K){return _(U,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var k=function(){function U(j){this.$L=N(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[P]=!0}var K=U.prototype;return K.parse=function(j){this.$d=function(Q){var H=Q.date,X=Q.utc;if(H===null)return new Date(NaN);if(I.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var te=H.match(C);if(te){var le=te[2]-1||0,J=(te[7]||"0").substring(0,3);return X?new Date(Date.UTC(te[1],le,te[3]||1,te[4]||0,te[5]||0,te[6]||0,J)):new Date(te[1],le,te[3]||1,te[4]||0,te[5]||0,te[6]||0,J)}}return new Date(H)}(j),this.init()},K.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},K.$utils=function(){return I},K.isValid=function(){return this.$d.toString()!==m},K.isSame=function(j,Q){var H=_(j);return this.startOf(Q)<=H&&H<=this.endOf(Q)},K.isAfter=function(j,Q){return _(j)<this.startOf(Q)},K.isBefore=function(j,Q){return this.endOf(Q)<_(j)},K.$g=function(j,Q,H){return I.u(j)?this[Q]:this.set(H,j)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(j,Q){var H=this,X=!!I.u(Q)||Q,te=I.p(j),le=function(pe,ye){var Ce=I.w(H.$u?Date.UTC(H.$y,ye,pe):new Date(H.$y,ye,pe),H);return X?Ce:Ce.endOf(u)},J=function(pe,ye){return I.w(H.toDate()[pe].apply(H.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(ye)),H)},ie=this.$W,ue=this.$M,me=this.$D,se="set"+(this.$u?"UTC":"");switch(te){case f:return X?le(1,0):le(31,11);case d:return X?le(1,ue):le(0,ue+1);case c:var he=this.$locale().weekStart||0,Ee=(ie<he?ie+7:ie)-he;return le(X?me-Ee:me+(6-Ee),ue);case u:case g:return J(se+"Hours",0);case l:return J(se+"Minutes",1);case a:return J(se+"Seconds",2);case o:return J(se+"Milliseconds",3);default:return this.clone()}},K.endOf=function(j){return this.startOf(j,!1)},K.$set=function(j,Q){var H,X=I.p(j),te="set"+(this.$u?"UTC":""),le=(H={},H[u]=te+"Date",H[g]=te+"Date",H[d]=te+"Month",H[f]=te+"FullYear",H[l]=te+"Hours",H[a]=te+"Minutes",H[o]=te+"Seconds",H[s]=te+"Milliseconds",H)[X],J=X===u?this.$D+(Q-this.$W):Q;if(X===d||X===f){var ie=this.clone().set(g,1);ie.$d[le](J),ie.init(),this.$d=ie.set(g,Math.min(this.$D,ie.daysInMonth())).$d}else le&&this.$d[le](J);return this.init(),this},K.set=function(j,Q){return this.clone().$set(j,Q)},K.get=function(j){return this[I.p(j)]()},K.add=function(j,Q){var H,X=this;j=Number(j);var te=I.p(Q),le=function(ue){var me=_(X);return I.w(me.date(me.date()+Math.round(ue*j)),X)};if(te===d)return this.set(d,this.$M+j);if(te===f)return this.set(f,this.$y+j);if(te===u)return le(1);if(te===c)return le(7);var J=(H={},H[a]=r,H[l]=n,H[o]=i,H)[te]||1,ie=this.$d.getTime()+j*J;return I.w(ie,this)},K.subtract=function(j,Q){return this.add(-1*j,Q)},K.format=function(j){var Q=this,H=this.$locale();if(!this.isValid())return H.invalidDate||m;var X=j||"YYYY-MM-DDTHH:mm:ssZ",te=I.z(this),le=this.$H,J=this.$m,ie=this.$M,ue=H.weekdays,me=H.months,se=H.meridiem,he=function(ye,Ce,re,oe){return ye&&(ye[Ce]||ye(Q,X))||re[Ce].slice(0,oe)},Ee=function(ye){return I.s(le%12||12,ye,"0")},pe=se||function(ye,Ce,re){var oe=ye<12?"AM":"PM";return re?oe.toLowerCase():oe};return X.replace(S,function(ye,Ce){return Ce||function(re){switch(re){case"YY":return String(Q.$y).slice(-2);case"YYYY":return I.s(Q.$y,4,"0");case"M":return ie+1;case"MM":return I.s(ie+1,2,"0");case"MMM":return he(H.monthsShort,ie,me,3);case"MMMM":return he(me,ie);case"D":return Q.$D;case"DD":return I.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return he(H.weekdaysMin,Q.$W,ue,2);case"ddd":return he(H.weekdaysShort,Q.$W,ue,3);case"dddd":return ue[Q.$W];case"H":return String(le);case"HH":return I.s(le,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return pe(le,J,!0);case"A":return pe(le,J,!1);case"m":return String(J);case"mm":return I.s(J,2,"0");case"s":return String(Q.$s);case"ss":return I.s(Q.$s,2,"0");case"SSS":return I.s(Q.$ms,3,"0");case"Z":return te}return null}(ye)||te.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(j,Q,H){var X,te=this,le=I.p(Q),J=_(j),ie=(J.utcOffset()-this.utcOffset())*r,ue=this-J,me=function(){return I.m(te,J)};switch(le){case f:X=me()/12;break;case d:X=me();break;case h:X=me()/3;break;case c:X=(ue-ie)/6048e5;break;case u:X=(ue-ie)/864e5;break;case l:X=ue/n;break;case a:X=ue/r;break;case o:X=ue/i;break;default:X=ue}return H?X:I.a(X)},K.daysInMonth=function(){return this.endOf(d).$D},K.$locale=function(){return D[this.$L]},K.locale=function(j,Q){if(!j)return this.$L;var H=this.clone(),X=N(j,Q,!0);return X&&(H.$L=X),H},K.clone=function(){return I.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},U}(),B=k.prototype;return _.prototype=B,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",g]].forEach(function(U){B[U[1]]=function(K){return this.$g(K,U[0],U[1])}}),_.extend=function(U,K){return U.$i||(U(K,k,_),U.$i=!0),_},_.locale=N,_.isDayjs=O,_.unix=function(U){return _(1e3*U)},_.en=D[b],_.Ls=D,_.p={},_})})(hse);var JHe=hse.exports;const or=Pt(JHe);var pse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i="week",r="year";return function(n,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(r).add(1,r).date(u),d=o(this).endOf(i);if(c.isBefore(d))return 1}var h=o(this).startOf(r).date(u).startOf(i).subtract(1,"millisecond"),f=this.diff(h,i,!0);return f<0?o(this).startOf("week").week():Math.ceil(f)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(pse);var e$e=pse.exports;const t$e=Pt(e$e);var fse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(m){return(m=+m)+(m>68?1900:2e3)},u=function(m){return function(C){this[m]=+C}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(C){if(!C||C==="Z")return 0;var S=C.match(/([+-]|\d\d)/g),y=60*S[1]+(+S[2]||0);return y===0?0:S[0]==="+"?-y:y}(m)}],d=function(m){var C=a[m];return C&&(C.indexOf?C:C.s.concat(C.f))},h=function(m,C){var S,y=a.meridiem;if(y){for(var w=1;w<=24;w+=1)if(m.indexOf(y(w,0,C))>-1){S=w>12;break}}else S=m===(C?"pm":"PM");return S},f={A:[o,function(m){this.afternoon=h(m,!1)}],a:[o,function(m){this.afternoon=h(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[n,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[n,u("day")],Do:[o,function(m){var C=a.ordinal,S=m.match(/\d+/);if(this.day=S[0],C)for(var y=1;y<=31;y+=1)C(y).replace(/\[|\]/g,"")===m&&(this.day=y)}],M:[s,u("month")],MM:[n,u("month")],MMM:[o,function(m){var C=d("months"),S=(d("monthsShort")||C.map(function(y){return y.slice(0,3)})).indexOf(m)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[o,function(m){var C=d("months").indexOf(m)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,u("year")],YY:[n,function(m){this.year=l(m)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function g(m){var C,S;C=m,S=a&&a.formats;for(var y=(m=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,_,I){var k=I&&I.toUpperCase();return _||S[I]||i[I]||S[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(B,U,K){return U||K.slice(1)})})).match(r),w=y.length,E=0;E<w;E+=1){var b=y[E],D=f[b],P=D&&D[0],O=D&&D[1];y[E]=O?{regex:P,parser:O}:b.replace(/^\[|\]$/g,"")}return function(N){for(var _={},I=0,k=0;I<w;I+=1){var B=y[I];if(typeof B=="string")k+=B.length;else{var U=B.regex,K=B.parser,j=N.slice(k),Q=U.exec(j)[0];K.call(_,Q),N=N.replace(Q,"")}}return function(H){var X=H.afternoon;if(X!==void 0){var te=H.hours;X?te<12&&(H.hours+=12):te===12&&(H.hours=0),delete H.afternoon}}(_),_}}return function(m,C,S){S.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var y=C.prototype,w=y.parse;y.parse=function(E){var b=E.date,D=E.utc,P=E.args;this.$u=D;var O=P[1];if(typeof O=="string"){var N=P[2]===!0,_=P[3]===!0,I=N||_,k=P[2];_&&(k=P[2]),a=this.$locale(),!N&&k&&(a=S.Ls[k]),this.$d=function(j,Q,H){try{if(["x","X"].indexOf(Q)>-1)return new Date((Q==="X"?1e3:1)*j);var X=g(Q)(j),te=X.year,le=X.month,J=X.day,ie=X.hours,ue=X.minutes,me=X.seconds,se=X.milliseconds,he=X.zone,Ee=new Date,pe=J||(te||le?1:Ee.getDate()),ye=te||Ee.getFullYear(),Ce=0;te&&!le||(Ce=le>0?le-1:Ee.getMonth());var re=ie||0,oe=ue||0,fe=me||0,we=se||0;return he?new Date(Date.UTC(ye,Ce,pe,re,oe,fe,we+60*he.offset*1e3)):H?new Date(Date.UTC(ye,Ce,pe,re,oe,fe,we)):new Date(ye,Ce,pe,re,oe,fe,we)}catch{return new Date("")}}(b,O,D),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),I&&b!=this.format(O)&&(this.$d=new Date("")),a={}}else if(O instanceof Array)for(var B=O.length,U=1;U<=B;U+=1){P[1]=O[U-1];var K=S.apply(this,P);if(K.isValid()){this.$d=K.$d,this.$L=K.$L,this.init();break}U===B&&(this.$d=new Date(""))}else w.call(this,E)}}})})(fse);var i$e=fse.exports;const r$e=Pt(i$e);var gse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,n,s){var o=n.prototype,a=o.format;s.en.formats=i,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,g,m){var C=m&&m.toUpperCase();return g||h[m]||i[m]||h[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,y,w){return y||w.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(gse);var n$e=gse.exports;const mse=Pt(n$e);var vse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r,n){r.prototype.isBetween=function(s,o,a,l){var u=n(s),c=n(o),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(u,a):!this.isBefore(u,a))&&(h?this.isBefore(c,a):!this.isAfter(c,a))||(d?this.isBefore(u,a):!this.isAfter(u,a))&&(h?this.isAfter(c,a):!this.isBefore(c,a))}}})})(vse);var s$e=vse.exports;const Cse=Pt(s$e);var yse={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r){var n=r.prototype,s=n.format;n.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var u=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return u.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return s.bind(this)(c)}}})})(yse);var o$e=yse.exports;const a$e=Pt(o$e),Sse=(t,e="warning")=>{let i=!1;const r=Array.isArray(t)?t.join(`
`):t;return()=>{i||(i=!0,e==="error"?console.error(r):console.warn(r))}};or.extend(mse);or.extend(t$e);or.extend(Cse);or.extend(a$e);const l$e=Sse(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),u$e={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},c$e={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},QL=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),p4=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),d$e=(t,e)=>e?(...i)=>t(...i).locale(e):t;class h$e{constructor({locale:e,formats:i}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=u$e,this.setLocaleToValue=r=>{const n=this.getCurrentLocaleCode();return n===r.locale()?r:r.locale(n)},this.hasUTCPlugin=()=>typeof or.utc<"u",this.hasTimezonePlugin=()=>typeof or.tz<"u",this.isSame=(r,n,s)=>{const o=this.setTimezone(n,this.getTimezone(r));return r.format(s)===o.format(s)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return or.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const n=or.tz.guess();return n!=="UTC"?or.tz(r,n):or(r)}return or(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(QL);return or.utc(r)},this.createTZDate=(r,n)=>{if(!this.hasUTCPlugin())throw new Error(QL);if(!this.hasTimezonePlugin())throw new Error(p4);const s=r!==void 0&&!r.endsWith("Z");return or(r).tz(this.cleanTimezone(n),s)},this.getLocaleFormats=()=>{const r=or.Ls,n=this.locale||"en";let s=r[n];return s===void 0&&(l$e(),s=r.en),s.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const n=this.getTimezone(r);if(n!=="UTC"){const s=r.tz(this.cleanTimezone(n),!0);return(s.$offset??0)===(r.$offset??0)?r:s}return r},this.date=(r,n="default")=>{if(r===null)return null;let s;return n==="UTC"?s=this.createUTCDate(r):n==="system"||n==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(r):s=this.createTZDate(r,n),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>or(new Date("Invalid date")),this.getTimezone=r=>{var n;if(this.hasTimezonePlugin()){const s=(n=r.$x)==null?void 0:n.$timezone;if(s)return s}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,n)=>{if(this.getTimezone(r)===n)return r;if(n==="UTC"){if(!this.hasUTCPlugin())throw new Error(QL);return r.utc()}if(n==="system")return r.local();if(!this.hasTimezonePlugin()){if(n==="default")return r;throw new Error(p4)}return or.tz(r,this.cleanTimezone(n))},this.toJsDate=r=>r.toDate(),this.parse=(r,n)=>r===""?null:this.dayjs(r,n,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const n=this.getLocaleFormats(),s=o=>o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(a,l,u)=>l||u.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(o,a,l)=>{const u=l&&l.toUpperCase();return a||n[l]||s(n[u])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,n)=>this.formatByString(r,this.formats[n]),this.formatByString=(r,n)=>this.dayjs(r).format(n),this.formatNumber=r=>r,this.isEqual=(r,n)=>r===null&&n===null?!0:r===null||n===null?!1:r.toDate().getTime()===n.toDate().getTime(),this.isSameYear=(r,n)=>this.isSame(r,n,"YYYY"),this.isSameMonth=(r,n)=>this.isSame(r,n,"YYYY-MM"),this.isSameDay=(r,n)=>this.isSame(r,n,"YYYY-MM-DD"),this.isSameHour=(r,n)=>r.isSame(n,"hour"),this.isAfter=(r,n)=>r>n,this.isAfterYear=(r,n)=>this.hasUTCPlugin()?!this.isSameYear(r,n)&&r.utc()>n.utc():r.isAfter(n,"year"),this.isAfterDay=(r,n)=>this.hasUTCPlugin()?!this.isSameDay(r,n)&&r.utc()>n.utc():r.isAfter(n,"day"),this.isBefore=(r,n)=>r<n,this.isBeforeYear=(r,n)=>this.hasUTCPlugin()?!this.isSameYear(r,n)&&r.utc()<n.utc():r.isBefore(n,"year"),this.isBeforeDay=(r,n)=>this.hasUTCPlugin()?!this.isSameDay(r,n)&&r.utc()<n.utc():r.isBefore(n,"day"),this.isWithinRange=(r,[n,s])=>r>=n&&r<=s,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(r.startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(r.endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"year"):r.add(n,"year")),this.addMonths=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"month"):r.add(n,"month")),this.addWeeks=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"week"):r.add(n,"week")),this.addDays=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"day"):r.add(n,"day")),this.addHours=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"hour"):r.add(n,"hour")),this.addMinutes=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"minute"):r.add(n,"minute")),this.addSeconds=(r,n)=>this.adjustOffset(n<0?r.subtract(Math.abs(n),"second"):r.add(n,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,n)=>this.adjustOffset(r.set("year",n)),this.setMonth=(r,n)=>this.adjustOffset(r.set("month",n)),this.setDate=(r,n)=>this.adjustOffset(r.set("date",n)),this.setHours=(r,n)=>this.adjustOffset(r.set("hour",n)),this.setMinutes=(r,n)=>this.adjustOffset(r.set("minute",n)),this.setSeconds=(r,n)=>this.adjustOffset(r.set("second",n)),this.setMilliseconds=(r,n)=>this.adjustOffset(r.set("millisecond",n)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const n=this.setLocaleToValue(r),s=this.startOfWeek(this.startOfMonth(n)),o=this.endOfWeek(this.endOfMonth(n));let a=0,l=s;const u=[];for(;l<o;){const c=Math.floor(a/7);u[c]=u[c]||[],u[c].push(l),l=this.addDays(l,1),a+=1}return u},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,n])=>{const s=this.startOfYear(r),o=this.endOfYear(n),a=[];let l=s;for(;this.isBefore(l,o);)a.push(l),l=this.addYears(l,1);return a},this.dayjs=d$e(or,e),this.locale=e,this.formats=G({},c$e,i),or.extend(r$e)}getDayOfWeek(e){return e.day()+1}}const p$e=["localeText"],J1=T.createContext(null),YB=function(e){const{localeText:i}=e,r=Oe(e,p$e),{utils:n,localeText:s}=T.useContext(J1)??{utils:void 0,localeText:void 0},o=rt({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:u,dateLibInstance:c,adapterLocale:d,localeText:h}=o,f=T.useMemo(()=>G({},h,s,i),[h,s,i]),g=T.useMemo(()=>{if(!l)return n||null;const S=new l({locale:d,formats:u,instance:c});if(!S.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return S},[l,d,u,c,n]),m=T.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),C=T.useMemo(()=>({utils:g,defaultDates:m,localeText:f}),[m,g,f]);return Y.jsx(J1.Provider,{value:C,children:a})},yy=(t,e)=>t.length!==e.length?!1:e.every(i=>t.includes(i)),f$e=({openTo:t,defaultOpenTo:e,views:i,defaultViews:r})=>{const n=i??r;let s;if(t!=null)s=t;else if(n.includes(e))s=e;else if(n.length>0)s=n[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:n,openTo:s}},Hx=(t,e,i)=>{let r=e;return r=t.setHours(r,t.getHours(i)),r=t.setMinutes(r,t.getMinutes(i)),r=t.setSeconds(r,t.getSeconds(i)),r},TS=({date:t,disableFuture:e,disablePast:i,maxDate:r,minDate:n,isDateDisabled:s,utils:o,timezone:a})=>{const l=Hx(o,o.date(void 0,a),t);i&&o.isBefore(n,l)&&(n=l),e&&o.isAfter(r,l)&&(r=l);let u=t,c=t;for(o.isBefore(t,n)&&(u=n,c=null),o.isAfter(t,r)&&(c&&(c=r),u=null);u||c;){if(u&&o.isAfter(u,r)&&(u=null),c&&o.isBefore(c,n)&&(c=null),u){if(!s(u))return u;u=o.addDays(u,1)}if(c){if(!s(c))return c;c=o.addDays(c,-1)}}return null},g$e=(t,e)=>e==null||!t.isValid(e)?null:e,Ba=(t,e,i)=>e==null||!t.isValid(e)?i:e,m$e=(t,e,i)=>!t.isValid(e)&&e!=null&&!t.isValid(i)&&i!=null?!0:t.isEqual(e,i),qB=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const n=r[r.length-1];r.push(t.addMonths(n,1))}return r},wse=(t,e,i)=>i==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),v$e=["year","month","day"],f4=t=>v$e.includes(t),XB=(t,{format:e,views:i},r)=>{if(e!=null)return e;const n=t.formats;return yy(i,["year"])?n.year:yy(i,["month"])?n.month:yy(i,["day"])?n.dayOfMonth:yy(i,["month","year"])?`${n.month} ${n.year}`:yy(i,["day","month"])?`${n.month} ${n.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?n.normalDateWithWeekday:n.normalDate:n.keyboardDate},C$e=(t,e)=>{const i=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(i,r))},y$e=["hours","minutes","seconds"],S$e=t=>y$e.includes(t),g4=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),w$e=(t,e)=>(i,r)=>t?e.isAfter(i,r):g4(i,e)>g4(r,e),lu={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},E$e=t=>Math.max(...t.map(e=>lu[e.type]??1)),Sy=(t,e,i)=>{if(e===lu.year)return t.startOfYear(i);if(e===lu.month)return t.startOfMonth(i);if(e===lu.day)return t.startOfDay(i);let r=i;return e<lu.minutes&&(r=t.setMinutes(r,0)),e<lu.seconds&&(r=t.setSeconds(r,0)),e<lu.milliseconds&&(r=t.setMilliseconds(r,0)),r},b$e=({props:t,utils:e,granularity:i,timezone:r,getTodayDate:n})=>{let s=n?n():Sy(e,i,wse(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=Sy(e,i,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=Sy(e,i,t.maxDate));const o=w$e(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&o(t.minTime,s)&&(s=Sy(e,i,t.disableIgnoringDatePartForTimeValidation?t.minTime:Hx(e,s,t.minTime))),t.maxTime!=null&&o(s,t.maxTime)&&(s=Sy(e,i,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Hx(e,s,t.maxTime))),s},Ese=(t,e)=>{const i=t.formatTokenMap[e];if(i==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof i=="string"?{type:i,contentType:i==="meridiem"?"letter":"digit",maxLength:void 0}:{type:i.sectionType,contentType:i.contentType,maxLength:i.maxLength}},R$e=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},aM=(t,e,i)=>{const r=[],n=t.date(void 0,e),s=t.startOfWeek(n),o=t.endOfWeek(n);let a=s;for(;t.isBefore(a,o);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,i))},bse=(t,e,i,r)=>{switch(i){case"month":return qB(t,t.date(void 0,e)).map(n=>t.formatByString(n,r));case"weekDay":return aM(t,e,r);case"meridiem":{const n=t.date(void 0,e);return[t.startOfDay(n),t.endOfDay(n)].map(s=>t.formatByString(s,r))}default:return[]}},m4="s",T$e=["0","1","2","3","4","5","6","7","8","9"],D$e=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),m4)==="0"?T$e:Array.from({length:10}).map((r,n)=>t.formatByString(t.setSeconds(e,n),m4))},df=(t,e)=>{if(e[0]==="0")return t;const i=[];let r="";for(let n=0;n<t.length;n+=1){r+=t[n];const s=e.indexOf(r);s>-1&&(i.push(s.toString()),r="")}return i.join("")},QB=(t,e)=>e[0]==="0"?t:t.split("").map(i=>e[Number(i)]).join(""),v4=(t,e)=>{const i=df(t,e);return!Number.isNaN(Number(i))},Rse=(t,e)=>{let i=t;for(i=Number(i).toString();i.length<e;)i=`0${i}`;return i},Tse=(t,e,i,r,n)=>{if(n.type==="day"&&n.contentType==="digit-with-letter"){const o=t.setDate(i.longestMonth,e);return t.formatByString(o,n.format)}let s=e.toString();return n.hasLeadingZerosInInput&&(s=Rse(s,n.maxLength)),QB(s,r)},P$e=(t,e,i,r,n,s,o,a)=>{const l=R$e(r),u=r==="Home",c=r==="End",d=i.value===""||u||c,h=()=>{const g=n[i.type]({currentDate:o,format:i.format,contentType:i.contentType}),m=w=>Tse(t,w,g,s,i),C=i.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let y=parseInt(df(i.value,s),10)+l*C;if(d){if(i.type==="year"&&!c&&!u)return t.formatByString(t.date(void 0,e),i.format);l>0||u?y=g.minimum:y=g.maximum}return y%C!==0&&((l<0||u)&&(y+=C-(C+y)%C),(l>0||c)&&(y-=y%C)),y>g.maximum?m(g.minimum+(y-g.maximum-1)%(g.maximum-g.minimum+1)):y<g.minimum?m(g.maximum-(g.minimum-y-1)%(g.maximum-g.minimum+1)):m(y)},f=()=>{const g=bse(t,e,i.type,i.format);if(g.length===0)return i.value;if(d)return l>0||u?g[0]:g[g.length-1];const C=(g.indexOf(i.value)+g.length+l)%g.length;return g[C]};return i.contentType==="digit"||i.contentType==="digit-with-letter"?h():f()},ZB=(t,e,i)=>{let r=t.value||t.placeholder;const n=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(df(r,i)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!n&&r.length===1&&(r=`${r}‎`),e==="input-rtl"&&(r=`⁨${r}⁩`),r},C4=(t,e,i,r)=>t.formatByString(t.parse(e,i),r),Dse=(t,e,i)=>t.formatByString(t.date(void 0,e),i).length===4,Pse=(t,e,i,r,n)=>{if(i!=="digit")return!1;const s=t.date(void 0,e);switch(r){case"year":return Dse(t,e,n)?t.formatByString(t.setYear(s,1),n)==="0001":t.formatByString(t.setYear(s,2001),n)==="01";case"month":return t.formatByString(t.startOfYear(s),n).length>1;case"day":return t.formatByString(t.startOfMonth(s),n).length>1;case"weekDay":return t.formatByString(t.startOfWeek(s),n).length>1;case"hours":return t.formatByString(t.setHours(s,1),n).length>1;case"minutes":return t.formatByString(t.setMinutes(s,1),n).length>1;case"seconds":return t.formatByString(t.setSeconds(s,1),n).length>1;default:throw new Error("Invalid section type")}},x$e=(t,e,i)=>{const r=e.some(l=>l.type==="day"),n=[],s=[];for(let l=0;l<e.length;l+=1){const u=e[l];r&&u.type==="weekDay"||(n.push(u.format),s.push(ZB(u,"non-input",i)))}const o=n.join(" "),a=s.join(" ");return t.parse(a,o)},A$e=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),O$e=(t,e,i)=>{const n=t.map(s=>{const o=ZB(s,i?"input-rtl":"input-ltr",e);return`${s.startSeparator}${o}${s.endSeparator}`}).join("");return i?`⁦${n}⁩`:n},M$e=(t,e,i)=>{const r=t.date(void 0,i),n=t.endOfYear(r),s=t.endOfDay(r),{maxDaysInMonth:o,longestMonth:a}=qB(t,r).reduce((l,u)=>{const c=t.getDaysInMonth(u);return c>l.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:u}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Dse(t,i,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(n)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):o,longestMonth:a}),weekDay:({format:l,contentType:u})=>{if(u==="digit"){const c=aM(t,i,l).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const u=t.getHours(s);return df(t.formatByString(t.endOfDay(r),l),e)!==u.toString()?{minimum:1,maximum:Number(df(t.formatByString(t.startOfDay(r),l),e))}:{minimum:0,maximum:u}},minutes:()=>({minimum:0,maximum:t.getMinutes(s)}),seconds:()=>({minimum:0,maximum:t.getSeconds(s)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},F$e=(t,e,i,r,n)=>{switch(i.type){case"year":return t.setYear(n,t.getYear(r));case"month":return t.setMonth(n,t.getMonth(r));case"weekDay":{const s=aM(t,e,i.format),o=t.formatByString(r,i.format),a=s.indexOf(o),u=s.indexOf(i.value)-a;return t.addDays(r,u)}case"day":return t.setDate(n,t.getDate(r));case"meridiem":{const s=t.getHours(r)<12,o=t.getHours(n);return s&&o>=12?t.addHours(n,-12):!s&&o<12?t.addHours(n,12):n}case"hours":return t.setHours(n,t.getHours(r));case"minutes":return t.setMinutes(n,t.getMinutes(r));case"seconds":return t.setSeconds(n,t.getSeconds(r));default:return n}},y4={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},S4=(t,e,i,r,n,s)=>[...r].sort((o,a)=>y4[o.type]-y4[a.type]).reduce((o,a)=>!s||a.modified?F$e(t,e,a,i,o):o,n),I$e=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,L$e=(t,e)=>{const i={};if(!e)return t.forEach((l,u)=>{const c=u===0?null:u-1,d=u===t.length-1?null:u+1;i[u]={leftIndex:c,rightIndex:d}}),{neighbors:i,startIndex:0,endIndex:t.length-1};const r={},n={};let s=0,o=0,a=t.length-1;for(;a>=0;){o=t.findIndex((l,u)=>{var c;return u>=s&&((c=l.endSeparator)==null?void 0:c.includes(" "))&&l.endSeparator!==" / "}),o===-1&&(o=t.length-1);for(let l=o;l>=s;l-=1)n[l]=a,r[a]=l,a-=1;s=o+1}return t.forEach((l,u)=>{const c=n[u],d=c===0?null:r[c-1],h=c===t.length-1?null:r[c+1];i[u]={leftIndex:d,rightIndex:h}}),{neighbors:i,startIndex:r[0],endIndex:r[t.length-1]}},eG=(t,e)=>t==null?null:t==="all"?"all":typeof t=="string"?e.findIndex(i=>i.type===t):t,_$e=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const i=e.parse(t.value,t.format);return i?e.format(i,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},N$e=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const i=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return i?e.getHours(i)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const i=e.parse(t.value,t.format);return i?e.getMonth(i)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},G$e=["value","referenceDate"],Oc={emptyValue:null,getTodayValue:wse,getInitialReferenceValue:t=>{let{value:e,referenceDate:i}=t,r=Oe(t,G$e);return e!=null&&r.utils.isValid(e)?e:i??b$e(r)},cleanValue:g$e,areValuesEqual:m$e,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,i)=>i==null?null:t.setTimezone(i,e)},k$e={updateReferenceValue:(t,e,i)=>e==null||!t.isValid(e)?i:e,getSectionsFromValue:(t,e,i,r)=>!t.isValid(e)&&!!i?i:r(e),getV7HiddenInputValueFromSections:A$e,getV6InputValueFromSections:O$e,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:i=>i,getNewValuesFromNewActiveDate:i=>({value:i,referenceValue:i==null||!t.isValid(i)?e.referenceValue:i})}),parseValueStr:(t,e,i)=>i(t.trim(),e)},V$e=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:G({},t)}}}}),xse={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,i)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${i.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},H$e=xse;V$e(xse);const eg=()=>{const t=T.useContext(J1);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=T.useMemo(()=>G({},H$e,t.localeText),[t.localeText]);return T.useMemo(()=>G({},t,{localeText:e}),[t,e])},Li=()=>eg().utils,Qb=()=>eg().defaultDates,Zc=()=>eg().localeText,lM=t=>{const e=Li(),i=T.useRef();return i.current===void 0&&(i.current=e.date(void 0,t)),i.current};function $$e(t){return at("MuiPickersToolbar",t)}lt("MuiPickersToolbar",["root","content"]);const B$e=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],W$e=t=>{const{classes:e,isLandscape:i}=t;return ot({root:["root"],content:["content"],penIconButton:["penIconButton",i&&"penIconButtonLandscape"]},$$e,e)},U$e=be("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),z$e=be("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),j$e=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersToolbar"}),{children:n,className:s,toolbarTitle:o,hidden:a,titleId:l}=r,u=Oe(r,B$e),c=r,d=W$e(c);return a?null:Y.jsxs(U$e,G({ref:i,className:Le(d.root,s),ownerState:c},u,{children:[Y.jsx(Io,{color:"text.secondary",variant:"overline",id:l,children:o}),Y.jsx(z$e,{className:d.content,ownerState:c,children:n})]}))});function K$e(t){return at("MuiDatePickerToolbar",t)}lt("MuiDatePickerToolbar",["root","title"]);const Y$e=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],q$e=t=>{const{classes:e}=t;return ot({root:["root"],title:["title"]},K$e,e)},X$e=be(j$e,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Q$e=be(Io,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),Z$e=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDatePickerToolbar"}),{value:n,isLandscape:s,toolbarFormat:o,toolbarPlaceholder:a="––",views:l,className:u}=r,c=Oe(r,Y$e),d=Li(),h=Zc(),f=q$e(r),g=T.useMemo(()=>{if(!n)return a;const C=XB(d,{format:o,views:l},!0);return d.formatByString(n,C)},[n,o,a,d,l]),m=r;return Y.jsx(X$e,G({ref:i,toolbarTitle:h.datePickerToolbarTitle,isLandscape:s,className:Le(f.root,u)},c,{children:Y.jsx(Q$e,{variant:"h4",align:s?"left":"center",ownerState:m,className:f.title,children:g})}))});function Ase(t,e){const i=Li(),r=Qb(),n=rt({props:t,name:e}),s=T.useMemo(()=>{var o;return((o=n.localeText)==null?void 0:o.toolbarTitle)==null?n.localeText:G({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return G({},n,{localeText:s},f$e({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:n.disableFuture??!1,disablePast:n.disablePast??!1,minDate:Ba(i,n.minDate,r.minDate),maxDate:Ba(i,n.maxDate,r.maxDate),slots:G({toolbar:Z$e},n.slots)})}const uM=({props:t,value:e,adapter:i})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:n,shouldDisableYear:s,disablePast:o,disableFuture:a,timezone:l}=t,u=i.utils.date(void 0,l),c=Ba(i.utils,t.minDate,i.defaultDates.minDate),d=Ba(i.utils,t.maxDate,i.defaultDates.maxDate);switch(!0){case!i.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(n&&n(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(a&&i.utils.isAfterDay(e,u)):return"disableFuture";case!!(o&&i.utils.isBeforeDay(e,u)):return"disablePast";case!!(c&&i.utils.isBeforeDay(e,c)):return"minDate";case!!(d&&i.utils.isAfterDay(e,d)):return"maxDate";default:return null}};function J$e(t){return at("MuiInputAdornment",t)}const eBe=lt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),w4=eBe;var E4;const tBe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],iBe=(t,e)=>{const{ownerState:i}=t;return[e.root,e[`position${$e(i.position)}`],i.disablePointerEvents===!0&&e.disablePointerEvents,e[i.variant]]},rBe=t=>{const{classes:e,disablePointerEvents:i,hiddenLabel:r,position:n,size:s,variant:o}=t,a={root:["root",i&&"disablePointerEvents",n&&`position${$e(n)}`,o,r&&"hiddenLabel",s&&`size${$e(s)}`]};return ot(a,J$e,e)},nBe=be("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:iBe})(({theme:t,ownerState:e})=>G({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${w4.positionStart}&:not(.${w4.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),sBe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiInputAdornment"}),{children:n,className:s,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c}=r,d=Oe(r,tBe),h=$l()||{};let f=c;c&&h.variant,h&&!f&&(f=h.variant);const g=G({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:u,variant:f}),m=rBe(g);return Y.jsx(ZO.Provider,{value:null,children:Y.jsx(nBe,G({as:o,ownerState:g,className:Le(m.root,s),ref:i},d,{children:typeof n=="string"&&!l?Y.jsx(Io,{color:"text.secondary",children:n}):Y.jsxs(T.Fragment,{children:[u==="start"?E4||(E4=Y.jsx("span",{className:"notranslate",children:"​"})):null,n]})}))})}),Ose=sBe;var JB={};Object.defineProperty(JB,"__esModule",{value:!0});var Mse=JB.default=void 0,oBe=lBe(T),aBe=iQ;function Fse(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,i=new WeakMap;return(Fse=function(r){return r?i:e})(t)}function lBe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var i=Fse(e);if(i&&i.has(t))return i.get(t);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=n?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,i&&i.set(t,r),r}function uBe(t){return Object.keys(t).length===0}function cBe(t=null){const e=oBe.useContext(aBe.ThemeContext);return!e||uBe(e)?t:e}Mse=JB.default=cBe;const dBe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],hBe=be(wGe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),pBe=T.forwardRef(function(e,i){var r;const n=Mse(),s=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:g,placement:m,popperOptions:C,popperRef:S,transition:y,slots:w,slotProps:E}=s,b=Oe(s,dBe),D=(r=w==null?void 0:w.root)!=null?r:l==null?void 0:l.Root,P=G({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:g,placement:m,popperOptions:C,popperRef:S,transition:y},b);return Y.jsx(hBe,G({as:a,direction:n==null?void 0:n.direction,slots:{root:D},slotProps:E??u},P,{ref:i}))}),fBe=pBe;function gBe(t){return at("MuiPickersPopper",t)}lt("MuiPickersPopper",["root","paper"]);function mBe(t,e){return Array.isArray(e)?e.every(i=>t.indexOf(i)!==-1):t.indexOf(e)!==-1}const vBe=(t,e)=>i=>{(i.key==="Enter"||i.key===" ")&&(t(i),i.preventDefault(),i.stopPropagation()),e&&e(i)},Ea=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?Ea(e.shadowRoot):e:null},CBe="@media (pointer: fine)",yBe="@media (prefers-reduced-motion: reduce)",Tm=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),b4=Tm&&Tm[1]?parseInt(Tm[1],10):null,R4=Tm&&Tm[2]?parseInt(Tm[2],10):null,SBe=b4&&b4<10||R4&&R4<13||!1,Ise=()=>AQ(yBe,{defaultMatches:!1})||SBe,wBe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],EBe=t=>{const{classes:e}=t;return ot({root:["root"],paper:["paper"]},gBe,e)},bBe=be(fBe,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),RBe=be($v,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function TBe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function DBe(t,e){const i=T.useRef(!1),r=T.useRef(!1),n=T.useRef(null),s=T.useRef(!1);T.useEffect(()=>{if(!t)return;function l(){s.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),s.current=!1}},[t]);const o=Xe(l=>{if(!s.current)return;const u=r.current;r.current=!1;const c=on(n.current);if(!n.current||"clientX"in l&&TBe(l,c))return;if(i.current){i.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(n.current)>-1:d=!c.documentElement.contains(l.target)||n.current.contains(l.target),!d&&!u&&e(l)}),a=()=>{r.current=!0};return T.useEffect(()=>{if(t){const l=on(n.current),u=()=>{i.current=!0};return l.addEventListener("touchstart",o),l.addEventListener("touchmove",u),()=>{l.removeEventListener("touchstart",o),l.removeEventListener("touchmove",u)}}},[t,o]),T.useEffect(()=>{if(t){const l=on(n.current);return l.addEventListener("click",o),()=>{l.removeEventListener("click",o),r.current=!1}}},[t,o]),[n,a,a]}const PBe=T.forwardRef((t,e)=>{const{PaperComponent:i,popperPlacement:r,ownerState:n,children:s,paperSlotProps:o,paperClasses:a,onPaperClick:l,onPaperTouchStart:u}=t,c=Oe(t,wBe),d=G({},n,{placement:r}),h=ii({elementType:i,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return Y.jsx(i,G({},c,h,{onClick:f=>{var g;l(f),(g=h.onClick)==null||g.call(h,f)},onTouchStart:f=>{var g;u(f),(g=h.onTouchStart)==null||g.call(h,f)},ownerState:d,children:s}))});function xBe(t){const e=rt({props:t,name:"MuiPickersPopper"}),{anchorEl:i,children:r,containerRef:n=null,shouldRestoreFocus:s,onBlur:o,onDismiss:a,open:l,role:u,placement:c,slots:d,slotProps:h,reduceAnimations:f}=e;T.useEffect(()=>{function K(j){l&&j.key==="Escape"&&a()}return document.addEventListener("keydown",K),()=>{document.removeEventListener("keydown",K)}},[a,l]);const g=T.useRef(null);T.useEffect(()=>{u==="tooltip"||s&&!s()||(l?g.current=Ea(document):g.current&&g.current instanceof HTMLElement&&setTimeout(()=>{g.current instanceof HTMLElement&&g.current.focus()}))},[l,u,s]);const[m,C,S]=DBe(l,o??a),y=T.useRef(null),w=ri(y,n),E=ri(w,m),b=e,D=EBe(b),P=Ise(),O=f??P,N=K=>{K.key==="Escape"&&(K.stopPropagation(),a())},_=(d==null?void 0:d.desktopTransition)??O?Bv:Qne,I=(d==null?void 0:d.desktopTrapFocus)??kQ,k=(d==null?void 0:d.desktopPaper)??RBe,B=(d==null?void 0:d.popper)??bBe,U=ii({elementType:B,externalSlotProps:h==null?void 0:h.popper,additionalProps:{transition:!0,role:u,open:l,anchorEl:i,placement:c,onKeyDown:N},className:D.root,ownerState:e});return Y.jsx(B,G({},U,{children:({TransitionProps:K,placement:j})=>Y.jsx(I,G({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:u==="tooltip",isEnabled:()=>!0},h==null?void 0:h.desktopTrapFocus,{children:Y.jsx(_,G({},K,h==null?void 0:h.desktopTransition,{children:Y.jsx(PBe,{PaperComponent:k,ownerState:b,popperPlacement:j,ref:E,onPaperClick:C,onPaperTouchStart:S,paperClasses:D.paper,paperSlotProps:h==null?void 0:h.desktopPaper,children:r})}))}))}))}const ABe=({open:t,onOpen:e,onClose:i})=>{const r=T.useRef(typeof t=="boolean").current,[n,s]=T.useState(!1);T.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}},[r,t]);const o=T.useCallback(a=>{r||s(a),a&&e&&e(),!a&&i&&i()},[r,e,i]);return{isOpen:n,setIsOpen:o}};function Lse(t,e,i,r){const{value:n,onError:s}=t,o=eg(),a=T.useRef(r),l=e({adapter:o,value:n,props:t});return T.useEffect(()=>{s&&!i(l,a.current)&&s(l,n),a.current=l},[i,s,a,l,n]),l}const eW=({timezone:t,value:e,defaultValue:i,onChange:r,valueManager:n})=>{const s=Li(),o=T.useRef(i),a=e??o.current??n.emptyValue,l=T.useMemo(()=>n.getTimezone(s,a),[s,n,a]),u=Xe(f=>l==null?f:n.setTimezone(s,l,f)),c=t??l??"default",d=T.useMemo(()=>n.setTimezone(s,c,a),[n,s,c,a]),h=Xe((f,...g)=>{const m=u(f);r==null||r(m,...g)});return{value:d,handleValueChange:h,timezone:c}},tW=({name:t,timezone:e,value:i,defaultValue:r,onChange:n,valueManager:s})=>{const[o,a]=Ru({name:t,state:"value",controlled:i,default:r??s.emptyValue}),l=Xe((u,...c)=>{a(u),n==null||n(u,...c)});return eW({timezone:e,value:o,defaultValue:void 0,onChange:l,valueManager:s})},OBe=t=>{const{action:e,hasChanged:i,dateState:r,isControlled:n}=t,s=!n&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:i(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?s?!0:i(r.lastPublishedValue):!1},MBe=t=>{const{action:e,hasChanged:i,dateState:r,isControlled:n,closeOnSelect:s}=t,o=!n&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:i(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&s?o?!0:i(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&i(r.lastCommittedValue):!1},FBe=t=>{const{action:e,closeOnSelect:i}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&i:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},IBe=({props:t,valueManager:e,valueType:i,wrapperVariant:r,validator:n})=>{const{onAccept:s,onChange:o,value:a,defaultValue:l,closeOnSelect:u=r==="desktop",timezone:c}=t,{current:d}=T.useRef(l),{current:h}=T.useRef(a!==void 0),f=Li(),g=eg(),{isOpen:m,setIsOpen:C}=ABe(t),[S,y]=T.useState(()=>{let J;return a!==void 0?J=a:d!==void 0?J=d:J=e.emptyValue,{draft:J,lastPublishedValue:J,lastCommittedValue:J,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:w,handleValueChange:E}=eW({timezone:c,value:a,defaultValue:d,onChange:o,valueManager:e});Lse(G({},t,{value:S.draft,timezone:w}),n,e.isSameError,e.defaultErrorState);const b=Xe(J=>{const ie={action:J,dateState:S,hasChanged:he=>!e.areValuesEqual(f,J.value,he),isControlled:h,closeOnSelect:u},ue=OBe(ie),me=MBe(ie),se=FBe(ie);if(y(he=>G({},he,{draft:J.value,lastPublishedValue:ue?J.value:he.lastPublishedValue,lastCommittedValue:me?J.value:he.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ue){const Ee={validationError:J.name==="setValueFromField"?J.context.validationError:n({adapter:g,value:J.value,props:G({},t,{value:J.value,timezone:w})})};J.name==="setValueFromShortcut"&&(Ee.shortcut=J.shortcut),E(J.value,Ee)}me&&s&&s(J.value),se&&C(!1)});if(a!==void 0&&(S.lastControlledValue===void 0||!e.areValuesEqual(f,S.lastControlledValue,a))){const J=e.areValuesEqual(f,S.draft,a);y(ie=>G({},ie,{lastControlledValue:a},J?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const D=Xe(()=>{b({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),P=Xe(()=>{b({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),O=Xe(()=>{b({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),N=Xe(()=>{b({value:S.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),_=Xe(()=>{b({value:e.getTodayValue(f,w,i),name:"setValueFromAction",pickerAction:"today"})}),I=Xe(J=>{J.preventDefault(),C(!0)}),k=Xe(J=>{J==null||J.preventDefault(),C(!1)}),B=Xe((J,ie="partial")=>b({name:"setValueFromView",value:J,selectionState:ie})),U=Xe((J,ie,ue)=>b({name:"setValueFromShortcut",value:J,changeImportance:ie,shortcut:ue})),K=Xe((J,ie)=>b({name:"setValueFromField",value:J,context:ie})),j={onClear:D,onAccept:P,onDismiss:O,onCancel:N,onSetToday:_,onOpen:I,onClose:k},Q={value:S.draft,onChange:K},H=T.useMemo(()=>e.cleanValue(f,S.draft),[f,e,S.draft]),X={value:H,onChange:B,onClose:k,open:m},le=G({},j,{value:H,onChange:B,onSelectShortcut:U,isValid:J=>{const ie=n({adapter:g,value:J,props:G({},t,{value:J,timezone:w})});return!e.hasError(ie)}});return{open:m,fieldProps:Q,viewProps:X,layoutProps:le,actions:j}};function _se({onChange:t,onViewChange:e,openTo:i,view:r,views:n,autoFocus:s,focusedView:o,onFocusedViewChange:a}){const l=T.useRef(i),u=T.useRef(n),c=T.useRef(n.includes(i)?i:n[0]),[d,h]=Ru({name:"useViews",state:"view",controlled:r,default:c.current}),f=T.useRef(s?d:null),[g,m]=Ru({name:"useViews",state:"focusedView",controlled:o,default:f.current});T.useEffect(()=>{(l.current&&l.current!==i||u.current&&u.current.some(P=>!n.includes(P)))&&(h(n.includes(i)?i:n[0]),u.current=n,l.current=i)},[i,h,d,n]);const C=n.indexOf(d),S=n[C-1]??null,y=n[C+1]??null,w=Xe((P,O)=>{m(O?P:N=>P===N?null:N),a==null||a(P,O)}),E=Xe(P=>{w(P,!0),P!==d&&(h(P),e&&e(P))}),b=Xe(()=>{y&&E(y)}),D=Xe((P,O,N)=>{const _=O==="finish",I=N?n.indexOf(N)<n.length-1:!!y;if(t(P,_&&I?"partial":O,N),N&&N!==d){const B=n[n.indexOf(N)+1];B&&E(B)}else _&&b()});return{view:d,setView:E,focusedView:g,setFocusedView:w,nextView:y,previousView:S,defaultView:n.includes(i)?i:n[0],goToNextView:b,setValueAndGoToNextView:D}}const LBe=["className","sx"],_Be=({props:t,propsFromPickerValue:e,additionalViewProps:i,autoFocusView:r,rendererInterceptor:n,fieldRef:s})=>{const{onChange:o,open:a,onClose:l}=e,{views:u,openTo:c,onViewChange:d,disableOpenPicker:h,viewRenderers:f,timezone:g}=t,m=Oe(t,LBe),{view:C,setView:S,defaultView:y,focusedView:w,setFocusedView:E,setValueAndGoToNextView:b}=_se({view:void 0,views:u,openTo:c,onChange:o,onViewChange:d,autoFocus:r}),{hasUIView:D,viewModeLookup:P}=T.useMemo(()=>u.reduce((U,K)=>{let j;return h?j="field":f[K]!=null?j="UI":j="field",U.viewModeLookup[K]=j,j==="UI"&&(U.hasUIView=!0),U},{hasUIView:!1,viewModeLookup:{}}),[h,f,u]),O=T.useMemo(()=>u.reduce((U,K)=>f[K]!=null&&S$e(K)?U+1:U,0),[f,u]),N=P[C],_=Xe(()=>N==="UI"),[I,k]=T.useState(N==="UI"?C:null);return I!==C&&P[C]==="UI"&&k(C),Xr(()=>{N==="field"&&a&&(l(),setTimeout(()=>{var U;(U=s==null?void 0:s.current)==null||U.focusField(C)}))},[C]),Xr(()=>{if(!a)return;let U=C;N==="field"&&I!=null&&(U=I),U!==y&&P[U]==="UI"&&P[y]==="UI"&&(U=y),U!==C&&S(U),E(U,!0)},[a]),{hasUIView:D,shouldRestoreFocus:_,layoutProps:{views:u,view:I,onViewChange:S},renderCurrentView:()=>{if(I==null)return null;const U=f[I];if(U==null)return null;const K=G({},m,i,e,{views:u,timezone:g,onChange:b,view:I,onViewChange:S,focusedView:w,onFocusedViewChange:E,showViewSwitcher:O>1,timeViewsCount:O});return n?n(f,I,K):U(K)}}};function T4(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const NBe=(t,e)=>{const[i,r]=T.useState(T4);return Xr(()=>{const s=()=>{r(T4())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),mBe(t,["hours","minutes","seconds"])?!1:(e||i)==="landscape"},GBe=({props:t,propsFromPickerValue:e,propsFromPickerViews:i,wrapperVariant:r})=>{const{orientation:n}=t,s=NBe(i.views,n);return{layoutProps:G({},i,e,{isLandscape:s,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}};Sse(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const Nse=({props:t,valueManager:e,valueType:i,wrapperVariant:r,additionalViewProps:n,validator:s,autoFocusView:o,rendererInterceptor:a,fieldRef:l})=>{const u=IBe({props:t,valueManager:e,valueType:i,wrapperVariant:r,validator:s}),c=_Be({props:t,additionalViewProps:n,autoFocusView:o,fieldRef:l,propsFromPickerValue:u.viewProps,rendererInterceptor:a}),d=GBe({props:t,wrapperVariant:r,propsFromPickerValue:u.layoutProps,propsFromPickerViews:c.layoutProps});return{open:u.open,actions:u.actions,fieldProps:u.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:d.layoutProps}};function Gse(t){return at("MuiPickersLayout",t)}const wy=lt("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),kBe=["onAccept","onClear","onCancel","onSetToday","actions"];function VBe(t){const{onAccept:e,onClear:i,onCancel:r,onSetToday:n,actions:s}=t,o=Oe(t,kBe),a=Zc();if(s==null||s.length===0)return null;const l=s==null?void 0:s.map(u=>{switch(u){case"clear":return Y.jsx(es,{onClick:i,children:a.clearButtonLabel},u);case"cancel":return Y.jsx(es,{onClick:r,children:a.cancelButtonLabel},u);case"accept":return Y.jsx(es,{onClick:e,children:a.okButtonLabel},u);case"today":return Y.jsx(es,{onClick:n,children:a.todayButtonLabel},u);default:return null}});return Y.jsx(nM,G({},o,{children:l}))}function HBe(t){return at("MuiListItem",t)}const $Be=lt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Bg=$Be;function BBe(t){return at("MuiListItemSecondaryAction",t)}lt("MuiListItemSecondaryAction",["root","disableGutters"]);const WBe=["className"],UBe=t=>{const{disableGutters:e,classes:i}=t;return ot({root:["root",e&&"disableGutters"]},BBe,i)},zBe=be("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.disableGutters&&e.disableGutters]}})(({ownerState:t})=>G({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),kse=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItemSecondaryAction"}),{className:n}=r,s=Oe(r,WBe),o=T.useContext(Wd),a=G({},r,{disableGutters:o.disableGutters}),l=UBe(a);return Y.jsx(zBe,G({className:Le(l.root,n),ownerState:a,ref:i},s))});kse.muiName="ListItemSecondaryAction";const jBe=kse,KBe=["className"],YBe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],qBe=(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,i.alignItems==="flex-start"&&e.alignItemsFlexStart,i.divider&&e.divider,!i.disableGutters&&e.gutters,!i.disablePadding&&e.padding,i.button&&e.button,i.hasSecondaryAction&&e.secondaryAction]},XBe=t=>{const{alignItems:e,button:i,classes:r,dense:n,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:u,selected:c}=t;return ot({root:["root",n&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",i&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},HBe,r)},QBe=be("div",{name:"MuiListItem",slot:"Root",overridesResolver:qBe})(({theme:t,ownerState:e})=>G({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&G({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Fg.root}`]:{paddingRight:48}},{[`&.${Bg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Bg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Bg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bg.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Vi(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),ZBe=be("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),JBe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiListItem"}),{alignItems:n="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:u,components:c={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f}={},dense:g=!1,disabled:m=!1,disableGutters:C=!1,disablePadding:S=!1,divider:y=!1,focusVisibleClassName:w,secondaryAction:E,selected:b=!1,slotProps:D={},slots:P={}}=r,O=Oe(r.ContainerProps,KBe),N=Oe(r,YBe),_=T.useContext(Wd),I=T.useMemo(()=>({dense:g||_.dense||!1,alignItems:n,disableGutters:C}),[n,_.dense,g,C]),k=T.useRef(null);Xr(()=>{s&&k.current&&k.current.focus()},[s]);const B=T.Children.toArray(a),U=B.length&&gS(B[B.length-1],["ListItemSecondaryAction"]),K=G({},r,{alignItems:n,autoFocus:s,button:o,dense:I.dense,disabled:m,disableGutters:C,disablePadding:S,divider:y,hasSecondaryAction:U,selected:b}),j=XBe(K),Q=ri(k,i),H=P.root||c.Root||QBe,X=D.root||d.root||{},te=G({className:Le(j.root,X.className,l),disabled:m},N);let le=u||"li";return o&&(te.component=u||"div",te.focusVisibleClassName=Le(Bg.focusVisible,w),le=zp),U?(le=!te.component&&!u?"div":le,h==="li"&&(le==="li"?le="div":te.component==="li"&&(te.component="div")),Y.jsx(Wd.Provider,{value:I,children:Y.jsxs(ZBe,G({as:h,className:Le(j.container,f),ref:Q,ownerState:K},O,{children:[Y.jsx(H,G({},X,!Vm(H)&&{as:le,ownerState:G({},K,X.ownerState)},te,{children:B})),B.pop()]}))})):Y.jsx(Wd.Provider,{value:I,children:Y.jsxs(H,G({},X,{as:le,ref:Q},!Vm(H)&&{ownerState:G({},K,X.ownerState)},te,{children:[B,E&&Y.jsx(jBe,{children:E})]}))})}),eWe=JBe,tWe=Hl(Y.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function iWe(t){return at("MuiChip",t)}const rWe=lt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ni=rWe,nWe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],sWe=t=>{const{classes:e,disabled:i,size:r,color:n,iconColor:s,onDelete:o,clickable:a,variant:l}=t,u={root:["root",l,i&&"disabled",`size${$e(r)}`,`color${$e(n)}`,a&&"clickable",a&&`clickableColor${$e(n)}`,o&&"deletable",o&&`deletableColor${$e(n)}`,`${l}${$e(n)}`],label:["label",`label${$e(r)}`],avatar:["avatar",`avatar${$e(r)}`,`avatarColor${$e(n)}`],icon:["icon",`icon${$e(r)}`,`iconColor${$e(s)}`],deleteIcon:["deleteIcon",`deleteIcon${$e(r)}`,`deleteIconColor${$e(n)}`,`deleteIcon${$e(l)}Color${$e(n)}`]};return ot(u,iWe,e)},oWe=be("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{color:r,iconColor:n,clickable:s,onDelete:o,size:a,variant:l}=i;return[{[`& .${ni.avatar}`]:e.avatar},{[`& .${ni.avatar}`]:e[`avatar${$e(a)}`]},{[`& .${ni.avatar}`]:e[`avatarColor${$e(r)}`]},{[`& .${ni.icon}`]:e.icon},{[`& .${ni.icon}`]:e[`icon${$e(a)}`]},{[`& .${ni.icon}`]:e[`iconColor${$e(n)}`]},{[`& .${ni.deleteIcon}`]:e.deleteIcon},{[`& .${ni.deleteIcon}`]:e[`deleteIcon${$e(a)}`]},{[`& .${ni.deleteIcon}`]:e[`deleteIconColor${$e(r)}`]},{[`& .${ni.deleteIcon}`]:e[`deleteIcon${$e(l)}Color${$e(r)}`]},e.root,e[`size${$e(a)}`],e[`color${$e(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${$e(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${$e(r)}`],e[l],e[`${l}${$e(r)}`]]}})(({theme:t,ownerState:e})=>{const i=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return G({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ni.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ni.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:i,fontSize:t.typography.pxToRem(12)},[`& .${ni.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${ni.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${ni.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${ni.icon}`]:G({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&G({color:t.vars?t.vars.palette.Chip.defaultIconColor:i},e.color!=="default"&&{color:"inherit"})),[`& .${ni.deleteIcon}`]:G({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Vi(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Vi(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Vi(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${ni.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${ni.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>G({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Vi(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${ni.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Vi(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${ni.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>G({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${ni.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ni.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${ni.avatar}`]:{marginLeft:4},[`& .${ni.avatarSmall}`]:{marginLeft:2},[`& .${ni.icon}`]:{marginLeft:4},[`& .${ni.iconSmall}`]:{marginLeft:2},[`& .${ni.deleteIcon}`]:{marginRight:5},[`& .${ni.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Vi(t.palette[e.color].main,.7)}`,[`&.${ni.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Vi(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${ni.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Vi(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${ni.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Vi(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),aWe=be("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:i}=t,{size:r}=i;return[e.label,e[`label${$e(r)}`]]}})(({ownerState:t})=>G({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function D4(t){return t.key==="Backspace"||t.key==="Delete"}const lWe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiChip"}),{avatar:n,className:s,clickable:o,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:f,onDelete:g,onKeyDown:m,onKeyUp:C,size:S="medium",variant:y="filled",tabIndex:w,skipFocusWhenDisabled:E=!1}=r,b=Oe(r,nWe),D=T.useRef(null),P=ri(D,i),O=X=>{X.stopPropagation(),g&&g(X)},N=X=>{X.currentTarget===X.target&&D4(X)&&X.preventDefault(),m&&m(X)},_=X=>{X.currentTarget===X.target&&(g&&D4(X)?g(X):X.key==="Escape"&&D.current&&D.current.blur()),C&&C(X)},I=o!==!1&&f?!0:o,k=I||g?zp:l||"div",B=G({},r,{component:k,disabled:c,size:S,color:a,iconColor:T.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:I,variant:y}),U=sWe(B),K=k===zp?G({component:l||"div",focusVisibleClassName:U.focusVisible},g&&{disableRipple:!0}):{};let j=null;g&&(j=u&&T.isValidElement(u)?T.cloneElement(u,{className:Le(u.props.className,U.deleteIcon),onClick:O}):Y.jsx(tWe,{className:Le(U.deleteIcon),onClick:O}));let Q=null;n&&T.isValidElement(n)&&(Q=T.cloneElement(n,{className:Le(U.avatar,n.props.className)}));let H=null;return d&&T.isValidElement(d)&&(H=T.cloneElement(d,{className:Le(U.icon,d.props.className)})),Y.jsxs(oWe,G({as:k,className:Le(U.root,s),disabled:I&&c?!0:void 0,onClick:f,onKeyDown:N,onKeyUp:_,ref:P,tabIndex:E&&c?-1:w,ownerState:B},K,b,{children:[Q||H,Y.jsx(aWe,{className:Le(U.label),ownerState:B,children:h}),j]}))}),uWe=lWe,qw=36,cM=2,dM=320,cWe=280,iW=336,dWe=["items","changeImportance","isLandscape","onChange","isValid"],hWe=["getValue"];function pWe(t){const{items:e,changeImportance:i="accept",onChange:r,isValid:n}=t,s=Oe(t,dWe);if(e==null||e.length===0)return null;const o=e.map(a=>{let{getValue:l}=a,u=Oe(a,hWe);const c=l({isValid:n});return{label:u.label,onClick:()=>{r(c,i,u)},disabled:!n(c)}});return Y.jsx(ZV,G({dense:!0,sx:[{maxHeight:iW,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:o.map(a=>Y.jsx(eWe,{children:Y.jsx(uWe,G({},a))},a.label))}))}function fWe(t){return t.view!==null}const gWe=t=>{const{classes:e,isLandscape:i}=t;return ot({root:["root",i&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Gse,e)},mWe=t=>{const{wrapperVariant:e,onAccept:i,onClear:r,onCancel:n,onSetToday:s,view:o,views:a,onViewChange:l,value:u,onChange:c,onSelectShortcut:d,isValid:h,isLandscape:f,disabled:g,readOnly:m,children:C,slots:S,slotProps:y}=t,w=gWe(t),E=(S==null?void 0:S.actionBar)??VBe,b=ii({elementType:E,externalSlotProps:y==null?void 0:y.actionBar,additionalProps:{onAccept:i,onClear:r,onCancel:n,onSetToday:s,actions:e==="desktop"?[]:["cancel","accept"],className:w.actionBar},ownerState:G({},t,{wrapperVariant:e})}),D=Y.jsx(E,G({},b)),P=S==null?void 0:S.toolbar,O=ii({elementType:P,externalSlotProps:y==null?void 0:y.toolbar,additionalProps:{isLandscape:f,onChange:c,value:u,view:o,onViewChange:l,views:a,disabled:g,readOnly:m,className:w.toolbar},ownerState:G({},t,{wrapperVariant:e})}),N=fWe(O)&&P?Y.jsx(P,G({},O)):null,_=C,I=S==null?void 0:S.tabs,k=o&&I?Y.jsx(I,G({view:o,onViewChange:l,className:w.tabs},y==null?void 0:y.tabs)):null,B=(S==null?void 0:S.shortcuts)??pWe,U=ii({elementType:B,externalSlotProps:y==null?void 0:y.shortcuts,additionalProps:{isValid:h,isLandscape:f,onChange:d,className:w.shortcuts},ownerState:{isValid:h,isLandscape:f,onChange:d,className:w.shortcuts,wrapperVariant:e}}),K=o&&B?Y.jsx(B,G({},U)):null;return{toolbar:N,content:_,tabs:k,actionBar:D,shortcuts:K}},vWe=t=>{const{isLandscape:e,classes:i}=t;return ot({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},Gse,i)},Vse=be("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${wy.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${wy.toolbar}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`.${wy.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!1},style:{[`& .${wy.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${wy.shortcuts}`]:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}}}]}));Vse.propTypes={as:ee.elementType,ownerState:ee.shape({isLandscape:ee.bool.isRequired}).isRequired,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object])};const CWe=be("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Hse=function(e){const i=rt({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:n,tabs:s,actionBar:o,shortcuts:a}=mWe(i),{sx:l,className:u,isLandscape:c,ref:d,wrapperVariant:h}=i,f=i,g=vWe(f);return Y.jsxs(Vse,{ref:d,sx:l,className:Le(u,g.root),ownerState:f,children:[c?a:r,c?r:a,Y.jsx(CWe,{className:g.contentWrapper,children:h==="desktop"?Y.jsxs(T.Fragment,{children:[n,s]}):Y.jsxs(T.Fragment,{children:[s,n]})}),o]})},yWe=["props","getOpenDialogAriaText"],SWe=["ownerState"],wWe=["ownerState"],EWe=t=>{var oe;let{props:e,getOpenDialogAriaText:i}=t,r=Oe(t,yWe);const{slots:n,slotProps:s,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:g,label:m,inputRef:C,readOnly:S,disabled:y,autoFocus:w,localeText:E,reduceAnimations:b}=e,D=Li(),P=T.useRef(null),O=T.useRef(null),N=Nc(),_=((oe=s==null?void 0:s.toolbar)==null?void 0:oe.hidden)??!1,{open:I,actions:k,hasUIView:B,layoutProps:U,renderCurrentView:K,shouldRestoreFocus:j,fieldProps:Q}=Nse(G({},r,{props:e,fieldRef:O,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),H=n.inputAdornment??Ose,X=ii({elementType:H,externalSlotProps:s==null?void 0:s.inputAdornment,additionalProps:{position:"end"},ownerState:e}),te=Oe(X,SWe),le=n.openPickerButton??ab,J=ii({elementType:le,externalSlotProps:s==null?void 0:s.openPickerButton,additionalProps:{disabled:y||S,onClick:I?k.onClose:k.onOpen,"aria-label":i(Q.value,D),edge:te.position},ownerState:e}),ie=Oe(J,wWe),ue=n.openPickerIcon,me=n.field,se=ii({elementType:me,externalSlotProps:s==null?void 0:s.field,additionalProps:G({},Q,_&&{id:N},{readOnly:S,disabled:y,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:m,name:g,autoFocus:w&&!e.open,focused:I?!0:void 0},C?{inputRef:C}:{}),ownerState:e});B&&(se.InputProps=G({},se.InputProps,{ref:P,[`${te.position}Adornment`]:Y.jsx(H,G({},te,{children:Y.jsx(le,G({},ie,{children:Y.jsx(ue,G({},s==null?void 0:s.openPickerIcon))}))}))}));const he=G({textField:n.textField,clearIcon:n.clearIcon,clearButton:n.clearButton},se.slots),Ee=n.layout??Hse;let pe=N;_&&(m?pe=`${N}-label`:pe=void 0);const ye=G({},s,{toolbar:G({},s==null?void 0:s.toolbar,{titleId:N}),popper:G({"aria-labelledby":pe},s==null?void 0:s.popper)}),Ce=ri(O,se.unstableFieldRef);return{renderPicker:()=>Y.jsxs(YB,{localeText:E,children:[Y.jsx(me,G({},se,{slots:he,slotProps:ye,unstableFieldRef:Ce})),Y.jsx(xBe,G({role:"dialog",placement:"bottom-start",anchorEl:P.current},k,{open:I,slots:n,slotProps:ye,shouldRestoreFocus:j,reduceAnimations:b,children:Y.jsx(Ee,G({},U,ye==null?void 0:ye.layout,{slots:n,slotProps:ye,children:K()}))}))]})}},bWe=Hl(Y.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),RWe=Hl(Y.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),TWe=Hl(Y.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),DWe=Hl(Y.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");Hl(Y.jsxs(T.Fragment,{children:[Y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),Y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Hl(Y.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Hl(Y.jsxs(T.Fragment,{children:[Y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),Y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const PWe=Hl(Y.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),xWe=({utils:t,format:e})=>{let i=10,r=e,n=t.expandFormat(e);for(;n!==r;)if(r=n,n=t.expandFormat(r),i-=1,i<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return n},AWe=({utils:t,expandedFormat:e})=>{const i=[],{start:r,end:n}=t.escapedCharacters,s=new RegExp(`(\\${r}[^\\${n}]*\\${n})+`,"g");let o=null;for(;o=s.exec(e);)i.push({start:o.index,end:s.lastIndex-1});return i},OWe=(t,e,i,r,n)=>{switch(r.type){case"year":return i.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,e),n).length,format:n});case"month":return i.fieldMonthPlaceholder({contentType:r.contentType,format:n});case"day":return i.fieldDayPlaceholder({format:n});case"weekDay":return i.fieldWeekDayPlaceholder({contentType:r.contentType,format:n});case"hours":return i.fieldHoursPlaceholder({format:n});case"minutes":return i.fieldMinutesPlaceholder({format:n});case"seconds":return i.fieldSecondsPlaceholder({format:n});case"meridiem":return i.fieldMeridiemPlaceholder({format:n});default:return n}},MWe=({utils:t,timezone:e,date:i,shouldRespectLeadingZeros:r,localeText:n,localizedDigits:s,now:o,token:a,startSeparator:l})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=Ese(t,a),c=Pse(t,e,u.contentType,u.type,a),d=r?c:u.contentType==="digit",h=i!=null&&t.isValid(i);let f=h?t.formatByString(i,a):"",g=null;if(d)if(c)g=f===""?t.formatByString(o,a).length:f.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);g=u.maxLength,h&&(f=QB(Rse(df(f,s),g),s))}return G({},u,{format:a,maxLength:g,value:f,placeholder:OWe(t,e,n,u,a),hasLeadingZerosInFormat:c,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},FWe=t=>{var f;const{utils:e,expandedFormat:i,escapedParts:r}=t,n=e.date(void 0),s=[];let o="";const a=Object.keys(e.formatTokenMap).sort((g,m)=>m.length-g.length),l=/^([a-zA-Z]+)/,u=new RegExp(`^(${a.join("|")})*$`),c=new RegExp(`^(${a.join("|")})`),d=g=>r.find(m=>m.start<=g&&m.end>=g);let h=0;for(;h<i.length;){const g=d(h),m=g!=null,C=(f=l.exec(i.slice(h)))==null?void 0:f[1];if(!m&&C!=null&&u.test(C)){let S=C;for(;S.length>0;){const y=c.exec(S)[1];S=S.slice(y.length),s.push(MWe(G({},t,{now:n,token:y,startSeparator:o}))),o=""}h+=C.length}else{const S=i[h];m&&(g==null?void 0:g.start)===h||(g==null?void 0:g.end)===h||(s.length===0?o+=S:s[s.length-1].endSeparator+=S),h+=1}}return s.length===0&&o.length>0&&s.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:o,endSeparator:"",modified:!1}),s},IWe=({isRTL:t,formatDensity:e,sections:i})=>i.map(r=>{const n=s=>{let o=s;return t&&o!==null&&o.includes(" ")&&(o=`⁩${o}⁦`),e==="spacious"&&["/",".","-"].includes(o)&&(o=` ${o} `),o};return r.startSeparator=n(r.startSeparator),r.endSeparator=n(r.endSeparator),r}),P4=t=>{let e=xWe(t);t.isRTL&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const i=AWe(G({},t,{expandedFormat:e})),r=FWe(G({},t,{expandedFormat:e,escapedParts:i}));return IWe(G({},t,{sections:r}))},LWe=t=>{const e=Li(),i=Zc(),r=eg(),s=ja().direction==="rtl",{valueManager:o,fieldValueManager:a,valueType:l,validator:u,internalProps:c,internalProps:{value:d,defaultValue:h,referenceDate:f,onChange:g,format:m,formatDensity:C="dense",selectedSections:S,onSelectedSectionsChange:y,shouldRespectLeadingZeros:w=!1,timezone:E,enableAccessibleFieldDOMStructure:b=!1}}=t,{timezone:D,value:P,handleValueChange:O}=eW({timezone:E,value:d,defaultValue:h,onChange:g,valueManager:o}),N=T.useMemo(()=>D$e(e),[e]),_=T.useMemo(()=>M$e(e,N,D),[e,N,D]),I=T.useCallback((se,he=null)=>a.getSectionsFromValue(e,se,he,Ee=>P4({utils:e,timezone:D,localeText:i,localizedDigits:N,format:m,date:Ee,formatDensity:C,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:b,isRTL:s})),[a,m,i,N,s,w,e,C,D,b]),[k,B]=T.useState(()=>{const se=I(P),he={sections:se,value:P,referenceValue:o.emptyValue,tempValueStrAndroid:null},Ee=E$e(se),pe=o.getInitialReferenceValue({referenceDate:f,value:P,utils:e,props:c,granularity:Ee,timezone:D});return G({},he,{referenceValue:pe})}),[U,K]=Ru({controlled:S,default:null,name:"useField",state:"selectedSections"}),j=se=>{K(se),y==null||y(se)},Q=T.useMemo(()=>eG(U,k.sections),[U,k.sections]),H=Q==="all"?0:Q,X=({value:se,referenceValue:he,sections:Ee})=>{if(B(ye=>G({},ye,{sections:Ee,value:se,referenceValue:he,tempValueStrAndroid:null})),o.areValuesEqual(e,k.value,se))return;const pe={validationError:u({adapter:r,value:se,props:G({},c,{value:se,timezone:D})})};O(se,pe)},te=(se,he)=>{const Ee=[...k.sections];return Ee[se]=G({},Ee[se],{value:he,modified:!0}),Ee},le=()=>{X({value:o.emptyValue,referenceValue:k.referenceValue,sections:I(o.emptyValue)})},J=()=>{if(H==null)return;const se=k.sections[H],he=a.getActiveDateManager(e,k,se),pe=he.getSections(k.sections).filter(oe=>oe.value!=="").length===(se.value===""?0:1),ye=te(H,""),Ce=pe?null:e.getInvalidDate(),re=he.getNewValuesFromNewActiveDate(Ce);X(G({},re,{sections:ye}))},ie=se=>{const he=(ye,Ce)=>{const re=e.parse(ye,m);if(re==null||!e.isValid(re))return null;const oe=P4({utils:e,timezone:D,localeText:i,localizedDigits:N,format:m,date:re,formatDensity:C,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:b,isRTL:s});return S4(e,D,re,oe,Ce,!1)},Ee=a.parseValueStr(se,k.referenceValue,he),pe=a.updateReferenceValue(e,Ee,k.referenceValue);X({value:Ee,referenceValue:pe,sections:I(Ee,k.sections)})},ue=({activeSection:se,newSectionValue:he,shouldGoToNextSection:Ee})=>{Ee&&H<k.sections.length-1&&j(H+1);const pe=a.getActiveDateManager(e,k,se),ye=te(H,he),Ce=pe.getSections(ye),re=x$e(e,Ce,N);let oe,fe;if(re!=null&&e.isValid(re)){const we=S4(e,D,re,Ce,pe.referenceDate,!0);oe=pe.getNewValuesFromNewActiveDate(we),fe=!0}else oe=pe.getNewValuesFromNewActiveDate(re),fe=(re!=null&&!e.isValid(re))!=(pe.date!=null&&!e.isValid(pe.date));return fe?X(G({},oe,{sections:ye})):B(we=>G({},we,oe,{sections:ye,tempValueStrAndroid:null}))},me=se=>B(he=>G({},he,{tempValueStrAndroid:se}));return T.useEffect(()=>{const se=I(k.value);B(he=>G({},he,{sections:se}))},[m,e.locale,s]),T.useEffect(()=>{let se;o.areValuesEqual(e,k.value,P)?se=o.getTimezone(e,k.value)!==o.getTimezone(e,P):se=!0,se&&B(he=>G({},he,{value:P,referenceValue:a.updateReferenceValue(e,P,he.referenceValue),sections:I(P)}))},[P]),{state:k,activeSectionIndex:H,parsedSelectedSections:Q,setSelectedSections:j,clearValue:le,clearActiveSection:J,updateSectionValue:ue,updateValueFromValueStr:ie,setTempAndroidValueStr:me,getSectionsFromValue:I,sectionsValueBoundaries:_,localizedDigits:N,timezone:D}},_We=5e3,Dg=t=>t.saveQuery!=null,NWe=({sections:t,updateSectionValue:e,sectionsValueBoundaries:i,localizedDigits:r,setTempAndroidValueStr:n,timezone:s})=>{const o=Li(),[a,l]=T.useState(null),u=Xe(()=>l(null));T.useEffect(()=>{var g;a!=null&&((g=t[a.sectionIndex])==null?void 0:g.type)!==a.sectionType&&u()},[t,a,u]),T.useEffect(()=>{if(a!=null){const g=setTimeout(()=>u(),_We);return()=>{clearTimeout(g)}}return()=>{}},[a,u]);const c=({keyPressed:g,sectionIndex:m},C,S)=>{const y=g.toLowerCase(),w=t[m];if(a!=null&&(!S||S(a.value))&&a.sectionIndex===m){const b=`${a.value}${y}`,D=C(b,w);if(!Dg(D))return l({sectionIndex:m,value:b,sectionType:w.type}),D}const E=C(y,w);return Dg(E)&&!E.saveQuery?(u(),null):(l({sectionIndex:m,value:y,sectionType:w.type}),Dg(E)?null:E)},d=g=>{const m=(y,w,E)=>{const b=w.filter(D=>D.toLowerCase().startsWith(E));return b.length===0?{saveQuery:!1}:{sectionValue:b[0],shouldGoToNextSection:b.length===1}},C=(y,w,E,b)=>{const D=P=>bse(o,s,w.type,P);if(w.contentType==="letter")return m(w.format,D(w.format),y);if(E&&b!=null&&Ese(o,E).contentType==="letter"){const P=D(E),O=m(E,P,y);return Dg(O)?{saveQuery:!1}:G({},O,{sectionValue:b(O.sectionValue,P)})}return{saveQuery:!1}};return c(g,(y,w)=>{switch(w.type){case"month":{const E=b=>C4(o,b,o.formats.month,w.format);return C(y,w,o.formats.month,E)}case"weekDay":{const E=(b,D)=>D.indexOf(b).toString();return C(y,w,o.formats.weekday,E)}case"meridiem":return C(y,w);default:return{saveQuery:!1}}})},h=g=>{const m=(S,y)=>{const w=df(S,r),E=Number(w),b=i[y.type]({currentDate:null,format:y.format,contentType:y.contentType});if(E>b.maximum)return{saveQuery:!1};if(E<b.minimum)return{saveQuery:!0};const D=E*10>b.maximum||w.length===b.maximum.toString().length;return{sectionValue:Tse(o,E,b,r,y),shouldGoToNextSection:D}};return c(g,(S,y)=>{if(y.contentType==="digit"||y.contentType==="digit-with-letter")return m(S,y);if(y.type==="month"){const w=Pse(o,s,"digit","month","MM"),E=m(S,{type:y.type,format:"MM",hasLeadingZerosInFormat:w,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Dg(E))return E;const b=C4(o,E.sectionValue,"MM",y.format);return G({},E,{sectionValue:b})}if(y.type==="weekDay"){const w=m(S,y);if(Dg(w))return w;const E=aM(o,s,y.format)[Number(w.sectionValue)-1];return G({},w,{sectionValue:E})}return{saveQuery:!1}},S=>v4(S,r))};return{applyCharacterEditing:Xe(g=>{const m=t[g.sectionIndex],S=v4(g.keyPressed,r)?h(G({},g,{keyPressed:QB(g.keyPressed,r)})):d(g);if(S==null){n(null);return}e({activeSection:m,newSectionValue:S.sectionValue,shouldGoToNextSection:S.shouldGoToNextSection})}),resetCharacterQuery:u}},GWe=t=>{const{internalProps:{disabled:e,readOnly:i=!1},forwardedProps:{sectionListRef:r,onBlur:n,onClick:s,onFocus:o,onInput:a,onPaste:l,focused:u,autoFocus:c=!1},fieldValueManager:d,applyCharacterEditing:h,resetCharacterQuery:f,setSelectedSections:g,parsedSelectedSections:m,state:C,clearActiveSection:S,clearValue:y,updateSectionValue:w,updateValueFromValueStr:E,sectionOrder:b,areAllSectionsEmpty:D,sectionsValueBoundaries:P}=t,O=T.useRef(null),N=ri(r,O),_=Zc(),I=Li(),k=Nc(),[B,U]=T.useState(!1),K=T.useMemo(()=>({syncSelectionToDOM:()=>{if(!O.current)return;const oe=document.getSelection();if(!oe)return;if(m==null){oe.rangeCount>0&&O.current.getRoot().contains(oe.getRangeAt(0).startContainer)&&oe.removeAllRanges(),B&&O.current.getRoot().blur();return}if(!O.current.getRoot().contains(Ea(document)))return;const fe=new window.Range;let we;m==="all"?we=O.current.getRoot():C.sections[m].type==="empty"?we=O.current.getSectionContainer(m):we=O.current.getSectionContent(m),fe.selectNodeContents(we),we.focus(),oe.removeAllRanges(),oe.addRange(fe)},getActiveSectionIndexFromDOM:()=>{const oe=Ea(document);return!oe||!O.current||!O.current.getRoot().contains(oe)?null:O.current.getSectionIndexFromDOMElement(oe)},focusField:(oe=0)=>{if(!O.current)return;const fe=eG(oe,C.sections);U(!0),O.current.getSectionContent(fe).focus()},setSelectedSections:oe=>{if(!O.current)return;const fe=eG(oe,C.sections);U((fe==="all"?0:fe)!==null),g(oe)},isFieldFocused:()=>{const oe=Ea(document);return!!O.current&&O.current.getRoot().contains(oe)}}),[m,g,C.sections,B]),j=Xe(oe=>{if(!O.current)return;const fe=C.sections[oe];O.current.getSectionContent(oe).innerHTML=fe.value||fe.placeholder,K.syncSelectionToDOM()}),Q=Xe((oe,...fe)=>{oe.isDefaultPrevented()||!O.current||(U(!0),s==null||s(oe,...fe),m==="all"?setTimeout(()=>{const we=document.getSelection().getRangeAt(0).startOffset;if(we===0){g(b.startIndex);return}let Ue=0,Be=0;for(;Be<we&&Ue<C.sections.length;){const Ve=C.sections[Ue];Ue+=1,Be+=`${Ve.startSeparator}${Ve.value||Ve.placeholder}${Ve.endSeparator}`.length}g(Ue-1)}):B?O.current.getRoot().contains(oe.target)||g(b.startIndex):(U(!0),g(b.startIndex)))}),H=Xe(oe=>{if(a==null||a(oe),!O.current||m!=="all")return;const we=oe.target.textContent??"";O.current.getRoot().innerHTML=C.sections.map(Ue=>`${Ue.startSeparator}${Ue.value||Ue.placeholder}${Ue.endSeparator}`).join(""),K.syncSelectionToDOM(),we.length===0||we.charCodeAt(0)===10?(f(),y(),g("all")):we.length>1?E(we):h({keyPressed:we,sectionIndex:0})}),X=Xe(oe=>{if(l==null||l(oe),i||m!=="all"){oe.preventDefault();return}const fe=oe.clipboardData.getData("text");oe.preventDefault(),f(),E(fe)}),te=Xe((...oe)=>{if(o==null||o(...oe),B||!O.current)return;U(!0),O.current.getSectionIndexFromDOMElement(Ea(document))!=null||g(b.startIndex)}),le=Xe((...oe)=>{n==null||n(...oe),setTimeout(()=>{if(!O.current)return;const fe=Ea(document);!O.current.getRoot().contains(fe)&&(U(!1),g(null))})}),J=Xe(oe=>fe=>{fe.isDefaultPrevented()||i||g(oe)}),ie=Xe(oe=>{oe.preventDefault()}),ue=Xe(oe=>()=>{i||g(oe)}),me=Xe(oe=>{if(oe.preventDefault(),i||typeof m!="number")return;const fe=C.sections[m],we=oe.clipboardData.getData("text"),Ue=/^[a-zA-Z]+$/.test(we),Be=/^[0-9]+$/.test(we),Ve=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(we);fe.contentType==="letter"&&Ue||fe.contentType==="digit"&&Be||fe.contentType==="digit-with-letter"&&Ve?(f(),w({activeSection:fe,newSectionValue:we,shouldGoToNextSection:!0})):!Ue&&!Be&&(f(),E(we))}),se=Xe(oe=>{oe.preventDefault(),oe.dataTransfer.dropEffect="none"}),he=Xe(oe=>{if(!O.current)return;const fe=oe.target,we=fe.textContent??"",Ue=O.current.getSectionIndexFromDOMElement(fe),Be=C.sections[Ue];if(i||!O.current){j(Ue);return}if(we.length===0){if(Be.value===""){j(Ue);return}f(),S();return}h({keyPressed:we,sectionIndex:Ue}),j(Ue)});Xr(()=>{if(!(!B||!O.current)){if(m==="all")O.current.getRoot().focus();else if(typeof m=="number"){const oe=O.current.getSectionContent(m);oe&&oe.focus()}}},[m,B]);const Ee=T.useMemo(()=>C.sections.reduce((oe,fe)=>(oe[fe.type]=P[fe.type]({currentDate:null,contentType:fe.contentType,format:fe.format}),oe),{}),[P,C.sections]),pe=m==="all",ye=T.useMemo(()=>C.sections.map((oe,fe)=>{const we=!pe&&!e&&!i;return{container:{"data-sectionindex":fe,onClick:J(fe)},content:{tabIndex:pe||fe>0?-1:0,contentEditable:!pe&&!e&&!i,role:"spinbutton",id:`${k}-${oe.type}`,"aria-labelledby":`${k}-${oe.type}`,"aria-readonly":i,"aria-valuenow":N$e(oe,I),"aria-valuemin":Ee[oe.type].minimum,"aria-valuemax":Ee[oe.type].maximum,"aria-valuetext":oe.value?_$e(oe,I):_.empty,"aria-label":_[oe.type],"aria-disabled":e,spellCheck:we?!1:void 0,autoCapitalize:we?"off":void 0,autoCorrect:we?"off":void 0,[parseInt(T.version,10)>=17?"enterKeyHint":"enterkeyhint"]:we?"next":void 0,children:oe.value||oe.placeholder,onInput:he,onPaste:me,onFocus:ue(fe),onDragOver:se,onMouseUp:ie,inputMode:oe.contentType==="letter"?"text":"numeric"},before:{children:oe.startSeparator},after:{children:oe.endSeparator}}}),[C.sections,ue,me,se,he,J,ie,e,i,pe,_,I,Ee,k]),Ce=Xe(oe=>{E(oe.target.value)}),re=T.useMemo(()=>D?"":d.getV7HiddenInputValueFromSections(C.sections),[D,C.sections,d]);return T.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));c&&O.current&&O.current.getSectionContent(b.startIndex).focus()},[]),{interactions:K,returnedValue:{autoFocus:c,readOnly:i,focused:u??B,sectionListRef:N,onBlur:le,onClick:Q,onFocus:te,onInput:H,onPaste:X,enableAccessibleFieldDOMStructure:!0,elements:ye,tabIndex:m===0?-1:0,contentEditable:pe,value:re,onChange:Ce,areAllSectionsEmpty:D}}},om=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),kWe=(t,e,i)=>{let r=0,n=i?1:0;const s=[];for(let o=0;o<t.length;o+=1){const a=t[o],l=ZB(a,i?"input-rtl":"input-ltr",e),u=`${a.startSeparator}${l}${a.endSeparator}`,c=om(u).length,d=u.length,h=om(l),f=n+(h===""?0:l.indexOf(h[0]))+a.startSeparator.length,g=f+h.length;s.push(G({},a,{start:r,end:r+c,startInInput:f,endInInput:g})),r+=c,n+=d}return s},VWe=t=>{const i=ja().direction==="rtl",r=T.useRef(),{forwardedProps:{onFocus:n,onClick:s,onPaste:o,onBlur:a,inputRef:l,placeholder:u},internalProps:{readOnly:c=!1},parsedSelectedSections:d,activeSectionIndex:h,state:f,fieldValueManager:g,valueManager:m,applyCharacterEditing:C,resetCharacterQuery:S,updateSectionValue:y,updateValueFromValueStr:w,clearActiveSection:E,clearValue:b,setTempAndroidValueStr:D,setSelectedSections:P,getSectionsFromValue:O,areAllSectionsEmpty:N,localizedDigits:_}=t,I=T.useRef(null),k=ri(l,I),B=T.useMemo(()=>kWe(f.sections,_,i),[f.sections,_,i]),U=T.useMemo(()=>({syncSelectionToDOM:()=>{if(!I.current)return;if(d==null){I.current.scrollLeft&&(I.current.scrollLeft=0);return}if(I.current!==Ea(document))return;const se=I.current.scrollTop;if(d==="all")I.current.select();else{const he=B[d],Ee=he.type==="empty"?he.startInInput-he.startSeparator.length:he.startInInput,pe=he.type==="empty"?he.endInInput+he.endSeparator.length:he.endInInput;(Ee!==I.current.selectionStart||pe!==I.current.selectionEnd)&&I.current===Ea(document)&&I.current.setSelectionRange(Ee,pe)}I.current.scrollTop=se},getActiveSectionIndexFromDOM:()=>{var ye;const se=I.current.selectionStart??0,he=I.current.selectionEnd??0,Ee=!!((ye=I.current)!=null&&ye.readOnly);if(se===0&&he===0||Ee)return null;const pe=se<=B[0].startInInput?1:B.findIndex(Ce=>Ce.startInInput-Ce.startSeparator.length>se);return pe===-1?B.length-1:pe-1},focusField:(se=0)=>{var he;(he=I.current)==null||he.focus(),P(se)},setSelectedSections:se=>P(se),isFieldFocused:()=>I.current===Ea(document)}),[I,d,B,P]),K=()=>{if(c){P(null);return}const se=I.current.selectionStart??0;let he;se<=B[0].startInInput||se>=B[B.length-1].endInInput?he=1:he=B.findIndex(pe=>pe.startInInput-pe.startSeparator.length>se);const Ee=he===-1?B.length-1:he-1;P(Ee)},j=Xe((...se)=>{n==null||n(...se);const he=I.current;clearTimeout(r.current),r.current=setTimeout(()=>{!he||he!==I.current||h!=null||c||(he.value.length&&Number(he.selectionEnd)-Number(he.selectionStart)===he.value.length?P("all"):K())})}),Q=Xe((se,...he)=>{se.isDefaultPrevented()||(s==null||s(se,...he),K())}),H=Xe(se=>{if(o==null||o(se),se.preventDefault(),c)return;const he=se.clipboardData.getData("text");if(typeof d=="number"){const Ee=f.sections[d],pe=/^[a-zA-Z]+$/.test(he),ye=/^[0-9]+$/.test(he),Ce=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(he);if(Ee.contentType==="letter"&&pe||Ee.contentType==="digit"&&ye||Ee.contentType==="digit-with-letter"&&Ce){S(),y({activeSection:Ee,newSectionValue:he,shouldGoToNextSection:!0});return}if(pe||ye)return}S(),w(he)}),X=Xe((...se)=>{a==null||a(...se),P(null)}),te=Xe(se=>{if(c)return;const he=se.target.value;if(he===""){S(),b();return}const Ee=se.nativeEvent.data,pe=Ee&&Ee.length>1,ye=pe?Ee:he,Ce=om(ye);if(h==null||pe){w(pe?Ee:Ce);return}let re;if(d==="all"&&Ce.length===1)re=Ce;else{const oe=om(g.getV6InputValueFromSections(B,_,i));let fe=-1,we=-1;for(let qe=0;qe<oe.length;qe+=1)fe===-1&&oe[qe]!==Ce[qe]&&(fe=qe),we===-1&&oe[oe.length-qe-1]!==Ce[Ce.length-qe-1]&&(we=qe);const Ue=B[h];if(fe<Ue.start||oe.length-we-1>Ue.end)return;const Ve=Ce.length-oe.length+Ue.end-om(Ue.endSeparator||"").length;re=Ce.slice(Ue.start+om(Ue.startSeparator||"").length,Ve)}if(re.length===0){I$e()?D(ye):(S(),E());return}C({keyPressed:re,sectionIndex:h})}),le=T.useMemo(()=>u||g.getV6InputValueFromSections(O(m.emptyValue),_,i),[u,g,O,m.emptyValue,_,i]),J=T.useMemo(()=>f.tempValueStrAndroid??g.getV6InputValueFromSections(f.sections,_,i),[f.sections,g,f.tempValueStrAndroid,_,i]);T.useEffect(()=>(I.current&&I.current===Ea(document)&&P("all"),()=>{clearTimeout(r.current)}),[]);const ie=T.useMemo(()=>h==null||f.sections[h].contentType==="letter"?"text":"numeric",[h,f.sections]),me=!(I.current&&I.current===Ea(document))&&N;return{interactions:U,returnedValue:{readOnly:c,onBlur:X,onClick:Q,onFocus:j,onPaste:H,inputRef:k,enableAccessibleFieldDOMStructure:!1,placeholder:le,inputMode:ie,autoComplete:"off",value:me?"":J,onChange:te}}},HWe=t=>{const e=Li(),{internalProps:i,internalProps:{unstableFieldRef:r,minutesStep:n,enableAccessibleFieldDOMStructure:s=!1,disabled:o=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:u,clearable:c,onClear:d},fieldValueManager:h,valueManager:f,validator:g}=t,C=ja().direction==="rtl",S=LWe(t),{state:y,activeSectionIndex:w,parsedSelectedSections:E,setSelectedSections:b,clearValue:D,clearActiveSection:P,updateSectionValue:O,setTempAndroidValueStr:N,sectionsValueBoundaries:_,localizedDigits:I,timezone:k}=S,B=NWe({sections:y.sections,updateSectionValue:O,sectionsValueBoundaries:_,localizedDigits:I,setTempAndroidValueStr:N,timezone:k}),{resetCharacterQuery:U}=B,K=f.areValuesEqual(e,y.value,f.emptyValue),j=s?GWe:VWe,Q=T.useMemo(()=>L$e(y.sections,C&&!s),[y.sections,C,s]),{returnedValue:H,interactions:X}=j(G({},t,S,B,{areAllSectionsEmpty:K,sectionOrder:Q})),te=Xe(se=>{switch(l==null||l(se),!0){case((se.ctrlKey||se.metaKey)&&se.key.toLowerCase()==="a"&&!se.shiftKey&&!se.altKey):{se.preventDefault(),b("all");break}case se.key==="Enter":{se.preventDefault();break}case se.key==="ArrowRight":{if(se.preventDefault(),E==null)b(Q.startIndex);else if(E==="all")b(Q.endIndex);else{const he=Q.neighbors[E].rightIndex;he!==null&&b(he)}break}case se.key==="ArrowLeft":{if(se.preventDefault(),E==null)b(Q.endIndex);else if(E==="all")b(Q.startIndex);else{const he=Q.neighbors[E].leftIndex;he!==null&&b(he)}break}case se.key==="Delete":{if(se.preventDefault(),a)break;E==null||E==="all"?D():P(),U();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(se.key):{if(se.preventDefault(),a||w==null)break;const he=y.sections[w],Ee=h.getActiveDateManager(e,y,he),pe=P$e(e,k,he,se.key,_,I,Ee.date,{minutesStep:n});O({activeSection:he,newSectionValue:pe,shouldGoToNextSection:!1});break}}});Xr(()=>{X.syncSelectionToDOM()});const le=Lse(G({},i,{value:y.value,timezone:k}),g,f.isSameError,f.defaultErrorState),J=T.useMemo(()=>u!==void 0?u:f.hasError(le),[f,le,u]);T.useEffect(()=>{!J&&w==null&&U()},[y.referenceValue,w,J]),T.useEffect(()=>{y.tempValueStrAndroid!=null&&w!=null&&(U(),P())},[y.sections]),T.useImperativeHandle(r,()=>({getSections:()=>y.sections,getActiveSectionIndex:X.getActiveSectionIndexFromDOM,setSelectedSections:X.setSelectedSections,focusField:X.focusField,isFieldFocused:X.isFieldFocused}));const ie=Xe((se,...he)=>{se.preventDefault(),d==null||d(se,...he),D(),X.isFieldFocused()?b(Q.startIndex):X.focusField(0)}),ue={onKeyDown:te,onClear:ie,error:J,clearable:!!(c&&!K&&!a&&!o)},me={disabled:o,readOnly:a};return G({},t.forwardedProps,ue,me,H)},tG=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],iG=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],$se=["minDateTime","maxDateTime"],$We=[...tG,...iG,...$se],Bse=t=>$We.reduce((e,i)=>(t.hasOwnProperty(i)&&(e[i]=t[i]),e),{}),BWe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],WWe=(t,e)=>{const i=G({},t),r={},n=s=>{i.hasOwnProperty(s)&&(r[s]=i[s],delete i[s])};return BWe.forEach(n),e==="date"?tG.forEach(n):e==="time"?iG.forEach(n):e==="date-time"&&(tG.forEach(n),iG.forEach(n),$se.forEach(n)),{forwardedProps:i,internalProps:r}},UWe=t=>{const e=Li(),i=Qb();return G({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:Ba(e,t.minDate,i.minDate),maxDate:Ba(e,t.maxDate,i.maxDate)})},zWe=t=>{const e=UWe(t),{forwardedProps:i,internalProps:r}=WWe(e,"date");return HWe({forwardedProps:i,internalProps:r,valueManager:Oc,fieldValueManager:k$e,validator:uM,valueType:"date"})},jWe=["clearable","onClear","InputProps","sx","slots","slotProps"],KWe=["ownerState"],YWe=t=>{const e=Zc(),{clearable:i,onClear:r,InputProps:n,sx:s,slots:o,slotProps:a}=t,l=Oe(t,jWe),u=(o==null?void 0:o.clearButton)??ab,c=ii({elementType:u,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=Oe(c,KWe),h=(o==null?void 0:o.clearIcon)??PWe,f=ii({elementType:h,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return G({},l,{InputProps:G({},n,{endAdornment:Y.jsxs(T.Fragment,{children:[i&&Y.jsx(Ose,{position:"end",sx:{marginRight:n!=null&&n.endAdornment?-1:-1.5},children:Y.jsx(u,G({},d,{onClick:r,children:Y.jsx(h,G({fontSize:"small"},f))}))}),n==null?void 0:n.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})},qWe=["enableAccessibleFieldDOMStructure"],XWe=["InputProps","readOnly"],QWe=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],ZWe=t=>{let{enableAccessibleFieldDOMStructure:e}=t,i=Oe(t,qWe);if(e){const{InputProps:d,readOnly:h}=i,f=Oe(i,XWe);return G({},f,{InputProps:G({},d??{},{readOnly:h})})}const{onPaste:r,onKeyDown:n,inputMode:s,readOnly:o,InputProps:a,inputProps:l,inputRef:u}=i,c=Oe(i,QWe);return G({},c,{InputProps:G({},a??{},{readOnly:o}),inputProps:G({},l??{},{inputMode:s,onPaste:r,onKeyDown:n,ref:u})})},JWe=["slots","slotProps","InputProps","inputProps"],Wse=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDateField"}),{slots:n,slotProps:s,InputProps:o,inputProps:a}=r,l=Oe(r,JWe),u=r,c=(n==null?void 0:n.textField)??(e.enableAccessibleFieldDOMStructure?YHe:Ln),d=ii({elementType:c,externalSlotProps:s==null?void 0:s.textField,externalForwardedProps:l,additionalProps:{ref:i},ownerState:u});d.inputProps=G({},a,d.inputProps),d.InputProps=G({},o,d.InputProps);const h=zWe(d),f=ZWe(h),g=YWe(G({},f,{slots:n,slotProps:s}));return Y.jsx(c,G({},g))}),Use=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:i,minDate:r,maxDate:n,disableFuture:s,disablePast:o,timezone:a})=>{const l=eg();return T.useCallback(u=>uM({adapter:l,value:u,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:i,minDate:r,maxDate:n,disableFuture:s,disablePast:o,timezone:a}})!==null,[l,t,e,i,r,n,s,o,a])},e2e=(t,e,i)=>(r,n)=>{switch(n.type){case"changeMonth":return G({},r,{slideDirection:n.direction,currentMonth:n.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return G({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&n.focusedDay!=null&&i.isSameDay(n.focusedDay,r.focusedDay))return r;const s=n.focusedDay!=null&&!e&&!i.isSameMonth(r.currentMonth,n.focusedDay);return G({},r,{focusedDay:n.focusedDay,isMonthSwitchingAnimating:s&&!t&&!n.withoutMonthSwitchingAnimation,currentMonth:s?i.startOfMonth(n.focusedDay):r.currentMonth,slideDirection:n.focusedDay!=null&&i.isAfterDay(n.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},t2e=t=>{const{value:e,referenceDate:i,disableFuture:r,disablePast:n,disableSwitchToMonthOnDayFocus:s=!1,maxDate:o,minDate:a,onMonthChange:l,reduceAnimations:u,shouldDisableDate:c,timezone:d}=t,h=Li(),f=T.useRef(e2e(!!u,s,h)).current,g=T.useMemo(()=>Oc.getInitialReferenceValue({value:e,utils:h,timezone:d,props:t,referenceDate:i,granularity:lu.day}),[]),[m,C]=T.useReducer(f,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:h.startOfMonth(g),slideDirection:"left"}),S=T.useCallback(D=>{C(G({type:"changeMonth"},D)),l&&l(D.newMonth)},[l]),y=T.useCallback(D=>{const P=D;h.isSameMonth(P,m.currentMonth)||S({newMonth:h.startOfMonth(P),direction:h.isAfterDay(P,m.currentMonth)?"left":"right"})},[m.currentMonth,S,h]),w=Use({shouldDisableDate:c,minDate:a,maxDate:o,disableFuture:r,disablePast:n,timezone:d}),E=T.useCallback(()=>{C({type:"finishMonthSwitchingAnimation"})},[]),b=Xe((D,P)=>{w(D)||C({type:"changeFocusedDay",focusedDay:D,withoutMonthSwitchingAnimation:P})});return{referenceDate:g,calendarState:m,changeMonth:y,changeFocusedDay:b,isDateDisabled:w,onMonthSwitchingAnimationEnd:E,handleChangeMonth:S}},i2e=t=>at("MuiPickersFadeTransitionGroup",t);lt("MuiPickersFadeTransitionGroup",["root"]);const r2e=t=>{const{classes:e}=t;return ot({root:["root"]},i2e,e)},n2e=be(qV,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function zse(t){const e=rt({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:i,className:r,reduceAnimations:n,transKey:s}=e,o=r2e(e),a=ja();return n?i:Y.jsx(n2e,{className:Le(o.root,r),children:Y.jsx(Bv,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:i},s)})}function s2e(t){return at("MuiPickersDay",t)}const Hh=lt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),o2e=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],a2e=t=>{const{selected:e,disableMargin:i,disableHighlightToday:r,today:n,disabled:s,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:a,classes:l}=t,u=o&&!a;return ot({root:["root",e&&!u&&"selected",s&&"disabled",!i&&"dayWithMargin",!r&&n&&"today",o&&a&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},s2e,l)},jse=({theme:t})=>G({},t.typography.caption,{width:qw,height:qw,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:km(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:km(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Hh.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Hh.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Hh.disabled}:not(.${Hh.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Hh.disabled}&.${Hh.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${cM}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Hh.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),Kse=(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disableMargin&&e.dayWithMargin,!i.disableHighlightToday&&i.today&&e.today,!i.outsideCurrentMonth&&i.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,i.outsideCurrentMonth&&!i.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},l2e=be(zp,{name:"MuiPickersDay",slot:"Root",overridesResolver:Kse})(jse),u2e=be("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Kse})(({theme:t})=>G({},jse({theme:t}),{opacity:0,pointerEvents:"none"})),Ey=()=>{},c2e=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiPickersDay"}),{autoFocus:n=!1,className:s,day:o,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:u=!1,isAnimating:c,onClick:d,onDaySelect:h,onFocus:f=Ey,onBlur:g=Ey,onKeyDown:m=Ey,onMouseDown:C=Ey,onMouseEnter:S=Ey,outsideCurrentMonth:y,selected:w=!1,showDaysOutsideCurrentMonth:E=!1,children:b,today:D=!1}=r,P=Oe(r,o2e),O=G({},r,{autoFocus:n,disabled:a,disableHighlightToday:l,disableMargin:u,selected:w,showDaysOutsideCurrentMonth:E,today:D}),N=a2e(O),_=Li(),I=T.useRef(null),k=ri(I,i);Xr(()=>{n&&!a&&!c&&!y&&I.current.focus()},[n,a,c,y]);const B=K=>{C(K),y&&K.preventDefault()},U=K=>{a||h(o),y&&K.currentTarget.focus(),d&&d(K)};return y&&!E?Y.jsx(u2e,{className:Le(N.root,N.hiddenDaySpacingFiller,s),ownerState:O,role:P.role}):Y.jsx(l2e,G({className:Le(N.root,s),ref:k,centerRipple:!0,disabled:a,tabIndex:w?0:-1,onKeyDown:K=>m(K,o),onFocus:K=>f(K,o),onBlur:K=>g(K,o),onMouseEnter:K=>S(K,o),onClick:U,onMouseDown:B},P,{ownerState:O,children:b||_.format(o,"dayOfMonth")}))}),d2e=T.memo(c2e),h2e=t=>at("MuiPickersSlideTransition",t),ua=lt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),p2e=["children","className","reduceAnimations","slideDirection","transKey","classes"],f2e=t=>{const{classes:e,slideDirection:i}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${i}`],exitActive:[`slideExitActiveLeft-${i}`]};return ot(r,h2e,e)},g2e=be(qV,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${ua["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${ua["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${ua.slideEnterActive}`]:e.slideEnterActive},{[`.${ua.slideExit}`]:e.slideExit},{[`.${ua["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${ua["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${ua["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${ua["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${ua.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${ua.slideExit}`]:{transform:"translate(0%)"},[`& .${ua["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${ua["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function m2e(t){const e=rt({props:t,name:"MuiPickersSlideTransition"}),{children:i,className:r,reduceAnimations:n,transKey:s}=e,o=Oe(e,p2e),a=f2e(e),l=ja();if(n)return Y.jsx("div",{className:Le(a.root,r),children:i});const u={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return Y.jsx(g2e,{className:Le(a.root,r),childFactory:c=>T.cloneElement(c,{classNames:u}),role:"presentation",children:Y.jsx(xDe,G({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:u},o,{children:i}),s)})}const v2e=t=>at("MuiDayCalendar",t);lt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const C2e=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],y2e=["ownerState"],S2e=t=>{const{classes:e}=t;return ot({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},v2e,e)},Yse=(qw+cM*2)*6,w2e=be("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),E2e=be("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),b2e=be(Io,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),R2e=be(Io,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),T2e=be(Io,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>G({},t.typography.caption,{width:qw,height:qw,padding:0,margin:`0 ${cM}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),D2e=be("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Yse}),P2e=be(m2e,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:Yse}),x2e=be("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),A2e=be("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${cM}px 0`,display:"flex",justifyContent:"center"});function O2e(t){let{parentProps:e,day:i,focusableDay:r,selectedDays:n,isDateDisabled:s,currentMonthNumber:o,isViewFocused:a}=t,l=Oe(t,C2e);const{disabled:u,disableHighlightToday:c,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:h,slots:f,slotProps:g,timezone:m}=e,C=Li(),S=lM(m),y=r!==null&&C.isSameDay(i,r),w=n.some(k=>C.isSameDay(k,i)),E=C.isSameDay(i,S),b=(f==null?void 0:f.day)??d2e,D=ii({elementType:b,externalSlotProps:g==null?void 0:g.day,additionalProps:G({disableHighlightToday:c,showDaysOutsideCurrentMonth:h,role:"gridcell",isAnimating:d,"data-timestamp":C.toJsDate(i).valueOf()},l),ownerState:G({},e,{day:i,selected:w})}),P=Oe(D,y2e),O=T.useMemo(()=>u||s(i),[u,s,i]),N=T.useMemo(()=>C.getMonth(i)!==o,[C,i,o]),_=T.useMemo(()=>{const k=C.startOfMonth(C.setMonth(i,o));return h?C.isSameDay(i,C.startOfWeek(k)):C.isSameDay(i,k)},[o,i,h,C]),I=T.useMemo(()=>{const k=C.endOfMonth(C.setMonth(i,o));return h?C.isSameDay(i,C.endOfWeek(k)):C.isSameDay(i,k)},[o,i,h,C]);return Y.jsx(b,G({},P,{day:i,disabled:O,autoFocus:a&&y,today:E,outsideCurrentMonth:N,isFirstVisibleCell:_,isLastVisibleCell:I,selected:w,tabIndex:y?0:-1,"aria-selected":w,"aria-current":E?"date":void 0}))}function M2e(t){const e=rt({props:t,name:"MuiDayCalendar"}),i=Li(),{onFocusedDayChange:r,className:n,currentMonth:s,selectedDays:o,focusedDay:a,loading:l,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:c,readOnly:d,reduceAnimations:h,renderLoading:f=()=>Y.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:m,disablePast:C,disableFuture:S,minDate:y,maxDate:w,shouldDisableDate:E,shouldDisableMonth:b,shouldDisableYear:D,dayOfWeekFormatter:P=Ve=>i.format(Ve,"weekdayShort").charAt(0).toUpperCase(),hasFocus:O,onFocusedViewChange:N,gridLabelId:_,displayWeekNumber:I,fixedWeekNumber:k,autoFocus:B,timezone:U}=e,K=lM(U),j=S2e(e),H=ja().direction==="rtl",X=Use({shouldDisableDate:E,shouldDisableMonth:b,shouldDisableYear:D,minDate:y,maxDate:w,disablePast:C,disableFuture:S,timezone:U}),te=Zc(),[le,J]=Ru({name:"DayCalendar",state:"hasFocus",controlled:O,default:B??!1}),[ie,ue]=T.useState(()=>a||K),me=Xe(Ve=>{d||u(Ve)}),se=Ve=>{X(Ve)||(r(Ve),ue(Ve),N==null||N(!0),J(!0))},he=Xe((Ve,qe)=>{switch(Ve.key){case"ArrowUp":se(i.addDays(qe,-7)),Ve.preventDefault();break;case"ArrowDown":se(i.addDays(qe,7)),Ve.preventDefault();break;case"ArrowLeft":{const mt=i.addDays(qe,H?1:-1),et=i.addMonths(qe,H?1:-1),gi=TS({utils:i,date:mt,minDate:H?mt:i.startOfMonth(et),maxDate:H?i.endOfMonth(et):mt,isDateDisabled:X,timezone:U});se(gi||mt),Ve.preventDefault();break}case"ArrowRight":{const mt=i.addDays(qe,H?-1:1),et=i.addMonths(qe,H?-1:1),gi=TS({utils:i,date:mt,minDate:H?i.startOfMonth(et):mt,maxDate:H?mt:i.endOfMonth(et),isDateDisabled:X,timezone:U});se(gi||mt),Ve.preventDefault();break}case"Home":se(i.startOfWeek(qe)),Ve.preventDefault();break;case"End":se(i.endOfWeek(qe)),Ve.preventDefault();break;case"PageUp":se(i.addMonths(qe,1)),Ve.preventDefault();break;case"PageDown":se(i.addMonths(qe,-1)),Ve.preventDefault();break}}),Ee=Xe((Ve,qe)=>se(qe)),pe=Xe((Ve,qe)=>{le&&i.isSameDay(ie,qe)&&(N==null||N(!1))}),ye=i.getMonth(s),Ce=i.getYear(s),re=T.useMemo(()=>o.filter(Ve=>!!Ve).map(Ve=>i.startOfDay(Ve)),[i,o]),oe=`${Ce}-${ye}`,fe=T.useMemo(()=>T.createRef(),[oe]),we=i.startOfWeek(K),Ue=T.useMemo(()=>{const Ve=i.startOfMonth(s),qe=i.endOfMonth(s);return X(ie)||i.isAfterDay(ie,qe)||i.isBeforeDay(ie,Ve)?TS({utils:i,date:ie,minDate:Ve,maxDate:qe,disablePast:C,disableFuture:S,isDateDisabled:X,timezone:U}):ie},[s,S,C,ie,X,i,U]),Be=T.useMemo(()=>{const Ve=i.setTimezone(s,U),qe=i.getWeekArray(Ve);let mt=i.addMonths(Ve,1);for(;k&&qe.length<k;){const et=i.getWeekArray(mt),gi=i.isSameDay(qe[qe.length-1][0],et[0][0]);et.slice(gi?1:0).forEach(wi=>{qe.length<k&&qe.push(wi)}),mt=i.addMonths(mt,1)}return qe},[s,k,i,U]);return Y.jsxs(w2e,{role:"grid","aria-labelledby":_,className:j.root,children:[Y.jsxs(E2e,{role:"row",className:j.header,children:[I&&Y.jsx(R2e,{variant:"caption",role:"columnheader","aria-label":te.calendarWeekNumberHeaderLabel,className:j.weekNumberLabel,children:te.calendarWeekNumberHeaderText}),C$e(i,K).map((Ve,qe)=>Y.jsx(b2e,{variant:"caption",role:"columnheader","aria-label":i.format(i.addDays(we,qe),"weekday"),className:j.weekDayLabel,children:P(Ve)},qe.toString()))]}),l?Y.jsx(D2e,{className:j.loadingContainer,children:f()}):Y.jsx(P2e,G({transKey:oe,onExited:c,reduceAnimations:h,slideDirection:g,className:Le(n,j.slideTransition)},m,{nodeRef:fe,children:Y.jsx(x2e,{ref:fe,role:"rowgroup",className:j.monthContainer,children:Be.map((Ve,qe)=>Y.jsxs(A2e,{role:"row",className:j.weekContainer,"aria-rowindex":qe+1,children:[I&&Y.jsx(T2e,{className:j.weekNumber,role:"rowheader","aria-label":te.calendarWeekNumberAriaLabelText(i.getWeekNumber(Ve[0])),children:te.calendarWeekNumberText(i.getWeekNumber(Ve[0]))}),Ve.map((mt,et)=>Y.jsx(O2e,{parentProps:e,day:mt,selectedDays:re,focusableDay:Ue,onKeyDown:he,onFocus:Ee,onBlur:pe,onDaySelect:me,isDateDisabled:X,currentMonthNumber:ye,isViewFocused:le,"aria-colindex":et+1},mt.toString()))]},`week-${Ve[0]}`))})}))]})}function F2e(t){return at("MuiPickersMonth",t)}const VT=lt("MuiPickersMonth",["root","monthButton","disabled","selected"]),I2e=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],L2e=t=>{const{disabled:e,selected:i,classes:r}=t;return ot({root:["root"],monthButton:["monthButton",e&&"disabled",i&&"selected"]},F2e,r)},_2e=be("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),N2e=be("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${VT.disabled}`]:e.disabled},{[`&.${VT.selected}`]:e.selected}]})(({theme:t})=>G({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:km(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:km(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${VT.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${VT.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),G2e=T.memo(function(e){const i=rt({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:n,disabled:s,selected:o,value:a,tabIndex:l,onClick:u,onKeyDown:c,onFocus:d,onBlur:h,"aria-current":f,"aria-label":g}=i,m=Oe(i,I2e),C=T.useRef(null),S=L2e(i);return Xr(()=>{var y;r&&((y=C.current)==null||y.focus())},[r]),Y.jsx(_2e,G({className:S.root,ownerState:i},m,{children:Y.jsx(N2e,{ref:C,disabled:s,type:"button",role:"radio",tabIndex:s?-1:l,"aria-current":f,"aria-checked":o,"aria-label":g,onClick:y=>u(y,a),onKeyDown:y=>c(y,a),onFocus:y=>d(y,a),onBlur:y=>h(y,a),className:S.monthButton,ownerState:i,children:n})}))});function k2e(t){return at("MuiMonthCalendar",t)}lt("MuiMonthCalendar",["root"]);const V2e=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],H2e=t=>{const{classes:e}=t;return ot({root:["root"]},k2e,e)};function $2e(t,e){const i=Li(),r=Qb(),n=rt({props:t,name:e});return G({disableFuture:!1,disablePast:!1},n,{minDate:Ba(i,n.minDate,r.minDate),maxDate:Ba(i,n.maxDate,r.maxDate)})}const B2e=be("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:dM,boxSizing:"border-box"}),W2e=T.forwardRef(function(e,i){const r=$2e(e,"MuiMonthCalendar"),{className:n,value:s,defaultValue:o,referenceDate:a,disabled:l,disableFuture:u,disablePast:c,maxDate:d,minDate:h,onChange:f,shouldDisableMonth:g,readOnly:m,autoFocus:C=!1,onMonthFocus:S,hasFocus:y,onFocusedViewChange:w,monthsPerRow:E=3,timezone:b,gridLabelId:D}=r,P=Oe(r,V2e),{value:O,handleValueChange:N,timezone:_}=tW({name:"MonthCalendar",timezone:b,value:s,defaultValue:o,onChange:f,valueManager:Oc}),I=lM(_),k=ob(),B=Li(),U=T.useMemo(()=>Oc.getInitialReferenceValue({value:O,utils:B,props:r,timezone:_,referenceDate:a,granularity:lu.month}),[]),K=r,j=H2e(K),Q=T.useMemo(()=>B.getMonth(I),[B,I]),H=T.useMemo(()=>O!=null?B.getMonth(O):null,[O,B]),[X,te]=T.useState(()=>H||B.getMonth(U)),[le,J]=Ru({name:"MonthCalendar",state:"hasFocus",controlled:y,default:C??!1}),ie=Xe(ye=>{J(ye),w&&w(ye)}),ue=T.useCallback(ye=>{const Ce=B.startOfMonth(c&&B.isAfter(I,h)?I:h),re=B.startOfMonth(u&&B.isBefore(I,d)?I:d),oe=B.startOfMonth(ye);return B.isBefore(oe,Ce)||B.isAfter(oe,re)?!0:g?g(oe):!1},[u,c,d,h,I,g,B]),me=Xe((ye,Ce)=>{if(m)return;const re=B.setMonth(O??U,Ce);N(re)}),se=Xe(ye=>{ue(B.setMonth(O??U,ye))||(te(ye),ie(!0),S&&S(ye))});T.useEffect(()=>{te(ye=>H!==null&&ye!==H?H:ye)},[H]);const he=Xe((ye,Ce)=>{switch(ye.key){case"ArrowUp":se((12+Ce-3)%12),ye.preventDefault();break;case"ArrowDown":se((12+Ce+3)%12),ye.preventDefault();break;case"ArrowLeft":se((12+Ce+(k.direction==="ltr"?-1:1))%12),ye.preventDefault();break;case"ArrowRight":se((12+Ce+(k.direction==="ltr"?1:-1))%12),ye.preventDefault();break}}),Ee=Xe((ye,Ce)=>{se(Ce)}),pe=Xe((ye,Ce)=>{X===Ce&&ie(!1)});return Y.jsx(B2e,G({ref:i,className:Le(j.root,n),ownerState:K,role:"radiogroup","aria-labelledby":D},P,{children:qB(B,O??U).map(ye=>{const Ce=B.getMonth(ye),re=B.format(ye,"monthShort"),oe=B.format(ye,"month"),fe=Ce===H,we=l||ue(ye);return Y.jsx(G2e,{selected:fe,value:Ce,onClick:me,onKeyDown:he,autoFocus:le&&Ce===X,disabled:we,tabIndex:Ce===X?0:-1,onFocus:Ee,onBlur:pe,"aria-current":Q===Ce?"date":void 0,"aria-label":oe,monthsPerRow:E,children:re},re)})}))});function U2e(t){return at("MuiPickersYear",t)}const HT=lt("MuiPickersYear",["root","yearButton","selected","disabled"]),z2e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],j2e=t=>{const{disabled:e,selected:i,classes:r}=t;return ot({root:["root"],yearButton:["yearButton",e&&"disabled",i&&"selected"]},U2e,r)},K2e=be("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),Y2e=be("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${HT.disabled}`]:e.disabled},{[`&.${HT.selected}`]:e.selected}]})(({theme:t})=>G({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:km(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:km(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${HT.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${HT.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),q2e=T.memo(function(e){const i=rt({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:n,children:s,disabled:o,selected:a,value:l,tabIndex:u,onClick:c,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":g}=i,m=Oe(i,z2e),C=T.useRef(null),S=j2e(i);return T.useEffect(()=>{r&&C.current.focus()},[r]),Y.jsx(K2e,G({className:Le(S.root,n),ownerState:i},m,{children:Y.jsx(Y2e,{ref:C,disabled:o,type:"button",role:"radio",tabIndex:o?-1:u,"aria-current":g,"aria-checked":a,onClick:y=>c(y,l),onKeyDown:y=>d(y,l),onFocus:y=>h(y,l),onBlur:y=>f(y,l),className:S.yearButton,ownerState:i,children:s})}))});function X2e(t){return at("MuiYearCalendar",t)}lt("MuiYearCalendar",["root"]);const Q2e=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],Z2e=t=>{const{classes:e}=t;return ot({root:["root"]},X2e,e)};function J2e(t,e){const i=Li(),r=Qb(),n=rt({props:t,name:e});return G({disablePast:!1,disableFuture:!1},n,{yearsPerRow:n.yearsPerRow??3,minDate:Ba(i,n.minDate,r.minDate),maxDate:Ba(i,n.maxDate,r.maxDate)})}const eUe=be("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:dM,maxHeight:cWe,boxSizing:"border-box",position:"relative"}),tUe=T.forwardRef(function(e,i){const r=J2e(e,"MuiYearCalendar"),{autoFocus:n,className:s,value:o,defaultValue:a,referenceDate:l,disabled:u,disableFuture:c,disablePast:d,maxDate:h,minDate:f,onChange:g,readOnly:m,shouldDisableYear:C,onYearFocus:S,hasFocus:y,onFocusedViewChange:w,yearsPerRow:E,timezone:b,gridLabelId:D}=r,P=Oe(r,Q2e),{value:O,handleValueChange:N,timezone:_}=tW({name:"YearCalendar",timezone:b,value:o,defaultValue:a,onChange:g,valueManager:Oc}),I=lM(_),k=ob(),B=Li(),U=T.useMemo(()=>Oc.getInitialReferenceValue({value:O,utils:B,props:r,timezone:_,referenceDate:l,granularity:lu.year}),[]),K=r,j=Z2e(K),Q=T.useMemo(()=>B.getYear(I),[B,I]),H=T.useMemo(()=>O!=null?B.getYear(O):null,[O,B]),[X,te]=T.useState(()=>H||B.getYear(U)),[le,J]=Ru({name:"YearCalendar",state:"hasFocus",controlled:y,default:n??!1}),ie=Xe(re=>{J(re),w&&w(re)}),ue=T.useCallback(re=>{if(d&&B.isBeforeYear(re,I)||c&&B.isAfterYear(re,I)||f&&B.isBeforeYear(re,f)||h&&B.isAfterYear(re,h))return!0;if(!C)return!1;const oe=B.startOfYear(re);return C(oe)},[c,d,h,f,I,C,B]),me=Xe((re,oe)=>{if(m)return;const fe=B.setYear(O??U,oe);N(fe)}),se=Xe(re=>{ue(B.setYear(O??U,re))||(te(re),ie(!0),S==null||S(re))});T.useEffect(()=>{te(re=>H!==null&&re!==H?H:re)},[H]);const he=Xe((re,oe)=>{switch(re.key){case"ArrowUp":se(oe-E),re.preventDefault();break;case"ArrowDown":se(oe+E),re.preventDefault();break;case"ArrowLeft":se(oe+(k.direction==="ltr"?-1:1)),re.preventDefault();break;case"ArrowRight":se(oe+(k.direction==="ltr"?1:-1)),re.preventDefault();break}}),Ee=Xe((re,oe)=>{se(oe)}),pe=Xe((re,oe)=>{X===oe&&ie(!1)}),ye=T.useRef(null),Ce=ri(i,ye);return T.useEffect(()=>{if(n||ye.current===null)return;const re=ye.current.querySelector('[tabindex="0"]');if(!re)return;const oe=re.offsetHeight,fe=re.offsetTop,we=ye.current.clientHeight,Ue=ye.current.scrollTop,Be=fe+oe;oe>we||fe<Ue||(ye.current.scrollTop=Be-we/2-oe/2)},[n]),Y.jsx(eUe,G({ref:Ce,className:Le(j.root,s),ownerState:K,role:"radiogroup","aria-labelledby":D},P,{children:B.getYearRange([f,h]).map(re=>{const oe=B.getYear(re),fe=oe===H,we=u||ue(re);return Y.jsx(q2e,{selected:fe,value:oe,onClick:me,onKeyDown:he,autoFocus:le&&oe===X,disabled:we,tabIndex:oe===X?0:-1,onFocus:Ee,onBlur:pe,"aria-current":Q===oe?"date":void 0,yearsPerRow:E,children:B.format(re,"year")},B.format(re,"year"))})}))}),iUe=t=>at("MuiPickersCalendarHeader",t),rUe=lt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function nUe(t){return at("MuiPickersArrowSwitcher",t)}lt("MuiPickersArrowSwitcher",["root","spacer","button"]);const sUe=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],oUe=["ownerState"],aUe=["ownerState"],lUe=be("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),uUe=be("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),x4=be(ab,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),cUe=t=>{const{classes:e}=t;return ot({root:["root"],spacer:["spacer"],button:["button"]},nUe,e)},dUe=T.forwardRef(function(e,i){const n=ja().direction==="rtl",s=rt({props:e,name:"MuiPickersArrowSwitcher"}),{children:o,className:a,slots:l,slotProps:u,isNextDisabled:c,isNextHidden:d,onGoToNext:h,nextLabel:f,isPreviousDisabled:g,isPreviousHidden:m,onGoToPrevious:C,previousLabel:S}=s,y=Oe(s,sUe),w=s,E=cUe(w),b={isDisabled:c,isHidden:d,goTo:h,label:f},D={isDisabled:g,isHidden:m,goTo:C,label:S},P=(l==null?void 0:l.previousIconButton)??x4,O=ii({elementType:P,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"end",onClick:D.goTo},ownerState:G({},w,{hidden:D.isHidden}),className:E.button}),N=(l==null?void 0:l.nextIconButton)??x4,_=ii({elementType:N,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:b.label,"aria-label":b.label,disabled:b.isDisabled,edge:"start",onClick:b.goTo},ownerState:G({},w,{hidden:b.isHidden}),className:E.button}),I=(l==null?void 0:l.leftArrowIcon)??RWe,k=ii({elementType:I,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),B=Oe(k,oUe),U=(l==null?void 0:l.rightArrowIcon)??TWe,K=ii({elementType:U,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),j=Oe(K,aUe);return Y.jsxs(lUe,G({ref:i,className:Le(E.root,a),ownerState:w},y,{children:[Y.jsx(P,G({},O,{children:n?Y.jsx(U,G({},j)):Y.jsx(I,G({},B))})),o?Y.jsx(Io,{variant:"subtitle1",component:"span",children:o}):Y.jsx(uUe,{className:E.spacer,ownerState:w}),Y.jsx(N,G({},_,{children:n?Y.jsx(I,G({},B)):Y.jsx(U,G({},j))}))]}))});function hUe(t,{disableFuture:e,maxDate:i,timezone:r}){const n=Li();return T.useMemo(()=>{const s=n.date(void 0,r),o=n.startOfMonth(e&&n.isBefore(s,i)?s:i);return!n.isAfter(o,t)},[e,i,t,n,r])}function pUe(t,{disablePast:e,minDate:i,timezone:r}){const n=Li();return T.useMemo(()=>{const s=n.date(void 0,r),o=n.startOfMonth(e&&n.isAfter(s,i)?s:i);return!n.isBefore(o,t)},[e,i,t,n,r])}const fUe=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],gUe=["ownerState"],mUe=t=>{const{classes:e}=t;return ot({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},iUe,e)},vUe=be("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),CUe=be("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>G({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),yUe=be("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),SUe=be(ab,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${rUe.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),wUe=be(bWe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),EUe=T.forwardRef(function(e,i){const r=Zc(),n=Li(),s=rt({props:e,name:"MuiPickersCalendarHeader"}),{slots:o,slotProps:a,currentMonth:l,disabled:u,disableFuture:c,disablePast:d,maxDate:h,minDate:f,onMonthChange:g,onViewChange:m,view:C,reduceAnimations:S,views:y,labelId:w,className:E,timezone:b,format:D=`${n.formats.month} ${n.formats.year}`}=s,P=Oe(s,fUe),O=s,N=mUe(s),_=(o==null?void 0:o.switchViewButton)??SUe,I=ii({elementType:_,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(C)},ownerState:O,className:N.switchViewButton}),k=(o==null?void 0:o.switchViewIcon)??wUe,B=ii({elementType:k,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:void 0,className:N.switchViewIcon}),U=Oe(B,gUe),K=()=>g(n.addMonths(l,1),"left"),j=()=>g(n.addMonths(l,-1),"right"),Q=hUe(l,{disableFuture:c,maxDate:h,timezone:b}),H=pUe(l,{disablePast:d,minDate:f,timezone:b}),X=()=>{if(!(y.length===1||!m||u))if(y.length===2)m(y.find(le=>le!==C)||y[0]);else{const le=y.indexOf(C)!==0?0:1;m(y[le])}};if(y.length===1&&y[0]==="year")return null;const te=n.formatByString(l,D);return Y.jsxs(vUe,G({},P,{ownerState:O,className:Le(E,N.root),ref:i,children:[Y.jsxs(CUe,{role:"presentation",onClick:X,ownerState:O,"aria-live":"polite",className:N.labelContainer,children:[Y.jsx(zse,{reduceAnimations:S,transKey:te,children:Y.jsx(yUe,{id:w,ownerState:O,className:N.label,children:te})}),y.length>1&&!u&&Y.jsx(_,G({},I,{children:Y.jsx(k,G({},U))}))]}),Y.jsx(Bv,{in:C==="day",children:Y.jsx(dUe,{slots:o,slotProps:a,onGoToPrevious:j,isPreviousDisabled:H,previousLabel:r.previousMonth,onGoToNext:K,isNextDisabled:Q,nextLabel:r.nextMonth})})]}))}),bUe=be("div")({overflow:"hidden",width:dM,maxHeight:iW,display:"flex",flexDirection:"column",margin:"0 auto"}),RUe=t=>at("MuiDateCalendar",t);lt("MuiDateCalendar",["root","viewTransitionContainer"]);const TUe=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],DUe=t=>{const{classes:e}=t;return ot({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},RUe,e)};function PUe(t,e){const i=Li(),r=Qb(),n=Ise(),s=rt({props:t,name:e});return G({},s,{loading:s.loading??!1,disablePast:s.disablePast??!1,disableFuture:s.disableFuture??!1,openTo:s.openTo??"day",views:s.views??["year","day"],reduceAnimations:s.reduceAnimations??n,renderLoading:s.renderLoading??(()=>Y.jsx("span",{children:"..."})),minDate:Ba(i,s.minDate,r.minDate),maxDate:Ba(i,s.maxDate,r.maxDate)})}const xUe=be(bUe,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:iW}),AUe=be(zse,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),OUe=T.forwardRef(function(e,i){const r=Li(),n=Nc(),s=PUe(e,"MuiDateCalendar"),{autoFocus:o,onViewChange:a,value:l,defaultValue:u,referenceDate:c,disableFuture:d,disablePast:h,onChange:f,onYearChange:g,onMonthChange:m,reduceAnimations:C,shouldDisableDate:S,shouldDisableMonth:y,shouldDisableYear:w,view:E,views:b,openTo:D,className:P,disabled:O,readOnly:N,minDate:_,maxDate:I,disableHighlightToday:k,focusedView:B,onFocusedViewChange:U,showDaysOutsideCurrentMonth:K,fixedWeekNumber:j,dayOfWeekFormatter:Q,slots:H,slotProps:X,loading:te,renderLoading:le,displayWeekNumber:J,yearsPerRow:ie,monthsPerRow:ue,timezone:me}=s,se=Oe(s,TUe),{value:he,handleValueChange:Ee,timezone:pe}=tW({name:"DateCalendar",timezone:me,value:l,defaultValue:u,onChange:f,valueManager:Oc}),{view:ye,setView:Ce,focusedView:re,setFocusedView:oe,goToNextView:fe,setValueAndGoToNextView:we}=_se({view:E,views:b,openTo:D,onChange:Ee,onViewChange:a,autoFocus:o,focusedView:B,onFocusedViewChange:U}),{referenceDate:Ue,calendarState:Be,changeFocusedDay:Ve,changeMonth:qe,handleChangeMonth:mt,isDateDisabled:et,onMonthSwitchingAnimationEnd:gi}=t2e({value:he,referenceDate:c,reduceAnimations:C,onMonthChange:m,minDate:_,maxDate:I,shouldDisableDate:S,disablePast:h,disableFuture:d,timezone:pe}),wi=O&&he||_,Yt=O&&he||I,Cr=`${n}-grid-label`,xn=re!==null,xr=(H==null?void 0:H.calendarHeader)??EUe,Ht=ii({elementType:xr,externalSlotProps:X==null?void 0:X.calendarHeader,additionalProps:{views:b,view:ye,currentMonth:Be.currentMonth,onViewChange:Ce,onMonthChange:(Yi,ea)=>mt({newMonth:Yi,direction:ea}),minDate:wi,maxDate:Yt,disabled:O,disablePast:h,disableFuture:d,reduceAnimations:C,timezone:pe,labelId:Cr,slots:H,slotProps:X},ownerState:s}),pt=Xe(Yi=>{const ea=r.startOfMonth(Yi),xh=r.endOfMonth(Yi),tl=et(Yi)?TS({utils:r,date:Yi,minDate:r.isBefore(_,ea)?ea:_,maxDate:r.isAfter(I,xh)?xh:I,disablePast:h,disableFuture:d,isDateDisabled:et,timezone:pe}):Yi;tl?(we(tl,"finish"),m==null||m(ea)):(fe(),qe(ea)),Ve(tl,!0)}),cs=Xe(Yi=>{const ea=r.startOfYear(Yi),xh=r.endOfYear(Yi),tl=et(Yi)?TS({utils:r,date:Yi,minDate:r.isBefore(_,ea)?ea:_,maxDate:r.isAfter(I,xh)?xh:I,disablePast:h,disableFuture:d,isDateDisabled:et,timezone:pe}):Yi;tl?(we(tl,"finish"),g==null||g(tl)):(fe(),qe(ea)),Ve(tl,!0)}),el=Xe(Yi=>Ee(Yi&&Hx(r,Yi,he??Ue),"finish",ye));T.useEffect(()=>{he!=null&&r.isValid(he)&&qe(he)},[he]);const co=s,dt=DUe(co),Zt={disablePast:h,disableFuture:d,maxDate:I,minDate:_},Ki={disableHighlightToday:k,readOnly:N,disabled:O,timezone:pe,gridLabelId:Cr},Gs=T.useRef(ye);T.useEffect(()=>{Gs.current!==ye&&(re===Gs.current&&oe(ye,!0),Gs.current=ye)},[re,oe,ye]);const id=T.useMemo(()=>[he],[he]);return Y.jsxs(xUe,G({ref:i,className:Le(dt.root,P),ownerState:co},se,{children:[Y.jsx(xr,G({},Ht)),Y.jsx(AUe,{reduceAnimations:C,className:dt.viewTransitionContainer,transKey:ye,ownerState:co,children:Y.jsxs("div",{children:[ye==="year"&&Y.jsx(tUe,G({},Zt,Ki,{value:he,onChange:cs,shouldDisableYear:w,hasFocus:xn,onFocusedViewChange:Yi=>oe("year",Yi),yearsPerRow:ie,referenceDate:Ue})),ye==="month"&&Y.jsx(W2e,G({},Zt,Ki,{hasFocus:xn,className:P,value:he,onChange:pt,shouldDisableMonth:y,onFocusedViewChange:Yi=>oe("month",Yi),monthsPerRow:ue,referenceDate:Ue})),ye==="day"&&Y.jsx(M2e,G({},Be,Zt,Ki,{onMonthSwitchingAnimationEnd:gi,onFocusedDayChange:Ve,reduceAnimations:C,selectedDays:id,onSelectedDaysChange:el,shouldDisableDate:S,shouldDisableMonth:y,shouldDisableYear:w,hasFocus:xn,onFocusedViewChange:Yi=>oe("day",Yi),showDaysOutsideCurrentMonth:K,fixedWeekNumber:j,dayOfWeekFormatter:Q,displayWeekNumber:J,slots:H,slotProps:X,loading:te,renderLoading:le}))]})})]}))}),Dm=({view:t,onViewChange:e,views:i,focusedView:r,onFocusedViewChange:n,value:s,defaultValue:o,referenceDate:a,onChange:l,className:u,classes:c,disableFuture:d,disablePast:h,minDate:f,maxDate:g,shouldDisableDate:m,shouldDisableMonth:C,shouldDisableYear:S,reduceAnimations:y,onMonthChange:w,monthsPerRow:E,onYearChange:b,yearsPerRow:D,slots:P,slotProps:O,loading:N,renderLoading:_,disableHighlightToday:I,readOnly:k,disabled:B,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:K,sx:j,autoFocus:Q,fixedWeekNumber:H,displayWeekNumber:X,timezone:te})=>Y.jsx(OUe,{view:t,onViewChange:e,views:i.filter(f4),focusedView:r&&f4(r)?r:null,onFocusedViewChange:n,value:s,defaultValue:o,referenceDate:a,onChange:l,className:u,classes:c,disableFuture:d,disablePast:h,minDate:f,maxDate:g,shouldDisableDate:m,shouldDisableMonth:C,shouldDisableYear:S,reduceAnimations:y,onMonthChange:w,monthsPerRow:E,onYearChange:b,yearsPerRow:D,slots:P,slotProps:O,loading:N,renderLoading:_,disableHighlightToday:I,readOnly:k,disabled:B,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:K,sx:j,autoFocus:Q,fixedWeekNumber:H,displayWeekNumber:X,timezone:te}),qse=T.forwardRef(function(e,i){var u,c;const r=Zc(),n=Li(),s=Ase(e,"MuiDesktopDatePicker"),o=G({day:Dm,month:Dm,year:Dm},s.viewRenderers),a=G({},s,{viewRenderers:o,format:XB(n,s,!1),yearsPerRow:s.yearsPerRow??4,slots:G({openPickerIcon:DWe,field:Wse},s.slots),slotProps:G({},s.slotProps,{field:d=>{var h;return G({},UV((h=s.slotProps)==null?void 0:h.field,d),Bse(s),{ref:i})},toolbar:G({hidden:!0},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=EWe({props:a,valueManager:Oc,valueType:"date",getOpenDialogAriaText:((c=a.localeText)==null?void 0:c.openDatePickerDialogue)??r.openDatePickerDialogue,validator:uM});return l()});qse.propTypes={autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:MQ,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,minDate:ee.object,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","month","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","month","year"]),viewRenderers:ee.shape({day:ee.func,month:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","month","year"]).isRequired),yearsPerRow:ee.oneOf([3,4])};const MUe=be(rM)({[`& .${RS.container}`]:{outline:0},[`& .${RS.paper}`]:{outline:0,minWidth:dM}}),FUe=be(sM)({"&:first-of-type":{padding:0}});function IUe(t){const{children:e,onDismiss:i,open:r,slots:n,slotProps:s}=t,o=(n==null?void 0:n.dialog)??MUe,a=(n==null?void 0:n.mobileTransition)??Bv;return Y.jsx(o,G({open:r,onClose:i},s==null?void 0:s.dialog,{TransitionComponent:a,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:n==null?void 0:n.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:Y.jsx(FUe,{children:e})}))}const LUe=["props","getOpenDialogAriaText"],_Ue=t=>{var le;let{props:e,getOpenDialogAriaText:i}=t,r=Oe(t,LUe);const{slots:n,slotProps:s,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,name:g,label:m,inputRef:C,readOnly:S,disabled:y,localeText:w}=e,E=Li(),b=T.useRef(null),D=Nc(),P=((le=s==null?void 0:s.toolbar)==null?void 0:le.hidden)??!1,{open:O,actions:N,layoutProps:_,renderCurrentView:I,fieldProps:k}=Nse(G({},r,{props:e,fieldRef:b,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),B=n.field,U=ii({elementType:B,externalSlotProps:s==null?void 0:s.field,additionalProps:G({},k,P&&{id:D},!(y||S)&&{onClick:N.onOpen,onKeyDown:vBe(N.onOpen)},{readOnly:S??!0,disabled:y,className:o,sx:a,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:h,timezone:f,label:m,name:g},C?{inputRef:C}:{}),ownerState:e});U.inputProps=G({},U.inputProps,{"aria-label":i(k.value,E)});const K=G({textField:n.textField},U.slots),j=n.layout??Hse;let Q=D;P&&(m?Q=`${D}-label`:Q=void 0);const H=G({},s,{toolbar:G({},s==null?void 0:s.toolbar,{titleId:D}),mobilePaper:G({"aria-labelledby":Q},s==null?void 0:s.mobilePaper)}),X=ri(b,U.unstableFieldRef);return{renderPicker:()=>Y.jsxs(YB,{localeText:w,children:[Y.jsx(B,G({},U,{slots:K,slotProps:H,unstableFieldRef:X})),Y.jsx(IUe,G({},N,{open:O,slots:n,slotProps:H,children:Y.jsx(j,G({},_,H==null?void 0:H.layout,{slots:n,slotProps:H,children:I()}))}))]})}},Xse=T.forwardRef(function(e,i){var u,c;const r=Zc(),n=Li(),s=Ase(e,"MuiMobileDatePicker"),o=G({day:Dm,month:Dm,year:Dm},s.viewRenderers),a=G({},s,{viewRenderers:o,format:XB(n,s,!1),slots:G({field:Wse},s.slots),slotProps:G({},s.slotProps,{field:d=>{var h;return G({},UV((h=s.slotProps)==null?void 0:h.field,d),Bse(s),{ref:i})},toolbar:G({hidden:!1},(u=s.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=_Ue({props:a,valueManager:Oc,valueType:"date",getOpenDialogAriaText:((c=a.localeText)==null?void 0:c.openDatePickerDialogue)??r.openDatePickerDialogue,validator:uM});return l()});Xse.propTypes={autoFocus:ee.bool,className:ee.string,closeOnSelect:ee.bool,dayOfWeekFormatter:ee.func,defaultValue:ee.object,disabled:ee.bool,disableFuture:ee.bool,disableHighlightToday:ee.bool,disableOpenPicker:ee.bool,disablePast:ee.bool,displayWeekNumber:ee.bool,enableAccessibleFieldDOMStructure:ee.any,fixedWeekNumber:ee.number,format:ee.string,formatDensity:ee.oneOf(["dense","spacious"]),inputRef:MQ,label:ee.node,loading:ee.bool,localeText:ee.object,maxDate:ee.object,minDate:ee.object,monthsPerRow:ee.oneOf([3,4]),name:ee.string,onAccept:ee.func,onChange:ee.func,onClose:ee.func,onError:ee.func,onMonthChange:ee.func,onOpen:ee.func,onSelectedSectionsChange:ee.func,onViewChange:ee.func,onYearChange:ee.func,open:ee.bool,openTo:ee.oneOf(["day","month","year"]),orientation:ee.oneOf(["landscape","portrait"]),readOnly:ee.bool,reduceAnimations:ee.bool,referenceDate:ee.object,renderLoading:ee.func,selectedSections:ee.oneOfType([ee.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),ee.number]),shouldDisableDate:ee.func,shouldDisableMonth:ee.func,shouldDisableYear:ee.func,showDaysOutsideCurrentMonth:ee.bool,slotProps:ee.object,slots:ee.object,sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),timezone:ee.string,value:ee.object,view:ee.oneOf(["day","month","year"]),viewRenderers:ee.shape({day:ee.func,month:ee.func,year:ee.func}),views:ee.arrayOf(ee.oneOf(["day","month","year"]).isRequired),yearsPerRow:ee.oneOf([3,4])};const NUe=["desktopModeMediaQuery"],GUe=T.forwardRef(function(e,i){const r=rt({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:n=CBe}=r,s=Oe(r,NUe);return AQ(n,{defaultMatches:!0})?Y.jsx(qse,G({ref:i},s)):Y.jsx(Xse,G({ref:i},s))});function kUe(t){let e=t.training._links.customer.href;const[i,r]=$.useState(!1),[n,s]=$.useState({date:"",duration:"",activity:"",customer:""}),o=()=>{s({...n,customer:e}),r(!0)},a=()=>{r(!1)},l=c=>{s({...n,[c.target.name]:c.target.value})},u=()=>{t.saveTraining(n),a()};return Y.jsxs($.Fragment,{children:[Y.jsx(es,{onClick:o,children:"Add Training"}),Y.jsxs(rM,{open:i,onClose:a,PaperProps:{component:"form",onSubmit:c=>{c.preventDefault();const d=new FormData(c.currentTarget),f=Object.fromEntries(d.entries()).email;console.log(f),a()}},children:[Y.jsx(WB,{children:"New Training"}),Y.jsxs(sM,{children:[Y.jsx(YB,{dateAdapter:h$e,children:Y.jsx(ZHe,{components:["DatePicker"],children:Y.jsx(GUe,{autoFocus:!0,required:!0,margin:"dense",name:"date",value:n.date?or(n.date):null,onChange:c=>{s({...n,date:or(c).format("YYYY-MM-DD")})},label:"Date",fullWidth:!0,variant:"standard"})})}),Y.jsx(Ln,{required:!0,margin:"dense",name:"duration",value:n.duration,onChange:c=>l(c),label:"Duration",fullWidth:!0,variant:"standard"}),Y.jsx(Ln,{required:!0,margin:"dense",name:"activity",value:n.activity,onChange:c=>l(c),label:"Activity",fullWidth:!0,variant:"standard"})]}),Y.jsxs(nM,{children:[Y.jsx(es,{onClick:a,children:"Cancel"}),Y.jsx(es,{onClick:u,children:"Save"})]})]})]})}function VUe(){T.useEffect(()=>{o()},[]);const[t,e]=T.useState([]),i=!0,[r,n]=T.useState(null),[s]=T.useState([{cellRenderer:f=>Y.jsx(kUe,{saveTraining:c,training:f.data}),width:150},{cellRenderer:f=>Y.jsx(es,{size:"small",color:"error",onClick:()=>a(f.data._links.customer.href),children:Y.jsx(OB,{})}),width:100},{cellRenderer:f=>Y.jsx(uHe,{updateCustomer:u,customer:f.data}),width:100},{field:"firstname",filter:!0},{field:"lastname",filter:!0},{field:"streetaddress",filter:!0},{field:"postcode",filter:!0},{field:"city",filter:!0},{field:"email",filter:!0},{field:"phone",filter:!0}]),o=async()=>{try{const f=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/api/customers");if(!f.ok)throw new Error("Error in fetch: "+f.statusText);const g=await f.json();e(g._embedded.customers)}catch(f){console.error(f)}},a=async f=>{if(window.confirm("Are you sure"))try{const g=await fetch(f,{method:"DELETE"});if(!g.ok)throw new Error("Error in fetch: "+g.statusText);await o()}catch(g){console.error(g)}},l=async f=>{try{const g=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw new Error("Error in fetch: "+g.statusText);await o()}catch(g){console.error(g)}},u=async(f,g)=>{try{const m=await fetch(g,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!m.ok)throw new Error("Error in fetch: "+m.statusText);await o()}catch(m){console.error(m)}},c=async f=>{try{const g=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/api/trainings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!g.ok)throw new Error("Error in fetch: "+g.statusText)}catch(g){console.error(g)}},d=f=>{n(f.api)},h=()=>{const f={columnKeys:["firstname","lastname","streetaddress","postcode","city","email","phone"]};r.exportDataAsCsv(f)};return Y.jsxs("div",{className:"ag-theme-quartz",style:{height:"90vh"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[Y.jsx(sHe,{saveCustomer:l}),Y.jsxs(es,{variant:"contained",color:"success",onClick:h,children:[Y.jsx(yne,{})," Download as CSV"]})]}),Y.jsx(Cne,{onGridReady:d,rowData:t,columnDefs:s,pagination:i,modules:[MOe]})]})}function HUe(){T.useEffect(()=>{n()},[]);const[t,e]=T.useState([]),i=!0,[r]=T.useState([{cellRenderer:o=>Y.jsx(es,{size:"small",color:"error",onClick:()=>s("https://customerrestservice-personaltraining.rahtiapp.fi/api/trainings/"+o.data.id),children:Y.jsx(OB,{})}),width:100},{headerName:"Date",valueGetter:o=>or(o.data.date).format("DD.MM.YYYY HH:mm"),filter:!0},{field:"duration",filter:!0},{field:"activity",filter:!0},{headerName:"Customer's name",valueGetter:o=>o.data.customer.firstname+" "+o.data.customer.lastname,filter:!0}]),n=async()=>{try{const o=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/gettrainings");if(!o.ok)throw new Error("Error in fetch: "+o.statusText);const a=await o.json();e(a)}catch(o){console.error(o)}},s=async o=>{if(window.confirm("Are you sure"))try{const a=await fetch(o,{method:"DELETE"});if(!a.ok)throw new Error("Error in fetch: "+a.statusText);await n()}catch(a){console.error(a)}};return Y.jsx("div",{className:"ag-theme-quartz",style:{height:"90vh"},children:Y.jsx(Cne,{rowData:t,columnDefs:r,pagination:i})})}function rp(t,e,i){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function A4(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Fi(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(i),!0).forEach(function(r){rp(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A4(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Gu(t,e){if(t==null)return{};var i=Oe(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O4(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NQ(r.key),r)}}function Tn(t,e,i){return e&&O4(t.prototype,e),i&&O4(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function $x(t){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},$x(t)}function Qse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qse=function(){return!!t})()}function $Ue(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jV(t)}function _s(t,e,i){return e=$x(e),$Ue(t,Qse()?Reflect.construct(e,i||[],$x(t).constructor):e.apply(t,i))}function Ns(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OP(t,e)}function Zse(t){if(Array.isArray(t))return t}function BUe(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function rG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function rW(t,e){if(t){if(typeof t=="string")return rG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rG(t,e)}}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tc(t,e){return Zse(t)||BUe(t,e)||rW(t,e)||Jse()}var WUe=function(t,e,i,r,n,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[i,r,n,s,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},UUe=WUe;const Xw=Pt(UUe);var zUe=function(){};function jUe(t,e){var i={};return Object.keys(t).forEach(function(r){i[qD(r)]=zUe}),i}function M4(t,e){return t[e]!==void 0}function qD(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function KUe(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function eoe(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function toe(t){function e(i){var r=this.constructor.getDerivedStateFromProps(t,i);return r??null}this.setState(e.bind(this))}function ioe(t,e){try{var i=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,r)}finally{this.props=i,this.state=r}}eoe.__suppressDeprecationWarning=!0;toe.__suppressDeprecationWarning=!0;ioe.__suppressDeprecationWarning=!0;function YUe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var i=null,r=null,n=null;if(typeof e.componentWillMount=="function"?i="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?n="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(n="UNSAFE_componentWillUpdate"),i!==null||r!==null||n!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=eoe,e.componentWillReceiveProps=toe),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=ioe;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,h)}}return t}var qUe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function roe(t,e,i){i===void 0&&(i=[]);var r=t.displayName||t.name||"Component",n=KUe(t),s=Object.keys(e),o=s.map(qD);n||!i.length||Xw(!1);var a=function(u){V0(c,u);function c(){for(var h,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];h=u.call.apply(u,[this].concat(g))||this,h.handlers=Object.create(null),s.forEach(function(S){var y=e[S],w=function(b){if(h.props[y]){var D;h._notifying=!0;for(var P=arguments.length,O=new Array(P>1?P-1:0),N=1;N<P;N++)O[N-1]=arguments[N];(D=h.props)[y].apply(D,[b].concat(O)),h._notifying=!1}h.unmounted||h.setState(function(_){var I,k=_.values;return{values:G(Object.create(null),k,(I={},I[S]=b,I))}})};h.handlers[y]=w}),i.length&&(h.attachRef=function(S){h.inner=S});var C=Object.create(null);return s.forEach(function(S){C[S]=h.props[qD(S)]}),h.state={values:C,prevProps:{}},h}var d=c.prototype;return d.shouldComponentUpdate=function(){return!this._notifying},c.getDerivedStateFromProps=function(f,g){var m=g.values,C=g.prevProps,S={values:G(Object.create(null),m),prevProps:{}};return s.forEach(function(y){S.prevProps[y]=f[y],!M4(f,y)&&M4(C,y)&&(S.values[y]=f[qD(y)])}),S},d.componentWillUnmount=function(){this.unmounted=!0},d.render=function(){var f=this,g=this.props,m=g.innerRef,C=Oe(g,["innerRef"]);o.forEach(function(y){delete C[y]});var S={};return s.forEach(function(y){var w=f.props[y];S[y]=w!==void 0?w:f.state.values[y]}),$.createElement(t,G({},C,S,this.handlers,{ref:m||this.attachRef}))},c}($.Component);YUe(a),a.displayName="Uncontrolled("+r+")",a.propTypes=G({innerRef:function(){}},jUe(e)),i.forEach(function(u){a.prototype[u]=function(){var d;return(d=this.inner)[u].apply(d,arguments)}});var l=a;return $.forwardRef&&(l=$.forwardRef(function(u,c){return $.createElement(a,G({},u,{innerRef:c,__source:{fileName:qUe,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=t,l.deferControlTo=function(u,c,d){return c===void 0&&(c={}),roe(u,G({},e,c),d)},l}function noe(t){var e,i,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=noe(t[e]))&&(r&&(r+=" "),r+=i);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function an(){for(var t,e,i=0,r="";i<arguments.length;)(t=arguments[i++])&&(e=noe(t))&&(r&&(r+=" "),r+=e);return r}var Bx="milliseconds",Qw="seconds",Zw="minutes",Jw="hours",hf="day",vv="week",eE="month",pf="year",ff="decade",gf="century",soe={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},XUe={month:1,year:12,decade:10*12,century:100*12};function QUe(t){return[31,ZUe(t),31,30,31,30,31,31,30,31,30,31]}function ZUe(t){return t%4===0&&t%100!==0||t%400===0?29:28}function kl(t,e,i){switch(t=new Date(t),i){case Bx:case Qw:case Zw:case Jw:case hf:case vv:return JUe(t,e*soe[i]);case eE:case pf:case ff:case gf:return eze(t,e*XUe[i])}throw new TypeError('Invalid units: "'+i+'"')}function JUe(t,e){var i=new Date(+t+e);return tze(t,i)}function eze(t,e){var i=t.getFullYear(),r=t.getMonth(),n=t.getDate(),s=i*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(n,QUe(o)[a]),u=new Date(t);return u.setFullYear(o),u.setDate(1),u.setMonth(a),u.setDate(l),u}function tze(t,e){var i=t.getTimezoneOffset(),r=e.getTimezoneOffset(),n=r-i;return new Date(+e+n*soe.minutes)}function tE(t,e,i){return kl(t,-e,i)}function $n(t,e,i){switch(t=new Date(t),e){case gf:case ff:case pf:t=Ux(t,0);case eE:t=coe(t,1);case vv:case hf:t=nE(t,0);case Jw:t=Cv(t,0);case Zw:t=rE(t,0);case Qw:t=iE(t,0)}return e===ff&&(t=tE(t,mf(t)%10,"year")),e===gf&&(t=tE(t,mf(t)%100,"year")),e===vv&&(t=doe(t,0,i)),t}function Wx(t,e,i){switch(t=new Date(t),t=$n(t,e,i),e){case gf:case ff:case pf:case eE:case vv:t=kl(t,1,e),t=tE(t,1,hf),t.setHours(23,59,59,999);break;case hf:t.setHours(23,59,59,999);break;case Jw:case Zw:case Qw:t=kl(t,1,e),t=tE(t,1,Bx)}return t}var Zb=yC(function(t,e){return t===e}),nW=yC(function(t,e){return t!==e}),hM=yC(function(t,e){return t>e}),Jb=yC(function(t,e){return t>=e}),sW=yC(function(t,e){return t<e}),CC=yC(function(t,e){return t<=e});function ooe(){return new Date(Math.min.apply(Math,arguments))}function aoe(){return new Date(Math.max.apply(Math,arguments))}function loe(t,e,i,r){return r=r||"day",(!e||Jb(t,e,r))&&(!i||CC(t,i,r))}var iE=Rh("Milliseconds"),rE=Rh("Seconds"),Cv=Rh("Minutes"),nE=Rh("Hours"),uoe=Rh("Day"),coe=Rh("Date"),Ux=Rh("Month"),mf=Rh("FullYear");function ize(t,e){return e===void 0?mf($n(t,ff)):kl(t,e+10,pf)}function rze(t,e){return e===void 0?mf($n(t,gf)):kl(t,e+100,pf)}function doe(t,e,i){var r=(uoe(t)+7-(i||0))%7;return e===void 0?r:kl(t,e-r,hf)}function nze(t,e,i,r){var n,s,o;switch(i){case Bx:case Qw:case Zw:case Jw:case hf:case vv:n=e.getTime()-t.getTime();break;case eE:case pf:case ff:case gf:n=(mf(e)-mf(t))*12+Ux(e)-Ux(t);break;default:throw new TypeError('Invalid units: "'+i+'"')}switch(i){case Bx:s=1;break;case Qw:s=1e3;break;case Zw:s=1e3*60;break;case Jw:s=1e3*60*60;break;case hf:s=1e3*60*60*24;break;case vv:s=1e3*60*60*24*7;break;case eE:s=1;break;case pf:s=12;break;case ff:s=120;break;case gf:s=1200;break;default:throw new TypeError('Invalid units: "'+i+'"')}return o=n/s,r?o:Math.round(o)}function Rh(t){var e=function(i){switch(i){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(i,r){if(r===void 0)return i["get"+t]();var n=new Date(i);return n["set"+t](r),e&&n["get"+t]()!=r&&(t==="Hours"||r>=e&&n.getHours()-i.getHours()<Math.floor(r/e))&&n["set"+t](r+e),n}}function yC(t){return function(e,i,r){return t(+$n(e,r),+$n(i,r))}}const F4=Object.freeze(Object.defineProperty({__proto__:null,add:kl,century:rze,date:coe,day:uoe,decade:ize,diff:nze,endOf:Wx,eq:Zb,gt:hM,gte:Jb,hours:nE,inRange:loe,lt:sW,lte:CC,max:aoe,milliseconds:iE,min:ooe,minutes:Cv,month:Ux,neq:nW,seconds:rE,startOf:$n,subtract:tE,weekday:doe,year:mf},Symbol.toStringTag,{value:"Module"}));function sze(t){if(Array.isArray(t))return rG(t)}function hoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XD(t){return sze(t)||hoe(t)||rW(t)||oze()}function aze(t,e,i){var r=-1,n=t.length;e<0&&(e=-e>n?0:n+e),i=i>n?n:i,i<0&&(i+=n),n=e>i?0:i-e>>>0,e>>>=0;for(var s=Array(n);++r<n;)s[r]=t[r+e];return s}var oW=aze;function lze(t,e){return t===e||t!==t&&e!==e}var eR=lze,uze=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,poe=uze,cze=poe,dze=typeof self=="object"&&self&&self.Object===Object&&self,hze=cze||dze||Function("return this")(),Bl=hze,pze=Bl,fze=pze.Symbol,SC=fze,I4=SC,foe=Object.prototype,gze=foe.hasOwnProperty,mze=foe.toString,by=I4?I4.toStringTag:void 0;function vze(t){var e=gze.call(t,by),i=t[by];try{t[by]=void 0;var r=!0}catch{}var n=mze.call(t);return r&&(e?t[by]=i:delete t[by]),n}var Cze=vze,yze=Object.prototype,Sze=yze.toString;function wze(t){return Sze.call(t)}var Eze=wze,L4=SC,bze=Cze,Rze=Eze,Tze="[object Null]",Dze="[object Undefined]",_4=L4?L4.toStringTag:void 0;function Pze(t){return t==null?t===void 0?Dze:Tze:_4&&_4 in Object(t)?bze(t):Rze(t)}var Jc=Pze;function xze(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Za=xze;const wC=Pt(Za);var Aze=Jc,Oze=Za,Mze="[object AsyncFunction]",Fze="[object Function]",Ize="[object GeneratorFunction]",Lze="[object Proxy]";function _ze(t){if(!Oze(t))return!1;var e=Aze(t);return e==Fze||e==Ize||e==Mze||e==Lze}var pM=_ze;const zt=Pt(pM);var Nze=9007199254740991;function Gze(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Nze}var aW=Gze,kze=pM,Vze=aW;function Hze(t){return t!=null&&Vze(t.length)&&!kze(t)}var EC=Hze,$ze=9007199254740991,Bze=/^(?:0|[1-9]\d*)$/;function Wze(t,e){var i=typeof t;return e=e??$ze,!!e&&(i=="number"||i!="symbol"&&Bze.test(t))&&t>-1&&t%1==0&&t<e}var lW=Wze,Uze=eR,zze=EC,jze=lW,Kze=Za;function Yze(t,e,i){if(!Kze(i))return!1;var r=typeof e;return(r=="number"?zze(i)&&jze(e,i.length):r=="string"&&e in i)?Uze(i[e],t):!1}var bC=Yze,qze=/\s/;function Xze(t){for(var e=t.length;e--&&qze.test(t.charAt(e)););return e}var Qze=Xze,Zze=Qze,Jze=/^\s+/;function eje(t){return t&&t.slice(0,Zze(t)+1).replace(Jze,"")}var tje=eje;function ije(t){return t!=null&&typeof t=="object"}var Wl=ije,rje=Jc,nje=Wl,sje="[object Symbol]";function oje(t){return typeof t=="symbol"||nje(t)&&rje(t)==sje}var RC=oje,aje=tje,N4=Za,lje=RC,G4=NaN,uje=/^[-+]0x[0-9a-f]+$/i,cje=/^0b[01]+$/i,dje=/^0o[0-7]+$/i,hje=parseInt;function pje(t){if(typeof t=="number")return t;if(lje(t))return G4;if(N4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=N4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=aje(t);var i=cje.test(t);return i||dje.test(t)?hje(t.slice(2),i?2:8):uje.test(t)?G4:+t}var goe=pje,fje=goe,k4=1/0,gje=17976931348623157e292;function mje(t){if(!t)return t===0?t:0;if(t=fje(t),t===k4||t===-k4){var e=t<0?-1:1;return e*gje}return t===t?t:0}var moe=mje,vje=moe;function Cje(t){var e=vje(t),i=e%1;return e===e?i?e-i:e:0}var voe=Cje,yje=oW,Sje=bC,wje=voe,Eje=Math.ceil,bje=Math.max;function Rje(t,e,i){(i?Sje(t,e,i):e===void 0)?e=1:e=bje(wje(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var n=0,s=0,o=Array(Eje(r/e));n<r;)o[s++]=yje(t,n,n+=e);return o}var Tje=Rje;const Dje=Pt(Tje);function tR(t){return t&&t.ownerDocument||document}function Pje(t){var e=tR(t);return e&&e.defaultView||window}function xje(t,e){return Pje(t).getComputedStyle(t,e)}var Aje=/([A-Z])/g;function Oje(t){return t.replace(Aje,"-$1").toLowerCase()}var Mje=/^ms-/;function $T(t){return Oje(t).replace(Mje,"-ms-")}var Fje=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ije(t){return!!(t&&Fje.test(t))}function Wg(t,e){var i="",r="";if(typeof e=="string")return t.style.getPropertyValue($T(e))||xje(t).getPropertyValue($T(e));Object.keys(e).forEach(function(n){var s=e[n];!s&&s!==0?t.style.removeProperty($T(n)):Ije(n)?r+=n+"("+s+") ":i+=$T(n)+": "+s+";"}),r&&(i+="transform: "+r+";"),t.style.cssText+=";"+i}function sE(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function Lje(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function uW(t){return"window"in t&&t.window===t?t:Lje(t)&&t.defaultView||!1}function Coe(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function i(r,n){var s=uW(r);if(n===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],n):r[e]=n}return i}const yoe=Coe("pageXOffset"),Soe=Coe("pageYOffset");function _p(t){var e=tR(t),i={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!sE(r,t)||(t.getBoundingClientRect!==void 0&&(i=t.getBoundingClientRect()),i={top:i.top+Soe(r)-(r.clientTop||0),left:i.left+yoe(r)-(r.clientLeft||0),width:i.width,height:i.height}),i}var _je=function(e){return!!e&&"offsetParent"in e};function Nje(t){for(var e=tR(t),i=t&&t.offsetParent;_je(i)&&i.nodeName!=="HTML"&&Wg(i,"position")==="static";)i=i.offsetParent;return i||e.documentElement}var Gje=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function woe(t,e){var i={top:0,left:0},r;if(Wg(t,"position")==="fixed")r=t.getBoundingClientRect();else{var n=e||Nje(t);r=_p(t),Gje(n)!=="html"&&(i=_p(n));var s=String(Wg(n,"borderTopWidth")||0);i.top+=parseInt(s,10)-Soe(n)||0;var o=String(Wg(n,"borderLeftWidth")||0);i.left+=parseInt(o,10)-yoe(n)||0}var a=String(Wg(t,"marginTop")||0),l=String(Wg(t,"marginLeft")||0);return G({},r,{top:r.top-i.top-(parseInt(a,10)||0),left:r.left-i.left-(parseInt(l,10)||0)})}const cW=!!(typeof window<"u"&&window.document&&window.document.createElement);var V4=new Date().getTime();function kje(t){var e=new Date().getTime(),i=Math.max(0,16-(e-V4)),r=setTimeout(t,i);return V4=e,r}var Vje=["","webkit","moz","o","ms"],nG="clearTimeout",sG=kje,H4=function(e,i){return e+(e?i[0].toUpperCase()+i.substr(1):i)+"AnimationFrame"};cW&&Vje.some(function(t){var e=H4(t,"request");return e in window&&(nG=H4(t,"cancel"),sG=function(r){return window[e](r)}),!!sG});var $4=function(e){typeof window[nG]=="function"&&window[nG](e)},Eoe=sG,ZL;function Hje(t,e){if(!ZL){var i=document.body,r=i.matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector;ZL=function(s,o){return r.call(s,o)}}return ZL(t,e)}var $je=Function.prototype.bind.call(Function.prototype.call,[].slice);function Bje(t,e){return $je(t.querySelectorAll(e))}var oG=!1,aG=!1;try{var JL={get passive(){return oG=!0},get once(){return aG=oG=!0}};cW&&(window.addEventListener("test",JL,JL),window.removeEventListener("test",JL,!0))}catch{}function Wje(t,e,i,r){if(r&&typeof r!="boolean"&&!aG){var n=r.once,s=r.capture,o=i;!aG&&n&&(o=i.__once||function a(l){this.removeEventListener(e,a,s),i.call(this,l)},i.__once=o),t.addEventListener(e,o,oG?r:s)}t.addEventListener(e,i,r)}function Uje(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t},[t]),e}function B4(t){const e=Uje(t);return T.useCallback(function(...i){return e.current&&e.current(...i)},[e])}function W4(){return T.useState(null)}function zje(){const t=T.useRef(!0),e=T.useRef(()=>t.current);return T.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function jje(t){const e=zje();return[t[0],T.useCallback(i=>{if(e())return t[1](i)},[e,t[1]])]}var Kje=kne({defaultModifiers:[Lne,Nne,Ane,One,_ne,Ine,Gne,xne]}),U4=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Yje={name:"applyStyles",enabled:!1},qje={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var i=e.state;return function(){var r=i.elements,n=r.reference,s=r.popper;if("removeAttribute"in n){var o=(n.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?n.setAttribute("aria-describedby",o.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var i,r=e.state,n=r.elements,s=n.popper,o=n.reference,a=(i=s.getAttribute("role"))==null?void 0:i.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},Xje=[];function Qje(t,e,i){var r=i===void 0?{}:i,n=r.enabled,s=n===void 0?!0:n,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,u=l===void 0?"absolute":l,c=r.modifiers,d=c===void 0?Xje:c,h=Oe(r,["enabled","placement","strategy","modifiers"]),f=T.useRef(),g=T.useCallback(function(){var E;(E=f.current)==null||E.update()},[]),m=T.useCallback(function(){var E;(E=f.current)==null||E.forceUpdate()},[]),C=jje(T.useState({placement:a,update:g,forceUpdate:m,attributes:{},styles:{popper:U4(u),arrow:{}}})),S=C[0],y=C[1],w=T.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(b){var D=b.state,P={},O={};Object.keys(D.elements).forEach(function(N){P[N]=D.styles[N],O[N]=D.attributes[N]}),y({state:D,styles:P,attributes:O,update:g,forceUpdate:m,placement:D.placement})}}},[g,m,y]);return T.useEffect(function(){!f.current||!s||f.current.setOptions({placement:a,strategy:u,modifiers:[].concat(d,[w,Yje])})},[u,a,w,s]),T.useEffect(function(){if(!(!s||t==null||e==null))return f.current=Kje(t,e,G({},h,{placement:a,strategy:u,modifiers:[].concat(d,[qje,w])})),function(){f.current!=null&&(f.current.destroy(),f.current=void 0,y(function(E){return G({},E,{attributes:{},styles:{popper:U4(u)}})}))}},[s,t,e]),S}function Zje(t,e,i,r){var n=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,i,n),i.__once&&t.removeEventListener(e,i.__once,n)}function iS(t,e,i,r){return Wje(t,e,i,r),function(){Zje(t,e,i,r)}}var Jje=function(){},e3e=Jje;const t3e=Pt(e3e);function i3e(t){return t&&"setState"in t?nc.findDOMNode(t):t??null}const r3e=function(t){return tR(i3e(t))};var n3e=27,z4=function(){};function s3e(t){return t.button===0}function o3e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var j4=function(e){return e&&("current"in e?e.current:e)};function a3e(t,e,i){var r=i===void 0?{}:i,n=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=T.useRef(!1),l=e||z4,u=T.useCallback(function(h){var f,g=j4(t);t3e(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!g||o3e(h)||!s3e(h)||!!sE(g,(f=h.composedPath==null?void 0:h.composedPath()[0])!=null?f:h.target)},[t]),c=B4(function(h){a.current||l(h)}),d=B4(function(h){h.keyCode===n3e&&l(h)});T.useEffect(function(){if(!(n||t==null)){var h=window.event,f=r3e(j4(t)),g=iS(f,o,u,!0),m=iS(f,o,function(y){if(y===h){h=void 0;return}c(y)}),C=iS(f,"keyup",function(y){if(y===h){h=void 0;return}d(y)}),S=[];return"ontouchstart"in f.documentElement&&(S=[].slice.call(f.body.children).map(function(y){return iS(y,"mousemove",z4)})),function(){g(),m(),C(),S.forEach(function(y){return y()})}}},[t,n,o,u,c,d])}function l3e(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(i){e[i.name]=i}),e):t||e}function u3e(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function c3e(t){var e,i,r,n,s=t.enabled,o=t.enableEvents,a=t.placement,l=t.flip,u=t.offset,c=t.fixed,d=t.containerPadding,h=t.arrowElement,f=t.popperConfig,g=f===void 0?{}:f,m=l3e(g.modifiers);return G({},g,{placement:a,enabled:s,strategy:c?"fixed":g.strategy,modifiers:u3e(G({},m,{eventListeners:{enabled:o},preventOverflow:G({},m.preventOverflow,{options:d?G({padding:d},(e=m.preventOverflow)==null?void 0:e.options):(i=m.preventOverflow)==null?void 0:i.options}),offset:{options:G({offset:u},(r=m.offset)==null?void 0:r.options)},arrow:G({},m.arrow,{enabled:!!h,options:G({},(n=m.arrow)==null?void 0:n.options,{element:h})}),flip:G({enabled:!!l},m.flip)}))})}var BT;function boe(t){if((!BT&&BT!==0||t)&&cW){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),BT=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return BT}var e_=function(e){var i;return typeof document>"u"?null:e==null?tR().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(i=e)!=null&&i.nodeType&&e||null)};function K4(t,e){var i=T.useState(function(){return e_(t)}),r=i[0],n=i[1];if(!r){var s=e_(t);s&&n(s)}return T.useEffect(function(){e&&r&&e(r)},[e,r]),T.useEffect(function(){var o=e_(t);o!==r&&n(o)},[t,r]),r}const Y4=t=>!t||typeof t=="function"?t:e=>{t.current=e};function d3e(t,e){const i=Y4(t),r=Y4(e);return n=>{i&&i(n),r&&r(n)}}function h3e(t,e){return T.useMemo(()=>d3e(t,e),[t,e])}var dW=$.forwardRef(function(t,e){var i=t.flip,r=t.offset,n=t.placement,s=t.containerPadding,o=s===void 0?5:s,a=t.popperConfig,l=a===void 0?{}:a,u=t.transition,c=W4(),d=c[0],h=c[1],f=W4(),g=f[0],m=f[1],C=h3e(h,e),S=K4(t.container),y=K4(t.target),w=T.useState(!t.show),E=w[0],b=w[1],D=Qje(y,d,c3e({placement:n,enableEvents:!!t.show,containerPadding:o||5,flip:i,offset:r,arrowElement:g,popperConfig:l})),P=D.styles,O=D.attributes,N=Oe(D,["styles","attributes"]);t.show?E&&b(!1):!t.transition&&!E&&b(!0);var _=function(){b(!0),t.onExited&&t.onExited.apply(t,arguments)},I=t.show||u&&!E;if(a3e(d,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!I)return null;var k=t.children(G({},N,{show:!!t.show,props:G({},O.popper,{style:P.popper,ref:C}),arrowProps:G({},O.arrow,{style:P.arrow,ref:m})}));if(u){var B=t.onExit,U=t.onExiting,K=t.onEnter,j=t.onEntering,Q=t.onEntered;k=$.createElement(u,{in:t.show,appear:!0,onExit:B,onExiting:U,onExited:_,onEnter:K,onEntering:j,onEntered:Q},k)}return S?nc.createPortal(k,S):null});dW.displayName="Overlay";dW.propTypes={show:ee.bool,placement:ee.oneOf(IB),target:ee.any,container:ee.any,flip:ee.bool,children:ee.func.isRequired,containerPadding:ee.number,popperConfig:ee.object,rootClose:ee.bool,rootCloseEvent:ee.oneOf(["click","mousedown"]),rootCloseDisabled:ee.bool,onHide:function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if(e.rootClose){var s;return(s=ee.func).isRequired.apply(s,[e].concat(r))}return ee.func.apply(ee,[e].concat(r))},transition:ee.elementType,onEnter:ee.func,onEntering:ee.func,onEntered:ee.func,onExit:ee.func,onExiting:ee.func,onExited:ee.func};const p3e=dW;function f3e(){this.__data__=[],this.size=0}var g3e=f3e,m3e=eR;function v3e(t,e){for(var i=t.length;i--;)if(m3e(t[i][0],e))return i;return-1}var fM=v3e,C3e=fM,y3e=Array.prototype,S3e=y3e.splice;function w3e(t){var e=this.__data__,i=C3e(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():S3e.call(e,i,1),--this.size,!0}var E3e=w3e,b3e=fM;function R3e(t){var e=this.__data__,i=b3e(e,t);return i<0?void 0:e[i][1]}var T3e=R3e,D3e=fM;function P3e(t){return D3e(this.__data__,t)>-1}var x3e=P3e,A3e=fM;function O3e(t,e){var i=this.__data__,r=A3e(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}var M3e=O3e,F3e=g3e,I3e=E3e,L3e=T3e,_3e=x3e,N3e=M3e;function TC(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}TC.prototype.clear=F3e;TC.prototype.delete=I3e;TC.prototype.get=L3e;TC.prototype.has=_3e;TC.prototype.set=N3e;var gM=TC,G3e=gM;function k3e(){this.__data__=new G3e,this.size=0}var V3e=k3e;function H3e(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var $3e=H3e;function B3e(t){return this.__data__.get(t)}var W3e=B3e;function U3e(t){return this.__data__.has(t)}var z3e=U3e,j3e=Bl,K3e=j3e["__core-js_shared__"],Y3e=K3e,t_=Y3e,q4=function(){var t=/[^.]+$/.exec(t_&&t_.keys&&t_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function q3e(t){return!!q4&&q4 in t}var X3e=q3e,Q3e=Function.prototype,Z3e=Q3e.toString;function J3e(t){if(t!=null){try{return Z3e.call(t)}catch{}try{return t+""}catch{}}return""}var Roe=J3e,eKe=pM,tKe=X3e,iKe=Za,rKe=Roe,nKe=/[\\^$.*+?()[\]{}|]/g,sKe=/^\[object .+?Constructor\]$/,oKe=Function.prototype,aKe=Object.prototype,lKe=oKe.toString,uKe=aKe.hasOwnProperty,cKe=RegExp("^"+lKe.call(uKe).replace(nKe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dKe(t){if(!iKe(t)||tKe(t))return!1;var e=eKe(t)?cKe:sKe;return e.test(rKe(t))}var hKe=dKe;function pKe(t,e){return t==null?void 0:t[e]}var fKe=pKe,gKe=hKe,mKe=fKe;function vKe(t,e){var i=mKe(t,e);return gKe(i)?i:void 0}var tg=vKe,CKe=tg,yKe=Bl,SKe=CKe(yKe,"Map"),hW=SKe,wKe=tg,EKe=wKe(Object,"create"),mM=EKe,X4=mM;function bKe(){this.__data__=X4?X4(null):{},this.size=0}var RKe=bKe;function TKe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var DKe=TKe,PKe=mM,xKe="__lodash_hash_undefined__",AKe=Object.prototype,OKe=AKe.hasOwnProperty;function MKe(t){var e=this.__data__;if(PKe){var i=e[t];return i===xKe?void 0:i}return OKe.call(e,t)?e[t]:void 0}var FKe=MKe,IKe=mM,LKe=Object.prototype,_Ke=LKe.hasOwnProperty;function NKe(t){var e=this.__data__;return IKe?e[t]!==void 0:_Ke.call(e,t)}var GKe=NKe,kKe=mM,VKe="__lodash_hash_undefined__";function HKe(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=kKe&&e===void 0?VKe:e,this}var $Ke=HKe,BKe=RKe,WKe=DKe,UKe=FKe,zKe=GKe,jKe=$Ke;function DC(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}DC.prototype.clear=BKe;DC.prototype.delete=WKe;DC.prototype.get=UKe;DC.prototype.has=zKe;DC.prototype.set=jKe;var KKe=DC,Q4=KKe,YKe=gM,qKe=hW;function XKe(){this.size=0,this.__data__={hash:new Q4,map:new(qKe||YKe),string:new Q4}}var QKe=XKe;function ZKe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var JKe=ZKe,e5e=JKe;function t5e(t,e){var i=t.__data__;return e5e(e)?i[typeof e=="string"?"string":"hash"]:i.map}var vM=t5e,i5e=vM;function r5e(t){var e=i5e(this,t).delete(t);return this.size-=e?1:0,e}var n5e=r5e,s5e=vM;function o5e(t){return s5e(this,t).get(t)}var a5e=o5e,l5e=vM;function u5e(t){return l5e(this,t).has(t)}var c5e=u5e,d5e=vM;function h5e(t,e){var i=d5e(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}var p5e=h5e,f5e=QKe,g5e=n5e,m5e=a5e,v5e=c5e,C5e=p5e;function PC(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}PC.prototype.clear=f5e;PC.prototype.delete=g5e;PC.prototype.get=m5e;PC.prototype.has=v5e;PC.prototype.set=C5e;var pW=PC,y5e=gM,S5e=hW,w5e=pW,E5e=200;function b5e(t,e){var i=this.__data__;if(i instanceof y5e){var r=i.__data__;if(!S5e||r.length<E5e-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new w5e(r)}return i.set(t,e),this.size=i.size,this}var R5e=b5e,T5e=gM,D5e=V3e,P5e=$3e,x5e=W3e,A5e=z3e,O5e=R5e;function xC(t){var e=this.__data__=new T5e(t);this.size=e.size}xC.prototype.clear=D5e;xC.prototype.delete=P5e;xC.prototype.get=x5e;xC.prototype.has=A5e;xC.prototype.set=O5e;var fW=xC,M5e="__lodash_hash_undefined__";function F5e(t){return this.__data__.set(t,M5e),this}var I5e=F5e;function L5e(t){return this.__data__.has(t)}var _5e=L5e,N5e=pW,G5e=I5e,k5e=_5e;function zx(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new N5e;++e<i;)this.add(t[e])}zx.prototype.add=zx.prototype.push=G5e;zx.prototype.has=k5e;var Toe=zx;function V5e(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}var Doe=V5e;function H5e(t,e){return t.has(e)}var Poe=H5e,$5e=Toe,B5e=Doe,W5e=Poe,U5e=1,z5e=2;function j5e(t,e,i,r,n,s){var o=i&U5e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,f=i&z5e?new $5e:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var g=t[d],m=e[d];if(r)var C=o?r(m,g,d,e,t,s):r(g,m,d,t,e,s);if(C!==void 0){if(C)continue;h=!1;break}if(f){if(!B5e(e,function(S,y){if(!W5e(f,y)&&(g===S||n(g,S,i,r,s)))return f.push(y)})){h=!1;break}}else if(!(g===m||n(g,m,i,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var xoe=j5e,K5e=Bl,Y5e=K5e.Uint8Array,Aoe=Y5e;function q5e(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}var X5e=q5e;function Q5e(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}var gW=Q5e,Z4=SC,J4=Aoe,Z5e=eR,J5e=xoe,e4e=X5e,t4e=gW,i4e=1,r4e=2,n4e="[object Boolean]",s4e="[object Date]",o4e="[object Error]",a4e="[object Map]",l4e="[object Number]",u4e="[object RegExp]",c4e="[object Set]",d4e="[object String]",h4e="[object Symbol]",p4e="[object ArrayBuffer]",f4e="[object DataView]",eY=Z4?Z4.prototype:void 0,i_=eY?eY.valueOf:void 0;function g4e(t,e,i,r,n,s,o){switch(i){case f4e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case p4e:return!(t.byteLength!=e.byteLength||!s(new J4(t),new J4(e)));case n4e:case s4e:case l4e:return Z5e(+t,+e);case o4e:return t.name==e.name&&t.message==e.message;case u4e:case d4e:return t==e+"";case a4e:var a=e4e;case c4e:var l=r&i4e;if(a||(a=t4e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=r4e,o.set(t,e);var c=J5e(a(t),a(e),r,n,s,o);return o.delete(t),c;case h4e:if(i_)return i_.call(t)==i_.call(e)}return!1}var m4e=g4e;function v4e(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var mW=v4e,C4e=Array.isArray,us=C4e,y4e=mW,S4e=us;function w4e(t,e,i){var r=e(t);return S4e(t)?r:y4e(r,i(t))}var Ooe=w4e;function E4e(t,e){for(var i=-1,r=t==null?0:t.length,n=0,s=[];++i<r;){var o=t[i];e(o,i,t)&&(s[n++]=o)}return s}var b4e=E4e;function R4e(){return[]}var Moe=R4e,T4e=b4e,D4e=Moe,P4e=Object.prototype,x4e=P4e.propertyIsEnumerable,tY=Object.getOwnPropertySymbols,A4e=tY?function(t){return t==null?[]:(t=Object(t),T4e(tY(t),function(e){return x4e.call(t,e)}))}:D4e,vW=A4e;function O4e(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var M4e=O4e,F4e=Jc,I4e=Wl,L4e="[object Arguments]";function _4e(t){return I4e(t)&&F4e(t)==L4e}var N4e=_4e,iY=N4e,G4e=Wl,Foe=Object.prototype,k4e=Foe.hasOwnProperty,V4e=Foe.propertyIsEnumerable,H4e=iY(function(){return arguments}())?iY:function(t){return G4e(t)&&k4e.call(t,"callee")&&!V4e.call(t,"callee")},CW=H4e,jx={exports:{}};function $4e(){return!1}var B4e=$4e;jx.exports;(function(t,e){var i=Bl,r=B4e,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,a=o?i.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(jx,jx.exports);var CM=jx.exports,W4e=Jc,U4e=aW,z4e=Wl,j4e="[object Arguments]",K4e="[object Array]",Y4e="[object Boolean]",q4e="[object Date]",X4e="[object Error]",Q4e="[object Function]",Z4e="[object Map]",J4e="[object Number]",eYe="[object Object]",tYe="[object RegExp]",iYe="[object Set]",rYe="[object String]",nYe="[object WeakMap]",sYe="[object ArrayBuffer]",oYe="[object DataView]",aYe="[object Float32Array]",lYe="[object Float64Array]",uYe="[object Int8Array]",cYe="[object Int16Array]",dYe="[object Int32Array]",hYe="[object Uint8Array]",pYe="[object Uint8ClampedArray]",fYe="[object Uint16Array]",gYe="[object Uint32Array]",Qi={};Qi[aYe]=Qi[lYe]=Qi[uYe]=Qi[cYe]=Qi[dYe]=Qi[hYe]=Qi[pYe]=Qi[fYe]=Qi[gYe]=!0;Qi[j4e]=Qi[K4e]=Qi[sYe]=Qi[Y4e]=Qi[oYe]=Qi[q4e]=Qi[X4e]=Qi[Q4e]=Qi[Z4e]=Qi[J4e]=Qi[eYe]=Qi[tYe]=Qi[iYe]=Qi[rYe]=Qi[nYe]=!1;function mYe(t){return z4e(t)&&U4e(t.length)&&!!Qi[W4e(t)]}var vYe=mYe;function CYe(t){return function(e){return t(e)}}var yM=CYe,Kx={exports:{}};Kx.exports;(function(t,e){var i=poe,r=e&&!e.nodeType&&e,n=r&&!0&&t&&!t.nodeType&&t,s=n&&n.exports===r,o=s&&i.process,a=function(){try{var l=n&&n.require&&n.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Kx,Kx.exports);var yW=Kx.exports,yYe=vYe,SYe=yM,rY=yW,nY=rY&&rY.isTypedArray,wYe=nY?SYe(nY):yYe,SW=wYe,EYe=M4e,bYe=CW,RYe=us,TYe=CM,DYe=lW,PYe=SW,xYe=Object.prototype,AYe=xYe.hasOwnProperty;function OYe(t,e){var i=RYe(t),r=!i&&bYe(t),n=!i&&!r&&TYe(t),s=!i&&!r&&!n&&PYe(t),o=i||r||n||s,a=o?EYe(t.length,String):[],l=a.length;for(var u in t)(e||AYe.call(t,u))&&!(o&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||DYe(u,l)))&&a.push(u);return a}var Ioe=OYe,MYe=Object.prototype;function FYe(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||MYe;return t===i}var wW=FYe;function IYe(t,e){return function(i){return t(e(i))}}var Loe=IYe,LYe=Loe,_Ye=LYe(Object.keys,Object),NYe=_Ye,GYe=wW,kYe=NYe,VYe=Object.prototype,HYe=VYe.hasOwnProperty;function $Ye(t){if(!GYe(t))return kYe(t);var e=[];for(var i in Object(t))HYe.call(t,i)&&i!="constructor"&&e.push(i);return e}var BYe=$Ye,WYe=Ioe,UYe=BYe,zYe=EC;function jYe(t){return zYe(t)?WYe(t):UYe(t)}var AC=jYe,KYe=Ooe,YYe=vW,qYe=AC;function XYe(t){return KYe(t,qYe,YYe)}var _oe=XYe,sY=_oe,QYe=1,ZYe=Object.prototype,JYe=ZYe.hasOwnProperty;function e6e(t,e,i,r,n,s){var o=i&QYe,a=sY(t),l=a.length,u=sY(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:JYe.call(e,h)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);for(var C=o;++d<l;){h=a[d];var S=t[h],y=e[h];if(r)var w=o?r(y,S,h,e,t,s):r(S,y,h,t,e,s);if(!(w===void 0?S===y||n(S,y,i,r,s):w)){m=!1;break}C||(C=h=="constructor")}if(m&&!C){var E=t.constructor,b=e.constructor;E!=b&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}var t6e=e6e,i6e=tg,r6e=Bl,n6e=i6e(r6e,"DataView"),s6e=n6e,o6e=tg,a6e=Bl,l6e=o6e(a6e,"Promise"),u6e=l6e,c6e=tg,d6e=Bl,h6e=c6e(d6e,"Set"),Noe=h6e,p6e=tg,f6e=Bl,g6e=p6e(f6e,"WeakMap"),m6e=g6e,lG=s6e,uG=hW,cG=u6e,dG=Noe,hG=m6e,Goe=Jc,OC=Roe,oY="[object Map]",v6e="[object Object]",aY="[object Promise]",lY="[object Set]",uY="[object WeakMap]",cY="[object DataView]",C6e=OC(lG),y6e=OC(uG),S6e=OC(cG),w6e=OC(dG),E6e=OC(hG),Xh=Goe;(lG&&Xh(new lG(new ArrayBuffer(1)))!=cY||uG&&Xh(new uG)!=oY||cG&&Xh(cG.resolve())!=aY||dG&&Xh(new dG)!=lY||hG&&Xh(new hG)!=uY)&&(Xh=function(t){var e=Goe(t),i=e==v6e?t.constructor:void 0,r=i?OC(i):"";if(r)switch(r){case C6e:return cY;case y6e:return oY;case S6e:return aY;case w6e:return lY;case E6e:return uY}return e});var SM=Xh,r_=fW,b6e=xoe,R6e=m4e,T6e=t6e,dY=SM,hY=us,pY=CM,D6e=SW,P6e=1,fY="[object Arguments]",gY="[object Array]",WT="[object Object]",x6e=Object.prototype,mY=x6e.hasOwnProperty;function A6e(t,e,i,r,n,s){var o=hY(t),a=hY(e),l=o?gY:dY(t),u=a?gY:dY(e);l=l==fY?WT:l,u=u==fY?WT:u;var c=l==WT,d=u==WT,h=l==u;if(h&&pY(t)){if(!pY(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new r_),o||D6e(t)?b6e(t,e,i,r,n,s):R6e(t,e,l,i,r,n,s);if(!(i&P6e)){var f=c&&mY.call(t,"__wrapped__"),g=d&&mY.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,C=g?e.value():e;return s||(s=new r_),n(m,C,i,r,s)}}return h?(s||(s=new r_),T6e(t,e,i,r,n,s)):!1}var O6e=A6e,M6e=O6e,vY=Wl;function koe(t,e,i,r,n){return t===e?!0:t==null||e==null||!vY(t)&&!vY(e)?t!==t&&e!==e:M6e(t,e,i,r,koe,n)}var EW=koe,F6e=EW;function I6e(t,e){return F6e(t,e)}var L6e=I6e;const wM=Pt(L6e);function n_(t,e){var i=uW(t);return i?i.innerHeight:e?t.clientHeight:_p(t).height}function Voe(t,e,i){t.closest&&!i&&t.closest(e);var r=t;do{if(Hje(r,e))return r;r=r.parentElement}while(r&&r!==i&&r.nodeType===document.ELEMENT_NODE);return null}function _6e(t,e,i,r){for(var n=t.length,s=i+(r?1:-1);r?s--:++s<n;)if(e(t[s],s,t))return s;return-1}var Hoe=_6e,N6e=fW,G6e=EW,k6e=1,V6e=2;function H6e(t,e,i,r){var n=i.length,s=n,o=!r;if(t==null)return!s;for(t=Object(t);n--;){var a=i[n];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<s;){a=i[n];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new N6e;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?G6e(c,u,k6e|V6e,r,d):h))return!1}}return!0}var $6e=H6e,B6e=Za;function W6e(t){return t===t&&!B6e(t)}var $oe=W6e,U6e=$oe,z6e=AC;function j6e(t){for(var e=z6e(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,U6e(n)]}return e}var K6e=j6e;function Y6e(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}var Boe=Y6e,q6e=$6e,X6e=K6e,Q6e=Boe;function Z6e(t){var e=X6e(t);return e.length==1&&e[0][2]?Q6e(e[0][0],e[0][1]):function(i){return i===t||q6e(i,t,e)}}var J6e=Z6e,eqe=us,tqe=RC,iqe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rqe=/^\w*$/;function nqe(t,e){if(eqe(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||tqe(t)?!0:rqe.test(t)||!iqe.test(t)||e!=null&&t in Object(e)}var bW=nqe,Woe=pW,sqe="Expected a function";function RW(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sqe);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],s=i.cache;if(s.has(n))return s.get(n);var o=t.apply(this,r);return i.cache=s.set(n,o)||s,o};return i.cache=new(RW.Cache||Woe),i}RW.Cache=Woe;var Uoe=RW;const oqe=Pt(Uoe);var aqe=Uoe,lqe=500;function uqe(t){var e=aqe(t,function(r){return i.size===lqe&&i.clear(),r}),i=e.cache;return e}var cqe=uqe,dqe=cqe,hqe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pqe=/\\(\\)?/g,fqe=dqe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(hqe,function(i,r,n,s){e.push(n?s.replace(pqe,"$1"):r||i)}),e}),gqe=fqe;function mqe(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var EM=mqe,CY=SC,vqe=EM,Cqe=us,yqe=RC,Sqe=1/0,yY=CY?CY.prototype:void 0,SY=yY?yY.toString:void 0;function zoe(t){if(typeof t=="string")return t;if(Cqe(t))return vqe(t,zoe)+"";if(yqe(t))return SY?SY.call(t):"";var e=t+"";return e=="0"&&1/t==-Sqe?"-0":e}var wqe=zoe,Eqe=wqe;function bqe(t){return t==null?"":Eqe(t)}var joe=bqe,Rqe=us,Tqe=bW,Dqe=gqe,Pqe=joe;function xqe(t,e){return Rqe(t)?t:Tqe(t,e)?[t]:Dqe(Pqe(t))}var bM=xqe,Aqe=RC,Oqe=1/0;function Mqe(t){if(typeof t=="string"||Aqe(t))return t;var e=t+"";return e=="0"&&1/t==-Oqe?"-0":e}var iR=Mqe,Fqe=bM,Iqe=iR;function Lqe(t,e){e=Fqe(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[Iqe(e[i++])];return i&&i==r?t:void 0}var RM=Lqe,_qe=RM;function Nqe(t,e,i){var r=t==null?void 0:_qe(t,e);return r===void 0?i:r}var Koe=Nqe;const Ia=Pt(Koe);function Gqe(t,e){return t!=null&&e in Object(t)}var kqe=Gqe,Vqe=bM,Hqe=CW,$qe=us,Bqe=lW,Wqe=aW,Uqe=iR;function zqe(t,e,i){e=Vqe(e,t);for(var r=-1,n=e.length,s=!1;++r<n;){var o=Uqe(e[r]);if(!(s=t!=null&&i(t,o)))break;t=t[o]}return s||++r!=n?s:(n=t==null?0:t.length,!!n&&Wqe(n)&&Bqe(o,n)&&($qe(t)||Hqe(t)))}var jqe=zqe,Kqe=kqe,Yqe=jqe;function qqe(t,e){return t!=null&&Yqe(t,e,Kqe)}var Xqe=qqe,Qqe=EW,Zqe=Koe,Jqe=Xqe,e8e=bW,t8e=$oe,i8e=Boe,r8e=iR,n8e=1,s8e=2;function o8e(t,e){return e8e(t)&&t8e(e)?i8e(r8e(t),e):function(i){var r=Zqe(i,t);return r===void 0&&r===e?Jqe(i,t):Qqe(e,r,n8e|s8e)}}var a8e=o8e;function l8e(t){return t}var MC=l8e;function u8e(t){return function(e){return e==null?void 0:e[t]}}var c8e=u8e,d8e=RM;function h8e(t){return function(e){return d8e(e,t)}}var p8e=h8e,f8e=c8e,g8e=p8e,m8e=bW,v8e=iR;function C8e(t){return m8e(t)?f8e(v8e(t)):g8e(t)}var y8e=C8e,S8e=J6e,w8e=a8e,E8e=MC,b8e=us,R8e=y8e;function T8e(t){return typeof t=="function"?t:t==null?E8e:typeof t=="object"?b8e(t)?w8e(t[0],t[1]):S8e(t):R8e(t)}var ed=T8e,D8e=Hoe,P8e=ed,x8e=voe,A8e=Math.max;function O8e(t,e,i){var r=t==null?0:t.length;if(!r)return-1;var n=i==null?0:x8e(i);return n<0&&(n=A8e(r+n,0)),D8e(t,P8e(e),n)}var Yoe=O8e;const M8e=Pt(Yoe);var F8e=Math.ceil,I8e=Math.max;function L8e(t,e,i,r){for(var n=-1,s=I8e(F8e((e-t)/(i||1)),0),o=Array(s);s--;)o[r?s:++n]=t,t+=i;return o}var _8e=L8e,N8e=_8e,G8e=bC,s_=moe;function k8e(t){return function(e,i,r){return r&&typeof r!="number"&&G8e(e,i,r)&&(i=r=void 0),e=s_(e),i===void 0?(i=e,e=0):i=s_(i),r=r===void 0?e<i?1:-1:s_(r),N8e(e,i,r,t)}}var V8e=k8e,H8e=V8e,$8e=H8e(),B8e=$8e;const oE=Pt(B8e);var wY=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function W8e(t,e){return!!(t===e||wY(t)&&wY(e))}function U8e(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!W8e(t[i],e[i]))return!1;return!0}function qoe(t,e){e===void 0&&(e=U8e);var i=null;function r(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(i&&i.lastThis===this&&e(n,i.lastArgs))return i.lastResult;var o=t.apply(this,n);return i={lastResult:o,lastArgs:n,lastThis:this},o}return r.clear=function(){i=null},r}var EY=SC,z8e=CW,j8e=us,bY=EY?EY.isConcatSpreadable:void 0;function K8e(t){return j8e(t)||z8e(t)||!!(bY&&t&&t[bY])}var Y8e=K8e,q8e=mW,X8e=Y8e;function Xoe(t,e,i,r,n){var s=-1,o=t.length;for(i||(i=X8e),n||(n=[]);++s<o;){var a=t[s];e>0&&i(a)?e>1?Xoe(a,e-1,i,r,n):q8e(n,a):r||(n[n.length]=a)}return n}var TW=Xoe;function Q8e(t){return function(e,i,r){for(var n=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++n];if(i(s[l],l,s)===!1)break}return e}}var Z8e=Q8e,J8e=Z8e,e9e=J8e(),t9e=e9e,i9e=t9e,r9e=AC;function n9e(t,e){return t&&i9e(t,e,r9e)}var DW=n9e,s9e=EC;function o9e(t,e){return function(i,r){if(i==null)return i;if(!s9e(i))return t(i,r);for(var n=i.length,s=e?n:-1,o=Object(i);(e?s--:++s<n)&&r(o[s],s,o)!==!1;);return i}}var a9e=o9e,l9e=DW,u9e=a9e,c9e=u9e(l9e),PW=c9e,d9e=PW,h9e=EC;function p9e(t,e){var i=-1,r=h9e(t)?Array(t.length):[];return d9e(t,function(n,s,o){r[++i]=e(n,s,o)}),r}var Qoe=p9e;function f9e(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}var g9e=f9e,RY=RC;function m9e(t,e){if(t!==e){var i=t!==void 0,r=t===null,n=t===t,s=RY(t),o=e!==void 0,a=e===null,l=e===e,u=RY(e);if(!a&&!u&&!s&&t>e||s&&o&&l&&!a&&!u||r&&o&&l||!i&&l||!n)return 1;if(!r&&!s&&!u&&t<e||u&&i&&n&&!r&&!s||a&&i&&n||!o&&n||!l)return-1}return 0}var v9e=m9e,C9e=v9e;function y9e(t,e,i){for(var r=-1,n=t.criteria,s=e.criteria,o=n.length,a=i.length;++r<o;){var l=C9e(n[r],s[r]);if(l){if(r>=a)return l;var u=i[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var S9e=y9e,o_=EM,w9e=RM,E9e=ed,b9e=Qoe,R9e=g9e,T9e=yM,D9e=S9e,P9e=MC,x9e=us;function A9e(t,e,i){e.length?e=o_(e,function(s){return x9e(s)?function(o){return w9e(o,s.length===1?s[0]:s)}:s}):e=[P9e];var r=-1;e=o_(e,T9e(E9e));var n=b9e(t,function(s,o,a){var l=o_(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return R9e(n,function(s,o){return D9e(s,o,i)})}var O9e=A9e;function M9e(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var F9e=M9e,I9e=F9e,TY=Math.max;function L9e(t,e,i){return e=TY(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,s=TY(r.length-e,0),o=Array(s);++n<s;)o[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=i(o),I9e(t,this,a)}}var Zoe=L9e;function _9e(t){return function(){return t}}var N9e=_9e,G9e=tg,k9e=function(){try{var t=G9e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Joe=k9e,V9e=N9e,DY=Joe,H9e=MC,$9e=DY?function(t,e){return DY(t,"toString",{configurable:!0,enumerable:!1,value:V9e(e),writable:!0})}:H9e,B9e=$9e,W9e=800,U9e=16,z9e=Date.now;function j9e(t){var e=0,i=0;return function(){var r=z9e(),n=U9e-(r-i);if(i=r,n>0){if(++e>=W9e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var K9e=j9e,Y9e=B9e,q9e=K9e,X9e=q9e(Y9e),eae=X9e,Q9e=MC,Z9e=Zoe,J9e=eae;function e7e(t,e){return J9e(Z9e(t,e,Q9e),t+"")}var tae=e7e,t7e=TW,i7e=O9e,r7e=tae,PY=bC,n7e=r7e(function(t,e){if(t==null)return[];var i=e.length;return i>1&&PY(t,e[0],e[1])?e=[]:i>2&&PY(e[0],e[1],e[2])&&(e=[e[0]]),i7e(t,t7e(e,1),[])}),s7e=n7e;const TM=Pt(s7e);function pG(t,e){var i=uW(t);return i?i.innerWidth:e?t.clientWidth:_p(t).width}function iae(t){return Zse(t)||hoe(t)||rW(t)||Jse()}function o7e(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var rae=o7e,xY=Joe;function a7e(t,e,i){e=="__proto__"&&xY?xY(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var xW=a7e,l7e=xW,u7e=eR,c7e=Object.prototype,d7e=c7e.hasOwnProperty;function h7e(t,e,i){var r=t[e];(!(d7e.call(t,e)&&u7e(r,i))||i===void 0&&!(e in t))&&l7e(t,e,i)}var nae=h7e,p7e=nae,f7e=xW;function g7e(t,e,i,r){var n=!i;i||(i={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(i[a],t[a],a,i,t):void 0;l===void 0&&(l=t[a]),n?f7e(i,a,l):p7e(i,a,l)}return i}var rR=g7e,m7e=rR,v7e=AC;function C7e(t,e){return t&&m7e(e,v7e(e),t)}var y7e=C7e;function S7e(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var w7e=S7e,E7e=Za,b7e=wW,R7e=w7e,T7e=Object.prototype,D7e=T7e.hasOwnProperty;function P7e(t){if(!E7e(t))return R7e(t);var e=b7e(t),i=[];for(var r in t)r=="constructor"&&(e||!D7e.call(t,r))||i.push(r);return i}var x7e=P7e,A7e=Ioe,O7e=x7e,M7e=EC;function F7e(t){return M7e(t)?A7e(t,!0):O7e(t)}var DM=F7e,I7e=rR,L7e=DM;function _7e(t,e){return t&&I7e(e,L7e(e),t)}var N7e=_7e,Yx={exports:{}};Yx.exports;(function(t,e){var i=Bl,r=e&&!e.nodeType&&e,n=r&&!0&&t&&!t.nodeType&&t,s=n&&n.exports===r,o=s?i.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}t.exports=l})(Yx,Yx.exports);var G7e=Yx.exports;function k7e(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var V7e=k7e,H7e=rR,$7e=vW;function B7e(t,e){return H7e(t,$7e(t),e)}var W7e=B7e,U7e=Loe,z7e=U7e(Object.getPrototypeOf,Object),PM=z7e,j7e=mW,K7e=PM,Y7e=vW,q7e=Moe,X7e=Object.getOwnPropertySymbols,Q7e=X7e?function(t){for(var e=[];t;)j7e(e,Y7e(t)),t=K7e(t);return e}:q7e,sae=Q7e,Z7e=rR,J7e=sae;function eXe(t,e){return Z7e(t,J7e(t),e)}var tXe=eXe,iXe=Ooe,rXe=sae,nXe=DM;function sXe(t){return iXe(t,nXe,rXe)}var oae=sXe,oXe=Object.prototype,aXe=oXe.hasOwnProperty;function lXe(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&aXe.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var uXe=lXe,AY=Aoe;function cXe(t){var e=new t.constructor(t.byteLength);return new AY(e).set(new AY(t)),e}var AW=cXe,dXe=AW;function hXe(t,e){var i=e?dXe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var pXe=hXe,fXe=/\w*$/;function gXe(t){var e=new t.constructor(t.source,fXe.exec(t));return e.lastIndex=t.lastIndex,e}var mXe=gXe,OY=SC,MY=OY?OY.prototype:void 0,FY=MY?MY.valueOf:void 0;function vXe(t){return FY?Object(FY.call(t)):{}}var CXe=vXe,yXe=AW;function SXe(t,e){var i=e?yXe(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var wXe=SXe,EXe=AW,bXe=pXe,RXe=mXe,TXe=CXe,DXe=wXe,PXe="[object Boolean]",xXe="[object Date]",AXe="[object Map]",OXe="[object Number]",MXe="[object RegExp]",FXe="[object Set]",IXe="[object String]",LXe="[object Symbol]",_Xe="[object ArrayBuffer]",NXe="[object DataView]",GXe="[object Float32Array]",kXe="[object Float64Array]",VXe="[object Int8Array]",HXe="[object Int16Array]",$Xe="[object Int32Array]",BXe="[object Uint8Array]",WXe="[object Uint8ClampedArray]",UXe="[object Uint16Array]",zXe="[object Uint32Array]";function jXe(t,e,i){var r=t.constructor;switch(e){case _Xe:return EXe(t);case PXe:case xXe:return new r(+t);case NXe:return bXe(t,i);case GXe:case kXe:case VXe:case HXe:case $Xe:case BXe:case WXe:case UXe:case zXe:return DXe(t,i);case AXe:return new r;case OXe:case IXe:return new r(t);case MXe:return RXe(t);case FXe:return new r;case LXe:return TXe(t)}}var KXe=jXe,YXe=Za,IY=Object.create,qXe=function(){function t(){}return function(e){if(!YXe(e))return{};if(IY)return IY(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),aae=qXe,XXe=aae,QXe=PM,ZXe=wW;function JXe(t){return typeof t.constructor=="function"&&!ZXe(t)?XXe(QXe(t)):{}}var eQe=JXe,tQe=SM,iQe=Wl,rQe="[object Map]";function nQe(t){return iQe(t)&&tQe(t)==rQe}var sQe=nQe,oQe=sQe,aQe=yM,LY=yW,_Y=LY&&LY.isMap,lQe=_Y?aQe(_Y):oQe,uQe=lQe,cQe=SM,dQe=Wl,hQe="[object Set]";function pQe(t){return dQe(t)&&cQe(t)==hQe}var fQe=pQe,gQe=fQe,mQe=yM,NY=yW,GY=NY&&NY.isSet,vQe=GY?mQe(GY):gQe,CQe=vQe,yQe=fW,SQe=rae,wQe=nae,EQe=y7e,bQe=N7e,RQe=G7e,TQe=V7e,DQe=W7e,PQe=tXe,xQe=_oe,AQe=oae,OQe=SM,MQe=uXe,FQe=KXe,IQe=eQe,LQe=us,_Qe=CM,NQe=uQe,GQe=Za,kQe=CQe,VQe=AC,HQe=DM,$Qe=1,BQe=2,WQe=4,lae="[object Arguments]",UQe="[object Array]",zQe="[object Boolean]",jQe="[object Date]",KQe="[object Error]",uae="[object Function]",YQe="[object GeneratorFunction]",qQe="[object Map]",XQe="[object Number]",cae="[object Object]",QQe="[object RegExp]",ZQe="[object Set]",JQe="[object String]",eZe="[object Symbol]",tZe="[object WeakMap]",iZe="[object ArrayBuffer]",rZe="[object DataView]",nZe="[object Float32Array]",sZe="[object Float64Array]",oZe="[object Int8Array]",aZe="[object Int16Array]",lZe="[object Int32Array]",uZe="[object Uint8Array]",cZe="[object Uint8ClampedArray]",dZe="[object Uint16Array]",hZe="[object Uint32Array]",Ni={};Ni[lae]=Ni[UQe]=Ni[iZe]=Ni[rZe]=Ni[zQe]=Ni[jQe]=Ni[nZe]=Ni[sZe]=Ni[oZe]=Ni[aZe]=Ni[lZe]=Ni[qQe]=Ni[XQe]=Ni[cae]=Ni[QQe]=Ni[ZQe]=Ni[JQe]=Ni[eZe]=Ni[uZe]=Ni[cZe]=Ni[dZe]=Ni[hZe]=!0;Ni[KQe]=Ni[uae]=Ni[tZe]=!1;function QD(t,e,i,r,n,s){var o,a=e&$Qe,l=e&BQe,u=e&WQe;if(i&&(o=n?i(t,r,n,s):i(t)),o!==void 0)return o;if(!GQe(t))return t;var c=LQe(t);if(c){if(o=MQe(t),!a)return TQe(t,o)}else{var d=OQe(t),h=d==uae||d==YQe;if(_Qe(t))return RQe(t,a);if(d==cae||d==lae||h&&!n){if(o=l||h?{}:IQe(t),!a)return l?PQe(t,bQe(o,t)):DQe(t,EQe(o,t))}else{if(!Ni[d])return n?t:{};o=FQe(t,d,a)}}s||(s=new yQe);var f=s.get(t);if(f)return f;s.set(t,o),kQe(t)?t.forEach(function(C){o.add(QD(C,e,i,C,t,s))}):NQe(t)&&t.forEach(function(C,S){o.set(S,QD(C,e,i,S,t,s))});var g=u?l?AQe:xQe:l?HQe:VQe,m=c?void 0:g(t);return SQe(m||t,function(C,S){m&&(S=C,C=t[S]),wQe(o,S,QD(C,e,i,S,t,s))}),o}var pZe=QD;function fZe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var dae=fZe;const gZe=Pt(dae);var mZe=RM,vZe=oW;function CZe(t,e){return e.length<2?t:mZe(t,vZe(e,0,-1))}var yZe=CZe,SZe=bM,wZe=dae,EZe=yZe,bZe=iR;function RZe(t,e){return e=SZe(e,t),t=EZe(t,e),t==null||delete t[bZe(wZe(e))]}var TZe=RZe,DZe=Jc,PZe=PM,xZe=Wl,AZe="[object Object]",OZe=Function.prototype,MZe=Object.prototype,hae=OZe.toString,FZe=MZe.hasOwnProperty,IZe=hae.call(Object);function LZe(t){if(!xZe(t)||DZe(t)!=AZe)return!1;var e=PZe(t);if(e===null)return!0;var i=FZe.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&hae.call(i)==IZe}var pae=LZe;const _Ze=Pt(pae);var NZe=pae;function GZe(t){return NZe(t)?void 0:t}var kZe=GZe,VZe=TW;function HZe(t){var e=t==null?0:t.length;return e?VZe(t,1):[]}var $Ze=HZe,BZe=$Ze,WZe=Zoe,UZe=eae;function zZe(t){return UZe(WZe(t,void 0,BZe),t+"")}var jZe=zZe,KZe=EM,YZe=pZe,qZe=TZe,XZe=bM,QZe=rR,ZZe=kZe,JZe=jZe,eJe=oae,tJe=1,iJe=2,rJe=4,nJe=JZe(function(t,e){var i={};if(t==null)return i;var r=!1;e=KZe(e,function(s){return s=XZe(s,t),r||(r=s.length>1),s}),QZe(t,eJe(t),i),r&&(i=YZe(i,tJe|iJe|rJe,ZZe));for(var n=e.length;n--;)qZe(i,e[n]);return i}),sJe=nJe;const oJe=Pt(sJe);var aJe=tae,lJe=eR,uJe=bC,cJe=DM,fae=Object.prototype,dJe=fae.hasOwnProperty,hJe=aJe(function(t,e){t=Object(t);var i=-1,r=e.length,n=r>2?e[2]:void 0;for(n&&uJe(e[0],e[1],n)&&(r=1);++i<r;)for(var s=e[i],o=cJe(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||lJe(c,fae[u])&&!dJe.call(t,u))&&(t[u]=s[u])}return t}),pJe=hJe;const fJe=Pt(pJe);var gJe=rae,mJe=aae,vJe=DW,CJe=ed,yJe=PM,SJe=us,wJe=CM,EJe=pM,bJe=Za,RJe=SW;function TJe(t,e,i){var r=SJe(t),n=r||wJe(t)||RJe(t);if(e=CJe(e),i==null){var s=t&&t.constructor;n?i=r?new s:[]:bJe(t)?i=EJe(s)?mJe(yJe(t)):{}:i={}}return(n?gJe:vJe)(t,function(o,a,l){return e(i,o,a,l)}),i}var DJe=TJe;const PJe=Pt(DJe);var xJe=xW,AJe=DW,OJe=ed;function MJe(t,e){var i={};return e=OJe(e),AJe(t,function(r,n,s){xJe(i,n,e(r,n,s))}),i}var FJe=MJe;const gae=Pt(FJe);var mae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r){r.prototype.isSameOrAfter=function(n,s){return this.isSame(n,s)||this.isAfter(n,s)}}})})(mae);var IJe=mae.exports;const LJe=Pt(IJe);var vae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r){r.prototype.isSameOrBefore=function(n,s){return this.isSame(n,s)||this.isBefore(n,s)}}})})(vae);var _Je=vae.exports;const NJe=Pt(_Je);var Cae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r,n){var s=r.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,h,f,g,m){var C=d.name?d:d.$locale(),S=o(C[h]),y=o(C[f]),w=S||y.map(function(b){return b.slice(0,g)});if(!m)return w;var E=C.weekStart;return w.map(function(b,D){return w[(D+(E||0))%7]})},l=function(){return n.Ls[n.locale()]},u=function(d,h){return d.formats[h]||function(f){return f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,m,C){return m||C.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):a(d,"months")},monthsShort:function(h){return h?h.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},n.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},n.months=function(){return a(l(),"months")},n.monthsShort=function(){return a(l(),"monthsShort","months",3)},n.weekdays=function(d){return a(l(),"weekdays",null,null,d)},n.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},n.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(Cae);var GJe=Cae.exports;const kJe=Pt(GJe);var yae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){return function(i,r,n){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(c){return c}))[0];for(var u=1;u<a.length;u+=1)a[u].isValid()&&!a[u][o](l)||(l=a[u]);return l};n.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},n.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(yae);var VJe=yae.exports;const HJe=Pt(VJe);var Sae={exports:{}};(function(t,e){(function(i,r){t.exports=r()})(Ur,function(){var i="minute",r=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(m){var C={date:m,utc:!0,args:arguments};return new o(C)},l.utc=function(m){var C=a(this.toDate(),{locale:this.$L,utc:!0});return m?C.add(this.utcOffset(),i):C},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var c=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(m,C){var S=this.$utils().u;if(S(m))return this.$u?0:S(this.$offset)?d.call(this):this.$offset;if(typeof m=="string"&&(m=function(b){b===void 0&&(b="");var D=b.match(r);if(!D)return null;var P=(""+D[0]).match(n)||["-",0,0],O=P[0],N=60*+P[1]+ +P[2];return N===0?0:O==="+"?N:-N}(m),m===null))return this;var y=Math.abs(m)<=16?60*m:m,w=this;if(C)return w.$offset=y,w.$u=m===0,w;if(m!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(y+E,i)).$offset=y,w.$x.$localOffset=E}else w=this.utc();return w};var h=l.format;l.format=function(m){var C=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,C)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var f=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var g=l.diff;l.diff=function(m,C,S){if(m&&this.$u===m.$u)return g.call(this,m,C,S);var y=this.local(),w=a(m).local();return g.call(y,w,C,S)}}})})(Sae);var $Je=Sae.exports;const BJe=Pt($Je);function Zu(t){return t.children}var no={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Xn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},kY=Object.keys(Xn).map(function(t){return Xn[t]});ee.oneOfType([ee.string,ee.func]);ee.any;ee.func;ee.oneOfType([ee.arrayOf(ee.oneOf(kY)),ee.objectOf(function(t,e){var i=kY.indexOf(e)!==-1&&typeof t[e]=="boolean";if(i)return null;for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];return ee.elementType.apply(ee,[t,e].concat(n))})]);ee.oneOfType([ee.oneOf(["overlap","no-overlap"]),ee.func]);function ur(t,e){t&&t.apply(null,[].concat(e))}var VY={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function wae(t,e){var i=$n(t,"month");return $n(i,"week",e.startOfWeek())}function Eae(t,e){var i=Wx(t,"month");return Wx(i,"week",e.startOfWeek())}function WJe(t,e){for(var i=wae(t,e),r=Eae(t,e),n=[];CC(i,r,"day");)n.push(i),i=kl(i,1,"day");return n}function UJe(t,e){var i=$n(t,e);return Zb(i,t)?i:kl(i,1,e)}function zJe(t,e){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,n=[];CC(r,e,i);)n.push(r),r=kl(r,1,i);return n}function jJe(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=$n(t,"day"),t=nE(t,nE(e)),t=Cv(t,Cv(e)),t=rE(t,rE(e)),iE(t,iE(e)))}function HY(t){return nE(t)===0&&Cv(t)===0&&rE(t)===0&&iE(t)===0}function KJe(t,e,i,r){return i==="day"&&(i="date"),Math.abs(F4[i](t,void 0,r)-F4[i](e,void 0,r))}function OW(t,e,i){return!i||i==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+$n(t,i)/VY[i]-+$n(e,i)/VY[i]))}var YJe=ee.oneOfType([ee.string,ee.func]);function qJe(t,e,i,r,n){var s=typeof r=="function"?r(i,n,t):e.call(t,i,r,n);return Xw(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function XJe(t,e,i){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+i,0,0)}function MW(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function QJe(t,e){return OW(t,e,"minutes")+MW(t,e)}function ZJe(t){var e=$n(t,"day");return OW(e,t,"minutes")+MW(e,t)}function JJe(t,e){return sW(t,e,"day")}function eet(t,e,i){var r=Zb(t,e,"minutes");return r?Jb(e,i,"minutes"):hM(e,i,"minutes")}function fG(t,e){return KJe(t,e,"day")}function tet(t){var e=t.evtA,i=e.start,r=e.end,n=e.allDay,s=t.evtB,o=s.start,a=s.end,l=s.allDay,u=+$n(i,"day")-+$n(o,"day"),c=fG(i,r),d=fG(o,a);return u||d-c||!!l-!!n||+i-+o||+r-+a}function iet(t){var e=t.event,i=e.start,r=e.end,n=t.range,s=n.start,o=n.end,a=$n(i,"day"),l=CC(a,o,"day"),u=nW(a,r,"minutes"),c=u?hM(r,s,"minutes"):Jb(r,s,"minutes");return l&&c}function ret(t,e){return Zb(t,e,"day")}function net(t,e){return HY(t)&&HY(e)}var set=Tn(function t(e){var i=this;Rn(this,t),Xw(typeof e.format=="function","date localizer `format(..)` must be a function"),Xw(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||YJe,this.formats=e.formats,this.format=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qJe.apply(void 0,[i,e.format].concat(n))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||jJe,this.inRange=e.inRange||loe,this.lt=e.lt||sW,this.lte=e.lte||CC,this.gt=e.gt||hM,this.gte=e.gte||Jb,this.eq=e.eq||Zb,this.neq=e.neq||nW,this.startOf=e.startOf||$n,this.endOf=e.endOf||Wx,this.add=e.add||kl,this.range=e.range||zJe,this.diff=e.diff||OW,this.ceil=e.ceil||UJe,this.min=e.min||ooe,this.max=e.max||aoe,this.minutes=e.minutes||Cv,this.daySpan=e.daySpan||fG,this.firstVisibleDay=e.firstVisibleDay||wae,this.lastVisibleDay=e.lastVisibleDay||Eae,this.visibleDays=e.visibleDays||WJe,this.getSlotDate=e.getSlotDate||XJe,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||MW,this.getTotalMin=e.getTotalMin||QJe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||ZJe,this.continuesPrior=e.continuesPrior||JJe,this.continuesAfter=e.continuesAfter||eet,this.sortEvents=e.sortEvents||tet,this.inEventRange=e.inEventRange||iet,this.isSameDate=e.isSameDate||ret,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||net,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function oet(t,e,i,r){var n=Fi(Fi({},t.formats),i);return Fi(Fi({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,a){return t.format(o,n[a]||a,e)}})}var aet={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function uet(t){return Fi(Fi({},aet),t)}function cet(t){var e=t.ref,i=t.callback;T.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&i()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,i])}var det=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],bae=function(t){Ns(e,t);function e(){return Rn(this,e),_s(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,u=r.onSelect,c=r.onDoubleClick,d=r.onKeyPress,h=r.localizer,f=r.continuesPrior,g=r.continuesAfter,m=r.accessors,C=r.getters,S=r.children,y=r.components,w=y.event,E=y.eventWrapper,b=r.slotStart,D=r.slotEnd,P=Gu(r,det);delete P.resizable;var O=m.title(o),N=m.tooltip(o),_=m.end(o),I=m.start(o),k=m.allDay(o),B=l||k||h.diff(I,h.ceil(_,"day"),"day")>1,U=C.eventProp(o,I,_,a),K=$.createElement("div",{className:"rbc-event-content",title:N||void 0},w?$.createElement(w,{event:o,continuesPrior:f,continuesAfter:g,title:O,isAllDay:k,localizer:h,slotStart:b,slotEnd:D}):O);return $.createElement(E,Object.assign({},this.props,{type:"date"}),$.createElement("div",Object.assign({},P,{style:Fi(Fi({},U.style),n),className:an("rbc-event",s,U.className,{"rbc-selected":a,"rbc-event-allday":B,"rbc-event-continues-prior":f,"rbc-event-continues-after":g}),onClick:function(Q){return u&&u(o,Q)},onDoubleClick:function(Q){return c&&c(o,Q)},onKeyDown:function(Q){return d&&d(o,Q)}}),typeof S=="function"?S(K):K))}}]),e}($.Component);function xM(t,e){return!t||e==null?!1:wM(t,e)}function Rae(t,e){var i=t.right-t.left,r=i/e;return r}function Tae(t,e,i,r){var n=Rae(t,r);return i?r-1-Math.floor((e-t.left)/n):Math.floor((e-t.left)/n)}function het(t,e){var i=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&i>=t.left&&i<=t.right}function pet(t,e,i,r,n){var s=-1,o=-1,a=r-1,l=Rae(e,r),u=Tae(e,i.x,n,r),c=e.top<i.y&&e.bottom>i.y,d=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,f=e.top>t.y,g=i.top<e.top&&i.bottom>e.bottom;return g&&(s=0,o=a),c&&(f?(s=0,o=u):h&&(s=u,o=a)),d&&(s=o=n?a-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),c?u<s?s=u:o=u:t.y<i.y?o=a:s=0),{startIdx:s,endIdx:o}}function fet(t){var e=t.target,i=t.offset,r=t.container,n=t.box,s=_p(e),o=s.top,a=s.left,l=s.width,u=s.height,c=_p(r),d=c.top,h=c.left,f=c.width,g=c.height,m=_p(n),C=m.width,S=m.height,y=d+g,w=h+f,E=o+S,b=a+C,D=i.x,P=i.y,O=E>y?o-S-P:o+P+u,N=b>w?a+D-C+l:a+D;return{topOffset:O,leftOffset:N}}function get(t){var e=t.containerRef,i=t.accessors,r=t.getters,n=t.selected,s=t.components,o=t.localizer,a=t.position,l=t.show,u=t.events,c=t.slotStart,d=t.slotEnd,h=t.onSelect,f=t.onDoubleClick,g=t.onKeyPress,m=t.handleDragStart,C=t.popperRef,S=t.target,y=t.offset;cet({ref:C,callback:l}),T.useLayoutEffect(function(){var b=fet({target:S,offset:y,container:e.current,box:C.current}),D=b.topOffset,P=b.leftOffset;C.current.style.top="".concat(D,"px"),C.current.style.left="".concat(P,"px")},[y.x,y.y,S]);var w=a.width,E={minWidth:w+w/2};return $.createElement("div",{style:E,className:"rbc-overlay",ref:C},$.createElement("div",{className:"rbc-overlay-header"},o.format(c,"dayHeaderFormat")),u.map(function(b,D){return $.createElement(bae,{key:D,type:"popup",localizer:o,event:b,getters:r,onSelect:h,accessors:i,components:s,onDoubleClick:f,onKeyPress:g,continuesPrior:o.lt(i.end(b),c,"day"),continuesAfter:o.gte(i.start(b),d,"day"),slotStart:c,slotEnd:d,selected:xM(b,n),draggable:!0,onDragStart:function(){return m(b)},onDragEnd:function(){return l()}})}))}var Dae=$.forwardRef(function(t,e){return $.createElement(get,Object.assign({},t,{popperRef:e}))});Dae.propTypes={accessors:ee.object.isRequired,getters:ee.object.isRequired,selected:ee.object,components:ee.object.isRequired,localizer:ee.object.isRequired,position:ee.object.isRequired,show:ee.func.isRequired,events:ee.array.isRequired,slotStart:ee.instanceOf(Date).isRequired,slotEnd:ee.instanceOf(Date),onSelect:ee.func,onDoubleClick:ee.func,onKeyPress:ee.func,handleDragStart:ee.func,style:ee.object,offset:ee.shape({x:ee.number,y:ee.number})};function met(t){var e=t.containerRef,i=t.popupOffset,r=i===void 0?5:i,n=t.overlay,s=t.accessors,o=t.localizer,a=t.components,l=t.getters,u=t.selected,c=t.handleSelectEvent,d=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,f=t.handleDragStart,g=t.onHide,m=t.overlayDisplay,C=T.useRef(null);if(!n.position)return null;var S=r;isNaN(r)||(S={x:r,y:r});var y=n.position,w=n.events,E=n.date,b=n.end;return $.createElement(p3e,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:n.target},function(D){var P=D.props;return $.createElement(Dae,Object.assign({},P,{containerRef:e,ref:C,target:n.target,offset:S,accessors:s,getters:l,selected:u,components:a,localizer:o,position:y,show:m,events:w,slotStart:E,slotEnd:b,onSelect:c,onDoubleClick:d,onKeyPress:h,handleDragStart:f}))})}var FW=$.forwardRef(function(t,e){return $.createElement(met,Object.assign({},t,{containerRef:e}))});FW.propTypes={popupOffset:ee.oneOfType([ee.number,ee.shape({x:ee.number,y:ee.number})]),overlay:ee.shape({position:ee.object,events:ee.array,date:ee.instanceOf(Date),end:ee.instanceOf(Date)}),accessors:ee.object.isRequired,localizer:ee.object.isRequired,components:ee.object.isRequired,getters:ee.object.isRequired,selected:ee.object,handleSelectEvent:ee.func,handleDoubleClickEvent:ee.func,handleKeyPressEvent:ee.func,handleDragStart:ee.func,onHide:ee.func,overlayDisplay:ee.func};function jn(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return iS(i,t,e,{passive:!1})}function vet(t,e,i){return!t||sE(t,document.elementFromPoint(e,i))}function Cet(t,e){var i=e.clientX,r=e.clientY,n=document.elementFromPoint(i,r);return Voe(n,".rbc-event",t)}function yet(t,e){var i=e.clientX,r=e.clientY,n=document.elementFromPoint(i,r);return Voe(n,".rbc-show-more",t)}function qx(t,e){return!!Cet(t,e)}function wet(t,e){return!!yet(t,e)}function Ry(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var $Y=5,Eet=250,Pae=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.global,n=r===void 0?!1:r,s=i.longPressThreshold,o=s===void 0?250:s,a=i.validContainers,l=a===void 0?[]:a;Rn(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||n,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=jn("touchmove",function(){},window),this._removeKeyDownListener=jn("keydown",this._keyListener),this._removeKeyUpListener=jn("keyup",this._keyListener),this._removeDropFromOutsideListener=jn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=jn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Tn(t,[{key:"on",value:function(i,r){var n=this._listeners[i]||(this._listeners[i]=[]);return n.push(r),{remove:function(){var o=n.indexOf(r);o!==-1&&n.splice(o,1)}}}},{key:"emit",value:function(i){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var o,a=this._listeners[i]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,n))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(i){var r=this._selectRect;return!r||!this.selecting?!1:BY(r,vf(i))}},{key:"filter",value:function(i){var r=this._selectRect;return!r||!this.selecting?[]:i.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(i,r){var n=this,s=null,o=null,a=null,l=function(h){s=setTimeout(function(){c(),i(h)},n.longPressThreshold),o=jn("touchmove",function(){return c()}),a=jn("touchend",function(){return c()})},u=jn("touchstart",l),c=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){c(),u()}}},{key:"_addInitialEventListener",value:function(){var i=this,r=jn("mousedown",function(s){i._removeInitialEventListener(),i._handleInitialEvent(s),i._removeInitialEventListener=jn("mousedown",i._handleInitialEvent)}),n=jn("touchstart",function(s){i._removeInitialEventListener(),i._removeInitialEventListener=i._addLongPressListener(i._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),n()}}},{key:"_dropFromOutsideListener",value:function(i){var r=Ry(i),n=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:n,y:s,clientX:o,clientY:a}),i.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(i){var r=Ry(i),n=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:n,y:s,clientX:o,clientY:a}),i.preventDefault()}},{key:"_handleInitialEvent",value:function(i){if(this._initialEvent=i,!this.isDetached){var r=Ry(i),n=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),u,c;if(!(i.which===3||i.button===2||!vet(l,n,s))){if(!this.globalMouse&&l&&!sE(l,i.target)){var d=bet(0),h=d.top,f=d.left,g=d.bottom,m=d.right;if(c=vf(l),u=BY({top:c.top-h,left:c.left-f,bottom:c.bottom+g,right:c.right+m},{top:a,left:o}),!u)return}var C=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(i.type),x:o,y:a,clientX:n,clientY:s});if(C!==!1)switch(i.type){case"mousedown":this._removeEndListener=jn("mouseup",this._handleTerminatingEvent),this._onEscListener=jn("keydown",this._handleTerminatingEvent),this._removeMoveListener=jn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(i),this._removeEndListener=jn("touchend",this._handleTerminatingEvent),this._removeMoveListener=jn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(i){var r=i.target,n=this.validContainers;return!n||!n.length||!r?!0:n.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(i){var r=this.selecting,n=this._selectRect;if(!r&&i.type.includes("key")&&(i=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,this._lastClickData=null,!!i){var s=!this.container||sE(this.container(),i.target),o=this._isWithinValidContainer(i);return i.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(i):r?this.emit("select",n):this.emit("reset")}}},{key:"_handleClickEvent",value:function(i){var r=Ry(i),n=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<Eet?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:n,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(i){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,n=r.x,s=r.y,o=Ry(i),a=o.pageX,l=o.pageY,u=Math.abs(n-a),c=Math.abs(s-l),d=Math.min(a,n),h=Math.min(l,s),f=this.selecting,g=this.isClick(a,l);g&&!f&&!(u||c)||(!f&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:h,left:d,x:a,y:l,right:d+u,bottom:h+c},this.emit("selecting",this._selectRect)),i.preventDefault())}}},{key:"_keyListener",value:function(i){this.ctrl=i.metaKey||i.ctrlKey}},{key:"isClick",value:function(i,r){var n=this._initialEventData,s=n.x,o=n.y,a=n.isTouch;return!a&&Math.abs(i-s)<=$Y&&Math.abs(r-o)<=$Y}}]),t}();function bet(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return yc(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function BY(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=vf(t),n=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,u=l===void 0?n:l,c=vf(e),d=c.top,h=c.left,f=c.right,g=f===void 0?h:f,m=c.bottom,C=m===void 0?d:m;return!(u-i<d||n+i>C||a-i<h||s+i>g)}function vf(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),i=e.left+WY("left"),r=e.top+WY("top");return{top:r,left:i,right:(t.offsetWidth||0)+i,bottom:(t.offsetHeight||0)+r}}function WY(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var Ret=function(t){Ns(e,t);function e(i,r){var n;return Rn(this,e),n=_s(this,e,[i,r]),n.state={selecting:!1},n.containerRef=T.createRef(),n}return Tn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,n=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,u=r.localizer,c=this.state,d=c.selecting,h=c.startIdx,f=c.endIdx,g=s();return $.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},n.map(function(m,C){var S=d&&C>=h&&C<=f,y=o.dayProp(m),w=y.className,E=y.style;return $.createElement(l,{key:C,value:m,range:n},$.createElement("div",{style:E,className:an("rbc-day-bg",w,S&&"rbc-selected-cell",u.isSameDate(m,g)&&"rbc-today",a&&u.neq(a,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,n=this.containerRef.current,s=this._selector=new Pae(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!qx(n,l)&&!wet(n,l)){var c=vf(n),d=r.props,h=d.range,f=d.rtl;if(het(c,l)){var g=Tae(c,l.x,f,h.length);r._selectSlot({startIdx:g,endIdx:g,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,u=l.range,c=l.rtl,d=-1,h=-1;if(r.state.selecting||(ur(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(n)){var f=vf(n),g=pet(r._initial,f,a,u.length,c);d=g.startIdx,h=g.endIdx}r.setState({selecting:!0,startIdx:d,endIdx:h})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!qx(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Fi(Fi({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),ur(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var n=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;n!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:n,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}]),e}($.Component),cu={propTypes:{slotMetrics:ee.object.isRequired,selected:ee.object,isAllDay:ee.bool,accessors:ee.object.isRequired,localizer:ee.object.isRequired,components:ee.object.isRequired,getters:ee.object.isRequired,onSelect:ee.func,onDoubleClick:ee.func,onKeyPress:ee.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,i){var r=e.selected;e.isAllDay;var n=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,c=e.slotMetrics,d=e.components,h=e.resizable,f=c.continuesPrior(i),g=c.continuesAfter(i);return $.createElement(bae,{event:i,getters:s,localizer:u,accessors:n,components:d,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:f,continuesAfter:g,slotStart:c.first,slotEnd:c.last,selected:xM(i,r),resizable:h})},renderSpan:function(e,i,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(i)/e*100+"%";return $.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},n)}},xae=function(t){Ns(e,t);function e(){return Rn(this,e),_s(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this,n=this.props,s=n.segments,o=n.slotMetrics.slots,a=n.className,l=1;return $.createElement("div",{className:an(a,"rbc-row")},s.reduce(function(u,c,d){var h=c.event,f=c.left,g=c.right,m=c.span,C="_lvl_"+d,S=f-l,y=cu.renderEvent(r.props,h);return S&&u.push(cu.renderSpan(o,S,"".concat(C,"_gap"))),u.push(cu.renderSpan(o,m,C,y)),l=g+1,u},[]))}}]),e}($.Component);xae.defaultProps=Fi({},cu.defaultProps);function Aae(t){var e=t.dateRange,i=t.unit,r=i===void 0?"day":i,n=t.localizer;return{first:e[0],last:n.add(e[e.length-1],1,r)}}function Tet(t,e,i,r){var n=Aae({dateRange:e,localizer:r}),s=n.first,o=n.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(i.start(t),"day"),s),u=r.min(r.ceil(i.end(t),"day"),o),c=M8e(e,function(h){return r.isSameDate(h,l)}),d=r.diff(l,u,"day");return d=Math.min(d,a),d=Math.max(d-r.segmentOffset,1),{event:t,span:d,left:c+1,right:Math.max(c+d,1)}}function Oae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,i,r,n,s=[],o=[];for(i=0;i<t.length;i++){for(n=t[i],r=0;r<s.length&&Det(n,s[r]);r++);r>=e?o.push(n):(s[r]||(s[r]=[])).push(n)}for(i=0;i<s.length;i++)s[i].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function aE(t,e,i,r,n){var s={start:r.start(t),end:r.end(t)},o={start:e,end:i};return n.inEventRange({event:s,range:o})}function Det(t,e){return e.some(function(i){return i.left<=t.right&&i.right>=t.left})}function Pet(t,e,i){var r=XD(t),n=[],s=[];r.forEach(function(l){var u=e.start(l),c=e.end(l);i.daySpan(u,c)>1?n.push(l):s.push(l)});var o=n.sort(function(l,u){return gG(l,u,e,i)}),a=s.sort(function(l,u){return gG(l,u,e,i)});return[].concat(XD(o),XD(a))}function gG(t,e,i,r){var n={start:i.start(t),end:i.end(t),allDay:i.allDay(t)},s={start:i.start(e),end:i.end(e),allDay:i.allDay(e)};return r.sortEvents({evtA:n,evtB:s})}var Mae=function(e,i){return e.left<=i&&e.right>=i},UY=function(e,i){return e.filter(function(r){return Mae(r,i)}).map(function(r){return r.event})},Fae=function(t){Ns(e,t);function e(){return Rn(this,e),_s(this,e,arguments)}return Tn(e,[{key:"render",value:function(){for(var r=this.props,n=r.segments,s=r.slotMetrics.slots,o=Oae(n).levels[0],a=1,l=1,u=[];a<=s;){var c="_lvl_"+a,d=o.filter(function(y){return Mae(y,a)})[0]||{},h=d.event,f=d.left,g=d.right,m=d.span;if(!h){a++;continue}var C=Math.max(0,f-l);if(this.canRenderSlotEvent(f,m)){var S=cu.renderEvent(this.props,h);C&&u.push(cu.renderSpan(s,C,c+"_gap")),u.push(cu.renderSpan(s,m,c,S)),l=a=g+1}else C&&u.push(cu.renderSpan(s,C,c+"_gap")),u.push(cu.renderSpan(s,1,c,this.renderShowMore(n,a))),l=a=a+1}return $.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,n){var s=this.props.segments;return oE(r,r+n).every(function(o){var a=UY(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,n){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,u=l.getEventsForSlot(n),c=UY(r,n),d=c.length;return d?$.createElement("button",{type:"button",key:"sm_"+n,className:an("rbc-button-link","rbc-show-more"),onClick:function(f){return s.showMore(n,f)}},a.messages.showMore(d,c,u)):!1}},{key:"showMore",value:function(r,n){n.preventDefault(),n.stopPropagation(),this.props.onShowMore(r,n.target)}}]),e}($.Component);Fae.defaultProps=Fi({},cu.defaultProps);var xet=function(e){var i=e.children;return $.createElement("div",{className:"rbc-row-content-scroll-container"},i)},Aet=function(e,i){return e.left<=i&&e.right>=i},Oet=function(e,i){return e[0].range===i[0].range&&e[0].events===i[0].events};function Iae(){return qoe(function(t){for(var e=t.range,i=t.events,r=t.maxRows,n=t.minRows,s=t.accessors,o=t.localizer,a=Aae({dateRange:e,localizer:o}),l=a.first,u=a.last,c=i.map(function(m){return Tet(m,e,s,o)}),d=Oae(c,Math.max(r-1,1)),h=d.levels,f=d.extra,g=f.length>0?n-1:n;h.length<g;)h.push([]);return{first:l,last:u,levels:h,extra:f,range:e,slots:e.length,clone:function(C){var S=Iae();return S(Fi(Fi({},t),C))},getDateForSlot:function(C){return e[C]},getSlotForDate:function(C){return e.find(function(S){return o.isSameDate(S,C)})},getEventsForSlot:function(C){return c.filter(function(S){return Aet(S,C)}).map(function(S){return S.event})},continuesPrior:function(C){return o.continuesPrior(s.start(C),l)},continuesAfter:function(C){var S=s.start(C),y=s.end(C);return o.continuesAfter(S,y,u)}}},Oet)}var Xx=function(t){Ns(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=_s(this,e,[].concat(n)),i.handleSelectSlot=function(o){var a=i.props,l=a.range,u=a.onSelectSlot;u(l.slice(o.start,o.end+1),o)},i.handleShowMore=function(o,a){var l=i.props,u=l.range,c=l.onShowMore,d=i.slotMetrics(i.props),h=Bje(i.containerRef.current,".rbc-row-bg")[0],f;h&&(f=h.children[o-1]);var g=d.getEventsForSlot(o);c(g,u[o-1],f,o,a)},i.getContainer=function(){var o=i.props.container;return o?o():i.containerRef.current},i.renderHeadingCell=function(o,a){var l=i.props,u=l.renderHeader,c=l.getNow,d=l.localizer;return u({date:o,key:"header_".concat(a),className:an("rbc-date-cell",d.isSameDate(o,c())&&"rbc-now")})},i.renderDummy=function(){var o=i.props,a=o.className,l=o.range,u=o.renderHeader,c=o.showAllEvents;return $.createElement("div",{className:a,ref:i.containerRef},$.createElement("div",{className:an("rbc-row-content",c&&"rbc-row-content-scrollable")},u&&$.createElement("div",{className:"rbc-row",ref:i.headingRowRef},l.map(i.renderHeadingCell)),$.createElement("div",{className:"rbc-row",ref:i.eventRowRef},$.createElement("div",{className:"rbc-row-segment"},$.createElement("div",{className:"rbc-event"},$.createElement("div",{className:"rbc-event-content"}," "))))))},i.containerRef=T.createRef(),i.headingRowRef=T.createRef(),i.eventRowRef=T.createRef(),i.slotMetrics=Iae(),i}return Tn(e,[{key:"getRowLimit",value:function(){var r,n=n_(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?n_(this.headingRowRef.current):0,o=n_(this.containerRef.current)-s;return Math.max(Math.floor(o/n),1)}},{key:"render",value:function(){var r=this.props,n=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,u=r.selectable,c=r.renderForMeasure,d=r.accessors,h=r.getters,f=r.components,g=r.getNow,m=r.renderHeader,C=r.onSelect,S=r.localizer,y=r.onSelectStart,w=r.onSelectEnd,E=r.onDoubleClick,b=r.onKeyPress,D=r.resourceId,P=r.longPressThreshold,O=r.isAllDay,N=r.resizable,_=r.showAllEvents;if(c)return this.renderDummy();var I=this.slotMetrics(this.props),k=I.levels,B=I.extra,U=_?xet:Zu,K=f.weekWrapper,j={selected:l,accessors:d,getters:h,localizer:S,components:f,onSelect:C,onDoubleClick:E,onKeyPress:b,resourceId:D,slotMetrics:I,resizable:N};return $.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},$.createElement(Ret,{localizer:S,date:n,getNow:g,rtl:s,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:f,longPressThreshold:P,resourceId:D}),$.createElement("div",{className:an("rbc-row-content",_&&"rbc-row-content-scrollable"),role:"row"},m&&$.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),$.createElement(U,null,$.createElement(K,Object.assign({isAllDay:O},j,{rtl:this.props.rtl}),k.map(function(Q,H){return $.createElement(xae,Object.assign({key:H,segments:Q},j))}),!!B.length&&$.createElement(Fae,Object.assign({segments:B,onShowMore:this.handleShowMore},j))))))}}]),e}($.Component);Xx.defaultProps={minRows:0,maxRows:1/0};var Lae=function(e){var i=e.label;return $.createElement("span",{role:"columnheader","aria-sort":"none"},i)},Met=function(e){var i=e.label,r=e.drilldownView,n=e.onDrillDown;return r?$.createElement("button",{type:"button",className:"rbc-button-link",onClick:n,role:"cell"},i):$.createElement("span",null,i)},Fet=["date","className"],Iet=function(e,i,r,n,s){return e.filter(function(o){return aE(o,i,r,n,s)})},AM=function(t){Ns(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=_s(this,e,[].concat(n)),i.getContainer=function(){return i.containerRef.current},i.renderWeek=function(o,a){var l=i.props,u=l.events,c=l.components,d=l.selectable,h=l.getNow,f=l.selected,g=l.date,m=l.localizer,C=l.longPressThreshold,S=l.accessors,y=l.getters,w=l.showAllEvents,E=i.state,b=E.needLimitMeasure,D=E.rowLimit,P=Iet(XD(u),o[0],o[o.length-1],S,m),O=Pet(P,S,m);return $.createElement(Xx,{key:a,ref:a===0?i.slotRowRef:void 0,container:i.getContainer,className:"rbc-month-row",getNow:h,date:g,range:o,events:O,maxRows:w?1/0:D,selected:f,selectable:d,components:c,accessors:S,getters:y,localizer:m,renderHeader:i.readerDateHeading,renderForMeasure:b,onShowMore:i.handleShowMore,onSelect:i.handleSelectEvent,onDoubleClick:i.handleDoubleClickEvent,onKeyPress:i.handleKeyPressEvent,onSelectSlot:i.handleSelectSlot,longPressThreshold:C,rtl:i.props.rtl,resizable:i.props.resizable,showAllEvents:w})},i.readerDateHeading=function(o){var a=o.date,l=o.className,u=Gu(o,Fet),c=i.props,d=c.date,h=c.getDrilldownView,f=c.localizer,g=f.neq(a,d,"month"),m=f.isSameDate(a,d),C=h(a),S=f.format(a,"dateFormat"),y=i.props.components.dateHeader||Met;return $.createElement("div",Object.assign({},u,{className:an(l,g&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),$.createElement(y,{label:S,date:a,drilldownView:C,isOffRange:g,onDrillDown:function(E){return i.handleHeadingClick(a,C,E)}}))},i.handleSelectSlot=function(o,a){i._pendingSelection=i._pendingSelection.concat(o),clearTimeout(i._selectTimer),i._selectTimer=setTimeout(function(){return i.selectDates(a)})},i.handleHeadingClick=function(o,a,l){l.preventDefault(),i.clearSelection(),ur(i.props.onDrillDown,[o,a])},i.handleSelectEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onSelectEvent,a)},i.handleDoubleClickEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onDoubleClickEvent,a)},i.handleKeyPressEvent=function(){i.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onKeyPressEvent,a)},i.handleShowMore=function(o,a,l,u,c){var d=i.props,h=d.popup,f=d.onDrillDown,g=d.onShowMore,m=d.getDrilldownView,C=d.doShowMoreDrillDown;if(i.clearSelection(),h){var S=woe(l,i.containerRef.current);i.setState({overlay:{date:a,events:o,position:S,target:c}})}else C&&ur(f,[a,m(a)||Xn.DAY]);ur(g,[o,a,u])},i.overlayDisplay=function(){i.setState({overlay:null})},i.state={rowLimit:5,needLimitMeasure:!0,date:null},i.containerRef=T.createRef(),i.slotRowRef=T.createRef(),i._bgRows=[],i._pendingSelection=[],i}return Tn(e,[{key:"componentDidMount",value:function(){var r=this,n;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){n||Eoe(function(){n=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.className,a=s.visibleDays(n,s),l=Dje(a,7);return this._weekCount=l.length,$.createElement("div",{className:an("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},$.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var n=this.props,s=n.localizer,o=n.components,a=r[0],l=r[r.length-1],u=o.header||Lae;return s.range(a,l,"day").map(function(c,d){return $.createElement("div",{key:"header_"+d,className:"rbc-header"},$.createElement(u,{date:c,localizer:s,label:s.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,n,s=this,o=(r=(n=this.state)===null||n===void 0?void 0:n.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,g=a.handleDragStart,m=function(){return s.setState({overlay:null})};return $.createElement(FW,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var n=this._pendingSelection.slice();this._pendingSelection=[],n.sort(function(a,l){return+a-+l});var s=new Date(n[0]),o=new Date(n[n.length-1]);o.setDate(n[n.length-1].getDate()+1),ur(this.props.onSelectSlot,{slots:n,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,n){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,n.date,"month")}}}]),e}($.Component);AM.range=function(t,e){var i=e.localizer,r=i.firstVisibleDay(t,i),n=i.lastVisibleDay(t,i);return{start:r,end:n}};AM.navigate=function(t,e,i){var r=i.localizer;switch(e){case no.PREVIOUS:return r.add(t,-1,"month");case no.NEXT:return r.add(t,1,"month");default:return t}};AM.title=function(t,e){var i=e.localizer;return i.format(t,"monthHeaderFormat")};var zY=function(e){var i=e.min,r=e.max,n=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(i,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(n,"-").concat(s)};function IW(t){for(var e=t.min,i=t.max,r=t.step,n=t.timeslots,s=t.localizer,o=zY({start:e,end:i,step:r,timeslots:n,localizer:s}),a=1+s.getTotalMin(e,i),l=s.getMinutesFromMidnight(e),u=Math.ceil((a-1)/(r*n)),c=u*n,d=new Array(u),h=new Array(c),f=0;f<u;f++){d[f]=new Array(n);for(var g=0;g<n;g++){var m=f*n+g,C=m*r;h[m]=d[f][g]=s.getSlotDate(e,l,C)}}var S=h.length*r;h.push(s.getSlotDate(e,l,S));function y(w){var E=s.diff(e,w,"minutes")+s.getDstOffset(e,w);return Math.min(E,a)}return{groups:d,update:function(E){return zY(E)!==o?IW(E):this},dateIsInGroup:function(E,b){var D=d[b+1];return s.inRange(E,d[b][0],D?D[0]:i,"minutes")},nextSlot:function(E){var b=h[Math.min(h.findIndex(function(D){return D===E||s.eq(D,E)})+1,h.length-1)];return s.eq(b,E)&&(b=s.add(E,r,"minutes")),b},closestSlotToPosition:function(E){var b=Math.min(h.length-1,Math.max(0,Math.floor(E*c)));return h[b]},closestSlotFromPoint:function(E,b){var D=Math.abs(b.top-b.bottom);return this.closestSlotToPosition((E.y-b.top)/D)},closestSlotFromDate:function(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(E,e,"minutes"))return h[0];if(s.gt(E,i,"minutes"))return h[h.length-1];var D=s.diff(e,E,"minutes");return h[(D-D%r)/r+b]},startsBeforeDay:function(E){return s.lt(E,e,"day")},startsAfterDay:function(E){return s.gt(E,i,"day")},startsBefore:function(E){return s.lt(s.merge(e,E),e,"minutes")},startsAfter:function(E){return s.gt(s.merge(i,E),i,"minutes")},getRange:function(E,b,D,P){D||(E=s.min(i,s.max(e,E))),P||(b=s.min(i,s.max(e,b)));var O=y(E),N=y(b),_=N>r*c&&!s.eq(i,b)?(O-r)/(r*c)*100:O/(r*c)*100;return{top:_,height:N/(r*c)*100-_,start:y(E),startDate:E,end:y(b),endDate:b}},getCurrentTimePosition:function(E){var b=y(E),D=b/(r*c)*100;return D}}}var Let=function(){function t(e,i){var r=i.accessors,n=i.slotMetrics;Rn(this,t);var s=n.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,u=s.endDate,c=s.top,d=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+u,this.top=c,this.height=d,this.data=e}return Tn(t,[{key:"_width",get:function(){if(this.rows){var i=this.rows.reduce(function(n,s){return Math.max(n,s.leaves.length+1)},0)+1;return 100/i}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var i=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:i;var n=this.row.leaves,s=n.indexOf(this);return s===n.length-1?i:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var i=this.row,r=i.leaves,n=i.xOffset,s=i._width,o=r.indexOf(this)+1;return n+o*s}}]),t}();function _et(t,e,i){return Math.abs(e.start-t.start)<i||e.start>t.start&&e.start<t.end}function Net(t){for(var e=TM(t,["startMs",function(a){return-a.endMs}]),i=[];e.length>0;){var r=e.shift();i.push(r);for(var n=0;n<e.length;n++){var s=e[n];if(!(r.endMs>s.startMs)){if(n>0){var o=e.splice(n,1)[0];i.push(o)}break}}}return i}function _ae(t){for(var e=t.events,i=t.minimumStartDifference,r=t.slotMetrics,n=t.accessors,s=e.map(function(c){return new Let(c,{slotMetrics:r,accessors:n})}),o=Net(s),a=[],l=function(){var d=o[u],h=a.find(function(m){return m.end>d.start||Math.abs(d.start-m.start)<i});if(!h)return d.rows=[],a.push(d),1;d.container=h;for(var f=null,g=h.rows.length-1;!f&&g>=0;g--)_et(h.rows[g],d,i)&&(f=h.rows[g]);f?(f.leaves.push(d),d.row=f):(d.leaves=[],h.rows.push(d))},u=0;u<o.length;u++)l();return o.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function Nae(t,e,i){for(var r=0;r<t.friends.length;++r)if(!(i.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,i.push(t.friends[r]);var n=Nae(t.friends[r],e,i);e=e>n?e:n}return e}function Get(t){var e=t.events,i=t.minimumStartDifference,r=t.slotMetrics,n=t.accessors,s=_ae({events:e,minimumStartDifference:i,slotMetrics:r,accessors:n});s.sort(function(K,j){return K=K.style,j=j.style,K.top!==j.top?K.top>j.top?1:-1:K.height!==j.height?K.top+K.height<j.top+j.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],u=l.style.top,c=l.style.top+l.style.height,d=a+1;d<s.length;++d){var h=s[d],f=h.style.top,g=h.style.top+h.style.height;(f>=u&&g<=c||g>u&&g<=c||f>=u&&f<c)&&(l.friends.push(h),h.friends.push(l))}for(var m=0;m<s.length;++m){for(var C=s[m],S=[],y=0;y<100;++y)S.push(1);for(var w=0;w<C.friends.length;++w)C.friends[w].idx!==void 0&&(S[C.friends[w].idx]=0);C.idx=S.indexOf(1)}for(var E=0;E<s.length;++E){var b=0;if(!s[E].size){var D=[],P=Nae(s[E],0,D);b=100/(P+1),s[E].size=b;for(var O=0;O<D.length;++O)D[O].size=b}}for(var N=0;N<s.length;++N){var _=s[N];_.style.left=_.idx*_.size;for(var I=0,k=0;k<_.friends.length;++k){var B=_.friends[k].idx;I=I>B?I:B}I<=_.idx&&(_.size=100-_.idx*_.size);var U=_.idx===0?0:3;_.style.width="calc(".concat(_.size,"% - ").concat(U,"px)"),_.style.height="calc(".concat(_.style.height,"% - 2px)"),_.style.xOffset="calc(".concat(_.style.left,"% + ").concat(U,"px)")}return s}var jY={overlap:_ae,"no-overlap":Get};function ket(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Vet(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,i=e;return e in jY&&(i=jY[e]),ket(i)?i.apply(this,arguments):[]}var Gae=function(t){Ns(e,t);function e(){return Rn(this,e),_s(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,u=l===void 0?{}:l,c=u.timeSlotWrapper,d=c===void 0?Zu:c,h=a?a.slotGroupProp(o):{};return $.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(f,g){var m=a?a.slotProp(f,s):{};return $.createElement(d,{key:g,value:f,resource:s},$.createElement("div",Object.assign({},m,{className:an("rbc-time-slot",m.className)}),n&&n(f,g)))}))}}]),e}(T.Component);function UT(t){return typeof t=="string"?t:t+"%"}function Het(t){var e=t.style,i=t.className,r=t.event,n=t.accessors,s=t.rtl,o=t.selected,a=t.label,l=t.continuesPrior,u=t.continuesAfter,c=t.getters,d=t.onClick,h=t.onDoubleClick,f=t.isBackgroundEvent,g=t.onKeyPress,m=t.components,C=m.event,S=m.eventWrapper,y=n.title(r),w=n.tooltip(r),E=n.end(r),b=n.start(r),D=c.eventProp(r,b,E,o),P=[$.createElement("div",{key:"1",className:"rbc-event-label"},a),$.createElement("div",{key:"2",className:"rbc-event-content"},C?$.createElement(C,{event:r,title:y}):y)],O=e.height,N=e.top,_=e.width,I=e.xOffset,k=Fi(Fi({},D.style),{},rp({top:UT(N),height:UT(O),width:UT(_)},s?"right":"left",UT(I)));return $.createElement(S,Object.assign({type:"time"},t),$.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:h,style:k,onKeyDown:g,title:w?(typeof a=="string"?a+": ":"")+w:void 0,className:an(f?"rbc-background-event":"rbc-event",i,D.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},P))}var $et=function(e){var i=e.children,r=e.className,n=e.style,s=e.innerRef;return $.createElement("div",{className:r,style:n,ref:s},i)},Bet=$.forwardRef(function(t,e){return $.createElement($et,Object.assign({},t,{innerRef:e}))}),Wet=["dayProp"],Uet=["eventContainerWrapper"],kae=function(t){Ns(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=_s(this,e,[].concat(n)),i.state={selecting:!1,timeIndicatorPosition:null},i.intervalTriggered=!1,i.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,u=i.props,c=u.rtl,d=u.selected,h=u.accessors,f=u.localizer,g=u.getters,m=u.components,C=u.step,S=u.timeslots,y=u.dayLayoutAlgorithm,w=u.resizable,E=jV(i),b=E.slotMetrics,D=f.messages,P=Vet({events:a,accessors:h,slotMetrics:b,minimumStartDifference:Math.ceil(C*S/2),dayLayoutAlgorithm:y});return P.map(function(O,N){var _=O.event,I=O.style,k=h.end(_),B=h.start(_),U="eventTimeRangeFormat",K,j=b.startsBeforeDay(B),Q=b.startsAfterDay(k);j?U="eventTimeRangeEndFormat":Q&&(U="eventTimeRangeStartFormat"),j&&Q?K=D.allDay:K=f.format({start:B,end:k},U);var H=j||b.startsBefore(B),X=Q||b.startsAfter(k);return $.createElement(Het,{style:I,event:_,label:K,key:"evt_"+N,getters:g,rtl:c,components:m,continuesPrior:H,continuesAfter:X,accessors:h,resource:i.props.resource,selected:xM(_,d),onClick:function(le){return i._select(Fi(Fi(Fi({},_),i.props.resource&&{sourceResource:i.props.resource}),l&&{isBackgroundEvent:!0}),le)},onDoubleClick:function(le){return i._doubleClick(_,le)},isBackgroundEvent:l,onKeyPress:function(le){return i._keyPress(_,le)},resizable:w})})},i._selectable=function(){var o=i.containerRef.current,a=i.props,l=a.longPressThreshold,u=a.localizer,c=i._selector=new Pae(function(){return o},{longPressThreshold:l}),d=function(m){var C=i.props.onSelecting,S=i.state||{},y=h(m),w=y.startDate,E=y.endDate;C&&(u.eq(S.startDate,w,"minutes")&&u.eq(S.endDate,E,"minutes")||C({start:w,end:E,resourceId:i.props.resource})===!1)||(i.state.start!==y.start||i.state.end!==y.end||i.state.selecting!==y.selecting)&&i.setState(y)},h=function(m){var C=i.slotMetrics.closestSlotFromPoint(m,vf(o));i.state.selecting||(i._initialSlot=C);var S=i._initialSlot;u.lte(S,C)?C=i.slotMetrics.nextSlot(C):u.gt(S,C)&&(S=i.slotMetrics.nextSlot(S));var y=i.slotMetrics.getRange(u.min(S,C),u.max(S,C));return Fi(Fi({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},f=function(m,C){if(!qx(i.containerRef.current,m)){var S=h(m),y=S.startDate,w=S.endDate;i._selectSlot({startDate:y,endDate:w,action:C,box:m})}i.setState({selecting:!1})};c.on("selecting",d),c.on("selectStart",d),c.on("beforeSelect",function(g){if(i.props.selectable==="ignoreEvents")return!qx(i.containerRef.current,g)}),c.on("click",function(g){return f(g,"click")}),c.on("doubleClick",function(g){return f(g,"doubleClick")}),c.on("select",function(g){i.state.selecting&&(i._selectSlot(Fi(Fi({},i.state),{},{action:"select",bounds:g})),i.setState({selecting:!1}))}),c.on("reset",function(){i.state.selecting&&i.setState({selecting:!1})})},i._teardownSelectable=function(){i._selector&&(i._selector.teardown(),i._selector=null)},i._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,u=o.action,c=o.bounds,d=o.box,h=a,f=[];i.props.localizer.lte(h,l);)f.push(h),h=new Date(+h+i.props.step*60*1e3);ur(i.props.onSelectSlot,{slots:f,start:a,end:l,resourceId:i.props.resource,action:u,bounds:c,box:d})},i._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onSelectEvent,a)},i._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onDoubleClickEvent,a)},i._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onKeyPressEvent,a)},i.slotMetrics=IW(i.props),i.containerRef=T.createRef(),i}return Tn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,n){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,u=s.date,c=s.min,d=s.max,h=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||h){if(this.clearTimeIndicatorInterval(),a){var f=!h&&l.eq(r.date,u,"minutes")&&n.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(f)}}else a&&(l.neq(r.min,c,"minutes")||l.neq(r.max,d,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!n&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,n=r.min,s=r.max,o=r.getNow,a=o();if(a>=n&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,n=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,u=r.accessors,c=r.localizer,d=r.getters,h=d.dayProp,f=Gu(d,Wet),g=r.components,m=g.eventContainerWrapper,C=Gu(g,Uet);this.slotMetrics=this.slotMetrics.update(this.props);var S=this.slotMetrics,y=this.state,w=y.selecting,E=y.top,b=y.height,D=y.startDate,P=y.endDate,O={start:D,end:P},N=h(s),_=N.className,I=N.style,k=C.dayColumnWrapper||Bet;return $.createElement(k,{ref:this.containerRef,date:n,style:I,className:an(_,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:S},S.groups.map(function(B,U){return $.createElement(Gae,{key:U,group:B,resource:l,getters:f,components:C})}),$.createElement(m,{localizer:c,resource:l,accessors:u,getters:f,components:C,slotMetrics:S},$.createElement("div",{className:an("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&$.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:b}},$.createElement("span",null,c.format(O,"selectRangeFormat"))),a&&this.intervalTriggered&&$.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),e}($.Component);kae.defaultProps={dragThroughEvents:!0,timeslots:2};function zet(t){var e=t.min,i=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(i)?{start:r.add(e,-1,"day"),end:r.add(i,-1,"day")}:{start:e,end:i}}var jet=function(e){var i=e.min,r=e.max,n=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,u=e.components,c=e.getters,d=e.gutterRef,h=u.timeGutterWrapper,f=T.useMemo(function(){return zet({min:i,max:r,localizer:o})},[i==null?void 0:i.toISOString(),r==null?void 0:r.toISOString(),o]),g=f.start,m=f.end,C=T.useState(IW({min:g,max:m,timeslots:n,step:s,localizer:o})),S=tc(C,2),y=S[0],w=S[1];T.useEffect(function(){y&&w(y.update({min:g,max:m,timeslots:n,step:s,localizer:o}))},[g==null?void 0:g.toISOString(),m==null?void 0:m.toISOString(),n,s]);var E=T.useCallback(function(b,D){if(D)return null;var P=y.dateIsInGroup(a(),D);return $.createElement("span",{className:an("rbc-label",P&&"rbc-now")},o.format(b,"timeGutterFormat"))},[y,o,a]);return $.createElement(h,{slotMetrics:y},$.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:d},y.groups.map(function(b,D){return $.createElement(Gae,{key:D,group:b,resource:l,components:u,renderSlot:E,getters:c})})))},Ket=$.forwardRef(function(t,e){return $.createElement(jet,Object.assign({gutterRef:e},t))}),Yet=function(e){var i=e.label;return $.createElement($.Fragment,null,i)},qet=function(t){Ns(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=_s(this,e,[].concat(n)),i.handleHeaderClick=function(o,a,l){l.preventDefault(),ur(i.props.onDrillDown,[o,a])},i.renderRow=function(o){var a=i.props,l=a.events,u=a.rtl,c=a.selectable,d=a.getNow,h=a.range,f=a.getters,g=a.localizer,m=a.accessors,C=a.components,S=a.resizable,y=m.resourceId(o),w=o?l.filter(function(E){return m.resource(E)===y}):l;return $.createElement(Xx,{isAllDay:!0,rtl:u,getNow:d,minRows:2,maxRows:i.props.allDayMaxRows+1,range:h,events:w,resourceId:y,className:"rbc-allday-cell",selectable:c,selected:i.props.selected,components:C,accessors:m,getters:f,localizer:g,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyPress:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:S})},i}return Tn(e,[{key:"renderHeaderCells",value:function(r){var n=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,c=s.components.header,d=c===void 0?Lae:c,h=l();return r.map(function(f,g){var m=a(f),C=o.format(f,"dayFormat"),S=u(f),y=S.className,w=S.style,E=$.createElement(d,{date:f,label:C,localizer:o});return $.createElement("div",{key:g,style:w,className:an("rbc-header",y,o.isSameDate(f,h)&&"rbc-today")},m?$.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return n.handleHeaderClick(f,m,D)}},E):$.createElement("span",null,E))})}},{key:"render",value:function(){var r=this,n=this.props,s=n.width,o=n.rtl,a=n.resources,l=n.range,u=n.events,c=n.getNow,d=n.accessors,h=n.selectable,f=n.components,g=n.getters,m=n.scrollRef,C=n.localizer,S=n.isOverflowing,y=n.components,w=y.timeGutterHeader,E=y.resourceHeader,b=E===void 0?Yet:E,D=n.resizable,P={};S&&(P[o?"marginLeft":"marginRight"]="".concat(boe()-1,"px"));var O=a.groupEvents(u);return $.createElement("div",{style:P,ref:m,className:an("rbc-time-header",S&&"rbc-overflowing")},$.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},w&&$.createElement(w,null)),a.map(function(N,_){var I=tc(N,2),k=I[0],B=I[1];return $.createElement("div",{className:"rbc-time-header-content",key:k||_},B&&$.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(_)},$.createElement("div",{className:"rbc-header"},$.createElement(b,{index:_,label:d.resourceTitle(B),resource:B}))),$.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),$.createElement(Xx,{isAllDay:!0,rtl:o,getNow:c,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:O.get(k)||[],resourceId:B&&k,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:f,accessors:d,getters:g,localizer:C,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:D}))}))}}]),e}($.Component),a_={};function Xet(t,e){return{map:function(r){return t?t.map(function(n,s){return r([e.resourceId(n),n],s)}):[r([a_,null],0)]},groupEvents:function(r){var n=new Map;return t?(r.forEach(function(s){var o=e.resource(s)||a_;if(Array.isArray(o))o.forEach(function(l){var u=n.get(l)||[];u.push(s),n.set(l,u)});else{var a=n.get(o)||[];a.push(s),n.set(o,a)}}),n):(n.set(a_,r),n)}}}var FC=function(t){Ns(e,t);function e(i){var r;return Rn(this,e),r=_s(this,e,[i]),r.handleScroll=function(n){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=n.target.scrollLeft)},r.handleResize=function(){$4(r.rafHandle),r.rafHandle=Eoe(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];ur(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];ur(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];ur(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(n,s,o,a,l){var u=r.props,c=u.popup,d=u.onDrillDown,h=u.onShowMore,f=u.getDrilldownView,g=u.doShowMoreDrillDown;if(r.clearSelection(),c){var m=woe(o,r.containerRef.current);r.setState({overlay:{date:s,events:n,position:Fi(Fi({},m),{},{width:"200px"}),target:l}})}else g&&ur(d,[s,f(s)||Xn.DAY]);ur(h,[n,s,a])},r.handleSelectAllDaySlot=function(n,s){var o=r.props.onSelectSlot,a=new Date(n[0]),l=new Date(n[n.length-1]);l.setDate(n[n.length-1].getDate()+1),ur(o,{slots:n,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var n=r.contentRef.current;if(n!=null&&n.scrollHeight){var s=n.scrollHeight>n.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=qoe(function(n,s){return Xet(n,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=$.createRef(),r.contentRef=$.createRef(),r.containerRef=$.createRef(),r._scrollRatio=null,r.gutterRef=T.createRef(),r}return Tn(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),$4(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,n,s,o){var a=this,l=this.props,u=l.min,c=l.max,d=l.components,h=l.accessors,f=l.localizer,g=l.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,h),C=m.groupEvents(n),S=m.groupEvents(s);return m.map(function(y,w){var E=tc(y,2),b=E[0],D=E[1];return r.map(function(P,O){var N=(C.get(b)||[]).filter(function(I){return f.inRange(P,h.start(I),h.end(I),"day")}),_=(S.get(b)||[]).filter(function(I){return f.inRange(P,h.start(I),h.end(I),"day")});return $.createElement(kae,Object.assign({},a.props,{localizer:f,min:f.merge(P,u),max:f.merge(P,c),resource:D&&b,components:d,isNow:f.isSameDate(P,o),key:w+"-"+O,date:P,events:N,backgroundEvents:_,dayLayoutAlgorithm:g}))})})}},{key:"render",value:function(){var r,n=this.props,s=n.events,o=n.backgroundEvents,a=n.range,l=n.width,u=n.rtl,c=n.selected,d=n.getNow,h=n.resources,f=n.components,g=n.accessors,m=n.getters,C=n.localizer,S=n.min,y=n.max,w=n.showMultiDayTimes,E=n.longPressThreshold,b=n.resizable;l=l||this.state.gutterWidth;var D=a[0],P=a[a.length-1];this.slots=a.length;var O=[],N=[],_=[];return s.forEach(function(I){if(aE(I,D,P,g,C)){var k=g.start(I),B=g.end(I);g.allDay(I)||C.startAndEndAreDateOnly(k,B)||!w&&!C.isSameDate(k,B)?O.push(I):N.push(I)}}),o.forEach(function(I){aE(I,D,P,g,C)&&_.push(I)}),O.sort(function(I,k){return gG(I,k,g,C)}),$.createElement("div",{className:an("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},$.createElement(qet,{range:a,events:O,width:l,rtl:u,getNow:d,localizer:C,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,g),selectable:this.props.selectable,accessors:g,getters:m,components:f,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:b}),this.props.popup&&this.renderOverlay(),$.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},$.createElement(Ket,{date:D,ref:this.gutterRef,localizer:C,min:C.merge(D,S),max:C.merge(D,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:f,className:"rbc-time-gutter",getters:m}),this.renderEvents(a,N,_,d())))}},{key:"renderOverlay",value:function(){var r,n,s=this,o=(r=(n=this.state)===null||n===void 0?void 0:n.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,u=a.localizer,c=a.components,d=a.getters,h=a.selected,f=a.popupOffset,g=a.handleDragStart,m=function(){return s.setState({overlay:null})};return $.createElement(FW,{overlay:o,accessors:l,localizer:u,components:c,getters:d,selected:h,popupOffset:f,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var n,s=(n=r.gutterRef)!==null&&n!==void 0&&n.current?pG(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,n),o,"milliseconds"),u=a.diff(n,s,"milliseconds");this._scrollRatio=l/u}}]),e}(T.Component);FC.defaultProps={step:30,timeslots:2};var Qet=["date","localizer","min","max","scrollToTime","enableAutoScroll"],OM=function(t){Ns(e,t);function e(){return Rn(this,e),_s(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,g=Gu(r,Qet),m=e.range(n,{localizer:s});return $.createElement(FC,Object.assign({},g,{range:m,eventOffset:10,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),e}($.Component);OM.range=function(t,e){var i=e.localizer;return[i.startOf(t,"day")]};OM.navigate=function(t,e,i){var r=i.localizer;switch(e){case no.PREVIOUS:return r.add(t,-1,"day");case no.NEXT:return r.add(t,1,"day");default:return t}};OM.title=function(t,e){var i=e.localizer;return i.format(t,"dayHeaderFormat")};var Zet=["date","localizer","min","max","scrollToTime","enableAutoScroll"],sh=function(t){Ns(e,t);function e(){return Rn(this,e),_s(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,g=Gu(r,Zet),m=e.range(n,this.props);return $.createElement(FC,Object.assign({},g,{range:m,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),e}($.Component);sh.defaultProps=FC.defaultProps;sh.navigate=function(t,e,i){var r=i.localizer;switch(e){case no.PREVIOUS:return r.add(t,-1,"week");case no.NEXT:return r.add(t,1,"week");default:return t}};sh.range=function(t,e){var i=e.localizer,r=i.startOfWeek(),n=i.startOf(t,"week",r),s=i.endOf(t,"week",r);return i.range(n,s)};sh.title=function(t,e){var i=e.localizer,r=sh.range(t,{localizer:i}),n=iae(r),s=n[0],o=n.slice(1);return i.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Jet=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function LW(t,e){return sh.range(t,e).filter(function(i){return[6,0].indexOf(i.getDay())===-1})}var nR=function(t){Ns(e,t);function e(){return Rn(this,e),_s(this,e,arguments)}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,d=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,f=h===void 0?!0:h,g=Gu(r,Jet),m=LW(n,this.props);return $.createElement(FC,Object.assign({},g,{range:m,eventOffset:15,localizer:s,min:a,max:u,scrollToTime:d,enableAutoScroll:f}))}}]),e}($.Component);nR.defaultProps=FC.defaultProps;nR.range=LW;nR.navigate=sh.navigate;nR.title=function(t,e){var i=e.localizer,r=LW(t,{localizer:i}),n=iae(r),s=n[0],o=n.slice(1);return i.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};function oh(t){var e=t.accessors,i=t.components,r=t.date,n=t.events,s=t.getters,o=t.length,a=t.localizer,l=t.onDoubleClickEvent,u=t.onSelectEvent,c=t.selected,d=T.useRef(null),h=T.useRef(null),f=T.useRef(null),g=T.useRef(null),m=T.useRef(null);T.useEffect(function(){y()});var C=function(P,O,N){var _=i.event,I=i.date;return O=O.filter(function(k){return aE(k,a.startOf(P,"day"),a.endOf(P,"day"),e,a)}),O.map(function(k,B){var U=e.title(k),K=e.end(k),j=e.start(k),Q=s.eventProp(k,j,K,xM(k,c)),H=B===0&&a.format(P,"agendaDateFormat"),X=B===0?$.createElement("td",{rowSpan:O.length,className:"rbc-agenda-date-cell"},I?$.createElement(I,{day:P,label:H}):H):!1;return $.createElement("tr",{key:N+"_"+B,className:Q.className,style:Q.style},X,$.createElement("td",{className:"rbc-agenda-time-cell"},S(P,k)),$.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(le){return u&&u(k,le)},onDoubleClick:function(le){return l&&l(k,le)}},_?$.createElement(_,{event:k,title:U}):U))},[])},S=function(P,O){var N="",_=i.time,I=a.messages.allDay,k=e.end(O),B=e.start(O);return e.allDay(O)||(a.eq(B,k)?I=a.format(B,"agendaTimeFormat"):a.isSameDate(B,k)?I=a.format({start:B,end:k},"agendaTimeRangeFormat"):a.isSameDate(P,B)?I=a.format(B,"agendaTimeFormat"):a.isSameDate(P,k)&&(I=a.format(k,"agendaTimeFormat"))),a.gt(P,B,"day")&&(N="rbc-continues-prior"),a.lt(P,k,"day")&&(N+=" rbc-continues-after"),$.createElement("span",{className:N.trim()},_?$.createElement(_,{event:O,day:P,label:I}):I)},y=function(){if(m.current){var P=d.current,O=m.current.firstChild;if(O){var N=g.current.scrollHeight>g.current.clientHeight,_=[],I=_;_=[pG(O.children[0]),pG(O.children[1])],(I[0]!==_[0]||I[1]!==_[1])&&(h.current.style.width=_[0]+"px",f.current.style.width=_[1]+"px"),N?(HQ(P,"rbc-header-overflowing"),P.style.marginRight=boe()+"px"):$Q(P,"rbc-header-overflowing")}}},w=a.messages,E=a.add(r,o,"day"),b=a.range(r,E,"day");return n=n.filter(function(D){return aE(D,a.startOf(r,"day"),a.endOf(E,"day"),e,a)}),n.sort(function(D,P){return+e.start(D)-+e.start(P)}),$.createElement("div",{className:"rbc-agenda-view"},n.length!==0?$.createElement($.Fragment,null,$.createElement("table",{ref:d,className:"rbc-agenda-table"},$.createElement("thead",null,$.createElement("tr",null,$.createElement("th",{className:"rbc-header",ref:h},w.date),$.createElement("th",{className:"rbc-header",ref:f},w.time),$.createElement("th",{className:"rbc-header"},w.event)))),$.createElement("div",{className:"rbc-agenda-content",ref:g},$.createElement("table",{className:"rbc-agenda-table"},$.createElement("tbody",{ref:m},b.map(function(D,P){return C(D,n,P)}))))):$.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}oh.defaultProps={length:30};oh.range=function(t,e){var i=e.length,r=i===void 0?oh.defaultProps.length:i,n=e.localizer,s=n.add(t,r,"day");return{start:t,end:s}};oh.navigate=function(t,e,i){var r=i.length,n=r===void 0?oh.defaultProps.length:r,s=i.localizer;switch(e){case no.PREVIOUS:return s.add(t,-n,"day");case no.NEXT:return s.add(t,n,"day");default:return t}};oh.title=function(t,e){var i=e.length,r=i===void 0?oh.defaultProps.length:i,n=e.localizer,s=n.add(t,r,"day");return n.format({start:t,end:s},"agendaHeaderFormat")};var ZD=rp(rp(rp(rp(rp({},Xn.MONTH,AM),Xn.WEEK,sh),Xn.WORK_WEEK,nR),Xn.DAY,OM),Xn.AGENDA,oh),ett=["action","date","today"];function ttt(t,e){var i=e.action,r=e.date,n=e.today,s=Gu(e,ett);switch(t=typeof t=="string"?ZD[t]:t,i){case no.TODAY:r=n||new Date;break;case no.DATE:break;default:Xw(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,i,s)}return r}var itt=function(t){Ns(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=_s(this,e,[].concat(n)),i.navigate=function(o){i.props.onNavigate(o)},i.view=function(o){i.props.onView(o)},i}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.localizer.messages,s=r.label;return $.createElement("div",{className:"rbc-toolbar"},$.createElement("span",{className:"rbc-btn-group"},$.createElement("button",{type:"button",onClick:this.navigate.bind(null,no.TODAY)},n.today),$.createElement("button",{type:"button",onClick:this.navigate.bind(null,no.PREVIOUS)},n.previous),$.createElement("button",{type:"button",onClick:this.navigate.bind(null,no.NEXT)},n.next)),$.createElement("span",{className:"rbc-toolbar-label"},s),$.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(n)))}},{key:"viewNamesGroup",value:function(r){var n=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return $.createElement("button",{type:"button",key:a,className:an({"rbc-active":o===a}),onClick:n.view.bind(null,a)},r[a])})}}]),e}($.Component);function rtt(t,e){var i=null;return typeof e=="function"?i=e(t):typeof e=="string"&&yc(t)==="object"&&t!=null&&e in t&&(i=t[e]),i}var md=function(e){return function(i){return rtt(i,e)}},ntt=["view","date","getNow","onNavigate"],stt=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Vae(t){if(Array.isArray(t))return t;for(var e=[],i=0,r=Object.entries(t);i<r.length;i++){var n=tc(r[i],2),s=n[0],o=n[1];o&&e.push(s)}return e}function ott(t,e){var i=e.views,r=Vae(i);return r.indexOf(t)!==-1}var Hae=function(t){Ns(e,t);function e(){var i;Rn(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=_s(this,e,[].concat(n)),i.getViews=function(){var o=i.props.views;return Array.isArray(o)?PJe(o,function(a,l){return a[l]=ZD[l]},{}):yc(o)==="object"?gae(o,function(a,l){return a===!0?ZD[l]:a}):ZD},i.getView=function(){var o=i.getViews();return o[i.props.view]},i.getDrilldownView=function(o){var a=i.props,l=a.view,u=a.drilldownView,c=a.getDrilldownView;return c?c(o,l,Object.keys(i.getViews())):u},i.handleRangeChange=function(o,a,l){var u=i.props,c=u.onRangeChange,d=u.localizer;c&&a.range&&c(a.range(o,{localizer:d}),l)},i.handleNavigate=function(o,a){var l=i.props,u=l.view,c=l.date,d=l.getNow,h=l.onNavigate,f=Gu(l,ntt),g=i.getView(),m=d();c=ttt(g,Fi(Fi({},f),{},{action:o,date:a||c||m,today:m})),h(c,u,o),i.handleRangeChange(c,g)},i.handleViewChange=function(o){o!==i.props.view&&ott(o,i.props)&&i.props.onView(o);var a=i.getViews();i.handleRangeChange(i.props.date||i.props.getNow(),a[o],o)},i.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onSelectEvent,a)},i.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onDoubleClickEvent,a)},i.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];ur(i.props.onKeyPressEvent,a)},i.handleSelectSlot=function(o){ur(i.props.onSelectSlot,o)},i.handleDrillDown=function(o,a){var l=i.props.onDrillDown;if(l){l(o,a,i.drilldownView);return}a&&i.handleViewChange(a),i.handleNavigate(no.DATE,o)},i.state={context:e.getContext(i.props)},i}return Tn(e,[{key:"render",value:function(){var r=this.props,n=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.style,u=r.className,c=r.elementProps,d=r.date,h=r.getNow,f=r.length,g=r.showMultiDayTimes,m=r.onShowMore,C=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var S=Gu(r,stt);d=d||h();var y=this.getView(),w=this.state.context,E=w.accessors,b=w.components,D=w.getters,P=w.localizer,O=w.viewNames,N=b.toolbar||itt,_=y.title(d,{localizer:P,length:f});return $.createElement("div",Object.assign({},c,{className:an(u,"rbc-calendar",S.rtl&&"rbc-rtl"),style:l}),s&&$.createElement(N,{date:d,view:n,views:O,label:_,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:P}),$.createElement(y,Object.assign({},S,{events:o,backgroundEvents:a,date:d,getNow:h,length:f,localizer:P,getters:D,components:b,accessors:E,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:m,doShowMoreDrillDown:C})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var n=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,c=r.resourceIdAccessor,d=r.resourceTitleAccessor,h=r.eventPropGetter,f=r.backgroundEventPropGetter,g=r.slotPropGetter,m=r.slotGroupPropGetter,C=r.dayPropGetter,S=r.view,y=r.views,w=r.localizer,E=r.culture,b=r.messages,D=b===void 0?{}:b,P=r.components,O=P===void 0?{}:P,N=r.formats,_=N===void 0?{}:N,I=Vae(y),k=uet(D);return{viewNames:I,localizer:oet(w,E,_,k),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return f&&f.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return m&&m.apply(void 0,arguments)||{}},dayProp:function(){return C&&C.apply(void 0,arguments)||{}}},components:fJe(O[S]||{},oJe(O,I),{eventWrapper:Zu,backgroundEventWrapper:Zu,eventContainerWrapper:Zu,dateCellWrapper:Zu,weekWrapper:Zu,timeSlotWrapper:Zu,timeGutterWrapper:Zu}),accessors:{start:md(n),end:md(s),allDay:md(o),tooltip:md(a),title:md(l),resource:md(u),resourceId:md(c),resourceTitle:md(d)}}}}]),e}($.Component);Hae.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Xn.MONTH,views:[Xn.MONTH,Xn.WEEK,Xn.DAY,Xn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Xn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var att=roe(Hae,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),ltt=function(e,i,r){var n=e.start,s=e.end;return r.format(n,"MMMM DD",i)+" – "+r.format(s,r.eq(n,s,"month")?"DD":"MMMM DD",i)},utt=function(e,i,r){var n=e.start,s=e.end;return r.format(n,"L",i)+" – "+r.format(s,"L",i)},l_=function(e,i,r){var n=e.start,s=e.end;return r.format(n,"LT",i)+" – "+r.format(s,"LT",i)},ctt=function(e,i,r){var n=e.start;return r.format(n,"LT",i)+" – "},dtt=function(e,i,r){var n=e.end;return" – "+r.format(n,"LT",i)},htt={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:l_,eventTimeRangeFormat:l_,eventTimeRangeStartFormat:ctt,eventTimeRangeEndFormat:dtt,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:ltt,agendaHeaderFormat:utt,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:l_};function vd(t){var e=t&&t.toLowerCase();return e==="FullYear"?e="year":e||(e=void 0),e}function ptt(t){t.extend(Cse),t.extend(LJe),t.extend(NJe),t.extend(kJe),t.extend(mse),t.extend(HJe),t.extend(BJe);var e=function(ie,ue){return ue?ie.locale(ue):ie},i=t.tz?t.tz:t;function r(J){return i(J).toDate().getTimezoneOffset()}function n(J,ie){var ue,me=i(J),se=i(ie);if(!i.tz)return me.toDate().getTimezoneOffset()-se.toDate().getTimezoneOffset();var he=(ue=me.tz().$x.$timezone)!==null&&ue!==void 0?ue:t.tz.guess(),Ee=-i.tz(+me,he).utcOffset(),pe=-i.tz(+se,he).utcOffset();return Ee-pe}function s(J){var ie=i(J).startOf("day");return n(ie,J)}function o(J,ie,ue){var me=vd(ue),se=me?i(J).startOf(me):i(J),he=me?i(ie).startOf(me):i(ie);return[se,he,me]}function a(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ie=arguments.length>1?arguments[1]:void 0,ue=vd(ie);return ue?i(J).startOf(ue).toDate():i(J).toDate()}function l(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ie=arguments.length>1?arguments[1]:void 0,ue=vd(ie);return ue?i(J).endOf(ue).toDate():i(J).toDate()}function u(J,ie,ue){var me=o(J,ie,ue),se=tc(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isSame(Ee,pe)}function c(J,ie,ue){return!u(J,ie,ue)}function d(J,ie,ue){var me=o(J,ie,ue),se=tc(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isAfter(Ee,pe)}function h(J,ie,ue){var me=o(J,ie,ue),se=tc(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isBefore(Ee,pe)}function f(J,ie,ue){var me=o(J,ie,ue),se=tc(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isSameOrBefore(Ee,pe)}function g(J,ie,ue){var me=o(J,ie,ue),se=tc(me,3),he=se[0],Ee=se[1],pe=se[2];return he.isSameOrBefore(Ee,pe)}function m(J,ie,ue){var me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",se=vd(me),he=i(J),Ee=i(ie),pe=i(ue);return he.isBetween(Ee,pe,se,"[]")}function C(J,ie){var ue=i(J),me=i(ie),se=t.min(ue,me);return se.toDate()}function S(J,ie){var ue=i(J),me=i(ie),se=t.max(ue,me);return se.toDate()}function y(J,ie){if(!J&&!ie)return null;var ue=i(ie).format("HH:mm:ss"),me=i(J).startOf("day").format("MM/DD/YYYY");return t("".concat(me," ").concat(ue),"MM/DD/YYYY HH:mm:ss").toDate()}function w(J,ie,ue){var me=vd(ue);return i(J).add(ie,me).toDate()}function E(J,ie){for(var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",me=vd(ue),se=i(J).toDate(),he=[];g(se,ie);)he.push(se),se=w(se,1,me);return he}function b(J,ie){var ue=vd(ie),me=a(J,ue);return u(me,J)?me:w(me,1,ue)}function D(J,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",me=vd(ue),se=i(J),he=i(ie);return he.diff(se,me)}function P(J){var ie=i(J);return ie.minutes()}function O(J){var ie=J?t.localeData(J):t.localeData();return ie?ie.firstDayOfWeek():0}function N(J){return i(J).startOf("month").startOf("week").toDate()}function _(J){return i(J).endOf("month").endOf("week").toDate()}function I(J){for(var ie=N(J),ue=_(J),me=[];g(ie,ue);)me.push(ie),ie=w(ie,1,"d");return me}function k(J,ie,ue){return i(J).startOf("day").minute(ie+ue).toDate()}function B(J,ie){return D(J,ie,"minutes")}function U(J){var ie=i(J).startOf("day"),ue=i(J);return ue.diff(ie,"minutes")+s(J)}function K(J,ie){var ue=i(J),me=i(ie);return ue.isBefore(me,"day")}function j(J,ie,ue){var me=i(ie),se=i(ue);return me.isSameOrAfter(se,"minutes")}function Q(J,ie){var ue=i(J),me=i(ie);return me.diff(ue,"day")}function H(J){var ie=J.evtA,ue=ie.start,me=ie.end,se=ie.allDay,he=J.evtB,Ee=he.start,pe=he.end,ye=he.allDay,Ce=+a(ue,"day")-+a(Ee,"day"),re=Q(ue,me),oe=Q(Ee,pe);return Ce||oe-re||!!ye-!!se||+ue-+Ee||+me-+pe}function X(J){var ie=J.event,ue=ie.start,me=ie.end,se=J.range,he=se.start,Ee=se.end,pe=i(ue).startOf("day"),ye=i(me),Ce=i(he),re=i(Ee),oe=pe.isSameOrBefore(re,"day"),fe=!pe.isSame(ye,"minutes"),we=fe?ye.isAfter(Ce,"minutes"):ye.isSameOrAfter(Ce,"minutes");return oe&&we}function te(J,ie){var ue=i(J),me=i(ie);return ue.isSame(me,"day")}function le(){var J=new Date,ie=/-/.test(J.toString())?"-":"",ue=J.getTimezoneOffset(),me=Number("".concat(ie).concat(Math.abs(ue))),se=i().utcOffset();return se>me?1:0}return new set({formats:htt,firstOfWeek:O,firstVisibleDay:N,lastVisibleDay:_,visibleDays:I,format:function(ie,ue,me){return e(i(ie),me).format(ue)},lt:h,lte:g,gt:d,gte:f,eq:u,neq:c,merge:y,inRange:m,startOf:a,endOf:l,range:E,add:w,diff:D,ceil:b,min:C,max:S,minutes:P,getSlotDate:k,getTimezoneOffset:r,getDstOffset:n,getTotalMin:B,getMinutesFromMidnight:U,continuesPrior:K,continuesAfter:j,sortEvents:H,inEventRange:X,isSameDate:te,browserTZOffset:le})}const ftt=ptt(or),gtt=()=>{T.useEffect(()=>{i()},[]);const[t,e]=T.useState([]),i=async()=>{try{const r=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/gettrainings");if(!r.ok)throw new Error("Error in fetch: "+r.statusText);const s=(await r.json()).map(o=>({start:or(o.date).toDate(),end:or(o.date).add(o.duration,"minute").toDate(),title:`${o.activity}/${o.customer.firstname} ${o.customer.lastname}`}));e(s)}catch(r){console.error(r)}};return Y.jsx("div",{className:"height600",children:Y.jsx(att,{defaultView:Xn.WEEK,localizer:ftt,events:t,startAccessor:"start",endAccessor:"end",style:{height:"90vh"}})})};function mtt(t){return t==null}var vtt=mtt;const Si=Pt(vtt);var Ctt=Jc,ytt=us,Stt=Wl,wtt="[object String]";function Ett(t){return typeof t=="string"||!ytt(t)&&Stt(t)&&Ctt(t)==wtt}var btt=Ett;const sR=Pt(btt);var $ae={exports:{}},Pi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=typeof Symbol=="function"&&Symbol.for,_W=Dn?Symbol.for("react.element"):60103,NW=Dn?Symbol.for("react.portal"):60106,MM=Dn?Symbol.for("react.fragment"):60107,FM=Dn?Symbol.for("react.strict_mode"):60108,IM=Dn?Symbol.for("react.profiler"):60114,LM=Dn?Symbol.for("react.provider"):60109,_M=Dn?Symbol.for("react.context"):60110,GW=Dn?Symbol.for("react.async_mode"):60111,NM=Dn?Symbol.for("react.concurrent_mode"):60111,GM=Dn?Symbol.for("react.forward_ref"):60112,kM=Dn?Symbol.for("react.suspense"):60113,Rtt=Dn?Symbol.for("react.suspense_list"):60120,VM=Dn?Symbol.for("react.memo"):60115,HM=Dn?Symbol.for("react.lazy"):60116,Ttt=Dn?Symbol.for("react.block"):60121,Dtt=Dn?Symbol.for("react.fundamental"):60117,Ptt=Dn?Symbol.for("react.responder"):60118,xtt=Dn?Symbol.for("react.scope"):60119;function Jo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _W:switch(t=t.type,t){case GW:case NM:case MM:case IM:case FM:case kM:return t;default:switch(t=t&&t.$$typeof,t){case _M:case GM:case HM:case VM:case LM:return t;default:return e}}case NW:return e}}}function Bae(t){return Jo(t)===NM}Pi.AsyncMode=GW;Pi.ConcurrentMode=NM;Pi.ContextConsumer=_M;Pi.ContextProvider=LM;Pi.Element=_W;Pi.ForwardRef=GM;Pi.Fragment=MM;Pi.Lazy=HM;Pi.Memo=VM;Pi.Portal=NW;Pi.Profiler=IM;Pi.StrictMode=FM;Pi.Suspense=kM;Pi.isAsyncMode=function(t){return Bae(t)||Jo(t)===GW};Pi.isConcurrentMode=Bae;Pi.isContextConsumer=function(t){return Jo(t)===_M};Pi.isContextProvider=function(t){return Jo(t)===LM};Pi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_W};Pi.isForwardRef=function(t){return Jo(t)===GM};Pi.isFragment=function(t){return Jo(t)===MM};Pi.isLazy=function(t){return Jo(t)===HM};Pi.isMemo=function(t){return Jo(t)===VM};Pi.isPortal=function(t){return Jo(t)===NW};Pi.isProfiler=function(t){return Jo(t)===IM};Pi.isStrictMode=function(t){return Jo(t)===FM};Pi.isSuspense=function(t){return Jo(t)===kM};Pi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===MM||t===NM||t===IM||t===FM||t===kM||t===Rtt||typeof t=="object"&&t!==null&&(t.$$typeof===HM||t.$$typeof===VM||t.$$typeof===LM||t.$$typeof===_M||t.$$typeof===GM||t.$$typeof===Dtt||t.$$typeof===Ptt||t.$$typeof===xtt||t.$$typeof===Ttt)};Pi.typeOf=Jo;$ae.exports=Pi;var mG=$ae.exports,Att=Jc,Ott=Wl,Mtt="[object Number]";function Ftt(t){return typeof t=="number"||Ott(t)&&Att(t)==Mtt}var Wae=Ftt;const Itt=Pt(Wae);var Ltt=Wae;function _tt(t){return Ltt(t)&&t!=+t}var Ntt=_tt;const oR=Pt(Ntt);var El=function(e){return e===0?0:e>0?1:-1},pp=function(e){return sR(e)&&e.indexOf("%")===e.length-1},ze=function(e){return Itt(e)&&!oR(e)},sn=function(e){return ze(e)||sR(e)},Gtt=0,$M=function(e){var i=++Gtt;return"".concat(e||"").concat(i)},Cf=function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ze(e)&&!sR(e))return r;var s;if(pp(e)){var o=e.indexOf("%");s=i*parseFloat(e.slice(0,o))/100}else s=+e;return oR(s)&&(s=r),n&&s>i&&(s=i),s},Pd=function(e){if(!e)return null;var i=Object.keys(e);return i&&i.length?e[i[0]]:null},ktt=function(e){if(!Array.isArray(e))return!1;for(var i=e.length,r={},n=0;n<i;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Pg=function(e,i){return ze(e)&&ze(i)?function(r){return e+r*(i-e)}:function(){return i}};function vG(t,e,i){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ia(r,e))===i})}function Pm(t,e){for(var i in t)if({}.hasOwnProperty.call(t,i)&&(!{}.hasOwnProperty.call(e,i)||t[i]!==e[i]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function CG(t){"@babel/helpers - typeof";return CG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CG(t)}var Vtt=["viewBox","children"],Htt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KY=["points","pathLength"],u_={svg:Vtt,polygon:KY,polyline:KY},kW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qx=function(e,i){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),!wC(r))return null;var n={};return Object.keys(r).forEach(function(s){kW.includes(s)&&(n[s]=i||function(o){return r[s](r,o)})}),n},$tt=function(e,i,r){return function(n){return e(i,r,n),null}},Zx=function(e,i,r){if(!wC(e)||CG(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(s){var o=e[s];kW.includes(s)&&typeof o=="function"&&(n||(n={}),n[s]=$tt(o,i,r))}),n},Btt=["children"],Wtt=["children"];function YY(t,e){if(t==null)return{};var i=Utt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Utt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var qY={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},dc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},XY=null,c_=null,VW=function t(e){if(e===XY&&Array.isArray(c_))return c_;var i=[];return T.Children.forEach(e,function(r){Si(r)||(mG.isFragment(r)?i=i.concat(t(r.props.children)):i.push(r))}),c_=i,XY=e,i};function Pl(t,e){var i=[],r=[];return Array.isArray(e)?r=e.map(function(n){return dc(n)}):r=[dc(e)],VW(t).forEach(function(n){var s=Ia(n,"type.displayName")||Ia(n,"type.name");r.indexOf(s)!==-1&&i.push(n)}),i}function Do(t,e){var i=Pl(t,e);return i&&i[0]}var QY=function(e){if(!e||!e.props)return!1;var i=e.props,r=i.width,n=i.height;return!(!ze(r)||r<=0||!ze(n)||n<=0)},ztt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jtt=function(e){return e&&e.type&&sR(e.type)&&ztt.indexOf(e.type)>=0},Ktt=function(e,i,r,n){var s,o=(s=u_==null?void 0:u_[n])!==null&&s!==void 0?s:[];return!zt(e)&&(n&&o.includes(i)||Htt.includes(i))||r&&kW.includes(i)},fi=function(e,i,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!wC(n))return null;var s={};return Object.keys(n).forEach(function(o){var a;Ktt((a=n)===null||a===void 0?void 0:a[o],o,i,r)&&(s[o]=n[o])}),s},yG=function t(e,i){if(e===i)return!0;var r=T.Children.count(e);if(r!==T.Children.count(i))return!1;if(r===0)return!0;if(r===1)return ZY(Array.isArray(e)?e[0]:e,Array.isArray(i)?i[0]:i);for(var n=0;n<r;n++){var s=e[n],o=i[n];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!ZY(s,o))return!1}return!0},ZY=function(e,i){if(Si(e)&&Si(i))return!0;if(!Si(e)&&!Si(i)){var r=e.props||{},n=r.children,s=YY(r,Btt),o=i.props||{},a=o.children,l=YY(o,Wtt);return n&&a?Pm(s,l)&&yG(n,a):!n&&!a?Pm(s,l):!1}return!1},JY=function(e,i){var r=[],n={};return VW(e).forEach(function(s,o){if(jtt(s))r.push(s);else if(s){var a=dc(s.type),l=i[a]||{},u=l.handler,c=l.once;if(u&&(!c||!n[a])){var d=u(s,a,o);r.push(d),n[a]=!0}}}),r},Ytt=function(e){var i=e&&e.type;return i&&qY[i]?qY[i]:null},qtt=function(e,i){return VW(i).indexOf(e)},Xtt=["children","width","height","viewBox","className","style","title","desc"];function SG(){return SG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},SG.apply(this,arguments)}function Qtt(t,e){if(t==null)return{};var i=Ztt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ztt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function wG(t){var e=t.children,i=t.width,r=t.height,n=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,u=Qtt(t,Xtt),c=n||{width:i,height:r,x:0,y:0},d=Le("recharts-surface",s);return $.createElement("svg",SG({},fi(u,!0,"svg"),{className:d,width:i,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,a),$.createElement("desc",null,l),e)}var Jtt=["children","className"];function EG(){return EG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},EG.apply(this,arguments)}function eit(t,e){if(t==null)return{};var i=tit(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tit(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Cn=$.forwardRef(function(t,e){var i=t.children,r=t.className,n=eit(t,Jtt),s=Le("recharts-layer",r);return $.createElement("g",EG({className:s},fi(n,!0),{ref:e}),i)}),hc=function(e,i){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s]},iit=oW;function rit(t,e,i){var r=t.length;return i=i===void 0?r:i,!e&&i>=r?t:iit(t,e,i)}var nit=rit,sit="\\ud800-\\udfff",oit="\\u0300-\\u036f",ait="\\ufe20-\\ufe2f",lit="\\u20d0-\\u20ff",uit=oit+ait+lit,cit="\\ufe0e\\ufe0f",dit="\\u200d",hit=RegExp("["+dit+sit+uit+cit+"]");function pit(t){return hit.test(t)}var Uae=pit;function fit(t){return t.split("")}var git=fit,zae="\\ud800-\\udfff",mit="\\u0300-\\u036f",vit="\\ufe20-\\ufe2f",Cit="\\u20d0-\\u20ff",yit=mit+vit+Cit,Sit="\\ufe0e\\ufe0f",wit="["+zae+"]",bG="["+yit+"]",RG="\\ud83c[\\udffb-\\udfff]",Eit="(?:"+bG+"|"+RG+")",jae="[^"+zae+"]",Kae="(?:\\ud83c[\\udde6-\\uddff]){2}",Yae="[\\ud800-\\udbff][\\udc00-\\udfff]",bit="\\u200d",qae=Eit+"?",Xae="["+Sit+"]?",Rit="(?:"+bit+"(?:"+[jae,Kae,Yae].join("|")+")"+Xae+qae+")*",Tit=Xae+qae+Rit,Dit="(?:"+[jae+bG+"?",bG,Kae,Yae,wit].join("|")+")",Pit=RegExp(RG+"(?="+RG+")|"+Dit+Tit,"g");function xit(t){return t.match(Pit)||[]}var Ait=xit,Oit=git,Mit=Uae,Fit=Ait;function Iit(t){return Mit(t)?Fit(t):Oit(t)}var Lit=Iit,_it=nit,Nit=Uae,Git=Lit,kit=joe;function Vit(t){return function(e){e=kit(e);var i=Nit(e)?Git(e):void 0,r=i?i[0]:e.charAt(0),n=i?_it(i,1).join(""):e.slice(1);return r[t]()+n}}var Hit=Vit,$it=Hit,Bit=$it("toUpperCase"),Wit=Bit;const BM=Pt(Wit);function ki(t){return function(){return t}}const Qae=Math.cos,Jx=Math.sin,Ul=Math.sqrt,eA=Math.PI,WM=2*eA,TG=Math.PI,DG=2*TG,Qh=1e-6,Uit=DG-Qh;function Zae(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function zit(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zae;const i=10**e;return function(r){this._+=r[0];for(let n=1,s=r.length;n<s;++n)this._+=Math.round(arguments[n]*i)/i+r[n]}}class jit{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Zae:zit(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,r,n){this._append`Q${+e},${+i},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,i,r,n,s,o){this._append`C${+e},${+i},${+r},${+n},${this._x1=+s},${this._y1=+o}`}arcTo(e,i,r,n,s){if(e=+e,i=+i,r=+r,n=+n,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=n-i,c=o-e,d=a-i,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(h>Qh)if(!(Math.abs(d*l-u*c)>Qh)||!s)this._append`L${this._x1=e},${this._y1=i}`;else{let f=r-o,g=n-a,m=l*l+u*u,C=f*f+g*g,S=Math.sqrt(m),y=Math.sqrt(h),w=s*Math.tan((TG-Math.acos((m+h-C)/(2*S*y)))/2),E=w/y,b=w/S;Math.abs(E-1)>Qh&&this._append`L${e+E*c},${i+E*d}`,this._append`A${s},${s},0,0,${+(d*f>c*g)},${this._x1=e+b*l},${this._y1=i+b*u}`}}arc(e,i,r,n,s,o){if(e=+e,i=+i,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(n),l=r*Math.sin(n),u=e+a,c=i+l,d=1^o,h=o?n-s:s-n;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Qh||Math.abs(this._y1-c)>Qh)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%DG+DG),h>Uit?this._append`A${r},${r},0,1,${d},${e-a},${i-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Qh&&this._append`A${r},${r},0,${+(h>=TG)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=i+r*Math.sin(s)}`)}rect(e,i,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function HW(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);e=r}return t},()=>new jit(e)}function $W(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jae(t){this._context=t}Jae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function UM(t){return new Jae(t)}function ele(t){return t[0]}function tle(t){return t[1]}function ile(t,e){var i=ki(!0),r=null,n=UM,s=null,o=HW(a);t=typeof t=="function"?t:t===void 0?ele:ki(t),e=typeof e=="function"?e:e===void 0?tle:ki(e);function a(l){var u,c=(l=$W(l)).length,d,h=!1,f;for(r==null&&(s=n(f=o())),u=0;u<=c;++u)!(u<c&&i(d=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,u,l),+e(d,u,l));if(f)return s=null,f+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ki(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ki(+l),a):e},a.defined=function(l){return arguments.length?(i=typeof l=="function"?l:ki(!!l),a):i},a.curve=function(l){return arguments.length?(n=l,r!=null&&(s=n(r)),a):n},a.context=function(l){return arguments.length?(l==null?r=s=null:s=n(r=l),a):r},a}function zT(t,e,i){var r=null,n=ki(!0),s=null,o=UM,a=null,l=HW(u);t=typeof t=="function"?t:t===void 0?ele:ki(+t),e=typeof e=="function"?e:ki(e===void 0?0:+e),i=typeof i=="function"?i:i===void 0?tle:ki(+i);function u(d){var h,f,g,m=(d=$W(d)).length,C,S=!1,y,w=new Array(m),E=new Array(m);for(s==null&&(a=o(y=l())),h=0;h<=m;++h){if(!(h<m&&n(C=d[h],h,d))===S)if(S=!S)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=f;--g)a.point(w[g],E[g]);a.lineEnd(),a.areaEnd()}S&&(w[h]=+t(C,h,d),E[h]=+e(C,h,d),a.point(r?+r(C,h,d):w[h],i?+i(C,h,d):E[h]))}if(y)return a=null,y+""||null}function c(){return ile().defined(n).curve(o).context(s)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:ki(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ki(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ki(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:ki(+d),i=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ki(+d),u):e},u.y1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:ki(+d),u):i},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(i)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ki(!!d),u):n},u.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),u):s},u}class rle{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}function Kit(t){return new rle(t,!0)}function Yit(t){return new rle(t,!1)}const BW={draw(t,e){const i=Ul(e/eA);t.moveTo(i,0),t.arc(0,0,i,0,WM)}},qit={draw(t,e){const i=Ul(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},nle=Ul(1/3),Xit=nle*2,Qit={draw(t,e){const i=Ul(e/Xit),r=i*nle;t.moveTo(0,-i),t.lineTo(r,0),t.lineTo(0,i),t.lineTo(-r,0),t.closePath()}},Zit={draw(t,e){const i=Ul(e),r=-i/2;t.rect(r,r,i,i)}},Jit=.8908130915292852,sle=Jx(eA/10)/Jx(7*eA/10),ert=Jx(WM/10)*sle,trt=-Qae(WM/10)*sle,irt={draw(t,e){const i=Ul(e*Jit),r=ert*i,n=trt*i;t.moveTo(0,-i),t.lineTo(r,n);for(let s=1;s<5;++s){const o=WM*s/5,a=Qae(o),l=Jx(o);t.lineTo(l*i,-a*i),t.lineTo(a*r-l*n,l*r+a*n)}t.closePath()}},d_=Ul(3),rrt={draw(t,e){const i=-Ul(e/(d_*3));t.moveTo(0,i*2),t.lineTo(-d_*i,-i),t.lineTo(d_*i,-i),t.closePath()}},ca=-.5,da=Ul(3)/2,PG=1/Ul(12),nrt=(PG/2+1)*3,srt={draw(t,e){const i=Ul(e/nrt),r=i/2,n=i*PG,s=r,o=i*PG+i,a=-s,l=o;t.moveTo(r,n),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(ca*r-da*n,da*r+ca*n),t.lineTo(ca*s-da*o,da*s+ca*o),t.lineTo(ca*a-da*l,da*a+ca*l),t.lineTo(ca*r+da*n,ca*n-da*r),t.lineTo(ca*s+da*o,ca*o-da*s),t.lineTo(ca*a+da*l,ca*l-da*a),t.closePath()}};function ort(t,e){let i=null,r=HW(n);t=typeof t=="function"?t:ki(t||BW),e=typeof e=="function"?e:ki(e===void 0?64:+e);function n(){let s;if(i||(i=s=r()),t.apply(this,arguments).draw(i,+e.apply(this,arguments)),s)return i=null,s+""||null}return n.type=function(s){return arguments.length?(t=typeof s=="function"?s:ki(s),n):t},n.size=function(s){return arguments.length?(e=typeof s=="function"?s:ki(+s),n):e},n.context=function(s){return arguments.length?(i=s??null,n):i},n}function tA(){}function iA(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function ole(t){this._context=t}ole.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function art(t){return new ole(t)}function ale(t){this._context=t}ale.prototype={areaStart:tA,areaEnd:tA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:iA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lrt(t){return new ale(t)}function lle(t){this._context=t}lle.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:iA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function urt(t){return new lle(t)}function ule(t){this._context=t}ule.prototype={areaStart:tA,areaEnd:tA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function crt(t){return new ule(t)}function e6(t){return t<0?-1:1}function t6(t,e,i){var r=t._x1-t._x0,n=e-t._x1,s=(t._y1-t._y0)/(r||n<0&&-0),o=(i-t._y1)/(n||r<0&&-0),a=(s*n+o*r)/(r+n);return(e6(s)+e6(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function i6(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function h_(t,e,i){var r=t._x0,n=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,n+a*e,s-a,o-a*i,s,o)}function rA(t){this._context=t}rA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:h_(this,this._t0,i6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,h_(this,i6(this,i=t6(this,t,e)),i);break;default:h_(this,this._t0,i=t6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function cle(t){this._context=new dle(t)}(cle.prototype=Object.create(rA.prototype)).point=function(t,e){rA.prototype.point.call(this,e,t)};function dle(t){this._context=t}dle.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,r,n,s){this._context.bezierCurveTo(e,t,r,i,s,n)}};function drt(t){return new rA(t)}function hrt(t){return new cle(t)}function hle(t){this._context=t}hle.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var r=r6(t),n=r6(e),s=0,o=1;o<i;++s,++o)this._context.bezierCurveTo(r[0][s],n[0][s],r[1][s],n[1][s],t[o],e[o]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function r6(t){var e,i=t.length-1,r,n=new Array(i),s=new Array(i),o=new Array(i);for(n[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)n[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(n[i-1]=2,s[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)r=n[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(n[i-1]=o[i-1]/s[i-1],e=i-2;e>=0;--e)n[e]=(o[e]-n[e+1])/s[e];for(s[i-1]=(t[i]+n[i-1])/2,e=0;e<i-1;++e)s[e]=2*t[e+1]-n[e+1];return[n,s]}function prt(t){return new hle(t)}function zM(t,e){this._context=t,this._t=e}zM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function frt(t){return new zM(t,.5)}function grt(t){return new zM(t,0)}function mrt(t){return new zM(t,1)}function yv(t,e){if((o=t.length)>1)for(var i=1,r,n,s=t[e[0]],o,a=s.length;i<o;++i)for(n=s,s=t[e[i]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function xG(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function vrt(t,e){return t[e]}function Crt(t){const e=[];return e.key=t,e}function yrt(){var t=ki([]),e=xG,i=yv,r=vrt;function n(s){var o=Array.from(t.apply(this,arguments),Crt),a,l=o.length,u=-1,c;for(const d of s)for(a=0,++u;a<l;++a)(o[a][u]=[0,+r(d,o[a].key,u,s)]).data=d;for(a=0,c=$W(e(o));a<l;++a)o[c[a]].index=a;return i(o,c),o}return n.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ki(Array.from(s)),n):t},n.value=function(s){return arguments.length?(r=typeof s=="function"?s:ki(+s),n):r},n.order=function(s){return arguments.length?(e=s==null?xG:typeof s=="function"?s:ki(Array.from(s)),n):e},n.offset=function(s){return arguments.length?(i=s??yv,n):i},n}function Srt(t,e){if((r=t.length)>0){for(var i,r,n=0,s=t[0].length,o;n<s;++n){for(o=i=0;i<r;++i)o+=t[i][n][1]||0;if(o)for(i=0;i<r;++i)t[i][n][1]/=o}yv(t,e)}}function wrt(t,e){if((n=t.length)>0){for(var i=0,r=t[e[0]],n,s=r.length;i<s;++i){for(var o=0,a=0;o<n;++o)a+=t[o][i][1]||0;r[i][1]+=r[i][0]=-a/2}yv(t,e)}}function Ert(t,e){if(!(!((o=t.length)>0)||!((s=(n=t[e[0]]).length)>0))){for(var i=0,r=1,n,s,o;r<s;++r){for(var a=0,l=0,u=0;a<o;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,f=(d-h)/2,g=0;g<a;++g){var m=t[e[g]],C=m[r][1]||0,S=m[r-1][1]||0;f+=C-S}l+=d,u+=f*d}n[r-1][1]+=n[r-1][0]=i,l&&(i-=u/l)}n[r-1][1]+=n[r-1][0]=i,yv(t,e)}}function lE(t){"@babel/helpers - typeof";return lE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lE(t)}var brt=["type","size","sizeType"];function AG(){return AG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},AG.apply(this,arguments)}function n6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function s6(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(i),!0).forEach(function(r){Rrt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Rrt(t,e,i){return e=Trt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Trt(t){var e=Drt(t,"string");return lE(e)=="symbol"?e:String(e)}function Drt(t,e){if(lE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(lE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Prt(t,e){if(t==null)return{};var i=xrt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xrt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var ple={symbolCircle:BW,symbolCross:qit,symbolDiamond:Qit,symbolSquare:Zit,symbolStar:irt,symbolTriangle:rrt,symbolWye:srt},Art=Math.PI/180,Ort=function(e){var i="symbol".concat(BM(e));return ple[i]||BW},Mrt=function(e,i,r){if(i==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Art;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Frt=function(e,i){ple["symbol".concat(BM(e))]=i},WW=function(e){var i=e.type,r=i===void 0?"circle":i,n=e.size,s=n===void 0?64:n,o=e.sizeType,a=o===void 0?"area":o,l=Prt(e,brt),u=s6(s6({},l),{},{type:r,size:s,sizeType:a}),c=function(){var C=Ort(r),S=ort().type(C).size(Mrt(s,a,r));return S()},d=u.className,h=u.cx,f=u.cy,g=fi(u,!0);return h===+h&&f===+f&&s===+s?$.createElement("path",AG({},g,{className:Le("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};WW.registerSymbol=Frt;function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function OG(){return OG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},OG.apply(this,arguments)}function o6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Irt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(i),!0).forEach(function(r){uE(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Lrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gle(r.key),r)}}function _rt(t,e,i){return e&&a6(t.prototype,e),i&&a6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nrt(t,e,i){return e=nA(e),Grt(t,fle()?Reflect.construct(e,i||[],nA(t).constructor):e.apply(t,i))}function Grt(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return krt(t)}function krt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fle=function(){return!!t})()}function nA(t){return nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},nA(t)}function Vrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MG(t,e)}function MG(t,e){return MG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},MG(t,e)}function uE(t,e,i){return e=gle(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gle(t){var e=Hrt(t,"string");return Sv(e)=="symbol"?e:String(e)}function Hrt(t,e){if(Sv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ha=32,UW=function(t){Vrt(e,t);function e(){return Lrt(this,e),Nrt(this,e,arguments)}return _rt(e,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,s=ha/2,o=ha/6,a=ha/3,l=r.inactive?n:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:ha,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(ha,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ha/8,"h").concat(ha,"v").concat(ha*3/4,"h").concat(-ha,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=Irt({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(WW,{fill:l,cx:s,cy:s,size:ha,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,s=n.payload,o=n.iconSize,a=n.layout,l=n.formatter,u=n.inactiveColor,c={x:0,y:0,width:ha,height:ha},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var m=f.formatter||l,C=Le(uE(uE({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var S=zt(f.value)?null:f.value;hc(!zt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=f.inactive?u:f.color;return $.createElement("li",OG({className:C,style:d,key:"legend-item-".concat(g)},Zx(r.props,f,g)),$.createElement(wG,{width:o,height:o,viewBox:c,style:h},r.renderIcon(f)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(S,f,g):S))})}},{key:"render",value:function(){var r=this.props,n=r.payload,s=r.layout,o=r.align;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}]),e}(T.PureComponent);uE(UW,"displayName","Legend");uE(UW,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function $rt(t){return t!==t}var Brt=$rt;function Wrt(t,e,i){for(var r=i-1,n=t.length;++r<n;)if(t[r]===e)return r;return-1}var Urt=Wrt,zrt=Hoe,jrt=Brt,Krt=Urt;function Yrt(t,e,i){return e===e?Krt(t,e,i):zrt(t,jrt,i)}var qrt=Yrt,Xrt=qrt;function Qrt(t,e){var i=t==null?0:t.length;return!!i&&Xrt(t,e,0)>-1}var Zrt=Qrt;function Jrt(t,e,i){for(var r=-1,n=t==null?0:t.length;++r<n;)if(i(e,t[r]))return!0;return!1}var ent=Jrt;function tnt(){}var int=tnt,p_=Noe,rnt=int,nnt=gW,snt=1/0,ont=p_&&1/nnt(new p_([,-0]))[1]==snt?function(t){return new p_(t)}:rnt,ant=ont,lnt=Toe,unt=Zrt,cnt=ent,dnt=Poe,hnt=ant,pnt=gW,fnt=200;function gnt(t,e,i){var r=-1,n=unt,s=t.length,o=!0,a=[],l=a;if(i)o=!1,n=cnt;else if(s>=fnt){var u=e?null:hnt(t);if(u)return pnt(u);o=!1,n=dnt,l=new lnt}else l=e?[]:a;e:for(;++r<s;){var c=t[r],d=e?e(c):c;if(c=i||c!==0?c:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else n(l,d,i)||(l!==a&&l.push(d),a.push(c))}return a}var mnt=gnt,vnt=ed,Cnt=mnt;function ynt(t,e){return t&&t.length?Cnt(t,vnt(e)):[]}var Snt=ynt;const l6=Pt(Snt);function mle(t,e,i){return e===!0?l6(t,i):zt(e)?l6(t,e):t}function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}var wnt=["ref"];function u6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function $h(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(i),!0).forEach(function(r){jM(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Ent(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yle(r.key),r)}}function bnt(t,e,i){return e&&c6(t.prototype,e),i&&c6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rnt(t,e,i){return e=sA(e),Tnt(t,vle()?Reflect.construct(e,i||[],sA(t).constructor):e.apply(t,i))}function Tnt(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cle(t)}function vle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vle=function(){return!!t})()}function sA(t){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},sA(t)}function Cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FG(t,e)}function FG(t,e){return FG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},FG(t,e)}function jM(t,e,i){return e=yle(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function yle(t){var e=Pnt(t,"string");return wv(e)=="symbol"?e:String(e)}function Pnt(t,e){if(wv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xnt(t,e){if(t==null)return{};var i=Ant(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ant(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Ont(t){return t.value}function Mnt(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var i=xnt(e,wnt);return $.createElement(UW,i)}var d6=1,cE=function(t){Dnt(e,t);function e(){var i;Ent(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Rnt(this,e,[].concat(n)),jM(Cle(i),"lastBoundingBox",{width:-1,height:-1}),i}return bnt(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>d6||Math.abs(n.height-this.lastBoundingBox.height)>d6)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$h({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,s=n.layout,o=n.align,a=n.verticalAlign,l=n.margin,u=n.chartWidth,c=n.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return $h($h({},d),h)}},{key:"render",value:function(){var r=this,n=this.props,s=n.content,o=n.width,a=n.height,l=n.wrapperStyle,u=n.payloadUniqBy,c=n.payload,d=$h($h({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},Mnt(s,$h($h({},this.props),{},{payload:mle(c,u,Ont)})))}}],[{key:"getWithHeight",value:function(r,n){var s=r.props.layout;return s==="vertical"&&ze(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||n}:null}}]),e}(T.PureComponent);jM(cE,"displayName","Legend");jM(cE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function dE(t){"@babel/helpers - typeof";return dE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dE(t)}function IG(){return IG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},IG.apply(this,arguments)}function Fnt(t,e){return Nnt(t)||_nt(t,e)||Lnt(t,e)||Int()}function Int(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lnt(t,e){if(t){if(typeof t=="string")return h6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h6(t,e)}}function h6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function _nt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Nnt(t){if(Array.isArray(t))return t}function p6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function f_(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(i),!0).forEach(function(r){Gnt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Gnt(t,e,i){return e=knt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function knt(t){var e=Vnt(t,"string");return dE(e)=="symbol"?e:String(e)}function Vnt(t,e){if(dE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(dE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hnt(t){return Array.isArray(t)&&sn(t[0])&&sn(t[1])?t.join(" ~ "):t}var $nt=function(e){var i=e.separator,r=i===void 0?" : ":i,n=e.contentStyle,s=n===void 0?{}:n,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,m=e.label,C=e.labelFormatter,S=e.accessibilityLayer,y=S===void 0?!1:S,w=function(){if(c&&c.length){var k={padding:0,margin:0},B=(h?TM(c,h):c).map(function(U,K){if(U.type==="none")return null;var j=f_({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},a),Q=U.formatter||d||Hnt,H=U.value,X=U.name,te=H,le=X;if(Q&&te!=null&&le!=null){var J=Q(H,X,U,K,c);if(Array.isArray(J)){var ie=Fnt(J,2);te=ie[0],le=ie[1]}else te=J}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:j},sn(le)?$.createElement("span",{className:"recharts-tooltip-item-name"},le):null,sn(le)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},te),$.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:k},B)}return null},E=f_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=f_({margin:0},u),D=!Si(m),P=D?m:"",O=Le("recharts-default-tooltip",f),N=Le("recharts-tooltip-label",g);D&&C&&c!==void 0&&c!==null&&(P=C(m,c));var _=y?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",IG({className:O,style:E},_),$.createElement("p",{className:N,style:b},$.isValidElement(P)?P:"".concat(P)),w())};function hE(t){"@babel/helpers - typeof";return hE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hE(t)}function jT(t,e,i){return e=Bnt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Bnt(t){var e=Wnt(t,"string");return hE(e)=="symbol"?e:String(e)}function Wnt(t,e){if(hE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(hE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ty="recharts-tooltip-wrapper",Unt={visibility:"hidden"};function znt(t){var e=t.coordinate,i=t.translateX,r=t.translateY;return Le(Ty,jT(jT(jT(jT({},"".concat(Ty,"-right"),ze(i)&&e&&ze(e.x)&&i>=e.x),"".concat(Ty,"-left"),ze(i)&&e&&ze(e.x)&&i<e.x),"".concat(Ty,"-bottom"),ze(r)&&e&&ze(e.y)&&r>=e.y),"".concat(Ty,"-top"),ze(r)&&e&&ze(e.y)&&r<e.y))}function f6(t){var e=t.allowEscapeViewBox,i=t.coordinate,r=t.key,n=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&ze(s[r]))return s[r];var c=i[r]-a-n,d=i[r]+n;if(e[r])return o[r]?c:d;if(o[r]){var h=c,f=l[r];return h<f?Math.max(d,l[r]):Math.max(c,l[r])}var g=d+a,m=l[r]+u;return g>m?Math.max(c,l[r]):Math.max(d,l[r])}function jnt(t){var e=t.translateX,i=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(i,"px, 0)"):"translate(".concat(e,"px, ").concat(i,"px)")}}function Knt(t){var e=t.allowEscapeViewBox,i=t.coordinate,r=t.offsetTopLeft,n=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return o.height>0&&o.width>0&&i?(c=f6({allowEscapeViewBox:e,coordinate:i,key:"x",offsetTopLeft:r,position:n,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=f6({allowEscapeViewBox:e,coordinate:i,key:"y",offsetTopLeft:r,position:n,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=jnt({translateX:c,translateY:d,useTranslate3d:a})):u=Unt,{cssProperties:u,cssClasses:znt({translateX:c,translateY:d,coordinate:i})}}function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function g6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function m6(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(i),!0).forEach(function(r){NG(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Ynt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wle(r.key),r)}}function qnt(t,e,i){return e&&v6(t.prototype,e),i&&v6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xnt(t,e,i){return e=oA(e),Qnt(t,Sle()?Reflect.construct(e,i||[],oA(t).constructor):e.apply(t,i))}function Qnt(t,e){if(e&&(Ev(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LG(t)}function Sle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sle=function(){return!!t})()}function oA(t){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},oA(t)}function LG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Znt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_G(t,e)}function _G(t,e){return _G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_G(t,e)}function NG(t,e,i){return e=wle(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function wle(t){var e=Jnt(t,"string");return Ev(e)=="symbol"?e:String(e)}function Jnt(t,e){if(Ev(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C6=1,est=function(t){Znt(e,t);function e(){var i;Ynt(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Xnt(this,e,[].concat(n)),NG(LG(i),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NG(LG(i),"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,u,c;i.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=i.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=i.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),i}return qnt(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>C6||Math.abs(r.height-this.state.lastBoundingBox.height)>C6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,s=n.active,o=n.allowEscapeViewBox,a=n.animationDuration,l=n.animationEasing,u=n.children,c=n.coordinate,d=n.hasPayload,h=n.isAnimationActive,f=n.offset,g=n.position,m=n.reverseDirection,C=n.useTranslate3d,S=n.viewBox,y=n.wrapperStyle,w=Knt({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:f,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:S}),E=w.cssClasses,b=w.cssProperties,D=m6(m6({transition:h&&s?"transform ".concat(a,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return $.createElement("div",{tabIndex:-1,className:E,style:D,ref:function(O){r.wrapperNode=O}},u)}}]),e}(T.PureComponent),tst=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Kd={isSsr:tst(),get:function(e){return Kd[e]},set:function(e,i){if(typeof e=="string")Kd[e]=i;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(n){Kd[n]=e[n]})}}};function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function y6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function S6(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(i),!0).forEach(function(r){zW(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function ist(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ble(r.key),r)}}function rst(t,e,i){return e&&w6(t.prototype,e),i&&w6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function nst(t,e,i){return e=aA(e),sst(t,Ele()?Reflect.construct(e,i||[],aA(t).constructor):e.apply(t,i))}function sst(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ost(t)}function ost(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ele(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ele=function(){return!!t})()}function aA(t){return aA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},aA(t)}function ast(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GG(t,e)}function GG(t,e){return GG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},GG(t,e)}function zW(t,e,i){return e=ble(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ble(t){var e=lst(t,"string");return bv(e)=="symbol"?e:String(e)}function lst(t,e){if(bv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ust(t){return t.dataKey}function cst(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement($nt,e)}var nu=function(t){ast(e,t);function e(){return ist(this,e),nst(this,e,arguments)}return rst(e,[{key:"render",value:function(){var r=this,n=this.props,s=n.active,o=n.allowEscapeViewBox,a=n.animationDuration,l=n.animationEasing,u=n.content,c=n.coordinate,d=n.filterNull,h=n.isAnimationActive,f=n.offset,g=n.payload,m=n.payloadUniqBy,C=n.position,S=n.reverseDirection,y=n.useTranslate3d,w=n.viewBox,E=n.wrapperStyle,b=g??[];d&&b.length&&(b=mle(g.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),m,ust));var D=b.length>0;return $.createElement(est,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:s,coordinate:c,hasPayload:D,offset:f,position:C,reverseDirection:S,useTranslate3d:y,viewBox:w,wrapperStyle:E},cst(u,S6(S6({},this.props),{},{payload:b})))}}]),e}(T.PureComponent);zW(nu,"displayName","Tooltip");zW(nu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Kd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dst=Bl,hst=function(){return dst.Date.now()},pst=hst,fst=Za,g_=pst,E6=goe,gst="Expected a function",mst=Math.max,vst=Math.min;function Cst(t,e,i){var r,n,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(gst);e=E6(e)||0,fst(i)&&(c=!!i.leading,d="maxWait"in i,s=d?mst(E6(i.maxWait)||0,e):s,h="trailing"in i?!!i.trailing:h);function f(D){var P=r,O=n;return r=n=void 0,u=D,o=t.apply(O,P),o}function g(D){return u=D,a=setTimeout(S,e),c?f(D):o}function m(D){var P=D-l,O=D-u,N=e-P;return d?vst(N,s-O):N}function C(D){var P=D-l,O=D-u;return l===void 0||P>=e||P<0||d&&O>=s}function S(){var D=g_();if(C(D))return y(D);a=setTimeout(S,m(D))}function y(D){return a=void 0,h&&r?f(D):(r=n=void 0,o)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=n=a=void 0}function E(){return a===void 0?o:y(g_())}function b(){var D=g_(),P=C(D);if(r=arguments,n=this,l=D,P){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(S,e),f(l)}return a===void 0&&(a=setTimeout(S,e)),o}return b.cancel=w,b.flush=E,b}var yst=Cst,Sst=yst,wst=Za,Est="Expected a function";function bst(t,e,i){var r=!0,n=!0;if(typeof t!="function")throw new TypeError(Est);return wst(i)&&(r="leading"in i?!!i.leading:r,n="trailing"in i?!!i.trailing:n),Sst(t,e,{leading:r,maxWait:e,trailing:n})}var Rst=bst;const Rle=Pt(Rst);function pE(t){"@babel/helpers - typeof";return pE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pE(t)}function b6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function KT(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(i),!0).forEach(function(r){Tst(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Tst(t,e,i){return e=Dst(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Dst(t){var e=Pst(t,"string");return pE(e)=="symbol"?e:String(e)}function Pst(t,e){if(pE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(pE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xst(t,e){return Fst(t)||Mst(t,e)||Ost(t,e)||Ast()}function Ast(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ost(t,e){if(t){if(typeof t=="string")return R6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return R6(t,e)}}function R6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Mst(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Fst(t){if(Array.isArray(t))return t}var Ist=T.forwardRef(function(t,e){var i=t.aspect,r=t.initialDimension,n=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,m=g===void 0?0:g,C=t.id,S=t.className,y=t.onResize,w=t.style,E=w===void 0?{}:w,b=T.useRef(null),D=T.useRef();D.current=y,T.useImperativeHandle(e,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var P=T.useState({containerWidth:n.width,containerHeight:n.height}),O=xst(P,2),N=O[0],_=O[1],I=T.useCallback(function(B,U){_(function(K){var j=Math.round(B),Q=Math.round(U);return K.containerWidth===j&&K.containerHeight===Q?K:{containerWidth:j,containerHeight:Q}})},[]);T.useEffect(function(){var B=function(X){var te,le=X[0].contentRect,J=le.width,ie=le.height;I(J,ie),(te=D.current)===null||te===void 0||te.call(D,J,ie)};m>0&&(B=Rle(B,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(B),K=b.current.getBoundingClientRect(),j=K.width,Q=K.height;return I(j,Q),U.observe(b.current),function(){U.disconnect()}},[I,m]);var k=T.useMemo(function(){var B=N.containerWidth,U=N.containerHeight;if(B<0||U<0)return null;hc(pp(o)||pp(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),hc(!i||i>0,"The aspect(%s) must be greater than zero.",i);var K=pp(o)?B:o,j=pp(l)?U:l;i&&i>0&&(K?j=K/i:j&&(K=j*i),h&&j>h&&(j=h)),hc(K>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,j,o,l,c,d,i);var Q=!Array.isArray(f)&&mG.isElement(f)&&dc(f.type).endsWith("Chart");return $.Children.map(f,function(H){return mG.isElement(H)?T.cloneElement(H,KT({width:K,height:j},Q?{style:KT({height:"100%",width:"100%",maxHeight:j,maxWidth:K},H.props.style)}:{})):H})},[i,f,l,h,d,c,N,o]);return $.createElement("div",{id:C?"".concat(C):void 0,className:Le("recharts-responsive-container",S),style:KT(KT({},E),{},{width:o,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:b},k)}),Tle=function(e){return null};Tle.displayName="Cell";function fE(t){"@babel/helpers - typeof";return fE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fE(t)}function T6(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function kG(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(i),!0).forEach(function(r){Lst(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T6(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Lst(t,e,i){return e=_st(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _st(t){var e=Nst(t,"string");return fE(e)=="symbol"?e:String(e)}function Nst(t,e){if(fE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(fE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xg={widthCache:{},cacheCount:0},Gst=2e3,kst={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D6="recharts_measurement_span";function Vst(t){var e=kG({},t);return Object.keys(e).forEach(function(i){e[i]||delete e[i]}),e}var DS=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Kd.isSsr)return{width:0,height:0};var r=Vst(i),n=JSON.stringify({text:e,copyStyle:r});if(xg.widthCache[n])return xg.widthCache[n];try{var s=document.getElementById(D6);s||(s=document.createElement("span"),s.setAttribute("id",D6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=kG(kG({},kst),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return xg.widthCache[n]=l,++xg.cacheCount>Gst&&(xg.cacheCount=0,xg.widthCache={}),l}catch{return{width:0,height:0}}},Hst=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gE(t){"@babel/helpers - typeof";return gE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(t)}function lA(t,e){return Ust(t)||Wst(t,e)||Bst(t,e)||$st()}function $st(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bst(t,e){if(t){if(typeof t=="string")return P6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return P6(t,e)}}function P6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Wst(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Ust(t){if(Array.isArray(t))return t}function zst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x6(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kst(r.key),r)}}function jst(t,e,i){return e&&x6(t.prototype,e),i&&x6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kst(t){var e=Yst(t,"string");return gE(e)=="symbol"?e:String(e)}function Yst(t,e){if(gE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(gE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,O6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qst=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xst=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dle={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qst=Object.keys(Dle),am="NaN";function Zst(t,e){return t*Dle[e]}var YT=function(){function t(e,i){zst(this,t),this.num=e,this.unit=i,this.num=e,this.unit=i,Number.isNaN(e)&&(this.unit=""),i!==""&&!qst.test(i)&&(this.num=NaN,this.unit=""),Qst.includes(i)&&(this.num=Zst(e,i),this.unit="px")}return jst(t,[{key:"add",value:function(i){return this.unit!==i.unit?new t(NaN,""):new t(this.num+i.num,this.unit)}},{key:"subtract",value:function(i){return this.unit!==i.unit?new t(NaN,""):new t(this.num-i.num,this.unit)}},{key:"multiply",value:function(i){return this.unit!==""&&i.unit!==""&&this.unit!==i.unit?new t(NaN,""):new t(this.num*i.num,this.unit||i.unit)}},{key:"divide",value:function(i){return this.unit!==""&&i.unit!==""&&this.unit!==i.unit?new t(NaN,""):new t(this.num/i.num,this.unit||i.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(i){var r,n=(r=Xst.exec(i))!==null&&r!==void 0?r:[],s=lA(n,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}]),t}();function Ple(t){if(t.includes(am))return am;for(var e=t;e.includes("*")||e.includes("/");){var i,r=(i=A6.exec(e))!==null&&i!==void 0?i:[],n=lA(r,4),s=n[1],o=n[2],a=n[3],l=YT.parse(s??""),u=YT.parse(a??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return am;e=e.replace(A6,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=O6.exec(e))!==null&&d!==void 0?d:[],f=lA(h,4),g=f[1],m=f[2],C=f[3],S=YT.parse(g??""),y=YT.parse(C??""),w=m==="+"?S.add(y):S.subtract(y);if(w.isNaN())return am;e=e.replace(O6,w.toString())}return e}var M6=/\(([^()]*)\)/;function Jst(t){for(var e=t;e.includes("(");){var i=M6.exec(e),r=lA(i,2),n=r[1];e=e.replace(M6,Ple(n))}return e}function eot(t){var e=t.replace(/\s+/g,"");return e=Jst(e),e=Ple(e),e}function tot(t){try{return eot(t)}catch{return am}}function m_(t){var e=tot(t.slice(5,-1));return e===am?"":e}var iot=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rot=["dx","dy","angle","className","breakAll"];function VG(){return VG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},VG.apply(this,arguments)}function F6(t,e){if(t==null)return{};var i=not(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function not(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function I6(t,e){return lot(t)||aot(t,e)||oot(t,e)||sot()}function sot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oot(t,e){if(t){if(typeof t=="string")return L6(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return L6(t,e)}}function L6(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function aot(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function lot(t){if(Array.isArray(t))return t}var xle=/[ \f\n\r\t\v\u2028\u2029]+/,Ale=function(e){var i=e.children,r=e.breakAll,n=e.style;try{var s=[];Si(i)||(r?s=i.toString().split(""):s=i.toString().split(xle));var o=s.map(function(l){return{word:l,width:DS(l,n).width}}),a=r?0:DS(" ",n).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},uot=function(e,i,r,n,s){var o=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ze(o),d=a,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(j,Q){var H=Q.word,X=Q.width,te=j[j.length-1];if(te&&(n==null||s||te.width+X+r<Number(n)))te.words.push(H),te.width+=X+r;else{var le={words:[H],width:X};j.push(le)}return j},[])},f=h(i),g=function(K){return K.reduce(function(j,Q){return j.width>Q.width?j:Q})};if(!c)return f;for(var m="…",C=function(K){var j=d.slice(0,K),Q=Ale({breakAll:u,style:l,children:j+m}).wordsWithComputedWidth,H=h(Q),X=H.length>o||g(H).width>Number(n);return[X,H]},S=0,y=d.length-1,w=0,E;S<=y&&w<=d.length-1;){var b=Math.floor((S+y)/2),D=b-1,P=C(D),O=I6(P,2),N=O[0],_=O[1],I=C(b),k=I6(I,1),B=k[0];if(!N&&!B&&(S=b+1),N&&B&&(y=b-1),!N&&B){E=_;break}w++}return E||f},_6=function(e){var i=Si(e)?[]:e.toString().split(xle);return[{words:i}]},cot=function(e){var i=e.width,r=e.scaleToFit,n=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((i||r)&&!Kd.isSsr){var l,u,c=Ale({breakAll:o,children:n,style:s});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return _6(n);return uot({breakAll:o,children:n,maxLines:a,style:s},l,u,i,r)}return _6(n)},N6="#808080",uA=function(e){var i=e.x,r=i===void 0?0:i,n=e.y,s=n===void 0?0:n,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,m=g===void 0?"end":g,C=e.fill,S=C===void 0?N6:C,y=F6(e,iot),w=T.useMemo(function(){return cot({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),E=y.dx,b=y.dy,D=y.angle,P=y.className,O=y.breakAll,N=F6(y,rot);if(!sn(r)||!sn(s))return null;var _=r+(ze(E)?E:0),I=s+(ze(b)?b:0),k;switch(m){case"start":k=m_("calc(".concat(u,")"));break;case"middle":k=m_("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:k=m_("calc(".concat(w.length-1," * -").concat(a,")"));break}var B=[];if(d){var U=w[0].width,K=y.width;B.push("scale(".concat((ze(K)?K/U:1)/U,")"))}return D&&B.push("rotate(".concat(D,", ").concat(_,", ").concat(I,")")),B.length&&(N.transform=B.join(" ")),$.createElement("text",VG({},fi(N,!0),{x:_,y:I,className:Le("recharts-text",P),textAnchor:f,fill:S.includes("url")?N6:S}),w.map(function(j,Q){var H=j.words.join(O?"":" ");return $.createElement("tspan",{x:_,dy:Q===0?k:a,key:H},H)}))};function Yd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dot(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jW(t){let e,i,r;t.length!==2?(e=Yd,i=(a,l)=>Yd(t(a),l),r=(a,l)=>t(a)-l):(e=t===Yd||t===dot?t:hot,i=t,r=t);function n(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;i(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;i(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=n(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:n,center:o,right:s}}function hot(){return 0}function Ole(t){return t===null?NaN:+t}function*pot(t,e){if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let r of t)(r=e(r,++i,t))!=null&&(r=+r)>=r&&(yield r)}}const fot=jW(Yd),aR=fot.right;jW(Ole).center;class G6 extends Map{constructor(e,i=vot){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(k6(this,e))}has(e){return super.has(k6(this,e))}set(e,i){return super.set(got(this,e),i)}delete(e){return super.delete(mot(this,e))}}function k6({_intern:t,_key:e},i){const r=e(i);return t.has(r)?t.get(r):i}function got({_intern:t,_key:e},i){const r=e(i);return t.has(r)?t.get(r):(t.set(r,i),i)}function mot({_intern:t,_key:e},i){const r=e(i);return t.has(r)&&(i=t.get(r),t.delete(r)),i}function vot(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cot(t=Yd){if(t===Yd)return Mle;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,i)=>{const r=t(e,i);return r||r===0?r:(t(i,i)===0)-(t(e,e)===0)}}function Mle(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yot=Math.sqrt(50),Sot=Math.sqrt(10),wot=Math.sqrt(2);function cA(t,e,i){const r=(e-t)/Math.max(0,i),n=Math.floor(Math.log10(r)),s=r/Math.pow(10,n),o=s>=yot?10:s>=Sot?5:s>=wot?2:1;let a,l,u;return n<0?(u=Math.pow(10,-n)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,n)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=i&&i<2?cA(t,e,i*2):[a,l,u]}function HG(t,e,i){if(e=+e,t=+t,i=+i,!(i>0))return[];if(t===e)return[t];const r=e<t,[n,s,o]=r?cA(e,t,i):cA(t,e,i);if(!(s>=n))return[];const a=s-n+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(n+u)/-o;else for(let u=0;u<a;++u)l[u]=(n+u)*o;return l}function $G(t,e,i){return e=+e,t=+t,i=+i,cA(t,e,i)[2]}function BG(t,e,i){e=+e,t=+t,i=+i;const r=e<t,n=r?$G(e,t,i):$G(t,e,i);return(r?-1:1)*(n<0?1/-n:n)}function V6(t,e){let i;if(e===void 0)for(const r of t)r!=null&&(i<r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(i<n||i===void 0&&n>=n)&&(i=n)}return i}function H6(t,e){let i;if(e===void 0)for(const r of t)r!=null&&(i>r||i===void 0&&r>=r)&&(i=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(i>n||i===void 0&&n>=n)&&(i=n)}return i}function Fle(t,e,i=0,r=1/0,n){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),r=Math.floor(Math.min(t.length-1,r)),!(i<=e&&e<=r))return t;for(n=n===void 0?Mle:Cot(n);r>i;){if(r-i>600){const l=r-i+1,u=e-i+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),f=Math.max(i,Math.floor(e-u*d/l+h)),g=Math.min(r,Math.floor(e+(l-u)*d/l+h));Fle(t,e,f,g,n)}const s=t[e];let o=i,a=r;for(Dy(t,i,e),n(t[r],s)>0&&Dy(t,i,r);o<a;){for(Dy(t,o,a),++o,--a;n(t[o],s)<0;)++o;for(;n(t[a],s)>0;)--a}n(t[i],s)===0?Dy(t,i,a):(++a,Dy(t,a,r)),a<=e&&(i=a+1),e<=a&&(r=a-1)}return t}function Dy(t,e,i){const r=t[e];t[e]=t[i],t[i]=r}function Eot(t,e,i){if(t=Float64Array.from(pot(t,i)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return H6(t);if(e>=1)return V6(t);var r,n=(r-1)*e,s=Math.floor(n),o=V6(Fle(t,s).subarray(0,s+1)),a=H6(t.subarray(s+1));return o+(a-o)*(n-s)}}function bot(t,e,i=Ole){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+i(t[0],0,t);if(e>=1)return+i(t[r-1],r-1,t);var r,n=(r-1)*e,s=Math.floor(n),o=+i(t[s],s,t),a=+i(t[s+1],s+1,t);return o+(a-o)*(n-s)}}function Rot(t,e,i){t=+t,e=+e,i=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+i;for(var r=-1,n=Math.max(0,Math.ceil((e-t)/i))|0,s=new Array(n);++r<n;)s[r]=t+r*i;return s}function Ja(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function td(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WG=Symbol("implicit");function KW(){var t=new G6,e=[],i=[],r=WG;function n(s){let o=t.get(s);if(o===void 0){if(r!==WG)return r;t.set(s,o=e.push(s)-1)}return i[o%i.length]}return n.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new G6;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return n},n.range=function(s){return arguments.length?(i=Array.from(s),n):i.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return KW(e,i).unknown(r)},Ja.apply(n,arguments),n}function mE(){var t=KW().unknown(void 0),e=t.domain,i=t.range,r=0,n=1,s,o,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,f=n<r,g=f?n:r,m=f?r:n;s=(m-g)/Math.max(1,h-l+u*2),a&&(s=Math.floor(s)),g+=(m-g-s*(h-l))*c,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var C=Rot(h).map(function(S){return g+s*S});return i(f?C.reverse():C)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,n]=h,r=+r,n=+n,d()):[r,n]},t.rangeRound=function(h){return[r,n]=h,r=+r,n=+n,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return mE(e(),[r,n]).round(a).paddingInner(l).paddingOuter(u).align(c)},Ja.apply(d(),arguments)}function Ile(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ile(e())},t}function PS(){return Ile(mE.apply(null,arguments).paddingInner(1))}function YW(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function Lle(t,e){var i=Object.create(t.prototype);for(var r in e)i[r]=e[r];return i}function lR(){}var vE=.7,dA=1/vE,xm="\\s*([+-]?\\d+)\\s*",CE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tot=/^#([0-9a-f]{3,8})$/,Dot=new RegExp(`^rgb\\(${xm},${xm},${xm}\\)$`),Pot=new RegExp(`^rgb\\(${wu},${wu},${wu}\\)$`),xot=new RegExp(`^rgba\\(${xm},${xm},${xm},${CE}\\)$`),Aot=new RegExp(`^rgba\\(${wu},${wu},${wu},${CE}\\)$`),Oot=new RegExp(`^hsl\\(${CE},${wu},${wu}\\)$`),Mot=new RegExp(`^hsla\\(${CE},${wu},${wu},${CE}\\)$`),$6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YW(lR,yE,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:B6,formatHex:B6,formatHex8:Fot,formatHsl:Iot,formatRgb:W6,toString:W6});function B6(){return this.rgb().formatHex()}function Fot(){return this.rgb().formatHex8()}function Iot(){return _le(this).formatHsl()}function W6(){return this.rgb().formatRgb()}function yE(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=Tot.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?U6(e):i===3?new Zs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?qT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?qT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dot.exec(t))?new Zs(e[1],e[2],e[3],1):(e=Pot.exec(t))?new Zs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xot.exec(t))?qT(e[1],e[2],e[3],e[4]):(e=Aot.exec(t))?qT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Oot.exec(t))?K6(e[1],e[2]/100,e[3]/100,1):(e=Mot.exec(t))?K6(e[1],e[2]/100,e[3]/100,e[4]):$6.hasOwnProperty(t)?U6($6[t]):t==="transparent"?new Zs(NaN,NaN,NaN,0):null}function U6(t){return new Zs(t>>16&255,t>>8&255,t&255,1)}function qT(t,e,i,r){return r<=0&&(t=e=i=NaN),new Zs(t,e,i,r)}function Lot(t){return t instanceof lR||(t=yE(t)),t?(t=t.rgb(),new Zs(t.r,t.g,t.b,t.opacity)):new Zs}function UG(t,e,i,r){return arguments.length===1?Lot(t):new Zs(t,e,i,r??1)}function Zs(t,e,i,r){this.r=+t,this.g=+e,this.b=+i,this.opacity=+r}YW(Zs,UG,Lle(lR,{brighter(t){return t=t==null?dA:Math.pow(dA,t),new Zs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vE:Math.pow(vE,t),new Zs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zs(Np(this.r),Np(this.g),Np(this.b),hA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z6,formatHex:z6,formatHex8:_ot,formatRgb:j6,toString:j6}));function z6(){return`#${fp(this.r)}${fp(this.g)}${fp(this.b)}`}function _ot(){return`#${fp(this.r)}${fp(this.g)}${fp(this.b)}${fp((isNaN(this.opacity)?1:this.opacity)*255)}`}function j6(){const t=hA(this.opacity);return`${t===1?"rgb(":"rgba("}${Np(this.r)}, ${Np(this.g)}, ${Np(this.b)}${t===1?")":`, ${t})`}`}function hA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Np(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fp(t){return t=Np(t),(t<16?"0":"")+t.toString(16)}function K6(t,e,i,r){return r<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new gl(t,e,i,r)}function _le(t){if(t instanceof gl)return new gl(t.h,t.s,t.l,t.opacity);if(t instanceof lR||(t=yE(t)),!t)return new gl;if(t instanceof gl)return t;t=t.rgb();var e=t.r/255,i=t.g/255,r=t.b/255,n=Math.min(e,i,r),s=Math.max(e,i,r),o=NaN,a=s-n,l=(s+n)/2;return a?(e===s?o=(i-r)/a+(i<r)*6:i===s?o=(r-e)/a+2:o=(e-i)/a+4,a/=l<.5?s+n:2-s-n,o*=60):a=l>0&&l<1?0:o,new gl(o,a,l,t.opacity)}function Not(t,e,i,r){return arguments.length===1?_le(t):new gl(t,e,i,r??1)}function gl(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}YW(gl,Not,Lle(lR,{brighter(t){return t=t==null?dA:Math.pow(dA,t),new gl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vE:Math.pow(vE,t),new gl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,n=2*i-r;return new Zs(v_(t>=240?t-240:t+120,n,r),v_(t,n,r),v_(t<120?t+240:t-120,n,r),this.opacity)},clamp(){return new gl(Y6(this.h),XT(this.s),XT(this.l),hA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hA(this.opacity);return`${t===1?"hsl(":"hsla("}${Y6(this.h)}, ${XT(this.s)*100}%, ${XT(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Y6(t){return t=(t||0)%360,t<0?t+360:t}function XT(t){return Math.max(0,Math.min(1,t||0))}function v_(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const qW=t=>()=>t;function Got(t,e){return function(i){return t+i*e}}function kot(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(r){return Math.pow(t+r*e,i)}}function Vot(t){return(t=+t)==1?Nle:function(e,i){return i-e?kot(e,i,t):qW(isNaN(e)?i:e)}}function Nle(t,e){var i=e-t;return i?Got(t,i):qW(isNaN(t)?e:t)}const q6=function t(e){var i=Vot(e);function r(n,s){var o=i((n=UG(n)).r,(s=UG(s)).r),a=i(n.g,s.g),l=i(n.b,s.b),u=Nle(n.opacity,s.opacity);return function(c){return n.r=o(c),n.g=a(c),n.b=l(c),n.opacity=u(c),n+""}}return r.gamma=t,r}(1);function Hot(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,r=e.slice(),n;return function(s){for(n=0;n<i;++n)r[n]=t[n]*(1-s)+e[n]*s;return r}}function $ot(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bot(t,e){var i=e?e.length:0,r=t?Math.min(i,t.length):0,n=new Array(r),s=new Array(i),o;for(o=0;o<r;++o)n[o]=IC(t[o],e[o]);for(;o<i;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=n[o](a);return s}}function Wot(t,e){var i=new Date;return t=+t,e=+e,function(r){return i.setTime(t*(1-r)+e*r),i}}function pA(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function Uot(t,e){var i={},r={},n;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in t?i[n]=IC(t[n],e[n]):r[n]=e[n];return function(s){for(n in i)r[n]=i[n](s);return r}}var zG=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C_=new RegExp(zG.source,"g");function zot(t){return function(){return t}}function jot(t){return function(e){return t(e)+""}}function Kot(t,e){var i=zG.lastIndex=C_.lastIndex=0,r,n,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=zG.exec(t))&&(n=C_.exec(e));)(s=n.index)>i&&(s=e.slice(i,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(n=n[0])?a[o]?a[o]+=n:a[++o]=n:(a[++o]=null,l.push({i:o,x:pA(r,n)})),i=C_.lastIndex;return i<e.length&&(s=e.slice(i),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?jot(l[0].x):zot(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function IC(t,e){var i=typeof e,r;return e==null||i==="boolean"?qW(e):(i==="number"?pA:i==="string"?(r=yE(e))?(e=r,q6):Kot:e instanceof yE?q6:e instanceof Date?Wot:$ot(e)?Hot:Array.isArray(e)?Bot:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Uot:pA)(t,e)}function XW(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}function Yot(t,e){e===void 0&&(e=t,t=IC);for(var i=0,r=e.length-1,n=e[0],s=new Array(r<0?0:r);i<r;)s[i]=t(n,n=e[++i]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function qot(t){return function(){return t}}function fA(t){return+t}var X6=[0,1];function ys(t){return t}function jG(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:qot(isNaN(e)?NaN:.5)}function Xot(t,e){var i;return t>e&&(i=t,t=e,e=i),function(r){return Math.max(t,Math.min(e,r))}}function Qot(t,e,i){var r=t[0],n=t[1],s=e[0],o=e[1];return n<r?(r=jG(n,r),s=i(o,s)):(r=jG(r,n),s=i(s,o)),function(a){return s(r(a))}}function Zot(t,e,i){var r=Math.min(t.length,e.length)-1,n=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)n[o]=jG(t[o],t[o+1]),s[o]=i(e[o],e[o+1]);return function(a){var l=aR(t,a,1,r)-1;return s[l](n[l](a))}}function uR(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function KM(){var t=X6,e=X6,i=IC,r,n,s,o=ys,a,l,u;function c(){var h=Math.min(t.length,e.length);return o!==ys&&(o=Xot(t[0],t[h-1])),a=h>2?Zot:Qot,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,i)))(r(o(h)))}return d.invert=function(h){return o(n((u||(u=a(e,t.map(r),pA)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,fA),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),i=XW,c()},d.clamp=function(h){return arguments.length?(o=h?!0:ys,c()):o!==ys},d.interpolate=function(h){return arguments.length?(i=h,c()):i},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return r=h,n=f,c()}}function QW(){return KM()(ys,ys)}function Jot(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gA(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,r=t.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+t.slice(i+1)]}function Rv(t){return t=gA(Math.abs(t)),t?t[1]:NaN}function eat(t,e){return function(i,r){for(var n=i.length,s=[],o=0,a=t[0],l=0;n>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(i.substring(n-=a,n+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function tat(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}var iat=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function SE(t){if(!(e=iat.exec(t)))throw new Error("invalid format: "+t);var e;return new ZW({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}SE.prototype=ZW.prototype;function ZW(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZW.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rat(t){e:for(var e=t.length,i=1,r=-1,n;i<e;++i)switch(t[i]){case".":r=n=i;break;case"0":r===0&&(r=i),n=i;break;default:if(!+t[i])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(n+1):t}var Gle;function nat(t,e){var i=gA(t,e);if(!i)return t+"";var r=i[0],n=i[1],s=n-(Gle=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+gA(t,Math.max(0,e+s-1))[0]}function Q6(t,e){var i=gA(t,e);if(!i)return t+"";var r=i[0],n=i[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const Z6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jot,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Q6(t*100,e),r:Q6,s:nat,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function J6(t){return t}var eq=Array.prototype.map,tq=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sat(t){var e=t.grouping===void 0||t.thousands===void 0?J6:eat(eq.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?J6:tat(eq.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=SE(d);var h=d.fill,f=d.align,g=d.sign,m=d.symbol,C=d.zero,S=d.width,y=d.comma,w=d.precision,E=d.trim,b=d.type;b==="n"?(y=!0,b="g"):Z6[b]||(w===void 0&&(w=12),E=!0,b="g"),(C||h==="0"&&f==="=")&&(C=!0,h="0",f="=");var D=m==="$"?i:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",P=m==="$"?r:/[%p]/.test(b)?o:"",O=Z6[b],N=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function _(I){var k=D,B=P,U,K,j;if(b==="c")B=O(I)+B,I="";else{I=+I;var Q=I<0||1/I<0;if(I=isNaN(I)?l:O(Math.abs(I),w),E&&(I=rat(I)),Q&&+I==0&&g!=="+"&&(Q=!1),k=(Q?g==="("?g:a:g==="-"||g==="("?"":g)+k,B=(b==="s"?tq[8+Gle/3]:"")+B+(Q&&g==="("?")":""),N){for(U=-1,K=I.length;++U<K;)if(j=I.charCodeAt(U),48>j||j>57){B=(j===46?n+I.slice(U+1):I.slice(U))+B,I=I.slice(0,U);break}}}y&&!C&&(I=e(I,1/0));var H=k.length+I.length+B.length,X=H<S?new Array(S-H+1).join(h):"";switch(y&&C&&(I=e(X+I,X.length?S-B.length:1/0),X=""),f){case"<":I=k+I+B+X;break;case"=":I=k+X+I+B;break;case"^":I=X.slice(0,H=X.length>>1)+k+I+B+X.slice(H);break;default:I=X+k+I+B;break}return s(I)}return _.toString=function(){return d+""},_}function c(d,h){var f=u((d=SE(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Rv(h)/3)))*3,m=Math.pow(10,-g),C=tq[8+g/3];return function(S){return f(m*S)+C}}return{format:u,formatPrefix:c}}var QT,JW,kle;oat({thousands:",",grouping:[3],currency:["$",""]});function oat(t){return QT=sat(t),JW=QT.format,kle=QT.formatPrefix,QT}function aat(t){return Math.max(0,-Rv(Math.abs(t)))}function lat(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rv(e)/3)))*3-Rv(Math.abs(t)))}function uat(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rv(e)-Rv(t))+1}function Vle(t,e,i,r){var n=BG(t,e,i),s;switch(r=SE(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=lat(n,o))&&(r.precision=s),kle(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=uat(n,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=aat(n))&&(r.precision=s-(r.type==="%")*2);break}}return JW(r)}function Th(t){var e=t.domain;return t.ticks=function(i){var r=e();return HG(r[0],r[r.length-1],i??10)},t.tickFormat=function(i,r){var n=e();return Vle(n[0],n[n.length-1],i??10,r)},t.nice=function(i){i==null&&(i=10);var r=e(),n=0,s=r.length-1,o=r[n],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=n,n=s,s=u);c-- >0;){if(u=$G(o,a,i),u===l)return r[n]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function mA(){var t=QW();return t.copy=function(){return uR(t,mA())},Ja.apply(t,arguments),Th(t)}function Hle(t){var e;function i(r){return r==null||isNaN(r=+r)?e:r}return i.invert=i,i.domain=i.range=function(r){return arguments.length?(t=Array.from(r,fA),i):t.slice()},i.unknown=function(r){return arguments.length?(e=r,i):e},i.copy=function(){return Hle(t).unknown(e)},t=arguments.length?Array.from(t,fA):[0,1],Th(i)}function $le(t,e){t=t.slice();var i=0,r=t.length-1,n=t[i],s=t[r],o;return s<n&&(o=i,i=r,r=o,o=n,n=s,s=o),t[i]=e.floor(n),t[r]=e.ceil(s),t}function iq(t){return Math.log(t)}function rq(t){return Math.exp(t)}function cat(t){return-Math.log(-t)}function dat(t){return-Math.exp(-t)}function hat(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pat(t){return t===10?hat:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fat(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nq(t){return(e,i)=>-t(-e,i)}function e2(t){const e=t(iq,rq),i=e.domain;let r=10,n,s;function o(){return n=fat(r),s=pat(r),i()[0]<0?(n=nq(n),s=nq(s),t(cat,dat)):t(iq,rq),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(i(a),o()):i()},e.ticks=a=>{const l=i();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=n(u),f=n(c),g,m;const C=a==null?10:+a;let S=[];if(!(r%1)&&f-h<C){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(g=1;g<r;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>c)break;S.push(m)}}else for(;h<=f;++h)for(g=r-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>c)break;S.push(m)}S.length*2<C&&(S=HG(u,c,C))}else S=HG(h,f,Math.min(f-h,C)).map(s);return d?S.reverse():S},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=SE(l)).precision==null&&(l.trim=!0),l=JW(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/s(Math.round(n(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>i($le(i(),{floor:a=>s(Math.floor(n(a))),ceil:a=>s(Math.ceil(n(a)))})),e}function Ble(){const t=e2(KM()).domain([1,10]);return t.copy=()=>uR(t,Ble()).base(t.base()),Ja.apply(t,arguments),t}function sq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function oq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function t2(t){var e=1,i=t(sq(e),oq(e));return i.constant=function(r){return arguments.length?t(sq(e=+r),oq(e)):e},Th(i)}function Wle(){var t=t2(KM());return t.copy=function(){return uR(t,Wle()).constant(t.constant())},Ja.apply(t,arguments)}function aq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gat(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mat(t){return t<0?-t*t:t*t}function i2(t){var e=t(ys,ys),i=1;function r(){return i===1?t(ys,ys):i===.5?t(gat,mat):t(aq(i),aq(1/i))}return e.exponent=function(n){return arguments.length?(i=+n,r()):i},Th(e)}function r2(){var t=i2(KM());return t.copy=function(){return uR(t,r2()).exponent(t.exponent())},Ja.apply(t,arguments),t}function vat(){return r2.apply(null,arguments).exponent(.5)}function lq(t){return Math.sign(t)*t*t}function Cat(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ule(){var t=QW(),e=[0,1],i=!1,r;function n(s){var o=Cat(t(s));return isNaN(o)?r:i?Math.round(o):o}return n.invert=function(s){return t.invert(lq(s))},n.domain=function(s){return arguments.length?(t.domain(s),n):t.domain()},n.range=function(s){return arguments.length?(t.range((e=Array.from(s,fA)).map(lq)),n):e.slice()},n.rangeRound=function(s){return n.range(s).round(!0)},n.round=function(s){return arguments.length?(i=!!s,n):i},n.clamp=function(s){return arguments.length?(t.clamp(s),n):t.clamp()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return Ule(t.domain(),e).round(i).clamp(t.clamp()).unknown(r)},Ja.apply(n,arguments),Th(n)}function zle(){var t=[],e=[],i=[],r;function n(){var o=0,a=Math.max(1,e.length);for(i=new Array(a-1);++o<a;)i[o-1]=bot(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[aR(i,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?i[a-1]:t[0],a<i.length?i[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Yd),n()},s.range=function(o){return arguments.length?(e=Array.from(o),n()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return i.slice()},s.copy=function(){return zle().domain(t).range(e).unknown(r)},Ja.apply(s,arguments)}function jle(){var t=0,e=1,i=1,r=[.5],n=[0,1],s;function o(l){return l!=null&&l<=l?n[aR(r,l,0,i)]:s}function a(){var l=-1;for(r=new Array(i);++l<i;)r[l]=((l+1)*e-(l-i)*t)/(i+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(i=(n=Array.from(l)).length-1,a()):n.slice()},o.invertExtent=function(l){var u=n.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=i?[r[i-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return jle().domain([t,e]).range(n).unknown(s)},Ja.apply(Th(o),arguments)}function Kle(){var t=[.5],e=[0,1],i,r=1;function n(s){return s!=null&&s<=s?e[aR(t,s,0,r)]:i}return n.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),n):t.slice()},n.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),n):e.slice()},n.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},n.unknown=function(s){return arguments.length?(i=s,n):i},n.copy=function(){return Kle().domain(t).range(e).unknown(i)},Ja.apply(n,arguments)}const y_=new Date,S_=new Date;function un(t,e,i,r){function n(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return n.floor=s=>(t(s=new Date(+s)),s),n.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),n.round=s=>{const o=n(s),a=n.ceil(s);return s-o<a-s?o:a},n.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),n.range=(s,o,a)=>{const l=[];if(s=n.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),e(s,a),t(s);while(u<s&&s<o);return l},n.filter=s=>un(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),i&&(n.count=(s,o)=>(y_.setTime(+s),S_.setTime(+o),t(y_),t(S_),Math.floor(i(y_,S_))),n.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?n.filter(r?o=>r(o)%s===0:o=>n.count(0,o)%s===0):n)),n}const vA=un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vA.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?un(e=>{e.setTime(Math.floor(e/t)*t)},(e,i)=>{e.setTime(+e+i*t)},(e,i)=>(i-e)/t):vA);vA.range;const oc=1e3,Da=oc*60,ac=Da*60,Mc=ac*24,n2=Mc*7,uq=Mc*30,w_=Mc*365,gp=un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oc)},(t,e)=>(e-t)/oc,t=>t.getUTCSeconds());gp.range;const s2=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oc)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getMinutes());s2.range;const o2=un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCMinutes());o2.range;const a2=un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oc-t.getMinutes()*Da)},(t,e)=>{t.setTime(+t+e*ac)},(t,e)=>(e-t)/ac,t=>t.getHours());a2.range;const l2=un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ac)},(t,e)=>(e-t)/ac,t=>t.getUTCHours());l2.range;const cR=un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Da)/Mc,t=>t.getDate()-1);cR.range;const YM=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mc,t=>t.getUTCDate()-1);YM.range;const Yle=un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mc,t=>Math.floor(t/Mc));Yle.range;function ig(t){return un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,i)=>{e.setDate(e.getDate()+i*7)},(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*Da)/n2)}const qM=ig(0),CA=ig(1),yat=ig(2),Sat=ig(3),Tv=ig(4),wat=ig(5),Eat=ig(6);qM.range;CA.range;yat.range;Sat.range;Tv.range;wat.range;Eat.range;function rg(t){return un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i*7)},(e,i)=>(i-e)/n2)}const XM=rg(0),yA=rg(1),bat=rg(2),Rat=rg(3),Dv=rg(4),Tat=rg(5),Dat=rg(6);XM.range;yA.range;bat.range;Rat.range;Dv.range;Tat.range;Dat.range;const u2=un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());u2.range;const c2=un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());c2.range;const Fc=un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i*t)});Fc.range;const Ic=un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ic.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)});Ic.range;function qle(t,e,i,r,n,s){const o=[[gp,1,oc],[gp,5,5*oc],[gp,15,15*oc],[gp,30,30*oc],[s,1,Da],[s,5,5*Da],[s,15,15*Da],[s,30,30*Da],[n,1,ac],[n,3,3*ac],[n,6,6*ac],[n,12,12*ac],[r,1,Mc],[r,2,2*Mc],[i,1,n2],[e,1,uq],[e,3,3*uq],[t,1,w_]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const f=d&&typeof d.range=="function"?d:l(u,c,d),g=f?f.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,f=jW(([,,C])=>C).right(o,h);if(f===o.length)return t.every(BG(u/w_,c/w_,d));if(f===0)return vA.every(Math.max(BG(u,c,d),1));const[g,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(m)}return[a,l]}const[Pat,xat]=qle(Ic,c2,XM,Yle,l2,o2),[Aat,Oat]=qle(Fc,u2,qM,cR,a2,s2);function E_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function b_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Py(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function Mat(t){var e=t.dateTime,i=t.date,r=t.time,n=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,u=xy(n),c=Ay(n),d=xy(s),h=Ay(s),f=xy(o),g=Ay(o),m=xy(a),C=Ay(a),S=xy(l),y=Ay(l),w={a:Q,A:H,b:X,B:te,c:null,d:gq,e:gq,f:elt,g:clt,G:hlt,H:Qat,I:Zat,j:Jat,L:Xle,m:tlt,M:ilt,p:le,q:J,Q:Cq,s:yq,S:rlt,u:nlt,U:slt,V:olt,w:alt,W:llt,x:null,X:null,y:ult,Y:dlt,Z:plt,"%":vq},E={a:ie,A:ue,b:me,B:se,c:null,d:mq,e:mq,f:vlt,g:Plt,G:Alt,H:flt,I:glt,j:mlt,L:Zle,m:Clt,M:ylt,p:he,q:Ee,Q:Cq,s:yq,S:Slt,u:wlt,U:Elt,V:blt,w:Rlt,W:Tlt,x:null,X:null,y:Dlt,Y:xlt,Z:Olt,"%":vq},b={a:_,A:I,b:k,B,c:U,d:pq,e:pq,f:Kat,g:hq,G:dq,H:fq,I:fq,j:Wat,L:jat,m:Bat,M:Uat,p:N,q:$at,Q:qat,s:Xat,S:zat,u:Nat,U:Gat,V:kat,w:_at,W:Vat,x:K,X:j,y:hq,Y:dq,Z:Hat,"%":Yat};w.x=D(i,w),w.X=D(r,w),w.c=D(e,w),E.x=D(i,E),E.X=D(r,E),E.c=D(e,E);function D(pe,ye){return function(Ce){var re=[],oe=-1,fe=0,we=pe.length,Ue,Be,Ve;for(Ce instanceof Date||(Ce=new Date(+Ce));++oe<we;)pe.charCodeAt(oe)===37&&(re.push(pe.slice(fe,oe)),(Be=cq[Ue=pe.charAt(++oe)])!=null?Ue=pe.charAt(++oe):Be=Ue==="e"?" ":"0",(Ve=ye[Ue])&&(Ue=Ve(Ce,Be)),re.push(Ue),fe=oe+1);return re.push(pe.slice(fe,oe)),re.join("")}}function P(pe,ye){return function(Ce){var re=Py(1900,void 0,1),oe=O(re,pe,Ce+="",0),fe,we;if(oe!=Ce.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ye&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(fe=b_(Py(re.y,0,1)),we=fe.getUTCDay(),fe=we>4||we===0?yA.ceil(fe):yA(fe),fe=YM.offset(fe,(re.V-1)*7),re.y=fe.getUTCFullYear(),re.m=fe.getUTCMonth(),re.d=fe.getUTCDate()+(re.w+6)%7):(fe=E_(Py(re.y,0,1)),we=fe.getDay(),fe=we>4||we===0?CA.ceil(fe):CA(fe),fe=cR.offset(fe,(re.V-1)*7),re.y=fe.getFullYear(),re.m=fe.getMonth(),re.d=fe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),we="Z"in re?b_(Py(re.y,0,1)).getUTCDay():E_(Py(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(we+5)%7:re.w+re.U*7-(we+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,b_(re)):E_(re)}}function O(pe,ye,Ce,re){for(var oe=0,fe=ye.length,we=Ce.length,Ue,Be;oe<fe;){if(re>=we)return-1;if(Ue=ye.charCodeAt(oe++),Ue===37){if(Ue=ye.charAt(oe++),Be=b[Ue in cq?ye.charAt(oe++):Ue],!Be||(re=Be(pe,Ce,re))<0)return-1}else if(Ue!=Ce.charCodeAt(re++))return-1}return re}function N(pe,ye,Ce){var re=u.exec(ye.slice(Ce));return re?(pe.p=c.get(re[0].toLowerCase()),Ce+re[0].length):-1}function _(pe,ye,Ce){var re=f.exec(ye.slice(Ce));return re?(pe.w=g.get(re[0].toLowerCase()),Ce+re[0].length):-1}function I(pe,ye,Ce){var re=d.exec(ye.slice(Ce));return re?(pe.w=h.get(re[0].toLowerCase()),Ce+re[0].length):-1}function k(pe,ye,Ce){var re=S.exec(ye.slice(Ce));return re?(pe.m=y.get(re[0].toLowerCase()),Ce+re[0].length):-1}function B(pe,ye,Ce){var re=m.exec(ye.slice(Ce));return re?(pe.m=C.get(re[0].toLowerCase()),Ce+re[0].length):-1}function U(pe,ye,Ce){return O(pe,e,ye,Ce)}function K(pe,ye,Ce){return O(pe,i,ye,Ce)}function j(pe,ye,Ce){return O(pe,r,ye,Ce)}function Q(pe){return o[pe.getDay()]}function H(pe){return s[pe.getDay()]}function X(pe){return l[pe.getMonth()]}function te(pe){return a[pe.getMonth()]}function le(pe){return n[+(pe.getHours()>=12)]}function J(pe){return 1+~~(pe.getMonth()/3)}function ie(pe){return o[pe.getUTCDay()]}function ue(pe){return s[pe.getUTCDay()]}function me(pe){return l[pe.getUTCMonth()]}function se(pe){return a[pe.getUTCMonth()]}function he(pe){return n[+(pe.getUTCHours()>=12)]}function Ee(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var ye=D(pe+="",w);return ye.toString=function(){return pe},ye},parse:function(pe){var ye=P(pe+="",!1);return ye.toString=function(){return pe},ye},utcFormat:function(pe){var ye=D(pe+="",E);return ye.toString=function(){return pe},ye},utcParse:function(pe){var ye=P(pe+="",!0);return ye.toString=function(){return pe},ye}}}var cq={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,Fat=/^%/,Iat=/[\\^$*+?|[\]().{}]/g;function oi(t,e,i){var r=t<0?"-":"",n=(r?-t:t)+"",s=n.length;return r+(s<i?new Array(i-s+1).join(e)+n:n)}function Lat(t){return t.replace(Iat,"\\$&")}function xy(t){return new RegExp("^(?:"+t.map(Lat).join("|")+")","i")}function Ay(t){return new Map(t.map((e,i)=>[e.toLowerCase(),i]))}function _at(t,e,i){var r=Pn.exec(e.slice(i,i+1));return r?(t.w=+r[0],i+r[0].length):-1}function Nat(t,e,i){var r=Pn.exec(e.slice(i,i+1));return r?(t.u=+r[0],i+r[0].length):-1}function Gat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.U=+r[0],i+r[0].length):-1}function kat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.V=+r[0],i+r[0].length):-1}function Vat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.W=+r[0],i+r[0].length):-1}function dq(t,e,i){var r=Pn.exec(e.slice(i,i+4));return r?(t.y=+r[0],i+r[0].length):-1}function hq(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function Hat(t,e,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function $at(t,e,i){var r=Pn.exec(e.slice(i,i+1));return r?(t.q=r[0]*3-3,i+r[0].length):-1}function Bat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.m=r[0]-1,i+r[0].length):-1}function pq(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.d=+r[0],i+r[0].length):-1}function Wat(t,e,i){var r=Pn.exec(e.slice(i,i+3));return r?(t.m=0,t.d=+r[0],i+r[0].length):-1}function fq(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.H=+r[0],i+r[0].length):-1}function Uat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.M=+r[0],i+r[0].length):-1}function zat(t,e,i){var r=Pn.exec(e.slice(i,i+2));return r?(t.S=+r[0],i+r[0].length):-1}function jat(t,e,i){var r=Pn.exec(e.slice(i,i+3));return r?(t.L=+r[0],i+r[0].length):-1}function Kat(t,e,i){var r=Pn.exec(e.slice(i,i+6));return r?(t.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function Yat(t,e,i){var r=Fat.exec(e.slice(i,i+1));return r?i+r[0].length:-1}function qat(t,e,i){var r=Pn.exec(e.slice(i));return r?(t.Q=+r[0],i+r[0].length):-1}function Xat(t,e,i){var r=Pn.exec(e.slice(i));return r?(t.s=+r[0],i+r[0].length):-1}function gq(t,e){return oi(t.getDate(),e,2)}function Qat(t,e){return oi(t.getHours(),e,2)}function Zat(t,e){return oi(t.getHours()%12||12,e,2)}function Jat(t,e){return oi(1+cR.count(Fc(t),t),e,3)}function Xle(t,e){return oi(t.getMilliseconds(),e,3)}function elt(t,e){return Xle(t,e)+"000"}function tlt(t,e){return oi(t.getMonth()+1,e,2)}function ilt(t,e){return oi(t.getMinutes(),e,2)}function rlt(t,e){return oi(t.getSeconds(),e,2)}function nlt(t){var e=t.getDay();return e===0?7:e}function slt(t,e){return oi(qM.count(Fc(t)-1,t),e,2)}function Qle(t){var e=t.getDay();return e>=4||e===0?Tv(t):Tv.ceil(t)}function olt(t,e){return t=Qle(t),oi(Tv.count(Fc(t),t)+(Fc(t).getDay()===4),e,2)}function alt(t){return t.getDay()}function llt(t,e){return oi(CA.count(Fc(t)-1,t),e,2)}function ult(t,e){return oi(t.getFullYear()%100,e,2)}function clt(t,e){return t=Qle(t),oi(t.getFullYear()%100,e,2)}function dlt(t,e){return oi(t.getFullYear()%1e4,e,4)}function hlt(t,e){var i=t.getDay();return t=i>=4||i===0?Tv(t):Tv.ceil(t),oi(t.getFullYear()%1e4,e,4)}function plt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+oi(e/60|0,"0",2)+oi(e%60,"0",2)}function mq(t,e){return oi(t.getUTCDate(),e,2)}function flt(t,e){return oi(t.getUTCHours(),e,2)}function glt(t,e){return oi(t.getUTCHours()%12||12,e,2)}function mlt(t,e){return oi(1+YM.count(Ic(t),t),e,3)}function Zle(t,e){return oi(t.getUTCMilliseconds(),e,3)}function vlt(t,e){return Zle(t,e)+"000"}function Clt(t,e){return oi(t.getUTCMonth()+1,e,2)}function ylt(t,e){return oi(t.getUTCMinutes(),e,2)}function Slt(t,e){return oi(t.getUTCSeconds(),e,2)}function wlt(t){var e=t.getUTCDay();return e===0?7:e}function Elt(t,e){return oi(XM.count(Ic(t)-1,t),e,2)}function Jle(t){var e=t.getUTCDay();return e>=4||e===0?Dv(t):Dv.ceil(t)}function blt(t,e){return t=Jle(t),oi(Dv.count(Ic(t),t)+(Ic(t).getUTCDay()===4),e,2)}function Rlt(t){return t.getUTCDay()}function Tlt(t,e){return oi(yA.count(Ic(t)-1,t),e,2)}function Dlt(t,e){return oi(t.getUTCFullYear()%100,e,2)}function Plt(t,e){return t=Jle(t),oi(t.getUTCFullYear()%100,e,2)}function xlt(t,e){return oi(t.getUTCFullYear()%1e4,e,4)}function Alt(t,e){var i=t.getUTCDay();return t=i>=4||i===0?Dv(t):Dv.ceil(t),oi(t.getUTCFullYear()%1e4,e,4)}function Olt(){return"+0000"}function vq(){return"%"}function Cq(t){return+t}function yq(t){return Math.floor(+t/1e3)}var Ag,eue,tue;Mlt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mlt(t){return Ag=Mat(t),eue=Ag.format,Ag.parse,tue=Ag.utcFormat,Ag.utcParse,Ag}function Flt(t){return new Date(t)}function Ilt(t){return t instanceof Date?+t:+new Date(+t)}function d2(t,e,i,r,n,s,o,a,l,u){var c=QW(),d=c.invert,h=c.domain,f=u(".%L"),g=u(":%S"),m=u("%I:%M"),C=u("%I %p"),S=u("%a %d"),y=u("%b %d"),w=u("%B"),E=u("%Y");function b(D){return(l(D)<D?f:a(D)<D?g:o(D)<D?m:s(D)<D?C:r(D)<D?n(D)<D?S:y:i(D)<D?w:E)(D)}return c.invert=function(D){return new Date(d(D))},c.domain=function(D){return arguments.length?h(Array.from(D,Ilt)):h().map(Flt)},c.ticks=function(D){var P=h();return t(P[0],P[P.length-1],D??10)},c.tickFormat=function(D,P){return P==null?b:u(P)},c.nice=function(D){var P=h();return(!D||typeof D.range!="function")&&(D=e(P[0],P[P.length-1],D??10)),D?h($le(P,D)):c},c.copy=function(){return uR(c,d2(t,e,i,r,n,s,o,a,l,u))},c}function Llt(){return Ja.apply(d2(Aat,Oat,Fc,u2,qM,cR,a2,s2,gp,eue).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _lt(){return Ja.apply(d2(Pat,xat,Ic,c2,XM,YM,l2,o2,gp,tue).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function QM(){var t=0,e=1,i,r,n,s,o=ys,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(n===0?.5:(d=(s(d)-i)*n,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,i=s(t=+t),r=s(e=+e),n=i===r?0:1/(r-i),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(h){var f,g;return arguments.length?([f,g]=h,o=d(f,g),u):[o(0),o(1)]}}return u.range=c(IC),u.rangeRound=c(XW),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,i=d(t),r=d(e),n=i===r?0:1/(r-i),u}}function Dh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iue(){var t=Th(QM()(ys));return t.copy=function(){return Dh(t,iue())},td.apply(t,arguments)}function rue(){var t=e2(QM()).domain([1,10]);return t.copy=function(){return Dh(t,rue()).base(t.base())},td.apply(t,arguments)}function nue(){var t=t2(QM());return t.copy=function(){return Dh(t,nue()).constant(t.constant())},td.apply(t,arguments)}function h2(){var t=i2(QM());return t.copy=function(){return Dh(t,h2()).exponent(t.exponent())},td.apply(t,arguments)}function Nlt(){return h2.apply(null,arguments).exponent(.5)}function sue(){var t=[],e=ys;function i(r){if(r!=null&&!isNaN(r=+r))return e((aR(t,r,1)-1)/(t.length-1))}return i.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let n of r)n!=null&&!isNaN(n=+n)&&t.push(n);return t.sort(Yd),i},i.interpolator=function(r){return arguments.length?(e=r,i):e},i.range=function(){return t.map((r,n)=>e(n/(t.length-1)))},i.quantiles=function(r){return Array.from({length:r+1},(n,s)=>Eot(t,s/r))},i.copy=function(){return sue(e).domain(t)},td.apply(i,arguments)}function ZM(){var t=0,e=.5,i=1,r=1,n,s,o,a,l,u=ys,c,d=!1,h;function f(m){return isNaN(m=+m)?h:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:l),u(d?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e,i]=m,n=c(t=+t),s=c(e=+e),o=c(i=+i),a=n===s?0:.5/(s-n),l=s===o?0:.5/(o-s),r=s<n?-1:1,f):[t,e,i]},f.clamp=function(m){return arguments.length?(d=!!m,f):d},f.interpolator=function(m){return arguments.length?(u=m,f):u};function g(m){return function(C){var S,y,w;return arguments.length?([S,y,w]=C,u=Yot(m,[S,y,w]),f):[u(0),u(.5),u(1)]}}return f.range=g(IC),f.rangeRound=g(XW),f.unknown=function(m){return arguments.length?(h=m,f):h},function(m){return c=m,n=m(t),s=m(e),o=m(i),a=n===s?0:.5/(s-n),l=s===o?0:.5/(o-s),r=s<n?-1:1,f}}function oue(){var t=Th(ZM()(ys));return t.copy=function(){return Dh(t,oue())},td.apply(t,arguments)}function aue(){var t=e2(ZM()).domain([.1,1,10]);return t.copy=function(){return Dh(t,aue()).base(t.base())},td.apply(t,arguments)}function lue(){var t=t2(ZM());return t.copy=function(){return Dh(t,lue()).constant(t.constant())},td.apply(t,arguments)}function p2(){var t=i2(ZM());return t.copy=function(){return Dh(t,p2()).exponent(t.exponent())},td.apply(t,arguments)}function Glt(){return p2.apply(null,arguments).exponent(.5)}const Sq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mE,scaleDiverging:oue,scaleDivergingLog:aue,scaleDivergingPow:p2,scaleDivergingSqrt:Glt,scaleDivergingSymlog:lue,scaleIdentity:Hle,scaleImplicit:WG,scaleLinear:mA,scaleLog:Ble,scaleOrdinal:KW,scalePoint:PS,scalePow:r2,scaleQuantile:zle,scaleQuantize:jle,scaleRadial:Ule,scaleSequential:iue,scaleSequentialLog:rue,scaleSequentialPow:h2,scaleSequentialQuantile:sue,scaleSequentialSqrt:Nlt,scaleSequentialSymlog:nue,scaleSqrt:vat,scaleSymlog:Wle,scaleThreshold:Kle,scaleTime:Llt,scaleUtc:_lt,tickFormat:Vle},Symbol.toStringTag,{value:"Module"}));var klt=RC;function Vlt(t,e,i){for(var r=-1,n=t.length;++r<n;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!klt(o):i(o,a)))var a=o,l=s}return l}var uue=Vlt;function Hlt(t,e){return t>e}var $lt=Hlt,Blt=uue,Wlt=$lt,Ult=MC;function zlt(t){return t&&t.length?Blt(t,Ult,Wlt):void 0}var jlt=zlt;const JM=Pt(jlt);function Klt(t,e){return t<e}var Ylt=Klt,qlt=uue,Xlt=Ylt,Qlt=MC;function Zlt(t){return t&&t.length?qlt(t,Qlt,Xlt):void 0}var Jlt=Zlt;const eF=Pt(Jlt);var eut=EM,tut=ed,iut=Qoe,rut=us;function nut(t,e){var i=rut(t)?eut:iut;return i(t,tut(e))}var sut=nut,out=TW,aut=sut;function lut(t,e){return out(aut(t,e),1)}var uut=lut;const cut=Pt(uut);var LC=1e9,dut={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g2,pr=!0,Wa="[DecimalError] ",Gp=Wa+"Invalid argument: ",f2=Wa+"Exponent out of range: ",_C=Math.floor,Zh=Math.pow,hut=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mo,hn=1e7,Zi=7,cue=9007199254740991,SA=_C(cue/Zi),Je={};Je.absoluteValue=Je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Je.comparedTo=Je.cmp=function(t){var e,i,r,n,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,n=t.d.length,e=0,i=r<n?r:n;e<i;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===n?0:r>n^s.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var t=this,e=t.d.length-1,i=(e-t.e)*Zi;if(e=t.d[e],e)for(;e%10==0;e/=10)i--;return i<0?0:i};Je.dividedBy=Je.div=function(t){return pc(this,new this.constructor(t))};Je.dividedToIntegerBy=Je.idiv=function(t){var e=this,i=e.constructor;return Ii(pc(e,new i(t),0,1),i.precision)};Je.equals=Je.eq=function(t){return!this.cmp(t)};Je.exponent=function(){return qr(this)};Je.greaterThan=Je.gt=function(t){return this.cmp(t)>0};Je.greaterThanOrEqualTo=Je.gte=function(t){return this.cmp(t)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(t){return this.cmp(t)<0};Je.lessThanOrEqualTo=Je.lte=function(t){return this.cmp(t)<1};Je.logarithm=Je.log=function(t){var e,i=this,r=i.constructor,n=r.precision,s=n+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mo))throw Error(Wa+"NaN");if(i.s<1)throw Error(Wa+(i.s?"NaN":"-Infinity"));return i.eq(Mo)?new r(0):(pr=!1,e=pc(wE(i,s),wE(t,s),s),pr=!0,Ii(e,n))};Je.minus=Je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pue(e,t):due(e,(t.s=-t.s,t))};Je.modulo=Je.mod=function(t){var e,i=this,r=i.constructor,n=r.precision;if(t=new r(t),!t.s)throw Error(Wa+"NaN");return i.s?(pr=!1,e=pc(i,t,0,1).times(t),pr=!0,i.minus(e)):Ii(new r(i),n)};Je.naturalExponential=Je.exp=function(){return hue(this)};Je.naturalLogarithm=Je.ln=function(){return wE(this)};Je.negated=Je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Je.plus=Je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?due(e,t):pue(e,(t.s=-t.s,t))};Je.precision=Je.sd=function(t){var e,i,r,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gp+t);if(e=qr(n)+1,r=n.d.length-1,i=r*Zi+1,r=n.d[r],r){for(;r%10==0;r/=10)i--;for(r=n.d[0];r>=10;r/=10)i++}return t&&e>i?e:i};Je.squareRoot=Je.sqrt=function(){var t,e,i,r,n,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Wa+"NaN")}for(t=qr(a),pr=!1,n=Math.sqrt(+a),n==0||n==1/0?(e=pu(a.d),(e.length+t)%2==0&&(e+="0"),n=Math.sqrt(e),t=_C((t+1)/2)-(t<0||t%2),n==1/0?e="5e"+t:(e=n.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(n.toString()),i=l.precision,n=o=i+3;;)if(s=r,r=s.plus(pc(a,s,o+2)).times(.5),pu(s.d).slice(0,o)===(e=pu(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),n==o&&e=="4999"){if(Ii(s,i+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return pr=!0,Ii(r,i)};Je.times=Je.mul=function(t){var e,i,r,n,s,o,a,l,u,c=this,d=c.constructor,h=c.d,f=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,i=c.e+t.e,l=h.length,u=f.length,l<u&&(s=h,h=f,f=s,o=l,l=u,u=o),s=[],o=l+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,n=l+r;n>r;)a=s[n]+f[r]*h[n-r-1]+e,s[n--]=a%hn|0,e=a/hn|0;s[n]=(s[n]+e)%hn|0}for(;!s[--o];)s.pop();return e?++i:s.shift(),t.d=s,t.e=i,pr?Ii(t,d.precision):t};Je.toDecimalPlaces=Je.todp=function(t,e){var i=this,r=i.constructor;return i=new r(i),t===void 0?i:(ku(t,0,LC),e===void 0?e=r.rounding:ku(e,0,8),Ii(i,t+qr(i)+1,e))};Je.toExponential=function(t,e){var i,r=this,n=r.constructor;return t===void 0?i=yf(r,!0):(ku(t,0,LC),e===void 0?e=n.rounding:ku(e,0,8),r=Ii(new n(r),t+1,e),i=yf(r,!0,t+1)),i};Je.toFixed=function(t,e){var i,r,n=this,s=n.constructor;return t===void 0?yf(n):(ku(t,0,LC),e===void 0?e=s.rounding:ku(e,0,8),r=Ii(new s(n),t+qr(n)+1,e),i=yf(r.abs(),!1,t+qr(r)+1),n.isneg()&&!n.isZero()?"-"+i:i)};Je.toInteger=Je.toint=function(){var t=this,e=t.constructor;return Ii(new e(t),qr(t)+1,e.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(t){var e,i,r,n,s,o,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Mo);if(a=new l(a),!a.s){if(t.s<1)throw Error(Wa+"Infinity");return a}if(a.eq(Mo))return a;if(r=l.precision,t.eq(Mo))return Ii(a,r);if(e=t.e,i=t.d.length-1,o=e>=i,s=a.s,o){if((i=c<0?-c:c)<=cue){for(n=new l(Mo),e=Math.ceil(r/Zi+4),pr=!1;i%2&&(n=n.times(a),Eq(n.d,e)),i=_C(i/2),i!==0;)a=a.times(a),Eq(a.d,e);return pr=!0,t.s<0?new l(Mo).div(n):Ii(n,r)}}else if(s<0)throw Error(Wa+"NaN");return s=s<0&&t.d[Math.max(e,i)]&1?-1:1,a.s=1,pr=!1,n=t.times(wE(a,r+u)),pr=!0,n=hue(n),n.s=s,n};Je.toPrecision=function(t,e){var i,r,n=this,s=n.constructor;return t===void 0?(i=qr(n),r=yf(n,i<=s.toExpNeg||i>=s.toExpPos)):(ku(t,1,LC),e===void 0?e=s.rounding:ku(e,0,8),n=Ii(new s(n),t,e),i=qr(n),r=yf(n,t<=i||i<=s.toExpNeg,t)),r};Je.toSignificantDigits=Je.tosd=function(t,e){var i=this,r=i.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ku(t,1,LC),e===void 0?e=r.rounding:ku(e,0,8)),Ii(new r(i),t,e)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qr(t),i=t.constructor;return yf(t,e<=i.toExpNeg||e>=i.toExpPos)};function due(t,e){var i,r,n,s,o,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),pr?Ii(e,d):e;if(l=t.d,u=e.d,o=t.e,n=e.e,l=l.slice(),s=o-n,s){for(s<0?(r=l,s=-s,a=u.length):(r=u,n=o,a=l.length),o=Math.ceil(d/Zi),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=u.length,a-s<0&&(s=a,r=u,u=l,l=r),i=0;s;)i=(l[--s]=l[s]+u[s]+i)/hn|0,l[s]%=hn;for(i&&(l.unshift(i),++n),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=n,pr?Ii(e,d):e}function ku(t,e,i){if(t!==~~t||t<e||t>i)throw Error(Gp+t)}function pu(t){var e,i,r,n=t.length-1,s="",o=t[0];if(n>0){for(s+=o,e=1;e<n;e++)r=t[e]+"",i=Zi-r.length,i&&(s+=Ed(i)),s+=r;o=t[e],r=o+"",i=Zi-r.length,i&&(s+=Ed(i))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var pc=function(){function t(r,n){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*n+o,r[a]=s%hn|0,o=s/hn|0;return o&&r.unshift(o),r}function e(r,n,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=n[a]){l=r[a]>n[a]?1:-1;break}return l}function i(r,n,s){for(var o=0;s--;)r[s]-=o,o=r[s]<n[s]?1:0,r[s]=o*hn+r[s]-n[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,n,s,o){var a,l,u,c,d,h,f,g,m,C,S,y,w,E,b,D,P,O,N=r.constructor,_=r.s==n.s?1:-1,I=r.d,k=n.d;if(!r.s)return new N(r);if(!n.s)throw Error(Wa+"Division by zero");for(l=r.e-n.e,P=k.length,b=I.length,f=new N(_),g=f.d=[],u=0;k[u]==(I[u]||0);)++u;if(k[u]>(I[u]||0)&&--l,s==null?y=s=N.precision:o?y=s+(qr(r)-qr(n))+1:y=s,y<0)return new N(0);if(y=y/Zi+2|0,u=0,P==1)for(c=0,k=k[0],y++;(u<b||c)&&y--;u++)w=c*hn+(I[u]||0),g[u]=w/k|0,c=w%k|0;else{for(c=hn/(k[0]+1)|0,c>1&&(k=t(k,c),I=t(I,c),P=k.length,b=I.length),E=P,m=I.slice(0,P),C=m.length;C<P;)m[C++]=0;O=k.slice(),O.unshift(0),D=k[0],k[1]>=hn/2&&++D;do c=0,a=e(k,m,P,C),a<0?(S=m[0],P!=C&&(S=S*hn+(m[1]||0)),c=S/D|0,c>1?(c>=hn&&(c=hn-1),d=t(k,c),h=d.length,C=m.length,a=e(d,m,h,C),a==1&&(c--,i(d,P<h?O:k,h))):(c==0&&(a=c=1),d=k.slice()),h=d.length,h<C&&d.unshift(0),i(m,d,C),a==-1&&(C=m.length,a=e(k,m,P,C),a<1&&(c++,i(m,P<C?O:k,C))),C=m.length):a===0&&(c++,m=[0]),g[u++]=c,a&&m[0]?m[C++]=I[E]||0:(m=[I[E]],C=1);while((E++<b||m[0]!==void 0)&&y--)}return g[0]||g.shift(),f.e=l,Ii(f,o?s+qr(f)+1:s)}}();function hue(t,e){var i,r,n,s,o,a,l=0,u=0,c=t.constructor,d=c.precision;if(qr(t)>16)throw Error(f2+qr(t));if(!t.s)return new c(Mo);for(e==null?(pr=!1,a=d):a=e,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Zh(2,u))/Math.LN10*2+5|0,a+=r,i=n=s=new c(Mo),c.precision=a;;){if(n=Ii(n.times(t),a),i=i.times(++l),o=s.plus(pc(n,i,a)),pu(o.d).slice(0,a)===pu(s.d).slice(0,a)){for(;u--;)s=Ii(s.times(s),a);return c.precision=d,e==null?(pr=!0,Ii(s,d)):s}s=o}}function qr(t){for(var e=t.e*Zi,i=t.d[0];i>=10;i/=10)e++;return e}function R_(t,e,i){if(e>t.LN10.sd())throw pr=!0,i&&(t.precision=i),Error(Wa+"LN10 precision limit exceeded");return Ii(new t(t.LN10),e)}function Ed(t){for(var e="";t--;)e+="0";return e}function wE(t,e){var i,r,n,s,o,a,l,u,c,d=1,h=10,f=t,g=f.d,m=f.constructor,C=m.precision;if(f.s<1)throw Error(Wa+(f.s?"NaN":"-Infinity"));if(f.eq(Mo))return new m(0);if(e==null?(pr=!1,u=C):u=e,f.eq(10))return e==null&&(pr=!0),R_(m,u);if(u+=h,m.precision=u,i=pu(g),r=i.charAt(0),s=qr(f),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&i.charAt(1)>3;)f=f.times(t),i=pu(f.d),r=i.charAt(0),d++;s=qr(f),r>1?(f=new m("0."+i),s++):f=new m(r+"."+i.slice(1))}else return l=R_(m,u+2,C).times(s+""),f=wE(new m(r+"."+i.slice(1)),u-h).plus(l),m.precision=C,e==null?(pr=!0,Ii(f,C)):f;for(a=o=f=pc(f.minus(Mo),f.plus(Mo),u),c=Ii(f.times(f),u),n=3;;){if(o=Ii(o.times(c),u),l=a.plus(pc(o,new m(n),u)),pu(l.d).slice(0,u)===pu(a.d).slice(0,u))return a=a.times(2),s!==0&&(a=a.plus(R_(m,u+2,C).times(s+""))),a=pc(a,new m(d),u),m.precision=C,e==null?(pr=!0,Ii(a,C)):a;a=l,n+=2}}function wq(t,e){var i,r,n;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(i<0&&(i=r),i+=+e.slice(r+1),e=e.substring(0,r)):i<0&&(i=e.length),r=0;e.charCodeAt(r)===48;)++r;for(n=e.length;e.charCodeAt(n-1)===48;)--n;if(e=e.slice(r,n),e){if(n-=r,i=i-r-1,t.e=_C(i/Zi),t.d=[],r=(i+1)%Zi,i<0&&(r+=Zi),r<n){for(r&&t.d.push(+e.slice(0,r)),n-=Zi;r<n;)t.d.push(+e.slice(r,r+=Zi));e=e.slice(r),r=Zi-e.length}else r-=n;for(;r--;)e+="0";if(t.d.push(+e),pr&&(t.e>SA||t.e<-SA))throw Error(f2+i)}else t.s=0,t.e=0,t.d=[0];return t}function Ii(t,e,i){var r,n,s,o,a,l,u,c,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=Zi,n=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Zi),s=d.length,c>=s)return t;for(u=s=d[c],o=1;s>=10;s/=10)o++;r%=Zi,n=r-Zi+o}if(i!==void 0&&(s=Zh(10,o-n-1),a=u/s%10|0,l=e<0||d[c+1]!==void 0||u%s,l=i<4?(a||l)&&(i==0||i==(t.s<0?3:2)):a>5||a==5&&(i==4||l||i==6&&(r>0?n>0?u/Zh(10,o-n):0:d[c-1])%10&1||i==(t.s<0?8:7))),e<1||!d[0])return l?(s=qr(t),d.length=1,e=e-s-1,d[0]=Zh(10,(Zi-e%Zi)%Zi),t.e=_C(-e/Zi)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,s=1,c--):(d.length=c+1,s=Zh(10,Zi-r),d[c]=n>0?(u/Zh(10,o-n)%Zh(10,n)|0)*s:0),l)for(;;)if(c==0){(d[0]+=s)==hn&&(d[0]=1,++t.e);break}else{if(d[c]+=s,d[c]!=hn)break;d[c--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(pr&&(t.e>SA||t.e<-SA))throw Error(f2+qr(t));return t}function pue(t,e){var i,r,n,s,o,a,l,u,c,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),pr?Ii(e,f):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(i=l,o=-o,a=d.length):(i=d,r=u,a=l.length),n=Math.max(Math.ceil(f/Zi),a)+2,o>n&&(o=n,i.length=1),i.reverse(),n=o;n--;)i.push(0);i.reverse()}else{for(n=l.length,a=d.length,c=n<a,c&&(a=n),n=0;n<a;n++)if(l[n]!=d[n]){c=l[n]<d[n];break}o=0}for(c&&(i=l,l=d,d=i,e.s=-e.s),a=l.length,n=d.length-a;n>0;--n)l[a++]=0;for(n=d.length;n>o;){if(l[--n]<d[n]){for(s=n;s&&l[--s]===0;)l[s]=hn-1;--l[s],l[n]+=hn}l[n]-=d[n]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,pr?Ii(e,f):e):new h(0)}function yf(t,e,i){var r,n=qr(t),s=pu(t.d),o=s.length;return e?(i&&(r=i-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ed(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n<0?"e":"e+")+n):n<0?(s="0."+Ed(-n-1)+s,i&&(r=i-o)>0&&(s+=Ed(r))):n>=o?(s+=Ed(n+1-o),i&&(r=i-n-1)>0&&(s=s+"."+Ed(r))):((r=n+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),i&&(r=i-o)>0&&(n+1===o&&(s+="."),s+=Ed(r))),t.s<0?"-"+s:s}function Eq(t,e){if(t.length>e)return t.length=e,!0}function fue(t){var e,i,r;function n(s){var o=this;if(!(o instanceof n))return new n(s);if(o.constructor=n,s instanceof n){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Gp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return wq(o,s.toString())}else if(typeof s!="string")throw Error(Gp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,hut.test(s))wq(o,s);else throw Error(Gp+s)}if(n.prototype=Je,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=fue,n.config=n.set=put,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(i=r[e++])||(t[i]=this[i]);return n.config(t),n}function put(t){if(!t||typeof t!="object")throw Error(Wa+"Object expected");var e,i,r,n=["precision",1,LC,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<n.length;e+=3)if((r=t[i=n[e]])!==void 0)if(_C(r)===r&&r>=n[e+1]&&r<=n[e+2])this[i]=r;else throw Error(Gp+i+": "+r);if((r=t[i="LN10"])!==void 0)if(r==Math.LN10)this[i]=new this(r);else throw Error(Gp+i+": "+r);return this}var g2=fue(dut);Mo=new g2(1);const Oi=g2;function fut(t){return Cut(t)||vut(t)||mut(t)||gut()}function gut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mut(t,e){if(t){if(typeof t=="string")return KG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return KG(t,e)}}function vut(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cut(t){if(Array.isArray(t))return KG(t)}function KG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var yut=function(e){return e},gue={"@@functional/placeholder":!0},mue=function(e){return e===gue},bq=function(e){return function i(){return arguments.length===0||arguments.length===1&&mue(arguments.length<=0?void 0:arguments[0])?i:e.apply(void 0,arguments)}},Sut=function t(e,i){return e===1?i:bq(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var o=n.filter(function(a){return a!==gue}).length;return o>=e?i.apply(void 0,n):t(e-o,bq(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=n.map(function(d){return mue(d)?l.shift():d});return i.apply(void 0,fut(c).concat(l))}))})},tF=function(e){return Sut(e.length,e)},YG=function(e,i){for(var r=[],n=e;n<i;++n)r[n-e]=n;return r},wut=tF(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(i){return e[i]}).map(t)}),Eut=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(!i.length)return yut;var n=i.reverse(),s=n[0],o=n.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},qG=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},vue=function(e){var i=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return i&&s.every(function(a,l){return a===i[l]})||(i=s,r=e.apply(void 0,s)),r}};function but(t){var e;return t===0?e=1:e=Math.floor(new Oi(t).abs().log(10).toNumber())+1,e}function Rut(t,e,i){for(var r=new Oi(t),n=0,s=[];r.lt(e)&&n<1e5;)s.push(r.toNumber()),r=r.add(i),n++;return s}var Tut=tF(function(t,e,i){var r=+t,n=+e;return r+i*(n-r)}),Dut=tF(function(t,e,i){var r=e-+t;return r=r||1/0,(i-t)/r}),Put=tF(function(t,e,i){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(i-t)/r))});const iF={rangeStep:Rut,getDigitCount:but,interpolateNumber:Tut,uninterpolateNumber:Dut,uninterpolateTruncation:Put};function XG(t){return Out(t)||Aut(t)||Cue(t)||xut()}function xut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aut(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Out(t){if(Array.isArray(t))return QG(t)}function EE(t,e){return Iut(t)||Fut(t,e)||Cue(t,e)||Mut()}function Mut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cue(t,e){if(t){if(typeof t=="string")return QG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return QG(t,e)}}function QG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Fut(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var i=[],r=!0,n=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){n=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(n)throw s}}return i}}function Iut(t){if(Array.isArray(t))return t}function yue(t){var e=EE(t,2),i=e[0],r=e[1],n=i,s=r;return i>r&&(n=r,s=i),[n,s]}function Sue(t,e,i){if(t.lte(0))return new Oi(0);var r=iF.getDigitCount(t.toNumber()),n=new Oi(10).pow(r),s=t.div(n),o=r!==1?.05:.1,a=new Oi(Math.ceil(s.div(o).toNumber())).add(i).mul(o),l=a.mul(n);return e?l:new Oi(Math.ceil(l))}function Lut(t,e,i){var r=1,n=new Oi(t);if(!n.isint()&&i){var s=Math.abs(t);s<1?(r=new Oi(10).pow(iF.getDigitCount(t)-1),n=new Oi(Math.floor(n.div(r).toNumber())).mul(r)):s>1&&(n=new Oi(Math.floor(t)))}else t===0?n=new Oi(Math.floor((e-1)/2)):i||(n=new Oi(Math.floor(t)));var o=Math.floor((e-1)/2),a=Eut(wut(function(l){return n.add(new Oi(l-o).mul(r)).toNumber()}),YG);return a(0,e)}function wue(t,e,i,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(i-1)))return{step:new Oi(0),tickMin:new Oi(0),tickMax:new Oi(0)};var s=Sue(new Oi(e).sub(t).div(i-1),r,n),o;t<=0&&e>=0?o=new Oi(0):(o=new Oi(t).add(e).div(2),o=o.sub(new Oi(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new Oi(e).sub(o).div(s).toNumber()),u=a+l+1;return u>i?wue(t,e,i,r,n+1):(u<i&&(l=e>0?l+(i-u):l,a=e>0?a:a+(i-u)),{step:s,tickMin:o.sub(new Oi(a).mul(s)),tickMax:o.add(new Oi(l).mul(s))})}function _ut(t){var e=EE(t,2),i=e[0],r=e[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),a=yue([i,r]),l=EE(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(XG(YG(0,n-1).map(function(){return 1/0}))):[].concat(XG(YG(0,n-1).map(function(){return-1/0})),[c]);return i>r?qG(d):d}if(u===c)return Lut(u,n,s);var h=wue(u,c,o,s),f=h.step,g=h.tickMin,m=h.tickMax,C=iF.rangeStep(g,m.add(new Oi(.1).mul(f)),f);return i>r?qG(C):C}function Nut(t,e){var i=EE(t,2),r=i[0],n=i[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=yue([r,n]),a=EE(o,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,n];if(l===u)return[l];var c=Math.max(e,2),d=Sue(new Oi(u).sub(l).div(c-1),s,0),h=[].concat(XG(iF.rangeStep(new Oi(l),new Oi(u).sub(new Oi(.99).mul(d)),d)),[u]);return r>n?qG(h):h}var Gut=vue(_ut),kut=vue(Nut),Vut="Invariant failed";function Sf(t,e){if(!t)throw new Error(Vut)}var Hut=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},wA.apply(this,arguments)}function $ut(t,e){return zut(t)||Uut(t,e)||Wut(t,e)||But()}function But(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wut(t,e){if(t){if(typeof t=="string")return Rq(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rq(t,e)}}function Rq(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Uut(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function zut(t){if(Array.isArray(t))return t}function jut(t,e){if(t==null)return{};var i=Kut(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Kut(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function rF(t){var e=t.offset,i=t.layout,r=t.width,n=t.dataKey,s=t.data,o=t.dataPointFormatter,a=t.xAxis,l=t.yAxis,u=jut(t,Hut),c=fi(u,!1);t.direction==="x"&&a.type!=="number"&&Sf(!1);var d=s.map(function(h){var f=o(h,n),g=f.x,m=f.y,C=f.value,S=f.errorVal;if(!S)return null;var y=[],w,E;if(Array.isArray(S)){var b=$ut(S,2);w=b[0],E=b[1]}else w=E=S;if(i==="vertical"){var D=a.scale,P=m+e,O=P+r,N=P-r,_=D(C-w),I=D(C+E);y.push({x1:I,y1:O,x2:I,y2:N}),y.push({x1:_,y1:P,x2:I,y2:P}),y.push({x1:_,y1:O,x2:_,y2:N})}else if(i==="horizontal"){var k=l.scale,B=g+e,U=B-r,K=B+r,j=k(C-w),Q=k(C+E);y.push({x1:U,y1:Q,x2:K,y2:Q}),y.push({x1:B,y1:j,x2:B,y2:Q}),y.push({x1:U,y1:j,x2:K,y2:j})}return $.createElement(Cn,wA({className:"recharts-errorBar",key:"bar-".concat(y.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},c),y.map(function(H){return $.createElement("line",wA({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return $.createElement(Cn,{className:"recharts-errorBars"},d)}rF.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};rF.displayName="ErrorBar";function bE(t){"@babel/helpers - typeof";return bE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bE(t)}function Tq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function T_(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(i),!0).forEach(function(r){Yut(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Tq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Yut(t,e,i){return e=qut(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qut(t){var e=Xut(t,"string");return bE(e)=="symbol"?e:String(e)}function Xut(t,e){if(bE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(bE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eue=function(e){var i=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,s=e.legendContent,o=Do(i,cE);if(!o)return null;var a;return o.props&&o.props.payload?a=o.props&&o.props.payload:s==="children"?a=(r||[]).reduce(function(l,u){var c=u.item,d=u.props,h=d.sectors||d.data||[];return l.concat(h.map(function(f){return{type:o.props.iconType||c.props.legendType,value:f.name,color:f.fill,payload:f}}))},[]):a=(r||[]).map(function(l){var u=l.item,c=u.props,d=c.dataKey,h=c.name,f=c.legendType,g=c.hide;return{inactive:g,dataKey:d,type:o.props.iconType||f||"square",color:m2(u),value:h||d,payload:u.props}}),T_(T_(T_({},o.props),cE.getWithHeight(o,n)),{},{payload:a,item:o})};function RE(t){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RE(t)}function Dq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Sa(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(i),!0).forEach(function(r){Am(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Dq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Am(t,e,i){return e=Qut(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Qut(t){var e=Zut(t,"string");return RE(e)=="symbol"?e:String(e)}function Zut(t,e){if(RE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(RE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pq(t){return ict(t)||tct(t)||ect(t)||Jut()}function Jut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ect(t,e){if(t){if(typeof t=="string")return ZG(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ZG(t,e)}}function tct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ict(t){if(Array.isArray(t))return ZG(t)}function ZG(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Vu(t,e,i){return Si(t)||Si(e)?i:sn(e)?Ia(t,e,i):zt(e)?e(t):i}function xS(t,e,i,r){var n=cut(t,function(a){return Vu(a,e)});if(i==="number"){var s=n.filter(function(a){return ze(a)||parseFloat(a)});return s.length?[eF(s),JM(s)]:[1/0,-1/0]}var o=r?n.filter(function(a){return!Si(a)}):n;return o.map(function(a){return sn(a)||a instanceof Date?a:""})}var rct=function(e){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<a;u++){var c=u>0?n[u-1].coordinate:n[a-1].coordinate,d=n[u].coordinate,h=u>=a-1?n[0].coordinate:n[u+1].coordinate,f=void 0;if(El(d-c)!==El(h-d)){var g=[];if(El(h-d)===El(l[1]-l[0])){f=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+c)/2),g[1]=Math.max(m,(m+c)/2)}else{f=c;var C=h+l[1]-l[0];g[0]=Math.min(d,(C+d)/2),g[1]=Math.max(d,(C+d)/2)}var S=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){o=n[u].index;break}}else{var y=Math.min(c,h),w=Math.max(c,h);if(e>(y+d)/2&&e<=(w+d)/2){o=n[u].index;break}}}else for(var E=0;E<a;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===a-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){o=r[E].index;break}return o},m2=function(e){var i=e,r=i.type.displayName,n=e.props,s=n.stroke,o=n.fill,a;switch(r){case"Line":a=s;break;case"Area":case"Radar":a=s&&s!=="none"?s:o;break;default:a=o;break}return a},nct=function(e){var i=e.barSize,r=e.totalSize,n=e.stackGroups,s=n===void 0?{}:n;if(!s)return{};for(var o={},a=Object.keys(s),l=0,u=a.length;l<u;l++)for(var c=s[a[l]].stackGroups,d=Object.keys(c),h=0,f=d.length;h<f;h++){var g=c[d[h]],m=g.items,C=g.cateAxisId,S=m.filter(function(b){return dc(b.type).indexOf("Bar")>=0});if(S&&S.length){var y=S[0].props.barSize,w=S[0].props[C];o[w]||(o[w]=[]);var E=Si(y)?i:y;o[w].push({item:S[0],stackList:S.slice(1),barSize:Si(E)?void 0:Cf(E,r,0)})}}return o},sct=function(e){var i=e.barGap,r=e.barCategoryGap,n=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var u=Cf(i,n,0,!0),c,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=n/l,g=o.reduce(function(E,b){return E+b.barSize||0},0);g+=(l-1)*u,g>=n&&(g-=(l-1)*u,u=0),g>=n&&f>0&&(h=!0,f*=.9,g=l*f);var m=(n-g)/2>>0,C={offset:m-u,size:0};c=o.reduce(function(E,b){var D={item:b.item,position:{offset:C.offset+C.size+u,size:h?f:b.barSize}},P=[].concat(Pq(E),[D]);return C=P[P.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){P.push({item:O,position:C})}),P},d)}else{var S=Cf(r,n,0,!0);n-2*S-(l-1)*u<=0&&(u=0);var y=(n-2*S-(l-1)*u)/l;y>1&&(y>>=0);var w=a===+a?Math.min(y,a):y;c=o.reduce(function(E,b,D){var P=[].concat(Pq(E),[{item:b.item,position:{offset:S+(y+u)*D+(y-w)/2,size:w}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},d)}return c},oct=function(e,i,r,n){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),u=Eue({children:s,legendWidth:l});if(u){var c=n||{},d=c.width,h=c.height,f=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&f!=="center"&&ze(e[f]))return Sa(Sa({},e),{},Am({},f,e[f]+(d||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&g!=="middle"&&ze(e[g]))return Sa(Sa({},e),{},Am({},g,e[g]+(h||0)))}return e},act=function(e,i,r){return Si(i)?!0:e==="horizontal"?i==="yAxis":e==="vertical"||r==="x"?i==="xAxis":r==="y"?i==="yAxis":!0},bue=function(e,i,r,n,s){var o=i.props.children,a=Pl(o,rF).filter(function(u){return act(n,s,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Vu(c,r);if(Si(d))return u;var h=Array.isArray(d)?[eF(d),JM(d)]:[d,d],f=l.reduce(function(g,m){var C=Vu(c,m,0),S=h[0]-Math.abs(Array.isArray(C)?C[0]:C),y=h[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(S,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},lct=function(e,i,r,n,s){var o=i.map(function(a){return bue(e,a,r,s,n)}).filter(function(a){return!Si(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},Rue=function(e,i,r,n,s){var o=i.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&bue(e,l,u,n)||xS(e,u,r,s)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},Tue=function(e,i){return e==="horizontal"&&i==="xAxis"||e==="vertical"&&i==="yAxis"||e==="centric"&&i==="angleAxis"||e==="radial"&&i==="radiusAxis"},Due=function(e,i,r,n){if(n)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===i&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(i),o||a.push(r),a},lc=function(e,i,r){if(!e)return null;var n=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,u=(i||r)&&o==="category"&&n.bandwidth?n.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?El(a[0]-a[1])*2*u:u,i&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:n(h)+u,value:d,offset:u}});return c.filter(function(d){return!oR(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:n(d)+u,value:d,index:h,offset:u}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(d){return{coordinate:n(d)+u,value:d,offset:u}}):n.domain().map(function(d,h){return{coordinate:n(d)+u,value:s?s[d]:d,index:h,offset:u}})},D_=new WeakMap,ZT=function(e,i){if(typeof i!="function")return e;D_.has(e)||D_.set(e,new WeakMap);var r=D_.get(e);if(r.has(i))return r.get(i);var n=function(){e.apply(void 0,arguments),i.apply(void 0,arguments)};return r.set(i,n),n},uct=function(e,i,r){var n=e.scale,s=e.type,o=e.layout,a=e.axisType;if(n==="auto")return o==="radial"&&a==="radiusAxis"?{scale:mE(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:mA(),realScaleType:"linear"}:s==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!r)?{scale:PS(),realScaleType:"point"}:s==="category"?{scale:mE(),realScaleType:"band"}:{scale:mA(),realScaleType:"linear"};if(sR(n)){var l="scale".concat(BM(n));return{scale:(Sq[l]||PS)(),realScaleType:Sq[l]?l:"point"}}return zt(n)?{scale:n}:{scale:PS(),realScaleType:"point"}},xq=1e-4,cct=function(e){var i=e.domain();if(!(!i||i.length<=2)){var r=i.length,n=e.range(),s=Math.min(n[0],n[1])-xq,o=Math.max(n[0],n[1])+xq,a=e(i[0]),l=e(i[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([i[0],i[r-1]])}},dct=function(e,i){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===i)return e[r].position;return null},hct=function(e,i){if(!i||i.length!==2||!ze(i[0])||!ze(i[1]))return e;var r=Math.min(i[0],i[1]),n=Math.max(i[0],i[1]),s=[e[0],e[1]];return(!ze(e[0])||e[0]<r)&&(s[0]=r),(!ze(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},pct=function(e){var i=e.length;if(!(i<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0,a=0;a<i;++a){var l=oR(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},fct=function(e){var i=e.length;if(!(i<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0;o<i;++o){var a=oR(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},gct={sign:pct,expand:Srt,none:yv,silhouette:wrt,wiggle:Ert,positive:fct},mct=function(e,i,r){var n=i.map(function(a){return a.props.dataKey}),s=gct[r],o=yrt().keys(n).value(function(a,l){return+Vu(a,l,0)}).order(xG).offset(s);return o(e)},vct=function(e,i,r,n,s,o){if(!e)return null;var a=o?i.reverse():i,l={},u=a.reduce(function(d,h){var f=h.props,g=f.stackId,m=f.hide;if(m)return d;var C=h.props[r],S=d[C]||{hasStack:!1,stackGroups:{}};if(sn(g)){var y=S.stackGroups[g]||{numericAxisId:r,cateAxisId:n,items:[]};y.items.push(h),S.hasStack=!0,S.stackGroups[g]=y}else S.stackGroups[$M("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[h]};return Sa(Sa({},d),{},Am({},C,S))},l),c={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,C){var S=f.stackGroups[C];return Sa(Sa({},m),{},Am({},C,{numericAxisId:r,cateAxisId:n,items:S.items,stackedData:mct(e,S.items,s)}))},g)}return Sa(Sa({},d),{},Am({},h,f))},c)},Cct=function(e,i){var r=i.realScaleType,n=i.type,s=i.tickCount,o=i.originalDomain,a=i.allowDecimals,l=r||i.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Gut(u,s,a);return e.domain([eF(c),JM(c)]),{niceTicks:c}}if(s&&n==="number"){var d=e.domain(),h=kut(d,s,a);return{niceTicks:h}}return null},Aq=function(e){var i=e.axis,r=e.ticks,n=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(i.type==="category")return r[a]?r[a].coordinate+n:null;var l=Vu(o,i.dataKey,i.domain[a]);return Si(l)?null:i.scale(l)-s/2+n},yct=function(e){var i=e.numericAxis,r=i.scale.domain();if(i.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},Sct=function(e,i){var r=e.props.stackId;if(sn(r)){var n=i[r];if(n){var s=n.items.indexOf(e);return s>=0?n.stackedData[s]:null}}return null},wct=function(e){return e.reduce(function(i,r){return[eF(r.concat([i[0]]).filter(ze)),JM(r.concat([i[1]]).filter(ze))]},[1/0,-1/0])},Pue=function(e,i,r){return Object.keys(e).reduce(function(n,s){var o=e[s],a=o.stackedData,l=a.reduce(function(u,c){var d=wct(c.slice(i,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},Oq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JG=function(e,i,r){if(zt(e))return e(i,r);if(!Array.isArray(e))return i;var n=[];if(ze(e[0]))n[0]=r?e[0]:Math.min(e[0],i[0]);else if(Oq.test(e[0])){var s=+Oq.exec(e[0])[1];n[0]=i[0]-s}else zt(e[0])?n[0]=e[0](i[0]):n[0]=i[0];if(ze(e[1]))n[1]=r?e[1]:Math.max(e[1],i[1]);else if(Mq.test(e[1])){var o=+Mq.exec(e[1])[1];n[1]=i[1]+o}else zt(e[1])?n[1]=e[1](i[1]):n[1]=i[1];return n},EA=function(e,i,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&i&&i.length>=2){for(var s=TM(i,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var u=s[a],c=s[a-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Fq=function(e,i,r){return!e||!e.length||wM(e,Ia(r,"type.defaultProps.domain"))?i:e},xue=function(e,i){var r=e.props,n=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Sa(Sa({},fi(e,!1)),{},{dataKey:n,unit:o,formatter:a,name:s||n,color:m2(e),value:Vu(i,n),type:l,payload:i,chartType:u,hide:c})};function TE(t){"@babel/helpers - typeof";return TE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TE(t)}function Iq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Lq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(i),!0).forEach(function(r){Ect(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Iq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Ect(t,e,i){return e=bct(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function bct(t){var e=Rct(t,"string");return TE(e)=="symbol"?e:String(e)}function Rct(t,e){if(TE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(TE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bA=Math.PI/180,Tct=function(e){return e*180/Math.PI},Nn=function(e,i,r,n){return{x:e+Math.cos(-bA*n)*r,y:i+Math.sin(-bA*n)*r}},Dct=function(e,i){var r=e.x,n=e.y,s=i.x,o=i.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(n-o,2))},Pct=function(e,i){var r=e.x,n=e.y,s=i.cx,o=i.cy,a=Dct({x:r,y:n},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,u=Math.acos(l);return n>o&&(u=2*Math.PI-u),{radius:a,angle:Tct(u),angleInRadian:u}},xct=function(e){var i=e.startAngle,r=e.endAngle,n=Math.floor(i/360),s=Math.floor(r/360),o=Math.min(n,s);return{startAngle:i-o*360,endAngle:r-o*360}},Act=function(e,i){var r=i.startAngle,n=i.endAngle,s=Math.floor(r/360),o=Math.floor(n/360),a=Math.min(s,o);return e+a*360},_q=function(e,i){var r=e.x,n=e.y,s=Pct({x:r,y:n},i),o=s.radius,a=s.angle,l=i.innerRadius,u=i.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=xct(i),d=c.startAngle,h=c.endAngle,f=a,g;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}return g?Lq(Lq({},i),{},{radius:o,angle:Act(f,i)}):null};function DE(t){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(t)}var Oct=["offset"];function Mct(t){return _ct(t)||Lct(t)||Ict(t)||Fct()}function Fct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ict(t,e){if(t){if(typeof t=="string")return ek(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ek(t,e)}}function Lct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ct(t){if(Array.isArray(t))return ek(t)}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Nct(t,e){if(t==null)return{};var i=Gct(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gct(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Nq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function tn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Nq(Object(i),!0).forEach(function(r){kct(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Nq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function kct(t,e,i){return e=Vct(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Vct(t){var e=Hct(t,"string");return DE(e)=="symbol"?e:String(e)}function Hct(t,e){if(DE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(DE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},PE.apply(this,arguments)}var $ct=function(e){var i=e.value,r=e.formatter,n=Si(e.children)?i:e.children;return zt(r)?r(n):n},Bct=function(e,i){var r=El(i-e),n=Math.min(Math.abs(i-e),360);return r*n},Wct=function(e,i,r){var n=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,g=l.endAngle,m=l.clockWise,C=(d+h)/2,S=Bct(f,g),y=S>=0?1:-1,w,E;n==="insideStart"?(w=f+y*o,E=m):n==="insideEnd"?(w=g-y*o,E=!m):n==="end"&&(w=g+y*o,E=m),E=S<=0?E:!E;var b=Nn(u,c,C,w),D=Nn(u,c,C,w+(E?1:-1)*359),P="M".concat(b.x,",").concat(b.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(E?0:1,`,
    `).concat(D.x,",").concat(D.y),O=Si(e.id)?$M("recharts-radial-line-"):e.id;return $.createElement("text",PE({},r,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:O,d:P})),$.createElement("textPath",{xlinkHref:"#".concat(O)},i))},Uct=function(e){var i=e.viewBox,r=e.offset,n=e.position,s=i,o=s.cx,a=s.cy,l=s.innerRadius,u=s.outerRadius,c=s.startAngle,d=s.endAngle,h=(c+d)/2;if(n==="outside"){var f=Nn(o,a,u+r,h),g=f.x,m=f.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var C=(l+u)/2,S=Nn(o,a,C,h),y=S.x,w=S.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},zct=function(e){var i=e.viewBox,r=e.parentViewBox,n=e.offset,s=e.position,o=i,a=o.x,l=o.y,u=o.width,c=o.height,d=c>=0?1:-1,h=d*n,f=d>0?"end":"start",g=d>0?"start":"end",m=u>=0?1:-1,C=m*n,S=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var w={x:a+u/2,y:l-d*n,textAnchor:"middle",verticalAnchor:f};return tn(tn({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var E={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return tn(tn({},E),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(s==="left"){var b={x:a-C,y:l+c/2,textAnchor:S,verticalAnchor:"middle"};return tn(tn({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(s==="right"){var D={x:a+u+C,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return tn(tn({},D),r?{width:Math.max(r.x+r.width-D.x,0),height:c}:{})}var P=r?{width:u,height:c}:{};return s==="insideLeft"?tn({x:a+C,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},P):s==="insideRight"?tn({x:a+u-C,y:l+c/2,textAnchor:S,verticalAnchor:"middle"},P):s==="insideTop"?tn({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},P):s==="insideBottom"?tn({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:f},P):s==="insideTopLeft"?tn({x:a+C,y:l+h,textAnchor:y,verticalAnchor:g},P):s==="insideTopRight"?tn({x:a+u-C,y:l+h,textAnchor:S,verticalAnchor:g},P):s==="insideBottomLeft"?tn({x:a+C,y:l+c-h,textAnchor:y,verticalAnchor:f},P):s==="insideBottomRight"?tn({x:a+u-C,y:l+c-h,textAnchor:S,verticalAnchor:f},P):wC(s)&&(ze(s.x)||pp(s.x))&&(ze(s.y)||pp(s.y))?tn({x:a+Cf(s.x,u),y:l+Cf(s.y,c),textAnchor:"end",verticalAnchor:"end"},P):tn({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},P)},jct=function(e){return"cx"in e&&ze(e.cx)};function Qn(t){var e=t.offset,i=e===void 0?5:e,r=Nct(t,Oct),n=tn({offset:i},r),s=n.viewBox,o=n.position,a=n.value,l=n.children,u=n.content,c=n.className,d=c===void 0?"":c,h=n.textBreakAll;if(!s||Si(a)&&Si(l)&&!T.isValidElement(u)&&!zt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,n);var f;if(zt(u)){if(f=T.createElement(u,n),T.isValidElement(f))return f}else f=$ct(n);var g=jct(s),m=fi(n,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wct(n,f,m);var C=g?Uct(n):zct(n);return $.createElement(uA,PE({className:Le("recharts-label",d)},m,C,{breakAll:h}),f)}Qn.displayName="Label";var Aue=function(e){var i=e.cx,r=e.cy,n=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,f=e.top,g=e.left,m=e.width,C=e.height,S=e.clockWise,y=e.labelViewBox;if(y)return y;if(ze(m)&&ze(C)){if(ze(d)&&ze(h))return{x:d,y:h,width:m,height:C};if(ze(f)&&ze(g))return{x:f,y:g,width:m,height:C}}return ze(d)&&ze(h)?{x:d,y:h,width:0,height:0}:ze(i)&&ze(r)?{cx:i,cy:r,startAngle:s||n||0,endAngle:o||n||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:S}:e.viewBox?e.viewBox:{}},Kct=function(e,i){return e?e===!0?$.createElement(Qn,{key:"label-implicit",viewBox:i}):sn(e)?$.createElement(Qn,{key:"label-implicit",viewBox:i,value:e}):T.isValidElement(e)?e.type===Qn?T.cloneElement(e,{key:"label-implicit",viewBox:i}):$.createElement(Qn,{key:"label-implicit",content:e,viewBox:i}):zt(e)?$.createElement(Qn,{key:"label-implicit",content:e,viewBox:i}):wC(e)?$.createElement(Qn,PE({viewBox:i},e,{key:"label-implicit"})):null:null},Yct=function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Aue(e),o=Pl(n,Qn).map(function(l,u){return T.cloneElement(l,{viewBox:i||s,key:"label-".concat(u)})});if(!r)return o;var a=Kct(e.label,i||s);return[a].concat(Mct(o))};Qn.parseViewBox=Aue;Qn.renderCallByParent=Yct;function xE(t){"@babel/helpers - typeof";return xE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xE(t)}var qct=["valueAccessor"],Xct=["data","dataKey","clockWise","id","textBreakAll"];function Qct(t){return tdt(t)||edt(t)||Jct(t)||Zct()}function Zct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jct(t,e){if(t){if(typeof t=="string")return tk(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return tk(t,e)}}function edt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tdt(t){if(Array.isArray(t))return tk(t)}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},RA.apply(this,arguments)}function Gq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function kq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(i),!0).forEach(function(r){idt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function idt(t,e,i){return e=rdt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function rdt(t){var e=ndt(t,"string");return xE(e)=="symbol"?e:String(e)}function ndt(t,e){if(xE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(xE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vq(t,e){if(t==null)return{};var i=sdt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sdt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var odt=function(e){return Array.isArray(e.value)?gZe(e.value):e.value};function kp(t){var e=t.valueAccessor,i=e===void 0?odt:e,r=Vq(t,qct),n=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,u=Vq(r,Xct);return!n||!n.length?null:$.createElement(Cn,{className:"recharts-label-list"},n.map(function(c,d){var h=Si(s)?i(c,d):Vu(c&&c.payload,s),f=Si(a)?{}:{id:"".concat(a,"-").concat(d)};return $.createElement(Qn,RA({},fi(c,!0),u,f,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Qn.parseViewBox(Si(o)?c:kq(kq({},c),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}kp.displayName="LabelList";function adt(t,e){return t?t===!0?$.createElement(kp,{key:"labelList-implicit",data:e}):$.isValidElement(t)||zt(t)?$.createElement(kp,{key:"labelList-implicit",data:e,content:t}):wC(t)?$.createElement(kp,RA({data:e},t,{key:"labelList-implicit"})):null:null}function ldt(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&i&&!t.label)return null;var r=t.children,n=Pl(r,kp).map(function(o,a){return T.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!i)return n;var s=adt(t.label,e);return[s].concat(Qct(n))}kp.renderCallByParent=ldt;function AE(t){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AE(t)}function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ik.apply(this,arguments)}function Hq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function $q(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(i),!0).forEach(function(r){udt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Hq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function udt(t,e,i){return e=cdt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cdt(t){var e=ddt(t,"string");return AE(e)=="symbol"?e:String(e)}function ddt(t,e){if(AE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(AE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hdt=function(e,i){var r=El(i-e),n=Math.min(Math.abs(i-e),359.999);return r*n},JT=function(e){var i=e.cx,r=e.cy,n=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+n,d=Math.asin(l/c)/bA,h=u?s:s+o*d,f=Nn(i,r,c,h),g=Nn(i,r,n,h),m=u?s-o*d:s,C=Nn(i,r,c*Math.cos(d*bA),m);return{center:f,circleTangency:g,lineTangency:C,theta:d}},Oue=function(e){var i=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=hdt(o,a),u=o+l,c=Nn(i,r,s,o),d=Nn(i,r,s,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var f=Nn(i,r,n,o),g=Nn(i,r,n,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(i,",").concat(r," Z");return h},pdt=function(e){var i=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=El(c-u),h=JT({cx:i,cy:r,radius:s,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),f=h.circleTangency,g=h.lineTangency,m=h.theta,C=JT({cx:i,cy:r,radius:s,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:l}),S=C.circleTangency,y=C.lineTangency,w=C.theta,E=l?Math.abs(u-c):Math.abs(u-c)-m-w;if(E<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Oue({cx:i,cy:r,innerRadius:n,outerRadius:s,startAngle:u,endAngle:c});var b="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var D=JT({cx:i,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=D.circleTangency,O=D.lineTangency,N=D.theta,_=JT({cx:i,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=_.circleTangency,k=_.lineTangency,B=_.theta,U=l?Math.abs(u-c):Math.abs(u-c)-N-B;if(U<0&&o===0)return"".concat(b,"L").concat(i,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else b+="L".concat(i,",").concat(r,"Z");return b},fdt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Mue=function(e){var i=$q($q({},fdt),e),r=i.cx,n=i.cy,s=i.innerRadius,o=i.outerRadius,a=i.cornerRadius,l=i.forceCornerRadius,u=i.cornerIsExternal,c=i.startAngle,d=i.endAngle,h=i.className;if(o<s||c===d)return null;var f=Le("recharts-sector",h),g=o-s,m=Cf(a,g,0,!0),C;return m>0&&Math.abs(c-d)<360?C=pdt({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):C=Oue({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:c,endAngle:d}),$.createElement("path",ik({},fi(i,!0),{className:f,d:C,role:"img"}))};function OE(t){"@babel/helpers - typeof";return OE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OE(t)}function rk(){return rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},rk.apply(this,arguments)}function Bq(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Wq(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Bq(Object(i),!0).forEach(function(r){gdt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Bq(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function gdt(t,e,i){return e=mdt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mdt(t){var e=vdt(t,"string");return OE(e)=="symbol"?e:String(e)}function vdt(t,e){if(OE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(OE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uq={curveBasisClosed:lrt,curveBasisOpen:urt,curveBasis:art,curveBumpX:Kit,curveBumpY:Yit,curveLinearClosed:crt,curveLinear:UM,curveMonotoneX:drt,curveMonotoneY:hrt,curveNatural:prt,curveStep:frt,curveStepAfter:mrt,curveStepBefore:grt},eD=function(e){return e.x===+e.x&&e.y===+e.y},Oy=function(e){return e.x},My=function(e){return e.y},Cdt=function(e,i){if(zt(e))return e;var r="curve".concat(BM(e));return(r==="curveMonotone"||r==="curveBump")&&i?Uq["".concat(r).concat(i==="vertical"?"Y":"X")]:Uq[r]||UM},ydt=function(e){var i=e.type,r=i===void 0?"linear":i,n=e.points,s=n===void 0?[]:n,o=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Cdt(r,a),d=u?s.filter(function(m){return eD(m)}):s,h;if(Array.isArray(o)){var f=u?o.filter(function(m){return eD(m)}):o,g=d.map(function(m,C){return Wq(Wq({},m),{},{base:f[C]})});return a==="vertical"?h=zT().y(My).x1(Oy).x0(function(m){return m.base.x}):h=zT().x(Oy).y1(My).y0(function(m){return m.base.y}),h.defined(eD).curve(c),h(g)}return a==="vertical"&&ze(o)?h=zT().y(My).x1(Oy).x0(o):ze(o)?h=zT().x(Oy).y1(My).y0(o):h=ile().x(Oy).y(My),h.defined(eD).curve(c),h(d)},zq=function(e){var i=e.className,r=e.points,n=e.path,s=e.pathRef;if((!r||!r.length)&&!n)return null;var o=r&&r.length?ydt(e):n;return $.createElement("path",rk({},fi(e,!1),Qx(e),{className:Le("recharts-curve",i),d:o,ref:s}))},Sdt=Object.getOwnPropertyNames,wdt=Object.getOwnPropertySymbols,Edt=Object.prototype.hasOwnProperty;function jq(t,e){return function(r,n,s){return t(r,n,s)&&e(r,n,s)}}function tD(t){return function(i,r,n){if(!i||!r||typeof i!="object"||typeof r!="object")return t(i,r,n);var s=n.cache,o=s.get(i),a=s.get(r);if(o&&a)return o===r&&a===i;s.set(i,r),s.set(r,i);var l=t(i,r,n);return s.delete(i),s.delete(r),l}}function Kq(t){return Sdt(t).concat(wdt(t))}var Fue=Object.hasOwn||function(t,e){return Edt.call(t,e)};function NC(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var Iue="_owner",Yq=Object.getOwnPropertyDescriptor,qq=Object.keys;function bdt(t,e,i){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!i.equals(t[r],e[r],r,r,t,e,i))return!1;return!0}function Rdt(t,e){return NC(t.getTime(),e.getTime())}function Xq(t,e,i){if(t.size!==e.size)return!1;for(var r={},n=t.entries(),s=0,o,a;(o=n.next())&&!o.done;){for(var l=e.entries(),u=!1,c=0;(a=l.next())&&!a.done;){var d=o.value,h=d[0],f=d[1],g=a.value,m=g[0],C=g[1];!u&&!r[c]&&(u=i.equals(h,m,s,c,t,e,i)&&i.equals(f,C,h,m,t,e,i))&&(r[c]=!0),c++}if(!u)return!1;s++}return!0}function Tdt(t,e,i){var r=qq(t),n=r.length;if(qq(e).length!==n)return!1;for(var s;n-- >0;)if(s=r[n],s===Iue&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Fue(e,s)||!i.equals(t[s],e[s],s,s,t,e,i))return!1;return!0}function Fy(t,e,i){var r=Kq(t),n=r.length;if(Kq(e).length!==n)return!1;for(var s,o,a;n-- >0;)if(s=r[n],s===Iue&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Fue(e,s)||!i.equals(t[s],e[s],s,s,t,e,i)||(o=Yq(t,s),a=Yq(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function Ddt(t,e){return NC(t.valueOf(),e.valueOf())}function Pdt(t,e){return t.source===e.source&&t.flags===e.flags}function Qq(t,e,i){if(t.size!==e.size)return!1;for(var r={},n=t.values(),s,o;(s=n.next())&&!s.done;){for(var a=e.values(),l=!1,u=0;(o=a.next())&&!o.done;)!l&&!r[u]&&(l=i.equals(s.value,o.value,s.value,o.value,t,e,i))&&(r[u]=!0),u++;if(!l)return!1}return!0}function xdt(t,e){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(t[i]!==e[i])return!1;return!0}var Adt="[object Arguments]",Odt="[object Boolean]",Mdt="[object Date]",Fdt="[object Map]",Idt="[object Number]",Ldt="[object Object]",_dt="[object RegExp]",Ndt="[object Set]",Gdt="[object String]",kdt=Array.isArray,Zq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Jq=Object.assign,Vdt=Object.prototype.toString.call.bind(Object.prototype.toString);function Hdt(t){var e=t.areArraysEqual,i=t.areDatesEqual,r=t.areMapsEqual,n=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,a=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,d,h){if(c===d)return!0;if(c==null||d==null||typeof c!="object"||typeof d!="object")return c!==c&&d!==d;var f=c.constructor;if(f!==d.constructor)return!1;if(f===Object)return n(c,d,h);if(kdt(c))return e(c,d,h);if(Zq!=null&&Zq(c))return l(c,d,h);if(f===Date)return i(c,d,h);if(f===RegExp)return o(c,d,h);if(f===Map)return r(c,d,h);if(f===Set)return a(c,d,h);var g=Vdt(c);return g===Mdt?i(c,d,h):g===_dt?o(c,d,h):g===Fdt?r(c,d,h):g===Ndt?a(c,d,h):g===Ldt?typeof c.then!="function"&&typeof d.then!="function"&&n(c,d,h):g===Adt?n(c,d,h):g===Odt||g===Idt||g===Gdt?s(c,d,h):!1}}function $dt(t){var e=t.circular,i=t.createCustomConfig,r=t.strict,n={areArraysEqual:r?Fy:bdt,areDatesEqual:Rdt,areMapsEqual:r?jq(Xq,Fy):Xq,areObjectsEqual:r?Fy:Tdt,arePrimitiveWrappersEqual:Ddt,areRegExpsEqual:Pdt,areSetsEqual:r?jq(Qq,Fy):Qq,areTypedArraysEqual:r?Fy:xdt};if(i&&(n=Jq({},n,i(n))),e){var s=tD(n.areArraysEqual),o=tD(n.areMapsEqual),a=tD(n.areObjectsEqual),l=tD(n.areSetsEqual);n=Jq({},n,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return n}function Bdt(t){return function(e,i,r,n,s,o,a){return t(e,i,a)}}function Wdt(t){var e=t.circular,i=t.comparator,r=t.createState,n=t.equals,s=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,f=c.meta;return i(l,u,{cache:h,equals:n,meta:f,strict:s})};if(e)return function(l,u){return i(l,u,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};var o={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,u){return i(l,u,o)}}var Udt=Ph();Ph({strict:!0});Ph({circular:!0});Ph({circular:!0,strict:!0});Ph({createInternalComparator:function(){return NC}});Ph({strict:!0,createInternalComparator:function(){return NC}});Ph({circular:!0,createInternalComparator:function(){return NC}});Ph({circular:!0,createInternalComparator:function(){return NC},strict:!0});function Ph(t){t===void 0&&(t={});var e=t.circular,i=e===void 0?!1:e,r=t.createInternalComparator,n=t.createState,s=t.strict,o=s===void 0?!1:s,a=$dt(t),l=Hdt(a),u=r?r(l):Bdt(l);return Wdt({circular:i,comparator:l,createState:n,equals:u,strict:o})}function zdt(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function e8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=-1,r=function n(s){i<0&&(i=s),s-i>e?(t(s),i=-1):zdt(n)};requestAnimationFrame(r)}function nk(t){"@babel/helpers - typeof";return nk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nk(t)}function jdt(t){return Xdt(t)||qdt(t)||Ydt(t)||Kdt()}function Kdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ydt(t,e){if(t){if(typeof t=="string")return t8(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t8(t,e)}}function t8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function qdt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xdt(t){if(Array.isArray(t))return t}function Qdt(){var t={},e=function(){return null},i=!1,r=function n(s){if(!i){if(Array.isArray(s)){if(!s.length)return;var o=s,a=jdt(o),l=a[0],u=a.slice(1);if(typeof l=="number"){e8(n.bind(null,u),l);return}n(l),e8(n.bind(null,u));return}nk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){i=!0},start:function(s){i=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ME(t){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ME(t)}function i8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function r8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(i),!0).forEach(function(r){Lue(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):i8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Lue(t,e,i){return e=Zdt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Zdt(t){var e=Jdt(t,"string");return ME(e)==="symbol"?e:String(e)}function Jdt(t,e){if(ME(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(ME(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eht=function(e,i){return[Object.keys(e),Object.keys(i)].reduce(function(r,n){return r.filter(function(s){return n.includes(s)})})},tht=function(e){return e},iht=function(e){return e.replace(/([A-Z])/g,function(i){return"-".concat(i.toLowerCase())})},AS=function(e,i){return Object.keys(i).reduce(function(r,n){return r8(r8({},r),{},Lue({},n,e(n,i[n])))},{})},n8=function(e,i,r){return e.map(function(n){return"".concat(iht(n)," ").concat(i,"ms ").concat(r)}).join(",")};function rht(t,e){return oht(t)||sht(t,e)||_ue(t,e)||nht()}function nht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sht(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function oht(t){if(Array.isArray(t))return t}function aht(t){return cht(t)||uht(t)||_ue(t)||lht()}function lht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(t,e){if(t){if(typeof t=="string")return sk(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sk(t,e)}}function uht(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cht(t){if(Array.isArray(t))return sk(t)}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var TA=1e-4,Nue=function(e,i){return[0,3*e,3*i-6*e,3*e-3*i+1]},Gue=function(e,i){return e.map(function(r,n){return r*Math.pow(i,n)}).reduce(function(r,n){return r+n})},s8=function(e,i){return function(r){var n=Nue(e,i);return Gue(n,r)}},dht=function(e,i){return function(r){var n=Nue(e,i),s=[].concat(aht(n.map(function(o,a){return o*a}).slice(1)),[0]);return Gue(s,r)}},o8=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i[0],s=i[1],o=i[2],a=i[3];if(i.length===1)switch(i[0]){case"linear":n=0,s=0,o=1,a=1;break;case"ease":n=.25,s=.1,o=.25,a=1;break;case"ease-in":n=.42,s=0,o=1,a=1;break;case"ease-out":n=.42,s=0,o=.58,a=1;break;case"ease-in-out":n=0,s=0,o=.58,a=1;break;default:{var l=i[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),c=rht(u,4);n=c[0],s=c[1],o=c[2],a=c[3]}}}var d=s8(n,o),h=s8(s,a),f=dht(n,o),g=function(S){return S>1?1:S<0?0:S},m=function(S){for(var y=S>1?1:S,w=y,E=0;E<8;++E){var b=d(w)-y,D=f(w);if(Math.abs(b-y)<TA||D<TA)return h(w);w=g(w-b/D)}return h(w)};return m.isStepper=!1,m},hht=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.stiff,r=i===void 0?100:i,n=e.damping,s=n===void 0?8:n,o=e.dt,a=o===void 0?17:o,l=function(c,d,h){var f=-(c-d)*r,g=h*s,m=h+(f-g)*a/1e3,C=h*a/1e3+c;return Math.abs(C-d)<TA&&Math.abs(m)<TA?[d,0]:[C,m]};return l.isStepper=!0,l.dt=a,l},pht=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o8(n);case"spring":return hht();default:if(n.split("(")[0]==="cubic-bezier")return o8(n)}return typeof n=="function"?n:null};function FE(t){"@babel/helpers - typeof";return FE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FE(t)}function a8(t){return mht(t)||ght(t)||kue(t)||fht()}function fht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ght(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mht(t){if(Array.isArray(t))return ak(t)}function l8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Mn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(i),!0).forEach(function(r){ok(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function ok(t,e,i){return e=vht(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function vht(t){var e=Cht(t,"string");return FE(e)==="symbol"?e:String(e)}function Cht(t,e){if(FE(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(FE(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yht(t,e){return Eht(t)||wht(t,e)||kue(t,e)||Sht()}function Sht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(t,e){if(t){if(typeof t=="string")return ak(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ak(t,e)}}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function wht(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Eht(t){if(Array.isArray(t))return t}var DA=function(e,i,r){return e+(i-e)*r},lk=function(e){var i=e.from,r=e.to;return i!==r},bht=function t(e,i,r){var n=AS(function(s,o){if(lk(o)){var a=e(o.from,o.to,o.velocity),l=yht(a,2),u=l[0],c=l[1];return Mn(Mn({},o),{},{from:u,velocity:c})}return o},i);return r<1?AS(function(s,o){return lk(o)?Mn(Mn({},o),{},{velocity:DA(o.velocity,n[s].velocity,r),from:DA(o.from,n[s].from,r)}):o},i):t(e,n,r-1)};const Rht=function(t,e,i,r,n){var s=eht(t,e),o=s.reduce(function(C,S){return Mn(Mn({},C),{},ok({},S,[t[S],e[S]]))},{}),a=s.reduce(function(C,S){return Mn(Mn({},C),{},ok({},S,{from:t[S],velocity:0,to:e[S]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return AS(function(S,y){return y.from},a)},f=function(){return!Object.values(a).filter(lk).length},g=function(S){u||(u=S);var y=S-u,w=y/i.dt;a=bht(i,a,w),n(Mn(Mn(Mn({},t),e),h())),u=S,f()||(l=requestAnimationFrame(d))},m=function(S){c||(c=S);var y=(S-c)/r,w=AS(function(b,D){return DA.apply(void 0,a8(D).concat([i(y)]))},o);if(n(Mn(Mn(Mn({},t),e),w)),y<1)l=requestAnimationFrame(d);else{var E=AS(function(b,D){return DA.apply(void 0,a8(D).concat([i(1)]))},o);n(Mn(Mn(Mn({},t),e),E))}};return d=i.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}var Tht=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dht(t,e){if(t==null)return{};var i=Pht(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pht(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function P_(t){return Mht(t)||Oht(t)||Aht(t)||xht()}function xht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aht(t,e){if(t){if(typeof t=="string")return uk(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return uk(t,e)}}function Oht(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mht(t){if(Array.isArray(t))return uk(t)}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function u8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function ll(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(i),!0).forEach(function(r){rS(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function rS(t,e,i){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Fht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vue(r.key),r)}}function Iht(t,e,i){return e&&c8(t.prototype,e),i&&c8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t){var e=Lht(t,"string");return Pv(e)==="symbol"?e:String(e)}function Lht(t,e){if(Pv(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Pv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ck(t,e)}function Nht(t){var e=Ght();return function(){var r=PA(t),n;if(e){var s=PA(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return dk(this,n)}}function dk(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hk(t)}function hk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ght(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PA(t){return PA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},PA(t)}var ah=function(t){_ht(i,t);var e=Nht(i);function i(r,n){var s;Fht(this,i),s=e.call(this,r,n);var o=s.props,a=o.isActive,l=o.attributeName,u=o.from,c=o.to,d=o.steps,h=o.children,f=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(hk(s)),s.changeStyle=s.changeStyle.bind(hk(s)),!a||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:c}),dk(s);if(d&&d.length)s.state={style:d[0].style};else if(u){if(typeof h=="function")return s.state={style:u},dk(s);s.state={style:l?rS({},l,u):u}}else s.state={style:{}};return s}return Iht(i,[{key:"componentDidMount",value:function(){var n=this.props,s=n.isActive,o=n.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,c=s.to,d=s.from,h=this.state.style;if(a){if(!o){var f={style:l?rS({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(f);return}if(!(Udt(n.to,c)&&n.canBegin&&n.isActive)){var g=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?d:n.to;if(this.state&&h){var C={style:l?rS({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(C)}this.runAnimation(ll(ll({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var s=this,o=n.from,a=n.to,l=n.duration,u=n.easing,c=n.begin,d=n.onAnimationEnd,h=n.onAnimationStart,f=Rht(o,a,pht(u),l,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([h,c,g,l,d])}},{key:"runStepAnimation",value:function(n){var s=this,o=n.steps,a=n.begin,l=n.onAnimationStart,u=o[0],c=u.style,d=u.duration,h=d===void 0?0:d,f=function(m,C,S){if(S===0)return m;var y=C.duration,w=C.easing,E=w===void 0?"ease":w,b=C.style,D=C.properties,P=C.onAnimationEnd,O=S>0?o[S-1]:C,N=D||Object.keys(b);if(typeof E=="function"||E==="spring")return[].concat(P_(m),[s.runJSAnimation.bind(s,{from:O.style,to:b,duration:y,easing:E}),y]);var _=n8(N,y,E),I=ll(ll(ll({},O.style),b),{},{transition:_});return[].concat(P_(m),[I,y,P]).filter(tht)};return this.manager.start([l].concat(P_(o.reduce(f,[c,Math.max(h,a)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=Qdt());var s=n.begin,o=n.duration,a=n.attributeName,l=n.to,u=n.easing,c=n.onAnimationStart,d=n.onAnimationEnd,h=n.steps,f=n.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(n);return}if(h.length>1){this.runStepAnimation(n);return}var m=a?rS({},a,l):l,C=n8(Object.keys(m),o,u);g.start([c,s,ll(ll({},m),{},{transition:C}),o,d])}},{key:"render",value:function(){var n=this.props,s=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var a=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var l=Dht(n,Tht),u=T.Children.count(s),c=this.state.style;if(typeof s=="function")return s(c);if(!a||u===0||o<=0)return s;var d=function(f){var g=f.props,m=g.style,C=m===void 0?{}:m,S=g.className,y=T.cloneElement(f,ll(ll({},l),{},{style:ll(ll({},C),c),className:S}));return y};return u===1?d(T.Children.only(s)):$.createElement("div",null,T.Children.map(s,function(h){return d(h)}))}}]),i}(T.PureComponent);ah.displayName="Animate";ah.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ah.propTypes={from:ee.oneOfType([ee.object,ee.string]),to:ee.oneOfType([ee.object,ee.string]),attributeName:ee.string,duration:ee.number,begin:ee.number,easing:ee.oneOfType([ee.string,ee.func]),steps:ee.arrayOf(ee.shape({duration:ee.number.isRequired,style:ee.object.isRequired,easing:ee.oneOfType([ee.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ee.func]),properties:ee.arrayOf("string"),onAnimationEnd:ee.func})),children:ee.oneOfType([ee.node,ee.func]),isActive:ee.bool,canBegin:ee.bool,onAnimationEnd:ee.func,shouldReAnimate:ee.bool,onAnimationStart:ee.func,onAnimationReStart:ee.func};ee.object,ee.object,ee.object,ee.element;ee.object,ee.object,ee.object,ee.oneOfType([ee.array,ee.element]),ee.any;function IE(t){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},xA.apply(this,arguments)}function kht(t,e){return Bht(t)||$ht(t,e)||Hht(t,e)||Vht()}function Vht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hht(t,e){if(t){if(typeof t=="string")return d8(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return d8(t,e)}}function d8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function $ht(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Bht(t){if(Array.isArray(t))return t}function h8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function p8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(i),!0).forEach(function(r){Wht(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Wht(t,e,i){return e=Uht(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Uht(t){var e=zht(t,"string");return IE(e)=="symbol"?e:String(e)}function zht(t,e){if(IE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(IE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f8=function(e,i,r,n,s){var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,c;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>o?o:s[h];c="M".concat(e,",").concat(i+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(i)),c+="L ".concat(e+r-l*d[1],",").concat(i),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(i+a*d[1])),c+="L ".concat(e+r,",").concat(i+n-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(i+n)),c+="L ".concat(e+l*d[3],",").concat(i+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(i+n-a*d[3])),c+="Z"}else if(o>0&&s===+s&&s>0){var g=Math.min(o,s);c="M ".concat(e,",").concat(i+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(i,`
            L `).concat(e+r-l*g,",").concat(i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(i+a*g,`
            L `).concat(e+r,",").concat(i+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(i+n,`
            L `).concat(e+l*g,",").concat(i+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(i+n-a*g," Z")}else c="M ".concat(e,",").concat(i," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},jht=function(e,i){if(!e||!i)return!1;var r=e.x,n=e.y,s=i.x,o=i.y,a=i.width,l=i.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(s,s+a),c=Math.max(s,s+a),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&n>=d&&n<=h}return!1},Kht={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nF=function(e){var i=p8(p8({},Kht),e),r=T.useRef(),n=T.useState(-1),s=kht(n,2),o=s[0],a=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=i.x,u=i.y,c=i.width,d=i.height,h=i.radius,f=i.className,g=i.animationEasing,m=i.animationDuration,C=i.animationBegin,S=i.isAnimationActive,y=i.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var w=Le("recharts-rectangle",f);return y?$.createElement(ah,{canBegin:o>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(E){var b=E.width,D=E.height,P=E.x,O=E.y;return $.createElement(ah,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:m,isActive:S,easing:g},$.createElement("path",xA({},fi(i,!0),{className:w,d:f8(P,O,b,D,h),ref:r})))}):$.createElement("path",xA({},fi(i,!0),{className:w,d:f8(l,u,c,d,h)}))};function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},pk.apply(this,arguments)}var Hue=function(e){var i=e.cx,r=e.cy,n=e.r,s=e.className,o=Le("recharts-dot",s);return i===+i&&r===+r&&n===+n?$.createElement("circle",pk({},fi(e,!1),Qx(e),{className:o,cx:i,cy:r,r:n})):null};function LE(t){"@babel/helpers - typeof";return LE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LE(t)}var Yht=["x","y","top","left","width","height","className"];function fk(){return fk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},fk.apply(this,arguments)}function g8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function qht(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(i),!0).forEach(function(r){Xht(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Xht(t,e,i){return e=Qht(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Qht(t){var e=Zht(t,"string");return LE(e)=="symbol"?e:String(e)}function Zht(t,e){if(LE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(LE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jht(t,e){if(t==null)return{};var i=ept(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ept(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var tpt=function(e,i,r,n,s,o){return"M".concat(e,",").concat(s,"v").concat(n,"M").concat(o,",").concat(i,"h").concat(r)},ipt=function(e){var i=e.x,r=i===void 0?0:i,n=e.y,s=n===void 0?0:n,o=e.top,a=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,f=h===void 0?0:h,g=e.className,m=Jht(e,Yht),C=qht({x:r,y:s,top:a,left:u,width:d,height:f},m);return!ze(r)||!ze(s)||!ze(d)||!ze(f)||!ze(a)||!ze(u)?null:$.createElement("path",fk({},fi(C,!0),{className:Le("recharts-cross",g),d:tpt(r,s,d,f,a,u)}))},rpt=Jc,npt=Wl,spt="[object Boolean]";function opt(t){return t===!0||t===!1||npt(t)&&rpt(t)==spt}var apt=opt;const lpt=Pt(apt);function _E(t){"@babel/helpers - typeof";return _E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_E(t)}function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},AA.apply(this,arguments)}function upt(t,e){return ppt(t)||hpt(t,e)||dpt(t,e)||cpt()}function cpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpt(t,e){if(t){if(typeof t=="string")return m8(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m8(t,e)}}function m8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function hpt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function ppt(t){if(Array.isArray(t))return t}function v8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function C8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(i),!0).forEach(function(r){fpt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function fpt(t,e,i){return e=gpt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gpt(t){var e=mpt(t,"string");return _E(e)=="symbol"?e:String(e)}function mpt(t,e){if(_E(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(_E(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y8=function(e,i,r,n,s){var o=r-n,a;return a="M ".concat(e,",").concat(i),a+="L ".concat(e+r,",").concat(i),a+="L ".concat(e+r-o/2,",").concat(i+s),a+="L ".concat(e+r-o/2-n,",").concat(i+s),a+="L ".concat(e,",").concat(i," Z"),a},vpt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cpt=function(e){var i=C8(C8({},vpt),e),r=T.useRef(),n=T.useState(-1),s=upt(n,2),o=s[0],a=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var l=i.x,u=i.y,c=i.upperWidth,d=i.lowerWidth,h=i.height,f=i.className,g=i.animationEasing,m=i.animationDuration,C=i.animationBegin,S=i.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var y=Le("recharts-trapezoid",f);return S?$.createElement(ah,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:S},function(w){var E=w.upperWidth,b=w.lowerWidth,D=w.height,P=w.x,O=w.y;return $.createElement(ah,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:m,easing:g},$.createElement("path",AA({},fi(i,!0),{className:y,d:y8(P,O,E,b,D),ref:r})))}):$.createElement("g",null,$.createElement("path",AA({},fi(i,!0),{className:y,d:y8(l,u,c,d,h)})))},ypt=["option","shapeType","propTransformer","activeClassName","isActive"];function NE(t){"@babel/helpers - typeof";return NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(t)}function Spt(t,e){if(t==null)return{};var i=wpt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wpt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function S8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function OA(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(i),!0).forEach(function(r){Ept(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Ept(t,e,i){return e=bpt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function bpt(t){var e=Rpt(t,"string");return NE(e)=="symbol"?e:String(e)}function Rpt(t,e){if(NE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(NE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tpt(t,e){return OA(OA({},e),t)}function Dpt(t,e){return t==="symbols"}function w8(t){var e=t.shapeType,i=t.elementProps;switch(e){case"rectangle":return $.createElement(nF,i);case"trapezoid":return $.createElement(Cpt,i);case"sector":return $.createElement(Mue,i);case"symbols":if(Dpt(e))return $.createElement(WW,i);break;default:return null}}function Ppt(t){return T.isValidElement(t)?t.props:t}function xpt(t){var e=t.option,i=t.shapeType,r=t.propTransformer,n=r===void 0?Tpt:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=Spt(t,ypt),u;if(T.isValidElement(e))u=T.cloneElement(e,OA(OA({},l),Ppt(e)));else if(zt(e))u=e(l);else if(_Ze(e)&&!lpt(e)){var c=n(e,l);u=$.createElement(w8,{shapeType:i,elementProps:c})}else{var d=l;u=$.createElement(w8,{shapeType:i,elementProps:d})}return a?$.createElement(Cn,{className:o},u):u}function sF(t,e){return e!=null&&"trapezoids"in t.props}function oF(t,e){return e!=null&&"sectors"in t.props}function GE(t,e){return e!=null&&"points"in t.props}function Apt(t,e){var i,r,n=t.x===(e==null||(i=e.labelViewBox)===null||i===void 0?void 0:i.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return n&&s}function Opt(t,e){var i=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return i&&r}function Mpt(t,e){var i=t.x===e.x,r=t.y===e.y,n=t.z===e.z;return i&&r&&n}function Fpt(t,e){var i;return sF(t,e)?i=Apt:oF(t,e)?i=Opt:GE(t,e)&&(i=Mpt),i}function Ipt(t,e){var i;return sF(t,e)?i="trapezoids":oF(t,e)?i="sectors":GE(t,e)&&(i="points"),i}function Lpt(t,e){if(sF(t,e)){var i;return(i=e.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}if(oF(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return GE(t,e)?e.payload:{}}function _pt(t){var e=t.activeTooltipItem,i=t.graphicalItem,r=t.itemData,n=Ipt(i,e),s=Lpt(i,e),o=r.filter(function(l,u){var c=wM(s,l),d=i.props[n].filter(function(g){var m=Fpt(i,e);return m(g,e)}),h=i.props[n].indexOf(d[d.length-1]),f=u===h;return c&&f}),a=r.indexOf(o[o.length-1]);return a}function kE(t){"@babel/helpers - typeof";return kE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kE(t)}function E8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function b8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(i),!0).forEach(function(r){$ue(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function $ue(t,e,i){return e=Npt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Npt(t){var e=Gpt(t,"string");return kE(e)=="symbol"?e:String(e)}function Gpt(t,e){if(kE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(kE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kpt=["Webkit","Moz","O","ms"],Vpt=function(e,i){if(!e)return null;var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),n=kpt.reduce(function(s,o){return b8(b8({},s),{},$ue({},o+r,i))},{});return n[e]=i,n};function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function MA(){return MA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},MA.apply(this,arguments)}function R8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function x_(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(i),!0).forEach(function(r){So(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):R8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Hpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wue(r.key),r)}}function $pt(t,e,i){return e&&T8(t.prototype,e),i&&T8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bpt(t,e,i){return e=FA(e),Wpt(t,Bue()?Reflect.construct(e,i||[],FA(t).constructor):e.apply(t,i))}function Wpt(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iu(t)}function Bue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bue=function(){return!!t})()}function FA(t){return FA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},FA(t)}function iu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Upt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gk(t,e)}function gk(t,e){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},gk(t,e)}function So(t,e,i){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Wue(t){var e=zpt(t,"string");return xv(e)=="symbol"?e:String(e)}function zpt(t,e){if(xv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jpt=function(e){var i=e.data,r=e.startIndex,n=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!i||!i.length)return{};var l=i.length,u=PS().domain(oE(0,l)).range([s,s+o-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(n),scale:u,scaleValues:c}},D8=function(e){return e.changedTouches&&!!e.changedTouches.length},Av=function(t){Upt(e,t);function e(i){var r;return Hpt(this,e),r=Bpt(this,e,[i]),So(iu(r),"handleDrag",function(n){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(n):r.state.isSlideMoving&&r.handleSlideDrag(n)}),So(iu(r),"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&r.handleDrag(n.changedTouches[0])}),So(iu(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=r.props,s=n.endIndex,o=n.onDragEnd,a=n.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),So(iu(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),So(iu(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),So(iu(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),So(iu(r),"handleSlideDragStart",function(n){var s=D8(n)?n.changedTouches[0]:n;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(iu(r),"startX"),endX:r.handleTravellerDragStart.bind(iu(r),"endX")},r.state={},r}return $pt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(n,s),h=Math.max(n,s),f=e.getIndexInRange(o,d),g=e.getIndexInRange(o,h);return{startIndex:f-f%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var n=this.props,s=n.data,o=n.tickFormatter,a=n.dataKey,l=Vu(s[r],a,r);return zt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,s=n.slideMoveStartX,o=n.startX,a=n.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,g=l.onChange,m=r.pageX-s;m>0?m=Math.min(m,u+c-d-a,u+c-d-o):m<0&&(m=Math.max(m,u-o,u-a));var C=this.getIndex({startX:o+m,endX:a+m});(C.startIndex!==h||C.endIndex!==f)&&g&&g(C),this.setState({startX:o+m,endX:a+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var s=D8(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,s=n.brushMoveStartX,o=n.movingTravellerId,a=n.endX,l=n.startX,u=this.state[o],c=this.props,d=c.x,h=c.width,f=c.travellerWidth,g=c.onChange,m=c.gap,C=c.data,S={startX:this.state.startX,endX:this.state.endX},y=r.pageX-s;y>0?y=Math.min(y,d+h-f-u):y<0&&(y=Math.max(y,d-u)),S[o]=u+y;var w=this.getIndex(S),E=w.startIndex,b=w.endIndex,D=function(){var O=C.length-1;return o==="startX"&&(a>l?E%m===0:b%m===0)||a<l&&b===O||o==="endX"&&(a>l?b%m===0:E%m===0)||a>l&&b===O};this.setState(So(So({},o,u+y),"brushMoveStartX",r.pageX),function(){g&&D()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var s=this,o=this.state,a=o.scaleValues,l=o.startX,u=o.endX,c=this.state[n],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var f=a[h];n==="startX"&&f>=u||n==="endX"&&f<=l||this.setState(So({},n,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:n,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,s=r.y,o=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=T.Children.only(u);return d?$.cloneElement(d,{x:n,y:s,width:o,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,n){var s=this,o=this.props,a=o.y,l=o.travellerWidth,u=o.height,c=o.traveller,d=o.ariaLabel,h=o.data,f=o.startIndex,g=o.endIndex,m=Math.max(r,this.props.x),C=x_(x_({},fi(this.props,!1)),{},{x:m,y:a,width:l,height:u}),S=d||"Min value: ".concat(h[f].name,", Max value: ").concat(h[g].name);return $.createElement(Cn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,n))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(c,C))}},{key:"renderSlide",value:function(r,n){var s=this.props,o=s.y,a=s.height,l=s.stroke,u=s.travellerWidth,c=Math.min(r,n)+u,d=Math.max(Math.abs(n-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,f=5,g={pointerEvents:"none",fill:u};return $.createElement(Cn,{className:"recharts-brush-texts"},$.createElement(uA,MA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+a/2},g),this.getTextOfTick(n)),$.createElement(uA,MA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:o+a/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,n=r.data,s=r.className,o=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,f=h.startX,g=h.endX,m=h.isTextActive,C=h.isSlideMoving,S=h.isTravellerMoving,y=h.isTravellerFocused;if(!n||!n.length||!ze(a)||!ze(l)||!ze(u)||!ze(c)||u<=0||c<=0)return null;var w=Le("recharts-brush",s),E=$.Children.count(o)===1,b=Vpt("userSelect","none");return $.createElement(Cn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(m||C||S||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,u=Math.floor(s+a/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:n,y:s,width:o,height:a,fill:l,stroke:"none"}),$.createElement("line",{x1:n+1,y1:u,x2:n+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:n+1,y1:u+2,x2:n+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var s;return $.isValidElement(r)?s=$.cloneElement(r,n):zt(r)?s=r(n):s=e.renderDefaultTraveller(n),s}},{key:"getDerivedStateFromProps",value:function(r,n){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(s!==n.prevData||u!==n.prevUpdateId)return x_({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o},s&&s.length?jpt({data:s,width:o,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||a!==n.prevX||l!==n.prevTravellerWidth)){n.scale.range([a,a+o-l]);var h=n.scale.domain().map(function(f){return n.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:o,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,n){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>n?a=l:o=l}return n>=r[a]?a:o}}]),e}(T.PureComponent);So(Av,"displayName","Brush");So(Av,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Kpt=PW;function Ypt(t,e){var i;return Kpt(t,function(r,n,s){return i=e(r,n,s),!i}),!!i}var qpt=Ypt,Xpt=Doe,Qpt=ed,Zpt=qpt,Jpt=us,eft=bC;function tft(t,e,i){var r=Jpt(t)?Xpt:Zpt;return i&&eft(t,e,i)&&(e=void 0),r(t,Qpt(e))}var ift=tft;const rft=Pt(ift);var Eu=function(e,i){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===i};function nft(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(!e(t[i],i,t))return!1;return!0}var sft=nft,oft=PW;function aft(t,e){var i=!0;return oft(t,function(r,n,s){return i=!!e(r,n,s),i}),i}var lft=aft,uft=sft,cft=lft,dft=ed,hft=us,pft=bC;function fft(t,e,i){var r=hft(t)?uft:cft;return i&&pft(t,e,i)&&(e=void 0),r(t,dft(e))}var gft=fft;const Uue=Pt(gft);var mft=["x","y"];function VE(t){"@babel/helpers - typeof";return VE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VE(t)}function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},mk.apply(this,arguments)}function P8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Iy(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(i),!0).forEach(function(r){vft(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function vft(t,e,i){return e=Cft(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Cft(t){var e=yft(t,"string");return VE(e)=="symbol"?e:String(e)}function yft(t,e){if(VE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(VE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sft(t,e){if(t==null)return{};var i=wft(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wft(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Eft(t,e){var i=t.x,r=t.y,n=Sft(t,mft),s="".concat(i),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||n.height),c=parseInt(u,10),d="".concat(e.width||n.width),h=parseInt(d,10);return Iy(Iy(Iy(Iy(Iy({},e),n),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function x8(t){return $.createElement(xpt,mk({shapeType:"rectangle",propTransformer:Eft,activeClassName:"recharts-active-bar"},t))}var bft=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,n):(s||Sf(!1),i)}},Rft=["value","background"],zue;function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function Tft(t,e){if(t==null)return{};var i=Dft(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dft(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},IA.apply(this,arguments)}function A8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function dn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(i),!0).forEach(function(r){Id(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Pft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kue(r.key),r)}}function xft(t,e,i){return e&&O8(t.prototype,e),i&&O8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aft(t,e,i){return e=LA(e),Oft(t,jue()?Reflect.construct(e,i||[],LA(t).constructor):e.apply(t,i))}function Oft(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nS(t)}function jue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jue=function(){return!!t})()}function LA(t){return LA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},LA(t)}function nS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vk(t,e)}function vk(t,e){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vk(t,e)}function Id(t,e,i){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Kue(t){var e=Fft(t,"string");return Ov(e)=="symbol"?e:String(e)}function Fft(t,e){if(Ov(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ng=function(t){Mft(e,t);function e(){var i;Pft(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=Aft(this,e,[].concat(n)),Id(nS(i),"state",{isAnimationFinished:!1}),Id(nS(i),"id",$M("recharts-bar-")),Id(nS(i),"handleAnimationEnd",function(){var o=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),o&&o()}),Id(nS(i),"handleAnimationStart",function(){var o=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),o&&o()}),i}return xft(e,[{key:"renderRectanglesStatically",value:function(r){var n=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,u=s.activeBar,c=fi(this.props,!1);return r&&r.map(function(d,h){var f=h===l,g=f?u:o,m=dn(dn(dn({},c),d),{},{isActive:f,option:g,index:h,dataKey:a,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return $.createElement(Cn,IA({className:"recharts-bar-rectangle"},Zx(n.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),$.createElement(x8,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,s=n.data,o=n.layout,a=n.isAnimationActive,l=n.animationBegin,u=n.animationDuration,c=n.animationEasing,d=n.animationId,h=this.state.prevData;return $.createElement(ah,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,m=s.map(function(C,S){var y=h&&h[S];if(y){var w=Pg(y.x,C.x),E=Pg(y.y,C.y),b=Pg(y.width,C.width),D=Pg(y.height,C.height);return dn(dn({},C),{},{x:w(g),y:E(g),width:b(g),height:D(g)})}if(o==="horizontal"){var P=Pg(0,C.height),O=P(g);return dn(dn({},C),{},{y:C.y+C.height-O,height:O})}var N=Pg(0,C.width),_=N(g);return dn(dn({},C),{},{width:_})});return $.createElement(Cn,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&n&&n.length&&(!o||!wM(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,s=n.data,o=n.dataKey,a=n.activeIndex,l=fi(this.props.background,!1);return s.map(function(u,c){u.value;var d=u.background,h=Tft(u,Rft);if(!d)return null;var f=dn(dn(dn(dn(dn({},h),{},{fill:"#eee"},d),l),Zx(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,key:"background-bar-".concat(c),className:"recharts-bar-background-rectangle"});return $.createElement(x8,IA({option:r.props.background,isActive:c===a},f))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,u=s.layout,c=s.children,d=Pl(c,rF);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,f=function(C,S){var y=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:y,errorVal:Vu(C,S)}},g={clipPath:r?"url(#clipPath-".concat(n,")"):null};return $.createElement(Cn,g,d.map(function(m){return $.cloneElement(m,{key:"error-bar-".concat(n,"-").concat(m.props.dataKey),data:o,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,f=r.isAnimationActive,g=r.background,m=r.id;if(n||!s||!s.length)return null;var C=this.state.isAnimationFinished,S=Le("recharts-bar",o),y=a&&a.allowDataOverflow,w=l&&l.allowDataOverflow,E=y||w,b=Si(m)?this.id:m;return $.createElement(Cn,{className:S},y||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(b)},$.createElement("rect",{x:y?u:u-d/2,y:w?c:c-h/2,width:y?d:d*2,height:w?h:h*2}))):null,$.createElement(Cn,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(b,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,b),(!f||C)&&kp.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}]),e}(T.PureComponent);zue=ng;Id(ng,"displayName","Bar");Id(ng,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Kd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Id(ng,"getComposedData",function(t){var e=t.props,i=t.item,r=t.barPosition,n=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,f=dct(r,i);if(!f)return null;var g=e.layout,m=i.props,C=m.dataKey,S=m.children,y=m.minPointSize,w=g==="horizontal"?o:s,E=u?w.scale.domain():null,b=yct({numericAxis:w}),D=Pl(S,Tle),P=d.map(function(O,N){var _,I,k,B,U,K;u?_=hct(u[c+N],E):(_=Vu(O,C),Array.isArray(_)||(_=[b,_]));var j=bft(y,zue.defaultProps.minPointSize)(_[1],N);if(g==="horizontal"){var Q,H=[o.scale(_[0]),o.scale(_[1])],X=H[0],te=H[1];I=Aq({axis:s,ticks:a,bandSize:n,offset:f.offset,entry:O,index:N}),k=(Q=te??X)!==null&&Q!==void 0?Q:void 0,B=f.size;var le=X-te;if(U=Number.isNaN(le)?0:le,K={x:I,y:o.y,width:B,height:o.height},Math.abs(j)>0&&Math.abs(U)<Math.abs(j)){var J=El(U||j)*(Math.abs(j)-Math.abs(U));k-=J,U+=J}}else{var ie=[s.scale(_[0]),s.scale(_[1])],ue=ie[0],me=ie[1];if(I=ue,k=Aq({axis:o,ticks:l,bandSize:n,offset:f.offset,entry:O,index:N}),B=me-ue,U=f.size,K={x:s.x,y:k,width:s.width,height:U},Math.abs(j)>0&&Math.abs(B)<Math.abs(j)){var se=El(B||j)*(Math.abs(j)-Math.abs(B));B+=se}}return dn(dn(dn({},O),{},{x:I,y:k,width:B,height:U,value:u?_:_[1],payload:O,background:K},D&&D[N]&&D[N].props),{},{tooltipPayload:[xue(i,O)],tooltipPosition:{x:I+B/2,y:k+U/2}})});return dn({data:P,layout:g},h)});function HE(t){"@babel/helpers - typeof";return HE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HE(t)}function Ift(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yue(r.key),r)}}function Lft(t,e,i){return e&&M8(t.prototype,e),i&&M8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function F8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function pl(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(i),!0).forEach(function(r){aF(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):F8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function aF(t,e,i){return e=Yue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Yue(t){var e=_ft(t,"string");return HE(e)=="symbol"?e:String(e)}function _ft(t,e){if(HE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(HE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nft=function(e,i,r,n,s){var o=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(i),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Do(u,ng);return c.reduce(function(f,g){var m=i[g],C=m.orientation,S=m.domain,y=m.padding,w=y===void 0?{}:y,E=m.mirror,b=m.reversed,D="".concat(C).concat(E?"Mirror":""),P,O,N,_,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=S[1]-S[0],B=1/0,U=m.categoricalDomain.sort();if(U.forEach(function(ue,me){me>0&&(B=Math.min((ue||0)-(U[me-1]||0),B))}),Number.isFinite(B)){var K=B/k,j=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(P=K*j/2),m.padding==="no-gap"){var Q=Cf(e.barCategoryGap,K*j),H=K*j/2;P=H-Q-(H-Q)/j*Q}}}n==="xAxis"?O=[r.left+(w.left||0)+(P||0),r.left+r.width-(w.right||0)-(P||0)]:n==="yAxis"?O=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(P||0),r.top+r.height-(w.bottom||0)-(P||0)]:O=m.range,b&&(O=[O[1],O[0]]);var X=uct(m,s,h),te=X.scale,le=X.realScaleType;te.domain(S).range(O),cct(te);var J=Cct(te,pl(pl({},m),{},{realScaleType:le}));n==="xAxis"?(I=C==="top"&&!E||C==="bottom"&&E,N=r.left,_=d[D]-I*m.height):n==="yAxis"&&(I=C==="left"&&!E||C==="right"&&E,N=d[D]-I*m.width,_=r.top);var ie=pl(pl(pl({},m),J),{},{realScaleType:le,x:N,y:_,scale:te,width:n==="xAxis"?r.width:m.width,height:n==="yAxis"?r.height:m.height});return ie.bandSize=EA(ie,J),!m.hide&&n==="xAxis"?d[D]+=(I?-1:1)*ie.height:m.hide||(d[D]+=(I?-1:1)*ie.width),pl(pl({},f),{},aF({},g,ie))},{})},que=function(e,i){var r=e.x,n=e.y,s=i.x,o=i.y;return{x:Math.min(r,s),y:Math.min(n,o),width:Math.abs(s-r),height:Math.abs(o-n)}},Gft=function(e){var i=e.x1,r=e.y1,n=e.x2,s=e.y2;return que({x:i,y:r},{x:n,y:s})},Xue=function(){function t(e){Ift(this,t),this.scale=e}return Lft(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,s=r.position;if(i!==void 0){if(s)switch(s){case"start":return this.scale(i);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(i)+a}default:return this.scale(i)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+l}return this.scale(i)}}},{key:"isInRange",value:function(i){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?i>=n&&i<=s:i>=s&&i<=n}}],[{key:"create",value:function(i){return new t(i)}}]),t}();aF(Xue,"EPS",1e-4);var v2=function(e){var i=Object.keys(e).reduce(function(r,n){return pl(pl({},r),{},aF({},n,Xue.create(e[n])))},{});return pl(pl({},i),{},{apply:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return gae(n,function(l,u){return i[u].apply(l,{bandAware:o,position:a})})},isInRange:function(n){return Uue(n,function(s,o){return i[o].isInRange(s)})}})};function kft(t){return(t%180+180)%180}var Vft=function(e){var i=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=kft(n),o=s*Math.PI/180,a=Math.atan(r/i),l=o>a&&o<Math.PI-a?r/Math.sin(o):i/Math.cos(o);return Math.abs(l)},Hft=ed,$ft=EC,Bft=AC;function Wft(t){return function(e,i,r){var n=Object(e);if(!$ft(e)){var s=Hft(i);e=Bft(e),i=function(a){return s(n[a],a,n)}}var o=t(e,i,r);return o>-1?n[s?e[o]:o]:void 0}}var Uft=Wft,zft=Uft,jft=Yoe,Kft=zft(jft),Yft=Kft;const qft=Pt(Yft);var Xft=oqe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),C2=T.createContext(void 0),y2=T.createContext(void 0),Que=T.createContext(void 0),Zue=T.createContext({}),Jue=T.createContext(void 0),ece=T.createContext(0),tce=T.createContext(0),I8=function(e){var i=e.state,r=i.xAxisMap,n=i.yAxisMap,s=i.offset,o=e.clipPathId,a=e.children,l=e.width,u=e.height,c=Xft(s);return $.createElement(C2.Provider,{value:r},$.createElement(y2.Provider,{value:n},$.createElement(Zue.Provider,{value:s},$.createElement(Que.Provider,{value:c},$.createElement(Jue.Provider,{value:o},$.createElement(ece.Provider,{value:u},$.createElement(tce.Provider,{value:l},a)))))))},Qft=function(){return T.useContext(Jue)},ice=function(e){var i=T.useContext(C2);i==null&&Sf(!1);var r=i[e];return r==null&&Sf(!1),r},Zft=function(){var e=T.useContext(C2);return Pd(e)},Jft=function(){var e=T.useContext(y2),i=qft(e,function(r){return Uue(r.domain,Number.isFinite)});return i||Pd(e)},rce=function(e){var i=T.useContext(y2);i==null&&Sf(!1);var r=i[e];return r==null&&Sf(!1),r},egt=function(){var e=T.useContext(Que);return e},tgt=function(){return T.useContext(Zue)},S2=function(){return T.useContext(tce)},w2=function(){return T.useContext(ece)};function $E(t){"@babel/helpers - typeof";return $E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(t)}function L8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function _8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(i),!0).forEach(function(r){igt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function igt(t,e,i){return e=rgt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function rgt(t){var e=ngt(t,"string");return $E(e)=="symbol"?e:String(e)}function ngt(t,e){if($E(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if($E(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sgt(t,e){return ugt(t)||lgt(t,e)||agt(t,e)||ogt()}function ogt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function agt(t,e){if(t){if(typeof t=="string")return N8(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return N8(t,e)}}function N8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function lgt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function ugt(t){if(Array.isArray(t))return t}function Ck(){return Ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ck.apply(this,arguments)}var cgt=function(e,i){var r;return $.isValidElement(e)?r=$.cloneElement(e,i):zt(e)?r=e(i):r=$.createElement("line",Ck({},i,{className:"recharts-reference-line-line"})),r},dgt=function(e,i,r,n,s,o,a,l,u){var c=s.x,d=s.y,h=s.width,f=s.height;if(r){var g=u.y,m=e.y.apply(g,{position:o});if(Eu(u,"discard")&&!e.y.isInRange(m))return null;var C=[{x:c+h,y:m},{x:c,y:m}];return l==="left"?C.reverse():C}if(i){var S=u.x,y=e.x.apply(S,{position:o});if(Eu(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:d+f},{x:y,y:d}];return a==="top"?w.reverse():w}if(n){var E=u.segment,b=E.map(function(D){return e.apply(D,{position:o})});return Eu(u,"discard")&&rft(b,function(D){return!e.isInRange(D)})?null:b}return null};function E2(t){var e=t.x,i=t.y,r=t.segment,n=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,u=Qft(),c=ice(n),d=rce(s),h=egt();if(!u||!h)return null;hc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=v2({x:c.scale,y:d.scale}),g=sn(e),m=sn(i),C=r&&r.length===2,S=dgt(f,g,m,C,h,t.position,c.orientation,d.orientation,t);if(!S)return null;var y=sgt(S,2),w=y[0],E=w.x,b=w.y,D=y[1],P=D.x,O=D.y,N=Eu(t,"hidden")?"url(#".concat(u,")"):void 0,_=_8(_8({clipPath:N},fi(t,!0)),{},{x1:E,y1:b,x2:P,y2:O});return $.createElement(Cn,{className:Le("recharts-reference-line",a)},cgt(o,_),Qn.renderCallByParent(t,Gft({x1:E,y1:b,x2:P,y2:O})))}E2.displayName="ReferenceLine";E2.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function BE(t){"@babel/helpers - typeof";return BE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BE(t)}function yk(){return yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},yk.apply(this,arguments)}function G8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function k8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(i),!0).forEach(function(r){hgt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function hgt(t,e,i){return e=pgt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pgt(t){var e=fgt(t,"string");return BE(e)=="symbol"?e:String(e)}function fgt(t,e){if(BE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(BE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ggt=function(e){var i=e.x,r=e.y,n=e.xAxis,s=e.yAxis,o=v2({x:n.scale,y:s.scale}),a=o.apply({x:i,y:r},{bandAware:!0});return Eu(e,"discard")&&!o.isInRange(a)?null:a};function dR(t){var e=t.x,i=t.y,r=t.r,n=t.alwaysShow,s=t.clipPathId,o=sn(e),a=sn(i);if(hc(n===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!a)return null;var l=ggt(t);if(!l)return null;var u=l.x,c=l.y,d=t.shape,h=t.className,f=Eu(t,"hidden")?"url(#".concat(s,")"):void 0,g=k8(k8({clipPath:f},fi(t,!0)),{},{cx:u,cy:c});return $.createElement(Cn,{className:Le("recharts-reference-dot",h)},dR.renderDot(d,g),Qn.renderCallByParent(t,{x:u-r,y:c-r,width:2*r,height:2*r}))}dR.displayName="ReferenceDot";dR.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};dR.renderDot=function(t,e){var i;return $.isValidElement(t)?i=$.cloneElement(t,e):zt(t)?i=t(e):i=$.createElement(Hue,yk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),i};function WE(t){"@babel/helpers - typeof";return WE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WE(t)}function Sk(){return Sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Sk.apply(this,arguments)}function V8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function H8(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(i),!0).forEach(function(r){mgt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):V8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function mgt(t,e,i){return e=vgt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function vgt(t){var e=Cgt(t,"string");return WE(e)=="symbol"?e:String(e)}function Cgt(t,e){if(WE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(WE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ygt=function(e,i,r,n,s){var o=s.x1,a=s.x2,l=s.y1,u=s.y2,c=s.xAxis,d=s.yAxis;if(!c||!d)return null;var h=v2({x:c.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:i?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:n?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Eu(s,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:que(f,g)};function hR(t){var e=t.x1,i=t.x2,r=t.y1,n=t.y2,s=t.className,o=t.alwaysShow,a=t.clipPathId;hc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=sn(e),u=sn(i),c=sn(r),d=sn(n),h=t.shape;if(!l&&!u&&!c&&!d&&!h)return null;var f=ygt(l,u,c,d,t);if(!f&&!h)return null;var g=Eu(t,"hidden")?"url(#".concat(a,")"):void 0;return $.createElement(Cn,{className:Le("recharts-reference-area",s)},hR.renderRect(h,H8(H8({clipPath:g},fi(t,!0)),f)),Qn.renderCallByParent(t,f))}hR.displayName="ReferenceArea";hR.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};hR.renderRect=function(t,e){var i;return $.isValidElement(t)?i=$.cloneElement(t,e):zt(t)?i=t(e):i=$.createElement(nF,Sk({},e,{className:"recharts-reference-area-rect"})),i};function nce(t,e,i){if(e<1)return[];if(e===1&&i===void 0)return t;for(var r=[],n=0;n<t.length;n+=e)if(i===void 0||i(t[n])===!0)r.push(t[n]);else return;return r}function Sgt(t,e,i){var r={width:t.width+e.width,height:t.height+e.height};return Vft(r,i)}function wgt(t,e,i){var r=i==="width",n=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?n:s,end:r?n+o:s+a}:{start:r?n+o:s+a,end:r?n:s}}function _A(t,e,i,r,n){if(t*e<t*r||t*e>t*n)return!1;var s=i();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-n)<=0}function Egt(t,e){return nce(t,e+1)}function bgt(t,e,i,r,n){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,u=1,c=o,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:nce(r,u)};var m=l,C,S=function(){return C===void 0&&(C=i(g,m)),C},y=g.coordinate,w=l===0||_A(t,y,S,c,a);w||(l=0,c=o,u+=1),w&&(c=y+t*(S()/2+n),l+=u)},h;u<=s.length;)if(h=d(),h)return h.v;return[]}function UE(t){"@babel/helpers - typeof";return UE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UE(t)}function $8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Yn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(i),!0).forEach(function(r){Rgt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Rgt(t,e,i){return e=Tgt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tgt(t){var e=Dgt(t,"string");return UE(e)=="symbol"?e:String(e)}function Dgt(t,e){if(UE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(UE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pgt(t,e,i,r,n){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,u=function(h){var f=s[h],g,m=function(){return g===void 0&&(g=i(f,h)),g};if(h===o-1){var C=t*(f.coordinate+t*m()/2-l);s[h]=f=Yn(Yn({},f),{},{tickCoord:C>0?f.coordinate-C*t:f.coordinate})}else s[h]=f=Yn(Yn({},f),{},{tickCoord:f.coordinate});var S=_A(t,f.tickCoord,m,a,l);S&&(l=f.tickCoord-t*(m()/2+n),s[h]=Yn(Yn({},f),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return s}function xgt(t,e,i,r,n,s){var o=(r||[]).slice(),a=o.length,l=e.start,u=e.end;if(s){var c=r[a-1],d=i(c,a-1),h=t*(c.coordinate+t*d/2-u);o[a-1]=c=Yn(Yn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var f=_A(t,c.tickCoord,function(){return d},l,u);f&&(u=c.tickCoord-t*(d/2+n),o[a-1]=Yn(Yn({},c),{},{isShow:!0}))}for(var g=s?a-1:a,m=function(y){var w=o[y],E,b=function(){return E===void 0&&(E=i(w,y)),E};if(y===0){var D=t*(w.coordinate-t*b()/2-l);o[y]=w=Yn(Yn({},w),{},{tickCoord:D<0?w.coordinate-D*t:w.coordinate})}else o[y]=w=Yn(Yn({},w),{},{tickCoord:w.coordinate});var P=_A(t,w.tickCoord,b,l,u);P&&(l=w.tickCoord+t*(b()/2+n),o[y]=Yn(Yn({},w),{},{isShow:!0}))},C=0;C<g;C++)m(C);return o}function b2(t,e,i){var r=t.tick,n=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!n||!n.length||!r)return[];if(ze(l)||Kd.isSsr)return Egt(n,typeof l=="number"&&ze(l)?l:0);var h=[],f=a==="top"||a==="bottom"?"width":"height",g=c&&f==="width"?DS(c,{fontSize:e,letterSpacing:i}):{width:0,height:0},m=function(w,E){var b=zt(u)?u(w.value,E):w.value;return f==="width"?Sgt(DS(b,{fontSize:e,letterSpacing:i}),g,d):DS(b,{fontSize:e,letterSpacing:i})[f]},C=n.length>=2?El(n[1].coordinate-n[0].coordinate):1,S=wgt(s,C,f);return l==="equidistantPreserveStart"?bgt(C,S,m,n,o):(l==="preserveStart"||l==="preserveStartEnd"?h=xgt(C,S,m,n,o,l==="preserveStartEnd"):h=Pgt(C,S,m,n,o),h.filter(function(y){return y.isShow}))}var Agt=["viewBox"],Ogt=["viewBox"],Mgt=["ticks"];function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},lm.apply(this,arguments)}function B8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function fs(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(i),!0).forEach(function(r){R2(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):B8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function A_(t,e){if(t==null)return{};var i=Fgt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fgt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Igt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oce(r.key),r)}}function Lgt(t,e,i){return e&&W8(t.prototype,e),i&&W8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _gt(t,e,i){return e=NA(e),Ngt(t,sce()?Reflect.construct(e,i||[],NA(t).constructor):e.apply(t,i))}function Ngt(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ggt(t)}function Ggt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sce=function(){return!!t})()}function NA(t){return NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},NA(t)}function kgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},wk(t,e)}function R2(t,e,i){return e=oce(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oce(t){var e=Vgt(t,"string");return Mv(e)=="symbol"?e:String(e)}function Vgt(t,e){if(Mv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GC=function(t){kgt(e,t);function e(i){var r;return Igt(this,e),r=_gt(this,e,[i]),r.state={fontSize:"",letterSpacing:""},r}return Lgt(e,[{key:"shouldComponentUpdate",value:function(r,n){var s=r.viewBox,o=A_(r,Agt),a=this.props,l=a.viewBox,u=A_(a,Ogt);return!Pm(s,l)||!Pm(o,u)||!Pm(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,s=n.x,o=n.y,a=n.width,l=n.height,u=n.orientation,c=n.tickSize,d=n.mirror,h=n.tickMargin,f,g,m,C,S,y,w=d?-1:1,E=r.tickSize||c,b=ze(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":f=g=r.coordinate,C=o+ +!d*l,m=C-w*E,y=m-w*h,S=b;break;case"left":m=C=r.coordinate,g=s+ +!d*a,f=g-w*E,S=f-w*h,y=b;break;case"right":m=C=r.coordinate,g=s+ +d*a,f=g+w*E,S=f+w*h,y=b;break;default:f=g=r.coordinate,C=o+ +d*l,m=C+w*E,y=m+w*h,S=b;break}return{line:{x1:f,y1:m,x2:g,y2:C},tick:{x:S,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,s=r.mirror,o;switch(n){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,s=r.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=fs(fs(fs({},fi(this.props,!1)),fi(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=fs(fs({},d),{},{x1:n,y1:s+h*a,x2:n+o,y2:s+h*a})}else{var f=+(l==="left"&&!u||l==="right"&&u);d=fs(fs({},d),{},{x1:n+f*o,y1:s,x2:n+f*o,y2:s+a})}return $.createElement("line",lm({},d,{className:Le("recharts-cartesian-axis-line",Ia(c,"className"))}))}},{key:"renderTicks",value:function(r,n,s){var o=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,f=b2(fs(fs({},this.props),{},{ticks:r}),n,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),C=fi(this.props,!1),S=fi(c,!1),y=fs(fs({},C),{},{fill:"none"},fi(l,!1)),w=f.map(function(E,b){var D=o.getTickLineCoord(E),P=D.line,O=D.tick,N=fs(fs(fs(fs({textAnchor:g,verticalAnchor:m},C),{},{stroke:"none",fill:u},S),O),{},{index:b,payload:E,visibleTicksCount:f.length,tickFormatter:d});return $.createElement(Cn,lm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Zx(o.props,E,b)),l&&$.createElement("line",lm({},y,P,{className:Le("recharts-cartesian-axis-tick-line",Ia(l,"className"))})),c&&e.renderTickItem(c,N,"".concat(zt(d)?d(E.value,b):E.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,n=this.props,s=n.axisLine,o=n.width,a=n.height,l=n.ticksGenerator,u=n.className,c=n.hide;if(c)return null;var d=this.props,h=d.ticks,f=A_(d,Mgt),g=h;return zt(l)&&(g=h&&h.length>0?l(this.props):l(f)),o<=0||a<=0||!g||!g.length?null:$.createElement(Cn,{className:Le("recharts-cartesian-axis",u),ref:function(C){r.layerReference=C}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,s){var o;return $.isValidElement(r)?o=$.cloneElement(r,n):zt(r)?o=r(n):o=$.createElement(uA,lm({},n,{className:"recharts-cartesian-axis-tick-value"}),s),o}}]),e}(T.Component);R2(GC,"displayName","CartesianAxis");R2(GC,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hgt=["x1","y1","x2","y2","key"],$gt=["offset"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function U8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Zn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(i),!0).forEach(function(r){Bgt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):U8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Bgt(t,e,i){return e=Wgt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Wgt(t){var e=Ugt(t,"string");return wf(e)=="symbol"?e:String(e)}function Ugt(t,e){if(wf(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},mp.apply(this,arguments)}function z8(t,e){if(t==null)return{};var i=zgt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zgt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var jgt=function(e){var i=e.fill;if(!i||i==="none")return null;var r=e.fillOpacity,n=e.x,s=e.y,o=e.width,a=e.height;return $.createElement("rect",{x:n,y:s,width:o,height:a,stroke:"none",fill:i,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ace(t,e){var i;if($.isValidElement(t))i=$.cloneElement(t,e);else if(zt(t))i=t(e);else{var r=e.x1,n=e.y1,s=e.x2,o=e.y2,a=e.key,l=z8(e,Hgt),u=fi(l,!1);u.offset;var c=z8(u,$gt);i=$.createElement("line",mp({},c,{x1:r,y1:n,x2:s,y2:o,fill:"none",key:a}))}return i}function Kgt(t){var e=t.x,i=t.width,r=t.horizontal,n=r===void 0?!0:r,s=t.horizontalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(a,l){var u=Zn(Zn({},t),{},{x1:e,y1:a,x2:e+i,y2:a,key:"line-".concat(l),index:l});return ace(n,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ygt(t){var e=t.y,i=t.height,r=t.vertical,n=r===void 0?!0:r,s=t.verticalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(a,l){var u=Zn(Zn({},t),{},{x1:a,y1:e,x2:a,y2:e+i,key:"line-".concat(l),index:l});return ace(n,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function qgt(t){var e=t.horizontalFill,i=t.fillOpacity,r=t.x,n=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+n-n)}).sort(function(h,f){return h-f});n!==c[0]&&c.unshift(0);var d=c.map(function(h,f){var g=!c[f+1],m=g?n+o-h:c[f+1]-h;if(m<=0)return null;var C=f%e.length;return $.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:m,width:s,stroke:"none",fill:e[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Xgt(t){var e=t.vertical,i=e===void 0?!0:e,r=t.verticalFill,n=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!i||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==c[0]&&c.unshift(0);var d=c.map(function(h,f){var g=!c[f+1],m=g?s+a-h:c[f+1]-h;if(m<=0)return null;var C=f%r.length;return $.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:m,height:l,stroke:"none",fill:r[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Qgt=function(e,i){var r=e.xAxis,n=e.width,s=e.height,o=e.offset;return Due(b2(Zn(Zn(Zn({},GC.defaultProps),r),{},{ticks:lc(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),o.left,o.left+o.width,i)},Zgt=function(e,i){var r=e.yAxis,n=e.width,s=e.height,o=e.offset;return Due(b2(Zn(Zn(Zn({},GC.defaultProps),r),{},{ticks:lc(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),o.top,o.top+o.height,i)},Og={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lce(t){var e,i,r,n,s,o,a=S2(),l=w2(),u=tgt(),c=Zn(Zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Og.stroke,fill:(i=t.fill)!==null&&i!==void 0?i:Og.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Og.horizontal,horizontalFill:(n=t.horizontalFill)!==null&&n!==void 0?n:Og.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Og.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Og.verticalFill,x:ze(t.x)?t.x:u.left,y:ze(t.y)?t.y:u.top,width:ze(t.width)?t.width:u.width,height:ze(t.height)?t.height:u.height}),d=c.x,h=c.y,f=c.width,g=c.height,m=c.syncWithTicks,C=c.horizontalValues,S=c.verticalValues,y=Zft(),w=Jft();if(!ze(f)||f<=0||!ze(g)||g<=0||!ze(d)||d!==+d||!ze(h)||h!==+h)return null;var E=c.verticalCoordinatesGenerator||Qgt,b=c.horizontalCoordinatesGenerator||Zgt,D=c.horizontalPoints,P=c.verticalPoints;if((!D||!D.length)&&zt(b)){var O=C&&C.length,N=b({yAxis:w?Zn(Zn({},w),{},{ticks:O?C:w.ticks}):void 0,width:a,height:l,offset:u},O?!0:m);hc(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wf(N),"]")),Array.isArray(N)&&(D=N)}if((!P||!P.length)&&zt(E)){var _=S&&S.length,I=E({xAxis:y?Zn(Zn({},y),{},{ticks:_?S:y.ticks}):void 0,width:a,height:l,offset:u},_?!0:m);hc(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wf(I),"]")),Array.isArray(I)&&(P=I)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(jgt,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height}),$.createElement(Kgt,mp({},c,{offset:u,horizontalPoints:D,xAxis:y,yAxis:w})),$.createElement(Ygt,mp({},c,{offset:u,verticalPoints:P,xAxis:y,yAxis:w})),$.createElement(qgt,mp({},c,{horizontalPoints:D})),$.createElement(Xgt,mp({},c,{verticalPoints:P})))}lce.displayName="CartesianGrid";function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Ek.apply(this,arguments)}var lF=function(e){var i=e.xAxisId,r=S2(),n=w2(),s=ice(i);return s==null?null:$.createElement(GC,Ek({},s,{className:Le("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return lc(a,!0)}}))};lF.displayName="XAxis";lF.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},bk.apply(this,arguments)}var uF=function(e){var i=e.yAxisId,r=S2(),n=w2(),s=rce(i);return s==null?null:$.createElement(GC,bk({},s,{className:Le("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return lc(a,!0)}}))};uF.displayName="YAxis";uF.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function j8(t){return imt(t)||tmt(t)||emt(t)||Jgt()}function Jgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function emt(t,e){if(t){if(typeof t=="string")return Rk(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rk(t,e)}}function tmt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function imt(t){if(Array.isArray(t))return Rk(t)}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Tk=function(e,i,r,n,s){var o=Pl(e,E2),a=Pl(e,dR),l=[].concat(j8(o),j8(a)),u=Pl(e,hR),c="".concat(n,"Id"),d=n[0],h=i;if(l.length&&(h=l.reduce(function(m,C){if(C.props[c]===r&&Eu(C.props,"extendDomain")&&ze(C.props[d])){var S=C.props[d];return[Math.min(m[0],S),Math.max(m[1],S)]}return m},h)),u.length){var f="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(m,C){if(C.props[c]===r&&Eu(C.props,"extendDomain")&&ze(C.props[f])&&ze(C.props[g])){var S=C.props[f],y=C.props[g];return[Math.min(m[0],S,y),Math.max(m[1],S,y)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,C){return ze(C)?[Math.min(m[0],C),Math.max(m[1],C)]:m},h)),h},uce={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function n(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new n(c,d||l,h),g=i?i+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=i?i+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},a.prototype.listenerCount=function(u){var c=i?i+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,f,g){var m=i?i+u:u;if(!this._events[m])return!1;var C=this._events[m],S=arguments.length,y,w;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),S){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,d),!0;case 4:return C.fn.call(C.context,c,d,h),!0;case 5:return C.fn.call(C.context,c,d,h,f),!0;case 6:return C.fn.call(C.context,c,d,h,f,g),!0}for(w=1,y=new Array(S-1);w<S;w++)y[w-1]=arguments[w];C.fn.apply(C.context,y)}else{var E=C.length,b;for(w=0;w<E;w++)switch(C[w].once&&this.removeListener(u,C[w].fn,void 0,!0),S){case 1:C[w].fn.call(C[w].context);break;case 2:C[w].fn.call(C[w].context,c);break;case 3:C[w].fn.call(C[w].context,c,d);break;case 4:C[w].fn.call(C[w].context,c,d,h);break;default:if(!y)for(b=1,y=new Array(S-1);b<S;b++)y[b-1]=arguments[b];C[w].fn.apply(C[w].context,y)}}return!0},a.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var f=i?i+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&o(this,f);else{for(var m=0,C=[],S=g.length;m<S;m++)(g[m].fn!==c||h&&!g[m].once||d&&g[m].context!==d)&&C.push(g[m]);C.length?this._events[f]=C.length===1?C[0]:C:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=i?i+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a})(uce);var rmt=uce.exports;const nmt=Pt(rmt);var O_=new nmt,M_="recharts.syncMouseEvents";function zE(t){"@babel/helpers - typeof";return zE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zE(t)}function smt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cce(r.key),r)}}function omt(t,e,i){return e&&K8(t.prototype,e),i&&K8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function F_(t,e,i){return e=cce(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cce(t){var e=amt(t,"string");return zE(e)=="symbol"?e:String(e)}function amt(t,e){if(zE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(zE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lmt=function(){function t(){smt(this,t),F_(this,"activeIndex",0),F_(this,"coordinateList",[]),F_(this,"layout","horizontal")}return omt(t,[{key:"setDetails",value:function(i){var r,n=i.coordinateList,s=n===void 0?null:n,o=i.container,a=o===void 0?null:o,l=i.layout,u=l===void 0?null:l,c=i.offset,d=c===void 0?null:c,h=i.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(i){if(this.coordinateList.length!==0)switch(i.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(i){this.activeIndex=i}},{key:"spoofMouse",value:function(){var i,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),s=n.x,o=n.y,a=n.height,l=this.coordinateList[this.activeIndex].coordinate,u=((i=window)===null||i===void 0?void 0:i.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+u,h=o+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}]),t}();function umt(t,e,i){if(i==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],n=t==null?void 0:t[1];if(r&&n&&ze(r)&&ze(n))return!0}return!1}function cmt(t,e,i,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-n:i.left+.5,y:t==="horizontal"?i.top+.5:e.y-n,width:t==="horizontal"?r:i.width-1,height:t==="horizontal"?i.height-1:r}}function dce(t){var e=t.cx,i=t.cy,r=t.radius,n=t.startAngle,s=t.endAngle,o=Nn(e,i,r,n),a=Nn(e,i,r,s);return{points:[o,a],cx:e,cy:i,radius:r,startAngle:n,endAngle:s}}function dmt(t,e,i){var r,n,s,o;if(t==="horizontal")r=e.x,s=r,n=i.top,o=i.top+i.height;else if(t==="vertical")n=e.y,o=n,r=i.left,s=i.left+i.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Nn(a,l,u,d),f=Nn(a,l,c,d);r=h.x,n=h.y,s=f.x,o=f.y}else return dce(e);return[{x:r,y:n},{x:s,y:o}]}function jE(t){"@babel/helpers - typeof";return jE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jE(t)}function Y8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function iD(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(i),!0).forEach(function(r){hmt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Y8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function hmt(t,e,i){return e=pmt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pmt(t){var e=fmt(t,"string");return jE(e)=="symbol"?e:String(e)}function fmt(t,e){if(jE(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(jE(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gmt(t){var e=t.element,i=t.tooltipEventType,r=t.isActive,n=t.activeCoordinate,s=t.activePayload,o=t.offset,a=t.activeTooltipIndex,l=t.tooltipAxisBandSize,u=t.layout,c=t.chartName;if(!e||!e.props.cursor||!r||!n||c!=="ScatterChart"&&i!=="axis")return null;var d,h=zq;if(c==="ScatterChart")d=n,h=ipt;else if(c==="BarChart")d=cmt(u,n,o,l),h=nF;else if(u==="radial"){var f=dce(n),g=f.cx,m=f.cy,C=f.radius,S=f.startAngle,y=f.endAngle;d={cx:g,cy:m,startAngle:S,endAngle:y,innerRadius:C,outerRadius:C},h=Mue}else d={points:dmt(u,n,o)},h=zq;var w=iD(iD(iD(iD({stroke:"#ccc",pointerEvents:"none"},o),d),fi(e.props.cursor,!1)),{},{payload:s,payloadIndex:a,className:Le("recharts-tooltip-cursor",e.props.cursor.className)});return T.isValidElement(e.props.cursor)?T.cloneElement(e.props.cursor,w):T.createElement(h,w)}var mmt=["item"],vmt=["children","className","width","height","style","compact","title","desc"];function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},OS.apply(this,arguments)}function q8(t,e){return Smt(t)||ymt(t,e)||pce(t,e)||Cmt()}function Cmt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ymt(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,u=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(u)throw n}}return a}}function Smt(t){if(Array.isArray(t))return t}function X8(t,e){if(t==null)return{};var i=wmt(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wmt(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function Emt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q8(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fce(r.key),r)}}function bmt(t,e,i){return e&&Q8(t.prototype,e),i&&Q8(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rmt(t,e,i){return e=GA(e),Tmt(t,hce()?Reflect.construct(e,i||[],GA(t).constructor):e.apply(t,i))}function Tmt(t,e){if(e&&(Fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jt(t)}function hce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hce=function(){return!!t})()}function GA(t){return GA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},GA(t)}function Jt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dmt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dk(t,e)}function Dk(t,e){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Dk(t,e)}function Iv(t){return Amt(t)||xmt(t)||pce(t)||Pmt()}function Pmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pce(t,e){if(t){if(typeof t=="string")return Pk(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pk(t,e)}}function xmt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Amt(t){if(Array.isArray(t))return Pk(t)}function Pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Z8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Fe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(i),!0).forEach(function(r){Tt(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Z8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Tt(t,e,i){return e=fce(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fce(t){var e=Omt(t,"string");return Fv(e)=="symbol"?e:String(e)}function Omt(t,e){if(Fv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mmt={xAxis:["bottom","top"],yAxis:["left","right"]},Fmt={width:"100%",height:"100%"},gce={x:0,y:0};function rD(t){return t}var Imt=function(e,i){return i==="horizontal"?e.x:i==="vertical"?e.y:i==="centric"?e.angle:e.radius},Lmt=function(e,i,r,n){var s=i.find(function(c){return c&&c.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=n.radius;return Fe(Fe(Fe({},n),Nn(n.cx,n.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,u=n.angle;return Fe(Fe(Fe({},n),Nn(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return gce},cF=function(e,i){var r=i.graphicalItems,n=i.dataStartIndex,s=i.dataEndIndex,o=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Iv(a),Iv(u)):a},[]);return o.length>0?o:e&&e.length&&ze(n)&&ze(s)?e.slice(n,s+1):[]};function mce(t){return t==="number"?[0,"auto"]:void 0}var xk=function(e,i,r,n){var s=e.graphicalItems,o=e.tooltipAxis,a=cF(i,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:i;d&&e.dataStartIndex+e.dataEndIndex!==0&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?a:d;h=vG(f,o.dataKey,n)}else h=d&&d[r]||a[r];return h?[].concat(Iv(l),[xue(u,h)]):l},[])},J8=function(e,i,r,n){var s=n||{x:e.chartX,y:e.chartY},o=Imt(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=rct(o,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=xk(e,i,c,d),f=Lmt(r,a,c,s);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},_mt=function(e,i){var r=i.axes,n=i.graphicalItems,s=i.axisType,o=i.axisIdKey,a=i.stackGroups,l=i.dataStartIndex,u=i.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,f=Tue(c,s);return r.reduce(function(g,m){var C,S=m.props,y=S.type,w=S.dataKey,E=S.allowDataOverflow,b=S.allowDuplicatedCategory,D=S.scale,P=S.ticks,O=S.includeHidden,N=m.props[o];if(g[N])return g;var _=cF(e.data,{graphicalItems:n.filter(function(J){return J.props[o]===N}),dataStartIndex:l,dataEndIndex:u}),I=_.length,k,B,U;umt(m.props.domain,E,y)&&(k=JG(m.props.domain,null,E),f&&(y==="number"||D!=="auto")&&(U=xS(_,w,"category")));var K=mce(y);if(!k||k.length===0){var j,Q=(j=m.props.domain)!==null&&j!==void 0?j:K;if(w){if(k=xS(_,w,y),y==="category"&&f){var H=ktt(k);b&&H?(B=k,k=oE(0,I)):b||(k=Fq(Q,k,m).reduce(function(J,ie){return J.indexOf(ie)>=0?J:[].concat(Iv(J),[ie])},[]))}else if(y==="category")b?k=k.filter(function(J){return J!==""&&!Si(J)}):k=Fq(Q,k,m).reduce(function(J,ie){return J.indexOf(ie)>=0||ie===""||Si(ie)?J:[].concat(Iv(J),[ie])},[]);else if(y==="number"){var X=lct(_,n.filter(function(J){return J.props[o]===N&&(O||!J.props.hide)}),w,s,c);X&&(k=X)}f&&(y==="number"||D!=="auto")&&(U=xS(_,w,"category"))}else f?k=oE(0,I):a&&a[N]&&a[N].hasStack&&y==="number"?k=h==="expand"?[0,1]:Pue(a[N].stackGroups,l,u):k=Rue(_,n.filter(function(J){return J.props[o]===N&&(O||!J.props.hide)}),y,c,!0);if(y==="number")k=Tk(d,k,N,s,P),Q&&(k=JG(Q,k,E));else if(y==="category"&&Q){var te=Q,le=k.every(function(J){return te.indexOf(J)>=0});le&&(k=te)}}return Fe(Fe({},g),{},Tt({},N,Fe(Fe({},m.props),{},{axisType:s,domain:k,categoricalDomain:U,duplicateDomain:B,originalDomain:(C=m.props.domain)!==null&&C!==void 0?C:K,isCategorical:f,layout:c})))},{})},Nmt=function(e,i){var r=i.graphicalItems,n=i.Axis,s=i.axisType,o=i.axisIdKey,a=i.stackGroups,l=i.dataStartIndex,u=i.dataEndIndex,c=e.layout,d=e.children,h=cF(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),f=h.length,g=Tue(c,s),m=-1;return r.reduce(function(C,S){var y=S.props[o],w=mce("number");if(!C[y]){m++;var E;return g?E=oE(0,f):a&&a[y]&&a[y].hasStack?(E=Pue(a[y].stackGroups,l,u),E=Tk(d,E,y,s)):(E=JG(w,Rue(h,r.filter(function(b){return b.props[o]===y&&!b.props.hide}),"number",c),n.defaultProps.allowDataOverflow),E=Tk(d,E,y,s)),Fe(Fe({},C),{},Tt({},y,Fe(Fe({axisType:s},n.defaultProps),{},{hide:!0,orientation:Ia(Mmt,"".concat(s,".").concat(m%2),null),domain:E,originalDomain:w,isCategorical:g,layout:c})))}return C},{})},Gmt=function(e,i){var r=i.axisType,n=r===void 0?"xAxis":r,s=i.AxisComp,o=i.graphicalItems,a=i.stackGroups,l=i.dataStartIndex,u=i.dataEndIndex,c=e.children,d="".concat(n,"Id"),h=Pl(c,s),f={};return h&&h.length?f=_mt(e,{axes:h,graphicalItems:o,axisType:n,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(f=Nmt(e,{Axis:s,graphicalItems:o,axisType:n,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),f},kmt=function(e){var i=Pd(e),r=lc(i,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:TM(r,function(n){return n.coordinate}),tooltipAxis:i,tooltipAxisBandSize:EA(i,r)}},e9=function(e){var i=e.children,r=e.defaultShowTooltip,n=Do(i,Av),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(s=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Vmt=function(e){return!e||!e.length?!1:e.some(function(i){var r=dc(i&&i.type);return r&&r.indexOf("Bar")>=0})},t9=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hmt=function(e,i){var r=e.props,n=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},f=Do(d,Av),g=Do(d,cE),m=Object.keys(l).reduce(function(b,D){var P=l[D],O=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},b),{},Tt({},O,b[O]+P.width)):b},{left:h.left||0,right:h.right||0}),C=Object.keys(o).reduce(function(b,D){var P=o[D],O=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},b),{},Tt({},O,Ia(b,"".concat(O))+P.height)):b},{top:h.top||0,bottom:h.bottom||0}),S=Fe(Fe({},C),m),y=S.bottom;f&&(S.bottom+=f.props.height||Av.defaultProps.height),g&&i&&(S=oct(S,n,r,i));var w=u-S.left-S.right,E=c-S.top-S.bottom;return Fe(Fe({brushBottom:y},S),{},{width:Math.max(w,0),height:Math.max(E,0)})},$mt=function(e,i){if(i==="xAxis")return e[i].width;if(i==="yAxis")return e[i].height},Bmt=function(e){var i,r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,o=s===void 0?"axis":s,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,u=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(C,S){var y=S.graphicalItems,w=S.stackGroups,E=S.offset,b=S.updateId,D=S.dataStartIndex,P=S.dataEndIndex,O=C.barSize,N=C.layout,_=C.barGap,I=C.barCategoryGap,k=C.maxBarSize,B=t9(N),U=B.numericAxisName,K=B.cateAxisName,j=Vmt(y),Q=[];return y.forEach(function(H,X){var te=cF(C.data,{graphicalItems:[H],dataStartIndex:D,dataEndIndex:P}),le=H.props,J=le.dataKey,ie=le.maxBarSize,ue=H.props["".concat(U,"Id")],me=H.props["".concat(K,"Id")],se={},he=u.reduce(function(mt,et){var gi=S["".concat(et.axisType,"Map")],wi=H.props["".concat(et.axisType,"Id")];gi&&gi[wi]||et.axisType==="zAxis"||Sf(!1);var Yt=gi[wi];return Fe(Fe({},mt),{},Tt(Tt({},et.axisType,Yt),"".concat(et.axisType,"Ticks"),lc(Yt)))},se),Ee=he[K],pe=he["".concat(K,"Ticks")],ye=w&&w[ue]&&w[ue].hasStack&&Sct(H,w[ue].stackGroups),Ce=dc(H.type).indexOf("Bar")>=0,re=EA(Ee,pe),oe=[],fe=j&&nct({barSize:O,stackGroups:w,totalSize:$mt(he,K)});if(Ce){var we,Ue,Be=Si(ie)?k:ie,Ve=(we=(Ue=EA(Ee,pe,!0))!==null&&Ue!==void 0?Ue:Be)!==null&&we!==void 0?we:0;oe=sct({barGap:_,barCategoryGap:I,bandSize:Ve!==re?Ve:re,sizeList:fe[me],maxBarSize:Be}),Ve!==re&&(oe=oe.map(function(mt){return Fe(Fe({},mt),{},{position:Fe(Fe({},mt.position),{},{offset:mt.position.offset-Ve/2})})}))}var qe=H&&H.type&&H.type.getComposedData;qe&&Q.push({props:Fe(Fe({},qe(Fe(Fe({},he),{},{displayedData:te,props:C,dataKey:J,item:H,bandSize:re,barPosition:oe,offset:E,stackedData:ye,layout:N,dataStartIndex:D,dataEndIndex:P}))),{},Tt(Tt(Tt({key:H.key||"item-".concat(X)},U,he[U]),K,he[K]),"animationId",b)),childIndex:qtt(H,C.children),item:H})}),Q},g=function(C,S){var y=C.props,w=C.dataStartIndex,E=C.dataEndIndex,b=C.updateId;if(!QY({props:y}))return null;var D=y.children,P=y.layout,O=y.stackOffset,N=y.data,_=y.reverseStackOrder,I=t9(P),k=I.numericAxisName,B=I.cateAxisName,U=Pl(D,n),K=vct(N,U,"".concat(k,"Id"),"".concat(B,"Id"),O,_),j=u.reduce(function(le,J){var ie="".concat(J.axisType,"Map");return Fe(Fe({},le),{},Tt({},ie,Gmt(y,Fe(Fe({},J),{},{graphicalItems:U,stackGroups:J.axisType===k&&K,dataStartIndex:w,dataEndIndex:E}))))},{}),Q=Hmt(Fe(Fe({},j),{},{props:y,graphicalItems:U}),S==null?void 0:S.legendBBox);Object.keys(j).forEach(function(le){j[le]=d(y,j[le],Q,le.replace("Map",""),r)});var H=j["".concat(B,"Map")],X=kmt(H),te=f(y,Fe(Fe({},j),{},{dataStartIndex:w,dataEndIndex:E,updateId:b,graphicalItems:U,stackGroups:K,offset:Q}));return Fe(Fe({formattedGraphicalItems:te,graphicalItems:U,offset:Q,stackGroups:K},X),j)};return i=function(m){Dmt(C,m);function C(S){var y,w,E;return Emt(this,C),E=Rmt(this,C,[S]),Tt(Jt(E),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Tt(Jt(E),"accessibilityManager",new lmt),Tt(Jt(E),"handleLegendBBoxUpdate",function(b){if(b){var D=E.state,P=D.dataStartIndex,O=D.dataEndIndex,N=D.updateId;E.setState(Fe({legendBBox:b},g({props:E.props,dataStartIndex:P,dataEndIndex:O,updateId:N},Fe(Fe({},E.state),{},{legendBBox:b}))))}}),Tt(Jt(E),"handleReceiveSyncEvent",function(b,D,P){if(E.props.syncId===b){if(P===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(D)}}),Tt(Jt(E),"handleBrushChange",function(b){var D=b.startIndex,P=b.endIndex;if(D!==E.state.dataStartIndex||P!==E.state.dataEndIndex){var O=E.state.updateId;E.setState(function(){return Fe({dataStartIndex:D,dataEndIndex:P},g({props:E.props,dataStartIndex:D,dataEndIndex:P,updateId:O},E.state))}),E.triggerSyncEvent({dataStartIndex:D,dataEndIndex:P})}}),Tt(Jt(E),"handleMouseEnter",function(b){var D=E.getMouseInfo(b);if(D){var P=Fe(Fe({},D),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var O=E.props.onMouseEnter;zt(O)&&O(P,b)}}),Tt(Jt(E),"triggeredAfterMouseMove",function(b){var D=E.getMouseInfo(b),P=D?Fe(Fe({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var O=E.props.onMouseMove;zt(O)&&O(P,b)}),Tt(Jt(E),"handleItemMouseEnter",function(b){E.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})}),Tt(Jt(E),"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Tt(Jt(E),"handleMouseMove",function(b){b.persist(),E.throttleTriggeredAfterMouseMove(b)}),Tt(Jt(E),"handleMouseLeave",function(b){E.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D);var P=E.props.onMouseLeave;zt(P)&&P(D,b)}),Tt(Jt(E),"handleOuterEvent",function(b){var D=Ytt(b),P=Ia(E.props,"".concat(D));if(D&&zt(P)){var O,N;/.*touch.*/i.test(D)?N=E.getMouseInfo(b.changedTouches[0]):N=E.getMouseInfo(b),P((O=N)!==null&&O!==void 0?O:{},b)}}),Tt(Jt(E),"handleClick",function(b){var D=E.getMouseInfo(b);if(D){var P=Fe(Fe({},D),{},{isTooltipActive:!0});E.setState(P),E.triggerSyncEvent(P);var O=E.props.onClick;zt(O)&&O(P,b)}}),Tt(Jt(E),"handleMouseDown",function(b){var D=E.props.onMouseDown;if(zt(D)){var P=E.getMouseInfo(b);D(P,b)}}),Tt(Jt(E),"handleMouseUp",function(b){var D=E.props.onMouseUp;if(zt(D)){var P=E.getMouseInfo(b);D(P,b)}}),Tt(Jt(E),"handleTouchMove",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(b.changedTouches[0])}),Tt(Jt(E),"handleTouchStart",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&E.handleMouseDown(b.changedTouches[0])}),Tt(Jt(E),"handleTouchEnd",function(b){b.changedTouches!=null&&b.changedTouches.length>0&&E.handleMouseUp(b.changedTouches[0])}),Tt(Jt(E),"triggerSyncEvent",function(b){E.props.syncId!==void 0&&O_.emit(M_,E.props.syncId,b,E.eventEmitterSymbol)}),Tt(Jt(E),"applySyncEvent",function(b){var D=E.props,P=D.layout,O=D.syncMethod,N=E.state.updateId,_=b.dataStartIndex,I=b.dataEndIndex;if(b.dataStartIndex!==void 0||b.dataEndIndex!==void 0)E.setState(Fe({dataStartIndex:_,dataEndIndex:I},g({props:E.props,dataStartIndex:_,dataEndIndex:I,updateId:N},E.state)));else if(b.activeTooltipIndex!==void 0){var k=b.chartX,B=b.chartY,U=b.activeTooltipIndex,K=E.state,j=K.offset,Q=K.tooltipTicks;if(!j)return;if(typeof O=="function")U=O(Q,b);else if(O==="value"){U=-1;for(var H=0;H<Q.length;H++)if(Q[H].value===b.activeLabel){U=H;break}}var X=Fe(Fe({},j),{},{x:j.left,y:j.top}),te=Math.min(k,X.x+X.width),le=Math.min(B,X.y+X.height),J=Q[U]&&Q[U].value,ie=xk(E.state,E.props.data,U),ue=Q[U]?{x:P==="horizontal"?Q[U].coordinate:te,y:P==="horizontal"?le:Q[U].coordinate}:gce;E.setState(Fe(Fe({},b),{},{activeLabel:J,activeCoordinate:ue,activePayload:ie,activeTooltipIndex:U}))}else E.setState(b)}),Tt(Jt(E),"renderCursor",function(b){var D,P=E.state,O=P.isTooltipActive,N=P.activeCoordinate,_=P.activePayload,I=P.offset,k=P.activeTooltipIndex,B=P.tooltipAxisBandSize,U=E.getTooltipEventType(),K=(D=b.props.active)!==null&&D!==void 0?D:O,j=E.props.layout,Q=b.key||"_recharts-cursor";return $.createElement(gmt,{key:Q,activeCoordinate:N,activePayload:_,activeTooltipIndex:k,chartName:r,element:b,isActive:K,layout:j,offset:I,tooltipAxisBandSize:B,tooltipEventType:U})}),Tt(Jt(E),"renderPolarAxis",function(b,D,P){var O=Ia(b,"type.axisType"),N=Ia(E.state,"".concat(O,"Map")),_=N&&N[b.props["".concat(O,"Id")]];return T.cloneElement(b,Fe(Fe({},_),{},{className:Le(O,_.className),key:b.key||"".concat(D,"-").concat(P),ticks:lc(_,!0)}))}),Tt(Jt(E),"renderPolarGrid",function(b){var D=b.props,P=D.radialLines,O=D.polarAngles,N=D.polarRadius,_=E.state,I=_.radiusAxisMap,k=_.angleAxisMap,B=Pd(I),U=Pd(k),K=U.cx,j=U.cy,Q=U.innerRadius,H=U.outerRadius;return T.cloneElement(b,{polarAngles:Array.isArray(O)?O:lc(U,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(N)?N:lc(B,!0).map(function(X){return X.coordinate}),cx:K,cy:j,innerRadius:Q,outerRadius:H,key:b.key||"polar-grid",radialLines:P})}),Tt(Jt(E),"renderLegend",function(){var b=E.state.formattedGraphicalItems,D=E.props,P=D.children,O=D.width,N=D.height,_=E.props.margin||{},I=O-(_.left||0)-(_.right||0),k=Eue({children:P,formattedGraphicalItems:b,legendWidth:I,legendContent:c});if(!k)return null;var B=k.item,U=X8(k,mmt);return T.cloneElement(B,Fe(Fe({},U),{},{chartWidth:O,chartHeight:N,margin:_,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Tt(Jt(E),"renderTooltip",function(){var b,D=E.props,P=D.children,O=D.accessibilityLayer,N=Do(P,nu);if(!N)return null;var _=E.state,I=_.isTooltipActive,k=_.activeCoordinate,B=_.activePayload,U=_.activeLabel,K=_.offset,j=(b=N.props.active)!==null&&b!==void 0?b:I;return T.cloneElement(N,{viewBox:Fe(Fe({},K),{},{x:K.left,y:K.top}),active:j,label:U,payload:j?B:[],coordinate:k,accessibilityLayer:O})}),Tt(Jt(E),"renderBrush",function(b){var D=E.props,P=D.margin,O=D.data,N=E.state,_=N.offset,I=N.dataStartIndex,k=N.dataEndIndex,B=N.updateId;return T.cloneElement(b,{key:b.key||"_recharts-brush",onChange:ZT(E.handleBrushChange,b.props.onChange),data:O,x:ze(b.props.x)?b.props.x:_.left,y:ze(b.props.y)?b.props.y:_.top+_.height+_.brushBottom-(P.bottom||0),width:ze(b.props.width)?b.props.width:_.width,startIndex:I,endIndex:k,updateId:"brush-".concat(B)})}),Tt(Jt(E),"renderReferenceElement",function(b,D,P){if(!b)return null;var O=Jt(E),N=O.clipPathId,_=E.state,I=_.xAxisMap,k=_.yAxisMap,B=_.offset,U=b.props,K=U.xAxisId,j=U.yAxisId;return T.cloneElement(b,{key:b.key||"".concat(D,"-").concat(P),xAxis:I[K],yAxis:k[j],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:N})}),Tt(Jt(E),"renderActivePoints",function(b){var D=b.item,P=b.activePoint,O=b.basePoint,N=b.childIndex,_=b.isRange,I=[],k=D.props.key,B=D.item.props,U=B.activeDot,K=B.dataKey,j=Fe(Fe({index:N,dataKey:K,cx:P.x,cy:P.y,r:4,fill:m2(D.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value,key:"".concat(k,"-activePoint-").concat(N)},fi(U,!1)),Qx(U));return I.push(C.renderActiveDot(U,j)),O?I.push(C.renderActiveDot(U,Fe(Fe({},j),{},{cx:O.x,cy:O.y,key:"".concat(k,"-basePoint-").concat(N)}))):_&&I.push(null),I}),Tt(Jt(E),"renderGraphicChild",function(b,D,P){var O=E.filterFormatItem(b,D,P);if(!O)return null;var N=E.getTooltipEventType(),_=E.state,I=_.isTooltipActive,k=_.tooltipAxis,B=_.activeTooltipIndex,U=_.activeLabel,K=E.props.children,j=Do(K,nu),Q=O.props,H=Q.points,X=Q.isRange,te=Q.baseLine,le=O.item.props,J=le.activeDot,ie=le.hide,ue=le.activeBar,me=le.activeShape,se=!!(!ie&&I&&j&&(J||ue||me)),he={};N!=="axis"&&j&&j.props.trigger==="click"?he={onClick:ZT(E.handleItemMouseEnter,b.props.onClick)}:N!=="axis"&&(he={onMouseLeave:ZT(E.handleItemMouseLeave,b.props.onMouseLeave),onMouseEnter:ZT(E.handleItemMouseEnter,b.props.onMouseEnter)});var Ee=T.cloneElement(b,Fe(Fe({},O.props),he));function pe(et){return typeof k.dataKey=="function"?k.dataKey(et.payload):null}if(se)if(B>=0){var ye,Ce;if(k.dataKey&&!k.allowDuplicatedCategory){var re=typeof k.dataKey=="function"?pe:"payload.".concat(k.dataKey.toString());ye=vG(H,re,U),Ce=X&&te&&vG(te,re,U)}else ye=H==null?void 0:H[B],Ce=X&&te&&te[B];if(me||ue){var oe=b.props.activeIndex!==void 0?b.props.activeIndex:B;return[T.cloneElement(b,Fe(Fe(Fe({},O.props),he),{},{activeIndex:oe})),null,null]}if(!Si(ye))return[Ee].concat(Iv(E.renderActivePoints({item:O,activePoint:ye,basePoint:Ce,childIndex:B,isRange:X})))}else{var fe,we=(fe=E.getItemByXY(E.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Ee},Ue=we.graphicalItem,Be=Ue.item,Ve=Be===void 0?b:Be,qe=Ue.childIndex,mt=Fe(Fe(Fe({},O.props),he),{},{activeIndex:qe});return[T.cloneElement(Ve,mt),null,null]}return X?[Ee,null,null]:[Ee,null]}),Tt(Jt(E),"renderCustomized",function(b,D,P){return T.cloneElement(b,Fe(Fe({key:"recharts-customized-".concat(P)},E.props),E.state))}),Tt(Jt(E),"renderMap",{CartesianGrid:{handler:rD,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:rD},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:rD},YAxis:{handler:rD},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((y=S.id)!==null&&y!==void 0?y:$M("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Rle(E.triggeredAfterMouseMove,(w=S.throttleDelay)!==null&&w!==void 0?w:1e3/60),E.state={},E}return bmt(C,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,E=y.data,b=y.height,D=y.layout,P=Do(w,nu);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length)){var N=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,_=xk(this.state,E,O,N),I=this.state.tooltipTicks[O].coordinate,k=(this.state.offset.top+b)/2,B=D==="horizontal",U=B?{x:I,y:k}:{y:I,x:k},K=this.state.formattedGraphicalItems.find(function(Q){var H=Q.item;return H.type.name==="Scatter"});K&&(U=Fe(Fe({},U),K.props.points[O].tooltipPosition),_=K.props.points[O].tooltipPayload);var j={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:N,activePayload:_,activeCoordinate:U};this.setState(j),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var E,b;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0}})}return null}},{key:"componentDidUpdate",value:function(y){yG([Do(y.children,nu)],[Do(this.props.children,nu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Do(this.props.children,nu);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,E=w.getBoundingClientRect(),b=Hst(E),D={chartX:Math.round(y.pageX-b.left),chartY:Math.round(y.pageY-b.top)},P=E.width/w.offsetWidth||1,O=this.inRange(D.chartX,D.chartY,P);if(!O)return null;var N=this.state,_=N.xAxisMap,I=N.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&_&&I){var B=Pd(_).scale,U=Pd(I).scale,K=B&&B.invert?B.invert(D.chartX):null,j=U&&U.invert?U.invert(D.chartY):null;return Fe(Fe({},D),{},{xValue:K,yValue:j})}var Q=J8(this.state,this.props.data,this.props.layout,O);return Q?Fe(Fe({},D),Q):null}},{key:"inRange",value:function(y,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,b=this.props.layout,D=y/E,P=w/E;if(b==="horizontal"||b==="vertical"){var O=this.state.offset,N=D>=O.left&&D<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return N?{x:D,y:P}:null}var _=this.state,I=_.angleAxisMap,k=_.radiusAxisMap;if(I&&k){var B=Pd(I);return _q({x:D,y:P},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),E=Do(y,nu),b={};E&&w==="axis"&&(E.props.trigger==="click"?b={onClick:this.handleClick}:b={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var D=Qx(this.props,this.handleOuterEvent);return Fe(Fe({},D),b)}},{key:"addListener",value:function(){O_.on(M_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){O_.removeListener(M_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,E){for(var b=this.state.formattedGraphicalItems,D=0,P=b.length;D<P;D++){var O=b[D];if(O.item===y||O.props.key===y.key||w===dc(O.item.type)&&E===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,E=w.left,b=w.top,D=w.height,P=w.width;return $.createElement("defs",null,$.createElement("clipPath",{id:y},$.createElement("rect",{x:E,y:b,height:D,width:P})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,E){var b=q8(E,2),D=b[0],P=b[1];return Fe(Fe({},w),{},Tt({},D,P.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,E){var b=q8(E,2),D=b[0],P=b[1];return Fe(Fe({},w),{},Tt({},D,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,E=w.formattedGraphicalItems,b=w.activeItem;if(E&&E.length)for(var D=0,P=E.length;D<P;D++){var O=E[D],N=O.props,_=O.item,I=dc(_.type);if(I==="Bar"){var k=(N.data||[]).find(function(j){return jht(y,j)});if(k)return{graphicalItem:O,payload:k}}else if(I==="RadialBar"){var B=(N.data||[]).find(function(j){return _q(y,j)});if(B)return{graphicalItem:O,payload:B}}else if(sF(O,b)||oF(O,b)||GE(O,b)){var U=_pt({graphicalItem:O,activeTooltipItem:b,itemData:_.props.data}),K=_.props.activeIndex===void 0?U:_.props.activeIndex;return{graphicalItem:Fe(Fe({},O),{},{childIndex:K}),payload:GE(O,b)?_.props.data[U]:O.props.data[U]}}}return null}},{key:"render",value:function(){var y=this;if(!QY(this))return null;var w=this.props,E=w.children,b=w.className,D=w.width,P=w.height,O=w.style,N=w.compact,_=w.title,I=w.desc,k=X8(w,vmt),B=fi(k,!1);if(N)return $.createElement(I8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(wG,OS({},B,{width:D,height:P,title:_,desc:I}),this.renderClipPath(),JY(E,this.renderMap)));if(this.props.accessibilityLayer){var U,K;B.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,B.role=(K=this.props.role)!==null&&K!==void 0?K:"application",B.onKeyDown=function(Q){y.accessibilityManager.keyboardEvent(Q)},B.onFocus=function(){y.accessibilityManager.focus()}}var j=this.parseEventsOfWrapper();return $.createElement(I8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",OS({className:Le("recharts-wrapper",b),style:Fe({position:"relative",cursor:"default",width:D,height:P},O)},j,{ref:function(H){y.container=H}}),$.createElement(wG,OS({},B,{width:D,height:P,title:_,desc:I,style:Fmt}),this.renderClipPath(),JY(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),C}(T.Component),Tt(i,"displayName",r),Tt(i,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Tt(i,"getDerivedStateFromProps",function(m,C){var S=m.dataKey,y=m.data,w=m.children,E=m.width,b=m.height,D=m.layout,P=m.stackOffset,O=m.margin,N=C.dataStartIndex,_=C.dataEndIndex;if(C.updateId===void 0){var I=e9(m);return Fe(Fe(Fe({},I),{},{updateId:0},g(Fe(Fe({props:m},I),{},{updateId:0}),C)),{},{prevDataKey:S,prevData:y,prevWidth:E,prevHeight:b,prevLayout:D,prevStackOffset:P,prevMargin:O,prevChildren:w})}if(S!==C.prevDataKey||y!==C.prevData||E!==C.prevWidth||b!==C.prevHeight||D!==C.prevLayout||P!==C.prevStackOffset||!Pm(O,C.prevMargin)){var k=e9(m),B={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},U=Fe(Fe({},J8(C,y,D)),{},{updateId:C.updateId+1}),K=Fe(Fe(Fe({},k),B),U);return Fe(Fe(Fe({},K),g(Fe({props:m},K),C)),{},{prevDataKey:S,prevData:y,prevWidth:E,prevHeight:b,prevLayout:D,prevStackOffset:P,prevMargin:O,prevChildren:w})}if(!yG(w,C.prevChildren)){var j,Q,H,X,te=Do(w,Av),le=te&&(j=(Q=te.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&j!==void 0?j:N,J=te&&(H=(X=te.props)===null||X===void 0?void 0:X.endIndex)!==null&&H!==void 0?H:_,ie=le!==N||J!==_,ue=!Si(y),me=ue&&!ie?C.updateId:C.updateId+1;return Fe(Fe({updateId:me},g(Fe(Fe({props:m},C),{},{updateId:me,dataStartIndex:le,dataEndIndex:J}),C)),{},{prevChildren:w,dataStartIndex:le,dataEndIndex:J})}return null}),Tt(i,"renderActiveDot",function(m,C){var S;return T.isValidElement(m)?S=T.cloneElement(m,C):zt(m)?S=m(C):S=$.createElement(Hue,C),$.createElement(Cn,{className:"recharts-active-dot",key:C.key},S)}),i},Wmt=Bmt({chartName:"BarChart",GraphicalChild:ng,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lF},{axisType:"yAxis",AxisComp:uF}],formatAxisMap:Nft}),kA={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */kA.exports;(function(t,e){(function(){var i,r="4.17.21",n=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,h=2,f=4,g=1,m=2,C=1,S=2,y=4,w=8,E=16,b=32,D=64,P=128,O=256,N=512,_=30,I="...",k=800,B=16,U=1,K=2,j=3,Q=1/0,H=9007199254740991,X=17976931348623157e292,te=NaN,le=4294967295,J=le-1,ie=le>>>1,ue=[["ary",P],["bind",C],["bindKey",S],["curry",w],["curryRight",E],["flip",N],["partial",b],["partialRight",D],["rearg",O]],me="[object Arguments]",se="[object Array]",he="[object AsyncFunction]",Ee="[object Boolean]",pe="[object Date]",ye="[object DOMException]",Ce="[object Error]",re="[object Function]",oe="[object GeneratorFunction]",fe="[object Map]",we="[object Number]",Ue="[object Null]",Be="[object Object]",Ve="[object Promise]",qe="[object Proxy]",mt="[object RegExp]",et="[object Set]",gi="[object String]",wi="[object Symbol]",Yt="[object Undefined]",Cr="[object WeakMap]",xn="[object WeakSet]",xr="[object ArrayBuffer]",Ht="[object DataView]",pt="[object Float32Array]",cs="[object Float64Array]",el="[object Int8Array]",co="[object Int16Array]",dt="[object Int32Array]",Zt="[object Uint8Array]",Ki="[object Uint8ClampedArray]",Gs="[object Uint16Array]",id="[object Uint32Array]",Yi=/\b__p \+= '';/g,ea=/\b(__p \+=) '' \+/g,xh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tl=/&(?:amp|lt|gt|quot|#39);/g,T2=/[&<>"']/g,vce=RegExp(tl.source),Cce=RegExp(T2.source),yce=/<%-([\s\S]+?)%>/g,Sce=/<%([\s\S]+?)%>/g,D2=/<%=([\s\S]+?)%>/g,wce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ece=/^\w*$/,bce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dF=/[\\^$.*+?()[\]{}|]/g,Rce=RegExp(dF.source),hF=/^\s+/,Tce=/\s/,Dce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pce=/\{\n\/\* \[wrapped with (.+)\] \*/,xce=/,? & /,Ace=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oce=/[()=,{}\[\]\/\s]/,Mce=/\\(\\)?/g,Fce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,P2=/\w*$/,Ice=/^[-+]0x[0-9a-f]+$/i,Lce=/^0b[01]+$/i,_ce=/^\[object .+?Constructor\]$/,Nce=/^0o[0-7]+$/i,Gce=/^(?:0|[1-9]\d*)$/,kce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pR=/($^)/,Vce=/['\n\r\u2028\u2029\\]/g,fR="\\ud800-\\udfff",Hce="\\u0300-\\u036f",$ce="\\ufe20-\\ufe2f",Bce="\\u20d0-\\u20ff",x2=Hce+$ce+Bce,A2="\\u2700-\\u27bf",O2="a-z\\xdf-\\xf6\\xf8-\\xff",Wce="\\xac\\xb1\\xd7\\xf7",Uce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zce="\\u2000-\\u206f",jce=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",M2="A-Z\\xc0-\\xd6\\xd8-\\xde",F2="\\ufe0e\\ufe0f",I2=Wce+Uce+zce+jce,pF="['’]",Kce="["+fR+"]",L2="["+I2+"]",gR="["+x2+"]",_2="\\d+",Yce="["+A2+"]",N2="["+O2+"]",G2="[^"+fR+I2+_2+A2+O2+M2+"]",fF="\\ud83c[\\udffb-\\udfff]",qce="(?:"+gR+"|"+fF+")",k2="[^"+fR+"]",gF="(?:\\ud83c[\\udde6-\\uddff]){2}",mF="[\\ud800-\\udbff][\\udc00-\\udfff]",sg="["+M2+"]",V2="\\u200d",H2="(?:"+N2+"|"+G2+")",Xce="(?:"+sg+"|"+G2+")",$2="(?:"+pF+"(?:d|ll|m|re|s|t|ve))?",B2="(?:"+pF+"(?:D|LL|M|RE|S|T|VE))?",W2=qce+"?",U2="["+F2+"]?",Qce="(?:"+V2+"(?:"+[k2,gF,mF].join("|")+")"+U2+W2+")*",Zce="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jce="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",z2=U2+W2+Qce,ede="(?:"+[Yce,gF,mF].join("|")+")"+z2,tde="(?:"+[k2+gR+"?",gR,gF,mF,Kce].join("|")+")",ide=RegExp(pF,"g"),rde=RegExp(gR,"g"),vF=RegExp(fF+"(?="+fF+")|"+tde+z2,"g"),nde=RegExp([sg+"?"+N2+"+"+$2+"(?="+[L2,sg,"$"].join("|")+")",Xce+"+"+B2+"(?="+[L2,sg+H2,"$"].join("|")+")",sg+"?"+H2+"+"+$2,sg+"+"+B2,Jce,Zce,_2,ede].join("|"),"g"),sde=RegExp("["+V2+fR+x2+F2+"]"),ode=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ade=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lde=-1,qi={};qi[pt]=qi[cs]=qi[el]=qi[co]=qi[dt]=qi[Zt]=qi[Ki]=qi[Gs]=qi[id]=!0,qi[me]=qi[se]=qi[xr]=qi[Ee]=qi[Ht]=qi[pe]=qi[Ce]=qi[re]=qi[fe]=qi[we]=qi[Be]=qi[mt]=qi[et]=qi[gi]=qi[Cr]=!1;var _i={};_i[me]=_i[se]=_i[xr]=_i[Ht]=_i[Ee]=_i[pe]=_i[pt]=_i[cs]=_i[el]=_i[co]=_i[dt]=_i[fe]=_i[we]=_i[Be]=_i[mt]=_i[et]=_i[gi]=_i[wi]=_i[Zt]=_i[Ki]=_i[Gs]=_i[id]=!0,_i[Ce]=_i[re]=_i[Cr]=!1;var ude={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},cde={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dde={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hde={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pde=parseFloat,fde=parseInt,j2=typeof Ur=="object"&&Ur&&Ur.Object===Object&&Ur,gde=typeof self=="object"&&self&&self.Object===Object&&self,An=j2||gde||Function("return this")(),CF=e&&!e.nodeType&&e,Ah=CF&&!0&&t&&!t.nodeType&&t,K2=Ah&&Ah.exports===CF,yF=K2&&j2.process,ta=function(){try{var ge=Ah&&Ah.require&&Ah.require("util").types;return ge||yF&&yF.binding&&yF.binding("util")}catch{}}(),Y2=ta&&ta.isArrayBuffer,q2=ta&&ta.isDate,X2=ta&&ta.isMap,Q2=ta&&ta.isRegExp,Z2=ta&&ta.isSet,J2=ta&&ta.isTypedArray;function ho(ge,Re,Se){switch(Se.length){case 0:return ge.call(Re);case 1:return ge.call(Re,Se[0]);case 2:return ge.call(Re,Se[0],Se[1]);case 3:return ge.call(Re,Se[0],Se[1],Se[2])}return ge.apply(Re,Se)}function mde(ge,Re,Se,Qe){for(var xt=-1,li=ge==null?0:ge.length;++xt<li;){var Qr=ge[xt];Re(Qe,Qr,Se(Qr),ge)}return Qe}function ia(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length;++Se<Qe&&Re(ge[Se],Se,ge)!==!1;);return ge}function vde(ge,Re){for(var Se=ge==null?0:ge.length;Se--&&Re(ge[Se],Se,ge)!==!1;);return ge}function eU(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length;++Se<Qe;)if(!Re(ge[Se],Se,ge))return!1;return!0}function rd(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length,xt=0,li=[];++Se<Qe;){var Qr=ge[Se];Re(Qr,Se,ge)&&(li[xt++]=Qr)}return li}function mR(ge,Re){var Se=ge==null?0:ge.length;return!!Se&&og(ge,Re,0)>-1}function SF(ge,Re,Se){for(var Qe=-1,xt=ge==null?0:ge.length;++Qe<xt;)if(Se(Re,ge[Qe]))return!0;return!1}function nr(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length,xt=Array(Qe);++Se<Qe;)xt[Se]=Re(ge[Se],Se,ge);return xt}function nd(ge,Re){for(var Se=-1,Qe=Re.length,xt=ge.length;++Se<Qe;)ge[xt+Se]=Re[Se];return ge}function wF(ge,Re,Se,Qe){var xt=-1,li=ge==null?0:ge.length;for(Qe&&li&&(Se=ge[++xt]);++xt<li;)Se=Re(Se,ge[xt],xt,ge);return Se}function Cde(ge,Re,Se,Qe){var xt=ge==null?0:ge.length;for(Qe&&xt&&(Se=ge[--xt]);xt--;)Se=Re(Se,ge[xt],xt,ge);return Se}function EF(ge,Re){for(var Se=-1,Qe=ge==null?0:ge.length;++Se<Qe;)if(Re(ge[Se],Se,ge))return!0;return!1}var yde=bF("length");function Sde(ge){return ge.split("")}function wde(ge){return ge.match(Ace)||[]}function tU(ge,Re,Se){var Qe;return Se(ge,function(xt,li,Qr){if(Re(xt,li,Qr))return Qe=li,!1}),Qe}function vR(ge,Re,Se,Qe){for(var xt=ge.length,li=Se+(Qe?1:-1);Qe?li--:++li<xt;)if(Re(ge[li],li,ge))return li;return-1}function og(ge,Re,Se){return Re===Re?Ide(ge,Re,Se):vR(ge,iU,Se)}function Ede(ge,Re,Se,Qe){for(var xt=Se-1,li=ge.length;++xt<li;)if(Qe(ge[xt],Re))return xt;return-1}function iU(ge){return ge!==ge}function rU(ge,Re){var Se=ge==null?0:ge.length;return Se?TF(ge,Re)/Se:te}function bF(ge){return function(Re){return Re==null?i:Re[ge]}}function RF(ge){return function(Re){return ge==null?i:ge[Re]}}function nU(ge,Re,Se,Qe,xt){return xt(ge,function(li,Qr,Mi){Se=Qe?(Qe=!1,li):Re(Se,li,Qr,Mi)}),Se}function bde(ge,Re){var Se=ge.length;for(ge.sort(Re);Se--;)ge[Se]=ge[Se].value;return ge}function TF(ge,Re){for(var Se,Qe=-1,xt=ge.length;++Qe<xt;){var li=Re(ge[Qe]);li!==i&&(Se=Se===i?li:Se+li)}return Se}function DF(ge,Re){for(var Se=-1,Qe=Array(ge);++Se<ge;)Qe[Se]=Re(Se);return Qe}function Rde(ge,Re){return nr(Re,function(Se){return[Se,ge[Se]]})}function sU(ge){return ge&&ge.slice(0,uU(ge)+1).replace(hF,"")}function po(ge){return function(Re){return ge(Re)}}function PF(ge,Re){return nr(Re,function(Se){return ge[Se]})}function kC(ge,Re){return ge.has(Re)}function oU(ge,Re){for(var Se=-1,Qe=ge.length;++Se<Qe&&og(Re,ge[Se],0)>-1;);return Se}function aU(ge,Re){for(var Se=ge.length;Se--&&og(Re,ge[Se],0)>-1;);return Se}function Tde(ge,Re){for(var Se=ge.length,Qe=0;Se--;)ge[Se]===Re&&++Qe;return Qe}var Dde=RF(ude),Pde=RF(cde);function xde(ge){return"\\"+hde[ge]}function Ade(ge,Re){return ge==null?i:ge[Re]}function ag(ge){return sde.test(ge)}function Ode(ge){return ode.test(ge)}function Mde(ge){for(var Re,Se=[];!(Re=ge.next()).done;)Se.push(Re.value);return Se}function xF(ge){var Re=-1,Se=Array(ge.size);return ge.forEach(function(Qe,xt){Se[++Re]=[xt,Qe]}),Se}function lU(ge,Re){return function(Se){return ge(Re(Se))}}function sd(ge,Re){for(var Se=-1,Qe=ge.length,xt=0,li=[];++Se<Qe;){var Qr=ge[Se];(Qr===Re||Qr===c)&&(ge[Se]=c,li[xt++]=Se)}return li}function CR(ge){var Re=-1,Se=Array(ge.size);return ge.forEach(function(Qe){Se[++Re]=Qe}),Se}function Fde(ge){var Re=-1,Se=Array(ge.size);return ge.forEach(function(Qe){Se[++Re]=[Qe,Qe]}),Se}function Ide(ge,Re,Se){for(var Qe=Se-1,xt=ge.length;++Qe<xt;)if(ge[Qe]===Re)return Qe;return-1}function Lde(ge,Re,Se){for(var Qe=Se+1;Qe--;)if(ge[Qe]===Re)return Qe;return Qe}function lg(ge){return ag(ge)?Nde(ge):yde(ge)}function il(ge){return ag(ge)?Gde(ge):Sde(ge)}function uU(ge){for(var Re=ge.length;Re--&&Tce.test(ge.charAt(Re)););return Re}var _de=RF(dde);function Nde(ge){for(var Re=vF.lastIndex=0;vF.test(ge);)++Re;return Re}function Gde(ge){return ge.match(vF)||[]}function kde(ge){return ge.match(nde)||[]}var Vde=function ge(Re){Re=Re==null?An:ug.defaults(An.Object(),Re,ug.pick(An,ade));var Se=Re.Array,Qe=Re.Date,xt=Re.Error,li=Re.Function,Qr=Re.Math,Mi=Re.Object,AF=Re.RegExp,Hde=Re.String,ra=Re.TypeError,yR=Se.prototype,$de=li.prototype,cg=Mi.prototype,SR=Re["__core-js_shared__"],wR=$de.toString,Ei=cg.hasOwnProperty,Bde=0,cU=function(){var p=/[^.]+$/.exec(SR&&SR.keys&&SR.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),ER=cg.toString,Wde=wR.call(Mi),Ude=An._,zde=AF("^"+wR.call(Ei).replace(dF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bR=K2?Re.Buffer:i,od=Re.Symbol,RR=Re.Uint8Array,dU=bR?bR.allocUnsafe:i,TR=lU(Mi.getPrototypeOf,Mi),hU=Mi.create,pU=cg.propertyIsEnumerable,DR=yR.splice,fU=od?od.isConcatSpreadable:i,VC=od?od.iterator:i,Oh=od?od.toStringTag:i,PR=function(){try{var p=_h(Mi,"defineProperty");return p({},"",{}),p}catch{}}(),jde=Re.clearTimeout!==An.clearTimeout&&Re.clearTimeout,Kde=Qe&&Qe.now!==An.Date.now&&Qe.now,Yde=Re.setTimeout!==An.setTimeout&&Re.setTimeout,xR=Qr.ceil,AR=Qr.floor,OF=Mi.getOwnPropertySymbols,qde=bR?bR.isBuffer:i,gU=Re.isFinite,Xde=yR.join,Qde=lU(Mi.keys,Mi),Zr=Qr.max,Bn=Qr.min,Zde=Qe.now,Jde=Re.parseInt,mU=Qr.random,ehe=yR.reverse,MF=_h(Re,"DataView"),HC=_h(Re,"Map"),FF=_h(Re,"Promise"),dg=_h(Re,"Set"),$C=_h(Re,"WeakMap"),BC=_h(Mi,"create"),OR=$C&&new $C,hg={},the=Nh(MF),ihe=Nh(HC),rhe=Nh(FF),nhe=Nh(dg),she=Nh($C),MR=od?od.prototype:i,WC=MR?MR.valueOf:i,vU=MR?MR.toString:i;function q(p){if(yr(p)&&!At(p)&&!(p instanceof Ut)){if(p instanceof na)return p;if(Ei.call(p,"__wrapped__"))return Cz(p)}return new na(p)}var pg=function(){function p(){}return function(v){if(!fr(v))return{};if(hU)return hU(v);p.prototype=v;var R=new p;return p.prototype=i,R}}();function FR(){}function na(p,v){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=i}q.templateSettings={escape:yce,evaluate:Sce,interpolate:D2,variable:"",imports:{_:q}},q.prototype=FR.prototype,q.prototype.constructor=q,na.prototype=pg(FR.prototype),na.prototype.constructor=na;function Ut(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function ohe(){var p=new Ut(this.__wrapped__);return p.__actions__=ks(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=ks(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=ks(this.__views__),p}function ahe(){if(this.__filtered__){var p=new Ut(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function lhe(){var p=this.__wrapped__.value(),v=this.__dir__,R=At(p),M=v<0,z=R?p.length:0,Z=Spe(0,z,this.__views__),ne=Z.start,ae=Z.end,ve=ae-ne,xe=M?ae:ne-1,Ae=this.__iteratees__,Ne=Ae.length,Ke=0,nt=Bn(ve,this.__takeCount__);if(!R||!M&&z==ve&&nt==ve)return $U(p,this.__actions__);var yt=[];e:for(;ve--&&Ke<nt;){xe+=v;for(var Lt=-1,St=p[xe];++Lt<Ne;){var Bt=Ae[Lt],qt=Bt.iteratee,mo=Bt.type,ps=qt(St);if(mo==K)St=ps;else if(!ps){if(mo==U)continue e;break e}}yt[Ke++]=St}return yt}Ut.prototype=pg(FR.prototype),Ut.prototype.constructor=Ut;function Mh(p){var v=-1,R=p==null?0:p.length;for(this.clear();++v<R;){var M=p[v];this.set(M[0],M[1])}}function uhe(){this.__data__=BC?BC(null):{},this.size=0}function che(p){var v=this.has(p)&&delete this.__data__[p];return this.size-=v?1:0,v}function dhe(p){var v=this.__data__;if(BC){var R=v[p];return R===l?i:R}return Ei.call(v,p)?v[p]:i}function hhe(p){var v=this.__data__;return BC?v[p]!==i:Ei.call(v,p)}function phe(p,v){var R=this.__data__;return this.size+=this.has(p)?0:1,R[p]=BC&&v===i?l:v,this}Mh.prototype.clear=uhe,Mh.prototype.delete=che,Mh.prototype.get=dhe,Mh.prototype.has=hhe,Mh.prototype.set=phe;function $u(p){var v=-1,R=p==null?0:p.length;for(this.clear();++v<R;){var M=p[v];this.set(M[0],M[1])}}function fhe(){this.__data__=[],this.size=0}function ghe(p){var v=this.__data__,R=IR(v,p);if(R<0)return!1;var M=v.length-1;return R==M?v.pop():DR.call(v,R,1),--this.size,!0}function mhe(p){var v=this.__data__,R=IR(v,p);return R<0?i:v[R][1]}function vhe(p){return IR(this.__data__,p)>-1}function Che(p,v){var R=this.__data__,M=IR(R,p);return M<0?(++this.size,R.push([p,v])):R[M][1]=v,this}$u.prototype.clear=fhe,$u.prototype.delete=ghe,$u.prototype.get=mhe,$u.prototype.has=vhe,$u.prototype.set=Che;function Bu(p){var v=-1,R=p==null?0:p.length;for(this.clear();++v<R;){var M=p[v];this.set(M[0],M[1])}}function yhe(){this.size=0,this.__data__={hash:new Mh,map:new(HC||$u),string:new Mh}}function She(p){var v=zR(this,p).delete(p);return this.size-=v?1:0,v}function whe(p){return zR(this,p).get(p)}function Ehe(p){return zR(this,p).has(p)}function bhe(p,v){var R=zR(this,p),M=R.size;return R.set(p,v),this.size+=R.size==M?0:1,this}Bu.prototype.clear=yhe,Bu.prototype.delete=She,Bu.prototype.get=whe,Bu.prototype.has=Ehe,Bu.prototype.set=bhe;function Fh(p){var v=-1,R=p==null?0:p.length;for(this.__data__=new Bu;++v<R;)this.add(p[v])}function Rhe(p){return this.__data__.set(p,l),this}function The(p){return this.__data__.has(p)}Fh.prototype.add=Fh.prototype.push=Rhe,Fh.prototype.has=The;function rl(p){var v=this.__data__=new $u(p);this.size=v.size}function Dhe(){this.__data__=new $u,this.size=0}function Phe(p){var v=this.__data__,R=v.delete(p);return this.size=v.size,R}function xhe(p){return this.__data__.get(p)}function Ahe(p){return this.__data__.has(p)}function Ohe(p,v){var R=this.__data__;if(R instanceof $u){var M=R.__data__;if(!HC||M.length<n-1)return M.push([p,v]),this.size=++R.size,this;R=this.__data__=new Bu(M)}return R.set(p,v),this.size=R.size,this}rl.prototype.clear=Dhe,rl.prototype.delete=Phe,rl.prototype.get=xhe,rl.prototype.has=Ahe,rl.prototype.set=Ohe;function CU(p,v){var R=At(p),M=!R&&Gh(p),z=!R&&!M&&dd(p),Z=!R&&!M&&!z&&vg(p),ne=R||M||z||Z,ae=ne?DF(p.length,Hde):[],ve=ae.length;for(var xe in p)(v||Ei.call(p,xe))&&!(ne&&(xe=="length"||z&&(xe=="offset"||xe=="parent")||Z&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||ju(xe,ve)))&&ae.push(xe);return ae}function yU(p){var v=p.length;return v?p[WF(0,v-1)]:i}function Mhe(p,v){return jR(ks(p),Ih(v,0,p.length))}function Fhe(p){return jR(ks(p))}function IF(p,v,R){(R!==i&&!nl(p[v],R)||R===i&&!(v in p))&&Wu(p,v,R)}function UC(p,v,R){var M=p[v];(!(Ei.call(p,v)&&nl(M,R))||R===i&&!(v in p))&&Wu(p,v,R)}function IR(p,v){for(var R=p.length;R--;)if(nl(p[R][0],v))return R;return-1}function Ihe(p,v,R,M){return ad(p,function(z,Z,ne){v(M,z,R(z),ne)}),M}function SU(p,v){return p&&jl(v,cn(v),p)}function Lhe(p,v){return p&&jl(v,Hs(v),p)}function Wu(p,v,R){v=="__proto__"&&PR?PR(p,v,{configurable:!0,enumerable:!0,value:R,writable:!0}):p[v]=R}function LF(p,v){for(var R=-1,M=v.length,z=Se(M),Z=p==null;++R<M;)z[R]=Z?i:fI(p,v[R]);return z}function Ih(p,v,R){return p===p&&(R!==i&&(p=p<=R?p:R),v!==i&&(p=p>=v?p:v)),p}function sa(p,v,R,M,z,Z){var ne,ae=v&d,ve=v&h,xe=v&f;if(R&&(ne=z?R(p,M,z,Z):R(p)),ne!==i)return ne;if(!fr(p))return p;var Ae=At(p);if(Ae){if(ne=Epe(p),!ae)return ks(p,ne)}else{var Ne=Wn(p),Ke=Ne==re||Ne==oe;if(dd(p))return UU(p,ae);if(Ne==Be||Ne==me||Ke&&!z){if(ne=ve||Ke?{}:uz(p),!ae)return ve?dpe(p,Lhe(ne,p)):cpe(p,SU(ne,p))}else{if(!_i[Ne])return z?p:{};ne=bpe(p,Ne,ae)}}Z||(Z=new rl);var nt=Z.get(p);if(nt)return nt;Z.set(p,ne),kz(p)?p.forEach(function(St){ne.add(sa(St,v,R,St,p,Z))}):Nz(p)&&p.forEach(function(St,Bt){ne.set(Bt,sa(St,v,R,Bt,p,Z))});var yt=xe?ve?eI:JF:ve?Hs:cn,Lt=Ae?i:yt(p);return ia(Lt||p,function(St,Bt){Lt&&(Bt=St,St=p[Bt]),UC(ne,Bt,sa(St,v,R,Bt,p,Z))}),ne}function _he(p){var v=cn(p);return function(R){return wU(R,p,v)}}function wU(p,v,R){var M=R.length;if(p==null)return!M;for(p=Mi(p);M--;){var z=R[M],Z=v[z],ne=p[z];if(ne===i&&!(z in p)||!Z(ne))return!1}return!0}function EU(p,v,R){if(typeof p!="function")throw new ra(o);return QC(function(){p.apply(i,R)},v)}function zC(p,v,R,M){var z=-1,Z=mR,ne=!0,ae=p.length,ve=[],xe=v.length;if(!ae)return ve;R&&(v=nr(v,po(R))),M?(Z=SF,ne=!1):v.length>=n&&(Z=kC,ne=!1,v=new Fh(v));e:for(;++z<ae;){var Ae=p[z],Ne=R==null?Ae:R(Ae);if(Ae=M||Ae!==0?Ae:0,ne&&Ne===Ne){for(var Ke=xe;Ke--;)if(v[Ke]===Ne)continue e;ve.push(Ae)}else Z(v,Ne,M)||ve.push(Ae)}return ve}var ad=qU(zl),bU=qU(NF,!0);function Nhe(p,v){var R=!0;return ad(p,function(M,z,Z){return R=!!v(M,z,Z),R}),R}function LR(p,v,R){for(var M=-1,z=p.length;++M<z;){var Z=p[M],ne=v(Z);if(ne!=null&&(ae===i?ne===ne&&!go(ne):R(ne,ae)))var ae=ne,ve=Z}return ve}function Ghe(p,v,R,M){var z=p.length;for(R=Ft(R),R<0&&(R=-R>z?0:z+R),M=M===i||M>z?z:Ft(M),M<0&&(M+=z),M=R>M?0:Hz(M);R<M;)p[R++]=v;return p}function RU(p,v){var R=[];return ad(p,function(M,z,Z){v(M,z,Z)&&R.push(M)}),R}function On(p,v,R,M,z){var Z=-1,ne=p.length;for(R||(R=Tpe),z||(z=[]);++Z<ne;){var ae=p[Z];v>0&&R(ae)?v>1?On(ae,v-1,R,M,z):nd(z,ae):M||(z[z.length]=ae)}return z}var _F=XU(),TU=XU(!0);function zl(p,v){return p&&_F(p,v,cn)}function NF(p,v){return p&&TU(p,v,cn)}function _R(p,v){return rd(v,function(R){return Ku(p[R])})}function Lh(p,v){v=ud(v,p);for(var R=0,M=v.length;p!=null&&R<M;)p=p[Kl(v[R++])];return R&&R==M?p:i}function DU(p,v,R){var M=v(p);return At(p)?M:nd(M,R(p))}function ds(p){return p==null?p===i?Yt:Ue:Oh&&Oh in Mi(p)?ype(p):Fpe(p)}function GF(p,v){return p>v}function khe(p,v){return p!=null&&Ei.call(p,v)}function Vhe(p,v){return p!=null&&v in Mi(p)}function Hhe(p,v,R){return p>=Bn(v,R)&&p<Zr(v,R)}function kF(p,v,R){for(var M=R?SF:mR,z=p[0].length,Z=p.length,ne=Z,ae=Se(Z),ve=1/0,xe=[];ne--;){var Ae=p[ne];ne&&v&&(Ae=nr(Ae,po(v))),ve=Bn(Ae.length,ve),ae[ne]=!R&&(v||z>=120&&Ae.length>=120)?new Fh(ne&&Ae):i}Ae=p[0];var Ne=-1,Ke=ae[0];e:for(;++Ne<z&&xe.length<ve;){var nt=Ae[Ne],yt=v?v(nt):nt;if(nt=R||nt!==0?nt:0,!(Ke?kC(Ke,yt):M(xe,yt,R))){for(ne=Z;--ne;){var Lt=ae[ne];if(!(Lt?kC(Lt,yt):M(p[ne],yt,R)))continue e}Ke&&Ke.push(yt),xe.push(nt)}}return xe}function $he(p,v,R,M){return zl(p,function(z,Z,ne){v(M,R(z),Z,ne)}),M}function jC(p,v,R){v=ud(v,p),p=pz(p,v);var M=p==null?p:p[Kl(aa(v))];return M==null?i:ho(M,p,R)}function PU(p){return yr(p)&&ds(p)==me}function Bhe(p){return yr(p)&&ds(p)==xr}function Whe(p){return yr(p)&&ds(p)==pe}function KC(p,v,R,M,z){return p===v?!0:p==null||v==null||!yr(p)&&!yr(v)?p!==p&&v!==v:Uhe(p,v,R,M,KC,z)}function Uhe(p,v,R,M,z,Z){var ne=At(p),ae=At(v),ve=ne?se:Wn(p),xe=ae?se:Wn(v);ve=ve==me?Be:ve,xe=xe==me?Be:xe;var Ae=ve==Be,Ne=xe==Be,Ke=ve==xe;if(Ke&&dd(p)){if(!dd(v))return!1;ne=!0,Ae=!1}if(Ke&&!Ae)return Z||(Z=new rl),ne||vg(p)?oz(p,v,R,M,z,Z):vpe(p,v,ve,R,M,z,Z);if(!(R&g)){var nt=Ae&&Ei.call(p,"__wrapped__"),yt=Ne&&Ei.call(v,"__wrapped__");if(nt||yt){var Lt=nt?p.value():p,St=yt?v.value():v;return Z||(Z=new rl),z(Lt,St,R,M,Z)}}return Ke?(Z||(Z=new rl),Cpe(p,v,R,M,z,Z)):!1}function zhe(p){return yr(p)&&Wn(p)==fe}function VF(p,v,R,M){var z=R.length,Z=z,ne=!M;if(p==null)return!Z;for(p=Mi(p);z--;){var ae=R[z];if(ne&&ae[2]?ae[1]!==p[ae[0]]:!(ae[0]in p))return!1}for(;++z<Z;){ae=R[z];var ve=ae[0],xe=p[ve],Ae=ae[1];if(ne&&ae[2]){if(xe===i&&!(ve in p))return!1}else{var Ne=new rl;if(M)var Ke=M(xe,Ae,ve,p,v,Ne);if(!(Ke===i?KC(Ae,xe,g|m,M,Ne):Ke))return!1}}return!0}function xU(p){if(!fr(p)||Ppe(p))return!1;var v=Ku(p)?zde:_ce;return v.test(Nh(p))}function jhe(p){return yr(p)&&ds(p)==mt}function Khe(p){return yr(p)&&Wn(p)==et}function Yhe(p){return yr(p)&&ZR(p.length)&&!!qi[ds(p)]}function AU(p){return typeof p=="function"?p:p==null?$s:typeof p=="object"?At(p)?FU(p[0],p[1]):MU(p):Qz(p)}function HF(p){if(!XC(p))return Qde(p);var v=[];for(var R in Mi(p))Ei.call(p,R)&&R!="constructor"&&v.push(R);return v}function qhe(p){if(!fr(p))return Mpe(p);var v=XC(p),R=[];for(var M in p)M=="constructor"&&(v||!Ei.call(p,M))||R.push(M);return R}function $F(p,v){return p<v}function OU(p,v){var R=-1,M=Vs(p)?Se(p.length):[];return ad(p,function(z,Z,ne){M[++R]=v(z,Z,ne)}),M}function MU(p){var v=iI(p);return v.length==1&&v[0][2]?dz(v[0][0],v[0][1]):function(R){return R===p||VF(R,p,v)}}function FU(p,v){return nI(p)&&cz(v)?dz(Kl(p),v):function(R){var M=fI(R,p);return M===i&&M===v?gI(R,p):KC(v,M,g|m)}}function NR(p,v,R,M,z){p!==v&&_F(v,function(Z,ne){if(z||(z=new rl),fr(Z))Xhe(p,v,ne,R,NR,M,z);else{var ae=M?M(oI(p,ne),Z,ne+"",p,v,z):i;ae===i&&(ae=Z),IF(p,ne,ae)}},Hs)}function Xhe(p,v,R,M,z,Z,ne){var ae=oI(p,R),ve=oI(v,R),xe=ne.get(ve);if(xe){IF(p,R,xe);return}var Ae=Z?Z(ae,ve,R+"",p,v,ne):i,Ne=Ae===i;if(Ne){var Ke=At(ve),nt=!Ke&&dd(ve),yt=!Ke&&!nt&&vg(ve);Ae=ve,Ke||nt||yt?At(ae)?Ae=ae:Ar(ae)?Ae=ks(ae):nt?(Ne=!1,Ae=UU(ve,!0)):yt?(Ne=!1,Ae=zU(ve,!0)):Ae=[]:ZC(ve)||Gh(ve)?(Ae=ae,Gh(ae)?Ae=$z(ae):(!fr(ae)||Ku(ae))&&(Ae=uz(ve))):Ne=!1}Ne&&(ne.set(ve,Ae),z(Ae,ve,M,Z,ne),ne.delete(ve)),IF(p,R,Ae)}function IU(p,v){var R=p.length;if(R)return v+=v<0?R:0,ju(v,R)?p[v]:i}function LU(p,v,R){v.length?v=nr(v,function(Z){return At(Z)?function(ne){return Lh(ne,Z.length===1?Z[0]:Z)}:Z}):v=[$s];var M=-1;v=nr(v,po(vt()));var z=OU(p,function(Z,ne,ae){var ve=nr(v,function(xe){return xe(Z)});return{criteria:ve,index:++M,value:Z}});return bde(z,function(Z,ne){return upe(Z,ne,R)})}function Qhe(p,v){return _U(p,v,function(R,M){return gI(p,M)})}function _U(p,v,R){for(var M=-1,z=v.length,Z={};++M<z;){var ne=v[M],ae=Lh(p,ne);R(ae,ne)&&YC(Z,ud(ne,p),ae)}return Z}function Zhe(p){return function(v){return Lh(v,p)}}function BF(p,v,R,M){var z=M?Ede:og,Z=-1,ne=v.length,ae=p;for(p===v&&(v=ks(v)),R&&(ae=nr(p,po(R)));++Z<ne;)for(var ve=0,xe=v[Z],Ae=R?R(xe):xe;(ve=z(ae,Ae,ve,M))>-1;)ae!==p&&DR.call(ae,ve,1),DR.call(p,ve,1);return p}function NU(p,v){for(var R=p?v.length:0,M=R-1;R--;){var z=v[R];if(R==M||z!==Z){var Z=z;ju(z)?DR.call(p,z,1):jF(p,z)}}return p}function WF(p,v){return p+AR(mU()*(v-p+1))}function Jhe(p,v,R,M){for(var z=-1,Z=Zr(xR((v-p)/(R||1)),0),ne=Se(Z);Z--;)ne[M?Z:++z]=p,p+=R;return ne}function UF(p,v){var R="";if(!p||v<1||v>H)return R;do v%2&&(R+=p),v=AR(v/2),v&&(p+=p);while(v);return R}function Nt(p,v){return aI(hz(p,v,$s),p+"")}function epe(p){return yU(Cg(p))}function tpe(p,v){var R=Cg(p);return jR(R,Ih(v,0,R.length))}function YC(p,v,R,M){if(!fr(p))return p;v=ud(v,p);for(var z=-1,Z=v.length,ne=Z-1,ae=p;ae!=null&&++z<Z;){var ve=Kl(v[z]),xe=R;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return p;if(z!=ne){var Ae=ae[ve];xe=M?M(Ae,ve,ae):i,xe===i&&(xe=fr(Ae)?Ae:ju(v[z+1])?[]:{})}UC(ae,ve,xe),ae=ae[ve]}return p}var GU=OR?function(p,v){return OR.set(p,v),p}:$s,ipe=PR?function(p,v){return PR(p,"toString",{configurable:!0,enumerable:!1,value:vI(v),writable:!0})}:$s;function rpe(p){return jR(Cg(p))}function oa(p,v,R){var M=-1,z=p.length;v<0&&(v=-v>z?0:z+v),R=R>z?z:R,R<0&&(R+=z),z=v>R?0:R-v>>>0,v>>>=0;for(var Z=Se(z);++M<z;)Z[M]=p[M+v];return Z}function npe(p,v){var R;return ad(p,function(M,z,Z){return R=v(M,z,Z),!R}),!!R}function GR(p,v,R){var M=0,z=p==null?M:p.length;if(typeof v=="number"&&v===v&&z<=ie){for(;M<z;){var Z=M+z>>>1,ne=p[Z];ne!==null&&!go(ne)&&(R?ne<=v:ne<v)?M=Z+1:z=Z}return z}return zF(p,v,$s,R)}function zF(p,v,R,M){var z=0,Z=p==null?0:p.length;if(Z===0)return 0;v=R(v);for(var ne=v!==v,ae=v===null,ve=go(v),xe=v===i;z<Z;){var Ae=AR((z+Z)/2),Ne=R(p[Ae]),Ke=Ne!==i,nt=Ne===null,yt=Ne===Ne,Lt=go(Ne);if(ne)var St=M||yt;else xe?St=yt&&(M||Ke):ae?St=yt&&Ke&&(M||!nt):ve?St=yt&&Ke&&!nt&&(M||!Lt):nt||Lt?St=!1:St=M?Ne<=v:Ne<v;St?z=Ae+1:Z=Ae}return Bn(Z,J)}function kU(p,v){for(var R=-1,M=p.length,z=0,Z=[];++R<M;){var ne=p[R],ae=v?v(ne):ne;if(!R||!nl(ae,ve)){var ve=ae;Z[z++]=ne===0?0:ne}}return Z}function VU(p){return typeof p=="number"?p:go(p)?te:+p}function fo(p){if(typeof p=="string")return p;if(At(p))return nr(p,fo)+"";if(go(p))return vU?vU.call(p):"";var v=p+"";return v=="0"&&1/p==-Q?"-0":v}function ld(p,v,R){var M=-1,z=mR,Z=p.length,ne=!0,ae=[],ve=ae;if(R)ne=!1,z=SF;else if(Z>=n){var xe=v?null:gpe(p);if(xe)return CR(xe);ne=!1,z=kC,ve=new Fh}else ve=v?[]:ae;e:for(;++M<Z;){var Ae=p[M],Ne=v?v(Ae):Ae;if(Ae=R||Ae!==0?Ae:0,ne&&Ne===Ne){for(var Ke=ve.length;Ke--;)if(ve[Ke]===Ne)continue e;v&&ve.push(Ne),ae.push(Ae)}else z(ve,Ne,R)||(ve!==ae&&ve.push(Ne),ae.push(Ae))}return ae}function jF(p,v){return v=ud(v,p),p=pz(p,v),p==null||delete p[Kl(aa(v))]}function HU(p,v,R,M){return YC(p,v,R(Lh(p,v)),M)}function kR(p,v,R,M){for(var z=p.length,Z=M?z:-1;(M?Z--:++Z<z)&&v(p[Z],Z,p););return R?oa(p,M?0:Z,M?Z+1:z):oa(p,M?Z+1:0,M?z:Z)}function $U(p,v){var R=p;return R instanceof Ut&&(R=R.value()),wF(v,function(M,z){return z.func.apply(z.thisArg,nd([M],z.args))},R)}function KF(p,v,R){var M=p.length;if(M<2)return M?ld(p[0]):[];for(var z=-1,Z=Se(M);++z<M;)for(var ne=p[z],ae=-1;++ae<M;)ae!=z&&(Z[z]=zC(Z[z]||ne,p[ae],v,R));return ld(On(Z,1),v,R)}function BU(p,v,R){for(var M=-1,z=p.length,Z=v.length,ne={};++M<z;){var ae=M<Z?v[M]:i;R(ne,p[M],ae)}return ne}function YF(p){return Ar(p)?p:[]}function qF(p){return typeof p=="function"?p:$s}function ud(p,v){return At(p)?p:nI(p,v)?[p]:vz(mi(p))}var spe=Nt;function cd(p,v,R){var M=p.length;return R=R===i?M:R,!v&&R>=M?p:oa(p,v,R)}var WU=jde||function(p){return An.clearTimeout(p)};function UU(p,v){if(v)return p.slice();var R=p.length,M=dU?dU(R):new p.constructor(R);return p.copy(M),M}function XF(p){var v=new p.constructor(p.byteLength);return new RR(v).set(new RR(p)),v}function ope(p,v){var R=v?XF(p.buffer):p.buffer;return new p.constructor(R,p.byteOffset,p.byteLength)}function ape(p){var v=new p.constructor(p.source,P2.exec(p));return v.lastIndex=p.lastIndex,v}function lpe(p){return WC?Mi(WC.call(p)):{}}function zU(p,v){var R=v?XF(p.buffer):p.buffer;return new p.constructor(R,p.byteOffset,p.length)}function jU(p,v){if(p!==v){var R=p!==i,M=p===null,z=p===p,Z=go(p),ne=v!==i,ae=v===null,ve=v===v,xe=go(v);if(!ae&&!xe&&!Z&&p>v||Z&&ne&&ve&&!ae&&!xe||M&&ne&&ve||!R&&ve||!z)return 1;if(!M&&!Z&&!xe&&p<v||xe&&R&&z&&!M&&!Z||ae&&R&&z||!ne&&z||!ve)return-1}return 0}function upe(p,v,R){for(var M=-1,z=p.criteria,Z=v.criteria,ne=z.length,ae=R.length;++M<ne;){var ve=jU(z[M],Z[M]);if(ve){if(M>=ae)return ve;var xe=R[M];return ve*(xe=="desc"?-1:1)}}return p.index-v.index}function KU(p,v,R,M){for(var z=-1,Z=p.length,ne=R.length,ae=-1,ve=v.length,xe=Zr(Z-ne,0),Ae=Se(ve+xe),Ne=!M;++ae<ve;)Ae[ae]=v[ae];for(;++z<ne;)(Ne||z<Z)&&(Ae[R[z]]=p[z]);for(;xe--;)Ae[ae++]=p[z++];return Ae}function YU(p,v,R,M){for(var z=-1,Z=p.length,ne=-1,ae=R.length,ve=-1,xe=v.length,Ae=Zr(Z-ae,0),Ne=Se(Ae+xe),Ke=!M;++z<Ae;)Ne[z]=p[z];for(var nt=z;++ve<xe;)Ne[nt+ve]=v[ve];for(;++ne<ae;)(Ke||z<Z)&&(Ne[nt+R[ne]]=p[z++]);return Ne}function ks(p,v){var R=-1,M=p.length;for(v||(v=Se(M));++R<M;)v[R]=p[R];return v}function jl(p,v,R,M){var z=!R;R||(R={});for(var Z=-1,ne=v.length;++Z<ne;){var ae=v[Z],ve=M?M(R[ae],p[ae],ae,R,p):i;ve===i&&(ve=p[ae]),z?Wu(R,ae,ve):UC(R,ae,ve)}return R}function cpe(p,v){return jl(p,rI(p),v)}function dpe(p,v){return jl(p,az(p),v)}function VR(p,v){return function(R,M){var z=At(R)?mde:Ihe,Z=v?v():{};return z(R,p,vt(M,2),Z)}}function fg(p){return Nt(function(v,R){var M=-1,z=R.length,Z=z>1?R[z-1]:i,ne=z>2?R[2]:i;for(Z=p.length>3&&typeof Z=="function"?(z--,Z):i,ne&&hs(R[0],R[1],ne)&&(Z=z<3?i:Z,z=1),v=Mi(v);++M<z;){var ae=R[M];ae&&p(v,ae,M,Z)}return v})}function qU(p,v){return function(R,M){if(R==null)return R;if(!Vs(R))return p(R,M);for(var z=R.length,Z=v?z:-1,ne=Mi(R);(v?Z--:++Z<z)&&M(ne[Z],Z,ne)!==!1;);return R}}function XU(p){return function(v,R,M){for(var z=-1,Z=Mi(v),ne=M(v),ae=ne.length;ae--;){var ve=ne[p?ae:++z];if(R(Z[ve],ve,Z)===!1)break}return v}}function hpe(p,v,R){var M=v&C,z=qC(p);function Z(){var ne=this&&this!==An&&this instanceof Z?z:p;return ne.apply(M?R:this,arguments)}return Z}function QU(p){return function(v){v=mi(v);var R=ag(v)?il(v):i,M=R?R[0]:v.charAt(0),z=R?cd(R,1).join(""):v.slice(1);return M[p]()+z}}function gg(p){return function(v){return wF(qz(Yz(v).replace(ide,"")),p,"")}}function qC(p){return function(){var v=arguments;switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3]);case 5:return new p(v[0],v[1],v[2],v[3],v[4]);case 6:return new p(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new p(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var R=pg(p.prototype),M=p.apply(R,v);return fr(M)?M:R}}function ppe(p,v,R){var M=qC(p);function z(){for(var Z=arguments.length,ne=Se(Z),ae=Z,ve=mg(z);ae--;)ne[ae]=arguments[ae];var xe=Z<3&&ne[0]!==ve&&ne[Z-1]!==ve?[]:sd(ne,ve);if(Z-=xe.length,Z<R)return iz(p,v,HR,z.placeholder,i,ne,xe,i,i,R-Z);var Ae=this&&this!==An&&this instanceof z?M:p;return ho(Ae,this,ne)}return z}function ZU(p){return function(v,R,M){var z=Mi(v);if(!Vs(v)){var Z=vt(R,3);v=cn(v),R=function(ae){return Z(z[ae],ae,z)}}var ne=p(v,R,M);return ne>-1?z[Z?v[ne]:ne]:i}}function JU(p){return zu(function(v){var R=v.length,M=R,z=na.prototype.thru;for(p&&v.reverse();M--;){var Z=v[M];if(typeof Z!="function")throw new ra(o);if(z&&!ne&&UR(Z)=="wrapper")var ne=new na([],!0)}for(M=ne?M:R;++M<R;){Z=v[M];var ae=UR(Z),ve=ae=="wrapper"?tI(Z):i;ve&&sI(ve[0])&&ve[1]==(P|w|b|O)&&!ve[4].length&&ve[9]==1?ne=ne[UR(ve[0])].apply(ne,ve[3]):ne=Z.length==1&&sI(Z)?ne[ae]():ne.thru(Z)}return function(){var xe=arguments,Ae=xe[0];if(ne&&xe.length==1&&At(Ae))return ne.plant(Ae).value();for(var Ne=0,Ke=R?v[Ne].apply(this,xe):Ae;++Ne<R;)Ke=v[Ne].call(this,Ke);return Ke}})}function HR(p,v,R,M,z,Z,ne,ae,ve,xe){var Ae=v&P,Ne=v&C,Ke=v&S,nt=v&(w|E),yt=v&N,Lt=Ke?i:qC(p);function St(){for(var Bt=arguments.length,qt=Se(Bt),mo=Bt;mo--;)qt[mo]=arguments[mo];if(nt)var ps=mg(St),vo=Tde(qt,ps);if(M&&(qt=KU(qt,M,z,nt)),Z&&(qt=YU(qt,Z,ne,nt)),Bt-=vo,nt&&Bt<xe){var Or=sd(qt,ps);return iz(p,v,HR,St.placeholder,R,qt,Or,ae,ve,xe-Bt)}var sl=Ne?R:this,qu=Ke?sl[p]:p;return Bt=qt.length,ae?qt=Ipe(qt,ae):yt&&Bt>1&&qt.reverse(),Ae&&ve<Bt&&(qt.length=ve),this&&this!==An&&this instanceof St&&(qu=Lt||qC(qu)),qu.apply(sl,qt)}return St}function ez(p,v){return function(R,M){return $he(R,p,v(M),{})}}function $R(p,v){return function(R,M){var z;if(R===i&&M===i)return v;if(R!==i&&(z=R),M!==i){if(z===i)return M;typeof R=="string"||typeof M=="string"?(R=fo(R),M=fo(M)):(R=VU(R),M=VU(M)),z=p(R,M)}return z}}function QF(p){return zu(function(v){return v=nr(v,po(vt())),Nt(function(R){var M=this;return p(v,function(z){return ho(z,M,R)})})})}function BR(p,v){v=v===i?" ":fo(v);var R=v.length;if(R<2)return R?UF(v,p):v;var M=UF(v,xR(p/lg(v)));return ag(v)?cd(il(M),0,p).join(""):M.slice(0,p)}function fpe(p,v,R,M){var z=v&C,Z=qC(p);function ne(){for(var ae=-1,ve=arguments.length,xe=-1,Ae=M.length,Ne=Se(Ae+ve),Ke=this&&this!==An&&this instanceof ne?Z:p;++xe<Ae;)Ne[xe]=M[xe];for(;ve--;)Ne[xe++]=arguments[++ae];return ho(Ke,z?R:this,Ne)}return ne}function tz(p){return function(v,R,M){return M&&typeof M!="number"&&hs(v,R,M)&&(R=M=i),v=Yu(v),R===i?(R=v,v=0):R=Yu(R),M=M===i?v<R?1:-1:Yu(M),Jhe(v,R,M,p)}}function WR(p){return function(v,R){return typeof v=="string"&&typeof R=="string"||(v=la(v),R=la(R)),p(v,R)}}function iz(p,v,R,M,z,Z,ne,ae,ve,xe){var Ae=v&w,Ne=Ae?ne:i,Ke=Ae?i:ne,nt=Ae?Z:i,yt=Ae?i:Z;v|=Ae?b:D,v&=~(Ae?D:b),v&y||(v&=~(C|S));var Lt=[p,v,z,nt,Ne,yt,Ke,ae,ve,xe],St=R.apply(i,Lt);return sI(p)&&fz(St,Lt),St.placeholder=M,gz(St,p,v)}function ZF(p){var v=Qr[p];return function(R,M){if(R=la(R),M=M==null?0:Bn(Ft(M),292),M&&gU(R)){var z=(mi(R)+"e").split("e"),Z=v(z[0]+"e"+(+z[1]+M));return z=(mi(Z)+"e").split("e"),+(z[0]+"e"+(+z[1]-M))}return v(R)}}var gpe=dg&&1/CR(new dg([,-0]))[1]==Q?function(p){return new dg(p)}:SI;function rz(p){return function(v){var R=Wn(v);return R==fe?xF(v):R==et?Fde(v):Rde(v,p(v))}}function Uu(p,v,R,M,z,Z,ne,ae){var ve=v&S;if(!ve&&typeof p!="function")throw new ra(o);var xe=M?M.length:0;if(xe||(v&=~(b|D),M=z=i),ne=ne===i?ne:Zr(Ft(ne),0),ae=ae===i?ae:Ft(ae),xe-=z?z.length:0,v&D){var Ae=M,Ne=z;M=z=i}var Ke=ve?i:tI(p),nt=[p,v,R,M,z,Ae,Ne,Z,ne,ae];if(Ke&&Ope(nt,Ke),p=nt[0],v=nt[1],R=nt[2],M=nt[3],z=nt[4],ae=nt[9]=nt[9]===i?ve?0:p.length:Zr(nt[9]-xe,0),!ae&&v&(w|E)&&(v&=~(w|E)),!v||v==C)var yt=hpe(p,v,R);else v==w||v==E?yt=ppe(p,v,ae):(v==b||v==(C|b))&&!z.length?yt=fpe(p,v,R,M):yt=HR.apply(i,nt);var Lt=Ke?GU:fz;return gz(Lt(yt,nt),p,v)}function nz(p,v,R,M){return p===i||nl(p,cg[R])&&!Ei.call(M,R)?v:p}function sz(p,v,R,M,z,Z){return fr(p)&&fr(v)&&(Z.set(v,p),NR(p,v,i,sz,Z),Z.delete(v)),p}function mpe(p){return ZC(p)?i:p}function oz(p,v,R,M,z,Z){var ne=R&g,ae=p.length,ve=v.length;if(ae!=ve&&!(ne&&ve>ae))return!1;var xe=Z.get(p),Ae=Z.get(v);if(xe&&Ae)return xe==v&&Ae==p;var Ne=-1,Ke=!0,nt=R&m?new Fh:i;for(Z.set(p,v),Z.set(v,p);++Ne<ae;){var yt=p[Ne],Lt=v[Ne];if(M)var St=ne?M(Lt,yt,Ne,v,p,Z):M(yt,Lt,Ne,p,v,Z);if(St!==i){if(St)continue;Ke=!1;break}if(nt){if(!EF(v,function(Bt,qt){if(!kC(nt,qt)&&(yt===Bt||z(yt,Bt,R,M,Z)))return nt.push(qt)})){Ke=!1;break}}else if(!(yt===Lt||z(yt,Lt,R,M,Z))){Ke=!1;break}}return Z.delete(p),Z.delete(v),Ke}function vpe(p,v,R,M,z,Z,ne){switch(R){case Ht:if(p.byteLength!=v.byteLength||p.byteOffset!=v.byteOffset)return!1;p=p.buffer,v=v.buffer;case xr:return!(p.byteLength!=v.byteLength||!Z(new RR(p),new RR(v)));case Ee:case pe:case we:return nl(+p,+v);case Ce:return p.name==v.name&&p.message==v.message;case mt:case gi:return p==v+"";case fe:var ae=xF;case et:var ve=M&g;if(ae||(ae=CR),p.size!=v.size&&!ve)return!1;var xe=ne.get(p);if(xe)return xe==v;M|=m,ne.set(p,v);var Ae=oz(ae(p),ae(v),M,z,Z,ne);return ne.delete(p),Ae;case wi:if(WC)return WC.call(p)==WC.call(v)}return!1}function Cpe(p,v,R,M,z,Z){var ne=R&g,ae=JF(p),ve=ae.length,xe=JF(v),Ae=xe.length;if(ve!=Ae&&!ne)return!1;for(var Ne=ve;Ne--;){var Ke=ae[Ne];if(!(ne?Ke in v:Ei.call(v,Ke)))return!1}var nt=Z.get(p),yt=Z.get(v);if(nt&&yt)return nt==v&&yt==p;var Lt=!0;Z.set(p,v),Z.set(v,p);for(var St=ne;++Ne<ve;){Ke=ae[Ne];var Bt=p[Ke],qt=v[Ke];if(M)var mo=ne?M(qt,Bt,Ke,v,p,Z):M(Bt,qt,Ke,p,v,Z);if(!(mo===i?Bt===qt||z(Bt,qt,R,M,Z):mo)){Lt=!1;break}St||(St=Ke=="constructor")}if(Lt&&!St){var ps=p.constructor,vo=v.constructor;ps!=vo&&"constructor"in p&&"constructor"in v&&!(typeof ps=="function"&&ps instanceof ps&&typeof vo=="function"&&vo instanceof vo)&&(Lt=!1)}return Z.delete(p),Z.delete(v),Lt}function zu(p){return aI(hz(p,i,wz),p+"")}function JF(p){return DU(p,cn,rI)}function eI(p){return DU(p,Hs,az)}var tI=OR?function(p){return OR.get(p)}:SI;function UR(p){for(var v=p.name+"",R=hg[v],M=Ei.call(hg,v)?R.length:0;M--;){var z=R[M],Z=z.func;if(Z==null||Z==p)return z.name}return v}function mg(p){var v=Ei.call(q,"placeholder")?q:p;return v.placeholder}function vt(){var p=q.iteratee||CI;return p=p===CI?AU:p,arguments.length?p(arguments[0],arguments[1]):p}function zR(p,v){var R=p.__data__;return Dpe(v)?R[typeof v=="string"?"string":"hash"]:R.map}function iI(p){for(var v=cn(p),R=v.length;R--;){var M=v[R],z=p[M];v[R]=[M,z,cz(z)]}return v}function _h(p,v){var R=Ade(p,v);return xU(R)?R:i}function ype(p){var v=Ei.call(p,Oh),R=p[Oh];try{p[Oh]=i;var M=!0}catch{}var z=ER.call(p);return M&&(v?p[Oh]=R:delete p[Oh]),z}var rI=OF?function(p){return p==null?[]:(p=Mi(p),rd(OF(p),function(v){return pU.call(p,v)}))}:wI,az=OF?function(p){for(var v=[];p;)nd(v,rI(p)),p=TR(p);return v}:wI,Wn=ds;(MF&&Wn(new MF(new ArrayBuffer(1)))!=Ht||HC&&Wn(new HC)!=fe||FF&&Wn(FF.resolve())!=Ve||dg&&Wn(new dg)!=et||$C&&Wn(new $C)!=Cr)&&(Wn=function(p){var v=ds(p),R=v==Be?p.constructor:i,M=R?Nh(R):"";if(M)switch(M){case the:return Ht;case ihe:return fe;case rhe:return Ve;case nhe:return et;case she:return Cr}return v});function Spe(p,v,R){for(var M=-1,z=R.length;++M<z;){var Z=R[M],ne=Z.size;switch(Z.type){case"drop":p+=ne;break;case"dropRight":v-=ne;break;case"take":v=Bn(v,p+ne);break;case"takeRight":p=Zr(p,v-ne);break}}return{start:p,end:v}}function wpe(p){var v=p.match(Pce);return v?v[1].split(xce):[]}function lz(p,v,R){v=ud(v,p);for(var M=-1,z=v.length,Z=!1;++M<z;){var ne=Kl(v[M]);if(!(Z=p!=null&&R(p,ne)))break;p=p[ne]}return Z||++M!=z?Z:(z=p==null?0:p.length,!!z&&ZR(z)&&ju(ne,z)&&(At(p)||Gh(p)))}function Epe(p){var v=p.length,R=new p.constructor(v);return v&&typeof p[0]=="string"&&Ei.call(p,"index")&&(R.index=p.index,R.input=p.input),R}function uz(p){return typeof p.constructor=="function"&&!XC(p)?pg(TR(p)):{}}function bpe(p,v,R){var M=p.constructor;switch(v){case xr:return XF(p);case Ee:case pe:return new M(+p);case Ht:return ope(p,R);case pt:case cs:case el:case co:case dt:case Zt:case Ki:case Gs:case id:return zU(p,R);case fe:return new M;case we:case gi:return new M(p);case mt:return ape(p);case et:return new M;case wi:return lpe(p)}}function Rpe(p,v){var R=v.length;if(!R)return p;var M=R-1;return v[M]=(R>1?"& ":"")+v[M],v=v.join(R>2?", ":" "),p.replace(Dce,`{
/* [wrapped with `+v+`] */
`)}function Tpe(p){return At(p)||Gh(p)||!!(fU&&p&&p[fU])}function ju(p,v){var R=typeof p;return v=v??H,!!v&&(R=="number"||R!="symbol"&&Gce.test(p))&&p>-1&&p%1==0&&p<v}function hs(p,v,R){if(!fr(R))return!1;var M=typeof v;return(M=="number"?Vs(R)&&ju(v,R.length):M=="string"&&v in R)?nl(R[v],p):!1}function nI(p,v){if(At(p))return!1;var R=typeof p;return R=="number"||R=="symbol"||R=="boolean"||p==null||go(p)?!0:Ece.test(p)||!wce.test(p)||v!=null&&p in Mi(v)}function Dpe(p){var v=typeof p;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?p!=="__proto__":p===null}function sI(p){var v=UR(p),R=q[v];if(typeof R!="function"||!(v in Ut.prototype))return!1;if(p===R)return!0;var M=tI(R);return!!M&&p===M[0]}function Ppe(p){return!!cU&&cU in p}var xpe=SR?Ku:EI;function XC(p){var v=p&&p.constructor,R=typeof v=="function"&&v.prototype||cg;return p===R}function cz(p){return p===p&&!fr(p)}function dz(p,v){return function(R){return R==null?!1:R[p]===v&&(v!==i||p in Mi(R))}}function Ape(p){var v=XR(p,function(M){return R.size===u&&R.clear(),M}),R=v.cache;return v}function Ope(p,v){var R=p[1],M=v[1],z=R|M,Z=z<(C|S|P),ne=M==P&&R==w||M==P&&R==O&&p[7].length<=v[8]||M==(P|O)&&v[7].length<=v[8]&&R==w;if(!(Z||ne))return p;M&C&&(p[2]=v[2],z|=R&C?0:y);var ae=v[3];if(ae){var ve=p[3];p[3]=ve?KU(ve,ae,v[4]):ae,p[4]=ve?sd(p[3],c):v[4]}return ae=v[5],ae&&(ve=p[5],p[5]=ve?YU(ve,ae,v[6]):ae,p[6]=ve?sd(p[5],c):v[6]),ae=v[7],ae&&(p[7]=ae),M&P&&(p[8]=p[8]==null?v[8]:Bn(p[8],v[8])),p[9]==null&&(p[9]=v[9]),p[0]=v[0],p[1]=z,p}function Mpe(p){var v=[];if(p!=null)for(var R in Mi(p))v.push(R);return v}function Fpe(p){return ER.call(p)}function hz(p,v,R){return v=Zr(v===i?p.length-1:v,0),function(){for(var M=arguments,z=-1,Z=Zr(M.length-v,0),ne=Se(Z);++z<Z;)ne[z]=M[v+z];z=-1;for(var ae=Se(v+1);++z<v;)ae[z]=M[z];return ae[v]=R(ne),ho(p,this,ae)}}function pz(p,v){return v.length<2?p:Lh(p,oa(v,0,-1))}function Ipe(p,v){for(var R=p.length,M=Bn(v.length,R),z=ks(p);M--;){var Z=v[M];p[M]=ju(Z,R)?z[Z]:i}return p}function oI(p,v){if(!(v==="constructor"&&typeof p[v]=="function")&&v!="__proto__")return p[v]}var fz=mz(GU),QC=Yde||function(p,v){return An.setTimeout(p,v)},aI=mz(ipe);function gz(p,v,R){var M=v+"";return aI(p,Rpe(M,Lpe(wpe(M),R)))}function mz(p){var v=0,R=0;return function(){var M=Zde(),z=B-(M-R);if(R=M,z>0){if(++v>=k)return arguments[0]}else v=0;return p.apply(i,arguments)}}function jR(p,v){var R=-1,M=p.length,z=M-1;for(v=v===i?M:v;++R<v;){var Z=WF(R,z),ne=p[Z];p[Z]=p[R],p[R]=ne}return p.length=v,p}var vz=Ape(function(p){var v=[];return p.charCodeAt(0)===46&&v.push(""),p.replace(bce,function(R,M,z,Z){v.push(z?Z.replace(Mce,"$1"):M||R)}),v});function Kl(p){if(typeof p=="string"||go(p))return p;var v=p+"";return v=="0"&&1/p==-Q?"-0":v}function Nh(p){if(p!=null){try{return wR.call(p)}catch{}try{return p+""}catch{}}return""}function Lpe(p,v){return ia(ue,function(R){var M="_."+R[0];v&R[1]&&!mR(p,M)&&p.push(M)}),p.sort()}function Cz(p){if(p instanceof Ut)return p.clone();var v=new na(p.__wrapped__,p.__chain__);return v.__actions__=ks(p.__actions__),v.__index__=p.__index__,v.__values__=p.__values__,v}function _pe(p,v,R){(R?hs(p,v,R):v===i)?v=1:v=Zr(Ft(v),0);var M=p==null?0:p.length;if(!M||v<1)return[];for(var z=0,Z=0,ne=Se(xR(M/v));z<M;)ne[Z++]=oa(p,z,z+=v);return ne}function Npe(p){for(var v=-1,R=p==null?0:p.length,M=0,z=[];++v<R;){var Z=p[v];Z&&(z[M++]=Z)}return z}function Gpe(){var p=arguments.length;if(!p)return[];for(var v=Se(p-1),R=arguments[0],M=p;M--;)v[M-1]=arguments[M];return nd(At(R)?ks(R):[R],On(v,1))}var kpe=Nt(function(p,v){return Ar(p)?zC(p,On(v,1,Ar,!0)):[]}),Vpe=Nt(function(p,v){var R=aa(v);return Ar(R)&&(R=i),Ar(p)?zC(p,On(v,1,Ar,!0),vt(R,2)):[]}),Hpe=Nt(function(p,v){var R=aa(v);return Ar(R)&&(R=i),Ar(p)?zC(p,On(v,1,Ar,!0),i,R):[]});function $pe(p,v,R){var M=p==null?0:p.length;return M?(v=R||v===i?1:Ft(v),oa(p,v<0?0:v,M)):[]}function Bpe(p,v,R){var M=p==null?0:p.length;return M?(v=R||v===i?1:Ft(v),v=M-v,oa(p,0,v<0?0:v)):[]}function Wpe(p,v){return p&&p.length?kR(p,vt(v,3),!0,!0):[]}function Upe(p,v){return p&&p.length?kR(p,vt(v,3),!0):[]}function zpe(p,v,R,M){var z=p==null?0:p.length;return z?(R&&typeof R!="number"&&hs(p,v,R)&&(R=0,M=z),Ghe(p,v,R,M)):[]}function yz(p,v,R){var M=p==null?0:p.length;if(!M)return-1;var z=R==null?0:Ft(R);return z<0&&(z=Zr(M+z,0)),vR(p,vt(v,3),z)}function Sz(p,v,R){var M=p==null?0:p.length;if(!M)return-1;var z=M-1;return R!==i&&(z=Ft(R),z=R<0?Zr(M+z,0):Bn(z,M-1)),vR(p,vt(v,3),z,!0)}function wz(p){var v=p==null?0:p.length;return v?On(p,1):[]}function jpe(p){var v=p==null?0:p.length;return v?On(p,Q):[]}function Kpe(p,v){var R=p==null?0:p.length;return R?(v=v===i?1:Ft(v),On(p,v)):[]}function Ype(p){for(var v=-1,R=p==null?0:p.length,M={};++v<R;){var z=p[v];M[z[0]]=z[1]}return M}function Ez(p){return p&&p.length?p[0]:i}function qpe(p,v,R){var M=p==null?0:p.length;if(!M)return-1;var z=R==null?0:Ft(R);return z<0&&(z=Zr(M+z,0)),og(p,v,z)}function Xpe(p){var v=p==null?0:p.length;return v?oa(p,0,-1):[]}var Qpe=Nt(function(p){var v=nr(p,YF);return v.length&&v[0]===p[0]?kF(v):[]}),Zpe=Nt(function(p){var v=aa(p),R=nr(p,YF);return v===aa(R)?v=i:R.pop(),R.length&&R[0]===p[0]?kF(R,vt(v,2)):[]}),Jpe=Nt(function(p){var v=aa(p),R=nr(p,YF);return v=typeof v=="function"?v:i,v&&R.pop(),R.length&&R[0]===p[0]?kF(R,i,v):[]});function efe(p,v){return p==null?"":Xde.call(p,v)}function aa(p){var v=p==null?0:p.length;return v?p[v-1]:i}function tfe(p,v,R){var M=p==null?0:p.length;if(!M)return-1;var z=M;return R!==i&&(z=Ft(R),z=z<0?Zr(M+z,0):Bn(z,M-1)),v===v?Lde(p,v,z):vR(p,iU,z,!0)}function ife(p,v){return p&&p.length?IU(p,Ft(v)):i}var rfe=Nt(bz);function bz(p,v){return p&&p.length&&v&&v.length?BF(p,v):p}function nfe(p,v,R){return p&&p.length&&v&&v.length?BF(p,v,vt(R,2)):p}function sfe(p,v,R){return p&&p.length&&v&&v.length?BF(p,v,i,R):p}var ofe=zu(function(p,v){var R=p==null?0:p.length,M=LF(p,v);return NU(p,nr(v,function(z){return ju(z,R)?+z:z}).sort(jU)),M});function afe(p,v){var R=[];if(!(p&&p.length))return R;var M=-1,z=[],Z=p.length;for(v=vt(v,3);++M<Z;){var ne=p[M];v(ne,M,p)&&(R.push(ne),z.push(M))}return NU(p,z),R}function lI(p){return p==null?p:ehe.call(p)}function lfe(p,v,R){var M=p==null?0:p.length;return M?(R&&typeof R!="number"&&hs(p,v,R)?(v=0,R=M):(v=v==null?0:Ft(v),R=R===i?M:Ft(R)),oa(p,v,R)):[]}function ufe(p,v){return GR(p,v)}function cfe(p,v,R){return zF(p,v,vt(R,2))}function dfe(p,v){var R=p==null?0:p.length;if(R){var M=GR(p,v);if(M<R&&nl(p[M],v))return M}return-1}function hfe(p,v){return GR(p,v,!0)}function pfe(p,v,R){return zF(p,v,vt(R,2),!0)}function ffe(p,v){var R=p==null?0:p.length;if(R){var M=GR(p,v,!0)-1;if(nl(p[M],v))return M}return-1}function gfe(p){return p&&p.length?kU(p):[]}function mfe(p,v){return p&&p.length?kU(p,vt(v,2)):[]}function vfe(p){var v=p==null?0:p.length;return v?oa(p,1,v):[]}function Cfe(p,v,R){return p&&p.length?(v=R||v===i?1:Ft(v),oa(p,0,v<0?0:v)):[]}function yfe(p,v,R){var M=p==null?0:p.length;return M?(v=R||v===i?1:Ft(v),v=M-v,oa(p,v<0?0:v,M)):[]}function Sfe(p,v){return p&&p.length?kR(p,vt(v,3),!1,!0):[]}function wfe(p,v){return p&&p.length?kR(p,vt(v,3)):[]}var Efe=Nt(function(p){return ld(On(p,1,Ar,!0))}),bfe=Nt(function(p){var v=aa(p);return Ar(v)&&(v=i),ld(On(p,1,Ar,!0),vt(v,2))}),Rfe=Nt(function(p){var v=aa(p);return v=typeof v=="function"?v:i,ld(On(p,1,Ar,!0),i,v)});function Tfe(p){return p&&p.length?ld(p):[]}function Dfe(p,v){return p&&p.length?ld(p,vt(v,2)):[]}function Pfe(p,v){return v=typeof v=="function"?v:i,p&&p.length?ld(p,i,v):[]}function uI(p){if(!(p&&p.length))return[];var v=0;return p=rd(p,function(R){if(Ar(R))return v=Zr(R.length,v),!0}),DF(v,function(R){return nr(p,bF(R))})}function Rz(p,v){if(!(p&&p.length))return[];var R=uI(p);return v==null?R:nr(R,function(M){return ho(v,i,M)})}var xfe=Nt(function(p,v){return Ar(p)?zC(p,v):[]}),Afe=Nt(function(p){return KF(rd(p,Ar))}),Ofe=Nt(function(p){var v=aa(p);return Ar(v)&&(v=i),KF(rd(p,Ar),vt(v,2))}),Mfe=Nt(function(p){var v=aa(p);return v=typeof v=="function"?v:i,KF(rd(p,Ar),i,v)}),Ffe=Nt(uI);function Ife(p,v){return BU(p||[],v||[],UC)}function Lfe(p,v){return BU(p||[],v||[],YC)}var _fe=Nt(function(p){var v=p.length,R=v>1?p[v-1]:i;return R=typeof R=="function"?(p.pop(),R):i,Rz(p,R)});function Tz(p){var v=q(p);return v.__chain__=!0,v}function Nfe(p,v){return v(p),p}function KR(p,v){return v(p)}var Gfe=zu(function(p){var v=p.length,R=v?p[0]:0,M=this.__wrapped__,z=function(Z){return LF(Z,p)};return v>1||this.__actions__.length||!(M instanceof Ut)||!ju(R)?this.thru(z):(M=M.slice(R,+R+(v?1:0)),M.__actions__.push({func:KR,args:[z],thisArg:i}),new na(M,this.__chain__).thru(function(Z){return v&&!Z.length&&Z.push(i),Z}))});function kfe(){return Tz(this)}function Vfe(){return new na(this.value(),this.__chain__)}function Hfe(){this.__values__===i&&(this.__values__=Vz(this.value()));var p=this.__index__>=this.__values__.length,v=p?i:this.__values__[this.__index__++];return{done:p,value:v}}function $fe(){return this}function Bfe(p){for(var v,R=this;R instanceof FR;){var M=Cz(R);M.__index__=0,M.__values__=i,v?z.__wrapped__=M:v=M;var z=M;R=R.__wrapped__}return z.__wrapped__=p,v}function Wfe(){var p=this.__wrapped__;if(p instanceof Ut){var v=p;return this.__actions__.length&&(v=new Ut(this)),v=v.reverse(),v.__actions__.push({func:KR,args:[lI],thisArg:i}),new na(v,this.__chain__)}return this.thru(lI)}function Ufe(){return $U(this.__wrapped__,this.__actions__)}var zfe=VR(function(p,v,R){Ei.call(p,R)?++p[R]:Wu(p,R,1)});function jfe(p,v,R){var M=At(p)?eU:Nhe;return R&&hs(p,v,R)&&(v=i),M(p,vt(v,3))}function Kfe(p,v){var R=At(p)?rd:RU;return R(p,vt(v,3))}var Yfe=ZU(yz),qfe=ZU(Sz);function Xfe(p,v){return On(YR(p,v),1)}function Qfe(p,v){return On(YR(p,v),Q)}function Zfe(p,v,R){return R=R===i?1:Ft(R),On(YR(p,v),R)}function Dz(p,v){var R=At(p)?ia:ad;return R(p,vt(v,3))}function Pz(p,v){var R=At(p)?vde:bU;return R(p,vt(v,3))}var Jfe=VR(function(p,v,R){Ei.call(p,R)?p[R].push(v):Wu(p,R,[v])});function ege(p,v,R,M){p=Vs(p)?p:Cg(p),R=R&&!M?Ft(R):0;var z=p.length;return R<0&&(R=Zr(z+R,0)),JR(p)?R<=z&&p.indexOf(v,R)>-1:!!z&&og(p,v,R)>-1}var tge=Nt(function(p,v,R){var M=-1,z=typeof v=="function",Z=Vs(p)?Se(p.length):[];return ad(p,function(ne){Z[++M]=z?ho(v,ne,R):jC(ne,v,R)}),Z}),ige=VR(function(p,v,R){Wu(p,R,v)});function YR(p,v){var R=At(p)?nr:OU;return R(p,vt(v,3))}function rge(p,v,R,M){return p==null?[]:(At(v)||(v=v==null?[]:[v]),R=M?i:R,At(R)||(R=R==null?[]:[R]),LU(p,v,R))}var nge=VR(function(p,v,R){p[R?0:1].push(v)},function(){return[[],[]]});function sge(p,v,R){var M=At(p)?wF:nU,z=arguments.length<3;return M(p,vt(v,4),R,z,ad)}function oge(p,v,R){var M=At(p)?Cde:nU,z=arguments.length<3;return M(p,vt(v,4),R,z,bU)}function age(p,v){var R=At(p)?rd:RU;return R(p,QR(vt(v,3)))}function lge(p){var v=At(p)?yU:epe;return v(p)}function uge(p,v,R){(R?hs(p,v,R):v===i)?v=1:v=Ft(v);var M=At(p)?Mhe:tpe;return M(p,v)}function cge(p){var v=At(p)?Fhe:rpe;return v(p)}function dge(p){if(p==null)return 0;if(Vs(p))return JR(p)?lg(p):p.length;var v=Wn(p);return v==fe||v==et?p.size:HF(p).length}function hge(p,v,R){var M=At(p)?EF:npe;return R&&hs(p,v,R)&&(v=i),M(p,vt(v,3))}var pge=Nt(function(p,v){if(p==null)return[];var R=v.length;return R>1&&hs(p,v[0],v[1])?v=[]:R>2&&hs(v[0],v[1],v[2])&&(v=[v[0]]),LU(p,On(v,1),[])}),qR=Kde||function(){return An.Date.now()};function fge(p,v){if(typeof v!="function")throw new ra(o);return p=Ft(p),function(){if(--p<1)return v.apply(this,arguments)}}function xz(p,v,R){return v=R?i:v,v=p&&v==null?p.length:v,Uu(p,P,i,i,i,i,v)}function Az(p,v){var R;if(typeof v!="function")throw new ra(o);return p=Ft(p),function(){return--p>0&&(R=v.apply(this,arguments)),p<=1&&(v=i),R}}var cI=Nt(function(p,v,R){var M=C;if(R.length){var z=sd(R,mg(cI));M|=b}return Uu(p,M,v,R,z)}),Oz=Nt(function(p,v,R){var M=C|S;if(R.length){var z=sd(R,mg(Oz));M|=b}return Uu(v,M,p,R,z)});function Mz(p,v,R){v=R?i:v;var M=Uu(p,w,i,i,i,i,i,v);return M.placeholder=Mz.placeholder,M}function Fz(p,v,R){v=R?i:v;var M=Uu(p,E,i,i,i,i,i,v);return M.placeholder=Fz.placeholder,M}function Iz(p,v,R){var M,z,Z,ne,ae,ve,xe=0,Ae=!1,Ne=!1,Ke=!0;if(typeof p!="function")throw new ra(o);v=la(v)||0,fr(R)&&(Ae=!!R.leading,Ne="maxWait"in R,Z=Ne?Zr(la(R.maxWait)||0,v):Z,Ke="trailing"in R?!!R.trailing:Ke);function nt(Or){var sl=M,qu=z;return M=z=i,xe=Or,ne=p.apply(qu,sl),ne}function yt(Or){return xe=Or,ae=QC(Bt,v),Ae?nt(Or):ne}function Lt(Or){var sl=Or-ve,qu=Or-xe,Zz=v-sl;return Ne?Bn(Zz,Z-qu):Zz}function St(Or){var sl=Or-ve,qu=Or-xe;return ve===i||sl>=v||sl<0||Ne&&qu>=Z}function Bt(){var Or=qR();if(St(Or))return qt(Or);ae=QC(Bt,Lt(Or))}function qt(Or){return ae=i,Ke&&M?nt(Or):(M=z=i,ne)}function mo(){ae!==i&&WU(ae),xe=0,M=ve=z=ae=i}function ps(){return ae===i?ne:qt(qR())}function vo(){var Or=qR(),sl=St(Or);if(M=arguments,z=this,ve=Or,sl){if(ae===i)return yt(ve);if(Ne)return WU(ae),ae=QC(Bt,v),nt(ve)}return ae===i&&(ae=QC(Bt,v)),ne}return vo.cancel=mo,vo.flush=ps,vo}var gge=Nt(function(p,v){return EU(p,1,v)}),mge=Nt(function(p,v,R){return EU(p,la(v)||0,R)});function vge(p){return Uu(p,N)}function XR(p,v){if(typeof p!="function"||v!=null&&typeof v!="function")throw new ra(o);var R=function(){var M=arguments,z=v?v.apply(this,M):M[0],Z=R.cache;if(Z.has(z))return Z.get(z);var ne=p.apply(this,M);return R.cache=Z.set(z,ne)||Z,ne};return R.cache=new(XR.Cache||Bu),R}XR.Cache=Bu;function QR(p){if(typeof p!="function")throw new ra(o);return function(){var v=arguments;switch(v.length){case 0:return!p.call(this);case 1:return!p.call(this,v[0]);case 2:return!p.call(this,v[0],v[1]);case 3:return!p.call(this,v[0],v[1],v[2])}return!p.apply(this,v)}}function Cge(p){return Az(2,p)}var yge=spe(function(p,v){v=v.length==1&&At(v[0])?nr(v[0],po(vt())):nr(On(v,1),po(vt()));var R=v.length;return Nt(function(M){for(var z=-1,Z=Bn(M.length,R);++z<Z;)M[z]=v[z].call(this,M[z]);return ho(p,this,M)})}),dI=Nt(function(p,v){var R=sd(v,mg(dI));return Uu(p,b,i,v,R)}),Lz=Nt(function(p,v){var R=sd(v,mg(Lz));return Uu(p,D,i,v,R)}),Sge=zu(function(p,v){return Uu(p,O,i,i,i,v)});function wge(p,v){if(typeof p!="function")throw new ra(o);return v=v===i?v:Ft(v),Nt(p,v)}function Ege(p,v){if(typeof p!="function")throw new ra(o);return v=v==null?0:Zr(Ft(v),0),Nt(function(R){var M=R[v],z=cd(R,0,v);return M&&nd(z,M),ho(p,this,z)})}function bge(p,v,R){var M=!0,z=!0;if(typeof p!="function")throw new ra(o);return fr(R)&&(M="leading"in R?!!R.leading:M,z="trailing"in R?!!R.trailing:z),Iz(p,v,{leading:M,maxWait:v,trailing:z})}function Rge(p){return xz(p,1)}function Tge(p,v){return dI(qF(v),p)}function Dge(){if(!arguments.length)return[];var p=arguments[0];return At(p)?p:[p]}function Pge(p){return sa(p,f)}function xge(p,v){return v=typeof v=="function"?v:i,sa(p,f,v)}function Age(p){return sa(p,d|f)}function Oge(p,v){return v=typeof v=="function"?v:i,sa(p,d|f,v)}function Mge(p,v){return v==null||wU(p,v,cn(v))}function nl(p,v){return p===v||p!==p&&v!==v}var Fge=WR(GF),Ige=WR(function(p,v){return p>=v}),Gh=PU(function(){return arguments}())?PU:function(p){return yr(p)&&Ei.call(p,"callee")&&!pU.call(p,"callee")},At=Se.isArray,Lge=Y2?po(Y2):Bhe;function Vs(p){return p!=null&&ZR(p.length)&&!Ku(p)}function Ar(p){return yr(p)&&Vs(p)}function _ge(p){return p===!0||p===!1||yr(p)&&ds(p)==Ee}var dd=qde||EI,Nge=q2?po(q2):Whe;function Gge(p){return yr(p)&&p.nodeType===1&&!ZC(p)}function kge(p){if(p==null)return!0;if(Vs(p)&&(At(p)||typeof p=="string"||typeof p.splice=="function"||dd(p)||vg(p)||Gh(p)))return!p.length;var v=Wn(p);if(v==fe||v==et)return!p.size;if(XC(p))return!HF(p).length;for(var R in p)if(Ei.call(p,R))return!1;return!0}function Vge(p,v){return KC(p,v)}function Hge(p,v,R){R=typeof R=="function"?R:i;var M=R?R(p,v):i;return M===i?KC(p,v,i,R):!!M}function hI(p){if(!yr(p))return!1;var v=ds(p);return v==Ce||v==ye||typeof p.message=="string"&&typeof p.name=="string"&&!ZC(p)}function $ge(p){return typeof p=="number"&&gU(p)}function Ku(p){if(!fr(p))return!1;var v=ds(p);return v==re||v==oe||v==he||v==qe}function _z(p){return typeof p=="number"&&p==Ft(p)}function ZR(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=H}function fr(p){var v=typeof p;return p!=null&&(v=="object"||v=="function")}function yr(p){return p!=null&&typeof p=="object"}var Nz=X2?po(X2):zhe;function Bge(p,v){return p===v||VF(p,v,iI(v))}function Wge(p,v,R){return R=typeof R=="function"?R:i,VF(p,v,iI(v),R)}function Uge(p){return Gz(p)&&p!=+p}function zge(p){if(xpe(p))throw new xt(s);return xU(p)}function jge(p){return p===null}function Kge(p){return p==null}function Gz(p){return typeof p=="number"||yr(p)&&ds(p)==we}function ZC(p){if(!yr(p)||ds(p)!=Be)return!1;var v=TR(p);if(v===null)return!0;var R=Ei.call(v,"constructor")&&v.constructor;return typeof R=="function"&&R instanceof R&&wR.call(R)==Wde}var pI=Q2?po(Q2):jhe;function Yge(p){return _z(p)&&p>=-H&&p<=H}var kz=Z2?po(Z2):Khe;function JR(p){return typeof p=="string"||!At(p)&&yr(p)&&ds(p)==gi}function go(p){return typeof p=="symbol"||yr(p)&&ds(p)==wi}var vg=J2?po(J2):Yhe;function qge(p){return p===i}function Xge(p){return yr(p)&&Wn(p)==Cr}function Qge(p){return yr(p)&&ds(p)==xn}var Zge=WR($F),Jge=WR(function(p,v){return p<=v});function Vz(p){if(!p)return[];if(Vs(p))return JR(p)?il(p):ks(p);if(VC&&p[VC])return Mde(p[VC]());var v=Wn(p),R=v==fe?xF:v==et?CR:Cg;return R(p)}function Yu(p){if(!p)return p===0?p:0;if(p=la(p),p===Q||p===-Q){var v=p<0?-1:1;return v*X}return p===p?p:0}function Ft(p){var v=Yu(p),R=v%1;return v===v?R?v-R:v:0}function Hz(p){return p?Ih(Ft(p),0,le):0}function la(p){if(typeof p=="number")return p;if(go(p))return te;if(fr(p)){var v=typeof p.valueOf=="function"?p.valueOf():p;p=fr(v)?v+"":v}if(typeof p!="string")return p===0?p:+p;p=sU(p);var R=Lce.test(p);return R||Nce.test(p)?fde(p.slice(2),R?2:8):Ice.test(p)?te:+p}function $z(p){return jl(p,Hs(p))}function eme(p){return p?Ih(Ft(p),-H,H):p===0?p:0}function mi(p){return p==null?"":fo(p)}var tme=fg(function(p,v){if(XC(v)||Vs(v)){jl(v,cn(v),p);return}for(var R in v)Ei.call(v,R)&&UC(p,R,v[R])}),Bz=fg(function(p,v){jl(v,Hs(v),p)}),eT=fg(function(p,v,R,M){jl(v,Hs(v),p,M)}),ime=fg(function(p,v,R,M){jl(v,cn(v),p,M)}),rme=zu(LF);function nme(p,v){var R=pg(p);return v==null?R:SU(R,v)}var sme=Nt(function(p,v){p=Mi(p);var R=-1,M=v.length,z=M>2?v[2]:i;for(z&&hs(v[0],v[1],z)&&(M=1);++R<M;)for(var Z=v[R],ne=Hs(Z),ae=-1,ve=ne.length;++ae<ve;){var xe=ne[ae],Ae=p[xe];(Ae===i||nl(Ae,cg[xe])&&!Ei.call(p,xe))&&(p[xe]=Z[xe])}return p}),ome=Nt(function(p){return p.push(i,sz),ho(Wz,i,p)});function ame(p,v){return tU(p,vt(v,3),zl)}function lme(p,v){return tU(p,vt(v,3),NF)}function ume(p,v){return p==null?p:_F(p,vt(v,3),Hs)}function cme(p,v){return p==null?p:TU(p,vt(v,3),Hs)}function dme(p,v){return p&&zl(p,vt(v,3))}function hme(p,v){return p&&NF(p,vt(v,3))}function pme(p){return p==null?[]:_R(p,cn(p))}function fme(p){return p==null?[]:_R(p,Hs(p))}function fI(p,v,R){var M=p==null?i:Lh(p,v);return M===i?R:M}function gme(p,v){return p!=null&&lz(p,v,khe)}function gI(p,v){return p!=null&&lz(p,v,Vhe)}var mme=ez(function(p,v,R){v!=null&&typeof v.toString!="function"&&(v=ER.call(v)),p[v]=R},vI($s)),vme=ez(function(p,v,R){v!=null&&typeof v.toString!="function"&&(v=ER.call(v)),Ei.call(p,v)?p[v].push(R):p[v]=[R]},vt),Cme=Nt(jC);function cn(p){return Vs(p)?CU(p):HF(p)}function Hs(p){return Vs(p)?CU(p,!0):qhe(p)}function yme(p,v){var R={};return v=vt(v,3),zl(p,function(M,z,Z){Wu(R,v(M,z,Z),M)}),R}function Sme(p,v){var R={};return v=vt(v,3),zl(p,function(M,z,Z){Wu(R,z,v(M,z,Z))}),R}var wme=fg(function(p,v,R){NR(p,v,R)}),Wz=fg(function(p,v,R,M){NR(p,v,R,M)}),Eme=zu(function(p,v){var R={};if(p==null)return R;var M=!1;v=nr(v,function(Z){return Z=ud(Z,p),M||(M=Z.length>1),Z}),jl(p,eI(p),R),M&&(R=sa(R,d|h|f,mpe));for(var z=v.length;z--;)jF(R,v[z]);return R});function bme(p,v){return Uz(p,QR(vt(v)))}var Rme=zu(function(p,v){return p==null?{}:Qhe(p,v)});function Uz(p,v){if(p==null)return{};var R=nr(eI(p),function(M){return[M]});return v=vt(v),_U(p,R,function(M,z){return v(M,z[0])})}function Tme(p,v,R){v=ud(v,p);var M=-1,z=v.length;for(z||(z=1,p=i);++M<z;){var Z=p==null?i:p[Kl(v[M])];Z===i&&(M=z,Z=R),p=Ku(Z)?Z.call(p):Z}return p}function Dme(p,v,R){return p==null?p:YC(p,v,R)}function Pme(p,v,R,M){return M=typeof M=="function"?M:i,p==null?p:YC(p,v,R,M)}var zz=rz(cn),jz=rz(Hs);function xme(p,v,R){var M=At(p),z=M||dd(p)||vg(p);if(v=vt(v,4),R==null){var Z=p&&p.constructor;z?R=M?new Z:[]:fr(p)?R=Ku(Z)?pg(TR(p)):{}:R={}}return(z?ia:zl)(p,function(ne,ae,ve){return v(R,ne,ae,ve)}),R}function Ame(p,v){return p==null?!0:jF(p,v)}function Ome(p,v,R){return p==null?p:HU(p,v,qF(R))}function Mme(p,v,R,M){return M=typeof M=="function"?M:i,p==null?p:HU(p,v,qF(R),M)}function Cg(p){return p==null?[]:PF(p,cn(p))}function Fme(p){return p==null?[]:PF(p,Hs(p))}function Ime(p,v,R){return R===i&&(R=v,v=i),R!==i&&(R=la(R),R=R===R?R:0),v!==i&&(v=la(v),v=v===v?v:0),Ih(la(p),v,R)}function Lme(p,v,R){return v=Yu(v),R===i?(R=v,v=0):R=Yu(R),p=la(p),Hhe(p,v,R)}function _me(p,v,R){if(R&&typeof R!="boolean"&&hs(p,v,R)&&(v=R=i),R===i&&(typeof v=="boolean"?(R=v,v=i):typeof p=="boolean"&&(R=p,p=i)),p===i&&v===i?(p=0,v=1):(p=Yu(p),v===i?(v=p,p=0):v=Yu(v)),p>v){var M=p;p=v,v=M}if(R||p%1||v%1){var z=mU();return Bn(p+z*(v-p+pde("1e-"+((z+"").length-1))),v)}return WF(p,v)}var Nme=gg(function(p,v,R){return v=v.toLowerCase(),p+(R?Kz(v):v)});function Kz(p){return mI(mi(p).toLowerCase())}function Yz(p){return p=mi(p),p&&p.replace(kce,Dde).replace(rde,"")}function Gme(p,v,R){p=mi(p),v=fo(v);var M=p.length;R=R===i?M:Ih(Ft(R),0,M);var z=R;return R-=v.length,R>=0&&p.slice(R,z)==v}function kme(p){return p=mi(p),p&&Cce.test(p)?p.replace(T2,Pde):p}function Vme(p){return p=mi(p),p&&Rce.test(p)?p.replace(dF,"\\$&"):p}var Hme=gg(function(p,v,R){return p+(R?"-":"")+v.toLowerCase()}),$me=gg(function(p,v,R){return p+(R?" ":"")+v.toLowerCase()}),Bme=QU("toLowerCase");function Wme(p,v,R){p=mi(p),v=Ft(v);var M=v?lg(p):0;if(!v||M>=v)return p;var z=(v-M)/2;return BR(AR(z),R)+p+BR(xR(z),R)}function Ume(p,v,R){p=mi(p),v=Ft(v);var M=v?lg(p):0;return v&&M<v?p+BR(v-M,R):p}function zme(p,v,R){p=mi(p),v=Ft(v);var M=v?lg(p):0;return v&&M<v?BR(v-M,R)+p:p}function jme(p,v,R){return R||v==null?v=0:v&&(v=+v),Jde(mi(p).replace(hF,""),v||0)}function Kme(p,v,R){return(R?hs(p,v,R):v===i)?v=1:v=Ft(v),UF(mi(p),v)}function Yme(){var p=arguments,v=mi(p[0]);return p.length<3?v:v.replace(p[1],p[2])}var qme=gg(function(p,v,R){return p+(R?"_":"")+v.toLowerCase()});function Xme(p,v,R){return R&&typeof R!="number"&&hs(p,v,R)&&(v=R=i),R=R===i?le:R>>>0,R?(p=mi(p),p&&(typeof v=="string"||v!=null&&!pI(v))&&(v=fo(v),!v&&ag(p))?cd(il(p),0,R):p.split(v,R)):[]}var Qme=gg(function(p,v,R){return p+(R?" ":"")+mI(v)});function Zme(p,v,R){return p=mi(p),R=R==null?0:Ih(Ft(R),0,p.length),v=fo(v),p.slice(R,R+v.length)==v}function Jme(p,v,R){var M=q.templateSettings;R&&hs(p,v,R)&&(v=i),p=mi(p),v=eT({},v,M,nz);var z=eT({},v.imports,M.imports,nz),Z=cn(z),ne=PF(z,Z),ae,ve,xe=0,Ae=v.interpolate||pR,Ne="__p += '",Ke=AF((v.escape||pR).source+"|"+Ae.source+"|"+(Ae===D2?Fce:pR).source+"|"+(v.evaluate||pR).source+"|$","g"),nt="//# sourceURL="+(Ei.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lde+"]")+`
`;p.replace(Ke,function(St,Bt,qt,mo,ps,vo){return qt||(qt=mo),Ne+=p.slice(xe,vo).replace(Vce,xde),Bt&&(ae=!0,Ne+=`' +
__e(`+Bt+`) +
'`),ps&&(ve=!0,Ne+=`';
`+ps+`;
__p += '`),qt&&(Ne+=`' +
((__t = (`+qt+`)) == null ? '' : __t) +
'`),xe=vo+St.length,St}),Ne+=`';
`;var yt=Ei.call(v,"variable")&&v.variable;if(!yt)Ne=`with (obj) {
`+Ne+`
}
`;else if(Oce.test(yt))throw new xt(a);Ne=(ve?Ne.replace(Yi,""):Ne).replace(ea,"$1").replace(xh,"$1;"),Ne="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(ve?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var Lt=Xz(function(){return li(Z,nt+"return "+Ne).apply(i,ne)});if(Lt.source=Ne,hI(Lt))throw Lt;return Lt}function eve(p){return mi(p).toLowerCase()}function tve(p){return mi(p).toUpperCase()}function ive(p,v,R){if(p=mi(p),p&&(R||v===i))return sU(p);if(!p||!(v=fo(v)))return p;var M=il(p),z=il(v),Z=oU(M,z),ne=aU(M,z)+1;return cd(M,Z,ne).join("")}function rve(p,v,R){if(p=mi(p),p&&(R||v===i))return p.slice(0,uU(p)+1);if(!p||!(v=fo(v)))return p;var M=il(p),z=aU(M,il(v))+1;return cd(M,0,z).join("")}function nve(p,v,R){if(p=mi(p),p&&(R||v===i))return p.replace(hF,"");if(!p||!(v=fo(v)))return p;var M=il(p),z=oU(M,il(v));return cd(M,z).join("")}function sve(p,v){var R=_,M=I;if(fr(v)){var z="separator"in v?v.separator:z;R="length"in v?Ft(v.length):R,M="omission"in v?fo(v.omission):M}p=mi(p);var Z=p.length;if(ag(p)){var ne=il(p);Z=ne.length}if(R>=Z)return p;var ae=R-lg(M);if(ae<1)return M;var ve=ne?cd(ne,0,ae).join(""):p.slice(0,ae);if(z===i)return ve+M;if(ne&&(ae+=ve.length-ae),pI(z)){if(p.slice(ae).search(z)){var xe,Ae=ve;for(z.global||(z=AF(z.source,mi(P2.exec(z))+"g")),z.lastIndex=0;xe=z.exec(Ae);)var Ne=xe.index;ve=ve.slice(0,Ne===i?ae:Ne)}}else if(p.indexOf(fo(z),ae)!=ae){var Ke=ve.lastIndexOf(z);Ke>-1&&(ve=ve.slice(0,Ke))}return ve+M}function ove(p){return p=mi(p),p&&vce.test(p)?p.replace(tl,_de):p}var ave=gg(function(p,v,R){return p+(R?" ":"")+v.toUpperCase()}),mI=QU("toUpperCase");function qz(p,v,R){return p=mi(p),v=R?i:v,v===i?Ode(p)?kde(p):wde(p):p.match(v)||[]}var Xz=Nt(function(p,v){try{return ho(p,i,v)}catch(R){return hI(R)?R:new xt(R)}}),lve=zu(function(p,v){return ia(v,function(R){R=Kl(R),Wu(p,R,cI(p[R],p))}),p});function uve(p){var v=p==null?0:p.length,R=vt();return p=v?nr(p,function(M){if(typeof M[1]!="function")throw new ra(o);return[R(M[0]),M[1]]}):[],Nt(function(M){for(var z=-1;++z<v;){var Z=p[z];if(ho(Z[0],this,M))return ho(Z[1],this,M)}})}function cve(p){return _he(sa(p,d))}function vI(p){return function(){return p}}function dve(p,v){return p==null||p!==p?v:p}var hve=JU(),pve=JU(!0);function $s(p){return p}function CI(p){return AU(typeof p=="function"?p:sa(p,d))}function fve(p){return MU(sa(p,d))}function gve(p,v){return FU(p,sa(v,d))}var mve=Nt(function(p,v){return function(R){return jC(R,p,v)}}),vve=Nt(function(p,v){return function(R){return jC(p,R,v)}});function yI(p,v,R){var M=cn(v),z=_R(v,M);R==null&&!(fr(v)&&(z.length||!M.length))&&(R=v,v=p,p=this,z=_R(v,cn(v)));var Z=!(fr(R)&&"chain"in R)||!!R.chain,ne=Ku(p);return ia(z,function(ae){var ve=v[ae];p[ae]=ve,ne&&(p.prototype[ae]=function(){var xe=this.__chain__;if(Z||xe){var Ae=p(this.__wrapped__),Ne=Ae.__actions__=ks(this.__actions__);return Ne.push({func:ve,args:arguments,thisArg:p}),Ae.__chain__=xe,Ae}return ve.apply(p,nd([this.value()],arguments))})}),p}function Cve(){return An._===this&&(An._=Ude),this}function SI(){}function yve(p){return p=Ft(p),Nt(function(v){return IU(v,p)})}var Sve=QF(nr),wve=QF(eU),Eve=QF(EF);function Qz(p){return nI(p)?bF(Kl(p)):Zhe(p)}function bve(p){return function(v){return p==null?i:Lh(p,v)}}var Rve=tz(),Tve=tz(!0);function wI(){return[]}function EI(){return!1}function Dve(){return{}}function Pve(){return""}function xve(){return!0}function Ave(p,v){if(p=Ft(p),p<1||p>H)return[];var R=le,M=Bn(p,le);v=vt(v),p-=le;for(var z=DF(M,v);++R<p;)v(R);return z}function Ove(p){return At(p)?nr(p,Kl):go(p)?[p]:ks(vz(mi(p)))}function Mve(p){var v=++Bde;return mi(p)+v}var Fve=$R(function(p,v){return p+v},0),Ive=ZF("ceil"),Lve=$R(function(p,v){return p/v},1),_ve=ZF("floor");function Nve(p){return p&&p.length?LR(p,$s,GF):i}function Gve(p,v){return p&&p.length?LR(p,vt(v,2),GF):i}function kve(p){return rU(p,$s)}function Vve(p,v){return rU(p,vt(v,2))}function Hve(p){return p&&p.length?LR(p,$s,$F):i}function $ve(p,v){return p&&p.length?LR(p,vt(v,2),$F):i}var Bve=$R(function(p,v){return p*v},1),Wve=ZF("round"),Uve=$R(function(p,v){return p-v},0);function zve(p){return p&&p.length?TF(p,$s):0}function jve(p,v){return p&&p.length?TF(p,vt(v,2)):0}return q.after=fge,q.ary=xz,q.assign=tme,q.assignIn=Bz,q.assignInWith=eT,q.assignWith=ime,q.at=rme,q.before=Az,q.bind=cI,q.bindAll=lve,q.bindKey=Oz,q.castArray=Dge,q.chain=Tz,q.chunk=_pe,q.compact=Npe,q.concat=Gpe,q.cond=uve,q.conforms=cve,q.constant=vI,q.countBy=zfe,q.create=nme,q.curry=Mz,q.curryRight=Fz,q.debounce=Iz,q.defaults=sme,q.defaultsDeep=ome,q.defer=gge,q.delay=mge,q.difference=kpe,q.differenceBy=Vpe,q.differenceWith=Hpe,q.drop=$pe,q.dropRight=Bpe,q.dropRightWhile=Wpe,q.dropWhile=Upe,q.fill=zpe,q.filter=Kfe,q.flatMap=Xfe,q.flatMapDeep=Qfe,q.flatMapDepth=Zfe,q.flatten=wz,q.flattenDeep=jpe,q.flattenDepth=Kpe,q.flip=vge,q.flow=hve,q.flowRight=pve,q.fromPairs=Ype,q.functions=pme,q.functionsIn=fme,q.groupBy=Jfe,q.initial=Xpe,q.intersection=Qpe,q.intersectionBy=Zpe,q.intersectionWith=Jpe,q.invert=mme,q.invertBy=vme,q.invokeMap=tge,q.iteratee=CI,q.keyBy=ige,q.keys=cn,q.keysIn=Hs,q.map=YR,q.mapKeys=yme,q.mapValues=Sme,q.matches=fve,q.matchesProperty=gve,q.memoize=XR,q.merge=wme,q.mergeWith=Wz,q.method=mve,q.methodOf=vve,q.mixin=yI,q.negate=QR,q.nthArg=yve,q.omit=Eme,q.omitBy=bme,q.once=Cge,q.orderBy=rge,q.over=Sve,q.overArgs=yge,q.overEvery=wve,q.overSome=Eve,q.partial=dI,q.partialRight=Lz,q.partition=nge,q.pick=Rme,q.pickBy=Uz,q.property=Qz,q.propertyOf=bve,q.pull=rfe,q.pullAll=bz,q.pullAllBy=nfe,q.pullAllWith=sfe,q.pullAt=ofe,q.range=Rve,q.rangeRight=Tve,q.rearg=Sge,q.reject=age,q.remove=afe,q.rest=wge,q.reverse=lI,q.sampleSize=uge,q.set=Dme,q.setWith=Pme,q.shuffle=cge,q.slice=lfe,q.sortBy=pge,q.sortedUniq=gfe,q.sortedUniqBy=mfe,q.split=Xme,q.spread=Ege,q.tail=vfe,q.take=Cfe,q.takeRight=yfe,q.takeRightWhile=Sfe,q.takeWhile=wfe,q.tap=Nfe,q.throttle=bge,q.thru=KR,q.toArray=Vz,q.toPairs=zz,q.toPairsIn=jz,q.toPath=Ove,q.toPlainObject=$z,q.transform=xme,q.unary=Rge,q.union=Efe,q.unionBy=bfe,q.unionWith=Rfe,q.uniq=Tfe,q.uniqBy=Dfe,q.uniqWith=Pfe,q.unset=Ame,q.unzip=uI,q.unzipWith=Rz,q.update=Ome,q.updateWith=Mme,q.values=Cg,q.valuesIn=Fme,q.without=xfe,q.words=qz,q.wrap=Tge,q.xor=Afe,q.xorBy=Ofe,q.xorWith=Mfe,q.zip=Ffe,q.zipObject=Ife,q.zipObjectDeep=Lfe,q.zipWith=_fe,q.entries=zz,q.entriesIn=jz,q.extend=Bz,q.extendWith=eT,yI(q,q),q.add=Fve,q.attempt=Xz,q.camelCase=Nme,q.capitalize=Kz,q.ceil=Ive,q.clamp=Ime,q.clone=Pge,q.cloneDeep=Age,q.cloneDeepWith=Oge,q.cloneWith=xge,q.conformsTo=Mge,q.deburr=Yz,q.defaultTo=dve,q.divide=Lve,q.endsWith=Gme,q.eq=nl,q.escape=kme,q.escapeRegExp=Vme,q.every=jfe,q.find=Yfe,q.findIndex=yz,q.findKey=ame,q.findLast=qfe,q.findLastIndex=Sz,q.findLastKey=lme,q.floor=_ve,q.forEach=Dz,q.forEachRight=Pz,q.forIn=ume,q.forInRight=cme,q.forOwn=dme,q.forOwnRight=hme,q.get=fI,q.gt=Fge,q.gte=Ige,q.has=gme,q.hasIn=gI,q.head=Ez,q.identity=$s,q.includes=ege,q.indexOf=qpe,q.inRange=Lme,q.invoke=Cme,q.isArguments=Gh,q.isArray=At,q.isArrayBuffer=Lge,q.isArrayLike=Vs,q.isArrayLikeObject=Ar,q.isBoolean=_ge,q.isBuffer=dd,q.isDate=Nge,q.isElement=Gge,q.isEmpty=kge,q.isEqual=Vge,q.isEqualWith=Hge,q.isError=hI,q.isFinite=$ge,q.isFunction=Ku,q.isInteger=_z,q.isLength=ZR,q.isMap=Nz,q.isMatch=Bge,q.isMatchWith=Wge,q.isNaN=Uge,q.isNative=zge,q.isNil=Kge,q.isNull=jge,q.isNumber=Gz,q.isObject=fr,q.isObjectLike=yr,q.isPlainObject=ZC,q.isRegExp=pI,q.isSafeInteger=Yge,q.isSet=kz,q.isString=JR,q.isSymbol=go,q.isTypedArray=vg,q.isUndefined=qge,q.isWeakMap=Xge,q.isWeakSet=Qge,q.join=efe,q.kebabCase=Hme,q.last=aa,q.lastIndexOf=tfe,q.lowerCase=$me,q.lowerFirst=Bme,q.lt=Zge,q.lte=Jge,q.max=Nve,q.maxBy=Gve,q.mean=kve,q.meanBy=Vve,q.min=Hve,q.minBy=$ve,q.stubArray=wI,q.stubFalse=EI,q.stubObject=Dve,q.stubString=Pve,q.stubTrue=xve,q.multiply=Bve,q.nth=ife,q.noConflict=Cve,q.noop=SI,q.now=qR,q.pad=Wme,q.padEnd=Ume,q.padStart=zme,q.parseInt=jme,q.random=_me,q.reduce=sge,q.reduceRight=oge,q.repeat=Kme,q.replace=Yme,q.result=Tme,q.round=Wve,q.runInContext=ge,q.sample=lge,q.size=dge,q.snakeCase=qme,q.some=hge,q.sortedIndex=ufe,q.sortedIndexBy=cfe,q.sortedIndexOf=dfe,q.sortedLastIndex=hfe,q.sortedLastIndexBy=pfe,q.sortedLastIndexOf=ffe,q.startCase=Qme,q.startsWith=Zme,q.subtract=Uve,q.sum=zve,q.sumBy=jve,q.template=Jme,q.times=Ave,q.toFinite=Yu,q.toInteger=Ft,q.toLength=Hz,q.toLower=eve,q.toNumber=la,q.toSafeInteger=eme,q.toString=mi,q.toUpper=tve,q.trim=ive,q.trimEnd=rve,q.trimStart=nve,q.truncate=sve,q.unescape=ove,q.uniqueId=Mve,q.upperCase=ave,q.upperFirst=mI,q.each=Dz,q.eachRight=Pz,q.first=Ez,yI(q,function(){var p={};return zl(q,function(v,R){Ei.call(q.prototype,R)||(p[R]=v)}),p}(),{chain:!1}),q.VERSION=r,ia(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){q[p].placeholder=q}),ia(["drop","take"],function(p,v){Ut.prototype[p]=function(R){R=R===i?1:Zr(Ft(R),0);var M=this.__filtered__&&!v?new Ut(this):this.clone();return M.__filtered__?M.__takeCount__=Bn(R,M.__takeCount__):M.__views__.push({size:Bn(R,le),type:p+(M.__dir__<0?"Right":"")}),M},Ut.prototype[p+"Right"]=function(R){return this.reverse()[p](R).reverse()}}),ia(["filter","map","takeWhile"],function(p,v){var R=v+1,M=R==U||R==j;Ut.prototype[p]=function(z){var Z=this.clone();return Z.__iteratees__.push({iteratee:vt(z,3),type:R}),Z.__filtered__=Z.__filtered__||M,Z}}),ia(["head","last"],function(p,v){var R="take"+(v?"Right":"");Ut.prototype[p]=function(){return this[R](1).value()[0]}}),ia(["initial","tail"],function(p,v){var R="drop"+(v?"":"Right");Ut.prototype[p]=function(){return this.__filtered__?new Ut(this):this[R](1)}}),Ut.prototype.compact=function(){return this.filter($s)},Ut.prototype.find=function(p){return this.filter(p).head()},Ut.prototype.findLast=function(p){return this.reverse().find(p)},Ut.prototype.invokeMap=Nt(function(p,v){return typeof p=="function"?new Ut(this):this.map(function(R){return jC(R,p,v)})}),Ut.prototype.reject=function(p){return this.filter(QR(vt(p)))},Ut.prototype.slice=function(p,v){p=Ft(p);var R=this;return R.__filtered__&&(p>0||v<0)?new Ut(R):(p<0?R=R.takeRight(-p):p&&(R=R.drop(p)),v!==i&&(v=Ft(v),R=v<0?R.dropRight(-v):R.take(v-p)),R)},Ut.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Ut.prototype.toArray=function(){return this.take(le)},zl(Ut.prototype,function(p,v){var R=/^(?:filter|find|map|reject)|While$/.test(v),M=/^(?:head|last)$/.test(v),z=q[M?"take"+(v=="last"?"Right":""):v],Z=M||/^find/.test(v);z&&(q.prototype[v]=function(){var ne=this.__wrapped__,ae=M?[1]:arguments,ve=ne instanceof Ut,xe=ae[0],Ae=ve||At(ne),Ne=function(Bt){var qt=z.apply(q,nd([Bt],ae));return M&&Ke?qt[0]:qt};Ae&&R&&typeof xe=="function"&&xe.length!=1&&(ve=Ae=!1);var Ke=this.__chain__,nt=!!this.__actions__.length,yt=Z&&!Ke,Lt=ve&&!nt;if(!Z&&Ae){ne=Lt?ne:new Ut(this);var St=p.apply(ne,ae);return St.__actions__.push({func:KR,args:[Ne],thisArg:i}),new na(St,Ke)}return yt&&Lt?p.apply(this,ae):(St=this.thru(Ne),yt?M?St.value()[0]:St.value():St)})}),ia(["pop","push","shift","sort","splice","unshift"],function(p){var v=yR[p],R=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",M=/^(?:pop|shift)$/.test(p);q.prototype[p]=function(){var z=arguments;if(M&&!this.__chain__){var Z=this.value();return v.apply(At(Z)?Z:[],z)}return this[R](function(ne){return v.apply(At(ne)?ne:[],z)})}}),zl(Ut.prototype,function(p,v){var R=q[v];if(R){var M=R.name+"";Ei.call(hg,M)||(hg[M]=[]),hg[M].push({name:v,func:R})}}),hg[HR(i,S).name]=[{name:"wrapper",func:i}],Ut.prototype.clone=ohe,Ut.prototype.reverse=ahe,Ut.prototype.value=lhe,q.prototype.at=Gfe,q.prototype.chain=kfe,q.prototype.commit=Vfe,q.prototype.next=Hfe,q.prototype.plant=Bfe,q.prototype.reverse=Wfe,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=Ufe,q.prototype.first=q.prototype.head,VC&&(q.prototype[VC]=$fe),q},ug=Vde();Ah?((Ah.exports=ug)._=ug,CF._=ug):An._=ug}).call(Ur)})(kA,kA.exports);var i9=kA.exports;function Umt(){T.useEffect(()=>{i()},[]);const[t,e]=T.useState([]),i=async()=>{try{const r=await fetch("https://customerrestservice-personaltraining.rahtiapp.fi/gettrainings");if(!r.ok)throw new Error("Error in fetch: "+r.statusText);const n=await r.json(),s=i9.groupBy(n,"activity"),o=Object.entries(s).map(([a,l])=>({name:a,Duration:i9.sumBy(l,"duration")}));e(o)}catch(r){console.error(r)}};return console.log(t),Y.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Y.jsx(Ist,{width:"100%",height:800,children:Y.jsxs(Wmt,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Y.jsx(lce,{strokeDasharray:"3 3"}),Y.jsx(lF,{dataKey:"name"}),Y.jsx(uF,{label:{value:"Duration (min)",angle:-90,position:"insideLeft"}}),Y.jsx(nu,{}),Y.jsx(ng,{dataKey:"Duration",fill:"#8884d8",activeBar:Y.jsx(nF,{fill:"pink",stroke:"blue"})})]})})})}function zmt(){const[t,e]=$.useState({left:!1}),i=(n,s)=>o=>{o.type==="keydown"&&(o.key==="Tab"||o.key==="Shift")||e({...t,[n]:s})},r=()=>Y.jsxs(ZV,{children:[Y.jsxs(RT,{component:CT,to:"/",children:[Y.jsx(YQ,{}),Y.jsx(TT,{primary:"Customer List"})]}),Y.jsxs(RT,{component:CT,to:"/training",children:[Y.jsx(XQ,{}),Y.jsx(TT,{primary:"Training List"})]}),Y.jsxs(RT,{component:CT,to:"/calendar",children:[Y.jsx(qQ,{}),Y.jsx(TT,{primary:"Calendar"})]}),Y.jsxs(RT,{component:CT,to:"/statistic",children:[Y.jsx(KQ,{}),Y.jsx(TT,{primary:"Statistic"})]})]});return Y.jsxs(fwe,{children:[Y.jsx(QTe,{position:"static",children:Y.jsxs(rDe,{children:[["left"].map(n=>Y.jsxs($.Fragment,{children:[Y.jsx(ab,{edge:"start",color:"inherit","aria-label":"menu",onClick:i(n,!0),children:Y.jsx(jQ,{})}),Y.jsx(fPe,{anchor:"left",open:t.left,onClose:i("left",!1),children:r()})]},n)),Y.jsx(Io,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Personal Trainer"})]})}),Y.jsxs(awe,{children:[Y.jsx(ky,{path:"/",exact:!0,Component:VUe}),Y.jsx(ky,{path:"/training",exact:!0,Component:HUe}),Y.jsx(ky,{path:"/calendar",exact:!0,Component:gtt}),Y.jsx(ky,{path:"/statistic",exact:!0,Component:Umt})]})]})}I_.createRoot(document.getElementById("root")).render(Y.jsx($.StrictMode,{children:Y.jsx(zmt,{})}));
